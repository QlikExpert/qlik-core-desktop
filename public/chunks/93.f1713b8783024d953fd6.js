/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[93],{1006:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadFromDatasource=f;t.loadComponent=p;var o=a(n(1041));var r=n(59);function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,r,a,i){try{var c=e[a](i);var s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function c(e){i(a,o,r,c,s,"next",e)}function s(e){i(a,o,r,c,s,"throw",e)}c(void 0)})}}function s(e,t){return l.apply(this,arguments)}function l(){l=c(regeneratorRuntime.mark(function e(t,o){var r;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:a.t0=t;a.next="folder"===a.t0?3:"qix-datafiles.exe"===a.t0?7:"ODBC"===a.t0?11:"OLEDB"===a.t0?15:"internet"===a.t0?19:"BDI"===a.t0?23:27;break;case 3:a.next=5;return Promise.all([n.e(16),n.e(27)]).then(n.t.bind(null,1485,7));case 5:r=a.sent;return a.abrupt("break",28);case 7:a.next=9;return Promise.all([n.e(16),n.e(27)]).then(n.t.bind(null,1486,7));case 9:r=a.sent;return a.abrupt("break",28);case 11:a.next=13;return n.e(28).then(n.t.bind(null,1487,7));case 13:r=a.sent;return a.abrupt("break",28);case 15:a.next=17;return n.e(29).then(n.t.bind(null,1490,7));case 17:r=a.sent;return a.abrupt("break",28);case 19:a.next=21;return Promise.all([n.e(16),n.e(30)]).then(n.t.bind(null,1491,7));case 21:r=a.sent;return a.abrupt("break",28);case 23:a.next=25;return Promise.all([n.e(6),n.e(5),n.e(12),n.e(8),n.e(26)]).then(n.t.bind(null,1493,7));case 25:r=a.sent;return a.abrupt("break",28);case 27:return a.abrupt("return",Promise.reject("No native connector with type: "+t));case 28:return a.abrupt("return",r[o]);case 29:case"end":return a.stop()}},e)}));return l.apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){u=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return(0,r.loadConnectorAMD)();case 2:return o.abrupt("return",new Promise(function(e,o){var r=t[n];window.requirejs([r],e,o)}));case 3:case"end":return o.stop()}},e)}));return u.apply(this,arguments)}function f(e,t){return e.isIframeCompatible&&"connectorMain"!=t?o.default.getComponent(e,t):e.isStandardConnector()?s(e.getConnectorType(),t):d(e.datasource.connectorType,t)}function p(e,t){return e.isIframeCompatible&&"connectorMain"!=t?o.default.getComponent(e.type,t):e.isStandardConnector?s(e.type,t):d(e,t)}},1041:function(e,t,n){"use strict";var o,r;!(o=[n(48),n(89),n(90),n(138),n(49),n(1202),n(1203),n(1154),n(1204),n(1205),n(1155)],r=function(e,t,n,o,r,a,i,c,s,l,d){return{getInstance:function e(t){var a=r.getFlag("CLIENT_DCAAS");var i,c,s;var l=o.locale.get();if(a){s=encodeURI((n.basePath||"/")+"api/dcaas/web/"+t.name+"/web/select-adddata.html?locale="+l);i=encodeURI((n.basePath||"/")+"api/dcaas/web/"+t.name+"/web/select-dialog.html?locale="+l);c=encodeURI((n.basePath||"/")+"api/dcaas/web/"+t.name+"/web/connect-dialog.html?locale="+l)}else{s=encodeURI((n.basePath||"/")+"customdata/64/"+t.name+"/web/standalone/select-adddata.html?locale="+l);i=encodeURI((n.basePath||"/")+"customdata/64/"+t.name+"/web/standalone/select-dialog.html?locale="+l);c=encodeURI((n.basePath||"/")+"customdata/64/"+t.name+"/web/standalone/connect-dialog.html?locale="+l)}var d={provider:t.qProvider||t.fileName,type:"custom",name:t.name,displayName:t.qDisplayName||t.displayName,isStandardConnector:false,isIframeCompatible:true,needsConnect:true,connectDialog:c,selectDialog:i,selectAddData:s};return d},getComponent:function n(o,r){return new t.Promise(function(t){"connectDialog"===r?t({showDialog:function t(n){e.getService("luiDialog").show({template:c,controller:d,input:n,closeOnOutside:false,showArrow:false})}}):"selectDialog"===r?t({showDialog:function t(n,o,i){e.getService("luiDialog").show({template:a,controller:s,input:{connectorInstance:n,serverside:i,scriptEditorProxy:o,componentName:r},closeOnOutside:false,showArrow:false})}}):"selectStep"===r&&t({template:i,controller:l})})}}}.apply(t,o),void 0!==r&&(e.exports=r))},1152:function(e,t,n){"use strict";var o,r;!(o=[n(54),n(89),n(1153),n(1289),n(117),n(994),n(294)],r=function(e,t,n,o,r,a,i){var c;function s(e){c||(c=a.createDataconnectorsModel(r.global,r.getCurrentApp(),i,true,true));return c.then(function(r){var a;var i=r.getConnectionFromModel(e.dataconnectorName);var c={};if(i&&i.connectorMain&&i.connectorMain.getRawScript){a=r.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return i.connectorMain.getRawScript(a,e).then(function(e){c.selectStatement=e;c.loadSelectStatement="";return c})}if(i&&i.connectorMain&&i.connectorMain.generateSelectScript){a=r.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return i.connectorMain.generateSelectScript(a,e).then(function(e){c.loadSelectStatement=e;return c})}if(i&&i.connectorMain&&i.connectorMain.getScriptTemplate){a=r.getConnectionServersideProxy(e.connectionInfo.type.provider,e.connectionInfo.name,e.connectionInfo);return t.when(i.connectorMain.getScriptTemplate(a,e)).then(function(e){return n.TemplateRunner.render(e).then(function(e){c.loadSelectStatement=e;return c})})}if(i&&i.connectorMain&&i.connectorMain.getBoxType){var s=i.connectorMain.getBoxType(i);return t.when(n.TemplateRunner.render(o.BoxTypesModel.GetBoxType(s).template,e)).then(function(e){c.selectStatement=e;return c})}return"script"!==e.dataconnectorName&&void 0!==o.BoxTypesModel.GetBoxType(e.boxType)?t.when(n.TemplateRunner.render(o.BoxTypesModel.GetBoxType(e.boxType).template,e)).then(function(e){c.loadSelectStatement=e;return c}):""})}function l(){c&&(c=c.then(function(e){return e.populateList()}))}function d(n,o){if("script"===n.connectionInfo.typeName||"blackbox"===n.boxType){var r=new t;r.resolve({loadSelectStatement:n.loadSelectStatement,selectStatement:n.selectStatement});return r.promise}if(n.fields&&n.fields.filter(function(e){return e.selected}).length>0){var a=e.clone(n);a.tableAlias=a.tableName;a.fields=a.fields.filter(function(e){return e.selected}).map(function(t){var n=e.clone(t);n.alias=t.name;return n});return s(a,o).then(function(e){return e})}var i=new t;i.resolve({});return i.promise}return{getLoadSelectStatement:d,forceConnectionListUpdate:l}}.apply(t,o),void 0!==r&&(e.exports=r))},1154:function(e,t){e.exports='<lui-dialog class="custom-connector-component-dialog connect-dialog">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" class="custom-connector-component-dialog-spinner" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n\n\t<div class="lui-dialog__footer">\n        <lui-button tid="cancelCustomConnection" ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n        <lui-button tid="testCustomConnection" ng-click="testConnection()" ng-disabled="iframeLoading || isTestConnectDisabled" q-translation="scripteditor.dataconnectors.testconnection"></lui-button>\n\t\t<lui-button tid="saveCustomConnection" ng-click="createConnection()" ng-disabled="iframeLoading || isConnectDisabled" ng-bind="okString"></lui-button>\n  </div>\n\n</lui-dialog>\n'},1155:function(e,t,n){"use strict";var o,r;!(o=[n(995),n(91),n(163),n(50),n(49),n(13),n(607)],r=function(e,t,n,o,r,a){var i=["$scope","input","$timeout",function(i,c,s){var l;var d=c;i.status="CANCEL";i.isConnectDisabled=true;i.iframeLoading=true;i.dialogLocation=c.datasource.getConnectDialog();i.okString=d.editMode?t.get("Common.Save"):t.get("Common.Create");function u(e){e&&i.cancel()}i.initialize=function(){var t=document.querySelector("#custom-connector-frame");o.ViewChanged.bind(u);l=e.default.connectToChild({url:i.dialogLocation,appendTo:t,methods:{processJsonRequest:function e(t){return d.serverside.sendJsonRequest.apply(this,t)},createNewConnection:function e(t){return d.serverside.createNewConnection.apply(this,t).then(function(e){return e}).catch(function(e){e.isHandled=true;throw e})},getConnection:function e(t){return d.serverside.getConnection.apply(this,t)},modifyConnection:function e(t){return d.serverside.modifyConnection.apply(this,t).catch(function(e){e.isHandled=true;throw e})},updateState:function e(t){s(function(){i.isConnectDisabled=t.isConnectDisabled;i.isTestConnectDisabled=t.isTestConnectDisabled})}}});l.promise.then(function(e){i.iframeLoading=false;e.initializeController({endpoint:JSON.stringify(d.qvxSelectedEntrypoint),editMode:d.editMode,instanceId:d.instanceId,helpUrl:n.path,useDcaas:r.getFlag("CONNECTOR_DCAAS"),dcaasHost:a.rootPath+"api/dcaas"})},function e(){})};i.$on("$destroy",function(){l&&l.destroy();o.ViewChanged.unbind(u)});i.testConnection=function(){l.promise.then(function(e){e.testConnection()})};i.createConnection=function(){l.promise.then(function(e){e.createConnection().then(function(e){if(!e.success)return;if(i.onSuccess)i.onSuccess(e).then(function(){i.status="OK";i.close()});else{i.status="OK";i.close()}})})};i.cancel=function(){i.close()};i.closingDeferred.promise.then(function(){"CANCEL"===i.status&&i.onCancel&&i.onCancel()})}];return i}.apply(t,o),void 0!==r&&(e.exports=r))},1202:function(e,t){e.exports='<lui-dialog class="custom-connector-component-dialog select-dialog">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n\t<div class="lui-dialog__footer">\n\t\t<lui-button tid="cancelGenericSelectDialog" ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n\t\t<lui-button tid="closeGenericSelectDialog" ng-click="insertScript()" ng-disabled="isInsertDisabled" q-translation="scripteditor.dataconnectors.addToScript">Insert Script</lui-button>\n  </div>\n\n</lui-dialog>\n'},1203:function(e,t){e.exports='<div class="add-data-select-frame">\n\t<qv-spinner show="iframeLoading" spinner-height="100px" spinner-width="100px" center-in-parent="true"></qv-spinner>\n\t<qv-connector-iframe location="dialogLocation" done-loading="initialize()"></qv-connector-iframe>\n</div>\n'},1204:function(e,t,n){"use strict";var o,r;!(o=[n(995),n(163),n(50),n(49),n(13),n(607)],r=function(e,t,n,o,r){var a=["$scope","input","$timeout",function(a,i,c){var s;var l=i;a.isInsertDisabled=true;a.iframeLoading=true;a.dialogLocation=i.connectorInstance.type.selectDialog;function d(e){e&&a.cancel()}a.initialize=function(){a.iframeLoading=false;n.ViewChanged.bind(d);var i=document.querySelector("#custom-connector-frame");s=e.default.connectToChild({url:a.dialogLocation,appendTo:i,methods:{processJsonRequest:function e(t){return l.serverside.sendJsonRequest.apply(this,t)},updateState:function e(t){c(function(){a.isInsertDisabled=t.isNextDisabled})}}});s.promise.then(function(e){e.initializeController({helpUrl:t.path,tableModelToEdit:void 0,datasource:JSON.stringify(l.connectorInstance),useDcaas:o.getFlag("CONNECTOR_DCAAS"),dcaasHost:r.rootPath+"api/dcaas"})},function e(){})};a.$on("$destroy",function(){s&&s.destroy();n.ViewChanged.unbind(d)});a.insertScript=function(){a.isInsertDisabled=true;s.promise.then(function(e){e.getFinalScript().then(function(e){i.scriptEditorProxy.insertCode(e,i.connectorInstance);a.close()})})};a.cancel=function(){a.close()}}];return a}.apply(t,o),void 0!==r&&(e.exports=r))},1205:function(e,t,n){"use strict";var o,r;!(o=[n(995),n(163),n(49),n(13),n(607)],r=function(e,t,n,o){var r=["$scope","input","$timeout",function(r,a,i){var c;var s=a;r.isInsertDisabled=true;r.iframeLoading=true;r.dialogLocation=a.dataconnectorInstance.type.selectAddData;r.initialize=function(){r.iframeLoading=false;var l=document.querySelector("#custom-connector-frame");c=e.default.connectToChild({url:r.dialogLocation,appendTo:l,methods:{processJsonRequest:function e(t){return s.serverside.sendJsonRequest.apply(this,t)},updateState:function e(t){i(function(){r.isInsertDisabled=t.isNextDisabled})},getTableModelByDatabasePath:function e(t,n,o){return a.dataconnectionSelectionEditor.getTableModelByDatabasePath(t,n,o)}}});c.promise.then(function(e){e.initializeController({helpUrl:t.path,tableModelToEdit:s.tableModelToEdit,datasource:JSON.stringify(s.connectorInstance),useDcaas:n.getFlag("CONNECTOR_DCAAS"),dcaasHost:o.rootPath+"api/dcaas"});a.dataconnectionSelectionEditor.setMetadataModelForConnection({});a.qvDialogContext.iframe=true;a.qvDialogContext.nextDisabled=function(){return r.isInsertDisabled};a.qvDialogContext.finishDisabled=function(){return r.isInsertDisabled};a.qvDialogContext.next=function(){return c.promise.then(function(e){var t=a.dataconnectionSelectionEditor.getTablesForConnector();return e.buildLoadModelTables(t,a.dataconnectorInstance.name).then(function(e){a.dataconnectionSelectionEditor.updateTablesForConnector(e);a.qvDialogContext.connectorNextComplete()})})};a.qvDialogContext.finish=function(){return c.promise.then(function(e){var t=a.dataconnectionSelectionEditor.getTablesForConnector();return e.buildLoadModelTables(t,a.dataconnectorInstance.name).then(function(e){a.dataconnectionSelectionEditor.updateTablesForConnector(e);a.qvDialogContext.connectorFinishComplete()})})}},function e(){})};r.close=function(){c&&c.destroy();r.destroyComponent()}}];return r}.apply(t,o),void 0!==r&&(e.exports=r))},1206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n(1207));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,o,r,a,i){try{var c=e[a](i);var s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(o,r)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function c(e){a(i,o,r,c,s,"next",e)}function s(e){a(i,o,r,c,s,"throw",e)}c(void 0)})}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||false;o.configurable=true;"value"in o&&(o.writable=true);Object.defineProperty(e,o.key,o)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var d=function(){function e(t,n){c(this,e);this.app=t;this.useDcaas=n}l(e,[{key:"getConnections",value:function e(){this.connections=[];return this.connections}},{key:"getDataSources",value:function(){var e=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:if(this.dataSources){n.next=5;break}n.next=3;return(0,o.default)(this.useDcaas);case 3:t=n.sent;this.dataSources=t;case 5:return n.abrupt("return",this.dataSources);case 6:case"end":return n.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}]);return e}();var u=d;t.default=u;e.exports=t.default},1207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=c(n(2));var r=c(n(13));var a=c(n(1208));var i=c(n(494));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,o,r,a,i){try{var c=e[a](i);var s=c.value}catch(e){n(e);return}c.done?t(s):Promise.resolve(s).then(o,r)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var a=e.apply(t,n);function i(e){s(a,o,r,i,c,"next",e)}function c(e){s(a,o,r,i,c,"throw",e)}i(void 0)})}}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};var o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})));o.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var f="".concat(r.default.rootPath,"api/dcaas/datasources");var p=function e(t){var n={};var o=t.map(function(e){var t=d({},e,{providerInfo:{},connectorType:{}});var o=e.provider.substr(0,e.provider.lastIndexOf("."))||e.provider;var a="".concat(r.default.rootPath,"customdata/64/").concat(o,"/web");var c="".concat(o,".root");n[c]=a;t.displayName=e.dataSourceName;t.connectorType.connectDialog="".concat(c,"/connectdialog");t.connectorType.selectDialog="".concat(c,"/selectdialog");t.connectorType.selectStep="".concat(c,"/select-step");t.connectorType.connectStep="".concat(c,"/connect-step");t.connectorType.connectorMain="".concat(c,"/connector-main");t.connectorType.isStorageProvider=false;t.connectorType.type="custom";t.connectorType.needsConnect=true;t.connectorType.provider=e.provider;t.connectorType.isStorageProvider=false;t.category="database";return new i.default(t)});window.requirejs.config.call(null,{paths:n});return o};var g=function(){var e=l(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return(0,o.default)({method:"GET",url:f});case 2:t=n.sent;return n.abrupt("return",p(t.data.dataSources).concat(a.default));case 4:case"end":return n.stop()}},e)}));return function t(){return e.apply(this,arguments)}}();var m=function e(){var t=(0,o.default)({method:"GET",url:"".concat(r.default.rootPath,"api/v0/connectorregistryproxy/datasources")}).then(function(e){return e.data});return t};var v=function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return g();return m()};var h=v;t.default=h;e.exports=t.default},1208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n(494));function r(e){return e&&e.__esModule?e:{default:e}}var a=[{dataSourceId:"scripteditor.flatfilechooser.files.all",id:"scripteditor.flatfilechooser.files.all",dataSourceName:"scripteditor.dataconnectors.filedirectory",displayName:"scripteditor.dataconnectors.filedirectory",category:"file",provider:"folder",connectorType:{provider:"folder",isStorageProvider:false,type:"folder",displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true}},{dataSourceId:"ODBC",dataSourceName:"scripteditor.dataconnectors.ODBC",displayName:"scripteditor.dataconnectors.ODBC",category:"database",provider:"ODBC",connectorType:{provider:"ODBC",isStorageProvider:false,type:"ODBC",displayName:"scripteditor.dataconnectors.ODBC",connectDialog:"scripteditor.views/odbcconnectdialog/odbcconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-odbc-connector/connector-main",needsConnect:true,isStandardConnector:true}},{dataSourceId:"OLEDB",dataSourceName:"scripteditor.dataconnectors.OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",category:"database",connectorType:{provider:"OLEDB",isStorageProvider:false,type:"OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",connectDialog:"scripteditor.views/oledbconnectdialog/oledbconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-oledb-connector/connector-main",needsConnect:true,isStandardConnector:true}},{dataSourceId:"internet",dataSourceName:"internet",displayName:"internet",category:"web",connectorType:{provider:"internet",isStorageProvider:false,type:"internet",displayName:"scripteditor.dataconnectors.webfile",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectDialog:"scripteditor.views/webfilechooser/webfilechooser",connectorMain:"assets/hldm/data-connectors/native-webfile-connector/connector-main",needsConnect:false,isStandardConnector:true}},{dataSourceId:"BDI",dataSourceName:"BDI",displayName:"QABDI",category:"database",connectorType:{provider:"BDI.exe",isStorageProvider:false,type:"BDI",displayName:"QABDI",selectDialog:"assets/hldm/data-connectors/bdi/bdi-select-dialog",connectDialog:"assets/hldm/data-connectors/bdi/bdi-connect-dialog",connectorMain:"assets/hldm/data-connectors/bdi/connector-main",needsConnect:true,isStandardConnector:true}}].map(function(e){return new o.default(e)});var i=a;t.default=i;e.exports=t.default},1209:function(e,t){e.exports='<div class="qv-modal-container qui-modalbackground" qva-outside-ignore-for="allOutside" ng-style="containerStyle">\n\t<div class="qui-delayedModal" qv-global-escape="onEscape()">\n\t\t<header class="dm-header">{{ translatedHeader }}</header>\n\t\t<main class="dm-main">\n\t\t\t<p>{{ translatedContent }}</p>\n\t\t\t<span ng-if="options.moreContent">\n\t\t\t\t<br>\n\t\t\t\t<span q-translation="{{ options.moreContent }}"></span>\n\t\t\t</span>\n\n\t\t</main>\n\t\t<footer class="dm-footer">\n\t\t\t<lui-button x-variant="inverse" ng-if="options.showDeclineButton" qva-activate="$event.preventDefault(); onDeclineButtonClicked();" q-translation="{{ options.declineButtonTitle }}" id="declineButton" tid="2e68fc"></lui-button>\n\t\t\t<lui-button x-variant="inverse" ng-if="options.showConfirmButton" qva-activate="$event.preventDefault(); onConfirmButtonClicked();" q-translation="{{ options.confirmButtonTitle }}" id="confirmButton" tid="2e68f8" qva-focus="true"></lui-button>\n\t\t</footer>\n\t</div>\n</div>\n'},1210:function(e,t,n){"use strict";var o,r;!(o=[n(90),n(89),n(93),n(48)],r=function(e,t,n,o){var r={qInfo:{qId:"LoadModelList",qType:"LoadModelList"},qAppObjectListDef:{qType:"LoadModel"}};function a(e){for(var t in e)if("LoadModel"===e[t].qInfo.qId)return true;return false}var i;var c;function s(){if(!c){c=new t;u()}}function l(){s();return c.promise}function d(o){s();var r=new t;var a={qInfo:{qType:"LoadModel",qId:"LoadModel"}};e.extend(a,o);i?r.resolve():n.getApp().then(function(e){e.createObject(a).then(function(){r.resolve()})});return r.promise.then(function(){c.promise.then(function(){return i.setProperties(a)})})}function u(){n.getApp().then(function(e){e.getListObject(r).then(function(t){t.getLayout().then(function(t){if(a(t))e.getObject("LoadModel").then(function(e){i=e;c.resolve(e)});else{delete e._listCache["LoadModelList"];o.getService("$timeout")(u,2e3)}})})})}return{awaitGenericObject:l,setProperties:d}}.apply(t,o),void 0!==r&&(e.exports=r))},1285:function(e,t,n){var o={"./load-model-de-DE":1065,"./load-model-de-DE.json":1065,"./load-model-en-US":1066,"./load-model-en-US.json":1066,"./load-model-es-ES":1067,"./load-model-es-ES.json":1067,"./load-model-fr-FR":1068,"./load-model-fr-FR.json":1068,"./load-model-it-IT":1069,"./load-model-it-IT.json":1069,"./load-model-ja-JP":1070,"./load-model-ja-JP.json":1070,"./load-model-ko-KR":1071,"./load-model-ko-KR.json":1071,"./load-model-nl-NL":1072,"./load-model-nl-NL.json":1072,"./load-model-pl-PL":1073,"./load-model-pl-PL.json":1073,"./load-model-pt-BR":1074,"./load-model-pt-BR.json":1074,"./load-model-ru-RU":1075,"./load-model-ru-RU.json":1075,"./load-model-sv-SE":1076,"./load-model-sv-SE.json":1076,"./load-model-tr-TR":1077,"./load-model-tr-TR.json":1077,"./load-model-zh-CN":1078,"./load-model-zh-CN.json":1078,"./load-model-zh-TW":1079,"./load-model-zh-TW.json":1079,"./load-model-zz":1080,"./load-model-zz.json":1080};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return o[e]}r.keys=function e(){return Object.keys(o)};r.resolve=a;e.exports=r;r.id=1285},253:function(e,t,n){"use strict";var o,r;!(o=[n(1282),n(1040),n(1152),n(1210),n(379),n(89)],r=function(e,t,n,o,r,a){function i(e){function t(e){l.overwriteContent(e);s.forEach(function(t){t&&t(e)})}e.Invalidated.bind(function(){e.getLayout().then(t)});return e.getLayout().then(t)}function c(e){n.forceConnectionListUpdate();var t=e.tableModels.map(function(t){if(!t.data.loadSelectStatement&&!t.data.selectStatement&&"inlinedata"!==t.data.dataconnectorName)return n.getLoadSelectStatement(t.data,null).then(function(n){var o=e.getTableModelWithName(t.getTableAlias());o.data.loadSelectStatement=n&&n.loadSelectStatement;o.data.selectStatement=n&&n.selectStatement})});return a.all(t)}var s=[];var l;var d;var u;function f(e){d||(d=new a);h(e);r.isRunning().catch(function(t){d.reject(t);v(e)});return d.promise}function p(t,n){-1===s.indexOf(t)&&s.push(t);if(!u){l=e.LoadModel.CreateLoadModel(n);l.updateProperties=g;u=o.awaitGenericObject().then(function(e){return i(e).then(function(){return c(l).then(function(){return l})})});d||(d=new a);u.then(function(e){d.resolve(e)}).catch(function(e){d.reject(e)})}return d.promise}function g(e){t.QueryGenerator.checkIntegrity(e.tables,e.queries);return o.setProperties(e)}function m(){return g(e.LoadModel.CreateLoadModel({}).serialize())}function v(e){s.splice(s.indexOf(e),1)}function h(e){-1===s.indexOf(e)&&s.push(e)}return{createLoadModel:e.LoadModel.CreateLoadModel,getLoadModel:f,updateProperties:g,resetLoadModel:m,populateLoadSelectStatements:c,bindLoadModel:p,unregisterInvalidationFn:v,registerInvalidationFn:h}}.apply(t,o),void 0!==r&&(e.exports=r))},294:function(e,t,n){"use strict";var o,r;function a(e){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return a(e)}!(o=[n(89),n(110),n(48),n(495),n(117),n(118),n(143),n(91),n(13),n(163),n(199),n(113),n(1041),n(49),n(56)],r=function(e,t,n,o,r,i,c,s,l,d,u,f,p,g){var m=t.NxLocalizedErrorCode;var v=2;var h,y={};var C;var b;var S;c.onDataReceived.then(function(e){if("NONE"!==e.userDirectory){C=e.userId;b=e.userDirectory}});var w={x:function e(){},y:""};function D(e){return e.substr(0,e.lastIndexOf("."))||e}function q(e){var t=C?" ("+b.toLowerCase()+"_"+C.toLowerCase()+")":"";return i.endsWith(e,t)?e:e+t}function T(){return C&&b?" ("+b.toLowerCase()+"_"+C.toLowerCase()+")":""}w.getUsernameSuffix=T;w.appendUsernameSuffix=q;function x(e){var t={};"CONNECT_64"===e?t.path=64:"CONNECT_32"===e&&(t.path=32);t.text=s.get("Common."+t.path+"bit");return t}function P(e){return e&&e.displayName?e.displayName:s.get("scripteditor.dataconnectors.add.error.unknownconnector")}w.showConnectorErrorMessage=function(e){var t=o.confirmAction({header:s.get("scripteditor.dataconnectors.add.error.title",[P(e)]),content:"scripteditor.dataconnectors.add.error.message",moreContent:"scripteditor.dataconnectors.add.error.suggestion",confirmButtonTitle:"Go to help",declineButtonTitle:"Common.Close",showDeclineButton:true});t.resultPromise.then(function(){window.open(d.path+"Troubleshooting_CustomConnector")})};w.hasCreatePrivileges=function(e,t){if("bdi"===t)return true;if(g.getFlag("REMOTE_CONFIG_ENABLED")){if("custom"===t)return true;if("internet"===t)return false}if(!e)return true;for(var n=0;n<e.length;n++)if(e[n].resource===t+"connection")return e[n].canCreate};w.getDataconnectorTypes=function(){if(!S){var t=[{provider:"folder",type:"folder",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main",needsConnect:false,isStandardConnector:true},{provider:"ODBC",type:"ODBC",displayName:"scripteditor.dataconnectors.ODBC",connectDialog:"scripteditor.views/odbcconnectdialog/odbcconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-odbc-connector/connector-main",needsConnect:true,isStandardConnector:true},{provider:"OLEDB",type:"OLEDB",displayName:"scripteditor.dataconnectors.OLEDB",connectDialog:"scripteditor.views/oledbconnectdialog/oledbconnectdialog",selectDialog:"scripteditor.views/odbcselectdialog/odbcselectdialog",connectorMain:"assets/hldm/data-connectors/native-oledb-connector/connector-main",needsConnect:true,isStandardConnector:true},{provider:"internet",type:"internet",displayName:"scripteditor.dataconnectors.webfile",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectDialog:"scripteditor.views/webfilechooser/webfilechooser",connectorMain:"assets/hldm/data-connectors/native-webfile-connector/connector-main",needsConnect:false,isStandardConnector:true},{provider:"BDI.exe",type:"BDI",displayName:"QABDI",selectDialog:"assets/hldm/data-connectors/bdi/bdi-select-dialog",connectDialog:"assets/hldm/data-connectors/bdi/bdi-connect-dialog",connectorMain:"assets/hldm/data-connectors/bdi/connector-main",needsConnect:true,isStandardConnector:true}];var n;n=u.NOCONNECTOR?e.when({qConnectors:[]}):r.global.getCustomConnectors();S=n.then(function(e){var n=e.qConnectors||e.data.connectors;var o=n.map(function(e){var t;var n,o={};var r={"QvWebConnectorPackage.exe":"IFRAME_CONNECTOR_QWC","QvRestConnector.exe":"IFRAME_CONNECTOR_REST"};if(f[r[e.qProvider]]){e.name=D(e.qProvider);t=p.getInstance(e);t.architecture=x(e.machineMode);n=t.name+".webroot";o[n]=l.rootPath+"customdata/64/"+t.name+"/web";window.requirejs.config.call(null,{paths:o});t.connectorMain=n+"/connector-main";return t}t={provider:e.qProvider||e.fileName,type:"custom",name:D(e.qParent||e.fileName),displayName:e.qDisplayName||e.displayName,connectDialog:e.qConnectDialog,selectDialog:e.qSelectDialog,needsConnect:e.qNeedsConnect,architecture:x(e.qMachineMode||e.machineMode),isStandardConnector:false,isIframeCompatible:false};if(!t.connectDialog){n=t.name+".webroot";o[n]=l.rootPath+"customdata/"+t.architecture.path+"/"+t.name+"/web";window.requirejs.config.call(null,{paths:o});var a=e.streamingSupport||e.qSupportFileStreaming;t.connectDialog=n+"/connectdialog";t.selectDialog=true==a?"scripteditor.views/fileselectdialog/fileselectdialog":n+"/selectdialog";t.connectorMain=n+"/connector-main";t.needsConnect=true!=a;t.isStorageProvider=a}if("qix-datafiles.exe"===t.provider)return{provider:"qix-datafiles.exe",type:"qix-datafiles.exe",isFolderConnector:true,displayName:"scripteditor.dataconnectors.filedirectory",connectDialog:"scripteditor.views/fileconnectdialog/fileconnectdialog",selectDialog:"scripteditor.views/fileselectdialog/fileselectdialog",connectorMain:"assets/hldm/data-connectors/native-file-connector/connector-main-datafiles",needsConnect:false,isStandardConnector:true};return t});h=t.concat(o);h.forEach(function(e){y[e.provider]=e;y[e.displayName]=e});y.file=y.folder;return h})}return S};w.getDataconnectorInstances=function(e){return this.getDataconnectorTypes().then(function(){return r.currentApp.getConnections().then(function(t){var n=t.qConnections.filter(function(e){return"content-library"!==e.qType}).map(function(t){var n=null;if(y[t.qType]&&y[t.qType].type&&"custom"===y[t.qType].type){var o=0;var r=0;if("QvOdbcConnectorPackage.exe"===t.qType){o=t.qConnectionString.indexOf("driver=")+7;r=t.qConnectionString.indexOf(";",o);n=t.qConnectionString.substring(o,r)}else{var a=t.qConnectionString.indexOf("sourceType=");if(-1===a)t.qType&&(n=t.qType.toLowerCase());else{o=a+11;r=t.qConnectionString.indexOf(";",o);n=t.qConnectionString.substring(o,r)}}}else n=t.qType.toLowerCase();var i={name:t.qName,id:t.qId,type:y[t.qType],typeName:t.qType,privileges:t.qMeta.privileges,canDelete:true,sourceConnectorID:n,connectionString:t.qConnectionString};e&&e(i,t);return i});i.sortSlightlyMoreNaturallyArray(n,"name",s.language);return n})})};w.getConnection=function(e){return r.currentApp.getConnection(e)};w.getServersideConnectorProxy=function(t,o,i){return function(){var c={};c.sendJsonRequest=function(){var r=arguments[0],s=Array.prototype.slice.call(arguments,1).map(function(e){return"object"===a(e)?JSON.stringify(e):e}),l={qProvider:t,qMethod:r,qParameters:s,qCommand:"JsonRequest",qAppendConnection:i?i.name:""};var d=new e;var u=0;var f=function e(t,r){c.getApp().sendGenericCommandToCustomConnector(r).then(function(e){var n={},o=e||{};if(o)try{n=JSON.parse(o)}catch(e){window.console.log(e)}t.resolve(n)},function(a){if(u<v&&a.code===m.LOCERR_GENERIC_ABORTED){console.warn("Error loading connector, retrying: "+o);n.getService("$timeout")(function(){++u;e(t,r)},500)}else{console.warn("Failed to load connector: "+o);t.reject(a)}})};f(d,l);return d.promise};c.getApp=function(){return r.currentApp};c.getUsernameSuffix=T;c.createNewConnectionAPI=function(e,t,o,a,i,c){e=q(e);return r.currentApp.createConnection({qConnection:{qName:e,qConnectionString:t,qType:o,qUserName:a,qPassword:i,qLogOn:c}}).then(function(e){n.$rootScope.$broadcast("connectionListModified");return e})},c.removeConnection=function(e){return r.currentApp.deleteConnection(e).then(function(){n.$rootScope.$broadcast("connectionListModified")})};c.getConnections=function(){return r.currentApp.getConnections()};c.getConnection=function(e){return r.currentApp.getConnection(e).then(function(e){return e},function(){return false})};c.modifyConnection=function(e,t,o,a,i,c,s,l){t=q(t);return r.currentApp.modifyConnection({qConnectionId:e,qConnection:{qName:t,qConnectionString:o,qType:a,qUserName:c,qPassword:s,qLogOn:l},qOverrideCredentials:i}).then(function(e){n.$rootScope.$broadcast("connectionListModified");return e})};c.createNewRawConnection=function(e,t,n){return c.createNewConnectionAPI(e,t,n,"","")};c.createNewConnection=function(e,t,n,o){var r=/provider=([^;]*)/;var a=r.test(t)?t.match(r)[1]:"";return c.createNewConnectionAPI(e,t,a,n,o)};c.getErrorContent=function(e){var t=e&&!Number.isNaN(+e.code)?e.code:0;var n=c.parseErrorParams(e.parameter);return s.get("ErrorCode."+t,n)};c.parseErrorParams=function(e){if(!e)return;var t=[];var n=/{\\?"([^}]+?)(?=\\?"})/g;e.replace(n,function(e,n){t.push(n)});if(0===t.length){var o=e.split(/ErrorMsg: ?([^\n\r.]+)/g)[1];o&&t.push(o)}return t};return c}()};return w}.apply(t,o),void 0!==r&&(e.exports=r))},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=i(n(48));var r=i(n(89));var a=i(n(91));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||false;o.configurable=true;"value"in o&&(o.writable=true);Object.defineProperty(e,o.key,o)}}function l(e,t,n){t&&s(e.prototype,t);n&&s(e,n);return e}var d="".concat(n.p,"img/connector-logos/connector-generic-logo.png");var u=function(){function e(t){c(this,e);this.normalizeDatasource(t);this.isBroken=false;this.isIframeCompatible=!!t.connectorType&&t.connectorType.isIframeCompatible;this.$timeout=o.default.getService("$timeout");this.imageFetched=new r.default;this.fetched=false;this.connectorMainLoaded=false;this.initialConnectStep=void 0}l(e,[{key:"normalizeDatasource",value:function e(t){t.entrypoint?this.datasource=t:this.datasource={entrypoint:t,connectorType:t.connectorType};this.datasource.entrypoint.imagePath||(this.datasource.entrypoint.imagePath=this.getDefaultImagePath())}},{key:"isInitialized",value:function e(){return this.imageFetched.promise}},{key:"setLoadConnectorMain",value:function e(t){this.loadConnectorMainCallback=t}},{key:"loadConnectorMain",value:function e(){var t=this;if(!this.loadConnectorMainCallback)return r.default.resolve();return this.loadConnectorMainCallback(this.datasource.connectorType).then(function(e){t.initialConnectStep=e.entrypoints[0].initialConnectStep;t.datasource.connectorMain=e})}},{key:"getDataMarketView",value:function e(){return{provider:this.getProvider(),entrypoint:this.datasource.entrypoint}}},{key:"setCanCreate",value:function e(t){this.datasource.canCreate=t}},{key:"canCreate",value:function e(){return this.datasource.canCreate}},{key:"getSelectStep",value:function e(){return this.datasource.connectorMain.getInitialSelectStep()}},{key:"getConnectStep",value:function e(){return this.initialConnectStep||this.datasource.entrypoint.initialConnectStep}},{key:"getConnectDialog",value:function e(){return this.datasource.connectorType.connectDialog}},{key:"getSelectDialog",value:function e(){return this.datasource.connectorType.selectDialog}},{key:"getConnectorMain",value:function e(){return this.datasource.connectorMain}},{key:"getCredentialsDialog",value:function e(){return this.datasource.entrypoint.credentialsDialog}},{key:"getEntrypoint",value:function e(){return this.datasource.entrypoint}},{key:"getDisplayName",value:function e(){if(this.datasource.connectorType&&this.datasource.connectorType.isStandardConnector)return a.default.get(this.datasource.connectorType.displayName||this.datasource.entrypoint.name);return a.default.get(this.datasource.entrypoint.dataSourceName||this.datasource.entrypoint.name||this.datasource.connectorType&&this.datasource.connectorType.displayName)}},{key:"getId",value:function e(){return this.datasource.entrypoint.id||this.datasource.entrypoint.dataSourceId}},{key:"isStandardConnector",value:function e(){return this.datasource.connectorType.isStandardConnector}},{key:"isScriptOnly",value:function e(){return this.datasource.entrypoint.scriptOnly}},{key:"getNeedsConnect",value:function e(){return this.datasource.connectorType.needsConnect}},{key:"getCategory",value:function e(){return this.datasource.category||this.datasource.entrypoint.category}},{key:"getImagePath",value:function e(){return this.datasource.imagePath}},{key:"getProvider",value:function e(){return this.datasource.connectorType.provider||this.datasource.providerInfo.provider}},{key:"isFolderConnector",value:function e(){return this.datasource.connectorType.isFolderConnector}},{key:"getConnectorType",value:function e(){return this.datasource.connectorType.type}},{key:"isStorageProvider",value:function e(){return this.datasource.connectorType.isStorageProvider}},{key:"getDefaultImagePath",value:function e(){var t="";switch(this.getId()){case"scripteditor.flatfilechooser.files.all":t="".concat(n.p,"img/connector-logos/connector-folder-all-logo.png");break;case"scripteditor.flatfilechooser.files.excel":t="".concat(n.p,"img/connector-logos/connector-folder-excel-logo.png");break;case"scripteditor.flatfilechooser.files.qvd":t="".concat(n.p,"img/connector-logos/connector-folder-qvd-logo.png");break;case"scripteditor.flatfilechooser.files.qvx":t="".concat(n.p,"img/connector-logos/connector-folder-qvx-logo.png");break;case"scripteditor.flatfilechooser.files.delimited":t="".concat(n.p,"img/connector-logos/connector-folder-delimited-logo.png");break;case"internet":t="".concat(n.p,"img/connector-logos/connector-internet-logo.png");break;case"odbc":t="".concat(n.p,"img/connector-logos/connector-odbc-logo.png");break;case"oledb":t="".concat(n.p,"img/connector-logos/connector-oledb-logo.png");break;default:t="".concat(n.p,"img/connector-logos/connector-generic-logo.png");break}return t}},{key:"getBestImage",value:function e(){var t=this;if(this.fetched)return;this.fetched=true;if(!this.datasource.entrypoint.imagePathSquare&&!this.datasource.entrypoint.imageSquarePath&&!this.datasource.entrypoint.imagePath){this.datasource.imagePath=d;this.imageFetched.resolve();return}var n=new Image;var o;n.onload=function(){t.$timeout(function(){t.datasource.imagePath=n.src;return t.imageFetched.resolve()})};n.onerror=function(){if(o)t.$timeout(function(){t.datasource.imagePath=d;t.imageFetched.resolve()});else{o=true;n.src=t.datasource.entrypoint.imagePath}};n.src=this.datasource.entrypoint.imagePathSquare||this.datasource.entrypoint.imageSquarePath}}]);return e}();var f=u;t.default=f;e.exports=t.default},495:function(e,t,n){"use strict";var o,r;!(o=[n(11),n(1209),n(51),n(91)],r=function(e,t,n,o){var r={template:t,scope:{options:"="},controller:["$scope",function(e){e.translatedHeader=o.get(e.options.header,e.options.headerParameter);e.translatedContent=o.get(e.options.content,e.options.contentParameter);e.options.closePromise&&e.options.closePromise.then(function(){e.destroyComponent()});e.onConfirmButtonClicked=function(){e.destroyComponent();e.deferredResult.resolve(true)};function t(){e.destroyComponent();e.deferredResult.reject()}e.onEscape=t;e.onDeclineButtonClicked=t}]};function a(t){var o={showConfirmButton:true,showDeclineButton:true,confirmButtonTitle:"Common.OK",declineButtonTitle:"Common.Cancel"};e.extend(o,t);return n.show(r,{options:o})}return{confirmAction:a}}.apply(t,o),void 0!==r&&(e.exports=r))},607:function(e,t,n){"use strict";var o,r;!(o=[n(48)],r=function(e){e.directive("qvConnectorIframe",function(){return{restrict:"E",replace:true,scope:{location:"=",doneLoading:"&doneLoading"},template:'<div id="custom-connector-frame" class="custom-connector-frame"/>',controller:["$scope",function(e){e.doneLoading()}]}})}.apply(t,o),void 0!==r&&(e.exports=r))},994:function(e,t,n){"use strict";var o,r;!(o=[n(89),n(1006),n(494),n(1206),n(49)],r=function(e,t,o,r,a){var i;var c=[];var s={};var l={};var d;var u=a.getFlag("CLIENT_DCAAS");function f(a,f,p){if(i)return e.resolve(i);function g(n){var o=n.provider;if(!s[o]){var r=new e;s[o]=r.promise;-1!==c.indexOf(n.connectorMain)?r.resolve(void 0):t.loadComponent(n,"connectorMain").then(function(t){t&&t.create?e.when(t.create(p.getServersideConnectorProxy(n.provider))).then(function(e){r.resolve(e)},function(){r.resolve(void 0)}):r.resolve(void 0)},function(){c.push(n.connectorMain);r.resolve(void 0)})}return s[o]}function m(e){return g(e).then(function(t){var n={connectorType:e,connectorMain:t||{entrypoints:[{id:e.provider,scriptOnly:true}]}};return n},function(){return})}function v(e){return e.filter(function(e){return e&&(e.loadLater||e.connectorMain)})}function h(){return p.getDataconnectorTypes().then(function(t){return e.all(t.map(m))})}function y(t){if(!l[t.id]){var n=new e;l[t.id]=n.promise;if(t.type){if(u)return{connectorInstance:t,loadLater:true};g(t.type).then(function(e){var o={connectorInstance:t,connectorMain:e};n.resolve(o)},function(){n.resolve(void 0)})}else n.resolve(void 0)}return l[t.id]}function C(e){var t="";switch(e){case"scripteditor.flatfilechooser.files.all":t=n.p+"img/connector-logos/connector-folder-all-logo.png";break;case"scripteditor.flatfilechooser.files.excel":t=n.p+"img/connector-logos/connector-folder-excel-logo.png";break;case"scripteditor.flatfilechooser.files.qvd":t=n.p+"img/connector-logos/connector-folder-qvd-logo.png";break;case"scripteditor.flatfilechooser.files.qvx":t=n.p+"img/connector-logos/connector-folder-qvx-logo.png";break;case"scripteditor.flatfilechooser.files.delimited":t=n.p+"img/connector-logos/connector-folder-delimited-logo.png";break;case"internet":t=n.p+"img/connector-logos/connector-internet-logo.png";break;case"odbc":t=n.p+"img/connector-logos/connector-odbc-logo.png";break;case"oledb":t=n.p+"img/connector-logos/connector-oledb-logo.png";break;default:t=n.p+"img/connector-logos/connector-generic-logo.png";break}return t}function b(){i.selectDialogsEnabled=false;i.addButtonEnabled=false;i.connectorTypesByName={};if(!u)return h().then(function(t){i.connectors=t;var n=i.allConnectorEntrypoints;var r;if(!n){n={database:[],file:[],web:[],datamarket:[]};var a={};r={};for(var c in t){var s=t[c].connectorMain;for(var u in s.entrypoints){var f=s.entrypoints[u];f.imagePath||(f.imagePath=C(f.id));n[f.category]=n[f.category]||[];var g=new o({entrypoint:f,connectorMain:s,connectorType:t[c].connectorType,canCreate:p.hasCreatePrivileges(d,t[c].connectorType.type.toLowerCase())});g.getBestImage();n[f.category].push(g)}1===s.entrypoints.length&&s.entrypoints[0].id&&(r[t[c].connectorType.provider.toLowerCase()]=s.entrypoints[0].id.toLowerCase());a[t[c].connectorType.type]=s}}return p.getDataconnectorInstances().then(function(t){return e.all(t.map(y)).then(v).then(function(e){i.connections=e;i.allConnectorEntrypoints=n;i.entryPointProviderToIdMap=r;i.completeConnectionPromises=l;return i})})});var t=new r({},true);var n={};var a=i.allConnectorEntrypoints;if(!a){a={database:[],file:[],web:[],datamarket:[]};return t.getDataSources().then(function(t){t.forEach(function(e){e.setCanCreate(p.hasCreatePrivileges(d,e.getConnectorType()));e.getBestImage();e.setLoadConnectorMain(g);a[e.getCategory()].push(e)});return p.getDataconnectorInstances().then(function(t){return e.all(t.map(y)).then(v).then(function(e){i.connections=e;i.allConnectorEntrypoints=a;i.entryPointProviderToIdMap=n;i.completeConnectionPromises=l;return i})})})}}function S(e,t,n){return p.getServersideConnectorProxy(e,t,n)}function w(e,t){return p.getDataconnectorInstances().then(function(n){for(var o=0;o<n.length;o++){var r=t?e:p.appendUsernameSuffix(e);if(n[o].name.toLowerCase()===r.toLowerCase())return n[o]}return})}function D(e){for(var t in i.connections)if(i.connections[t].connectorInstance.name===e)return i.connections[t]}i={connectors:[],connections:[],completeConnectionPromises:{},allConnectorEntrypoints:void 0,populateList:b,getConnectionServersideProxy:S,getConnectionFromServer:w,getConnectionFromModel:D,getCompleteConnectionInstance:y};return f.getAppLayout().then(function(e){d=e.qLayout.create;return b().then(function(e){return e})})}return{createDataconnectorsModel:f}}.apply(t,o),void 0!==r&&(e.exports=r))}}]);