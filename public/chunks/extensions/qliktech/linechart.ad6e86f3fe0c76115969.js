/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[48],{1033:function(t,e,i){"use strict";var n,s;!(n=[i(307),i(293),i(109)],s=function(t,e,i){var n;n=t.extend("SelectionHighlightLayer",{init:function t(){this._super.apply(this,arguments);this.ranges=[];this.color=i.toRGBA("#52cc52",.2)},setRanges:function t(e){this.ranges=e},update:function t(i){var n=this.ranges.map(function(t){var n=i.getPositionOfValue(t.min);var s=i.getPositionOfValue(t.max);var a=new e(n,0,s-n,this.rect.height);a.fill=this.color;return a},this);this.renderer.stage.removeChildren();if(n.length){this.renderer.stage.addChildren(n);this.show()}else this.hide()}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1035:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(92),i(101),i(216),i(130),i(160),i(195),i(91),i(1036),i(983)],s=function(t,e,i,n,s,a,o,r,l,h){var c;t.directive("hypercubeDataItem",function(){return{restrict:"A",template:l,replace:true}});c=e.extend({init:function t(e,i,n){this._props=e;this._app=i;this._hyperCubePath=n;this.libraryTitles={};this.cachingAlternativeTitleRetriever=h.create()},setProperties:function t(e){this._props=e;this.cachingAlternativeTitleRetriever.resetTitles()},updateAlternativeItem:function t(e,n,s,r,l){var h=i.getValue(this._props,r,[]),c=i.getValue(this._props,s,[]),u=h[n.index];if(n.selected)return;n.original&&(u=i.getValue(this._props,s,[])[n.index]);u.qAttributeExpressions=a.moveById(e.data.qAttributeExpressions,u.qAttributeExpressions,a.IDMAP.COLOR_BY_EXPRESSION);var p,d,f,m;if(l)for(p=0;p<l.length;p++){m=l[p];d=i.getValue(c[e.index],m.path,[]);f=i.getValue(h[n.index],m.path,[]);d&&d.hasOwnProperty(m.property)&&f&&f.hasOwnProperty(m.property)&&(f[m.property]=d[m.property])}h.splice(n.index,1,c[e.index]);c.splice(e.index,1,u);o.colorByUpdater(this._props,"qHyperCubeDef.")},getDimensionOptions:function t(e,i,s,a,o){var r=this;return e.concat(i).filter(function(t){return t.qDef.cId===s.qDef.cId||!n.getDimensionLayout(t.qDef.cId,a,r._hyperCubePath)}).map(function(t){var n=r.cachingAlternativeTitleRetriever.getCachedDimensionTitle(t);r.cachingAlternativeTitleRetriever.getDimensionTitle(t,r._app).then(function(t){n=t});return{id:t.qDef.cId,index:-1!==e.indexOf(t)?e.indexOf(t):i.indexOf(t),original:-1!==e.indexOf(t),ref:"dimensions",selected:t.qDef.cId===s.qDef.cId,hasIcon:o,title:function t(){return n}}})},getMeasureOptions:function t(e,i,s,a,o){var r=this;return e.concat(i).filter(function(t){return t.qDef.cId===s.qDef.cId||!n.getMeasureLayout(t.qDef.cId,a,r._hyperCubePath)}).map(function(t){var n=r.cachingAlternativeTitleRetriever.getCachedMeasureTitle(t);r.cachingAlternativeTitleRetriever.getMeasureTitle(t,r._app).then(function(t){n=t});return{id:t.qDef.cId,index:-1!==e.indexOf(t)?e.indexOf(t):i.indexOf(t),original:-1!==e.indexOf(t),ref:"measures",selected:t.qDef.cId===s.qDef.cId,hasIcon:o,title:function t(){return n}}})},getTitle:function t(e,i){var n=e.qLibraryId,a=this,o=r.get(i?"Object.ErrorMessage.MissingDimension":"Object.ErrorMessage.MissingMeasure");function l(){return i?a._app.getDimensionList().then(function(t){return s.findLibraryDimension(n,t)}):a._app.getMeasureList().then(function(t){return s.findLibraryMeasure(n,t)})}if(n){if("undefined"!==typeof this.libraryTitles[n])return null===this.libraryTitles[n]?o:"string"!==typeof this.libraryTitles[n]?"":this.libraryTitles[n];this.libraryTitles[n]=l().then(function(t){if(t){a.libraryTitles[n]=t.qData.title;return a.libraryTitles[n]}a.libraryTitles[n]=null;return o});return this.libraryTitles[n]}return i?e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0]:e.qDef.qLabel||e.qDef.qDef}});return c}.apply(e,n),void 0!==s&&(t.exports=s))},1036:function(t,e){t.exports='<li class="em-item lui-list__item" qva-activate="alternativeItemClicked($event,item,alternative);">\n\t<i ng-if="alternative.hasIcon" class="em-item-icon lui-icon lui-icon--tick lui-list__aside" ng-class="{\'em-invisible\': !alternative.selected}"></i>\n\t<span class="lui-list__text lui-list__text--ellipsis" qva-direction x-dir-text="{{alternative.title()}}"  title="{{alternative.title()}}">{{alternative.title()}}&nbsp;</span>\n</li>'},1037:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){function e(t,e){var i=e.length,n,s,a,o,r;if(t){s=!t.autoMinMax&&("min"===t.minMax||"minMax"===t.minMax)&&null!==t.min&&!Number.isNaN(+t.min);a=!t.autoMinMax&&("max"===t.minMax||"minMax"===t.minMax)&&null!==t.max&&!Number.isNaN(+t.max)}o=Number.MAX_VALUE;r=-Number.MAX_VALUE;for(n=0;n<i;n++){o=Math.min(o,e[n].qMin);r=Math.max(r,e[n].qMax);if(o<=0&&r>=0)return true}o=s?t.min:o;r=a?t.max:r;return o<=0&&r>=0}var i={applyDisclaimerAttributes:function i(n,s,a,o,r){s||(s={});var l=t.extend({limitedData:false,hasNegativeOrZeroData:false,onlyNegativeOrZero:false,onlyNanData:false,onlyNullColor:false,hasDataRangeIncludingZero:false},s);t.extend(s,l);s.noDataExist=r.qHyperCube.qSize.qcy*r.qHyperCube.qSize.qcx===0;if(s.noDataExist){a.toggleClass("qv-viz-with-disclaimer",false);return s}n=n||{};n.overlay=n.overlay||false;n.supportNegative=void 0===n.supportNegative||n.supportNegative;n.supportRangeOverZero=void 0===n.supportRangeOverZero||n.supportRangeOverZero;var h=t.getValue(r,"qHyperCube.qDataPages.0.qArea.qWidth",0)&&t.getValue(r,"qHyperCube.qDataPages.0.qArea.qHeight",0);h&&true!==n.explicitLimitedData?s.limitedData=!n.paging&&r.qHyperCube.qSize.qcy>r.qHyperCube.qDataPages[0].qMatrix.length:s.limitedData=true===n.explicitLimitedData;s.hasNegativeOrZeroData=!n.supportNegative&&r.qHyperCube.qMeasureInfo.some(function(t){return t.qMin<=0});s.onlyNegativeOrZero=!n.supportNegative&&r.qHyperCube.qMeasureInfo.every(function(t){return t.qMax<=0&&t.qMax>=t.qMin})||0===r.qHyperCube.qSize.qcy;s.onlyNanData=r.qHyperCube.qMeasureInfo.every(function(t){return t.qMax<t.qMin||"NaN"===t.qMax});s.hasDataRangeIncludingZero=!n.supportRangeOverZero&&e(r.measureAxis,r.qHyperCube.qMeasureInfo,r.lineType);if(s.onlyNegativeOrZero&&n.overlay||!(s.limitedData||s.hasNegativeOrZeroData&&!n.supportNegative||s.hasDataRangeIncludingZero||s.onlyNullColor)){a.toggleClass("qv-viz-with-disclaimer",false);o.options.showDisclaimerStar=false}else{a.toggleClass("qv-viz-with-disclaimer",n.bottom);o.options.showDisclaimerStar=true}return s}};return i}.apply(e,n),void 0!==s&&(t.exports=s))},1050:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(91),i(89),i(1238),i(203),i(1129),i(1130),i(1131),i(1132),i(100),i(1133),i(1136)],s=function(t,e,i,n,s,a,o,r,l,h){var c,u=3;t.directive("qvaSimpleDataTitle",[function(){return{replace:true,template:l,restrict:"E",scope:{label:"=",locked:"=?",options:"="},link:function t(i){i.lockedTooltip=e.get("Tooltip.selections.locked")}}}]);t.directive("qvaDefaultDataTitle",[function(){return{replace:true,template:r,restrict:"E",scope:{data:"=",type:"=?",model:"=?",disabled:"=?",dock:"=?",options:"="}}}]);function p(t){this.relevantSize=this._titleFontHeight+u+(t?this._extraSizeWhenAlternatives:0)}function d(t,e){return"normal "+parseInt(t)*e+"px 'QlikView Sans'"}function f(){this._innerScope.options.parentType=this.options.parentType;var t=h.initializeService("object."+this.options.parentType);var e=t.layoutMap[this._layoutMode]||"medium";var i="full"===e?this._layoutMode:"medium";var n=t.getStyle("axis.title","fontSize");var a=d(t.scaleFontSize(n,i),this._innerScope.fontScale);this._innerScope.fontStyle.font=a;this._innerScope.fontStyle.color=t.getStyle("axis.title","color");this._titleFontHeight=s.getFontHeight(a)}c=n.extend("DataTitle",{init:function t(){var e=Array.prototype.slice.call(arguments),i=this;e.push(o);this._super.apply(this,e);this._showTitle=true;this._innerScope.fontScale=1;this._currentDrillDownLevels=[];this._innerScope.disabled=true;this._selectionsEnabled=true;this._innerScope.fontStyle={font:"12px 'QlikView Sans'"};f.call(this);this._extraSizeWhenAlternatives=10;this.drillUpRef=this._innerScope.$on("drill-up",function(t,e,n){i._currentDrillDownLevels[e]-n>0&&i.fire("drill-up",[t,e,i._currentDrillDownLevels[e]-n])})},calculateRelevantSize:function t(){this._super();f.call(this);p.call(this,this._hasAlternatives)},setShowStrategy:function t(e){this._showTitle=["all","title"].contains(e)},setDock:function t(e){this._super(e);this._innerScope.direction="right"===e?"top-to-bottom":"left"===e?"bottom-to-top":"";this._innerScope.dock=e},setType:function t(e){this._innerScope.type=e},setModel:function t(e){this._innerScope.model=e},setSelectionsEnabled:function t(e){this._selectionsEnabled=e;this._changed=true;this.invalidateProperties("dataTitle.setSelectionsEnabled")},setData:function t(e){this._super(e);if(!e)return;var n=this;var s=this._innerScope.model;if(!s||s.layout&&!!s.layout.snapshotData){n._changed=true;return i.resolve()}return a.modelHasAlternatives(this._innerScope.model,this._innerScope.type).then(function(t){n._hasAlternatives=t;n._changed=true;return n.invalidateProperties("dataTitle.setData")})},_updateProperties:function t(){this._super();if(this._changed&&this._data){var e=this._data;if(e.qHyperCube&&this._innerScope.type){e=a.getTitleDataFromHyperCube(e.qHyperCube,this._innerScope.type,this._selectionsEnabled);this._currentDrillDownLevels=e.map(function(t){return t.currentDrillDownLevels})}if(!this._innerScope)return;e.forEach(function(t){t.hasAlternatives=this._hasAlternatives},this);this._innerScope.titles=e;this._innerScope.$broadcast("datachanged");a.setWrapperStyle(this._innerScope.fontStyle,this._innerContainer,this._innerScope.direction,this._innerScope.titles)}this._changed=false},isVisible:function t(){return this._super.apply(this,arguments)&&this._showTitle},on:function t(){this._innerScope.disabled=false},off:function t(){this._innerScope.disabled=true},paint:function t(){this._innerScope.visible=true;this._innerScope.fontScale=this.chartScale;f.call(this);this._innerScope.$digest();a.setWrapperStyle(this._innerScope.fontStyle,this._innerContainer,this._innerScope.direction,this._innerScope.titles)},release:function t(){this._super();this.drillUpRef()},clear:function t(){this._super();this._innerScope.visible=false}});return c}.apply(e,n),void 0!==s&&(t.exports=s))},1051:function(t,e,i){"use strict";var n,s;!(n=[i(299)],s=function(t){var e;function i(t,e,i){var n,s,a,o=[];for(s=0;s<e.length;s++)for(n=0;n<t.length;n++){a={qType:i,qCol:e[s],qRow:t[n]};o.push(a)}return o}e=t.extend("StackedApi",{init:function t(){this._super.apply(this,arguments);this.backendStackThrottle.setMethodName("getHyperCubeStackData")},updateCache:function t(e){if(e&&e.qHyperCube&&"S"===e.qHyperCube.qMode){this.cacheCube.set(e.qHyperCube.qDataPages);this.cacheCube.setCubeSize(e.qHyperCube.qSize)}else this.cacheCube.clear();this.backendStackThrottle.clear()},getData:function t(e,i,n){var s=n||this.model.layout.qHyperCube;switch(s.qMode){case"P":return this.model.getHyperCubePivotData(this.path,e);case"S":return this._super(e,i);case"K":return i?this._super(e,i):this.backendStackThrottle.getData(e);default:return this._super(e,i)}},getReducedData:function t(e,i,n){n=void 0!==n?n:"D1";return this.model.getHyperCubeReducedData(this.path,e,i,n)},select:function t(e,n,s){switch(this.model.layout.qHyperCube.qMode){case"P":case"K":return this.model.selectPivotCells(this.path,i(e,n,s));default:return this.model.selectHyperCubeCells(this.path,e,n)}}});return e}.apply(e,n),void 0!==s&&(t.exports=s))},1052:function(t,e,i){"use strict";var n,s;!(n=[i(292),i(1253),i(1254),i(1255)],s=function(t,e,i,n){var s;s=t.extend("LineObject",{init:function t(s,a){this._super();this.data.label=s.info.label;if(a.showArea){this._areaLayer=new n;this.addChild(this._areaLayer)}this._lineLayer=new i;this.addChild(this._lineLayer);this._pointLayer=new e("circle");this.addChild(this._pointLayer)},update:function t(e){this._pointLayer.update(e);this._lineLayer.update(e);this.visible=this._pointLayer.visible||this._lineLayer.visible;if(this._areaLayer){this._areaLayer.update(e,this._lineLayer.children);this._areaLayer.visible&&(this.visible=true)}},getLinesInRange:function e(i,n,s){var a=new t;var o=this._lineLayer.getLineInRange(i,n);if(this._areaLayer){var r=this._areaLayer.getAreaFromSegments(o.children);a.addChildren([r])}a.addChildren([o]);a.addChildren(this._pointLayer.getFromRange(i,n,s));return a}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},1126:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(1127),i(180),i(1171),i(410),i(1050),i(1138)],s=function(t,e,i,n,s,a,o){var r;r=e.extend({init:function e(r,l,h,c,u){var p=t.extend(true,{components:{grid:{show:true,dock:"center",showFlag:i.prototype.ShowFlags.XSMALL,clazz:o},refLines:{clazz:n},colorLegend:{show:true,order:4,reductionOrder:1,dock:"right",relevantSize:126,showFlag:i.prototype.ShowFlags.MEDIUM},xAxis:{show:true,order:1,dock:"bottom",relevantSize:120,showFlag:i.prototype.ShowFlags.XSMALL,clazz:s},yAxis:{show:true,order:1,dock:"left",relevantSize:90,reductionOrder:2,showFlag:i.prototype.ShowFlags.XSMALL,clazz:s},yAxisTitle:{show:true,order:1.1,dock:"left",relevantSize:30,reductionOrder:1,showFlag:i.prototype.ShowFlags.SMALL,clazz:a},xAxisTitle:{show:true,order:1.1,dock:"bottom",relevantSize:30,reductionOrder:1,showFlag:i.prototype.ShowFlags.SMALL,clazz:a}}},h||{});this._super(r,l,p,c,u)},getVerticalComponents:function t(){var e=this._super();if(this._data&&this.components){if(this.components.xAxis&&this.components.xAxis.isVertical()&&this._data.xAxis){e.push({comp:this.components.xAxis,dock:this._data.xAxis.dock});this.components.xAxisTitle&&e.push({comp:this.components.xAxisTitle,dock:this._data.xAxis.dock})}if(this.components.yAxis&&this.components.yAxis.isVertical()&&this._data.yAxis){e.push({comp:this.components.yAxis,dock:this._data.yAxis.dock});this.components.yAxisTitle&&e.push({comp:this.components.yAxisTitle,dock:this._data.yAxis.dock})}}return e},_updateData:function t(e,i){this._super.apply(this,[].slice.call(arguments));this.updateDataArea(e,i);this.updateAxis(e,i);this.updateGrid(e,i);this.updateRefLines(e,i);this.updateVerticalComponentsDock()},updateDataArea:function t(e,i){var n,s;for(n in i.axes){s=i.axes[n];s.component.setDataIndices(s.dataIndices||[s.dataIndex||0]);s.component.setCurrentDataIndices(s.currentDataIndices||s.dataIndices||[s.dataIndex||0])}},setAxisDataRange:function t(e,i,n,s,a,o){var r,l;if(null!==s&&null!==a||null===s&&null===a){r=n;l=i}else if(null!==s&&s<=n){r=s-o;l=i}else if(null!==a&&a>=i){r=n;l=a+o}else{r=n;l=i}e.setDataRange(r,l);this.components.miniChart&&this.components.miniChart.components.measureAxis.setDataRange(r,l)},updateAxis:function t(e,i){var n,s=i.axes,a=this.components.miniChart,o,r;for(n in i.axes){o=s[n];o.component.setTitle(o.title);o.component.setShowStrategy(o.data.show);o.component.setLabelMode(o.data.label);o.component.setLockedInfo&&o.component.setLockedInfo(e.qHyperCube.qDimensionInfo.map(function(t){return true===t.qLocked}));if(o.component.setPlotMin&&!o.component.isDimension){r=this.getAxisOptions(o);o.component.setPlotMin(r.min);o.component.setPlotMax(r.max);o.component.setTickMultiplier(o.data.spacing);o.component.setLogScale(o.data.logarithmic);if(a&&a.components[n]){r=this.getAxisOptions(o);a.components[n].setPlotMin(r.min);a.components[n].setPlotMax(r.max)}}o.component.isVertical()?o.component.setDock("far"===o.data.dock?"right":"left"):o.component.setDock("far"===o.data.dock?"top":"bottom")}for(n in i.axisTitles){o=i.axisTitles[n];o.component.setShowStrategy(o.data.show);o.component.isVertical()?o.component.setDock("far"===o.data.dock?"right":"left"):o.component.setDock("far"===o.data.dock?"top":"bottom")}},getAxisOptions:function t(e){if(!e||!e.data)return;return e.data.autoMinMax?{min:null,max:null}:{min:["min","minMax"].contains(e.data.minMax)?Number(e.data.min):null,max:["max","minMax"].contains(e.data.minMax)?Number(e.data.max):null}},updateGrid:function t(e,i){if(!this.components.grid)return;var n,s;if(e.gridLine&&"number"===typeof e.gridLine.spacing){s=e.gridLine.auto?2:e.gridLine.spacing;for(n in i.axes)i.axes[n].component.setSpacingMode&&i.axes[n].component.setSpacingMode(s)}},updateRefLines:function t(e,i){var n,s=i.refLineLabels,a=[],o=[];for(n in s){if(!s[n].component)continue;s[n].component.setData(s[n].data);s[n].component.setAxis(s[n].axis);s[n].component.setDock(s[n].axis.getOppositeDock());o.push(s[n].axis);a.push(s[n].data)}if(i.refLines&&i.refLines.component){i.refLines.component.setAxes(o);i.refLines.component.setData(a)}}});return r}.apply(e,n),void 0!==s&&(t.exports=s))},1129:function(t,e,i){"use strict";var n,s;!(n=[i(291),i(89)],s=function(t,e){var i={hasAlternatives:a,getTitlesApproxWidth:r};function n(t,e,i){var n=[],s="dimension"===e?t.qDimensionInfo:t.qMeasureInfo,a=false,o,r,l;if(!e)return;for(l=0;l<s.length;l++){o=s[l];a=o.qGroupFallbackTitles&&o.qGroupFallbackTitles.length>1;r=a?o.qGroupFallbackTitles.slice(0,o.qGroupPos+1):[o.qFallbackTitle];n.push({labels:r,label:r[r.length-1],locked:o.qLocked&&i,isDrill:a&&i,currentDrillDownLevels:o.qGroupPos,wrapperStyle:{},index:l})}return n}function s(t,n){if(!(t&&t.getProperties))return e.resolve();var s="dimension"===n?"qDimensions":"qMeasures",a=t.getProperties().then(function(e){if(e.qExtendsId)return t.app.getObject(e.qExtendsId).then(function(t){return t.getProperties()});return e});return a.then(function(t){return i.hasAlternatives(t.qHyperCubeDef&&t.qHyperCubeDef.qLayoutExclude,s)})}function a(t,e){return t&&t.qHyperCubeDef&&t.qHyperCubeDef[e].length>0}function o(t,e,n,s){if(!e.width())return;if("top-to-bottom"===n||"bottom-to-top"===n){t.width=e.height();t.height=e.width();if("top-to-bottom"===n){t.marginTop=-t.width+t.height;t.marginLeft=t.height}else{t.marginTop=t.width+t.height;t.marginLeft=0}}else{t.width=e.width();t.height=e.height();t.marginLeft=0;t.marginTop=0}var a=s?s.map(function(t){return t.label}):[],o=i.getTitlesApproxWidth(a,t.font);if(o>t.width){t.justifyContent="flex-start";t.minWidth=70}else{t.justifyContent="center";t.minWidth="auto"}}function r(e,i){var n=0;e.forEach(function(e){"string"===typeof e&&(n+=t.getTextWidth(e,i))});return n||null}return{getTitleDataFromHyperCube:n,modelHasAlternatives:s,setWrapperStyle:o,getTitlesApproxWidth:r,hasAlternatives:a}}.apply(e,n),void 0!==s&&(t.exports=s))},1130:function(t,e){t.exports='<div ng-show="visible"\n     class="qva-chart-data-title">\n     <div class="qva-chart-data-title-rotate" ng-style="fontStyle" ng-class="direction" qva-direction x-dir-setting="{{options.direction}}">\n          <div class="qva-chart-data-title-align ellips-text">\n               <div class="qva-chart-data-title-wrapper ellips-text" ng-repeat-start="titleData in titles" ng-style="titleData.wrapperStyle" >\n                    <qva-breadcrumb-bar ng-if="titleData.isDrill" data="titleData" model="model" disabled="disabled || object.selectionsApi.active" type="type" dock="dock" column-index="$index" options="options"></qva-breadcrumb-bar>\n                    <qva-default-data-title ng-if="!titleData.isDrill" data="titleData" model="model" disabled="disabled || object.selectionsApi.active" type="type" dock="dock" options="options"></qva-default-data-title>\n               </div>\n               <span ng-repeat-end ng-if="!$last">, &nbsp;</span>\n          </div>\n\n     </div>\n</div>\n'},1131:function(t,e){t.exports='<div class="default-data-title-wrapper ellips-text">\n     <qva-simple-data-title ng-if="!data.hasAlternatives" label="data.label" locked="data.locked" options="options"></qva-simple-data-title>\n     <qva-dropdown-data-title ng-if="data.hasAlternatives" data="data" model="model" disabled="disabled" type="type" dock="dock" options="options"></qva-dropdown-data-title>\n</div>'},1132:function(t,e){t.exports='<div class="chart-data-title ellips-text" qva-direction x-dir-text="{{label}}" x-dir-setting="{{options.direction}}" >\n     <i ng-if="locked" class="lui-icon lui-icon--lock" title="{{lockedTooltip}}"></i>\n     <span class="chart-data-title-label" title="{{label}}" qva-direction x-dir-text="{{label}}" x-dir-setting="{{options.direction}}">{{label}}</span>\n</div>'},1133:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(90),i(1134),i(1135),i(400),i(376),i(1035),i(101),i(89),i(97),i(315)],s=function(t,e,i,n,s,a,o,r,l,h){var c,u;c={template:n,controller:["$scope",function(t){t.position||(t.position="right");var e=new o(t.args.effectiveProperties,t.args.model.app),i=new a(t.args.model);t.alternativeItemClicked=function(n,s,a){n.stopPropagation();e.updateAlternativeItem(s,a,t.definition.items[a.ref].ref,t.definition.items[a.ref].alternativeRef,[{path:"qDef",property:"series"}]);i.saveSoftProperties(t.args.prevEffectiveProperties,t.args.effectiveProperties);t.closePopover()}}],scope:{alignTo:"=",position:"=",args:"=",definition:"=",item:"=",type:"=",closePopover:"=",qvaOutsideIgnoreFor:"=",options:"="}};function p(t){var e={left:"right",right:"left",top:"bottom",bottom:"top"};return e[t]}t.directive("qvaDropdownDataTitle",[function(){return{replace:true,template:i,restrict:"E",scope:{model:"=",type:"=",data:"=",disabled:"=",dock:"=",options:"="},link:function i(n,a){var d=t.getService("$cacheFactory"),f=d.get("em-object");var m={},g=n.model,x=new o(null,g.app);n.closePopover=function(){if(!n.isMenuOpen)return;n.isMenuOpen=false;if(u){u.close();u=null}};n.openAlternativePopover=function(){var e=p(n.dock);if(n.disabled)return;if(n.isMenuOpen){n.closePopover();return}n.isMenuOpen=true;u=t.getService("luiPopover").show({template:c.template,controller:c.controller,input:n.popoverSettings,alignTo:a[0],dock:e,variant:"inverse",closeOnOutside:true,closeOnEscape:true,outsideIgnore:"dataTitle-"+n.$id});u.closed.then(function(){n.isMenuOpen=false})};n.refreshItems=function(){l.all({effectiveProperties:g.getEffectiveProperties(),properties:g.getProperties().then(function(t){if(t.qExtendsId)return g.app.getObject(t.qExtendsId).then(function(t){return t.getProperties()});return t}),layout:g.getLayout()}).then(function(t){if(n.destroyed)return;m.args={layout:t.layout,model:g,properties:t.properties,effectiveProperties:e.extend(true,{},t.effectiveProperties),prevEffectiveProperties:e.extend(true,{},t.effectiveProperties),cache:f};m.data=t.effectiveProperties;m.definition=s.data;m.item=n.getAlternativeItem(m);n.popoverSettings={args:m.args,item:m.item,type:m.type,definition:m.definition,closePopover:n.closePopover,qvaOutsideIgnoreFor:"dataTitle-"+n.$id,options:n.options};n.isMenuOpen&&n.closePopover()})};n.refreshItems();n.$on("datachanged",function(){n.refreshItems()});n.getAlternativeItem=function(t){var e,i,s,a,o=n.data.index,l;if("dimension"===n.type){l=t.data.qHyperCubeDef.qDimensions[o];a=x.getDimensionOptions;s="dimensions"}else{l=t.data.qHyperCubeDef.qMeasures[o];a=x.getMeasureOptions;s="measures"}if(!l)return;e=r.getValue(t.data,t.definition.items[s].alternativeRef,[]);i=r.getValue(t.data,t.definition.items[s].ref,[]);e=a.call(x,i,e,l,t.args.layout,true);return{alternatives:e,index:Number.isNaN(+n.data.index)?0:n.data.index,data:l}};h.on("end",n.closePopover);n.$on("$destroy",function(){h.off("end",n.closePopover);n.destroyed=true;n.closePopover()})}}}])}.apply(e,n),void 0!==s&&(t.exports=s))},1134:function(t,e){t.exports='<div class="qva-dropdown-data-title">\n     <div class="dropdown-data-title-wrapper" ng-class="{\'interactive\' : !disabled, \'active\': isMenuOpen}" qva-activate="openAlternativePopover()" qva-outside-ignore-for="{{\'dataTitle-\' + $id}}">\n          <qva-simple-data-title locked="data.locked" label="data.label" options="options"></qva-simple-data-title>\n          <span class="dropdown-arrow"></span>\n     </div>\n</div>'},1135:function(t,e){t.exports='<lui-popover class="qva-alternative-data-picker"\n\t\t\t\t\t  align-to="alignTo"\n\t\t\t\t\t  position="position"\n\t\t\t\t\t  collision="\'flip fit\'"\n\t\t\t\t\t  height="\'auto\'"\n\t\t\t\t\t  on-close-view="closePopover();"\n\t\t\t\t\t  qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<div class="em-section-content em-alternative-data qva-alternative-data-picker-list" qva-direction x-dir-setting="{{options.direction}}">\n\t\t<div hypercube-data-item ng-repeat="alternative in item.alternatives" item="item"></div>\n\t</div>\n</lui-popover>\n'},1136:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(109),i(1137),i(100),i(91),i(96)],s=function(t,e,i,n,s){var a={};function o(t){var i=n.initializeService("object."+(t.options.parentType||""));var s=i.getStyle("","backgroundColor");var o=i.getStyle("axis.title","color");var r=i.getStyle("axis.title.disabled","color");a.crumbColor={color:o};a.crumbButtonColor={color:r};a.crumbButtonHoverColor={color:o};a.crumbButtonLockedColor={color:o};a.crumbButtonDisabledColor={color:r};var l=e.toRGBA(s,0);var h=e.toRGBA(s,1);t.faderStyle={background:"linear-gradient(to right, "+h+", "+l+")"}}t.directive("qvaBreadcrumbBar",function(){return{template:i,restrict:"E",replace:true,scope:{data:"=",type:"=?",model:"=?",disabled:"=?",dock:"=?",columnIndex:"=",options:"="},link:function t(e,i){e.hoverIndex=-1;e.height=i.width();e.singleLabelMode=true;e.onClick=function(t,i,n){if(!e.disabled&&!n){e.$emit("drill-up",e.columnIndex,i);t.stopImmediatePropagation()}};e.drillDownTooltip=s.get("Tooltip.dimensions.drilldown");e.getCrumbStyle=function(t,e,i){return i?a.crumbButtonDisabledColor:e?{}:t?a.crumbButtonHoverColor:a.crumbButtonColor};o(e)}}})}.apply(e,n),void 0!==s&&(t.exports=s))},1137:function(t,e){t.exports='<div class="qv-breadcrumb">\n\t<div class="qv-breadcrumb-container">\n\t\t<span class="lui-icon lui-icon--drill-down" title="{{drillDownTooltip}}"></span>\n\t\t\t<span class="crumb-item" ng-repeat="label in data.labels track by $index">\n\n\t\t\t\t<div ng-style="getCrumbStyle(hoverIndex === $index, $last, disabled)"\n\t\t\t\t\t ng-mouseover="hoverIndex = $index"\n\t\t\t\t\t ng-mouseout="hoverIndex = -1"\n\t\t\t\t\t ng-class="{\'crumb-button\' : !$last, \'disabled\' : disabled}"\n\t\t\t\t\t qva-activate="onClick($event, $index, $last)">\n\n\t\t\t\t\t<div ng-if="!$last" class="chart-data-title" >\n\t\t\t\t\t\t<span qva-direction x-dir-text="{{label}}" class="chart-data-title-label" title="{{label}}">{{label}}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<qva-default-data-title ng-if="$last" data="data" model="model" disabled="disabled" type="type" direction="direction" dock="dock" options="options"></qva-default-data-title>\n\n\t\t\t\t\t<span class="lui-icon lui-icon--triangle-left" ng-if="!$last"></span>\n\t\t\t\t\t<span class="lui-icon lui-icon--triangle-right" ng-if="!$last"></span>\n\t\t\t\t</div>\n\t\t\t</span>\n\t</div>\n</div>'},1138:function(t,e,i){"use strict";var n,s;!(n=[i(180),i(203),i(100)],s=function(t,e,i){var n,s={NONE:0,SPARSE:1,NORMAL:1,DENSE:3};function a(t,e,i,n,s,a,o){var r,l,h,c;if(o){r=0;l=n;h=t;c=t}else{r=t;l=t;h=0;c=s}return{type:"line",opacity:i,strokeWidth:a,shape:{x1:r,x2:l,y1:h,y2:c},stroke:e}}function o(t,e){var i=t.ticks,n=t.minorTicks,o=i?i.length:0,r=n?n.length:0,l=t.getSpacingMode()===s.DENSE||t.isDimension,h=t.getSpacingMode()===s.SPARSE?2:1,c=e.rect.height,u=e.rect.width,p=e.style,d,f,m,g=[],x;if(t.getSpacingMode()===s.NONE||!i)return[];for(x=0;x<o;x+=1){f=i[x].position;d=i[x].value;m=i[x].opacity;x%h!==0&&0!==d||(0===d?g.push(a(f,p.zero.color,m,u,c,p.zero.width,t.isVertical())):g.push(a(f,p.major.color,m,u,c,p.major.width,t.isVertical())))}if(l&&n)for(x=0;x<r;x+=1){f=n[x].position;g.push(a(f,p.minor.color,1,u,c,p.minor.width,t.isVertical()))}return g}function r(t){return{ticks:{major:{color:t.getStyle("line.major","color")},minor:{color:t.getStyle("line.minor","color")},zero:{color:t.getStyle("line.highContrast","color")}}}}function l(){this.invalidateDisplay("Grid.setAxes")}n=t.extend("Grid",{init:function t(){this._super.apply(this,Array.prototype.slice.call(arguments));this._styleService=i.initializeService("object.grid");this._renderer=new e(this.container);this._renderer.edgeBleed={top:1,left:1,bottom:0,right:0};this._$renderAreaWrap.addClass("qv-chart-component-grid");this.renderers={gridlines:this._renderer}},afterRenderLines:function t(){},setAxes:function t(e,i){if(this._primaryHorizontalAxis!==e){this._primaryHorizontalAxis&&this._primaryHorizontalAxis.stopListen("changed",l,this);this._primaryHorizontalAxis=e;this._primaryHorizontalAxis&&this._primaryHorizontalAxis.listen("changed",l,this)}if(this._primaryVerticalAxis!==i){this._primaryVerticalAxis&&this._primaryVerticalAxis.stopListen("changed",l,this);this._primaryVerticalAxis=i;this._primaryVerticalAxis&&this._primaryVerticalAxis.listen("changed",l,this)}},hasValidData:function t(){return this._super()&&(this._primaryVerticalAxis||this._primaryHorizontalAxis)},paint:function t(e,i){this._super(e,i);var n=[];this._style=r(this._styleService);if(this._primaryVerticalAxis){this._primaryVerticalAxis.updateNow();n=o(this._primaryVerticalAxis,{rect:this.rect,style:this._style.ticks})}if(this._primaryHorizontalAxis){this._primaryHorizontalAxis.updateNow();n=n.concat(o(this._primaryHorizontalAxis,{rect:this.rect,style:this._style.ticks}))}this.afterRenderLines(n);this._renderer.shapes=n;this._renderer.render();return this},release:function t(){this._super();this._styleService=null;this._primaryHorizontalAxis&&this._primaryHorizontalAxis.stopListen("changed",null,this);this._primaryVerticalAxis&&this._primaryVerticalAxis.stopListen("changed",null,this)}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1139:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(164),i(146),i(104),i(200),i(1140),i(256),i(232),i(96)],s=function(t,e,i,n,s,a,o,r,l){var h=22,c=200,u=1e-6;function p(t){t=Math.min(Math.max(t,this._minZoomLevel),this._maxZoomLevel);this._viewportProjection.setZoomLevel(t)}function d(t,e,i,n){var a,o,r,l,h,c=new s,u=i/n;r=e.x-t.x;l=e.y-t.y;a=this._localMatrix.clone().invert().transformPoint(t);c.translate(a.x,a.y);c.scale(u,u);c.translate(-a.x,-a.y);this._localMatrix=this._localMatrix.multiply(c);h=this._localMatrix.elements;this._localMatrix.translate(r/h[0][0],l/h[1][1]);m.call(this);c.identity();o=this._globalMatrix.clone().invert().transformPoint(t);c.translate(o.x,o.y);c.scale(u,u);c.translate(-o.x,-o.y);this._globalMatrix=this._globalMatrix.multiply(c);h=this._globalMatrix.elements;this._globalMatrix.translate(r/h[0][0],l/h[1][1])}function f(t){if(!this._setTransformOrigin){var e="top left";t.style["-webkit-transform-origin"]=e;t.style["-moz-transform-origin"]=e;t.style["-o-transform-origin"]=e;t.style["-ms-transform-origin"]=e;t.style["transform-origin"]=e;this._setTransformOrigin=true}}function m(){var t=this._localMatrix.elements,e="matrix("+t[0][0]+",0,0,"+t[1][1]+","+t[0][2]+","+t[1][2]+")";this.helpFunctions.setTransform(this._$element[0],e)}function g(t,e){this.helpFunctions.onInteractionStart();x.call(this,t,e)}function x(t,e){if(this._disableZoomOnMouseWheel)return;this._disableZoomOnMouseWheel=true;var i=this,n=new s,a;setTimeout(function(){i._disableZoomOnMouseWheel=false},i._mouseWheelTimeoutPeriod);if(this._zoomPanByWebkitTransform){var o;this._zooming=true;o=this._localMatrix.clone().invert().transformPoint(t);n.translate(o.x,o.y);n.scale(e,e);n.translate(-o.x,-o.y);this._localMatrix=this._localMatrix.multiply(n);m.call(this)}else M.call(this,t,e);if(!this._zoomCancelled){n.identity();a=this._globalMatrix.clone().invert().transformPoint(t);n.translate(a.x,a.y);n.scale(e,e);n.translate(-a.x,-a.y);this._globalMatrix=this._globalMatrix.multiply(n);this._updateCallback()}this._zoomCancelled=false}function _(){this._zooming=false;this.helpFunctions.onInteractionEnd()}function y(t,e){this.helpFunctions.onInteractionStart();v.call(this,t,e)}function v(t,e){var i;if(this._zoomPanByWebkitTransform){this._panning=true;i=this._localMatrix.elements;this._localMatrix.translate(t/i[0][0],e/i[1][1]);m.call(this)}else D.call(this,t,e);i=this._globalMatrix.elements;this._globalMatrix.translate(t/i[0][0],e/i[1][1]);this._updateCallback()}function b(){this._panning=false;this.helpFunctions.onInteractionEnd()}function D(t,e){this._viewportProjection.enabledChangeEvent=false;this.moveViewport(t,e);this._viewportProjection.enabledChangeEvent=true}function M(t,e){this._viewportProjection.enabledChangeEvent=false;this.zoomOnPixel(t,e);this._viewportProjection.enabledChangeEvent=true}var A=t.extend("PanZoomController",{init:function t(c,u,p,m){var D=this;this._minZoomLevel=-3;this._maxZoomLevel=h;this._interactionStarted=false;this._zoomPanByWebkitTransform=false;this._fractionalZoomMode=true;this._defaultScale=Math.pow(2,.5);this._invDefaultScale=1/this._defaultScale;this._mouseWheelTimeoutPeriod=50;this._viewportProjection=m||new a;this._viewportProjection.setMinZoomLevel(this._minZoomLevel);this._viewportProjection.setMaxZoomLevel(this._maxZoomLevel);this._localMatrix=new s;this._$element=c;this._offset=c.offset();this._startCallback=function(){u.start&&u.start(this._viewportProjection._transformMatrix)};this._updateCallback=function(){u.update&&u.update(this._viewportProjection._transformMatrix)};this._endCallback=function(){u.end&&u.end(this._viewportProjection._transformMatrix)};this._resetCallback=function(){u.reset&&u.reset(this._viewportProjection._transformMatrix)};this._enabled=true;this._defaultBounds=this._viewportProjection.getBoundingBox();this._dataBounds=p?new n(p.x,p.y,p.width,p.height):this._defaultBounds;this.helpFunctions={setTransform:function t(e,i){e.style["-webkit-transform"]=i;e.style["-moz-transform"]=i;e.style["-o-transform"]=i;e.style["-ms-transform"]=i;e.style.transform=i},onInteractionStart:function t(){if(D._interactionStarted)return;D._startCallback();D.reset();D._interactionStarted=true},onInteractionEnd:function t(){if(D._zooming||D._panning||D._pinching||!D._interactionStarted)return;D.helpFunctions.setTransform(D._$element[0],"matrix(1,0,0,1,0,0)");D._viewportProjection.enabledChangeEvent=false;D._viewportProjection.setTransformMatrix(D._globalMatrix);D._endCallback();D._viewportProjection.enabledChangeEvent=true;D._interactionStarted=false}};var M,A,S,q,C=false,w=this._$element[0],L=false;this.container=w;f.call(this,this._$element[0]);var P=function t(n){var s=e.getMouseWheelData(n.originalEvent),a,o,r,l;a=s.x-D._offset.left;o=s.y-D._offset.top;r=new i(a,o);l=s.delta>0?D._defaultScale:D._invDefaultScale;L?x.call(D,r,l):g.call(D,r,l);L=true;null!==q&&clearTimeout(q);q=setTimeout(function(){q=null;_.call(D);L=false},250)},T=function t(e,n){if(2===n.pagePoints.length){this.pinch={start:{},current:{}};this.pinch.start.point1=n.pagePoints[0];this.pinch.start.point2=n.pagePoints[1];n.centerPoint=new i((this.pinch.start.point1.x+this.pinch.start.point2.x)/2,(this.pinch.start.point1.y+this.pinch.start.point2.y)/2);n.scale=1;A={};A.x=(this.pinch.start.point1.x+this.pinch.start.point2.x)/2-D._offset.left;A.y=(this.pinch.start.point1.y+this.pinch.start.point2.y)/2-D._offset.top;S={x:n.centerPoint.x-D._offset.left,y:n.centerPoint.y-D._offset.top};D.helpFunctions.onInteractionStart();M=n.scale;A=S}else D.onPan("start",e,n);l.preventGestures(this.gestureHandler)},k=function t(e,n){if(2===n.pagePoints.length)if(this.pinch.start.point2){n.centerPoint||(n.centerPoint=new i((this.pinch.start.point1.x+this.pinch.start.point2.x)/2,(this.pinch.start.point1.y+this.pinch.start.point2.y)/2));this.pinch.current.point1=n.pagePoints[0];this.pinch.current.point2=n.pagePoints[1];this.startDistance=this.pinch.start.point2.distanceTo(this.pinch.start.point1);this.lastDistance=this.currentDistance;this.currentDistance=this.pinch.current.point2.distanceTo(this.pinch.current.point1);this.pinchLength=Math.abs(this.startDistance-this.currentDistance);this.scale=this.currentDistance/this.startDistance;n.scale=this.scale;n.delta=this.currentDistance-this.lastDistance;n.centerPoint.x=(this.pinch.current.point1.x+this.pinch.current.point2.x)/2;n.centerPoint.y=(this.pinch.current.point1.y+this.pinch.current.point2.y)/2;S={x:n.centerPoint.x-D._offset.left,y:n.centerPoint.y-D._offset.top};D._pinching=true;if(D._zoomPanByWebkitTransform){d.call(D,A,S,n.scale,M);M=n.scale}else{if(Math.abs(n.scale-M)>.1){x.call(D,S,n.scale-M+1);M=n.scale}v.call(D,S.x-A.x,S.y-A.y)}A=S}else this.pinch.start.point2=n.pagePoints[1];else D.onPan("update",e,n);l.preventGestures(this.gestureHandler)},z=function t(e,i){D._pinching=false;this._zoomPanByWebkitTransform||(this._zooming=false);D.onPan("end",e,i)},O=e.throttle(function(t){P(t)},20);this._eventHandlers=o.extend({preventDefault:true,mousewheel:function t(e){O(e)},swipe:{start:function t(e,i){T.call(this,e,i)},update:function t(e,i){k.call(this,e,i)},end:function t(e,i){z.call(this,e,i)}},swipetwo:{start:function t(e,i){T.call(this,e,i)},update:function t(e,i){k.call(this,e,i)},end:function t(e,i){z.call(this,e,i)}},tapthree:{end:function t(){D.zoomOnDataBounds();r.preventGestures(this)}},wheelswipe:{start:function t(e){D._panX=e.pageX;D._panY=e.pageY;C=false},update:function t(e){var i,n,s,a,o;i=e.pageX;n=e.pageY;s=i-D._panX;a=n-D._panY;o=C;!C&&(Math.abs(s)>3||Math.abs(a)>3)&&(C=true);if(C){D._panX=i;D._panY=n;o?v.call(D,s,a):y.call(D,s,a)}},end:function t(){C?b.call(D):D.zoomOnDataBounds();C=false}},active:function t(){return D._enabled}})},reset:function t(){this._localMatrix.identity();this._globalMatrix=this._viewportProjection.getTransformMatrix().clone();this._zoomPanByWebkitTransform&&this.helpFunctions.setTransform(this._$element[0],"matrix(1,0,0,1,0,0)")},setOffset:function t(e){this._offset=e},navigate:function t(e,i){var n=this,s;switch(e){case"resetZoom":n.zoomOnDataBounds();break;case"zoomIn":s=n.getZoomLevel();if(void 0===s||null===s||s===n._maxZoomLevel)return;g.call(n,{x:this._$element.width()/2,y:this._$element.height()/2},n._defaultScale);_.call(n);break;case"zoomOut":s=n.getZoomLevel();if(void 0===s||null===s||s===n._minZoomLevel)return;g.call(n,{x:this._$element.width()/2,y:this._$element.height()/2},n._invDefaultScale);_.call(n);break;case"navUp":y.call(n,0,c);b.call(n);break;case"navDown":y.call(n,0,-c);b.call(n);break;case"navLeft":y.call(n,c,0);b.call(n);break;case"navRight":y.call(n,-c,0);b.call(n);break;case"jumpTo":y.call(n,i.x,i.y);b.call(n);break;case"startAt":y.call(n,i.x,i.y);break;case"moveTo":v.call(n,i.x,i.y);break;case"endAt":b.call(n);break;default:break}},onPan:function t(e,i,n){var s=this;switch(e){case"start":y.call(s,n.swipe.deltaX,n.swipe.deltaY);break;case"update":v.call(s,n.swipe.curDeltaX,n.swipe.curDeltaY);break;case"end":b.call(s);break}},on:function t(){if(this._on)return;this._on=true;if(arguments.length)throw new Error("PanZoomController.on(): arguments has been deprecated");r.addInteraction(this._eventHandlers,this._$element[0],2,["tapthree","swipe","swipetwo","wheelswipe","mousewheel"])},off:function t(){this._on&&r.removeInteraction(this._eventHandlers);this._on=false},setMaxZoomLevel:function t(e){this._maxZoomLevel=e;this._viewportProjection&&this._viewportProjection.setMaxZoomLevel(e)},setMinZoomLevel:function t(e){this._minZoomLevel=e;this._viewportProjection&&this._viewportProjection.setMinZoomLevel(e)},setCenter:function t(e){this._viewportProjection&&this._viewportProjection.setDataCenter(e)},getCenter:function t(){if(this._viewportProjection)return this._viewportProjection.getDataCenter();return null},setZoomLevel:function t(e){if(Number.isNaN(+e)||!Number.isFinite(+e))return;Math.abs(e-Math.round(e))<u&&(e=Math.round(e));p.call(this,e)},getZoomLevel:function t(){if(this._viewportProjection)return this._viewportProjection.getZoomLevel();return 0},moveViewport:function t(e,n){var s=this._viewportProjection.getSize();this.setCenter(this._viewportProjection.invProject(new i(s.x/2-e,s.y/2-n)))},zoom:function t(e){if(e>0){var i=Math.log(e)/Math.LN2;Math.abs(i-Math.round(i))<u&&(i=Math.round(i));this.setZoomLevel(this.getZoomLevel()+i)}},zoomOnPixel:function t(e,i){var n=this.getZoomLevel(),s,a;if(n<=this._minZoomLevel&&i<=1||n>=this._maxZoomLevel&&i>=1){this._zoomCancelled=true;return}s=Math.pow(2,this._minZoomLevel-n);a=Math.pow(2,this._maxZoomLevel-n);i=Math.min(Math.max(i,s),a);this._viewportProjection.zoomOnPixel(e,i)},zoomOnDataRectangle:function t(e,i){this._viewportProjection.zoomOnDataRectangle(e,i)},zoomOnViewportRectangle:function t(e,i){var n=this._viewportProjection.fromViewportRectToDataRect(e);this.zoomOnDataRectangle(n,i)},setBounds:function t(e,i,s,a){if(Number.isNaN(+e)||Number.isNaN(+i)||Number.isNaN(+s)||Number.isNaN(+a))return;this._dataBounds=new n(e,i,s,a)},setBoundsRect:function t(e){if(!e||this._dataBounds&&this._dataBounds.equal(e))return;this._dataBounds=e.clone()},zoomOnDataBounds:function t(){var e=this._dataBounds&&!this._dataBounds.hasNaN()?this._dataBounds:this._defaultBounds;if(e){this.zoomOnDataRectangle(e,false);this._resetCallback();this._viewportProjection.fire("resetZoomFinished");return true}},setFractionalZoomMode:function t(e){this._fractionalZoomMode=e;this._defaultScale=this._fractionalZoomMode?Math.pow(2,.5):2;this._invDefaultScale=1/this._defaultScale;this._mouseWheelTimeoutPeriod=this._fractionalZoomMode?50:100;this._viewportProjection&&this._viewportProjection.setFractionalZoomMode(e)},getFractionalZoomMode:function t(){return this._fractionalZoomMode},setZoomPanByWebkitTransform:function t(e){this._zoomPanByWebkitTransform=e},getZoomPanByWebkitTransform:function t(){return this._zoomPanByWebkitTransform},release:function t(){this._viewportProjection=null;this._$element=null}});Object.defineProperties(A.prototype,{enabled:{set:function t(e){this._enabled=e},get:function t(){return this._enabled}}});return A}.apply(e,n),void 0!==s&&(t.exports=s))},1140:function(t,e,i){"use strict";var n,s;!(n=[i(1047),i(146),i(104),i(1141),i(200)],s=function(t,e,i,n,s){var a,o=22,r=1e-9,l=.001,h=new e(0,0),c=Math.log(2);function u(t){if(this._originalProjectedDataCenterIsZeroPoint)return t;return new e(t.x-this._originalProjectedDataCenter.x,t.y-this._originalProjectedDataCenter.y)}function p(t){if(this._originalProjectedDataCenterIsZeroPoint)return t;return new e(t.x+this._originalProjectedDataCenter.x,t.y+this._originalProjectedDataCenter.y)}function d(t,i){var n=Math.pow(2,i+8)/this._projectedDataSize;return new e(t.x*n,t.y*n)}function f(t,i){var n=Math.pow(2,i+8)/this._projectedDataSize;return new e(t.x/n,t.y/n)}function m(){if(!this._projection||!this._projectedDataBoundingBox)return;var t,e,i,n,s;(!this._currentProjectedDataDataCenter||this._projectionChanged||this._currentDataCenterChanged)&&(this._currentProjectedDataDataCenter=void 0===this._currentDataCenter?this._originalProjectedDataCenter:this._projection.project(this._currentDataCenter));this._transformMatrixForZoomLevel.identity();this._transformMatrixForZoomLevel.translate(this._viewportSize.x/2,this._viewportSize.y/2);this._mirrorYAxis&&this._transformMatrixForZoomLevel.scale(1,-1);t=Math.pow(2,this._zoomLevel+8)/this._projectedDataSize;this._transformMatrixForZoomLevel.scale(t,t);this._transformMatrixForZoomLevel.translate(-this._originalProjectedDataCenter.x,-this._originalProjectedDataCenter.y);e=this._transformMatrixForZoomLevel.transformPoint(this._originalProjectedDataCenter);i=this._transformMatrixForZoomLevel.transformPoint(this._currentProjectedDataDataCenter);n=e.x-i.x;s=e.y-i.y;this._transformMatrix.identity();this._transformMatrix.translate(n,s);this._transformMatrix.multiply(this._transformMatrixForZoomLevel.elements);this._invTransformMatrix=this._transformMatrix.clone();this._invTransformMatrix.invert();this._projectionChanged=false;this._currentDataCenterChanged=false;this.enabledChangeEvent&&this.fire("changed")}function g(){var t,e,n,s,a,o;t={x:this._boundingBox.x,y:this._boundingBox.y};e={x:this._boundingBox.x+this._boundingBox.width,y:this._boundingBox.y+this._boundingBox.height};n=this._projection.project(t);s=this._projection.project(e);a=Math.min(n.x,s.x);o=Math.min(n.y,s.y);this._projectedDataBoundingBox=new i(a,o,Math.abs(s.x-n.x),Math.abs(s.y-n.y));this._projectedDataSize=Math.max(this._projectedDataBoundingBox.width,this._projectedDataBoundingBox.height);this._originalProjectedDataCenter=this._projectedDataBoundingBox.getCenterPoint();this._originalProjectedDataCenterIsZeroPoint=0===this._originalProjectedDataCenter.x&&0===this._originalProjectedDataCenter.y}a=t.extend("ViewportProjection",{init:function t(){this._super();this._fractionalZoomMode=true;this._viewportSize=new e(256,256);this._zoomLevel=0;this._maxZoomLevel=o;this._minZoomLevel=0;this._translation=new e(0,0);this._unitProjection=new n;this._projection=this._unitProjection;this._originalProjectedDataCenter=new e(0,0);this._boundingBox=new i(0,0,256,256);g.call(this);this._originalProjectedDataCenterIsZeroPoint=true;this._transformMatrixForZoomLevel=new s;this._transformMatrix=new s;this._invTransformMatrix=new s;this.enabledChangeEvent=true;this._mirrorYAxis=false;this.helpFunctions={translateProjectedDataCenterToZeroPoint:u,invTranslateProjectedDataCenterToZeroPoint:p,scaleProjectedDataToZoomLevel:d,invScaleProjectedDataToZoomLevel:f,updateProjectedDataBoundingBox:g}},setProjection:function t(e){if(this._projection&&e&&this._projection.getProjectionType()===e.getProjectionType())return false;this._projection=e;this._projection||(this._projection=this._unitProjection);g.call(this);this._projectionChanged=true;m.call(this);return true},getProjection:function t(){return this._projection},getUnitProjection:function t(){return this._unitProjection},setBoundingBox:function t(e){if(this._boundingBox&&this._boundingBox.equal&&this._boundingBox.equal(e))return;this._boundingBox=new i(e.x,e.y,e.width,e.height);g.call(this);m.call(this)},getBoundingBox:function t(){return this._boundingBox},setSize:function t(i){if(this._viewportSize&&this._viewportSize.equal&&this._viewportSize.equal(i))return false;this._viewportSize=new e(i.x,i.y);m.call(this);return true},getSize:function t(){return this._viewportSize},setZoomLevel:function t(e){if(Number.isNaN(+e))return false;this._fractionalZoomMode||(e=Math.round(e));e=Math.max(Math.min(e,this._maxZoomLevel),this._minZoomLevel);Math.abs(e-this._minZoomLevel)<l?e=this._minZoomLevel:Math.abs(e-this._maxZoomLevel)<l&&(e=this._maxZoomLevel);if(Math.abs(this._zoomLevel-e)<l)return false;this._zoomLevel=e;m.call(this);return true},getZoomLevel:function t(){return this._zoomLevel},setDataCenter:function t(i){if(!i)return false;if(this._currentDataCenter&&this._currentDataCenter.closeTo&&this._currentDataCenter.closeTo(i,r))return false;this._currentDataCenterChanged=true;this._currentDataCenter=new e(i.x,i.y);m.call(this);return true},getDataCenter:function t(){return this._currentDataCenter},setFractionalZoomMode:function t(e){this._fractionalZoomMode=e},getFractionalZoomMode:function t(){return this._fractionalZoomMode},project:function t(e){var i,n;i=this._projection.project(e);n=this.transform(i);return n},fromDataRectToViewportRect:function t(n){var s,a,o;s=this.project(new e(n.x,n.y));a=this.project(new e(n.x+n.width,n.y+n.height));o=new i(s.x,s.y,a.x-s.x,a.y-s.y);return o},invProject:function t(e){var i,n;i=this.invTransform(e);n=this._projection.invProject(i);return n},fromViewportRectToDataRect:function t(n){var s,a,o;s=this.invProject(new e(n.x,n.y));a=this.invProject(new e(n.x+n.width,n.y+n.height));o=new i(s.x,s.y,a.x-s.x,a.y-s.y);return o},getDataRectOfViewport:function t(){var e,n,s;e=this.invProject(h);n=this.invProject(this._viewportSize);s=new i(e.x,e.y,n.x-e.x,n.y-e.y);return s},getDataRectOfViewportIfZoomOnADataRect:function t(e){var i=this.enabledChangeEvent;this.enabledChangeEvent=false;var n=this.getZoomLevel();var s=this.getDataCenter();this.zoomOnDataRectangle(e);var a=this.getDataRectOfViewport();this.setZoomLevel(n);this.setDataCenter(s);this.enabledChangeEvent=i;return a},transform:function t(i){var n=this._transformMatrix.transformPoint(i);return new e(n.x,n.y)},invTransform:function t(i){var n=this._invTransformMatrix.transformPoint(i);return new e(n.x,n.y)},fromDataPointToPixel:function t(i,n){var s=Math.pow(2,n+7),a,o,r,l;a=this._projection.project(i);o=u.call(this,a);r=d.apply(this,[o,n]);l=new e(r.x+s,s-r.y);return l},fromPixelToDataPoint:function t(i,n){var s=Math.pow(2,n+7),a,o,r,l;l=new e(i.x-s,s-i.y);r=f.apply(this,[l,n]);o=p.call(this,r);a=this._projection.invProject(o);return a},calculateZoomLevelForDataRectangle:function t(i){if(!i)return;var n,s,a,o,r,l,h,c,u,p;n=new e(i.x,i.y);s=new e(i.x+i.width,i.y+i.height);a=this.fromDataPointToPixel(n,0);o=this.fromDataPointToPixel(s,0);r=Math.abs(a.x-o.x);l=Math.abs(a.y-o.y);h=0===r?Number.MAX_VALUE:this._viewportSize.x/r;c=0===l?Number.MAX_VALUE:this._viewportSize.y/l;u=Math.min(h,c);if(u===Number.MAX_VALUE)return 20;p=Math.log(u)/Math.LN2;return p},calculateCenterPointForDataRectangle:function t(i){if(!i)return;var n,s,a,o,r,l;n=new e(i.x,i.y);s=new e(i.x+i.width,i.y+i.height);a=this.fromDataPointToPixel(n,0);o=this.fromDataPointToPixel(s,0);r=new e((a.x+o.x)/2,(a.y+o.y)/2);l=this.fromPixelToDataPoint(r,0);return l},moveViewport:function t(i,n){this.setDataCenter(this.invProject(new e(this._viewportSize.x/2-i,this._viewportSize.y/2-n)))},zoom:function t(e){e>0&&this.setZoomLevel(this.getZoomLevel()+Math.log(e)/Math.LN2)},zoomOnPixel:function t(e,i){if(i>0){var n,s,a;n=this.invTransform(e);a=Math.log(i)/Math.LN2;this.setZoomLevel(this.getZoomLevel()+a);s=this.transform(n);this.moveViewport(e.x-s.x,e.y-s.y)}},zoomOnDataRectangle:function t(e,i){if(!e)return;var n,s;n=this.calculateZoomLevelForDataRectangle(e);this._fractionalZoomMode||(n=i?Math.round(n):Math.floor(n));this.setZoomLevel(n);s=this.calculateCenterPointForDataRectangle(e);this.setDataCenter(s)},setMaxZoomLevel:function t(e){this._maxZoomLevel=e},setMinZoomLevel:function t(e){this._minZoomLevel=e},getTransformMatrix:function t(){return this._transformMatrix},setTransformMatrix:function t(i){var n,s,a;this._invTransformMatrix=i.clone().invert();n=Math.abs(i.elements[0][0]);s=Math.log(n*this._projectedDataSize)/c-8;a=this.invProject(new e(this._viewportSize.x/2,this._viewportSize.y/2));this.setZoomLevel(s);this.setDataCenter(a)},getInvTransformMatrix:function t(){return this._invTransformMatrix}});return a}.apply(e,n),void 0!==s&&(t.exports=s))},1141:function(t,e,i){"use strict";var n,s;!(n=[i(92)],s=function(t){var e;e=t.extend("UnitProjection",{init:function t(){},getProjectionType:function t(){return"Unit"},project:function t(e){return e},invProject:function t(e){return e}});return e}.apply(e,n),void 0!==s&&(t.exports=s))},1176:function(t,e,i){"use strict";var n,s;!(n=[i(180),i(1167),i(1251),i(1252),i(1177),i(1256),i(1257),i(1033),i(100),i(89)],s=function(t,e,i,n,s,a,o,r,l,h){var c,u={LINE:"line",AREA:"area",STACKED:"stackedArea"},p={GAP:"gap",CONNECT:"connect",ZERO:"zero"};function d(t){return!!t}function f(t,e){var i=Object.keys(t);var n=i.length;var s=i.map(function(e){return t[e].points});var a=Math.max.apply(null,s.map(function(t){return t.length}));var o;for(var r=0;r<a;++r){var l=false;var h=false;for(o=0;o<n;++o){l=l||s[o][r];h=h||!s[o][r]}if(!l||!h)continue;for(o=0;o<n;++o)s[o][r]||(s[o][r]={idx:l.idx,dimValue:l.dimValue,measureIdx:l.measureIdx,aggregated:{start:0,end:0},hasLeftNeighbour:!!s[o][r-1]&&!s[o][r-1].isNaN,hasRightNeighbour:!!s[o][r+1]&&!s[o][r+1].isNaN,isNaN:!e,value:e?0:NaN,text:e?"0":"",hidePoint:true,color:null,label:""})}}function m(t){var e,i,n,s,a,o=t?t.length:0;for(e=0;e<o;e++){a=t[e];if(a&&!a.hasRightNeighbour){for(i=e+1;i<o;i++)if(t[i]&&!t[i].isNaN){a.nearestRightNeighbour=i;break}if(!a.isNaN){if(!Number.isNaN(+a.nearestRightNeighbour)){s=i-e;for(n=1;n<s;n++)if(t[e+n]){t[e+n].nearestRightNeighbour=a.nearestRightNeighbour;t[e+n].nearestLeftNeighbour=e}}e=i-1}}}}function g(t){var e,i,n,s,a,o,r,l,h,c=t?t.length:0,u=this.isDimensionContinuous;for(e=0;e<c;e++){h=t[e];if(h&&!h.hasRightNeighbour&&!h.isNaN&&!Number.isNaN(+h.nearestRightNeighbour)){i=h.nearestRightNeighbour;a=h.value;o=t[i].value;l=i-e;r=u?t[i].dimValue-h.dimValue:i-e;for(n=1;n<l;n++){s=(u?t[e+n].dimValue-h.dimValue:n)/r;t[e+n]&&(t[e+n].interpolatedValue=a*(1-s)+o*s)}}}}function x(t,e){var i,n=[],s,a,o,r,l=t?t.length:0;for(i=0;i<l;i++){s=t[i].points;Object.keys(s).forEach(function(t){var i=false;r=s[t].idx;n[r]||(n[r]={pos:0,neg:0,total:0});o=s[t];if(!o)return;a=o.isNaN?Number.isNaN(+o.interpolatedValue)?0:o.interpolatedValue:o.value;if(!Number.isNaN(+a)){if(e){0===a?o.hasLeftNeighbour&&s[t-1]?i=s[t-1].aggregated.end<0:o.hasRightNeighbour&&s[t+1]&&(i=s[t+1].aggregated.end<0):i=a<0;if(i){o.aggregated.start=n[r].neg;n[r].neg+=a;o.aggregated.end=n[r].neg}else{o.aggregated.start=n[r].pos;n[r].pos+=a;o.aggregated.end=n[r].pos}}else{o.aggregated.start=n[r].total;n[r].total+=a;n[r].pos=Math.max(n[r].pos,n[r].total);n[r].neg=Math.min(n[r].neg,n[r].total);o.aggregated.end=n[r].total}if("number"===typeof o.interpolatedValue){o.interpolatedValue=o.aggregated.end;o.isInterpolationOffset=true}}})}return{pos:Math.max.apply(null,n.filter(function(t){return!!t}).map(function(t){return t.pos})),neg:Math.min.apply(null,n.filter(function(t){return!!t}).map(function(t){return t.neg}))}}c=t.extend("LineArea",{init:function t(){this._super.apply(this,arguments);this._data=null;this._layoutMode=null;this._selectableShapes=[];this._shapes=[];this._generatedCacheItems=[];this._showDataPoints=true;this._colorMap=null;this._showDataPoints=false;this._lineType=u.LINE;this._nullMode=p.GAP;this._separateStacking=true;this._globalAlpha=1;this._dataLabelMargin=6;this._maxDataLabelMargin=12;this._dataLabelHorizontalGap=6;this._dataLabelVerticalGap=3;this._horizontalDistanceFromLine=2;this.interpolateVaryingColors=true;this._styleService=l.initializeService("object.lineChart");this._lineObjectsModel=new i;this._edgeBleed=0;this._lineLayer=new n(this.container);this.layers=[this._lineLayer];if(this.isMini){this._rangeSelectionLayer=new r(this.container);this.layers.push(this._rangeSelectionLayer)}else{this._oobLayer=new s(this.container);this.layers.push(this._oobLayer);this._labelLayer=new a(this.container);this.layers.push(this._labelLayer);this._rangeSelectionLayer=new o(this.container);this.layers.push(this._rangeSelectionLayer)}},setYMirrorMode:function t(e){this.yMirrorMode=e;this._labelLayer&&this._labelLayer.setYMirrorMode(e)},preRender:function t(){},afterPaint:function t(){return h.resolve()},setColorMap:function t(e){this._colorMap=e},getColorMap:function t(){return this._colorMap},setShowDataPoints:function t(e){this._showDataPoints=e},getShowDataPoints:function t(){return this._showDataPoints},setMajorAxis:function t(e){this._majorAxis=e;this._majorAxis.listen("changed",function(){this.invalidateDisplay()},this)},setMinorAxis:function t(e){this._minorAxis=e;this._minorAxis.listen("changed",function(){this.invalidateDisplay()},this)},setTimeAxis:function t(e){this.timeAxis=e;this.timeAxis.listen("changed",function(){this.invalidateDisplay()},this)},setContinuousAxis:function t(e){this.continuousAxis=e;this.continuousAxis.listen("changed",function(){this.invalidateDisplay()},this)},setActiveDimensionAxis:function t(e){this._activeDimAxis=e},setSecondaryMinorAxis:function t(e){this._secondaryMinorAxis=e;this._secondaryMinorAxis.listen("changed",function(){this.invalidateDisplay()},this)},setIsDimensionContinuous:function t(e){this.isDimensionContinuous=e;this._edgeBleed=this.isDimensionContinuous?5:0},setDimensionTree:function t(e){this._tree=e;this.invalidateProperties("linearea: setDimensionTree")},setLineType:function t(e){this._lineType=e},setNullMode:function t(e){this._nullMode=e},setSeparateStacking:function t(e){this._separateStacking=e},setShowDataPointLabels:function t(e){this._showDataPointLabels=e},getShowDataPointLabels:function t(){return this._showDataPointLabels},freezeZOrdering:function t(){this._zOrderFreezed=true},unFreezeZOrdering:function t(){this._zOrderFreezed=false},setColorMappings:function t(e){this._colorMappings=e},_updateSize:function t(){this.invalidateDisplay()},getCacheItems:function t(){return this._cacheItems},setCacheItems:function t(e){this._cacheItems=e},getGeneratedCacheItems:function t(){return this._generatedCacheItems||[]},setMeasureIndices:function t(e){this._measureIndices=e},getMajorAxisData:function t(){return this._majorAxisData},getMinorAxisData:function t(){return this._minorAxisData},renderRangeSelections:function t(){this._rangeSelectionLayer.update(this._activeDimAxis,this._lineLayer);return this._rangeSelectionLayer.render()},updateRangeSelection:function t(e){this._rangeSelectionLayer.setRanges(e);this.renderRangeSelections()},_updateProperties:function t(){if(!this._data||!this._tree)return;this._minorAxes=[this._minorAxis];this._secondaryMinorAxis&&this._minorAxes.push(this._secondaryMinorAxis);this._majorAxisData=y.call(this);this._minorAxisData=null;var i=[],n=this._data.qHyperCube.qDimensionInfo,s=n.length,a=this._measureIndices?this._measureIndices.length:this._data.qHyperCube.qMeasureInfo.length,o=this._data.qHyperCube.qMeasureInfo,r=this._tree,l,h=this._shapes,c=r.children.length,_,v,b,D,M=0,A=this._shapes.length,S={},q=this.measureFormatters,C,w,L=this.selectionIdentifier?this.selectionIdentifier:"dataArea";var P=this._minorAxes;var T=[];var k=[];if(this._measureIndices)k=this._measureIndices;else if(a>0&&a<20)while(k.length<a)k.push(k.slice(-1)[0]+1||0);k.forEach(function(t){T[t]=P.filter(function(e){return!e._dataIndices||e._dataIndices.indexOf(t)>=0})[0]});this._measureToAxis=T;this._measureToAxisIndex=T.map(function(t){return P.indexOf(t)});this._polysData=[];if(c&&k||k.length){r.children.forEach(function(t,a){t.id=n[0].cId+"_"+t.data.qElemNo;t.children.forEach(function(r,c){if(s>1){l=t.id+";"+n[1].cId+"_"+r.data.qElemNo;var u="X"+r.data.qElemNo;w=S[u];if(!w){S[u]={info:{label:r.data.qText},points:[],values:[],measureIdx:s>1?0:c};w=S[u]}r=r.children[0];C=q[0]}else{if(this._measureIndices&&this._measureIndices.indexOf(c)<0)return;l=t.id;w=S[c];if(!w){S[c]={info:{label:o[c].qFallbackTitle},measureIdx:c,points:[],values:[]};w=S[c]}C=q[c]}v=r?r.children[0]:void 0;if(!v)return;_=void 0!==v.data.qValue?v.data.qValue:v.data.qNum;D=Number.isNaN(+_);if(this._nullMode===p.ZERO&&D){_=0;D=false}r.chartData={value:_,isNaN:D,idx:a,measureIdx:s>1?0:c,hasLeftNeighbour:!!w.points[a-1]&&!w.points[a-1].isNaN,hasRightNeighbour:false,color:null,text:v.data.qText,label:v.data.qText?C&&("U"===C.type||Number.isNaN(+v.data.qNum))?C.formatValue(_):v.data.qText:"",rowIndex:r.data.rowIndex,dimValue:t.data.qNum,id:l,aggregated:{}};if(!r.chartData.isNaN){r.chartData.aggregated.start=0;r.chartData.aggregated.end=_;w.values.push(_)}w.points[a]=r.chartData;w.points[a-1]&&(w.points[a-1].hasRightNeighbour=!r.chartData.isNaN);r.chartData.shapeIndex=M++;A<M&&h.push(new e(NaN,NaN,NaN));r.chartData.cacheCircle=h[r.chartData.shapeIndex];b=r.parent;if(b.cacheItem){i.indexOf(b.cacheItem)<0&&i.push(b.cacheItem);r.chartData.cacheItem=b.cacheItem;b.cacheItem.addShape(L,r.chartData.cacheCircle,true);b.cacheItem.calculateTooltipPosition=true}},this)},this);var z=[];var O=a>1||s>1;var N=(this._nullMode===p.CONNECT||this.isDimensionContinuous)&&this._lineType===u.STACKED&&O;var I=this._nullMode===p.ZERO&&O&&!this.isDimensionContinuous;(N||I)&&f.call(this,S,I);Object.keys(S).forEach(function(t){(N||this._nullMode!==p.ZERO)&&m.call(this,S[t].points);N&&g.call(this,S[t].points);this.isDimensionContinuous||(S[t].points=S[t].points.filter(d));z.push(S[t])},this);this._polysData=z;if(this._zOrderFreezed){var R=this._sortedOrder;this._polysData.forEach(function(t,e){t.idx=e});this._polysData.sort(function(t,e){return R.indexOf(t.idx)-R.indexOf(e.idx)})}else{if(this._lineType===u.AREA){this._polysData.forEach(function(t,e){t.idx=e;t.values.sort(function(t,e){return e-t});t.absMedian=Math.abs(t.values[Math.floor(t.values.length/2)])});this._polysData.sort(function(t,e){return e.absMedian-t.absMedian})}else this._polysData.forEach(function(t,e){t.idx=e});this._sortedOrder=this._polysData.map(function(t){return t.idx})}if(this._lineType===u.STACKED&&(a>1||s>1)){var V=x.apply(this,[z,this._separateStacking]);this._minorAxisData={min:V.neg>=0?0:V.neg,max:V.pos<0?0:V.pos}}}this._shapes.length>M&&(this._shapes=this._shapes.slice(0,M));this.setSelectableShapes(i);this._lineLayer.updateInstances(this._polysData,{showArea:[u.AREA,u.STACKED].contains(this._lineType)})},hasValidData:function t(){return this._super()&&this._majorAxis&&this._minorAxis&&this._data&&this._tree},updateSize:function t(){this._super();this.layers.forEach(function(t){t.rect=this.rect;t.renderer.setDimensions(0,-1,this.rect.width,this.rect.height+1);t.renderer.setDimensionsToContainerRatio(this.layoutToContainerRatios.x,this.layoutToContainerRatios.y)},this);this._style=_(this._styleService,this._layoutMode)},preRelevantSizeCalculation:function t(){this.perpendicularlyRelevantSpacing={left:this._edgeBleed,right:this._edgeBleed,top:1,bottom:this._edgeBleed}},release:function t(){this.layers.forEach(function(t){t.release()});this._super();this._majorAxis&&this._majorAxis.stopListen("changed",null,this);this._minorAxis&&this._minorAxis.stopListen("changed",null,this);this._secondaryMinorAxis&&this._secondaryMinorAxis.stopListen("changed",null,this);this.timeAxis&&this.timeAxis.stopListen("changed",null,this);this.continuousAxis&&this.continuousAxis.stopListen("changed",null,this)},beforeLayerUpdates:function t(){},paint:function t(){this._majorAxis.updateNow();this._minorAxis.updateNow();this._activeDimAxis&&this._activeDimAxis.updateNow();var e={numDimensions:this._data.qHyperCube.qDimensionInfo.length,showDataPoints:this._showDataPoints&&this._layoutMode>this.ShowFlags.SPARK,nullMode:this._nullMode,globalAlpha:this._globalAlpha,majorAxis:this._majorAxis,minorAxes:this._minorAxes,numericAxis:this._activeDimAxis,isNumeric:this.isDimensionContinuous,measureToAxisIndex:this._measureToAxisIndex,axesSettings:this._minorAxes.map(this._getAxisDetails),combinedMeasuresFormatter:this.combinedMeasuresFormatter,interpolateVaryingColors:this.interpolateVaryingColors,colorMap:this._colorMap,rect:this.rect,style:this._style,markerSize:Math.min(8,this._majorAxis.getDiscreteSpacing()/2),yMirrorMode:this.yMirrorMode},i=this,n=[];this._lineObjectsModel.update(this._polysData,e);this.beforeLayerUpdates(this._lineObjectsModel.getLineObjectsSettings());this._lineLayer.renderer.edgeBleed={left:this._edgeBleed,right:this._edgeBleed,top:1,bottom:this._edgeBleed};this._lineLayer.update(this._lineObjectsModel.getLineObjectsSettings());this.preRender(this._lineLayer._lineObjects);n.push(this._lineLayer.render());if(this._oobLayer){this._oobLayer.renderer.edgeBleed={left:this._edgeBleed,right:this._edgeBleed,top:0,bottom:this._edgeBleed};this._oobLayer.update(this._lineObjectsModel.getPointsOutOfRange(),e);n.push(this._oobLayer.render())}if(this._labelLayer)if(this._layoutMode>this.ShowFlags.XSMALL&&this._showDataPointLabels&&this._showDataPoints){this._labelLayer.renderer.edgeBleed={left:this._edgeBleed,right:this._edgeBleed,top:0,bottom:this._edgeBleed};this._labelLayer.update(this._lineLayer.getLineObjects(),e);this._labelLayer.show();n.push(this._labelLayer.render())}else this._labelLayer.hide();this._rangeSelectionLayer&&n.push(this.renderRangeSelections());return h.all(n).then(function(){return i.afterPaint(e.axesSettings[0].topCutoff,e.axesSettings[0].bottomCutoff)})},clear:function t(){this._super();this.layers.forEach(function(t){t.clear()})},_getAxisDetails:function t(e){var i=e.getPlotMin(),n=e.getPlotMax(),s=n-i,a=e.getPadding(),o=a.top,r=e.rect.height-a.bottom,l=0;l=i>0?r:n<0?o:Math.ceil(e.getPositionOfValue(0)+1e-5);return{plotMin:i,plotMax:n,posMin:e.getPositionOfValue(i),posMax:e.getPositionOfValue(n),plotRange:s,topCutoff:o,bottomCutoff:r,areaStartBase:l,zeroPos:Math.floor(e.getPositionOfValue(0))-.5}}});function _(t,e){var i=t.layoutMap[e]||"medium";return{dataPoints:{color:t.getStyle("label.value","color"),font:"normal "+t.getStyle("label.value","fontSize")+" 'QlikView Sans'",size:{normal:6,selected:10}},outOfRange:{color:t.getStyle("outOfRange","color")},line:{width:"full"===i?2:1}}}function y(){if(!this._data||!this._tree)return[];var t=this._data.qHyperCube.qDimensionInfo,e=t.length,i=[],n,s=0;this._tree.children.forEach(function(a){a.id=t[0].cId+"_"+a.data.qElemNo;n={label:a.data.qText||"",cacheIndex:[],id:a.id};i.push(n);1===e&&(n.cacheIndex[0]=s++);e>1&&a.children.forEach(function(t){if(t.children[0]&&t.children[0].isBranch){-2!==t.data.qElemNo&&n.cacheIndex.push(s);s++}},this)},this);return{data:i,info:[{qApprMaxGlyphCount:this._tree.data.qApprMaxGlyphCount}],groupSize:null}}return c}.apply(e,n),void 0!==s&&(t.exports=s))},1177:function(t,e,i){"use strict";var n,s;!(n=[i(307),i(278)],s=function(t,e){var i;function n(t,e,i,n,s){var a=[];if("left"===s){a.push({x:t,y:e+i/2});a.push({x:t,y:e-i/2});a.push({x:t-n,y:e})}else if("right"===s){a.push({x:t,y:e+i/2});a.push({x:t,y:e-i/2});a.push({x:t+n,y:e})}else if("up"===s){a.push({x:t-i/2,y:e});a.push({x:t+i/2,y:e});a.push({x:t,y:e-n})}else if("down"===s){a.push({x:t-i/2,y:e});a.push({x:t+i/2,y:e});a.push({x:t,y:e+n})}return a}i=t.extend("OutOfBoundsLayer",{init:function t(e){this._super(e,{name:"out-of-bounds-layer"});this._markerSize=8},update:function t(i,s){var a=this.renderer.stage,o=a.children,r=s.markerSize||this._markerSize,l,h,c,u,p,d,f=i?i.length:0;for(d=0;d<f;d++){l=o[d];h=i[d];u=h;h.data&&(u=h.data);p=s.axesSettings[s.measureToAxisIndex[u.measureIdx]];c=n(u.x,u.outOfRangeUp?p.topCutoff+r:p.bottomCutoff-r,r,r,u.outOfRangeUp?"up":"down");if(l)l.set(c);else{l=new e(c);a.addChild(l)}l.fill=s.style.outOfRange.color;l.opacity=u.selected?1:s.globalAlpha}f<o.length&&a.removeChildren(o.slice(f-o.length))}});return i}.apply(e,n),void 0!==s&&(t.exports=s))},1183:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(90),i(89),i(1237),i(180),i(1176),i(2144),i(1597),i(2145),i(1051),i(2146),i(1037),i(384),i(189),i(237),i(986)],s=function(t,e,i,n,s,a,o,r,l,h,c,u,p,d,f,m){var g,x={NONE:0,ONE_DIM:1,TWO_DIM:2};function _(t){var e,i=0,n=0,a;e=this.components.measureAxis;if(!t.dataPoint.show||this._layoutMode<=s.prototype.ShowFlags.XSMALL){i=0;n=0}else if(t.dataPoint.show){a=15;if(t.dataPoint.showLabels){i=a+7;n=0}}["near","bottom"].contains(this.components.dimensionAxis.dock)?e.setPadding(i,0,n,0):e.setPadding(n,0,i,0)}function y(t,e,i){if(t===e){t>0&&(t+=i);e<0&&(e-=i)}e>=1?e=1:e>0?e=Math.pow(10,Math.floor(Math.log(e)/Math.log(10))):t<=-1?t=-1:t<0&&(t=-Math.pow(10,Math.floor(Math.log(-t)/Math.log(10))));return{max:t,min:e}}g=n.extend("LineChart",{namespace:".linechart",init:function e(i,n,s,o,r){var l,h=t.extend(true,{},s);s=t.extend(true,s||{},{components:{dataArea:{clazz:a},miniChart:{components:{dataArea:{clazz:a}}}}},h);this._super(i,n,s,o,r);if(this.components.miniChart){l=this.components.miniChart;this.components.miniChart.setBackendApi(this.backendApi);this.components.scrollArea.setMiniChart(l);l.setColorMap(this.providers.colorMap);l.components.measureAxis.setDock("left");l.components.dimensionAxis.setDock("bottom");l.components.dataArea.setMinorAxis(l.components.measureAxis);l.components.dataArea.setMajorAxis(l.components.dimensionAxis);l.setOrientation("vertical")}},initSelections:function t(){if(!this.options._disableSelections){this.selections.types.range.setComponent("x",this.components.dimensionAxis);this.selections.types.range.setComponent("y",this.components.measureAxis);this.selections.Select.bind(function(t,e){this.onSelection.Select.apply(this,[t,e,this.selections.getActiveType().activeComponent.getSelectionIndices(),"L"])}.bind(this));var e=function t(e){this.onSelection.scheduleInvalidation.call(this);this._activeDimAxis.setSelectedRanges(e);this.components.dataArea.updateRangeSelection(e);this.components.miniChart.components.dataArea.updateRangeSelection(e)};this.selections.UpdateRanges.bind(e.bind(this));this.selections.Clear.bind(e.bind(this,[]));this.selections.Deactivated.bind(e.bind(this,[]))}this._super()},_postResize:function t(){this.components.measureAxis.setNiceNumberEnabled(this._layoutMode>s.prototype.ShowFlags.XSMALL);this._super()},partialUpdate:function t(){this.components.dataArea.freezeZOrdering();return this._super.apply(this,[].slice.call(arguments))},isValid:function t(e){return this._super(e)&&!this.supressChartRendering},_paint:function t(){if(!this.isValid(this._data))return this.clear();this._super();var e,n=this.components.scrollArea,s=[];_.call(this,this._data);this.layout();if(!this.isDimensionContinuous&&this._dataForMiniChartChanged&&this.components.scrollArea.isVisible()&&this.components.scrollArea.getUseMiniChart()&&this.components.miniChart){s.push(this.components.miniChart.setData(this._data));this._dataForMiniChartChanged=false}var a=this.checkPage();if(a)s.push(a);else{for(e in this.components)s.push(this.components[e].invalidateDisplay("LineChart.paint"));n.viewState.min+n.viewState.range>n.fullState.max&&n.setOffset(n.fullState.max-n.viewState.range)}return i.all(s)},prePaint:function t(e){this._super(e);var i=false;var n=f.isContinuousChart(e);if(2===e.qHyperCube.qDimensionInfo.length)if(!n&&e.qHyperCube.qStackedDataPages[0]){var s=e.qHyperCube.qStackedDataPages[0].qData[0];s&&(i=s.qSubNodes.some(function(t){return t.qDown>0}))}else{var a=e.qHyperCube.qSize.qcy*e.qHyperCube.qMeasureInfo.length;i=a>p.maxNumberOfDataPoints}u.applyDisclaimerAttributes({title:e.qHyperCube.qDimensionInfo.length>1,bottom:true,supportRangeOverZero:!e.measureAxis.logarithmic,paging:1===e.qHyperCube.qDimensionInfo.length,explicitLimitedData:i},this.$scope.dataAttributes,this.$element,this.$scope,e);var o=e.qHyperCube.qDimensionInfo[0];this.$scope.dataAttributes.onlyNanDim=!!n&&!!o&&(o.qMax<o.qMin||"NaN"===o.qMax);this.supressChartRendering=this.$scope.dataAttributes.noDataExist||this.$scope.dataAttributes.onlyNanDim},updateData:function t(e){if(this._destroyed)return i.reject();this.setIsDimensionContinuous(f.isContinuousChart(e));this._setActiveDimensionAxis(e);this.selectionsCache.setSelectionMode(this.isDimensionContinuous?this.selectionsCache.SELECTION_MODE.VALUE:this.selectionsCache.SELECTION_MODE.VALUE|this.selectionsCache.SELECTION_MODE.ROW);return this._super(e)},_updateData:function t(e){var n=[];this._checkPage=false;this._data=e;this.isDimensionContinuous||(this._dataForMiniChartChanged=true);this._disablePagingTransitions();this.components.dataArea.unFreezeZOrdering();this.isStacked=("stackedArea"===e.lineType||"area"===e.lineType&&e.stackedArea)&&(e.qHyperCube.qDimensionInfo.length>1||e.qHyperCube.qMeasureInfo.length>1);this.components.measureAxis.isStacked=this.isStacked;!this.isDimensionContinuous&&e.qHyperCube.qDimensionInfo.length>1&&!this.isStacked?this.components.scrollArea.setUseMiniChart(false):this.components.scrollArea.setUseMiniChart(true);var s=null;this._pagingMode=x.NONE;this.components.dataArea.setSelectionIndices([0]);if(e.qHyperCube.qDimensionInfo.length>1){var a=e.qHyperCube.qDimensionInfo[1].qStateCounts.qOption+e.qHyperCube.qDimensionInfo[1].qStateCounts.qSelected;s=e.qHyperCube.qStackedDataPages&&e.qHyperCube.qStackedDataPages.length&&e.qHyperCube.qStackedDataPages[0].qData&&e.qHyperCube.qStackedDataPages[0].qData[0]?e.qHyperCube.qDimensionInfo[0].qCardinalities.qHypercubeCardinal:null;this.components.dimensionAxis.setSelectionIndices([0]);!e.qHyperCube.qDimensionInfo[1].qLocked&&a>1?this.components.dataArea.setSelectionIndices([1]):this.components.dataArea.setSelectionIndices([0]);this._pagingMode=x.ONE_DIM;this.isStacked=true}else{s=e.qHyperCube.qSize.qcy;e.qHyperCube.qSize.qcy>e.qHyperCube.qDataPages[0].qArea.qHeight&&(this._pagingMode=x.ONE_DIM)}this.components.dataArea.setIsDimensionContinuous(this.isDimensionContinuous);if(this.isDimensionContinuous)this._pagingMode=x.NONE;else{this.components.dimensionAxis.isDiscrete()||(this._pagingMode=x.NONE);this.components.dimensionAxis.setNumDiscreteUnits(s)}var o={axes:{measureAxis:{component:this.components.measureAxis,data:e.measureAxis,dataIndices:e.qHyperCube.qMeasureInfo.map(function(t,e){return e})},dimensionAxis:{component:this.components.dimensionAxis,data:e.dimensionAxis,dataIndices:e.qHyperCube.qDimensionInfo.map(function(t,e){return e})},timeAxis:{component:this.components.timeAxis,data:e.dimensionAxis},continuousAxis:{component:this.components.continuousAxis,data:e.dimensionAxis}},refLineLabels:{labels:{data:e.refLine.refLines,component:this.components.refLineLabels,axis:this.components.measureAxis}},refLines:{component:this.components.refLines},axisTitles:{dimensionAxisTitle:{component:this.components.dimensionAxisTitle,data:e.dimensionAxis},measureAxisTitle:{component:this.components.measureAxisTitle,data:e.measureAxis}}},r,l=this.components.dimensionAxisTitle,h=this.components.measureAxisTitle;n.push(this.components.dataArea.setData(e));n.push(this.components.colorLegend.setData(e));var c=this.providers.colorMap.getLegendDataProvider();c.setLegendMarker(e.dataPoint.show?["line","circle"]:["line"]);n.push(l.setData(e));n.push(h.setData(e));this._super(e,o);r=this.getSnapshotStoredChartData();var u=this.options.viewState;if(this._readStoredData&&r){this.components.dimensionAxis.setInnerOffset(r.axisInnerOffset);this.components.scrollArea.setOffset(r.scrollOffset);this.components.scrollArea.setViewRange(r.viewRange)}else if(u){this._checkPage=true;this.components.dimensionAxis.setInnerOffset(u.axisInnerOffset);this.components.scrollArea.setOffset(u.scrollOffset);this.components.scrollArea.setViewRange(u.viewRange)}else if(Number.isNaN(+e.scrollStartPos)){if(!this.isDimensionContinuous){this.components.dimensionAxis.setInnerOffset(0);this.components.scrollArea.setOffset(0)}}else this.components.scrollArea.setRelativeOffset(e.scrollStartPos);this.isDimensionContinuous||(this._checkPage=true);return i.all(n)},updateDataArea:function t(e){var i="stackedArea"===e.lineType||"area"===e.lineType&&e.stackedArea?"stackedArea":e.lineType;this._super.apply(this,[].slice.call(arguments));this.components.dataArea.setLineType(i);"byExpression"===e.color.mode?this.components.dataArea.interpolateVaryingColors=!e.color.expressionIsColor&&-1!==["sg","dg"].indexOf(e.color.measureScheme):this.components.dataArea.interpolateVaryingColors=false;if(this.components.miniChart){this.components.miniChart.components.dataArea.setLineType(i);this.components.miniChart.components.dataArea.setNullMode(e.nullMode);this.components.miniChart.components.dataArea.setSeparateStacking(e.separateStacking);this.components.miniChart.setLogScale(e.measureAxis.logarithmic)}this.components.dataArea.setShowDataPoints(e.dataPoint.show);this.components.dataArea.setNullMode(e.nullMode);this.components.dataArea.setSeparateStacking(e.separateStacking);this.components.dataArea.setShowDataPointLabels(e.dataPoint.showLabels);this.components.dataArea.updateNow(["properties"])},updateAxis:function t(i,n){this._super(i,n);var s,a,o,r,l,h,c,u=this.getSnapshotStoredChartData();this.components.dimensionAxis.setData(i);this._activeDimAxis.setData(i);o=Math.min.apply(this,i.qHyperCube.qMeasureInfo.filter(function(t){return!Number.isNaN(+t.qMin)}).map(function(t){return t.qMin}));r=Math.max.apply(this,i.qHyperCube.qMeasureInfo.filter(function(t){return!Number.isNaN(+t.qMax)}).map(function(t){return t.qMax}));e.isNumeric(o)||(o=-1);e.isNumeric(r)||(r=1);l=n.axes.measureAxis;h=!l.data.autoMinMax&&["min","minMax"].contains(l.data.minMax)?Number(l.data.min):null;c=!l.data.autoMinMax&&["max","minMax"].contains(l.data.minMax)?Number(l.data.max):null;s=this.components.measureAxis;s.setWhiteSpaceOptimizingEnabled(true);s.setRealDataRange(void 0,void 0);var p=this.components.dataArea.getMajorAxisData(),d=this.components.dataArea.getMinorAxisData();this.components.dimensionAxis.setDataRange(p.data,p.info);a=0;if(r<o){r=10;o=-10}else if(r===o)if(r)a=Math.abs(r?.2*r:0);else{r=10;o=-10}if(this._readStoredData&&u&&u.dataRanges)this.setAxisDataRange(s,u.dataRanges[0].max,u.dataRanges[0].min,c,h,a);else if(d&&("stackedArea"===i.lineType||"area"===i.lineType&&i.stackedArea)&&(i.qHyperCube.qMeasureInfo.length>1||i.qHyperCube.qDimensionInfo.length>1))this.setAxisDataRange(s,d.max,d.min,c,h,a);else if("line"!==i.lineType)if(this._data.measureAxis.logarithmic){var f=y(r,o,a);this.setAxisDataRange(s,f.max,f.min,c,h,a)}else this.setAxisDataRange(s,r>0?r+a:0,o<0?o-a:0,c,h,a);else this.setAxisDataRange(s,r>0?r+a:Math.min(0,r+a),o<0?o-a:Math.max(0,o-a),c,h,a);this.updateTimeAxis();_.call(this,i);this.components.dimensionAxisTitle.setSelectionsEnabled(!!this.selections);this.components.measureAxisTitle.setSelectionsEnabled(!!this.selections)},getPreferredSize:function t(){return this._super()},destroy:function t(){return this._super()}});return{type:"linechart",BackendApi:h,template:c,View:g,definition:o,softDefinition:l,initialProperties:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qMode:"S",qAlwaysFullyExpanded:true,qInitialDataFetch:[{qTop:0,qHeight:500,qLeft:0,qWidth:17}],qSuppressZero:false,qSuppressMissing:true}},data:r,support:{cssScaling:false,snapshot:true,export:true,exportData:true,sharing:true,viewData:true},migrate:{properties:function t(e){return m.migrateProperties(e)}},options:{selections:{dataArea:{},range:{},colorLegend:{}},tooltips:{}},importProperties:function t(e,i,n){var s=d.axisChart.importProperties.apply(d,[e,i,n]),a=s.qProperty;a.qHyperCubeDef.qDimensions.length>1&&(a.qHyperCubeDef.qMode="K");a.color&&"byDimension"===a.color.mode&&a.qHyperCubeDef.qDimensions.length<=1&&a.qHyperCubeDef.qMeasures.length<=1&&d.changeProperty("color.mode","primary",s);return s},exportProperties:d.axisChart.exportProperties.bind(d)}}.apply(e,n),void 0!==s&&(t.exports=s))},1237:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(90),i(1126),i(1303),i(410),i(1240),i(180),i(1243),i(1306),i(1172),i(512),i(1169),i(1244),i(384),i(104),i(164),i(511),i(89),i(418),i(1245),i(1139),i(281),i(110)],s=function(t,e,i,n,s,a,o,r,l,h,c,u,p,d,f,m,g,x,_,y,v,b,D){var M,A={NONE:0,ONE_DIM:1,TWO_DIM:2};var S=1e-6;function q(t){var e=this.components.scrollArea.getOffset()-t/(this.components.dimensionAxis._discreteSpacing||28);e=e<0?0:e;this.components.scrollArea.setOffset(e)}function C(){if(this._disableZoom)return;var t=this._panZoomController._viewportProjection;var e=this._activeDimAxis.getDataMin();var i=this._activeDimAxis.getDataMax();var n=i-e;var s=this._activeDimAxis.getPlotSize();t.setSize({x:s,y:1});t.setBoundingBox(new f(e,0,i-e,1));this._panZoomController.setOffset(this._panZoomController._$element.offset());var a=this.components.scrollArea.getOffset();var o=this.components.scrollArea.getViewRange();this.yMirrorMode&&(a=n-o-a);var r=t.getTransformMatrix();r.identity();r.scale(s/o,1);r.translate(-a,0);t.setTransformMatrix(r);T(this.selections)}function w(t,e){var i=this.components.scrollArea.getOffset();var n=this.components.scrollArea.getViewRange();var s=Math.abs(t-i)>S||Math.abs(e-n)>S;if(s){this.components.scrollArea.setViewRange(e);this.components.scrollArea.setOffset(t);this.components.scrollArea.fire("offsetChanged")}}function L(){if(this._disableZoom)return;var t=this._panZoomController._viewportProjection;var e=this._activeDimAxis.getPlotSize();var i=this._activeDimAxis.getDataMin();var n=this._activeDimAxis.getDataMax();var s=n-i;var a=t.invTransform({x:0,y:0}).x;var o=t.invTransform({x:e,y:0}).x;var r=Math.min(o-a,s);var l=Math.min(Math.max(a,0),s-r);this.yMirrorMode&&(l=s-r-l);w.call(this,l,r)}function P(){var t=this._activeDimAxis.getDataMin();var e=this._activeDimAxis.getDataMax();w.call(this,0,e-t)}function T(t,e){var i=t&&t.getActiveType();i&&"range.discrete"===i.getActiveMode()&&i.cancel(true);e&&e.clearSelection()}function k(t,e,i,a){var o=[],r=[],l,h;Object.keys(this.components).forEach(function(t){this.components[t]instanceof n||this.components[t].isDimension?o.push(this.components[t]):this.components[t]instanceof s&&!this.components[t].isStacked&&r.push(this.components[t])}.bind(this));l=["top","bottom"].contains(this._activeDimAxis.dock)?"x":"y";h="x"===l?"y":"x";this.selections.types.range.setComponent(l,o);this.tooltips.setComponent(l,o);this.selections.types.range.setComponent(h,r);if(i&&(t>1||e>1)){this.selections.types.range.setComponent(h,[]);"byMeasure"===a?this.selections.types.colorLegend.removeComponent("colorLegend",this.components.colorLegend):this.selections.types.colorLegend.setComponent("colorLegend",this.components.colorLegend)}else this.selections.types.colorLegend.setComponent("colorLegend",this.components.colorLegend)}function z(){if(!this._isPagingTransitionEnabled)return;this.components.measureAxis.setDataRangeTransition(false);this.components.measureAxis.stopListen("endTransition",O,this);this.components.measureAxis.stopListen("startTransition",N,this);clearTimeout(this._pagingTransitionTimer);delete this.components.measureAxis.setDataRange;this._isPagingTransitionEnabled=false}function O(){this.components.refLineLabels&&this.layout();for(var t in this.components)this.components[t].invalidateDisplay("ScrollableChart.onAxisTransitionEnded")}function N(){this._visibleRefLines=this.components.refLineLabels.isVisible()}function I(){if(this._isPagingTransitionEnabled||this.isDimensionContinuous)return;this._isPagingTransitionEnabled=true;var t=this,e=this.components.measureAxis,i=e.setDataRange;e.listen("endTransition",O,this);e.listen("startTransition",N,this);this._pagingTransitionTimer=null;this.components.measureAxis.setDataRange=function(n,s){clearTimeout(t._pagingTransitionTimer);t._pagingTransitionTimer=setTimeout(function(){var a;e.setDataRangeTransition(true);i.apply(e,[n,s]);t.layout();for(a in t.components)t.components[a].invalidateDisplay()},500)}}function R(){var t=this.components.scrollArea,e,i,n=this.yMirrorMode,s=this._scrollableHint,a,o,r,l=[];this._scrollAffordance||(this._scrollAffordance={canIncrease:false,canDecrease:false,yMirrorMode:n});a=t.getOffset();r=t.getViewRange();o=t.fullState.max;i=a>S;e=a+r<o-S;if(i===this._scrollAffordance.canDecrease&&e===this._scrollAffordance.canIncrease&&n===this._scrollAffordance.yMirrorMode)return;this._scrollAffordance.canIncrease=e;this._scrollAffordance.canDecrease=i;this._scrollAffordance.yMirrorMode=n;i&&l.push(t.isVertical()?"up":this.yMirrorMode?"right":"left");e&&l.push(t.isVertical()?"down":this.yMirrorMode?"left":"right");this.yMirrorMode&&l.reverse();s.attr("class",function(t,e){return e.replace(/\bqv-chart-scrollable-\S+/g,"")});s.addClass("qv-chart-scrollable-"+l.join("-"))}function V(){var t=this;this._debounceUpdateHandle={};this._debouncedUpdate=m.debounce(function(){var e=this._activeDimAxis.getPlotMin();var i=this._activeDimAxis.getPlotMax();t.updateFocusedContinuousData(e,i).then(function(){t.partialUpdate(t._data)})},400,this._debounceUpdateHandle);this._changeWatchers.push(u.bindSetter(function(){if(t.isDimensionContinuous){var e=t._activeDimAxis.getDataMin()+t.components.scrollArea.getOffset();var i=e+t.components.scrollArea.getViewRange();t._activeDimAxis.setPlotMin(e);t._activeDimAxis.setPlotMax(i);t._activeDimAxis.invalidateDisplay();t.components.dataArea.invalidateDisplay();t.components.grid.invalidateDisplay();t._debouncedUpdate()}},this.components.scrollArea,"offset"))}function E(t,e,i,n){var s,a;for(var o=0;o<i.length;o++)for(var r=0;r<n.length;r++)if(i[o].qName===n[r].qName){s=n[r].qTicks.filter(function(e){return e.qEnd+1<t});a=n[r].qTicks.filter(function(t){return t.qStart+1>e});i[o].qTicks=s.concat(i[o].qTicks,a);break}}function H(t,e){return t&&e.length>1?b.getDimensionSize(e[1]):d.maxNumberOfLines}M=i.extend("ScrollableChart",{init:function e(i,p,d,m,g){var x=this,_=t.extend(true,{providers:{colorMap:{clazz:c,multiDimScheme:"last"}},components:{refLines:{sortKey:5,show:true,dock:"center",showFlag:o.prototype.ShowFlags.SPARK},dataArea:{sortKey:10,show:true,dock:"center",showFlag:o.prototype.ShowFlags.SPARK},miniChart:{show:true,clazz:l,components:{dimensionAxis:{show:false,clazz:n},measureAxis:{show:false},dataArea:{isMini:true,show:true},continuousAxis:{show:false,clazz:s,dock:"bottom"}}},xAxis:{clazz:n,reductionOrder:10,shrinkToFitThreshold:.85,showFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL},whenHorizontal:{vertical:o.prototype.ShowFlags.SMALL,horizontal:o.prototype.ShowFlags.XSMALL}},titleShowFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.MEDIUM},whenHorizontal:{vertical:o.prototype.ShowFlags.MEDIUM,horizontal:o.prototype.ShowFlags.XSMALL}}},xAxisTitle:{showFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.MEDIUM},whenHorizontal:{vertical:o.prototype.ShowFlags.MEDIUM,horizontal:o.prototype.ShowFlags.XSMALL}},reductionOrder:1},timeAxis:{show:true,isDimension:true,order:1,dock:"bottom",relevantSize:90,reductionOrder:2,clazz:a,showFlag:{whenHorizontal:{vertical:o.prototype.ShowFlags.SMALL,horizontal:o.prototype.ShowFlags.XSMALL},whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL}}},continuousAxis:{show:true,isDimension:true,order:1,dock:"bottom",relevantSize:90,reductionOrder:2,clazz:s,showFlag:{whenHorizontal:{vertical:o.prototype.ShowFlags.SMALL,horizontal:o.prototype.ShowFlags.XSMALL},whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL}}},scrollArea:{sortKey:2,show:true,dock:"bottom",order:2,relevantSize:20,reductionOrder:10.1,showFlag:o.prototype.ShowFlags.XSMALL,clazz:r},refLineLabels:{show:true,dock:"right",order:3,reductionOrder:3,showFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL},whenHorizontal:{vertical:o.prototype.ShowFlags.MEDIUM,horizontal:o.prototype.ShowFlags.XSMALL}},clazz:h}}},d||{});this._super(i,p,_,m,g);this._scrollableHint=t("<div class='qv-chart-scrollable'>").appendTo(this.components.dataArea.container);this._changeWatchers=this._changeWatchers||[];this._pagingInfo=new f(0,0,0,0);this.components.measureAxis=this.components.yAxis;this.components.dimensionAxis=this.components.xAxis;this.components.dimensionAxisTitle=this.components.xAxisTitle;this.components.measureAxisTitle=this.components.yAxisTitle;delete this.components.xAxisTitle;delete this.components.yAxisTitle;delete this.components.xAxis;delete this.components.yAxis;this.components.dimensionAxisTitle.setType("dimension");this.components.dimensionAxisTitle.listen("drill-up",function(t,e,i){x.backendApi.drillUp(e,i)});this.components.dimensionAxisTitle.setModel(i.ext.model);this.components.measureAxisTitle.setType("measure");this.components.measureAxisTitle.setModel(i.ext.model);this.components.scrollArea.listen("scrollStart",function(){T(this.selections,this.tooltips)}.bind(this));this._showLegend=false;this.scrollMultiplicator=1;this.components.dataArea.setMinorAxis(this.components.measureAxis);this.components.dataArea.setMajorAxis(this.components.dimensionAxis);this.components.dataArea.setTimeAxis(this.components.timeAxis);this.components.dataArea.setContinuousAxis(this.components.continuousAxis);this._setActiveDimensionAxis(i.layout);this.components.grid.setAxes(this.components.dimensionAxis,this.components.measureAxis);this.components.dimensionAxis.setMinDiscreteUnitSize(28);this._changeWatchers.push(u.bindProperty(this.components.dataArea,"dimensionTree",this._chartContext,"dimensionTree"));this._changeWatchers.push(u.bindProperty(this.providers.colorMap,"dimensionTree",this._chartContext,"dimensionTree"));this._changeWatchers.push(u.bindSetter(function(){x.isDimensionContinuous||x.components.dimensionAxis.setOffset(x.components.scrollArea.getOffset());x.moreData=x.components.scrollArea.viewState.range<x.components.scrollArea.fullState.max;x.checkScrollToggle()},this.components.scrollArea,"offset"));this._changeWatchers.push(u.bindSetter(function(t){x.isDimensionContinuous||null===t||x.components.scrollArea.setFullRange(t)},this.components.dimensionAxis,"numDiscreteUnits"));this._changeWatchers.push(u.bindSetter(function(t){x.isDimensionContinuous||x.components.scrollArea.setViewRange(x._pagingMode===A.TWO_DIM?t/2:t)},this.components.dimensionAxis,"numDiscreteUnitsInView"));[this.components.timeAxis,this.components.continuousAxis].forEach(function(t){t&&t.listen("rendered",function(){var t=x.selections&&x.selections.getActiveType&&x.selections.getActiveType();if(t&&"range.dimension"===t.getActiveMode()){t.refreshContainer();t.updateRangeProjection();t.updateRangeDisplay()}})});(this.components.timeAxis||this.components.continuousAxis)&&V.call(this,this.components.continuousAxis);this._changeWatchers.push(u.bindSetter(function(){false!==x._checkPage&&x.checkPage();R.call(x)},this.components.dimensionAxis,"offset"));this._scrollController=new y(this.components.dataArea.container,this.container,this.components.scrollArea);this.panStartFn=function(){T(x.selections)};this.panUpdateFn=function(t){var e=x.components.scrollArea.isHorizontal()?"x":"y";x.yMirrorMode&&(t.x=-t.x);q.call(x,t[e])};this.panWheelFn=function(t){T(x.selections);q.call(x,t*x.components.dimensionAxis._discreteSpacing)};this._scrollController.PanStart.bind(this.panStartFn);this._scrollController.PanUpdate.bind(this.panUpdateFn);this._scrollController.PanWheel.bind(this.panWheelFn);this._panZoomController=new v(t(this.components.dataArea.container),{start:function t(){C.call(x)},update:function t(){L.call(x)},end:function t(){L.call(x)},reset:function t(){P.call(x)}});this._panZoomController.setZoomPanByWebkitTransform(false);this.isDimensionContinuous&&this._panZoomController.setMaxZoomLevel(27)},setYMirrorMode:function t(e){this._super(e);this.updateVerticalComponentsDock()},getVerticalComponents:function t(){var e=this._super(),i;if(this._data&&this.components){if(this.components.dimensionAxis&&this.components.dimensionAxis.isVertical()&&this._data.dimensionAxis){e.push({comp:this.components.dimensionAxis,dock:this._data.dimensionAxis.dock});this.components.dimensionAxisTitle&&e.push({comp:this.components.dimensionAxisTitle,dock:this._data.dimensionAxis.dock})}if(this.components.measureAxis&&this.components.measureAxis.isVertical()&&this._data.measureAxis){i=this._data.measureAxes&&this._data.measureAxes[0]?this._data.measureAxes[0].dock:this._data.measureAxis.dock;e.push({comp:this.components.measureAxis,dock:i});this.components.measureAxisTitle&&e.push({comp:this.components.measureAxisTitle,dock:i})}this.components.refLineLabels&&this.components.refLineLabels.isVertical()&&this._data.measureAxis&&e.push({comp:this.components.refLineLabels,dock:"far"===this._data.measureAxis.dock?"near":"far"});this.components.scrollArea&&this.components.scrollArea.isVertical()&&e.push({comp:this.components.scrollArea,dock:"far"})}return e},initSelections:function t(){this.selections._disableSelections=this.options._disableSelections;this.selections.types.dataArea.setComponent("dataArea",this.components.dataArea);this.selections.types.colorLegend.setComponent("colorLegend",this.components.colorLegend);if(!this.options._disableSelections){this.selections.types.range.setComponent("dataArea",this.components.dataArea);this.selections.Activated.bind(this.onSelection.Activated.bind(this));this.selections.Lasso.bind(this.onToggleLasso.bind(this));this.selections.Deactivated.bind(this.onSelection.Deactivated.bind(this));this.selections.SelectRange.bind(this.onSelection.SelectRange.bind(this));this.selections.SelectAttributeDim.bind(this.onSelection.SelectAttributeDim.bind(this));this.selections.ToggleShape.bind(this.onSelection.ToggleShape.bind(this));this.selections.Confirm.bind(this.onSelection.Confirm.bind(this));this.selections.Cancel.bind(this.onSelection.Cancel.bind(this));this.selections.Clear.bind(this.onSelection.Clear.bind(this));this.selections.SelectWhileLocked.bind(this.selectWhileLocked.bind(this));this.selections.SelectWhileSingleSelect.bind(this.selectWhileSingleSelect.bind(this))}},initTooltips:function t(){this.tooltips.setComponent("dataArea",this.components.dataArea)},getSnapshotSize:function t(){var e=0,i=0;if(this.rect){e=this.rect.width;i=this.rect.height}var n=this.getSnapshotChartData();!n.hasMiniChart&&this.components.scrollArea.isVisible()&&(this.components.scrollArea.isVertical()?e-=this.components.scrollArea.rect.width:i-=this.components.scrollArea.rect.height);return{w:e,h:i}},getSnapshotChartData:function e(i){var n=t.extend(true,this._super()||{},{scrollOffset:i&&i.ignoreReducedData?0:this.components.scrollArea.getOffset(),discreteSpacing:this.components.dimensionAxis.getDiscreteSpacing(),axisInnerOffset:i&&i.ignoreReducedData?0:this.components.dimensionAxis.getInnerOffset(),hasMiniChart:this.components.miniChart&&!!this.components.miniChart.isVisible(),viewRange:this.components.scrollArea.getViewRange()});i&&i.ignoreReducedData&&this.components.measureAxis.isStacked&&(n.dataRanges=[{min:this.components.measureAxis.getPlotMin(),max:this.components.measureAxis.getPlotMax()}]);return n},setSnapshotData:function e(i,n){this._super(i,n);var s=x();var a;if(!n||!n.ignoreReducedData){if(this.isDimensionContinuous){i.qHyperCube.qDataPages=this._data.qHyperCube.qDataPages;i.qHyperCube.qAxisData=this._data.qHyperCube.qAxisData}if(this.components.miniChart.isVisible())this.components.miniChart.getReducedDataHypercube().then(function(t){i.reducedHyperCube=t;s.resolve(i)});else{delete i.reducedHyperCube;s.resolve(i)}return s.promise}delete i.reducedHyperCube;if(this.isDimensionContinuous){a=i.qHyperCube;a.qDataPages=[t.extend(true,{},this._data.qHyperCube.qDataPages[0])];this._upperFocusIndex?a.qDataPages[0].qMatrix=a.qDataPages[0].qMatrix.slice(this._lowerFocusIndex,this._upperFocusIndex+1):a.qDataPages[0].qMatrix=a.qDataPages[0].qMatrix;a.qAxisData=this._cachedFocusAxisData;a.qDimensionInfo[0].qMin=this._activeDimAxis.getPlotMin();a.qDimensionInfo[0].qMax=this._activeDimAxis.getPlotMax();s.resolve(i);return s.promise}function o(){var t=this.components.scrollArea;var e=t.getOffset()/this.scrollMultiplicator,n=Math.round(e),s=this.components.dimensionAxis._discreteSpacing,a=t.getViewRange()/this.scrollMultiplicator,o=Math.round(a-(n-e)),r=Math.min(8,s/2),l=this._pagingInfo.y;Number.isNaN(+o)&&(o=10);if(this._data.barGrouping&&"grouped"===this._data.barGrouping.grouping&&this._data.qHyperCube.qMeasureInfo.length>1){n=Math.floor(e);o=Math.ceil(a-(n-e));i.snapshotData.content.chartData.scrollOffset=t.getOffset()%this.scrollMultiplicator;var h=(Math.ceil(e)-e)*s*this.scrollMultiplicator-s/2;n=h<r?Math.ceil(e):Math.floor(e);o=Math.round(e+a);var c=e+a;var u=(c-Math.floor(c))*s*this.scrollMultiplicator-s/2;c=u<r?Math.floor(c):Math.ceil(c);o=c-n}else if(this._data.barGrouping&&"grouped"===this._data.barGrouping.grouping&&this._data.qHyperCube.qDimensionInfo.length>1){var p=this.components.dataArea._tree;n=Math.max(Math.round(e-.5),l);o=Math.round(this.components.dimensionAxis.getNumDiscreteUnitsInView()-(n-(e-.5)));if(p){var d=0,f=0,m=0,g=l,x;if(l!==n){for(d=0;d<p.children.length&&g<n;d++,g++){x=p.children[d];for(f=0;f<x.children.length&&g<n;f++,++g)m++}n=l+m;d=Math.max(0,d-1);f=Math.max(0,f-1)}m=0;g=0;for(;d<p.children.length&&g<o;d++,g++){x=p.children[d];for(f;f<x.children.length&&g<o;f++,++g)m++;f=0}o=m}else o*=2}return{qTop:n,qLeft:0,qWidth:this._data.qHyperCube.qSize.qcx,qHeight:o||0}}a=i.qHyperCube;this.providers.colorMap&&this.providers.colorMap.getColorDataInfo()&&(i.color.persistent=!!this.providers.colorMap.getColorDataInfo().persistentColors);if("K"===a.qMode){var r=new _;r.store(a.qStackedDataPages);var l=r.get([o.call(this)]);a.qSize.qcy=l[0].qArea.qHeight;if(l[0]&&l[0].qData[0]){l[0].qData[0].qDown=0;l[0].qData[0].qUp=0}a.qStackedDataPages=l;s.resolve(i)}else this.backendApi.getData([o.call(this)]).then(function(t){"S"===a.qMode?a.qDataPages=t:a.qStackedDataPages=t;a.qSize.qcy=t[0].qArea.qHeight;if(a.qDimensionInfo[0].qStateCounts){a.qDimensionInfo[0].qStateCounts.qOption=a.qSize.qcy;a.qDimensionInfo[0].qStateCounts.qSelected=0}s.resolve(i)});return s.promise},getViewState:function e(){return t.extend(true,this._super()||{},{scrollOffset:this.components.scrollArea.getOffset(),axisInnerOffset:this.components.dimensionAxis.getInnerOffset(),viewRange:this.components.scrollArea.getViewRange()})},checkPage:function t(e){if(!this.isValid(this._data)||!this._pagingMode)return false;var i=this.components.scrollArea;var n=Math.floor(i.getOffset()/this.scrollMultiplicator),s=this._pagingInfo.y,a=this._pagingInfo.height,o=this._pagingMode===A.TWO_DIM?0:20,r=Math.ceil(i.getViewRange()/this.scrollMultiplicator);Number.isNaN(+r)&&(r=500);this._pagingMode===A.TWO_DIM&&(r*=2);if(n+r>s+a||Math.max(0,n)<s)return this.pageData(Math.floor(Math.max(0,n-o)),r+2*o,e)},pageData:function t(e,i,n){if("function"!==typeof this.backendApi.getReducedData)return false;var s=x();if(this._data.qHyperCube){var a=this,o;o="K"===this._data.qHyperCube.qMode?this._data.qHyperCube.qStackedDataPages[0]&&this._data.qHyperCube.qStackedDataPages[0].qData&&this._data.qHyperCube.qStackedDataPages[0].qData.length>0:this._data.qHyperCube.qDataPages[0]&&this._data.qHyperCube.qDataPages[0].qMatrix.length>0;if(i<=0){"S"===a._data.qHyperCube.qMode?a._data.qHyperCube.qDataPages=[]:a._data.qHyperCube.qStackedDataPages=[];a._pagingInfo.set(e,0,this._data.qHyperCube.qSize.qcx,i)}else this.backendApi.getData([{qTop:e,qLeft:0,qWidth:this._data.qHyperCube.qSize.qcx,qHeight:i}]).then(function(t){if("S"===a._data.qHyperCube.qMode){a._data.qHyperCube.qDataPages=t;var r=t[0].qArea;a._pagingInfo.set(r.qLeft,r.qTop,r.qWidth,r.qHeight)}else{a._data.qHyperCube.qStackedDataPages=t;a._pagingInfo.set(0,e,a._data.qHyperCube.qSize.qcx,i)}if(n||!o){a._chartContext.refresh(a._data);a.paint(a._data).then(function(){s.resolve()})}else a.partialUpdate(a._data).then(function(){s.resolve()})}).catch(function(t){false})}else s.resolve();return s.promise},partialUpdate:function t(e){var i,n,s,a,o=[];I.call(this);n=e.qHyperCube.qStackedDataPages.length>0?this._pagingInfo.y:e.qHyperCube.qDataPages[0].qArea.qTop;this.components.dimensionAxis.setInnerOffset(n*this.scrollMultiplicator);return this.providers.colorMap.setData(e).then(function(){this._chartContext.refresh(e);for(i in this.components)"miniChart"!==i&&i.indexOf("AxisTitle")<0&&this.components[i].invalidateProperties("ScrollableChart.partialUpdate");this.components.dataArea.updateNow(["properties"]);s=this.components.dataArea.getMajorAxisData();a=this.components.dataArea.getMinorAxisData();!a||this._readStoredData&&this.getSnapshotStoredChartData().dataRanges||this.components.measureAxis.setDataRange(a.min,a.max);this.components.dimensionAxis.setDataRange(s.data,s.info);this.components.dimensionAxis.updateLevels();this.components.colorLegend.invalidateProperties("ScrollableChart.partialUpdate");this.components.colorLegend.updateNow(["properties"]);this.isDimensionContinuous&&this.layout();o.push(this.components.colorLegend.invalidateDisplay("ScrollableChart.partialUpdate"));o.push(this.components.dataArea.invalidateDisplay("ScrollableChart.partialUpdate"));if(this.isDimensionContinuous){o.push(this.components.timeAxis.invalidateDisplay("ScrollableChart.partialUpdate"));o.push(this.components.continuousAxis.invalidateDisplay("ScrollableChart.partialUpdate"));o.push(this.components.measureAxis.invalidateDisplay("ScrollableChart.partialUpdate"))}else o.push(this.components.dimensionAxis.invalidateDisplay("ScrollableChart.partialUpdate"));return x.all(o)}.bind(this))},getApproriateNrOfBins:function t(e,i){var n=4,s=e.qHyperCube.qMeasureInfo.length,a=s||1,o=n+2*(a-1);if(i)return Math.ceil(d.maxNumberOfDataPoints);if(e.qHyperCube.qDimensionInfo.length>1){a=Math.max(1,Math.min(d.maxNumberOfLines,b.getDimensionSize(e.qHyperCube.qDimensionInfo[1])));o=4}return Math.ceil(d.maxNumberOfDataPoints/(a*o))},getHyperCubeContinousData:function t(e){if(e.qStart>e.qEnd||Number.isNaN(+e.qStart)||Number.isNaN(+e.qEnd))return x.resolve({qAxisData:{qAxis:[]},qDataPages:[{qMatrix:[],qTails:false,qArea:{qLeft:0,qTop:0,qRight:0,qBottom:0}}]});var i=this;return this.backendApi.getHyperCubeContinousData(e,false).then(function(t){if(i.cancelPromises)return x.reject();return t})},getFullContinousData:function t(i,n,s){var a=i.qHyperCube.qSize.qcy*i.qHyperCube.qMeasureInfo.length,o=a<d.maxNumberOfDataPoints,r=i.qHyperCube.qDimensionInfo,l=H(o,r);return this.getHyperCubeContinousData({qStart:n,qEnd:s,qNbrPoints:this.getApproriateNrOfBins(i,o),qMaxNbrTicks:300,qMaxNumberLines:l}).then(function(t){this._cachedContinousMatrix=t.qDataPages[0].qMatrix;i.qHyperCube.qDimensionInfo[0].qIsCyclic||(this._cachedContinousAxisData=t.qAxisData);this._cachedFocusAxisData=e.extend(true,{},t.qAxisData);this._lowerFocusIndex=null;this._upperFocusIndex=null;return t}.bind(this)).catch(function(t){t.code===D.LocalizedErrorCode.LOCERR_GENERIC_INVALID_PARAMETERS&&"Start and End are outside data range"===t.parameter&&(t.isHandled=true);throw t})},getFocusedContinousData:function t(i,n,s){var a=s.qHyperCube.qSize.qcy*s.qHyperCube.qMeasureInfo.length,o=a<d.maxNumberOfDataPoints,r=s.qHyperCube.qDimensionInfo,l=H(o,r);return this.getHyperCubeContinousData({qStart:i,qEnd:n,qNbrPoints:this.getApproriateNrOfBins(s,o),qMaxNbrTicks:300,qMaxNumberLines:l}).then(function(t){if(this._cachedContinousMatrix&&!this._readStoredData){if(t.qDataPages[0]&&t.qDataPages[0].qMatrix.length){i=Math.min(i,t.qDataPages[0].qMatrix[0][0].qNum);n=Math.max(n,t.qDataPages[0].qMatrix[t.qDataPages[0].qMatrix.length-1][0].qNum)}var s=this._cachedContinousMatrix.filter(function(t){return t[0].qNum<i});var a=this._cachedContinousMatrix.filter(function(t){return t[0].qNum>n});t.qDataPages[0].qMatrix=s.concat(t.qDataPages[0].qMatrix,a);var o=p.getFocusRange(t.qDataPages[0].qMatrix,s.length,a.length,this._data.qHyperCube.qDimensionInfo.length);this._lowerFocusIndex=o.lower;this._upperFocusIndex=o.upper}if(this._cachedContinousAxisData&&!this._readStoredData){this._cachedFocusAxisData=e.extend(true,{},t.qAxisData);E(i,n,t.qAxisData.qAxis,this._cachedContinousAxisData.qAxis)}return t}.bind(this))},updateFocusedContinuousData:function t(e,i){var n=this;var s=this._data;return this.getFocusedContinousData(e,i,s).then(function(t){s.qHyperCube.qDataPages=t.qDataPages;s.qHyperCube.qAxisData=t.qAxisData;var e=0===s.qHyperCube.qDataPages[0].qMatrix.length;n._activeDimAxis.setLabels(e?[]:s.qHyperCube.qAxisData.qAxis);var i=n._activeDimAxis.getUseTransition();n._activeDimAxis.setUseTransition(false);n._activeDimAxis.updateSize();n._activeDimAxis.setUseTransition(i)})},_preUpdateData:function e(i){var n=this;var s=this._super;var a=p.getFullContinuousRange(i);var o=a.min;var r=a.max;return n.isDimensionContinuous?n.getFullContinousData(i,o,r).then(function(e){if(!n.isDimensionContinuous)return i;i=p.addContinuousDataToLayout(i,e);n._activeDimAxis.setDataRange(o,r);n.components.scrollArea.setFullRange(r-o);n.components.scrollArea.setViewRange(r-o);n._activeDimAxis.setPlotMin(o);n._activeDimAxis.setPlotMax(r);m.cancelDebounce(n._debounceUpdateHandle);return s.call(n,i).then(function(e){var i=t.extend(true,{},e);n.components.miniChart.setData(i,true);return e})}):this._super(i)},_updateData:function t(e){this._super.apply(this,[].slice.call(arguments));this._pagingInfo.set(0,0,0,0);if(this.isValid(e)){var i,n=e.qHyperCube.qStackedDataPages[e.qHyperCube.qStackedDataPages.length-1];i=n&&n.qData?n.qData.length?{qLeft:0,qTop:0,qWidth:e.qHyperCube.qSize.qcx,qHeight:n.qData[0].qSubNodes.length}:n.qArea:e.qHyperCube.qDataPages[0].qArea;this._pagingInfo.set(i.qLeft,i.qTop,i.qWidth,i.qHeight);this.components.dimensionAxis.setInnerOffset(i.qTop*this.scrollMultiplicator)}},updateGrid:function t(e,i){this._super(e,i);this.components.grid.setAxes(this._activeDimAxis,this.components.measureAxis)},_setActiveDimensionAxis:function t(e){var i=this.isDimensionContinuous,n=d.isTimeDimension(i,e.qHyperCube.qDimensionInfo[0]),s;if(n){this._activeDimAxis=this.components.timeAxis;s="continuousAxis"}else if(i){this._activeDimAxis=this.components.continuousAxis;s="continuousAxis"}else{this._activeDimAxis=this.components.dimensionAxis;s="dimensionAxis"}this.components.miniChart&&this.components.miniChart.setActiveDimensionAxis(s);this.components.dataArea&&this.components.dataArea.setActiveDimensionAxis(this._activeDimAxis)},updateAxis:function t(e){this._super.apply(this,[].slice.call(arguments));this._readStoredData&&this.options.hideChartScrollWithoutMiniChart&&!this.components.scrollArea.getUseMiniChart()?this.components.scrollArea.hideComponent():this.components.scrollArea.showComponent();if(this.selections){var i="S"!==e.qHyperCube.qMode||this.isDimensionContinuous&&e.qHyperCube.qDimensionInfo.length>1;k.apply(this,[e.qHyperCube.qDimensionInfo.length,e.qHyperCube.qMeasureInfo.length,i,e.color?e.color.mode:null])}this.tooltips&&this.tooltips.setComponent(["top","bottom"].contains(this.components.dimensionAxis.dock)?"y":"x",this.components.dimensionAxis);this._updateMinDiscreteUnitSize(this.components.dimensionAxis)},shouldShowMiniChart:function t(){return b.getDimensionSize(this._data.qHyperCube.qDimensionInfo[0])>1&&false!==this._data.showMiniChartForContinuousAxis},shouldDisableZoom:function t(){return b.getDimensionSize(this._data.qHyperCube.qDimensionInfo[0])<=1},updateTimeAxis:function t(){if(this.isDimensionContinuous){this._disableZoom=this.shouldDisableZoom();if(d.isTimeDimension(true,this._data.qHyperCube.qDimensionInfo[0])){this.components.timeAxis.showComponent();this.components.continuousAxis.hideComponent();this.components.timeAxis.setLabels(this._data.qHyperCube.qAxisData?this._data.qHyperCube.qAxisData.qAxis:null)}else{this.components.continuousAxis.showComponent();this.components.timeAxis.hideComponent()}d.hasTimeTag(this._data.qHyperCube.qDimensionInfo[0])?this._activeDimAxis.dimensionFormatter=new g(this.backendApi.localeInfo,this.backendApi.localeInfo.qDateFmt,null,null,"TS"):this._activeDimAxis.dimensionFormatter=this.chartFormatter.getFormattersForMeasures(this._data.qHyperCube.qDimensionInfo,[0])[0];this.shouldShowMiniChart()?this.components.scrollArea.showComponent():this.components.scrollArea.hideComponent();this.components.dimensionAxis.hideComponent()}else{this.components.dimensionAxis.showComponent();this.components.dimensionAxis.setOffset(this.components.scrollArea.getOffset());this.components.timeAxis.hideComponent();this.components.continuousAxis.hideComponent()}},_disablePagingTransitions:function t(){z.call(this)},_enablePagingTransitions:function t(){I.call(this)},_postResize:function t(){this._super();if(!this.components.dimensionAxis)return;this._updateMinDiscreteUnitSize(this.components.dimensionAxis)},_updateMinDiscreteUnitSize:function t(e){var i=this._data.qHyperCube.qSize.qcy,n=this._data.qHyperCube,s="S"===n.qMode?"qDataPages":"qStackedDataPages",a=n[s]&&n[s][0]?n[s][0].qArea.qHeight:0;if(a>=i&&false===this.options.components.scrollArea.show){e.setMinDiscreteUnitSize(null);return}!e.isVisible(this._layoutMode)||"title"===this._data.dimensionAxis.show||"all"===this._data.dimensionAxis.show&&"none"===this._data.dimensionAxis.label?this._layoutMode===o.prototype.ShowFlags.SPARK?e.setMinDiscreteUnitSize(7):e.setMinDiscreteUnitSize(20):e.setMinDiscreteUnitSize(28)},layout:function t(){var e;if(false===this.options.components.scrollArea.show){var i=this.components.dimensionAxis;i._hideMyLabels=false;e=function t(){if(i._discreteSpacing*(i._groupSize||1)<20){i._hideMyLabels=true;return true}}}this._super(this.components.dimensionAxis.isVertical()?"vertical":"horizontal",e);R.call(this)},setIsDimensionContinuous:function t(e){if(this.isDimensionContinuous===e)return;this.isDimensionContinuous=e;this.components.scrollArea.setAllowResize(e);this.checkScrollToggle()},checkScrollToggle:function t(){if(this._navigation&&this._on)if(this.isDimensionContinuous){this._scrollController.off();this._panZoomController.on()}else{this._panZoomController.off();this.moreData?this._scrollController.on():this._scrollController.off()}},on:function t(){if(this._on)return;this._super();this.checkScrollToggle()},off:function t(){if(!this._on)return;if(this._navigation){this._scrollController.off();this._panZoomController.off()}this._super()},destroy:function t(){this._super();this.cancelPromises=true;this._disablePagingTransitions();this.components.scrollArea.stopListen("scrollStart");this.components.dimensionAxisTitle.stopListen("drill-up");this._panZoomController.release();this.components.timeAxis&&this.components.timeAxis.stopListen("rendered");this.components.continuousAxis&&this.components.continuousAxis.stopListen("rendered");this._scrollController.PanStart.unbind(this.panStartFn);this._scrollController.PanUpdate.unbind(this.panUpdateFn);this._scrollController.PanWheel.unbind(this.panWheelFn)}});return M}.apply(e,n),void 0!==s&&(t.exports=s))},1240:function(t,e,i){"use strict";var n,s;!(n=[i(410),i(1241),i(90),i(1034)],s=function(t,e,i,n){var s,a=1,o=30,r=150,l=5,h=80,c=60,u={YEAR:1,DATE:2,MINUTE:3,SECOND:4};function p(){var t=this._scale.getValues(),e=t.secondaryValues,i=t.secondaryDates,n=[],s;for(s=0;s<e.length;s++)n.push({position:0,value:e[s],opacity:1,label:e[s]});var a=this._getLabels(n,true);a.labelsBetweenTicks=true;a.align=this.yMirrorMode?"right":"left";a.dates=i;this._levels.splice(1);this._levels.unshift(a)}function d(t,e,i,n){var s=i.length*n,a=0,l=t._formatter,h=t._renderer,c=t._style.label.font,u=0;for(var p=0;p<i.length;p++){if(e[p]<o)a++;else if(e[p]<r&&l){u=h.getTextWidth(l.formatValue(i[p]),c);u>e[p]-2*t._labelPadding&&a++}if(a>s)return false}return true}function f(t,e){var i;for(i=0;i<t.length;++i){var s=t[i];var a=d(e,s.widths,s.labels,.1);if(a)break;var o=1.1;var r=s.widths.map(function(t){return t*o});var c=d(e,r,s.labels,.1);if(c){++i;break}}e.indicators=i>0&&i<t.length?t[i-1]:null;if(e.indicators){var u=n.getAvgTickWidth(e.indicators.positions)||e._plotSize;var p=n.getAvgTickWidth(t[i].positions)||e._plotSize;u<l||p<h?e.indicators=null:e._snapTicksAvgWidth=u}return t.slice(i,i+2)}function m(t,e){var i=t.map(function(t){var i=t.qTicks,s=[],o=[],r=[],l=[],h=[],c=[],u,p,d=true;i.forEach(function(t){u=t.qStart;s.push(u);l.push(e.isLabelSelected(t.qStart,t.qEnd)?1:e._globalAlpha);h.push(t.qText);c.push(t.qualifiedText);p=e.getPositionOfValue(u);o.push(Math.abs(p-e.getPositionOfValue(t.qEnd)));p=n.roundToHalf(p);r.push(p);t.qStart!==t.qEnd-1&&(d=false)});if(i.length>0){u=i[i.length-1].qEnd;s.push(u);p=e.getPositionOfValue(u);p=n.roundToHalf(p);r.push(p)}return{align:e.yMirrorMode?"right":"left",labelsBetweenTicks:true,values:s,widths:o,positions:r,opacities:l,labels:h,qualifiedLabels:c[0]?c:null,labelMode:a,labelSpace:e._wantedLabelSpacePerLevel,dayLevel:d,rangeLabels:true,explicitLabels:true}});i=f(i,e);return i}function g(t){var e,i,n=[],s,a,o;for(e=0;e<t.length;e++){a=t[e].qTicks;for(i=0;i<t.length;i++){o=t[i].qTicks;if(e===i||!a[0]||!o[0]||"string"===typeof a[0].qualifiedText||"string"===typeof o[0].qualifiedText)continue;if(a.length===o.length){s=a.every(function(t,e){return t.qStart===o[e].qStart&&t.qEnd===o[e].qEnd});if(s)if(t[e].qTags.contains("$qualified")){o.forEach(function(t,e){t.qualifiedText=a[e].qText});n.push(e)}else{a.forEach(function(t,e){t.qualifiedText=o[e].qText});n.push(i)}}}}n.sort(function(t,e){return e-t});n.forEach(function(e){t.splice(e,1)})}function x(){for(var t=0;t<this._levels.length;++t){var e=this._levels[t];for(var i=0;i<e.values.length;++i){var s=e.values[i];var a=this.getPositionOfValue(s);e.positions[i]=n.roundToHalf(a);if(i<e.values.length-1){var o=this.isLabelSelected(s,e.values[i+1]);e.opacities[i]=o?1:this._globalAlpha}}}}function _(){if(!this._formatter.localeInfo)return;this._levelFormattingPatterns=[];this._labelGranularity===u.YEAR?this._levelFormattingPatterns.push("YYYY"):this._labelGranularity===u.DATE?this._levelFormattingPatterns.push(this._formatter.localeInfo.qDateFmt):this._labelGranularity===u.MINUTE?this._levelFormattingPatterns.push(this._timeformatPatterns.minuteLevel):this._labelGranularity===u.SECOND&&this._levelFormattingPatterns.push(this._timeformatPatterns.secondLevel);this._levelFormattingPatterns.push(this._formatter.localeInfo.qDateFmt)}function y(t,e){var i=e/t,n=3*i*30,s=i/2,a=i/24/60/2;a>this._approxLabelWidths.second?this._labelGranularity=u.SECOND:s>this._approxLabelWidths.minute?this._labelGranularity=u.MINUTE:n>this._approxLabelWidths.date?this._labelGranularity=u.DATE:this._labelGranularity=u.YEAR}s=t.extend("TimeAxis",{init:function t(){this._super.apply(this,[].slice.call(arguments));this._approxLabelWidths={year:c,date:c,minute:c,second:c};this._levelFormattingPatterns=["YYYY","YYYY-mm-yy"];this._labelGranularity=u.YEAR;this._timeformatPatterns={minuteLevel:"hh:mm",secondLevel:"hh:mm:ss"}},_initScales:function t(){this._scale=new e},_generateExplicitLabels:function t(){var e=false;if(this._explicitLabels.length){this._levels=m(this._explicitLabels,this);if(this._levels.length){this._calculationSize/(this._scaleDetails.explicitPlotMax-this._scaleDetails.explicitPlotMin)/2>this._approxLabelWidths.minute&&p.call(this);e=true;if(this._levels.length>1){this._levels[1].qualifiedLabels&&(this._levels[1].labels=this._levels[1].qualifiedLabels);this._levels[1].outOfSyncWithLevelBelow=!this._levels[1].dayLevel&&!this._levels[1].values.every(function(t){return t<this._scale._dataMin||t>this._scale._dataMax||this._levels[0].values.indexOf(t)>-1}.bind(this))}this.ticks=n.getTicks(this._levels[0].values,this._padding,this._plotSize);this.minorTicks=[];if(this._levels.length>1){this.minorTicks=this.ticks.filter(function(t){return-1===this._levels[1].values.indexOf(t.value)},this);this.ticks=this.ticks.filter(function(t){return-1!==this._levels[1].values.indexOf(t.value)},this)}}}return e},calculatePreliminaryLabelSpace:function t(){var e=this._super.apply(this,arguments);e.relevantLabelSize*=2;return e},calculateLabelSpace:function t(){var e=this._super.apply(this,arguments);e.relevantLabelSize*=2;return e},_initLevels:function t(){if(this.useExplicitLabels){x.call(this);this._levels[0].formatPattern=this._levelFormattingPatterns[0]}else{this._levels=[this._getLabels(this.minorTicks,true)];this._levels[0].labelsBetweenTicks=true;this._levels[0].align=this.yMirrorMode?"right":"left";this._levels[0].dates=this._minorTickDates;this._levels[0].formatPattern=this._levelFormattingPatterns[0];if(this.ticks.length){this._levels.push(this._getLabels(this.ticks,true));this._levels[1].labelsBetweenTicks=true;this._levels[1].align=this.yMirrorMode?"right":"left";this._levels[1].dates=this._tickDates;this._levels[1].formatPattern=this._levelFormattingPatterns[1]}}},_calculateScale:function t(e){if(0===e)return;var i=this._scaleDetails,n=Number.isNaN(+i.realDataMin)?i.dataMin:i.realDataMin,s=Number.isNaN(+i.realDataMax)?i.dataMax:i.realDataMax,a=Number.isNaN(+i.explicitPlotMin)||null===i.explicitPlotMin?n:i.explicitPlotMin,o=Number.isNaN(+i.explicitPlotMax)||null===i.explicitPlotMax?s:i.explicitPlotMax,r;r=this.isRadial()?96:Math.max(c,this._getApproximateLabelWidth(a,o,this._levelFormattingPatterns[0])+this._labelPadding);var l=this.isVertical()?4*this._fontHeight:r,h=Math.max(2,e/l/i.tickMultiplier+1);l=e/(h-1);i.usedDataMin=n;i.usedDataMax=s;i.minTickSpacingInPixel=l;i.plotSize=this._plotSize;i.calculationSize="undefined"!==typeof e?e:this._calculationSize;i.fontHeight=this._fontHeight;i.showExplicitMinMax=false;Object.keys(i).forEach(function(t){this._scale["_"+t]=i[t]},this);this._scale.calculateTicks(this._approxLabelWidths,"T"===this._formatter.type)},_generateTickObjects:function t(e,i){this.useExplicitLabels=this._generateExplicitLabels();if(!this.useExplicitLabels){var s=e.getValues();this.ticks=n.getTicks(s.mainValues,this._padding,i);this.minorTicks=n.getTicks(s.secondaryValues,this._padding,i);this._tickDates=s.mainDates;this._minorTickDates=s.secondaryDates}},_updateTickFormatting:function t(e,i){var n,s,a,o;for(n=0;n<e.length;n++)if(!e[n].explicitLabels){a=e[n].dates&&e[n].values.length!==e[n].dates.length;o=i._dateFormatter&&e[n].dates&&e[n].dates.length&&!a;for(s=0;s<e[n].values.length;s++)e[n].labels[s]=o?i._dateFormatter.format(e[n].dates[s],e[n].formatPattern):i.formatValue(e[n].values[s])}},formatValue:function t(e){if(this._discrete||!this._formatter)return e+"";var i="YYYY"===this._levels[0].formatPattern?void 0:this._levels[0].formatPattern;return this._formatter.formatValue(e,i)},setLabels:function t(e){this._explicitLabels=i.extend(true,[],e).reverse();g(this._explicitLabels)},updateFormatter:function t(){this._super();if(!this._formatter.localeInfo)return;var e=/t+/gi.test(this._formatter.localeInfo.qTimestampFmt);this._timeformatPatterns.minuteLevel=e?"h:mm tt":"hh:mm";this._timeformatPatterns.secondLevel=e?"h:mm:ss tt":"hh:mm:ss";var i=41000.2343433;this._approxLabelWidths={year:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,"YYYY"),this._style.label.font)+this._labelPadding+20),date:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,this._formatter.localeInfo.qDateFmt),this._style.label.font)+this._labelPadding+20),minute:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,this._timeformatPatterns.minuteLevel),this._style.label.font)+this._labelPadding+20),second:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,this._timeformatPatterns.secondLevel),this._style.label.font)+this._labelPadding+20)}},_updateScaleAndTicks:function t(){if(this._scaleDetails.calculationSize){y.call(this,this._scaleDetails.explicitPlotMax-this._scaleDetails.explicitPlotMin,this._scaleDetails.calculationSize);_.call(this)}this._super()}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},1241:function(t,e,i){"use strict";var n,s;!(n=[i(1304),i(1242)],s=function(t,e){var i=t.extend("TimeScale",{init:function t(){this._super.apply(this,arguments);this.mainDates=[];this.secondaryDates=[]},calculateTicks:function t(i,n){var s,a,o,r,l;a=Number.isNaN(+this._realDataMin)?this._dataMin:this._realDataMin;s=e.calculateTicks(this._calculationSize,a,this._explicitPlotMin,this._explicitPlotMax,i,n);this._mergeResult(s);if(0===this.secondaryValues.length&&!Number.isNaN(+this.plotMin)){this.secondaryValues=[this.plotMin];this.secondaryDates=[e.getUnixDate(this.plotMin)]}0===this._tickSpacing&&(this._tickSpacing=1);if(this._showExplicitMinMax){r=this.secondaryValues[0];l=this.secondaryDates[0];this.secondaryValues[0]=s.plotMin;this.secondaryDates[0]=e.getUnixDate(s.plotMin);if(r-s.plotMin>=s.tickSpacing/2){this.secondaryValues.splice(1,0,r);this.secondaryDates.splice(1,0,l)}o=s.mainTickValues[s.mainTickValues.length-1];if(s.plotMax-o<=s.tickSpacing/2){this.secondaryValues[s.mainTickValues.length-1]=s.plotMax;this.secondaryDates[s.secondaryDates.length-1]=e.getUnixDate(s.plotMax)}else{this.secondaryValues.push(s.plotMax);this.secondaryDates.push(e.getUnixDate(s.plotMax))}}},_mergeResult:function t(e){this._tickSpacing=e.tickSpacing;this.plotMin=e.plotMin;this.plotMax=e.plotMax;this.plotRange=this.plotMax-this.plotMin;this.tickMin=e.tickMinValue;this.tickMax=e.tickMaxValue;this.mainValues=e.mainTickValues;this.mainDates=e.mainDates;this.secondaryValues=e.secondaryTickValues;this.secondaryDates=e.secondaryDates},getValues:function t(){return{mainValues:this.mainValues,mainDates:this.mainDates,secondaryValues:this.secondaryValues,secondaryDates:this.secondaryDates}}});return i}.apply(e,n),void 0!==s&&(t.exports=s))},1242:function(t,e,i){"use strict";var n,s;!(n=[],s=function(){var t=25569,e=86400,i=1440;var n={dateToQlikTimestamp:function e(i){return i.getTime()/1e3/86400-i.getTimezoneOffset()/60/24+t},getUnixDate:function t(e){return new Date(1899,11,30+e)},calculateTicks:function t(n,s,a,o,r,l){var h=this.getUnixDate(s),c=h.getFullYear(),u=h.getMonth(),p=h.getDate(),d=a-s,f=o-a,m=n/f,g=m/1440,x=m/e,_=366*m,y=3*m*30,v=r.second/x,b=r.minute/g,D=r.date/y,M=r.year/_,A,S=0,q,C=0,w=null,L=null,P=null,T=null,k=null,z=null,O={plotMin:a,plotMax:o,tickMin:0,tickMax:0,mainTickValues:[],mainDates:[],secondaryTickValues:[],secondaryDates:[]};if(v<1){w=1;C=1/e}else if(v<2){w=2;C=1/e*2}else if(v<5){w=5;C=1/e*5}else if(v<10){w=10;C=1/e*10}else if(v<30){w=30;C=1/e*30}else if(b<1){L=1;C=1/i}else if(b<2){L=2;C=1/i*2}else if(b<5){L=5;C=1/i*5}else if(b<10){L=10;C=1/i*10}else if(b<30){L=30;C=1/i*30}else if(b<60){P=1;C=1/24}else if(b<120){P=2;C=2/24}else if(b<360){P=6;C=.25}else if(b<720){P=12;C=.5}else if(D<1/90){T=1;C=1}else if(D<2/90){T=2;C=2}else if(D<7/90){T=7;C=7}else if(D<31/90){k=1;C=31}else if(D<1){k=3;C=90}else if(M<1){z=1;C=366}else if(M<2){z=2;C=732}else if(M<5){z=5;C=1826.25}else{z=10;C=3652.5}q=Math.floor((d+s%1)/C);while(S<o){A=z?new Date(c+q*z,0,1):k?new Date(c,u+q*k,1):T?new Date(c,u,p+q*T):P?new Date(c,u,p,0+q*P):L?new Date(c,u,p,0,0+q*L):new Date(c,u,p,0,0,0+q*w);S=this.dateToQlikTimestamp(A);O.secondaryDates.push(A);O.secondaryTickValues.push(S);var N=Math.floor(S);if(!l&&!z&&!k&&!T&&O.mainTickValues[O.mainTickValues.length-1]!==N){O.mainDates.push(this.getUnixDate(N));O.mainTickValues.push(N)}q++}O.tickSpacing=C;O.tickMinValue=O.secondaryTickValues[0];O.tickMaxValue=O.secondaryTickValues[O.secondaryTickValues.length-1];return O}};return n}.apply(e,n),void 0!==s&&(t.exports=s))},1243:function(t,e,i){"use strict";var n,s;!(n=[i(180),i(104),i(11),i(96),i(109),i(100)],s=function(t,e,i,n,s,a){var o,r=".scrollarea";function l(t){var i=this,n=this.isVertical(),s,a={size:n?"height":"width",pos:n?"y":"x",coord:n?"pageY":"pageX"},o=new e(0,0,0,0),r=i._$renderAreaWrap.offset(),l,h;o.x=r.left;o.y=r.top;o.width=i._$renderAreaWrap.width();o.height=i._$renderAreaWrap.height();this.fire("scrollStart");h=i.scrollRect[a.size]*o[a.size];l=t.points[0][a.pos]-o[a.pos];this.yMirrorMode&&!n&&(l=o.width-l);s=l-h/2;i.scrollRect[a.pos]=Math.max(0,Math.min(o[a.size]*(1-i.scrollRect[a.size]),s))/o[a.size];i.setOffset(i.scrollRect[a.pos]*i.fullState.max)}function h(t){var i=this,n=this.isVertical(),s={size:n?"height":"width",pos:n?"y":"x",coord:n?"pageY":"pageX"},a=this.yMirrorMode&&!n,o=i._$renderAreaWrap.offset();this._containerRect=new e(0,0,0,0);this._containerRect.x=o.left;this._containerRect.y=o.top;this._containerRect.width=i._$renderAreaWrap.width();this._containerRect.height=i._$renderAreaWrap.height();i.scrollRect[s.size]=i.viewState.range/i.fullState.max;this._rp=t.points[0][s.pos]-this._containerRect[s.pos]-i.scrollRect[s.pos]*this._containerRect[s.size];a&&(this._rp=i.scrollRect[s.size]*this._containerRect[s.size]-this._rp);i.startScrollPos=i.scrollRect[s.pos];i.startScrollSize=i.scrollRect[s.size];if(this._rp<0){i.scrollRect[s.pos]=Math.max(0,i.scrollRect[s.pos]-this._rp/this._containerRect[s.size]);this._rp=0}else if(this._rp/this._containerRect[s.size]>i.scrollRect[s.size]){i.scrollRect[s.pos]=Math.min(1,this._rp/this._containerRect[s.size])-i.scrollRect[s.size];this._rp=i.scrollRect[s.size]*this._containerRect[s.size]}this.fire("scrollStart")}function c(t){var e=this,i=this.options,n=this.isVertical(),s="function"===typeof i.onScroll?i.onScroll:function(){},a={size:n?"height":"width",pos:n?"y":"x",coord:n?"pageY":"pageX"},o=t.points[0][a.pos]-this._containerRect[a.pos],r=this.yMirrorMode&&!n,l=1e-5;if(this.allowResize){var h=(o-this._rp)/this._containerRect[a.size]-e.startScrollPos;var c=e.startScrollPos;var u=c+e.startScrollSize;if(/start/.test(t.relatedTarget.className)){t.relatedTarget.classList.add("active");c=Math.max(0,Math.min(u-l,c+h))}else if(/end/.test(t.relatedTarget.className)){t.relatedTarget.classList.add("active");u=Math.min(1,Math.max(c+l,u+h))}else{c=Math.min(1-e.startScrollSize,Math.max(0,c+h));u=Math.min(1,Math.max(0+e.startScrollSize,u+h))}e.setViewRange((u-c)*e.fullState.max);r?e.setOffset((1-u)*e.fullState.max):e.setOffset(c*e.fullState.max);e.fire("offsetChanged")}else{r&&(o=this.rect.width-o);e.scrollRect[a.pos]=Math.max(0,Math.min(this._containerRect[a.size]*(1-e.scrollRect[a.size]),o-this._rp))/this._containerRect[a.size];e.setOffset(e.scrollRect[a.pos]*e.fullState.max)}s()}function u(){if(!this.miniChart)return;var t=this;n(this.miniChart.container).tap({id:r,end:function e(i,n){l.call(t,n)}});n(this.miniChart.container).swipe({id:r,options:{radiusThreshold:1},start:function e(i,n){h.call(t,n)},update:function e(i,n){c.call(t,n)},end:function t(e,i){i.relatedTarget.classList.remove("active")}})}function p(){if(!this.miniChart)return;i(this.miniChart.container).off(r);n(this.miniChart.container).off("*",r)}function d(){this.miniChart&&(this._internalUseMiniChart?this.miniChart.showComponent():this.miniChart.hideComponent())}function f(t,e){var i=this.viewState.min;var n=this._relativeOffset?this._explicitOffset*(this.fullState.max-this.viewState.range):this._explicitOffset||0;this.viewState.min=Math.max(0,Math.min(n||0,(this.fullState.max||0)-(this.viewState.range||0)));if(this.viewState.min!==i){this.invalidateDisplay(t);e&&this.fire("offsetChanged")}}function m(t,e,i){var n=Array.isArray(t)?t:[t];n.forEach(function(t){i.forEach(function(e){t.style[e]=""});t.className=e})}o=t.extend("ScrollArea",{init:function t(){this._super.apply(this,Array.prototype.slice.call(arguments));this._useMiniChart=true;this._internalUseMiniChart=true;this._miniChartThreshold=.5;this._miniChartMinimunNumberOfBars=3;this.scrollRect=new e(0,0,0,0);this.fullState={min:0,max:20};this.viewState={min:0,range:10};this.allowResize=false;this._$renderAreaWrap.addClass("qv-chart-component-scroll-area");this.before=document.createElement("div");this.bar=document.createElement("div");this.after=document.createElement("div");this.before.style.position="absolute";this.bar.style.position="absolute";this.after.style.position="absolute";this.before.style.backgroundColor="rgba(0,0,0,0.1)";this.after.style.backgroundColor="rgba(0,0,0,0.1)";this.bar.style.marginTop="-1px";i(this.before).attr("tid","component.scrollArea.before");i(this.bar).attr("tid","component.scrollArea.bar");i(this.after).attr("tid","component.scrollArea.after");i(this.bar).append('<div class="q-resize-handle q-resize-handle-start">');i(this.bar).append('<div class="q-resize-handle q-resize-handle-end">');this.container.appendChild(this.before);this.container.appendChild(this.after);this.container.appendChild(this.bar);this._styleService=a.initializeService("object."+this.options.parentType);this.before.style.backgroundColor=this._styleService.getStyle("","color");this.after.style.backgroundColor=this._styleService.getStyle("","color");this.before.style.opacity=.1;this.after.style.opacity=.1},on:function t(){var e=this;this._super();n(this.container).tap({id:r,end:function t(i,n){l.call(e,n)}});n(this.container).swipe({id:r,options:{radiusThreshold:1},start:function t(i,n){h.call(e,n)},update:function t(i,n){c.call(e,n)},end:function t(e,i){i.relatedTarget.classList.remove("active")}});u.call(this);this._on&&this.allowResize&&this.container.classList.add("q-allow-resize")},off:function t(){this._super();i(this.container).off(r);n(this.container).off("*",r);p.call(this);this.container.classList.remove("q-allow-resize")},setAllowResize:function t(e){this.allowResize=e;this.container.classList[e&&this._on?"add":"remove"]("q-allow-resize")},calculateRelevantSize:function t(){var e=n.utils.touch?32:16,i;if(this.miniChart&&this._useMiniChart){this.miniChart.calculateRelevantSize();i=this.miniChart.relevantSize;this._internalUseMiniChart=true;d.apply(this)}this.relevantSize=this._internalUseMiniChart?i||16:e},insertAdjacentTo:function t(){this._super.apply(this,[].slice.apply(arguments));this.miniChart&&this.miniChart.setRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height)},setRect:function t(){this._super.apply(this,[].slice.apply(arguments));this.miniChart&&this.miniChart.setRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height)},setDock:function t(e){this._super(e);this.miniChart&&this.miniChart.setDock(e)},getOffset:function t(){return this.viewState.min},setRelativeOffset:function t(e){this._explicitOffset=e;this._relativeOffset=true;f.call(this,"ScrollArea.setOffset",true)},setOffset:function t(e){this._explicitOffset=e;this._relativeOffset=false;f.call(this,"ScrollArea.setOffset")},setMiniChart:function t(e){this.miniChart&&p.call(this);this.miniChart=e;this.miniChart.setDock(this.options.dock);d.apply(this);this._on&&u.call(this);this.invalidateDisplay("ScrollArea.setMiniChart")},setUseMiniChart:function t(e){this._useMiniChart=e;this._internalUseMiniChart=e;d.apply(this);this.invalidateDisplay("ScrollArea.setUseMiniChart")},getUseMiniChart:function t(){return this._useMiniChart},setViewRange:function t(e){this.viewState.range=e;f.call(this,"ScrollArea.setViewRange",true);this.invalidateDisplay("ScrollArea.setViewRange")},getViewRange:function t(){return this.viewState.range},setSpaces:function t(e){this._spaces=e},setDataRange:function t(e){this.dataRange=e;this.invalidateDisplay("ScrollArea.setDataRange")},getDataRange:function t(){return this.dataRange},setFullRange:function t(e){this.fullState.max=e;f.apply(this,["ScrollArea.setFullRange",true]);this.invalidateDisplay("ScrollArea.setFullRange")},getFullRange:function t(){return this.fullState.max},isVisible:function t(e){return this._super(e)&&(this.viewState.range<this.fullState.max||this.allowResize)},setOuterRect:function t(e,i,n,s){this._super(e,i,n,s);this.miniChart&&this.miniChart.setOuterRect(e,i,n,s)},setLayoutToContainerRatios:function t(e,i){this._super(e,i);this.miniChart&&this.miniChart.setLayoutToContainerRatios(e,i)},setContainerRect:function t(e,i,n,s){this._super(e,i,n,s);this.miniChart&&this.miniChart.setContainerRect(e,i,n,s)},updateSize:function t(){this._super();var e=this._styleService.getStyle("","color");if(this.miniChart&&this._internalUseMiniChart&&this.miniChart.isVisible()){this.before.style.display="block";this.bar.style.border="1px solid "+s.toRGBA(e,.4);this.bar.style.backgroundColor="transparent";this.after.style.display="block";if(this.isVertical())m.apply(this,[[this.before,this.bar,this.after],"qv-chart-scrollable-mini-chart-vertical",["width","left"]]);else{m.apply(this,[[this.before,this.after],"qv-chart-scrollable-mini-chart-horizontal",["height","top"]]);m.apply(this,[this.bar,"qv-chart-scrollable-mini-chart-bar-horizontal",["height","top"]])}}else{this.before.style.display="none";this.bar.style.backgroundColor=s.toRGBA(e,.2);this.bar.style.boxShadow="none";this.bar.style.border="none";this.after.style.display="none";this.isVertical()?m.apply(this,[this.bar,"qv-chart-scrollable-vertical",["width","left"]]):m.apply(this,[this.bar,"qv-chart-scrollable-horizontal",["height","top"]])}},paint:function t(e,n){var s;this.before.style.backgroundColor=this._styleService.getStyle("","color");this.after.style.backgroundColor=this._styleService.getStyle("","color");this.before.style.opacity=.1;this.after.style.opacity=.1;this.container.style.display="block";this._super(e,n);this.scrollRect[this.isVertical()?"height":"width"]=this.viewState.range/this.fullState.max;this.scrollRect[this.isVertical()?"y":"x"]=this.viewState.min/this.fullState.max;this.yMirrorMode&&!this.isVertical()&&(this.scrollRect.x=1-this.scrollRect.width-this.scrollRect.x);s=this.scrollRect[this.isVertical()?"height":"width"]*this.rect[this.isVertical()?"height":"width"];s=s<1?1:s;s=100*s/this.rect[this.isVertical()?"height":"width"];if(this.isVertical()){i(this.before).css({height:100*this.scrollRect.y+"%",top:"0%"});i(this.bar).css({top:100*this.scrollRect.y+"%",height:s+"%"});i(this.after).css({top:100*this.scrollRect.y+s+"%",height:100-(100*this.scrollRect.y+s)+"%"})}else{i(this.before).css({width:100*this.scrollRect.x+"%",left:"0%"});i(this.bar).css({left:100*this.scrollRect.x+"%",width:s+"%"});i(this.after).css({left:100*this.scrollRect.x+s+"%",width:100-(100*this.scrollRect.x+s)+"%"})}},clear:function t(){this.container.style.display="none"}});Object.defineProperty(o.prototype,"className",{value:"ScrollArea"});return o}.apply(e,n),void 0!==s&&(t.exports=s))},1244:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){return{getFocusRange:function t(e,i,n,s){var a={},o,r,l=i<1?0:i-1,h=e.length-n-1;if(s<2)a[e[0][1].qElemNumber]={lower:null,upper:null};else for(r=0;r<e.length;r++)a[e[r][1]]||(a[e[r][1].qElemNumber]={lower:null,upper:null});for(r=i-1;r>=0;r--){o=a[e[r][1].qElemNumber];o&&!o.lower&&(o.lower=r)}for(r=e.length-n;r<e.length;r++){o=a[e[r][1].qElemNumber];o&&!o.upper&&(o.upper=r)}Object.keys(a).forEach(function(t){a[t].lower<l&&(l=a[t].lower);a[t].upper>h&&(h=a[t].upper)});return{lower:l,upper:h}},getFullContinuousRange:function t(e){var i=e.qHyperCube.qDimensionInfo[0].qMin;var n=e.qHyperCube.qDimensionInfo[0].qMax;if(n<i||"NaN"===n){i="NaN";n="NaN"}else if(i===n){i-=.5;n+=.5}return{min:i,max:n}},addContinuousDataToLayout:function e(i,n){i=t.extend({},i);i.qHyperCube=t.extend({},i.qHyperCube,{qMode:"S"});i.qHyperCube.qDataPages=n.qDataPages;i.qHyperCube.qAxisData=n.qAxisData;return i}}}.apply(e,n),void 0!==s&&(t.exports=s))},1245:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(102),i(164),i(146),i(232),i(256)],s=function(t,e,i,n,s,a){var o=3;var r=a.extend("PanScrollController",{init:function s(a,r,l){e.mixin(this);this.notification("PanStart");this.notification("PanUpdate");this.notification("PanWheel");this.notification("PanEnd");this._$dataAreaContainer=a;this._$fullContainer=r;var h=this;this._options=t.extend(true,{preventDefault:true},l);function c(t,e){h._panning=true;h._panX=e.points[0].x;h._panY=e.points[0].y;h.PanStart.emit()}function u(t){h._panning=true;h._panX=t.pageX;h._panY=t.pageY;h.PanStart.emit()}function p(t,e){if(!h._panning){h._panning=true;h._panX=e.points[0].x;h._panY=e.points[0].y}var i=e.swipe&&e.swipe.currentPoint?e.swipe.currentPoint:new n(t.pageX,t.pageY);var s=new n(i.x-h._panX,i.y-h._panY);h._panX=i.x;h._panY=i.y;h.PanUpdate.emit(s)}function d(){h._panning=false;h.PanEnd.emit()}function f(t){var e=i.getMouseWheelData(t.originalEvent);if(!e.delta)return;var n=e.delta>0?o:-o;h.PanWheel.emit(n)}this._eventHandlers={preventDefault:true,swipe:{start:c,update:p,end:d},swipetwo:{start:c,update:p,end:d},mousewheel:i.throttle(f,20),wheelswipe:{start:u,update:p,end:d},exclusive:function t(){return false},active:function t(){return true}}},on:function t(){if(this._isOn)return;s.addInteraction(this._eventHandlers,this._$dataAreaContainer,2,["swipe","swipetwo","mousewheel","wheelswipe"]);this._isOn=true},off:function t(){if(!this._isOn)return;s.removeInteraction(this._eventHandlers);this._isOn=false}});return r}.apply(e,n),void 0!==s&&(t.exports=s))},1251:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(90),i(1034)],s=function(t,e,i){var n,s={LINE:"line",AREA:"area",STACKED:"stackedArea"},a={GAP:"gap",CONNECT:"connect",ZERO:"zero"};function o(t,e,i,n){return i<t||n>e}function r(t){return t.color.byMeasureDef&&t.color.byMeasureDef.activeMeasureIndex>=0&&1===t.qHyperCube.qMeasureInfo.length}n=t.extend("LineObjectsModel",{init:function t(){this._lineObjectSettings=[]},update:function t(i,n){this._updateLineObjectsSettings(i,e.extend({selections:this._getSelected(i,n.numDimensions)},n))},getLineObjectsSettings:function t(){return this._lineObjectSettings},getPointsOutOfRange:function t(){return this._outOfRange.points},_updateLineObjectsSettings:function t(i,n){var s,a=i?i.length:0,o,r,l,h,c,u;this._outOfRange={up:{},down:{},points:[]};this._lineObjectSettings=[];for(s=0;s<a;s++){o=i[s];r=n.minorAxes[n.measureToAxisIndex[o.measureIdx]];l=n.axesSettings[n.measureToAxisIndex[o.measureIdx]];h=this._getColorSettings(n.colorMap,l,r);c=[];this._updateLinePoints(i[s].points,c,this._outOfRange,e.extend({majorAxis:n.majorAxis,minorAxis:r,measureIdx:o.measureIdx,axisSettings:l,isLineSelected:n.selections.lines.indexOf(s)>=0},n));u=e.extend({info:i.info,colors:h,clippings:this._getClippings(r,n.rect),idx:i.idx,points:c},n);this._lineObjectSettings.push(u)}},_updateLinePoints:function t(e,n,r,l){var h,c,u,p,d,f,m,g,x=.5,_,y,v,b,D,M=e?e.length:0,A=1===M,S=l.yMirrorMode,q=l.rect.width,C=l.rect.height;m=0;for(c=0;c<M;c++){if(!e[c])continue;h=e[c];u=h.idx;p={x:l.isNumeric?l.numericAxis.getPositionOfValue(h.dimValue):l.majorAxis.getPositionOfValue(u,0),y:l.minorAxis.zeroPos};d=h.cacheCircle;if(d){d.cx=p.x;d.cy=p.y}if(A&&(p.x<0||p.x>q))continue;if(h.isNaN&&!h.hasRightNeighbour&&"number"!==typeof h.nearestRightNeighbour)break;if(h.isNaN&&l.lineType===s.STACKED&&l.nullMode===a.CONNECT&&true!==h.isInterpolationOffset);else if(h.isNaN&&true!==h.isInterpolationOffset){n.push(false);continue}g=h.hasRightNeighbour?e[c+1].idx:h.nearestRightNeighbour;f="undefined"!==typeof g?l.isNumeric?e[g]?l.numericAxis.getPositionOfValue(e[g].dimValue):NaN:l.majorAxis.getPositionOfValue(g,0):NaN;if(!S&&o(0,q,f,m)||S&&o(0,q,m,f)){n.push(false);continue}_=h.cacheItem&&h.cacheItem.selected;var w=!_&&l.isLineSelected&&l.selections.synqronize&&this._isSelectedIndirectly(u,l.selections.lines,l.selections.points);var L=l.minorAxis.getPositionOfValue(h.aggregated.end);p.y=i.roundToHalf(L)+x;p.y<-1e5&&(p.y=-1e5);p.y>C+1e5&&(p.y=C+1e5);if(d){d.r=Math.max(l.style.dataPoints.size.normal/2,8);d.cy=Math.max(l.axisSettings.topCutoff,Math.min(l.axisSettings.bottomCutoff,p.y))}h.isNaN||(m=p.x);y=h.cacheItem&&(h.cacheItem.parent?[h.cacheItem.parent.id,h.cacheItem.id]:h.cacheItem.id);v=l.colorMap.getColor(y,h.aggregated.end,l.measureIdx,h.rowIndex).toRGBA();if(A)D=true;else{D=!h.hasLeftNeighbour&&!h.hasRightNeighbour&&l.nullMode===a.GAP;D&&l.isNumeric&&(D=(0==c||e[c-1])&&(c===M-1||e[c+1]))}b={size:_?l.style.dataPoints.size.selected:l.style.dataPoints.size.normal,selected:_||w,selectedIndirectly:w,text:h.cacheItem?h.cacheItem.getDimensions()[0]:"",measureIdx:h.measureIdx,label:h.label,value:h.aggregated.end,isNaN:h.isNaN,isInterpolationOffset:h.isInterpolationOffset,color:v,outOfRangeUp:L<l.axisSettings.topCutoff,outOfRangeDown:L>l.axisSettings.bottomCutoff,outOfDimensionBounds:p.x<0||p.x>q,outOfBounds:p.x<0||p.x>q||h.aggregated.end>l.axisSettings.plotMax||h.aggregated.end<l.axisSettings.plotMin,dataIndex:u,isSingle:D,hidden:h.hidePoint,x:p.x,y:p.y,y1:0===h.aggregated.start?l.axisSettings.areaStartBase:l.minorAxis.getPositionOfValue(h.aggregated.start),cacheItem:h.cacheItem,isNull:h.cacheItem&&-2===h.cacheItem.id};if(b.outOfRangeUp||b.outOfRangeDown)if(b.outOfRangeUp&&!r.up[b.x]){r.points.push(b);r.up[b.x]=true}else if(b.outOfRangeDown&&!r.down[b.x]){r.points.push(b);r.down[b.x]=true}n[u]=b}},_getSelected:function t(e,i){var n,s,a,o=[],r=[],l=e.length;if(i)for(n=0;n<l;n++){a=e[n].points;for(s=0;s<a.length;s++){if(!a[s])continue;if(a[s].cacheItem&&a[s].cacheItem.selected)if(-1===o.indexOf(n)){o.push(n);r[n]=[a[s].idx]}else r[n].push(a[s].idx)}}return{lines:o,points:r,synqronize:o.length>1}},_isSelectedIndirectly:function t(e,i,n){var s,a,o,r=i?i.length:0,l=false;for(s=0;s<r;s++){o=n[i[s]];for(a=0;a<o.length;a++)if(e===o[a]){l=true;break}}return l},_getMeasureGradient:function t(e,i,n){var s={gradient:{colors:[],limits:[],x0:0,x1:0,y0:e.posMin,y1:e.posMax}};i.getColorMapping().slice().reverse().forEach(function(t){s.gradient.colors.push(t.grad[1].toRGBA());s.gradient.colors.push(t.grad[0].toRGBA());s.gradient.limits.push(Math.min(1,Math.max(0,n.getNormalizedValue(t.id[1]))));s.gradient.limits.push(Math.min(1,Math.max(0,n.getNormalizedValue(t.id[0]))))});return s},_getClippings:function t(e,i){var n=e.getPadding(),s=n.top-1,a=e.rect.height-n.top-n.bottom+2;return{areaClip:{x:0,y:s,width:i.width,height:a},lineClip:{x:0,y:s,width:i.width,height:a}}},_getColorSettings:function t(e,i,n){var s=.3,a=false,o=false;if(e.mode&&e.mode===e.MEASURE&&!Number.isNaN(+i.posMin)&&r(e._data)){s=.6;o=this._getMeasureGradient(i,e,n)}else if(e.mode&&e.mode===e.EXPRESSION||e.mode===e.MEASURE&&!Number.isNaN(+i.posMin)){a=true;s=.6}return{isExpression:a,areaAlpha:s,varyingPointColors:a,gradient:o}}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1252:function(t,e,i){"use strict";var n,s;!(n=[i(307),i(1052)],s=function(t,e){var i;i=t.extend("LineObjectLayer",{init:function t(e){this._super(e,{name:"line-objects-layer"})},updateInstances:function t(i,n){var s=i?i.length:0,a,o=[];this.renderer.stage.removeChildren();for(a=0;a<s;a++)o.push(new e(i[a],{showArea:n.showArea}));this.renderer.stage.addChildren(o);this._lineObjects=o},getLineObjects:function t(){return this._lineObjects},getPolyLinesInRange:function t(e,i,n){return this._lineObjects.map(function(t){return t.getLinesInRange(e,i,n)})},update:function t(e){var i,n=this._lineObjects?this._lineObjects.length:0;for(i=0;i<n;i++)this._lineObjects[i].update(e[i])}});return i}.apply(e,n),void 0!==s&&(t.exports=s))},1253:function(t,e,i){"use strict";var n,s;!(n=[i(292),i(1049),i(278),i(293)],s=function(t,e,i,n){var s;function a(t){switch(t){case"diamond":case"triangle":return new i;case"circle":return new e;case"line":return new n;default:return new n}}function o(t,e,i,n,s){var a=n;switch(s){case"circle":t.set(e,i,.5*a);break;case"diamond":t.set([{x:e,y:i-a/2},{x:e-a/2,y:i},{x:e,y:i+a/2},{x:e+a/2,y:i}]);break;case"triangle":t.set([{x:e,y:i-a/2},{x:e-a/2,y:i+a/2},{x:e+a/2,y:i+a/2}]);break;default:a=n;t.set(e-a/2,i-a/2,a,a)}}s=t.extend("Points",{init:function t(e){this._super();this._symbol=e||"circle"},update:function t(e){var i,n,s,r=e.points?e.points:[],l=0,h=false,c=r?r.length:0;for(n=0;n<c;n++){s=r[n];if(!s||s.outOfDimensionBounds||s.isNaN)continue;i=this._children[l++];if(!i){i=a(this._symbol);this.addChild(i)}o(i,s.x,s.y,s.size,this._symbol);i.fill=s.selectedIndirectly?"white":s.color;i.stroke=s.selectedIndirectly?s.color:!!s.selected&&"white";i.opacity=s.selected||s.selectedIndirectly?1:e.globalAlpha;i.strokeWidth=1.5;i.visible=!s.outOfBounds&&!s.isNaN&&!s.hidden&&(e.showDataPoints||s.isSingle||s.keep||s.selected);i.visible&&!h&&(h=i.true);i.data.outOfBounds=s.outOfBounds;i.data.value=s.value;i.data.label=s.label;i.data.dataIndex=s.dataIndex;i.data.text=s.text}l<this._children.length&&this.removeChildren(this._children.slice(l-this._children.length));this.visible=h;this._selectedSize=e.style.dataPoints.size.selected;return this},getFromRange:function t(i,n,s){return this.children.filter(function(t){return s?t.cx>=i&&t.cx<=n&&t.visible:t.cx>=i&&t.cx<n&&t.visible}).map(function(t){var i=new e(t.cx,t.cy,.5*this._selectedSize);i.fill=t.fill;i.stroke="white";i.opacity=1;i.strokeWidth=1.5;return i},this)}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},1254:function(t,e,i){"use strict";var n,s;!(n=[i(292),i(278),i(1002)],s=function(t,e,i){var n,s={GAP:"gap",CONNECT:"connect",ZERO:"zero"};function a(t){var e,i=[];for(e=0;e<t.length;e++)i=i.concat(o(t[e]));return i}function o(t){var e=[],i,n,s,a,l,h,c,u=t._polygons[0].points;if(!u||u.length<2)return e;t.data.selected=u[0].selected&&u[1].selected;h=null;c=u.length-1;for(l=1;l<u.length;l++)if(u[l-1].selected&&u[l].selected){h=l-1;break}if(null!==h){for(l=h;l<u.length;l++)if(!u[l].selected){c=l-1;break}n=u.slice(0,h+1);s=u.slice(h,c+1);a=u.slice(c);if(n&&n.length>1){i=r(n,t);e.push(i)}if(s&&s.length>1){i=r(s,t);i.data.selected=true;e.push(i)}if(a&&a.length>1){i=r(a,t);e=e.concat(o(i))}}else e.push(t);return e}function r(t,i){var n=new e(t);n.opacity=i.opacity;n.close=false;n.stroke=i.stroke;n.strokeWidth=i.strokeWidth;n.lineJoin=i.lineJoin;n.lineCap=i.lineCap;return n}function l(t,i,n,o){var r,l,h,c,u,p,d=[];c=i?i.length:0;u=[];for(r=0;r<c;r++){p=i[r];if(!p||p.isNaN&&true!==p.isInterpolationOffset){if((void 0!==p||!t.isNumeric)&&n===s.GAP&&h&&d.length){h.set(d);u.push(h);h=null;d=[]}continue}if(!h){h=new e;h.close=false;h.stroke=o||p.color||"#333333";h.lineJoin="round";h.lineCap="round";h.opacity=1;d=[];p.isNull&&!o&&i[r+1]&&(h.stroke=i[r+1].color||"#333333");if(p.hidden&&!o)for(l=1;l<c-r;++l)if(i[r+l]&&!i[r+l].hidden){h.stroke=i[r+l].color||"#333333";break}}d.push({x:p.x,y:p.y,selected:p.selected,dataIndex:p.dataIndex,y_:p.y1})}if(h&&d.length>1){h.set(d);u.push(h)}u=a(u);c=u.length;for(r=0;r<c;r++){u[r].strokeWidth=t.style.line.width*(u[r].data.selected?2:1);u[r].opacity=u[r].data.selected?1:t.globalAlpha}return u}function h(t,e,i,n){var a=e?e.length:0,o=t.interpolateVaryingColors,r=[],l,h,c=null,u,p,d,f;for(l=0;l<a;l++){u=e[l];if(!u||u.isNaN&&true!==u.isInterpolationOffset){void 0===u&&t.isNumeric||i!==s.GAP||(p=null);continue}if(p){c=new n(p.x,p.y,u.x,u.y);c.data.selected=p.selected&&u.selected;c.data.y1_=p.y1;c.data.y2_=u.y1;if(u.hidden||p.hidden){for(h=l;h>=0;h--)if(!e[h].hidden){d=e[h].color;break}if(void 0===d)for(h=l;h<a;h++)if(!e[h].hidden){d=e[h].color;break}f=d}else{d=p.color;f=u.color}p.color!==u.color?c.stroke={gradient:{x0:p.x,y0:0,x1:u.x,y1:0,limits:o?[0,1]:[0,.5,.5,1],colors:o?[d||"#333333",f||"#333333"]:[d||"#333333",d||"#333333",f||"#333333",f||"#333333"]}}:c.stroke=f||"#333333";c.opacity=c.data.selected?1:t.globalAlpha;c.strokeWidth=t.style.line.width*(c.data.selected?2:1);r.push(c);p=u}else p=u}return r}n=t.extend("PolyLine",{init:function t(){this._super();this.lineJoin="round";this.lineCap="round"},update:function t(e){this.clip=e.clippings.lineClip;this.removeChildren();e.colors.varyingPointColors?this.addChildren(n.getLines(e,e.points,e.nullMode,i)):this.addChildren(l.call(this,e,e.points,e.nullMode,e.colors.gradient))},getLineInRange:function t(e,i){var s=new n;this.children.forEach(function(t){var n=t.getPartialFromRange(e,i);if(!n)return;n.stroke=t.stroke;n.strokeWidth=3;n.close=t.close;s.addChildren([n])});return s}});n.getLines=h;return n}.apply(e,n),void 0!==s&&(t.exports=s))},1255:function(t,e,i){"use strict";var n,s;!(n=[i(292),i(278),i(1002)],s=function(t,e,i){var n;function s(t){return{x:t.x,y:t.y_}}function a(t,n){var a,o,r=[],l,h,c,u=n?n.length:0;for(a=0;a<u;a++){if(n[a]instanceof e){l=n[a]._polygons[0].points;o=new e(l.concat(l.map(s).reverse()));o.fill=t.colors.gradient||n[a].stroke;o.opacity=t.colors.areaAlpha*(n[a].data.selected?1:t.globalAlpha)}else if(n[a]instanceof i){h=Math.floor(n[a].x1);c=Math.floor(n[a].x2);l=[{x:h,y:n[a].y1},{x:h,y:n[a].data.y1_},{x:c,y:n[a].data.y2_},{x:c,y:n[a].y2}];o=new e(l);n[a].stroke.gradient?o.fill={gradient:{colors:n[a].stroke.gradient.colors,limits:n[a].stroke.gradient.limits,x0:n[a].stroke.gradient.x0,x1:n[a].stroke.gradient.x1,y0:0,y1:0}}:n[a].stroke?o.fill=n[a].stroke||"#eeeeee":o.fill=t.colors.gradient||"#eeeeee";o.opacity=t.colors.areaAlpha*(n[a].data.selected?1:t.globalAlpha)}o&&r.push(o)}return r}n=t.extend("PolyArea",{getAreaFromSegments:function e(i){var n=new t;n.addChildren(a(this.__data,i));return n},update:function t(e,i){this.__data=e;this.clip=e.clippings.areaClip;this.removeChildren();this.addChildren(a(e,i))}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1256:function(t,e,i){"use strict";var n,s;!(n=[i(307),i(203),i(413)],s=function(t,e,i){var n,s={LINE:"line",AREA:"area",STACKED:"stackedArea"};function a(){var t,e,i,n,a,o,r,l,h,c={},u,p=this.combinedMeasuresFormatter;this._allDataLineObjectsLength=this._allDataLineObjects?this._allDataLineObjects.length:0;this._dataLabelsOfLines=new Array(this._allDataLineObjectsLength);this._allDataPointLabels=[];for(t=0;t<this._allDataLineObjectsLength;t++){this._dataLabelsOfLines[t]=[];i=this._allDataLineObjects[t];o=i.find("Points [visible='true']");a=o?o.length:0;for(e=0;e<a;e++){r=o[e].getLocalBoundingRect();l=r.x+r.width/2;h=r.y+r.height/2;u=l+";"+h;if(u in c)continue;c[u]=true;n={text:this._lineType===s.STACKED&&this._allDataLineObjectsLength>1?p.formatValue(o[e].value):o[e].data.label,x0:l,y0:h,align:"center",font:this._style.dataPoints.font,maxWidth:512,maxNumLines:1,line:t};this._dataLabelsOfLines[t].push(n);this._allDataPointLabels.push(n)}}this._numAllDataPointLabels=this._allDataPointLabels.length}function o(){var t;for(t=0;t<this._numAllDataPointLabels;t++)this._allDataPointLabels[t].size=e.measureTextObject({type:"text",shape:this._allDataPointLabels[t]})}function r(){o.call(this);var t,e,i,n,s,a,r,l=this._discreteSpacing/2;var h="leftDx",c="leftDy",u="rightDx",p="rightDy",d=1;if(this.yMirrorMode){h="rightDx";c="rightDy";u="leftDx";p="leftDy";d=-1}for(t=0;t<this._allDataLineObjectsLength;t++){n=this._dataLabelsOfLines[t];i=n.length;if(0===i)continue;if(1===i){s=n[0];s[h]=l;s[c]=0;s[u]=l;s[p]=0;continue}s=n[0];s.priority=6;r=n[1];s[h]=l;s[c]=0;s[u]=(r.x0-s.x0)*d;s[p]=s.y0-r.y0;for(e=1;e<i-1;e++){s=n[e];a=n[e-1];r=n[e+1];s[h]=a[u];s[c]=-a[p];s[u]=(r.x0-s.x0)*d;s[p]=s.y0-r.y0;a.y0<s.y0?s.y0<r.y0?s.priority=1:s.y0===r.y0?s.priority=2:s.priority=3:a.y0===s.y0?s.y0<r.y0?s.priority=2:s.y0===r.y0?s.priority=0:s.priority=2:s.y0<r.y0?s.priority=4:s.y0===r.y0?s.priority=2:s.priority=1}s=n[i-1];a=n[i-2];s[h]=a[u];s[c]=-a[p];s[u]=l;s[p]=0;s.priority=5}}function l(){void 0!==this._usedDataMax&&this._usedDataMax===this._usedDataMin?this._allDataPointLabels.sort(function(t,e){return t.x0<e.x0?-1:1}):this._allDataPointLabels.sort(function(t,e){if(t.priority>e.priority)return-1;if(t.priority===e.priority){if(6===t.priority)return t.x0===e.x0?t.y0>e.y0?1:-1:t.x0>e.x0?1:-1;if(5===t.priority)return t.x0===e.x0?t.y0>e.y0?1:-1:t.x0>e.x0?-1:1;if(4===t.priority)return t.y0>e.y0?1:-1;if(3===t.priority)return t.y0>e.y0?-1:1;if(t.y0===e.y0)return t.x0>e.x0?-1:1;return t.y0<e.y0?-1:1}return 1})}function h(){var t,e,i,n,s,a,o=[],r;for(t=0;t<this._allDataLineObjectsLength;t++){i=this._allDataLineObjects[t];n=i.find("PolyLine [stroke]");s=n?n.length:0;for(e=0;e<s;e++){a=n[e];r=a.getLocalPoints();o.push(r)}}return o}function c(t,e){if(t.minX2>e.maxX2||t.maxX2<e.minX2||t.minY2>e.maxY2||t.maxY2<e.minY2)return false;return true}function u(t){var e=this._allDataPointLabels[t],i=0,n=this.rect.width,s=0,a=this.rect.height;return e.x0>=i&&e.x0<=n&&e.minX>=i&&e.maxX<=n&&e.minY>=s&&e.maxY<=a}function p(t){return!i.checkPolylinesIntersectingRectDefinedByMaxMin(this._polylines,this._allDataPointLabels[t])}function d(t){var e=this._allDataPointLabels[t],i=(e.minX+e.maxX)/2,n=(e.minY+e.maxY)/2,s=Math.pow(i-e.x0,2)+Math.pow(n-e.y0,2),a,o;for(o=0;o<this._numAllDataPointLabels;o++){a=this._allDataPointLabels[o];if(o!==t&&s>=Math.pow(i-a.x0,2)+Math.pow(n-a.y0,2))return false}return true}function f(t){var e,i=this._allDataPointLabels[t];for(e=0;e<t;e++)if(this._allDataPointLabels[e].status&&c(i,this._allDataPointLabels[e]))return false;return true}function m(t){if(!u.call(this,t))return false;if(!d.call(this,t))return false;if(!p.call(this,t))return false;return f.call(this,t)}function g(t){var e,i,n,s=this._dataLabelHorizontalGap/2,a=this._dataLabelVerticalGap/2;e=t.size.width/2;i=e+s;t.minX=t.x-e;t.maxX=t.x+e;t.minX2=t.x-i;t.maxX2=t.x+i;n=t.size.height;if("top"===t.baseline){t.minY=t.y;t.maxY=t.y+n;t.maxY2=t.maxY+a;t.minY2=t.minY-a}if("bottom"===t.baseline){t.maxY=t.y;t.minY=t.y-n;t.maxY2=t.maxY+a;t.minY2=t.minY-a}if("middle"===t.baseline){t.maxY=t.y+n/2;t.minY=t.y-n/2;t.maxY2=t.maxY+a;t.minY2=t.minY-a}}function x(t){6===t.priority&&t.x-t.size.width/2<0&&(t.x=t.size.width/2+1);5===t.priority&&t.x+t.size.width/2>this.rect.width&&(t.x=this.rect.width-t.size.width/2-1)}function _(t){t.baseline="middle";t.x=t.x0-t.size.width/2-this._dataLabelHorizontalGap;t.y=t.y0;return true}function y(t){t.baseline="middle";t.x=t.x0+t.size.width/2+this._dataLabelHorizontalGap;t.y=t.y0;return true}function v(t){t.baseline="bottom";t.x=t.x0;t.y=t.y0-this._dataLabelMargin;x.call(this,t);return true}function b(t){t.baseline="top";t.x=t.x0;t.y=t.y0+this._dataLabelMargin;x.call(this,t);return true}function D(t){var e,i,n,s,a,o=t.leftDx,r=t.rightDx,l=t.leftDy,h=t.rightDy,c=1e-9;if(l>0||h>0){l=Math.max(l,c);h=Math.max(h,c);e=t.size.width+2*this._horizontalDistanceFromLine;n=e/(o/l+r/h);if(n<=this._maxDataLabelMargin){t.baseline="bottom";n=Math.max(n,this._dataLabelMargin);t.y=t.y0-n;s=n*o/l;a=n*r/h;i=e/2;s<i?t.x=t.x0+(i-s):a<i&&(t.x=t.x0-(i-a));return true}}return false}function M(t){var e,i,n,s,a,o=t.leftDx,r=t.rightDx,l=-t.leftDy,h=-t.rightDy,c=1e-9;if(l>0||h>0){l=Math.max(l,c);h=Math.max(h,c);e=t.size.width+2*this._horizontalDistanceFromLine;n=e/(o/l+r/h);if(n<=this._maxDataLabelMargin){t.baseline="top";n=Math.max(n,this._dataLabelMargin);t.y=t.y0+n;s=n*o/l;a=n*r/h;i=e/2;s<i?t.x=t.x0+(i-s):a<i&&(t.x=t.x0-(i-a));return true}}return false}function A(t){var e,i,n=t.leftDx,s=t.leftDy;t.baseline="middle";e=t.size.height/2+this._horizontalDistanceFromLine;i=Math.abs(this._dataLabelHorizontalGap*s/n);t.x=t.x0-t.size.width/2-this._dataLabelHorizontalGap;t.y=t.y0+(i>=e?0:s>0?e-i:i-e);return true}function S(t){var e,i,n=t.rightDx,s=t.rightDy;t.baseline="middle";e=t.size.height/2+this._horizontalDistanceFromLine;i=Math.abs(this._dataLabelHorizontalGap*s/n);t.x=t.x0+t.size.width/2+this._dataLabelHorizontalGap;t.y=t.y0+(i>=e?0:s>0?e-i:i-e);return true}function q(t){var e=0,i=this.rect.width,n,s,a=9,o,r;if(t.priority>3){t.baseline="middle";if(t.x0-e<=i-t.x0){t.x=t.x0+a+t.size.width/2;t.y=t.y0}else{t.x=t.x0-a-t.size.width/2;t.y=t.y0}}else if(3===t.priority){n=t.leftDy/t.leftDx;s=t.rightDy/t.rightDx;if(s>=n){o=(t.size.height/2+1)/s;if(o<=2*a){t.baseline="middle";t.y=t.y0;t.x=t.x0+Math.max(o,a)+t.size.width/2}else{r=2*a*s-1;t.baseline="top";t.y=t.y0-r;t.x=t.x0+2*a+t.size.width/2}}else{o=(t.size.height/2+1)/n;if(o<=2*a){t.baseline="middle";t.y=t.y0;t.x=t.x0-Math.max(o,a)-t.size.width/2}else{r=2*a*n-1;t.baseline="top";t.y=t.y0-r;t.x=t.x0-2*a-t.size.width/2}}}return true}function C(t){var e;if(t.rightDy<=0){t.baseline="bottom";t.x=t.x0+t.size.width/2;t.y=t.y0+1}else if(t.rightDy<=t.rightDx){t.baseline="bottom";t.x=t.x0+t.size.width/2;t.y=t.y0-t.size.width*Math.abs(t.rightDy/t.rightDx)-1}else{t.baseline="top";e=Math.max(0,t.size.height+1-this.rect.height+t.y0);t.x=t.x0+t.size.width/2+e*Math.abs(t.rightDx/t.rightDy);t.y=t.y0-e+1}return true}function w(t){var e;if(t.leftDy<=0){t.baseline="bottom";t.x=t.x0-t.size.width/2;t.y=t.y0+1}else if(t.leftDy<=t.leftDx){t.baseline="bottom";t.x=t.x0-t.size.width/2;t.y=t.y0-t.size.width*Math.abs(t.leftDy/t.leftDx)-1}else{t.baseline="top";e=Math.max(0,t.size.height+1-this.rect.height+t.y0);t.x=t.x0-t.size.width/2-e*Math.abs(t.leftDx/t.leftDy);t.y=t.y0-e+1}return true}function L(t,e){var i=this._allDataPointLabels[e];if(!i.status&&t.call(this,i)){g.call(this,i);i.status=m.call(this,e)}}function P(t){var e=this._allDataPointLabels[t];if(this._allDataLineObjectsLength>1){6===e.priority&&L.apply(this,[_,t]);5===e.priority&&L.apply(this,[y,t]);L.apply(this,[v,t]);L.apply(this,[b,t])}else{L.apply(this,[v,t]);L.apply(this,[b,t]);6===e.priority&&L.apply(this,[_,t]);5===e.priority&&L.apply(this,[y,t])}if(!e.status)if(e.rightDy+Math.abs(e.rightDx)*e.leftDy/Math.abs(e.leftDx)>=0){L.apply(this,[M,t]);L.apply(this,[D,t])}else{L.apply(this,[D,t]);L.apply(this,[M,t])}if(!e.status)if(e.rightDy+Math.abs(e.rightDx)*e.leftDy/Math.abs(e.leftDx)>=0){L.apply(this,[A,t]);L.apply(this,[S,t])}else{L.apply(this,[S,t]);L.apply(this,[A,t])}L.apply(this,[q,t]);e.status||6!==e.priority||L.apply(this,[C,t]);e.status||5!==e.priority||L.apply(this,[w,t])}function T(){var t;for(t=0;t<this._numAllDataPointLabels;t++)P.call(this,t)}function k(){var t,e,i,n=[];for(t=0;t<this._numAllDataPointLabels;t++){e=this._allDataPointLabels[t];if(e.status){i={type:"text",fill:this._style.dataPoints.color,shape:e};n.push(i)}}this.renderer.shapes=n}n=t.extend("LabelLayer",{init:function t(i){this.wrapper=document.createElement("div");this.wrapper.style.position="absolute";this.renderer=new e(this.wrapper);this.minorAxis=null;this.majorAxis=null;i.appendChild(this.wrapper);this._dataLabelMargin=6;this._maxDataLabelMargin=12;this._dataLabelHorizontalGap=6;this._dataLabelVerticalGap=3;this._horizontalDistanceFromLine=2},setYMirrorMode:function t(e){this.yMirrorMode=e},update:function t(e,i){this.combinedMeasuresFormatter=i.combinedMeasuresFormatter;this._allDataLineObjects=e;this._lineType=i.lineType;this._discreteSpacing=i.majorAxis.getDiscreteSpacing();this._style=i.style;this.rect=i.rect;this.renderer.shapes=[];a.call(this);r.call(this);l.call(this);this._polylines=h.call(this);T.call(this);k.call(this)}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1257:function(t,e,i){"use strict";var n,s;!(n=[i(307),i(1052)],s=function(t){var e;e=t.extend("LineHighlightLayer",{init:function t(){this._super.apply(this,arguments);this.ranges=[]},getLineObjects:function t(){return this._lineObjects},setRanges:function t(e){this.ranges=e},update:function t(e,i){var n=[];this.ranges.forEach(function(t){var s=e.getPositionOfValue(t.min);var a=e.getPositionOfValue(t.max);n=n.concat(i.getPolyLinesInRange(s,a,t.maxIncluded))},this);this.renderer.stage.removeChildren();if(n.length){this.renderer.stage.addChildren(n);this.show()}else this.hide()}});return e}.apply(e,n),void 0!==s&&(t.exports=s))},1597:function(t,e,i){"use strict";var n,s;!(n=[i(101),i(91)],s=function(t,e){function i(t){var e=t.getDimensions(),i=t.getMeasures(),n;if(1===e.length&&1===i.length)0!==t.getSorting()[0]&&t.changeSorting(1,0);else if(e.length>1&&1===i.length){n=t.getSorting().indexOf(0);0!==n&&t.changeSorting(n,0)}}function n(e,i){var n=i.getDimensions(),s=i.getMeasures(),a=t.getValue(e,"color.mode");n.length>1&&t.setValue(e,"color.persistent",true);"byMeasure"===a&&n.length>1?t.setValue(e,"color.mode","byDimension"):"byDimension"===a&&n.length<=1&&s.length<=1?t.setValue(e,"color.mode","primary"):"byExpression"===a&&0===s.length&&t.setValue(e,"color.mode","primary")}function s(t){if(t>=2)return 1;return 15}return{dimensions:{min:1,max:function t(e){if(e>=2)return 1;return 2},description:function t(i,n){var s,a=i.qHyperCubeDef.qDimensions.length;s=a>1&&0===n?"area"===i.lineType&&true===i.stackedArea?"Visualizations.Descriptions.Stack":"Visualizations.Descriptions.Group":"area"===i.lineType?"Visualizations.Descriptions.Area":"Visualizations.Descriptions.Line";return e.get(s)},add:function t(e,s,a){if(a.getDimensions().length>1){s.qHyperCubeDef.qMode="K";s.qHyperCubeDef.qAlwaysFullyExpanded=true}i(a);n(s,a)},move:function t(e,s,a){if(a.getDimensions().length>1){s.qHyperCubeDef.qMode="K";s.qHyperCubeDef.qAlwaysFullyExpanded=true}i(a);n(s,a)},remove:function t(e,i,s){var a=s.getDimensions();n(i,s);1===a.length&&(i.qHyperCubeDef.qMode="S")},autoSort:function t(e,i,n,s){n&&(-1!==n.indexOf("$numeric")||-1!==n.indexOf("$date")||-1!==n.indexOf("$timestamp")?s.qSortByNumeric=1:-1===n.indexOf("$text")&&-1===n.indexOf("$ascii")||(s.qSortByAscii=1))}},measures:{min:1,max:s,description:function t(){return e.get("Visualizations.Descriptions.Height")},add:function t(e,s,a){i(a);n(s,a)},move:function t(e,s,a){i(a);n(s,a)},remove:function t(e,i,s){var a=s.getDimensions();n(i,s);if(a.length>1){i.qHyperCubeDef.qMode="K";i.qHyperCubeDef.qAlwaysFullyExpanded=true}else 1===a.length&&(i.qHyperCubeDef.qMode="S")}}}}.apply(e,n),void 0!==s&&(t.exports=s))},2144:function(t,e,i){"use strict";var n,s;!(n=[i(185),i(237),i(417)],s=function(t,e,i){var n=t.getLogicFor("hard","linechart");var s,a,o;function r(t,e){var i=e.getDimensions(),n=e.getMeasures();return"area"===t.lineType&&i.length+n.length>2}s={uses:"settings",items:{presentation:{type:"items",translation:"properties.presentation",grouped:true,items:{lineType:{ref:"lineType",type:"string",component:"item-selection-list",defaultValue:"line",horizontal:true,items:[{icon:"line_chart_line",component:"icon-item",labelPlacement:"bottom",translation:"properties.style.line",value:"line"},{icon:"line_chart_area",component:"icon-item",labelPlacement:"bottom",translation:"properties.style.area",value:"area"}]},stackedProps:{type:"items",grouped:false,items:{stackedArea:{ref:"stackedArea",translation:"properties.style.stackedArea",type:"boolean",defaultValue:false,show:function t(e,i){return r(e,i)}},separateStacking:{ref:"separateStacking",translation:"properties.separateStacking",type:"boolean",defaultValue:true,readOnly:function t(e){return!e.stackedArea},show:function t(e,i){return r(e,i)}}}},scrollStartPos:{ref:"scrollStartPos",type:"number",translation:"properties.ScrollAlignment",component:"dropdown",defaultValue:0,options:[{value:0,translation:"properties.ScrollAlignStart"},{value:1,translation:"properties.ScrollAlignEnd"}],show:function t(i,n,s){return!e.isContinuousChart(s.layout)}},nullMode:{type:"string",component:"dropdown",ref:"nullMode",translation:"properties.nullMode",options:[{value:"gap",translation:"properties.nullMode.gap"},{value:"connect",translation:"properties.nullMode.connect"},{value:"zero",translation:"properties.nullMode.zero"}],defaultValue:"gap"},dataPointSettings:{type:"items",grouped:false,snapshot:{tid:"property-dataPoint"},items:{dataPoints:{ref:"dataPoint.show",translation:"properties.dataPoints.showDataPoints",type:"boolean",defaultValue:false},showDataPointLabels:{ref:"dataPoint.showLabels",translation:"properties.dataPoints.labelmode",type:"boolean",component:"switch",defaultValue:false,show:function t(e){return e.dataPoint&&e.dataPoint.show},options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]}}},gridLines:{type:"items",snapshot:{tid:"property-gridLines"},items:{showGridLines:{ref:"gridLine.auto",type:"boolean",translation:"properties.gridLine.spacing",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},gridSpacing:{type:"number",component:"dropdown",ref:"gridLine.spacing",defaultValue:2,options:[{value:0,translation:"properties.gridLine.noLines"},{value:1,translation:"properties.gridLine.wide"},{value:2,translation:"properties.gridLine.medium"},{value:3,translation:"properties.gridLine.narrow"}],show:function t(e){return e.gridLine&&!e.gridLine.auto}}}}}},colorsAndLegend:{uses:"colorsAndLegend",items:{colors:{items:{colorMode:{options:n.color.colorMode.options}}},legend:{items:{show:{snapshot:{tid:"property-legend"}}}}}},dimensionAxis:{uses:"axis.dimensionAxis"},measureAxis:{uses:"axis.flippableMeasureAxis",items:{scale:{type:"items",items:{logScale:{ref:"measureAxis.logarithmic",translation:"properties.axis.logarithmicScale",type:"boolean"},label:{component:"text",translation:"properties.axis.logarithmicScaleNote",show:function t(e){return e.measureAxis&&e.measureAxis.logarithmic}}}}}}}};a={type:"items",translation:"properties.sorting",items:{noContinuousSortingMessage:{component:"text",translation:"properties.sorting.noContinuousSortingMessage",show:function t(i,n,s){return e.isContinuousChart(s.layout)}},defaultSorting:{uses:"sorting",show:function t(i,n,s){return!e.isContinuousChart(s.layout)},items:{dimensions:{locked:function t(e,i,n){return 1===n.getMeasures().length&&2===n.getDimensions().length}},measures:{locked:function t(e,i,n){return 1===n.getMeasures().length&&2===n.getDimensions().length}}}}}};o={type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{calcCond:{uses:"calcCond"}}},refLines:{uses:"reflines"}}};var l={uses:"data",items:{dimensions:{items:{nullSuppression:{show:function t(n,s,a){var o=i.isFirstDimension(n,s),r=e.isContinuousChart(a.layout),l=!(o&&r);return l}}}}}};return{type:"items",component:"accordion",items:{data:l,sorting:a,addons:o,settings:s}}}.apply(e,n),void 0!==s&&(t.exports=s))},2145:function(t,e,i){"use strict";var n,s;!(n=[i(185),i(216),i(237)],s=function(t,e,i){var n=t.getLogicFor("explore","linechart");return{type:"items",component:"accordion",items:{data:{uses:"data"},sort:{uses:"sort",show:function t(e,n){return!i.isContinuousChart(n)},items:{dimensions:{locked:function t(i,n){if(1===e.getNumMeasures(n)&&2===e.getNumDimensions(n))return 0===i;return false}}}},presentation:{uses:"presentation",items:{valueLabels:{type:"boolean",component:"switch",translation:"properties.dataPoints.labelmode",diffs:["dataPoint.show","dataPoint.showLabels"],options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],setPropertyValue:function t(e,i){e.dataPoint.show=i;e.dataPoint.showLabels=i},getValue:function t(e){return e.dataPoint.show&&e.dataPoint.showLabels}},lineType:{ref:"lineType",type:"string",component:"item-selection-list",horizontal:true,items:[{icon:"line_chart_line",component:"icon-item",labelPlacement:"bottom",translation:"properties.style.line",value:"line"},{icon:"line_chart_area",component:"icon-item",labelPlacement:"bottom",translation:"properties.style.area",value:"area"}]},logarithmic:{type:"boolean",component:"switch",translation:"properties.axis.logarithmicScale",ref:"measureAxis.logarithmic",options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]}}},color:{uses:"color",items:{mode:{options:n.color.colorMode.options},colorMode:{ref:"color.mode",type:"string",component:"dropdown",options:n.color.colorMode.options,defaultValue:"primary",show:n.color.colorMode.show,globalChange:function t(e,i){n.color.colorBy.globalChange(e,i,"qHyperCubeDef.")}}}}}}}.apply(e,n),void 0!==s&&(t.exports=s))},2146:function(t,e){t.exports='<div class="qv-viz" aria-hidden="true"></div>\n<span class="qv-viz-center-disclaimer" ng-if="dataAttributes.noDataExist && dataAttributes.layoutMode > 2" q-translation="Object.Disclaimer.NoDataExist" q-title-translation="Object.Disclaimer.NoDataExist" dir="ltr"></span>\n<span class="qv-viz-center-disclaimer" ng-if="!dataAttributes.noDataExist && dataAttributes.onlyNanDim && dataAttributes.layoutMode > 2" q-translation="Object.Disclaimer.OnlyNanData" q-title-translation="Object.Disclaimer.OnlyNanData" dir="ltr"></span>\n<div qva-chart-disclaimer attributes="dataAttributes" visible="!dataAttributes.noDataExist" direction="options.direction"></div>\n'},305:function(t,e,i){"use strict";var n,s;!(n=[],s=function(){var t={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31},e=[[550,450,t.FULL],[400,220,t.MEDIUM],[300,150,t.SMALL],[150,75,t.XSMALL],[0,0,t.SPARK]],i=[[450,t.FULL],[220,t.MEDIUM],[150,t.SMALL],[75,t.XSMALL],[0,t.SPARK]],n=[[550,t.FULL],[400,t.MEDIUM],[300,t.SMALL],[150,t.XSMALL],[0,t.SPARK]],s=e.length;function a(i,n){var a;for(a=0;a<s;++a)if(i>=e[a][0]&&n>=e[a][1])return e[a][2];return t.SPARK}function o(e){var n;for(n=0;n<s;++n)if(e>=i[n][0])return i[n][1];return t.SPARK}function r(e){var i;for(i=0;i<s;++i)if(e>=n[i][0])return n[i][1];return t.SPARK}function l(e){var i=Object.keys(t).filter(function(i){return t[i]===e})[0];return i&&i.toLowerCase()||""}return{LayoutMode:t,getLayoutMode:a,getLayoutModeKey:l,getHorizontalLayoutMode:r,getVerticalLayoutMode:o}}.apply(e,n),void 0!==s&&(t.exports=s))},307:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(291),i(89)],s=function(t,e,i){var n;n=t.extend("layer",{init:function t(i,n){this.wrapper=document.createElement("div");this.wrapper.style.position="absolute";this.renderer=new e(this.wrapper,n);this.minorAxis=null;this.majorAxis=null;i.appendChild(this.wrapper)},update:function t(){},release:function t(){this.wrapper&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper);this.wrapper=null;this.renderer.release();this.minorAxis=null;this.majorAxis=null},show:function t(){this.wrapper.style.display="block"},hide:function t(){this.wrapper.style.display="none"},render:function t(){if("none"!==this.wrapper.style.display)return this.renderer.render();return i.resolve()},clear:function t(){this.renderer.clear()}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},376:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(90),i(188),i(89)],s=function(t,e,i,n){var s;s=t.extend({init:function t(e){this._model=e},setModel:function t(e){this._model=e},saveSoftProperties:function t(s,a){if(!this._model)return n.resolve(false);var o=i.generate(s,a);e.extend(true,s,a);if(o&&o.length){o=o.map(function(t){return{qOp:t.op,qValue:JSON.stringify(t.value),qPath:t.path}});return this._model.applyPatches(o,true).then(function(){return true})}return n.resolve(false)},mergeSoftPatches:function t(){if(!this._model)return n.resolve();var e=this;return n.all({properties:this._model.getProperties(),effective:this._model.getEffectiveProperties()}).then(function(t){if(t.properties.qExtendsId)return;var n=i.generate(t.properties,t.effective);i.apply(t.properties,n);e._model.setProperties(t.properties).then(function(){e._model.clearSoftPatches()})})}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},393:function(t,e,i){"use strict";var n,s;!(n=[i(10),i(48)],s=function(t,e){var i=document.createElement("textarea");i.style.position="absolute";i.style.left="-9999px";i.setAttribute("readonly","");function n(t){i.value=t;document.body.appendChild(i);i.select();i.setSelectionRange(0,i.value.length);document.execCommand("copy");document.body.removeChild(i)}e.service("qvCopy",["$window",function(e){var i=t.element(e.document.body);var n=t.element("<textarea/>");n.css({position:"fixed",opacity:"0"});return function(t){n.val(t);i.append(n);n[0].select();try{var e=document.execCommand("copy");if(!e)throw e}catch(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",t)}n.remove()}}]);e.directive("qvClickCopy",["qvCopy",function(t){return{restrict:"A",link:function e(i,n,s){n.bind("click",function(){t(s.qvClickCopy)})}}}]);return{copyToClipboard:n}}.apply(e,n),void 0!==s&&(t.exports=s))},486:function(t,e,i){"use strict";var n,s;!(n=[i(200),i(104)],s=function(t){function e(e,s,h){var c=e.length>0?e[0].positions:[],u=s._style,p=s._radialOptions,d=new t,f=u.ticks.major.length*h,m=u.label.offset*h*20,g,x,_="far"===s.getAlignment()?"left":"right",y=[],v=Math.min(s.rect.height,s.rect.width),b=0,D,M,A,S,q=[],C=s._radius,w;x="left"===_?1:-1;f*=x;g=x>0?0:s.rect.width;s.getShowLine()&&y.push({stroke:u.line.color,shape:{cx:s._centerPoint.x,cy:s._centerPoint.y,radius:C,radianOffset:0,start:p.start,end:p.end},type:"arc"});if(s.getShowLabels())for(w=0;w<c.length;w++){D=(c[w]-b)/(v-b);A=o(D,s);S=r(A);S.r=S.r+m;S=l(S,s._centerPoint);M=a(D,s);S.angle=M;q.push(S);d.save();d.translate(A.x+s._centerPoint.x,A.y+s._centerPoint.y);d.rotate(M);y.push({stroke:u.ticks.major.color,opacity:s.ticks[w].opacity,transform:d.elements,shape:{x1:0,x2:-f,y1:0,y2:0},type:"line"});d.restore()}g+=u.ticks.major.length*x;if(s._showLabels&&s._layoutMode>1)for(w=0;w<e.length;w++){y=y.concat(i(e[w],q,g,s));g+=e[w].labelSpace*x}s._showTitle&&s._layoutMode>1&&(y=y.concat(n(s,u)));s._renderer.shapes=y;s._renderer.render()}function i(t,e,i,n){var s=t.labels,a=e,o=t.opacities,r,l,h=[],c=n._style,u,p,d,f,m,g,x;p=s?s.length:0;if(0===p)return;d=p-1;for(g=0;g<p;g++){f=n.yMirrorMode?s[d-g]:s[g];r=n._renderer.getTextWidth(f,c.label.font);m=a[g];u=m.angle;l=u-.1<3*Math.PI/2&&u+.1>3*Math.PI/2?"center":u<Math.PI/2||u>3*Math.PI/2?"left":"right";h.push({type:"text",fill:c.label.color,opacity:o?o[g]:1,shape:{text:f,x:m.x,y:m.y,maxWidth:m.x-r<0?m.x:m.x+r>n.rect.width?n.rect.width-m.x:r,height:x,maxNumLines:1,font:c.label.font,align:l,baseline:"middle"}})}return h}function n(t,e){var i=[],n=Math.min(t.rect.width,t.rect.height),a=s(t);i.push({type:"text",fill:e.title.color,opacity:1,shape:{text:t._title,x:a.x,y:a.y+n*(.06+Math.min(n-300,0)/-300*.04),maxWidth:1.4*t._radius,maxNumLines:1,font:e.title.font,align:"center",baseline:"middle"}});return i}function s(t){var e={x:t.rect.width/2,y:t.rect.height/2};return e}function a(t,e){var i=e._radialOptions,n=Math.max(Math.min(t,1),0)*(i.end-i.start)+i.start;return n}function o(t,e,i){var n=e._radialOptions,s=t*(n.end-n.start)+n.start,a=e._radius;return l({a:s,r:a},i)}function r(t){return{r:Math.sqrt(t.x*t.x+t.y*t.y),a:Math.atan2(t.y,t.x)}}function l(t,e){e||(e={x:0,y:0});return{x:e.x+t.r*Math.cos(t.a),y:e.y+t.r*Math.sin(t.a)}}return{renderRadial:e,getPointOfValue:o,getPolPos:r,getCartPos:l,getAngleOfNormalizedValue:a}}.apply(e,n),void 0!==s&&(t.exports=s))},487:function(t,e,i){"use strict";var n,s;!(n=[i(985)],s=function(t){var e={create:i};return e;function i(){return new t}}.apply(e,n),void 0!==s&&(t.exports=s))},983:function(t,e,i){"use strict";var n,s;!(n=[i(984)],s=function(t){var e={create:i};return e;function i(){return new t}}.apply(e,n),void 0!==s&&(t.exports=s))},984:function(t,e,i){"use strict";var n,s;!(n=[i(487)],s=function(t){function e(){this.alternativeTitleRetriever=t.create();this.cache={}}e.prototype.getDimensionTitle=i;e.prototype.getCachedDimensionTitle=n;e.prototype.getMeasureTitle=s;e.prototype.getCachedMeasureTitle=a;e.prototype.resetTitles=o;return e;function i(t,e,i){var n=this;return this.alternativeTitleRetriever.getDimensionTitle(t,e,i).then(function(e){l(n.cache,t.qDef.cId,e);return e})}function n(t){return r(this.cache,t.qDef.cId)}function s(t,e,i){var n=this;return this.alternativeTitleRetriever.getMeasureTitle(t,e,i).then(function(e){l(n.cache,t.qDef.cId,e);return e})}function a(t){return r(this.cache,t.qDef.cId)}function o(){this.alternativeTitleRetriever.resetTitles()}function r(t,e){return t[e]||""}function l(t,e,i){t[e]=i}}.apply(e,n),void 0!==s&&(t.exports=s))},985:function(t,e,i){"use strict";var n,s;!(n=[i(89),i(91),i(130)],s=function(t,e,i){function n(){this.titles={}}n.prototype.getDimensionTitle=s;n.prototype.getMeasureTitle=a;n.prototype.resetTitles=o;return n;function s(t,e,i){p(this);return r.call(this,t,e,i,true)}function a(t,e,i){p(this);return r.call(this,t,e,i,false)}function o(){this.titles={}}function r(t,e,i,n){var s=l(t,this.titles);if(s)return s.promise;s=h(t,this.titles);s.promise=c(t,e,i,n);return s.promise}function l(t,e){var i=u(t);return e[i]}function h(t,e){var i=u(t);var n={id:i,promise:null};e[i]=n;return n}function c(n,s,a,o){var r="H"===n.qDef.qGrouping,l=!!n.qLibraryId;if(r)return t.when(n.qData.title);if(l){var h=o?s.getDimensionList:s.getMeasureList;return h.call(s).then(function(t){var s=o?i.findLibraryDimension:i.findLibraryMeasure;var r=s(n.qLibraryId,t),l=r&&r.qData.labelExpression;return r?!a&&l?l:r.qData.title:e.get(o?"Object.ErrorMessage.MissingDimension":"Object.ErrorMessage.MissingMeasure")})}var c=n.qDef.qLabelExpression,u=!!c;if(u)return a?t.when(c):s.evaluate(c);var p;if(o){var d=n.qDef.qFieldLabels[0];p=!d?n.qDef.qFieldDefs[0]:d}else p=n.qDef.qLabel||n.qDef.qDef;return t.when(p)}function u(t){return t.qDef.cId}function p(t){if(!t)throw new Error("AlternativeTitleRetriever: Called without a context")}}.apply(e,n),void 0!==s&&(t.exports=s))},986:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){return{migrateProperties:e,needToMigrateProperties:i};function e(e){var i=t.findValuesOfQProperty(e,"qHyperCubeDef");i.forEach(function(t){var e=t.qDimensions;e.forEach(function(t){var e=t.qDef;true===e.autoSort&&e.qSortCriterias.forEach(function(t){t.qSortByNumeric=1;t.qSortByAscii=1})})});return e}function i(e){var i=t.findValuesOfQProperty(e,"qHyperCubeDef");return i.some(function(t){var e=t.qDimensions;return e.some(function(t){var e=t.qDef;return true===e.autoSort&&e.qSortCriterias.some(function(t){return 1!==t.qSortByNumeric||1!==t.qSortByAscii})})})}}.apply(e,n),void 0!==s&&(t.exports=s))}}]);