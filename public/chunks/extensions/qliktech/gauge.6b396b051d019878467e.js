/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[44],{1054:function(e,t,i){"use strict";var a,n;!(a=[i(11),i(91),i(1127),i(89),i(1579),i(1582),i(1583),i(180),i(410),i(299),i(1584),i(1585),i(189),i(1586)],n=function(e,t,i,a,n,s,r,o,l,u,h,c,p){var d;function g(){var e,t,i;e=-Math.PI*(this._data.angle+.5);t=Math.PI*(this._data.angle-.5);t+=e<0?2*Math.PI:0;e+=e<0?2*Math.PI:0;i=this.yMirrorMode&&"radial"!==this._type;this.components.axis.setRadial("radial"===this._type,i?{start:t,end:e}:{start:e,end:t})}d=i.extend("Gauge",{namespace:".gauge",init:function i(a,u,h,c){var p=this;h=e.extend(true,h||{},{providers:{},components:{axis:{show:true,order:0,dock:"center",showFlag:o.prototype.ShowFlags.SPARK,clazz:l},dataArea:{show:true,order:1,dock:"center",clazz:n,showFlag:o.prototype.ShowFlags.SPARK},gaugeRefLines:{sortKey:5,show:true,dock:"center",showFlag:o.prototype.ShowFlags.XSMALL},gaugeRefLineLabels:{show:true,dock:"center",order:3,showFlag:o.prototype.ShowFlags.XSMALL}}});this._type="vertical";this._orientation="horizontal";this._super(a,u,h,c);this.components.dataArea.setAxis(this.components.axis);this.components.axis.setAlignment("near");this.components.axis.setDataRangeTransition(true);this.components.axis.setShowLine(false);this.components.gaugeRefLines=new s(this.container);this.components.gaugeRefLines.showFlag=o.prototype.ShowFlags.XSMALL;this.components.gaugeRefLines.setUseTransition(true);this.components.dataArea.setRefLines(this.components.gaugeRefLines);this.layoutEngine.addComponent(this.components.gaugeRefLines);this.components.gaugeRefLineLabels=new r(this.container);this.components.gaugeRefLineLabels.showFlag=o.prototype.ShowFlags.SMALL;this.components.gaugeRefLineLabels.setUseTransition(true);this.components.dataArea.setRefLineLabels(this.components.gaugeRefLineLabels);this.layoutEngine.addComponent(this.components.gaugeRefLineLabels);this.$scope.dataAttributes.popupDisclaimer={show:false,message:t.get("Object.Gauge.RangeIsDefault"),title:t.get("Object.Gauge.RangeIsDefaultTitle"),onPopClose:function e(){p.$scope.backendApi.model.getProperties().then(function(e){e.disclaimerClosed=true;p.$scope.backendApi.model.setProperties(e)})}}},_updateData:function e(t){this._type=t.gaugetype;this._orientation=t.autoOrientation&&"bar"===t.gaugetype?this.components.dataArea.rect.height>this.components.dataArea.rect.width?"vertical":"horizontal":t.orientation;if(t.refLine){var i={axes:{axis:{component:this.components.axis,data:t.axis,dataIndices:t.qHyperCube.qMeasureInfo.map(function(e,t){return t})}},refLineLabels:{labels:{data:t.refLine.refLines,component:this.components.gaugeRefLineLabels,axis:this.components.axis}},refLines:{component:this.components.gaugeRefLines}};this._super(t,i);this.components.dataArea.setData(t);this.updateAxis(t,this.options);this.updateRefLines(t,i)}else{this.components.dataArea.setData(t);this.updateAxis(t,this.options);this._super(t)}},updateRefLines:function e(t,i){var a,n=i.refLineLabels,s=[],r=[];for(a in n){if(!n[a].component)continue;n[a].component.setData(n[a].data);n[a].component.setAxis(n[a].axis);n[a].component.setDock(n[a].axis.getOppositeDock());r.push(n[a].axis);s.push(n[a].data)}if(i.refLines&&i.refLines.component){i.refLines.component.setAxes([i.axes.axis.component]);i.refLines.component.setData([t.refLine.refLines])}},isValid:function e(t){var i=this.isDataValid(t),a;for(a in this.components)this.components[a].setHasValidData(i);return i},isDataValid:function e(t){var i=!!t&&!!t.qHyperCube&&t.qHyperCube.qMeasureInfo.length&&!t.qHyperCube.qMeasureInfo.some(function(e){return!!e.qError});return i},updateAxis:function e(t){var i=t.measureAxis,a=this.components.axis,n,s,r,o;n=Math.min.apply(this,t.qHyperCube.qMeasureInfo.filter(function(e){return!Number.isNaN(+e.qMin)}).map(function(e){return e.qMin}));s=Math.max.apply(this,t.qHyperCube.qMeasureInfo.filter(function(e){return!Number.isNaN(+e.qMax)}).map(function(e){return e.qMax}));r=t.qHyperCube.qMeasureInfo.map(function(e){return e.qFallbackTitle}).join(", ");a.setData(t);a.setTitle(r);a.setShowStrategy(i.show);a.setLabelMode(i.label);a.setOrientation("bar"===this._type?this._orientation:"horizontal");if(a.setPlotMin){o=this.getAxisOptions(i);a.setPlotMin(o.min);a.setPlotMax(o.max);a.setTickMultiplier(i.spacing);a.setLogScale(i.logarithmic)}if(n===s&&0===s){s=1;n=0}s=Math.max(0,s);n=Math.min(0,n);this.setAxisDataRange(a,s,n,o.max,o.min,1);g.call(this)},getAxisOptions:function e(t){if(!t)return;return{min:Number(t.min),max:Number(t.max)}},setAxisDataRange:function e(t,i,a,n,s,r){null!==n&&null!==s||null===n&&null===s?t.setDataRange(a,i):null!==n&&n<=a?t.setDataRange(n-r,i):null!==s&&s>=i?t.setDataRange(a,s+r):t.setDataRange(a,i)},_paint:function e(){var t;var i=[];if(!this.isValid(this._data))return this.clear();this._super();g.call(this);this.layout();if(this.$scope.dataAttributes.popupDisclaimer){var n=this._data.disclaimerClosed||this._data.maxMinChanged;!this.inEditState()||this._layoutMode<7||n?this.$scope.dataAttributes.popupDisclaimer.show=false:this.$scope.dataAttributes.popupDisclaimer.show=true}for(t in this.components)i.push(this.components[t].invalidateDisplay());return a.all(i)},layout:function e(){var t=this.components.axis;var i=t.updateSize;t.updateSize=function(){};this.layoutEngine.layout(this.rect,this._layoutMode,this.containerRect);t.updateSize=i;if(this._data&&this._data.autoOrientation&&"bar"===this._data.gaugetype){this._orientation=this.components.dataArea.rect.height>this.components.dataArea.rect.width?"vertical":"horizontal";this.components.axis.setOrientation(this._orientation)}t.preRelevantSizeCalculation();t.calculatePreliminaryRelevantSize(this.components.dataArea.rect,this.components.dataArea.rect);t.calculateRelevantSize(this.components.dataArea.rect,this.components.dataArea.rect);this.components.axis.isRadial()||f.call(this);t.updateSize()},getPreferredSize:function e(){return this._super()}});function f(){var t=this.components.dataArea,i=t.rect,a=80,n=e.extend({},i),s=this.components.axis,r=s.relevantSize,o=t.getGaugeWidth(t.rect,"vertical"===this._orientation)/2;s.setAlignment("near");if("vertical"===this._orientation){if(this.yMirrorMode){n.x=i.width/2+o;s.setAlignment("far")}else n.x=i.width/2-o-r;if(n.x<0){n.width=r+n.x;n.x=0}else n.width=r}else{n.y=i.height/2-o-r;if(n.y<0){n.height=r+n.y;n.y=0}else n.height=r}(i.width<a||i.height<a)&&(n["vertical"===this._orientation?"width":"height"]=0);s.rect=n}return{type:"gauge",BackendApi:u,template:h,View:d,definition:c,initialProperties:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:1,qHeight:1}],qSuppressMissing:true},segmentInfo:{limits:[],colors:[{color:3}]}},data:{measures:{min:1,max:1,description:function e(){return t.get("Visualizations.Descriptions.Gauge.Measure")}}},support:{cssScaling:false,snapshot:true,export:true,exportData:true,sharing:true,viewData:true},getDropFieldOptions:function e(t,i,a,n,s){t.AddFieldAsMeasure(a,i,s);n()},getDropDimensionOptions:function e(t,i,a,n){n()},importProperties:p.axisChart.importProperties.bind(p),exportProperties:p.axisChart.exportProperties.bind(p)}}.apply(t,a),void 0!==n&&(e.exports=n))},1260:function(e,t,i){"use strict";var a,n;!(a=[i(100),i(185)],n=function(e,t){return{getProgressColor:i,getSegmentColors:a,resolveColor:n,resolveColorSegment:s,getPropertyLogic:r};function i(e,t,i){var a=(t||{}).baseColor;if(a&&a.color&&e.color&&"measure"===e.color.useBaseColors)return n(a);return i}function a(e){if(e.paletteColors&&e.paletteColors.length)return e.paletteColors;return e.colors&&e.colors.length?e.colors:void 0}function n(t){return e.resolveColor(t)}function s(e,t){if(e.paletteColors&&e.paletteColors[t])return n(e.paletteColors[t]);return n(e.colors[t].color)}function r(){return t.getLogicFor("hard","default")}}.apply(t,a),void 0!==n&&(e.exports=n))},1579:function(e,t,i){"use strict";var a,n;!(a=[i(180),i(291),i(1580),i(1260),i(100),i(109),i(89)],n=function(e,t,i,a,n,s,r){var o;var l=a.getPropertyLogic();function u(e,i){if(!this._axis||!this._segmentInfo||void 0===this._axis.getPlotMin()||void 0===this._axis.getPlotMax())return r.resolve();var a=this._axis,n=this._style.value.font,o=a.isVertical(),l=t.getFontHeight(n),u=this.renderers.gauge.getTextWidth(e,n),h=this._axis.getPositionOfValue(i),c=(i-a.getPlotMin())/(a.getPlotMax()-a.getPlotMin()),p,d=[];if(this._data.useSegments){p=this._gaugeHelper.createBarSegments(this._segmentInfo,a,o,this.rect,c,this.yMirrorMode);d=p.shapes;d=d.concat(this._gaugeHelper.createGaugeMeterPointer(c,a,o,p.pointerBgColor,this.yMirrorMode))}else{d=this._gaugeHelper.createBarProgress(c,a,this._progressColor,o,this.rect);(c>1||c<0)&&(d=d.concat(this._gaugeHelper.createGaugeMeterPointer(c,a,o,new s(c>1?this._progressColor:this._style.area.color),this.yMirrorMode)))}!Number.isNaN(+c)&&(o&&this.rect.width>100||!o&&this.rect.height>100)&&d.push(this._gaugeHelper.createGaugeMeterValue(h,e,u,o,this.rect,l,n,this.yMirrorMode));this.renderers.gauge.stage.removeChildren();this.renderers.gauge.stage.addChildren(d);return this.renderers.gauge.render()}function h(e,i){if(!this._axis||!this._segmentInfo&&this._data.useSegments||this._axis._radius<=0)return r.resolve();var a=this._axis,n=this._style.value.font,s=t.getFontHeight(n),o=Math.min(this.rect.height,this.rect.width),l=(i-a.getPlotMin())/(a.getPlotMax()-a.getPlotMin()),u=[];if(o<50)u=this._gaugeHelper.createRadialSpark(l,this._data.useSegments?this._segmentInfo:this._progressColor,a,this.rect);else{if(this._data.useSegments){u=this._gaugeHelper.createRadialSegments(this._segmentInfo,a);Number.isNaN(+l)||u.push(this._gaugeHelper.createRadialGaugeMeter(l,a))}else u=this._gaugeHelper.createRadialProgress(l,this._progressColor,a,this.rect);u=u.concat(this._gaugeHelper.createRadialGaugeValue(i,e,a,this.rect,n,s))}this.renderers.gauge.stage.removeChildren();this.renderers.gauge.stage.addChildren(u);return this.renderers.gauge.render()}function c(e){return{value:{color:e.getStyle("label.value","color"),font:"normal "+e.getStyle("label.value","fontSize")+" 'QlikView Sans'",minFontSize:12,maxFontSize:60},area:{color:"#eeeeee"},pointer:{color:{light:"#E6E6E6",dark:"#595959"}}}}o=e.extend({init:function e(){this._super.apply(this,arguments);this._gaugeHelper=new i;this._type="bar";this._currentProperties={};this._transitionProperties={};this._inTransition=false;this._cacheItems=[];this.renderers={gauge:new t(this.container)};this._styleService=n.initializeService("object.gauge")},_updateSize:function e(){this.invalidateDisplay("Gauge._updateSize")},_updateProperties:function e(){if(!this._data)return;var t=this._data;this._segmentInfo={};var i=t.qHyperCube.qMeasureInfo[0].coloring?t.qHyperCube.qMeasureInfo[0].coloring.gradient:null;if(t.color&&"measure"===t.color.useBaseColors&&i){if("percent"===i.limitType){var n=t.measureAxis.max-t.measureAxis.min;this._segmentInfo.limits=i.limits.map(function(e,a){return{value:t.measureAxis.min+e*n,gradient:i.breakTypes[a]}})}else this._segmentInfo.limits=i.limits.map(function(e,t){return{value:e,gradient:i.breakTypes[t]}});this._segmentInfo.colors=i.colors.map(function(e){return{color:a.resolveColor(e)}})}else{t.segmentInfo&&t.segmentInfo.limits&&(this._segmentInfo.limits=t.segmentInfo.limits.concat().sort(function(e,t){return e.value-t.value}));if(t.segmentInfo){var s=a.getSegmentColors(t.segmentInfo);s&&(this._segmentInfo.colors=s.map(function(e,i){return{color:a.resolveColorSegment(t.segmentInfo,i)}}))}}var r=this._data.paletteProgressColor||this._data.progressColor||l.color.paletteColor.defaultValue();this._progressColor=a.getProgressColor(t,t.qHyperCube.qMeasureInfo[0].coloring,a.resolveColor(r));this._orientation=t.orientation;this._type=t.gaugetype;this._transitionProperties={value:t.qHyperCube.qDataPages[0].qMatrix[0][0].qNum,text:t.qHyperCube.qDataPages[0].qMatrix[0][0].qText};this._super()},hasValidData:function e(){return this._super()&&this._data},setAxis:function e(t){this._axis=t;this._axis.listen("changed",function(){this.invalidateDisplay()},this)},setRefLines:function e(t){this._refLines=t},setRefLineLabels:function e(t){this._refLineLabels=t},setColorMap:function e(t){this._colorMap=t},getColorMap:function e(){return this._colorMap},paint:function e(){if(!this._axis)return r.resolve();this._style=c(this._styleService);this._gaugeHelper.style=this._style;var t=[];this._gaugeHelper.updateSize(this.rect,this._axis.isVertical(),this._axis.isRadial());if(this._refLines){this._refLines.setPaddingToAxis(this._gaugeHelper.getPaddingToAxis());this._refLines.setRelevantPos(this._gaugeHelper.getRelevantPos())}if(this._refLineLabels){this._refLineLabels.setPaddingToAxis(this._gaugeHelper.getPaddingToAxis());this._refLineLabels.setRelevantPos(this._gaugeHelper.getRelevantPos())}this._gaugeHelper.updateLabelStyle(this._style,this.rect);var i=this._data.qHyperCube.qDataPages[0].qMatrix[0][0],a=this.measureFormatters[0],n=a&&"U"===a.type?a.formatValue(i.qNum):i.qText,s=this._currentProperties.value;this._inTransition&&a&&(n=a.format(s));this._axis.isRadial()?t.push(h.apply(this,[n,s])):t.push(u.apply(this,[n,s]));this._currentValue=s;if(this._refLines&&this._refLineLabels){this._refLines.setGaugeWidth(this._gaugeHelper.getGaugeWidth());this._refLineLabels.setGaugeWidth(this._gaugeHelper.getGaugeWidth())}return r.all(t)},afterPaint:function e(){},clear:function e(){},getGaugeWidth:function e(t,i){return this._gaugeHelper.getGaugeWidth(t,i)}});Object.defineProperty(o.prototype,"className",{value:"GaugeArea"});return o}.apply(t,a),void 0!==n&&(e.exports=n))},1580:function(e,t,i){"use strict";var a,n;!(a=[i(92),i(293),i(1002),i(1232),i(278),i(1032),i(109),i(486),i(1581)],n=function(e,t,i,a,n,s,r,o,l){var u,h=[0,1],c=[0,.5,1];function p(e,t,i){return{x0:e.x0,y0:e.y0,x1:e.x1,y1:e.y1,limits:t,colors:i}}function d(e){if(!e)return[];return e.paletteColors||e.colors}u=e.extend("GaugeHelper",{init:function e(){this._padding=0;this._colorWidth=50;this._maxWidth=50;this._labelPadding=10;this._fontManager=new l;this._fontManager.setRectLimits(100,1e3);this._bigValuesSettings={minFontSize:12,maxFontSize:60}},createBarSegments:function e(i,a,n,s,o,l){var u=d(i);if(0===u.length)return{shapes:[]};var g=[],f,m=i.limits,x,_=this._colorWidth,y,v,M,P={},b,w,L,A,C,S=false,R,V={value:0,gradient:false},z,W=new r,I=l&&!n;o=Math.min(Math.max(o,0),1);m=m.map(function(e){return{value:(e.value-a.getPlotMin())/(a.getPlotMax()-a.getPlotMin()),gradient:e.gradient}});for(f=0;f<u.length;f++){L=m[f]?m[f]:{value:1,gradient:false};y=L.value;v=0===f?0:m[f-1].value;A=a.getPositionOfNormalizedValue(y);R=a.getPositionOfNormalizedValue(v);P.current=new r(u[f].color);P.next=new r(u[f+1]?u[f+1].color:u[f].color);C=(o-v)/(y-v);S=C>=0&&C<=1;if(n){_=s.width<10?s.width:this._colorWidth;x=new t(this._relevantPos,A,_,R-A)}else{_=this._colorWidth;x=new t(R,this._relevantPos,A-R,_)}z={x0:x.x,y0:x.y+(n?x.height:0),x1:x.x+(n?0:x.width),y1:x.y};if(V&&V.gradient&&!L.gradient){P.last=r.getBlend(P.current,P.last,.5);M={gradient:p(z,h,I?[P.current.toRGBA(),P.last.toRGBA()]:[P.last.toRGBA(),P.current.toRGBA()])};b=P.last;w=P.current}else if(L.gradient){P.next=r.getBlend(P.current,P.next,.5);if(V.gradient){P.last=r.getBlend(P.current,P.last,.5);M={gradient:p(z,c,I?[P.next.toRGBA(),P.current.toRGBA(),P.last.toRGBA()]:[P.last.toRGBA(),P.current.toRGBA(),P.next.toRGBA()])};if(C>.5){C=(C-.5)/.5;b=P.last;w=P.current}else{C/=.5;b=P.current;w=P.next}}else{M={gradient:p(z,h,I?[P.next,P.current]:[P.current,P.next])};b=P.current;w=P.next}}else M=P.current.toRGBA();S&&(W=M.gradient?r.getBlend(b,w,C):P.current);x.opacity=1;x.fill=M;x.stroke=M;g.push(x);P.last=P.current;V=L}return{shapes:g,pointerBgColor:W}},createBarProgress:function e(i,a,n,s,o){var l=[],u,h,c,p,d,g=new r(n),f=new r(this.style.area.color),m;i=Number.isNaN(+i)?0:i>1?1:i<0?0:i;h=a.getPositionOfValue(a.getPlotMin());c=a.getPositionOfValue(a.getPlotMax());p=a.getPositionOfValue((a.getPlotMax()-a.getPlotMin())*i+a.getPlotMin());this._labelPadding=this._colorWidth/2;d=this._colorWidth;m=this._relevantPos;u=s?new t(m,p,d,o.height):new t(h,m,p-h,d);u.opacity=1;u.fill=g.toHex();u.stroke=g.createShiftedColor().toHex();u.strokeWidth=1;l.push(u);u=s?new t(m,0,d,p):new t(p,m,c-p,d);u.opacity=1;u.fill=f.toHex();u.stroke=f.createShiftedColor(.1).toHex();u.strokeWidth=1;l.push(u);return l},createGaugeMeterValue:function e(t,i,a,n,r,o,l,u){var h=new s;h.text=i;h.ColorWidth=200;h.font=l;h.opacity=1;h.fill=this.style.value.color;if(n){if(t+o/2>r.height){h.baseline="bottom";t=r.height}else if(t<o/2){h.baseline="top";t=0}else h.baseline="middle";h.x=u?this._relevantPos-this._labelPadding:this._relevantPos+this._colorWidth+this._labelPadding;h.maxWidth=r.width-h.x;h.y=t;h.align=u?"right":"left"}else{h.y=this._relevantPos+this._colorWidth+this._labelPadding+o;h.x=Math.max(Math.min(r.width-a/2,t),a/2);h.align="center";h.baseline="bottom"}return h},createGaugeMeterPointer:function e(t,a,s,r,o){var l=t>1?1:t<0?-1:0,u,h=[],c=this._relevantPos,p=Math.max(Math.round(this._colorWidth/25),2),d=50,g=c<d?10:this._colorWidth,f=Math.max(g,10)/6,m=r.isDark()?this.style.pointer.color.light:this.style.pointer.color.dark,x=new n,_=new i,y=!s&&o?1:-1;_.opacity=1;_.stroke=m;_.strokeWidth=p;x.opacity=1;x.fill=m;x.strokeWidth=p;t=t>1?1:t<0?0:t;u=a.getPositionOfValue((a.getPlotMax()-a.getPlotMin())*t+a.getPlotMin());if(s){if(0!==l){x.set([{x:c+g/2,y:u},{x:c-f+g/2,y:l*f*2+u},{x:c+f+g/2,y:l*f*2+u}]);h.push(x)}_.set(c,u,c+g,u)}else{if(0!==l){x.set([{y:c+g/2,x:u},{y:c-f+g/2,x:y*l*f*2+u},{y:c+f+g/2,x:y*l*f*2+u}]);h.push(x)}_.set(u,c,u,c+g)}h.push(_);return h},updateLabelStyle:function e(t,i){this._bigValuesSettings={minFontSize:this.style.value.minFontSize,maxFontSize:this.style.value.maxFontSize};t.value.font="normal "+this._fontManager.getFontSize(i,this._bigValuesSettings)+"px 'QlikView Sans'"},createRadialSegments:function e(t,i){var n=d(t);if(0===n.length)return[];var s=[],o,l=t.limits,u,g,f,m=this._colorWidth,x,_=n[0].color,y,v={value:0,gradient:false},M,P,b=i.getAngleOfNormalizedValue(0),w=this._paddingToAxis;l=l.map(function(e){return{value:(e.value-i.getPlotMin())/(i.getPlotMax()-i.getPlotMin()),gradient:e.gradient}});m=this._colorWidth*(i._relevantAngle>Math.PI?1:Math.sin(i._relevantAngle/4));this._colorWidth=m;if(i._radius-m-w<0)return s;for(o=0;o<n.length;o++){g=l[o]?l[o]:{value:1,gradient:false};y=n[o+1]?n[o+1].color:n[o].color;u=n[o].color;x=i.getAngleOfNormalizedValue(g.value);f=new a(i._centerPoint.x,i._centerPoint.y,i._radius-m-w,i._radius-w,Math.min(b,x),Math.max(b,x),0);P={x0:f.x3,y0:f.y3,x1:f.x4,y1:f.y4};if(v&&v.gradient&&!g.gradient){y=new r(u).blend(new r(_),.5);M={gradient:p(P,h,[y,u])}}else if(g.gradient){y=new r(u).blend(new r(y),.5);if(v.gradient){_=new r(u).blend(new r(_),.5);M={gradient:p(P,c,[_,u,y])}}else M={gradient:p(P,h,[u,y])}}else M=u;f.opacity=1;f.fill=M;f.stroke=M;s.push(f);b=x;v=g;_=u}return s},createRadialGaugeMeter:function e(t,i){var a=o.getAngleOfNormalizedValue(t,i),s=Math.max(this._colorWidth,10)/6,r=2,l,u,h=t>1?-1:1,c;if(t>1||t<0){u=this._colorWidth*(i._relevantAngle>Math.PI?1:Math.sin(i._relevantAngle/4));this._colorWidth=u;l=-u*h/2;c=new n([{x:2*s+r,y:l},{x:r,y:s+l},{x:r,y:-s+l}])}else c=new n([{x:.5*-s+4,y:0},{x:8*-s,y:s},{x:8*-s,y:-s}]);c.opacity=1;c.translate(i._centerPoint.x+Math.cos(a)*i._radius,i._centerPoint.y+Math.sin(a)*i._radius);c.rotate(a);(t>1||t<0)&&c.rotate(-h*Math.PI/2);c.fill=this.style.pointer.color.dark;return c},createRadialProgress:function e(t,i,s,l){var u=Math.min(s._radialOptions.start,s._radialOptions.end),h=Number.isNaN(+t)?u:o.getAngleOfNormalizedValue(t,s),c=Math.max(s._radialOptions.start,s._radialOptions.end),p=Math.min(l.width,l.height),d,g=[],f,m=(p>500?this._maxWidth:Math.max(p/500*this._maxWidth,10))/6,x=2,_=this._paddingToAxis,y,v=new r(this.style.area.color),M;i=new r(i);f=this._colorWidth*(s._relevantAngle>Math.PI?1:Math.sin(s._relevantAngle/4));this._colorWidth=f;if(s._radius-f-_<0)return g;if(t>1||t<0){M=t>1?-1:1;y=-f*M/2;d=new n([{x:2*m+x,y:y},{x:x,y:m+y},{x:x,y:-m+y}]);d.opacity=1;d.translate(s._centerPoint.x+Math.cos(h)*s._radius,s._centerPoint.y+Math.sin(h)*s._radius);d.rotate(h-M*Math.PI/2);d.fill=i.toHex();g.push(d)}if(u<h){d=new a(0,0,s._radius-f-_,s._radius-_,u,h,0);d.opacity=1;d.translate(s._centerPoint.x,s._centerPoint.y);d.fill=i.toHex();d.stroke=i.createShiftedColor().toHex();g.push(d)}if(c>h){d=new a(0,0,s._radius-f-_,s._radius-_,h,c,0);d.opacity=1;d.translate(s._centerPoint.x,s._centerPoint.y);d.fill=v.toHex();d.stroke=v.createShiftedColor(.1).toHex();g.push(d)}return g},createRadialGaugeValue:function e(t,i,a,n,r,o){var l=new s;l.text=i;l.x=n.width/2;l.y=.5*n.height-o/2+.05*Math.min(n.width,n.height);l.align="center";l.font=r;l.baseline="middle";l.maxWidth=1.4*a._radius;l.opacity=1;l.fill=this.style.value.color;return[l]},createRadialSpark:function e(t,i,a,s){var r=.4*Math.min(s.width,s.height),l,u=o.getAngleOfNormalizedValue(t,a)+Math.PI/2,h=0,c,p=new n;p.opacity=1;if("string"!==typeof i)if(1===i.colors.length)p.fill=i.colors[0].color;else for(l=0;l<i.colors.length;l++){c=i.limits[l]?(i.limits[l].value-a.getPlotMin())/(a.getPlotMax()-a.getPlotMin()):1;if(t>=h&&t<c){p.fill=i.colors[l].color;break}h=c}else p.fill=i;s.width<s.height?p.set([{x:0,y:-r},{x:-r/2,y:+r/2},{x:r/2,y:+r/2},{x:0,y:-r}]):p.set([{x:-r/2,y:r/2},{x:0,y:-r},{x:+r/2,y:r/2},{x:-r/2,y:r/2}]);p.translate(a._centerPoint.x,a._centerPoint.y);p.rotate(u);return[p]},getGaugeWidth:function e(t,i){var a;if(t){a=i?"width":"height";this._colorWidth=t[a]>500?this._maxWidth:Math.max(t[a]/500*this._maxWidth,10)}return this._colorWidth},updateSize:function e(t,i,a){var n=Math.min(t.width,t.height),s;s=a?n:i?t.width:t.height;this._colorWidth=s>500?this._maxWidth:Math.max(s/500*this._maxWidth,10);this._relevantPos=(s-this._colorWidth)/2;this._paddingToAxis=Math.min(6,n/200)},getPaddingToAxis:function e(){return this._paddingToAxis},getRelevantPos:function e(){return this._relevantPos},getPadding:function e(){return this._padding}});return u}.apply(t,a),void 0!==n&&(e.exports=n))},1581:function(e,t,i){"use strict";var a,n;!(a=[i(92)],n=function(e){var t;function i(e,t,i){return e<t?0:e>i?1:(e-t)/(i-t)}t=e.extend("FontManager",{init:function e(){this._minFontSize=10;this._maxFontSize=20;this._minRectSize=100;this._maxRectSize=900;this._fontWeight="normal";this._fontFamily="QlikView Sans";this._fontSize=10},setFontWeight:function e(t){this._fontWeight=t},setFontFamily:function e(t){this._fontFamily=t},setRectLimits:function e(t,i){this._minRectSize=t;this._maxRectSize=i},getFont:function e(t,a){var n=Math.min(t.height,t.width),s=a&&a.minFontSize?a.minFontSize:this._minFontSize,r=a&&a.maxFontSize?a.maxFontSize:this._maxFontSize,o=i(n,this._minRectSize,this._maxRectSize);this._fontSize=s+Math.round(o*(r-s));return this._fontWeight+" "+this._fontSize+"px "+this._fontFamily},getFontSize:function e(t,a){var n=Math.min(t.height,t.width),s=a&&a.minFontSize?a.minFontSize:this._minFontSize,r=a&&a.maxFontSize?a.maxFontSize:this._maxFontSize,o=i(n,this._minRectSize,this._maxRectSize);return s+Math.round(o*(r-s))}});return t}.apply(t,a),void 0!==n&&(e.exports=n))},1582:function(e,t,i){"use strict";var a,n;!(a=[i(1171),i(100)],n=function(e,t){var i;function a(e){if(!e||!e.paletteColor&&!e.color)return"#000000";return e.paletteColor?t.resolveColor(e.paletteColor):t.resolveColor(e.color,t.deprecatedPalette)}i=e.extend("GaugeRefLines",{namespace:".gaugereflines",init:function e(){this._super.apply(this,arguments);this._width=50},paint:function e(){this._super.apply(this,[].slice.call(arguments));if(!this._hasVisibleRefLines)return;var t,i,n,s,r,o,l,u,h,c,p,d,g,f=[],m=this._paddingToAxis,x=this._relevantPos,_,y;for(t=0;t<this._numRefLinesDataAxes;t+=1){n=this._data[t];s=this._axes[t];r=this._axisPlotMinValues[t];o=this._axisPlotMaxValues[t];for(i=0;i<n.length;i+=1){if(!n[i].show||void 0===n[i].refLineExpr)continue;l=this._currentProperties["value"+t+i];if(l>o||l<r)continue;if(s.isRadial()){_=s._radius;y=s.getAngleOfValue(l);h=s._centerPoint.x+Math.cos(y)*(_-m);c=s._centerPoint.y+Math.sin(y)*(_-m);p=s._centerPoint.x+Math.cos(y)*(_-m-this._width);d=s._centerPoint.y+Math.sin(y)*(_-m-this._width)}else{u=s.getPositionOfValue(l);u=Math.floor(u)-.5;if(s.isVertical()){h=x;c=u;p=x+this._width;d=u}else{h=u;c=x;p=u;d=x+this._width}}g=a(n[i]);f.push({type:"line",stroke:g,strokeWidth:1,shape:{x1:h,y1:c,x2:p,y2:d}})}}this.renderer.shapes=f;this.renderer.render()},setGaugeWidth:function e(t){this._width=t;this.updateSize();this.invalidateDisplay()},setPaddingToAxis:function e(t){this._paddingToAxis=t},setRelevantPos:function e(t){this._relevantPos=t}});return i}.apply(t,a),void 0!==n&&(e.exports=n))},1583:function(e,t,i){"use strict";var a,n;!(a=[i(1172),i(1032),i(100)],n=function(e,t,i){var a;function n(e){return String(void 0!==e.label?e.label:e)}function s(e){if(!e||!e.paletteColor&&!e.color)return"#000000";return e.paletteColor?i.resolveColor(e.paletteColor):i.resolveColor(e.color,i.deprecatedPalette)}a=e.extend("GaugeRefLineLabels",{init:function e(){this._super.apply(this,arguments)},paint:function e(){if(!this._axis){this._clearLabels();return}this._axis.updateNow(["properties"]);if(this._plotMinValue!==this._axis.getPlotMin()||this._plotMaxValue!==this._axis.getPlotMax()){this._hasVisibleRefLines=this.checkIfHavingVisibleRefLines();this.updateLocalPlotMaxMinValues.call(this)}if(!this._hasVisibleRefLines){this._clearLabels();return}var i,a,r,o,l,u,h,c,p,d,g,f="bottom",m=this._relevantPos,x=[],_=[],y=this._axis,v,M,P,b,w,L,A,C;for(i=0;i<this._data.length;i+=1){if(!this._data[i].show||void 0===this._data[i].refLineExpr)continue;a=this._currentProperties["value"+i];r=n(this._data[i].refLineExpr);if(void 0===a||Number.isNaN(+a)||a<this._axis.getPlotMin()||a>this._axis.getPlotMax())continue;b=new t;b.font=this._style.label.font;b.maxWidth=this._labelMaxWidthForYAxis;b.maxNumLines=3;g=r;d=g.replace(/[0-9]|\.|-|\+|e/g,"");d=d.length?g:y.format(a);h=this._data[i].label+" ("+d+")";c=s(this._data[i]);b.setText(h);b.ellipsis="… ("+d+")";L=b.measure();if(y.isRadial()){M=y._radius;P=y.getAngleOfValue(a);l=y._centerPoint.x+Math.cos(P)*M;u=y._centerPoint.y+Math.sin(P)*M;v=P>Math.PI/2&&P<3*Math.PI/2?"right":"left";f=P>Math.PI&&P<2*Math.PI?"bottom":"top";w=L.width;if(l-w<0){b.maxWidth+=l-w;l=b.maxWidth}else l+w>this.rect.width&&(b.maxWidth=w+(this.rect.width-(l+w)))}else{o=y.getPositionOfValue(a);o=Math.floor(o)-.5;C=L.height/2;if(y.isVertical()){v=this.yMirrorMode?"right":"left";f="middle";l=this.yMirrorMode?m-4:m+this._width+4;u=o<C?o+(C-o+4):o>this.rect.height-C?o-(o-(this.rect.height-C-4)):o}else{v="center";u=m+this._width;f="top";A=L.width/2;l=o<A?o+(A-o+4):o>this.rect.width-A?o-(o-(this.rect.width-A-4)):o}}b.x=l;b.y=u;b.align=v;b.baseline=f;b.fill=c;_.push(b);x.push({position:o,shapeWrapper:b,tooltipRows:[{label:this._data[i].label,value:d}]})}p=x?x.length:0;if(0===p){this._clearLabels();return}this.renderer.stage.removeChildren();this.renderer.stage.addChildren(_);this.renderer.render();this._tooltips.setLabelObjects(x)},setGaugeWidth:function e(t){this._width=t;this.invalidateDisplay()},setPaddingToAxis:function e(t){this._paddingToAxis=t},setRelevantPos:function e(t){this._relevantPos=t}});return a}.apply(t,a),void 0!==n&&(e.exports=n))},1584:function(e,t){e.exports='<div class="qv-viz" aria-hidden="true"></div>\n<div qva-popup-disclaimer ng-if="!!dataAttributes.popupDisclaimer.show" pop-close="dataAttributes.popupDisclaimer.onPopClose" pop-message="dataAttributes.popupDisclaimer.message" pop-title="dataAttributes.popupDisclaimer.title" />\n'},1585:function(e,t,i){"use strict";var a,n;!(a=[i(91),i(100),i(101),i(1260)],n=function(e,t,i,a){var n,s,r;var o=a.getPropertyLogic();function l(e){return"measure"===i.getValue(e,"color.useBaseColors")}n={uses:"data",items:{measures:{disabledRef:""},dimensions:{disabledRef:""}}};s={type:"items",uses:"settings",component:"expandable-items",translation:"Common.Appearance",items:{presentation:{type:"items",grouped:true,translation:"properties.presentation",items:{rangeLimits:{type:"items",items:{text:{component:"text",translation:"properties.axis.rangeLimits",style:"sHeader"},min:{ref:"measureAxis.min",translation:"properties.axis.min",type:"number",expression:"optional",invalid:function e(t){return t.measureAxis&&t.measureAxis.min>=t.measureAxis.max},change:function e(t){i.setValue(t,"disclaimerClosed",true)}},max:{ref:"measureAxis.max",translation:"Common.Max",type:"number",expression:"optional",defaultValue:100,invalid:function e(t){return t.measureAxis&&t.measureAxis.min>=t.measureAxis.max},change:function e(t){i.setValue(t,"disclaimerClosed",true)}}}},type:{ref:"gaugetype",type:"string",component:"item-selection-list",defaultValue:"radial",horizontal:true,items:[{icon:"gauge_gauge",component:"icon-item",labelPlacement:"bottom",translation:"properties.gauge.radial",value:"radial"},{icon:"gauge_vertical_bar",component:"icon-item",labelPlacement:"bottom",translation:"properties.gauge.bar",value:"bar"}],change:function e(t){if("radial"===t.gaugetype){r=t.orientation;t.orientation="horizontal"}else t.orientation=r}},autoOrientation:{ref:"autoOrientation",translation:"properties.orientation",type:"boolean",defaultValue:true,component:"switch",undefinedValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:function e(t){return"bar"===t.gaugetype}},orientation:{ref:"orientation",type:"string",component:"item-selection-list",defaultValue:"horizontal",horizontal:true,items:[{component:"icon-item",icon:"direction_up_down",labelPlacement:"bottom",translation:"properties.orientation.vertical",value:"vertical"},{icon:"direction_left_right",component:"icon-item",labelPlacement:"bottom",translation:"Common.Horizontal",value:"horizontal"}],show:function e(t){return"bar"===t.gaugetype&&!t.autoOrientation}},angle:{ref:"angle",translation:"properties.gauge.angle",type:"number",component:"slider",min:.2,max:.98,step:.1,defaultValue:.7,show:function e(){return false}},segments:{type:"items",items:{useSegments:{ref:"useSegments",type:"boolean",component:"switch",defaultValue:false,translation:"properties.gauge.useSegments",change:function e(t){var i=a.getSegmentColors(t.segmentInfo);t.useSegments&&1===i.length?t.segmentInfo.paletteColors=[t.paletteProgressColor||t.progressColor]:t.paletteProgressColor=i[0]},options:[{value:false,translation:"properties.off"},{value:true,translation:"properties.on"}]},useBaseColor:{ref:"color.useBaseColors",type:"string",defaultValue:"measure",translation:"properties.useLibraryMeasureColors",component:"switch",show:function e(t){t.color||(t.color={});t.color.useBaseColors||(t.color.useBaseColors="off");return true},options:[{value:"off",translation:"properties.off"},{value:"measure",translation:"properties.on"}]},paletteProgressColor:{component:"color-picker",translation:"properties.color",ref:"paletteProgressColor",type:"object",dualOutput:true,defaultValue:o.color.paletteColor.defaultValue,show:function e(a){if(!i.getValue(a,"paletteProgressColor")){var n=t.resolveColor(i.getValue(a,"progressColor"));var s=-1;if(!n||"none"===n){n=o.color.paletteColor.defaultValue();s=n.index}i.setValue(a,"paletteProgressColor",{index:s,color:n})}return!l(a)&&!a.useSegments}},valueMode:{ref:"valueMode",translation:"properties.value",type:"string",component:"dropdown",options:[{value:"absolute",translation:"properties.gauge.absolute"},{value:"relative",translation:"properties.gauge.relative"}],show:function e(){return false},defaultValue:"absolute"},maxSegments:{ref:"maxSegments",type:"number",defaultValue:6,show:false},segmentInfo:{ref:"segments",type:"items",component:"color-scale-creator",show:function e(t){return!l(t)&&t.useSegments},items:{limits:{ref:"segmentInfo.limits",type:"array",items:{value:{ref:"value",type:"number",expression:"optional",invalid:function e(t,i){return"number"===typeof t.value&&(t.value<i.measureAxis.min||t.value>i.measureAxis.max)},defaultValue:1},gradient:{translation:"properties.gradient",ref:"gradient",type:"boolean",show:false}}},paletteColors:{items:{color:{ref:"color",type:"string"},index:{ref:"index",type:"integer",defaultValue:6}},type:"array",ref:"segmentInfo.paletteColors"}}}}},disclaimerClosed:{ref:"disclaimerClosed",type:"boolean",defaultValue:false,show:false}}},measureAxis:{type:"items",label:function t(i,a){var t,n=a.getMeasureLayouts()[0];t=n?e.get("properties.measureAxisWithInfo",[n.qFallbackTitle]):e.get("properties.measureAxis");return t},grouped:true,items:{axis:{type:"items",snapshot:{title:"properties.measureAxis",tid:"property-yAxis"},items:{show:{ref:"measureAxis.show",translation:"properties.axis.labelsAndTitle",type:"string",component:"dropdown",options:[{value:"all",translation:"properties.axis.show.all"},{value:"labels",translation:"properties.axis.show.labels"},{value:"title",translation:"properties.axis.show.title"},{value:"none",translation:"Common.None"}],defaultValue:"all"},spacing:{ref:"measureAxis.spacing",translation:"properties.axis.scale",type:"number",component:"dropdown",defaultValue:1,show:function e(t){return t.measureAxis&&"none"!==t.measureAxis.show&&"title"!==t.measureAxis.show},options:[{value:2,translation:"properties.gridLine.wide"},{value:1,translation:"properties.gridLine.medium"},{value:.5,translation:"properties.gridLine.narrow"}]}}}}}}};var u={type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{suppressZero:null,calcCond:{uses:"calcCond"}}},refLines:{uses:"reflines"}}};return{type:"items",component:"accordion",items:{data:n,addons:u,settings:s}}}.apply(t,a),void 0!==n&&(e.exports=n))},1586:function(e,t,i){"use strict";var a,n;!(a=[i(119),i(1587)],n=function(e,t){e.directive("qvaPopupDisclaimer",function(){return{template:t,replace:true,scope:{popMessage:"=",popTitle:"=",popClose:"="},link:function e(t){t.onClose=function(){t.popClose()}}}})}.apply(t,a),void 0!==n&&(e.exports=n))},1587:function(e,t){e.exports='<div class="qv-popup-disclaimer">\n\t<div class="close-icon  lui-icon  lui-icon--remove" qva-activate="onClose()"></div>\n\t<header class="dm-header">{{popTitle}}</header>\n\t<main class="dm-main">\n\t\t<p class="dm-p">{{popMessage}}</p>\n\t</main>\n</div>'},305:function(e,t,i){"use strict";var a,n;!(a=[],n=function(){var e={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31},t=[[550,450,e.FULL],[400,220,e.MEDIUM],[300,150,e.SMALL],[150,75,e.XSMALL],[0,0,e.SPARK]],i=[[450,e.FULL],[220,e.MEDIUM],[150,e.SMALL],[75,e.XSMALL],[0,e.SPARK]],a=[[550,e.FULL],[400,e.MEDIUM],[300,e.SMALL],[150,e.XSMALL],[0,e.SPARK]],n=t.length;function s(i,a){var s;for(s=0;s<n;++s)if(i>=t[s][0]&&a>=t[s][1])return t[s][2];return e.SPARK}function r(t){var a;for(a=0;a<n;++a)if(t>=i[a][0])return i[a][1];return e.SPARK}function o(t){var i;for(i=0;i<n;++i)if(t>=a[i][0])return a[i][1];return e.SPARK}function l(t){var i=Object.keys(e).filter(function(i){return e[i]===t})[0];return i&&i.toLowerCase()||""}return{LayoutMode:e,getLayoutMode:s,getLayoutModeKey:l,getHorizontalLayoutMode:o,getVerticalLayoutMode:r}}.apply(t,a),void 0!==n&&(e.exports=n))},393:function(e,t,i){"use strict";var a,n;!(a=[i(10),i(48)],n=function(e,t){var i=document.createElement("textarea");i.style.position="absolute";i.style.left="-9999px";i.setAttribute("readonly","");function a(e){i.value=e;document.body.appendChild(i);i.select();i.setSelectionRange(0,i.value.length);document.execCommand("copy");document.body.removeChild(i)}t.service("qvCopy",["$window",function(t){var i=e.element(t.document.body);var a=e.element("<textarea/>");a.css({position:"fixed",opacity:"0"});return function(e){a.val(e);i.append(a);a[0].select();try{var t=document.execCommand("copy");if(!t)throw t}catch(t){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}a.remove()}}]);t.directive("qvClickCopy",["qvCopy",function(e){return{restrict:"A",link:function t(i,a,n){a.bind("click",function(){e(n.qvClickCopy)})}}}]);return{copyToClipboard:a}}.apply(t,a),void 0!==n&&(e.exports=n))},486:function(e,t,i){"use strict";var a,n;!(a=[i(200),i(104)],n=function(e){function t(t,n,u){var h=t.length>0?t[0].positions:[],c=n._style,p=n._radialOptions,d=new e,g=c.ticks.major.length*u,f=c.label.offset*u*20,m,x,_="far"===n.getAlignment()?"left":"right",y=[],v=Math.min(n.rect.height,n.rect.width),M=0,P,b,w,L,A=[],C=n._radius,S;x="left"===_?1:-1;g*=x;m=x>0?0:n.rect.width;n.getShowLine()&&y.push({stroke:c.line.color,shape:{cx:n._centerPoint.x,cy:n._centerPoint.y,radius:C,radianOffset:0,start:p.start,end:p.end},type:"arc"});if(n.getShowLabels())for(S=0;S<h.length;S++){P=(h[S]-M)/(v-M);w=r(P,n);L=o(w);L.r=L.r+f;L=l(L,n._centerPoint);b=s(P,n);L.angle=b;A.push(L);d.save();d.translate(w.x+n._centerPoint.x,w.y+n._centerPoint.y);d.rotate(b);y.push({stroke:c.ticks.major.color,opacity:n.ticks[S].opacity,transform:d.elements,shape:{x1:0,x2:-g,y1:0,y2:0},type:"line"});d.restore()}m+=c.ticks.major.length*x;if(n._showLabels&&n._layoutMode>1)for(S=0;S<t.length;S++){y=y.concat(i(t[S],A,m,n));m+=t[S].labelSpace*x}n._showTitle&&n._layoutMode>1&&(y=y.concat(a(n,c)));n._renderer.shapes=y;n._renderer.render()}function i(e,t,i,a){var n=e.labels,s=t,r=e.opacities,o,l,u=[],h=a._style,c,p,d,g,f,m,x;p=n?n.length:0;if(0===p)return;d=p-1;for(m=0;m<p;m++){g=a.yMirrorMode?n[d-m]:n[m];o=a._renderer.getTextWidth(g,h.label.font);f=s[m];c=f.angle;l=c-.1<3*Math.PI/2&&c+.1>3*Math.PI/2?"center":c<Math.PI/2||c>3*Math.PI/2?"left":"right";u.push({type:"text",fill:h.label.color,opacity:r?r[m]:1,shape:{text:g,x:f.x,y:f.y,maxWidth:f.x-o<0?f.x:f.x+o>a.rect.width?a.rect.width-f.x:o,height:x,maxNumLines:1,font:h.label.font,align:l,baseline:"middle"}})}return u}function a(e,t){var i=[],a=Math.min(e.rect.width,e.rect.height),s=n(e);i.push({type:"text",fill:t.title.color,opacity:1,shape:{text:e._title,x:s.x,y:s.y+a*(.06+Math.min(a-300,0)/-300*.04),maxWidth:1.4*e._radius,maxNumLines:1,font:t.title.font,align:"center",baseline:"middle"}});return i}function n(e){var t={x:e.rect.width/2,y:e.rect.height/2};return t}function s(e,t){var i=t._radialOptions,a=Math.max(Math.min(e,1),0)*(i.end-i.start)+i.start;return a}function r(e,t,i){var a=t._radialOptions,n=e*(a.end-a.start)+a.start,s=t._radius;return l({a:n,r:s},i)}function o(e){return{r:Math.sqrt(e.x*e.x+e.y*e.y),a:Math.atan2(e.y,e.x)}}function l(e,t){t||(t={x:0,y:0});return{x:t.x+e.r*Math.cos(e.a),y:t.y+e.r*Math.sin(e.a)}}return{renderRadial:t,getPointOfValue:r,getPolPos:o,getCartPos:l,getAngleOfNormalizedValue:s}}.apply(t,a),void 0!==n&&(e.exports=n))}}]);