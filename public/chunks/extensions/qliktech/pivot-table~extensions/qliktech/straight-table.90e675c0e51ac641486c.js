/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[18],{1263:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(159)],s=function(t,e){var i,n,s,o,l,r,a;n=t.extend("ClassList",{init:function t(){this.classList=[]},addClass:function t(e){if(!e)return;var i=this.classList.indexOf(e);-1===i&&this.classList.push(e);return this},removeClass:function t(e){if(!e)return;var i=this.classList.indexOf(e);-1!==i&&this.classList.splice(i,1);return this},hasClass:function t(e){return-1!==this.classList.indexOf(e)}});s=n.extend("Cell",{init:function t(e,i){this._super.apply(this,arguments);this.setDefaults();this.colIx=e;this.rowIx=i},setDefaults:function t(){this.classList.length=0;this.style={};this.color={};this.colspan=1;this.rowspan=1;this.text="";this.displayText="";this.dataValue=-1;this.dataColIx=-10;this.effectiveDataColIx=void 0;this.dataRowIx=-1;this.isDimensionValue=false;this.type=void 0;this.locked=false;this.isNullValue=false;this.value="";this.tid="";this.dir="auto";this.isRtl=false;this.isTotal=false;this.fieldName=""},setText:function t(i){var n=e.detectTextDirection(i);this.text=i;this.dir=e.supportDirAuto()?"auto":n;this.isRtl="rtl"===n},setData:function t(e,i,n,s,o){this.setText(e);this.rowspan=i||1;this.colspan=n||1;this.dataRowIx=s||-1;this.dataColIx=o||-1},setHeader:function t(e,i,n,s,o,l,r,a){this.setText(e);this.dataValue=i;this.rowspan=n||1;this.colspan=s||1;this.dataRowIx=o;this.dataColIx=l;this.isTotal=a;this.templateSrc="pt-header-cell-item.ng.html";this.addClass("header");this.setNullClass(r)},setTopHeader:function t(){this.setHeader.apply(this,arguments);this.addClass("top")},setLeftHeader:function t(){this.setHeader.apply(this,arguments);this.addClass("left")},setFromMetaHeader:function t(e){Object.keys(e).forEach(function(t){this[t]=e[t]},this);this.setText(e.text);this.setTextAlign(e.autoAlignText,e.explicitTextAlign);this.setAriaSort(e.isSorted,e.sortIndicator)},setNullClass:function t(e){if(e){this.isNullValue=e;this.addClass("null-value")}},addFocusListener:function t(e){this.focusListeners=this.focusListeners||[];this.focusListeners.push(e)},focus:function t(){this.focusListeners&&this.focusListeners.forEach(function(t){t()})},addBlurListener:function t(e){this.blurListeners=this.blurListeners||[];this.blurListeners.push(e)},blur:function t(){this.blurListeners&&this.blurListeners.forEach(function(t){t()})}});Object.defineProperties(s.prototype,{REPRESENTATION_URL:{value:"url"},REPRESENTATION_TEXT:{value:"text"}});l=s.extend("StraightCell",{setDefaults:function t(){this._super.apply(this,arguments);this.isNumeric=false;this.textAlign="left";this.color.bgByExpression=false;this.color.bgIsDark=false;this.selected=false;this.selectedHighlighted=false;this.qvaOutsideIgnoreFor="";this.isSearchIcon=false;this.open=false;this.sortable=false;this.isMeasure=false;this.isSorted=false;this.reversed=false;this.isSelectLocked=false;this.columnHighlighted=this.columnHighlighted||false;this.hidden=false;this.isFillColumn=false;this.ariaSort=void 0},getAutoTextAlign:function t(){if(this.isNumeric)return"right";return this.isRtl?"right":"left"},setTextAlign:function t(e,i){this.textAlign=e?this.getAutoTextAlign():i||"left"},setAriaSort:function t(e,i){this.ariaSort="none";e&&("A"===i?this.ariaSort="ascending":"D"===i&&(this.ariaSort="descending"))}});r=s.extend("PivotCell",{setDefaults:function t(){this._super.apply(this,arguments);this.templateSrc="pt-cell-item.ng.html";this.collapseExpandClass="";this.isMeta=false},setCollapseExpandClass:function t(e){this.addClass("parent");e.qCanExpand?this.collapseExpandClass="lui-icon--plus":e.qCanCollapse&&(this.collapseExpandClass="lui-icon--minus")},setEmpty:function t(e,i,n){this.setHeader("",-4,e,i);this.addClass("empty");this.addClass(n)}});o=n.extend("Row",{init:function t(e,i){this._super.apply(this,arguments);this.cells=[];this.style={};this.isBold=false;this.classList=[];this.gridType=e;this.rowIx=i;this.reset()},getIndex:function t(){var e,i;for(i=0;i<this.cells.length;++i){e=this.cells[i];if(e.dataRowIx>=0)return e.dataRowIx}return-1},setNextCellIx:function t(e){this.nextCellIx=e},reset:function t(e){var i;this.nextCellIx=0;this.isBold=false;e||(this.classList=[]);for(i=0;i<this.cells.length;++i)this.cells[i].setDefaults()},removeUnused:function t(){this.cells.splice(this.nextCellIx,this.cells.length-this.nextCellIx)},_createCell:function t(e){switch(this.gridType){case"pivot":return new r(e,this.rowIx);default:return new l(e,this.rowIx)}},getCell:function t(e){this.cells[e]||(this.cells[e]=this._createCell(e));return this.cells[e]},getColIx:function t(e){return this.cells.indexOf(e)},getPreviousCell:function t(e){var i=this.getColIx(e);if(i>0)return this.getCell(i-1)},getNextCell:function t(){var e;if(this.cells[this.nextCellIx]){e=this.cells[this.nextCellIx];e.setDefaults()}else{e=this._createCell(this.nextCellIx);this.cells[this.nextCellIx]=e}this.nextCellIx++;return e},getCellSize:function t(){return this.nextCellIx},addEmptyHeaderCell:function t(e,i,n,s,o,l){var r=this.getNextCell();r.setEmpty(n,s,o);r.setData("",n,s,e,i);r.setNullClass(l);return r},addEmptyMetaCell:function t(e,i,n){var s=this.addEmptyHeaderCell(-1,-1,e,i,n);s.isMeta=true;return s},addEmptyDataCell:function t(e,i){var n=this.getNextCell();n.setData("",-4,e,i);n.addClass("empty");return n},addTotalCell:function t(e,i,n){var s=this.getNextCell();s.setHeader(e,-1,i,n);s.addClass("bold");this.addClass("bold");return s},addLeftCollapseExpandCell:function t(e,i,n,s,o){var l=this.getNextCell();l.setLeftHeader("",-1,1,1,e,i,s,o);l.setCollapseExpandClass(n);return l}});a=t.extend("RowList",{init:function t(e){this.rows=[];this.gridType=e},reset:function t(e){this.rows.forEach(function(t){t.reset(e)});this.nextRowIx=0},get:function t(e){this.rows[e]||(this.rows[e]=new o(this.gridType,e));return this.rows[e]},getNext:function t(){var e=this.get(this.nextRowIx);this.nextRowIx++;return e},removeUnused:function t(){this.rows.splice(this.nextRowIx,this.rows.length-this.nextRowIx);this.rows.forEach(function(t){t.removeUnused()})},setNextRowIx:function t(e){this.nextRowIx=e}});i=t.extend("DataGrid",{init:function t(e){this.headerList=new a(e);this.rowList=new a(e);this.footerList=new a(e);this.gridType=e;this.reset()},setTopTreeDepth:function t(e){this.topTreeDepth=e},setLeftTreeDepth:function t(e){this.leftTreeDepth=e},reset:function t(e,i){this.rowList.reset();if(!e){this.headerList.reset(i);this.footerList.reset(i)}this.topTreeDepth=-1;this.leftTreeDepth=-1},getRowsByCellType:function t(e){var i=[];i=e===this.CELL_TYPE_DATA||e===this.CELL_TYPE_LEFT?this.rows:this.headerRows;return i},getRow:function t(e){return this.rowList.get(e)},getHeaderRow:function t(e){return this.headerList.get(e)},getFooterRow:function t(e){return this.footerList.get(e)},getNextRow:function t(){return this.rowList.getNext()},getNextHeaderRow:function t(){return this.headerList.getNext()},getNextFooterRow:function t(){return this.footerList.getNext()},getCell:function t(e,i){return this.getRow(e).getCell(i)},getHeaderCell:function t(e,i){return this.getHeaderRow(e).getCell(i)},getFooterCell:function t(e,i){return this.getFooterRow(e).getCell(i)},removeUnused:function t(){this.rowList.removeUnused();this.headerList.removeUnused();this.footerList.removeUnused()},getNextRowIx:function t(){return this.rowList.nextRowIx},setNextRowIx:function t(e){this.rowList.setNextRowIx(e)},setNextHeaderIx:function t(e){this.headerList.setNextRowIx(e)}});Object.defineProperties(i.prototype,{headerRows:{get:function t(){return this.headerList.rows}},footerRows:{get:function t(){return this.footerList.rows}},rows:{get:function t(){return this.rowList.rows}},GRID_TYPE_STRAIGHT:{value:"straight"},GRID_TYPE_PIVOT:{value:"pivot"},CELL_TYPE_TOP:{value:"top"},CELL_TYPE_LEFT:{value:"left"},CELL_TYPE_DATA:{value:"data"}});return i}.apply(e,n),void 0!==s&&(t.exports=s))},1265:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(90),i(1003),i(1128)],s=function(t,e){t.service("qvGridObjectSelectionService",["$timeout","$document","qvGridObjectDataService",function(t,i,n){var s;s={$new:function t(){var e={active:false,currentDataColIx:-1,effectiveDataColIx:-1,currentDataRowIx:-1,currentCell:void 0,activationCell:void 0,dataValues:{},unbindKeyboard:null};Object.defineProperties(e,{dataValuesArray:{get:function t(){var e,i=[],n=Object.keys(this.dataValues),s=n.length;for(e=0;e<s;++e)i.push(parseInt(n[e]));return i}},selectedIndices:{get:function t(){var e,i=[],n=this.dataValuesArray,s=n.length;for(e=0;e<s;++e)i.push(this.dataValues[n[e]]);return i}}});return e},init:function t(e,i,n,o,l,r){e.confirm=function(){i.endSelections(true);e.deactivated();s.reset(n);s.hide(n);o()};e.cancel=function(){i.endSelections(false);e.deactivated();s.reset(n);s.hide(n);l()};e.clear=function(){n.dataValues={};r();s.reset(n);i.clearSelections();e.selectionsMade=false}},reset:function t(e){e.dataValues={};e.currentDataColIx=-1;e.effectiveDataColIx=-1;e.currentDataRowIx=-1;e.currentCell=void 0},show:function t(i,n){if(i.active)return;i.currentDataColIx=n.dataColIx;i.effectiveDataColIx=n.effectiveDataColIx;i.currentDataRowIx=n.dataRowIx;i.activationCell=e.extend(true,{},n);i.active=true},hide:function t(e){e.active=false},bindKeyboard:function t(e,n){var s=".selections-keyboard-"+n;i.on("keyup"+s,function(t){27===t.which?e.cancel():13===t.which&&e.confirm()});return function(){i.off(s)}},isColumnar:function t(e,i){return i.type===e.CELL_TYPE_LEFT||i.type===e.CELL_TYPE_DATA},selectValue:function t(e,i,n){n.dataValues[i.dataValue]=s.isColumnar(e,i)?i.dataRowIx:i.dataColIx;n.currentDataColIx=i.dataColIx;n.effectiveDataColIx=i.effectiveDataColIx;n.currentDataRowIx=i.dataRowIx},selectCell:function t(e,i,n){if(e.gridType===e.GRID_TYPE_PIVOT){i[n?"addClass":"removeClass"]("selected-highlighted");i[n?"removeClass":"addClass"]("selected")}else{i.selectedHighlighted=!!n;i.selected=!n}},lockCell:function t(e,i){e.gridType===e.GRID_TYPE_PIVOT?i.addClass("locked"):i.isSelectLocked=true},deselectValue:function t(e,i,n){delete n.dataValues[i.dataValue]},deselectCell:function t(e,i){if(e.gridType===e.GRID_TYPE_PIVOT){i.removeClass("selected-highlighted");i.removeClass("selected")}else{i.selectedHighlighted=false;i.selected=false}},unlockCell:function t(e,i){e.gridType===e.GRID_TYPE_PIVOT?i.removeClass("locked"):i.isSelectLocked=false},removeCellStyle:function t(e){if(e.color.bgByExpression||e.style.color){e.styleCache={style:e.style,bgByExpression:e.color.bgByExpression};e.style="";e.color.bgByExpression=false}},restoreCellStyle:function t(e){if(e.styleCache){e.style=e.styleCache.style;e.color.bgByExpression=e.styleCache.bgByExpression;delete e.styleCache}},getSelectionType:function t(e,i){var n={};n[e.CELL_TYPE_TOP]="T";n[e.CELL_TYPE_LEFT]="L";n[e.CELL_TYPE_DATA]="D";return n[i]},sendSelection:function t(e,i,n,o,l){var r,a,c,u=n.selectedIndices;if(0===u.length)return;if(s.isColumnar(o,n.currentCell)){r=["number"===typeof n.effectiveDataColIx?n.effectiveDataColIx:n.currentDataColIx];a=n.selectedIndices}else{r=n.selectedIndices;a=[n.currentDataRowIx]}c=s.getSelectionType(o,l.type);i.selectionsMade=true;e.select(a,r,c).then(function(t){t||i.clear()})},getCellCountWithDataValue:function t(e,i,n){var o,l=[],r=0,a=i.length,c,u;if(0===a)return 0;for(u=0;u<a;++u){c=i[u];o=s.isColumnar(e,c)?c.dataColIx:c.dataRowIx;if(c.dataValue===n&&-1===l.indexOf(o)){l.push(o);r++}}return r},getSiblingCell:function t(e,i){if(e.gridType===e.GRID_TYPE_PIVOT)return i.currentCell;return i.activationCell},selectDimensionCells:function t(i,o,l,r,a,c){var u=a.dataValue,h=s.isSelected(l,a),d=n.getSiblingCells(r,s.getSiblingCell(r,l)||a),f,p;if(-1===d.indexOf(a))return;p=a.type===r.CELL_TYPE_TOP?i.getSize().qcx:i.getSize().qcy;f=s.getCellCountWithDataValue(r,d,u);if(p===f&&c&&h)return;d.forEach(function(t){t.dataValue in l.dataValues&&s.selectCell(r,t)});if(c&&h){s.deselectValue(r,a,l);d.forEach(function(t){t.dataValue===u&&s.deselectCell(r,t)})}else if(h){if(!c){d.forEach(function(t){t.dataValue===u&&s.selectCell(r,t)});s.selectCell(r,a,true)}}else{s.selectValue(r,a,l);d.forEach(function(t){t.dataValue===u&&s.selectCell(r,t)});s.selectCell(r,a,true)}l.currentCell=e.extend(true,{},a);return function(){0===l.dataValuesArray.length?o.clear():s.sendSelection(i,o,l,r,a)}},selectDimensionValue:function t(e,i,n,o,l,r,a){var c=s.activateSelections(e,i,n,o,l),u;if(!l.locked&&!l.isNullValue){u=s.selectDimensionCells(i,n,o,r,l,a);u&&u()}return c},activateSelections:function e(i,n,o,l,r){if(!l.active&&!r.locked){n.beginSelections();s.show(l,r);l.unbindKeyboard=s.bindKeyboard(o,i);t(function(){o.activated(true)})}return function(){l.unbindKeyboard()}},isSelected:function t(e,i){return i.dataValue in e.dataValues},updateStraight:function t(e,i,o){var l,r,a,c;if(i.dataValuesArray.length){c=n.getSiblingCells(e,o);a=c.length;for(l=0;l<a;++l){r=c[l];if(r.dataValue in i.dataValues){s.selectCell(e,r);i.currentDataRowIx===r.dataRowIx&&s.selectCell(e,r,true)}}}},updatePivot:function t(e,i,o){var l,r,a,c;if(i.dataValuesArray.length){c=n.getSiblingCells(e,o);a=c.length;for(l=0;l<a;++l){r=c[l];r.dataValue in i.dataValues&&s.selectCell(e,r)}}}};return s}])}.apply(e,n),void 0!==s&&(t.exports=s))},1266:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(1626),i(1627),i(96)],s=function(t,e,i,n){t.directive("qvTableColumnWidthAdjuster",function(){return{restrict:"E",replace:true,template:e,scope:{columns:"=",explicitColumnWidths:"=",rtl:"=",minColWidth:"="}}});t.directive("qvColumnWidthAdjustColumn",function(){return{restrict:"E",scope:{column:"=",explicitColumnWidth:"=",rtl:"=",minColWidth:"="},template:i,replace:true,link:function t(e,i){var s="columnAdjuster",o=e.minColWidth||40,l;e.columnStyle={};e.$watch("column.left",function(){e.columnStyle.left=e.column.left+"px"});e.$watch("column.hidden",function(){e.columnStyle.display=e.column.hidden?"none":"block"});e.$watch("column.height",function(){e.columnStyle.height=e.column.height+"px"});e.$watch("column.top",function(){e.columnStyle.top=e.column.top+"px"});e.$on("$destroy",function(){n(i[0]).off("*",s)});n(i[0]).swipe({id:s,options:{radiusThreshold:5,preventDefault:false},start:function t(){e.explicitColumnWidth=e.column.width;l=e.explicitColumnWidth;e.$emit("onExplicitColumnStarted")},update:function t(i,n){var s=(e.rtl?-1:1)*n.swipe.deltaX,r=Math.max(l+s,o);e.isActive||(e.isActive=true);e.explicitColumnWidth=r;e.$apply();e.$emit("onExplicitColumnChanging")},end:function t(){e.isActive=false;e.$emit("onExplicitColumnChanged")}}).doubletap({id:s,end:function t(){e.isActive=false;e.explicitColumnWidth=-1;e.$apply();e.$emit("onExplicitColumnChanged")}})}}})}.apply(e,n),void 0!==s&&(t.exports=s))},1626:function(t,e){t.exports='<div class="column-width-adjuster">\n\t<qv-column-width-adjust-column ng-repeat="column in columns" column="column" explicit-column-width="explicitColumnWidths[$index]" x-rtl="rtl" min-col-width="minColWidth"></qv-column-width-adjust-column>\n</div>\n'},1627:function(t,e){t.exports='<div class="column-width-adjust-column" ng-style="columnStyle" >\n\t<div class="column-width-adjust-line" ng-class="{active : isActive}"></div>\n</div>\n'},290:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(90),i(89),i(141),i(283),i(364),i(50),i(365),i(245)],s=function(t,e,i,n,s,o,l,r){t.service("qvListboxPopoverService",["luiPopover",function(t){var a;var c;var u={showDelayed:function n(u,h,d,f){var p=i();if(a){c.selectionsActivated=function(){};c.selectionsDeactivated=function(){};a.close()}c={getVisualization:function t(){return p.promise},onPopoverClose:this.onPopoverClose,options:{setController:p.resolve,isPopover:true,showLock:h.showLock,search:h.search||{},smallDevice:l.isSmallDevice,direction:h.direction},selectionToolbarComponent:s,onClose:o};a=t.show({template:r,controller:o.controller,alignTo:h.$alignToElement[0],input:c,closeOnResize:false,dock:"top"});u.then(function(t){c.model=t}).catch(function(t){false});c.selectionsActivated=function(){e.isFunction(f)&&f()};c.selectionsDeactivated=function(){e.isFunction(d)&&d();d=null;f=null};return a},show:function t(e,n,s,o){return this.showDelayed(i.when(e),n,s,o)},showField:function t(e,s,o,l,r,a){return n.createTransientField(s,e,l).then(function(t){return i.resolve(this.show(t,o,r,a))}.bind(this)).catch(function(t){false})},showDimension:function t(e,i,s,o,l,r){n.createTransientDimension(i,e,o).then(function(t){this.show(t,s,l,r)}.bind(this)).catch(function(t){false})},close:function t(){a&&a.close();a=null},onPopoverClose:function t(){},getPopover:function t(){return a},onClosing:function t(){}};return u}])}.apply(e,n),void 0!==s&&(t.exports=s))},364:function(t,e,i){"use strict";var n,s;!(n=[i(89),i(97)],s=function(t,e){var i={template:null,controller:["$scope","$element","$timeout",function(i,n,s){var o=this;i.input.selectionsActivated=function(){};i.input.selectionsDeactivated=function(){};o.close=function(){l()};function l(){s(function(){i.destroyComponent();n.remove()});e.off("start.listbox-popover-error",l)}function r(){return s(function(){return n.find(".toolbar-wrapper").outerWidth()})}var a=i.input.onPopoverClose;var c=null;i.closingDeferred.promise.then(function(t){c&&c();a(t);l()});t.all({object:i.input.getVisualization(),width:r()}).then(function(t){var n=t.object,s=t.width;n.getSelectionToolbar().then(function(t){i.toolbar=t;i.toolbar.showLock=i.input.options.showLock;i.toolbar.position={width:s};n.activateSelections()});n.loaded.then(function(){n.ext.hasError(n)&&e.on("start.listbox-popover-error",l)});n.selectionsApi.watchActivated(function(){i.input.selectionsActivated()});n.selectionsApi.watchDeactivated(function(){i.input.selectionsDeactivated();l()});c=function t(){n.selectionsApi.confirm()}})}]};return i}.apply(e,n),void 0!==s&&(t.exports=s))},365:function(t,e){t.exports='<lui-popover\n\t\tclass="qv-listbox-popover"\n\t\tstyle="min-width: 200px;width: 234px;height: 332px"\n\t\ton-close-view="closeView(event)"\n\t\tqva-outside-ignore-for="{{input.qvaOutsideIgnoreFor}}"\n\t\tqva-mouse-wheel-outside="close()">\n\t<lui-popover-body style="height: 332px" class="lui-nopad">\n\t\t<qv-spinner show="!input.model" spinner-height="100px" spinner-width="100px" show-Delay="300" center-in-parent="true"></qv-spinner>\n\t\t<div class="toolbar-wrapper"\n\t\t\t qva-include-selection-toolbar\n\t\t\t component="input.selectionToolbarComponent"\n\t\t\t toolbar="toolbar"\n\t\t\t options="input.options"></div>\n\t\t<div class="listbox-wrapper">\n\t\t\t<qv-object object="object" model="input.model" options="input.options"></qv-object>\n\t\t</div>\n\t</lui-popover-body>\n</lui-popover>\n'},986:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){return{migrateProperties:e,needToMigrateProperties:i};function e(e){var i=t.findValuesOfQProperty(e,"qHyperCubeDef");i.forEach(function(t){var e=t.qDimensions;e.forEach(function(t){var e=t.qDef;true===e.autoSort&&e.qSortCriterias.forEach(function(t){t.qSortByNumeric=1;t.qSortByAscii=1})})});return e}function i(e){var i=t.findValuesOfQProperty(e,"qHyperCubeDef");return i.some(function(t){var e=t.qDimensions;return e.some(function(t){var e=t.qDef;return true===e.autoSort&&e.qSortCriterias.some(function(t){return 1!==t.qSortByNumeric||1!==t.qSortByAscii})})})}}.apply(e,n),void 0!==s&&(t.exports=s))}}]);