/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[39],{1033:function(t,e,i){"use strict";var n,s;!(n=[i(307),i(293),i(109)],s=function(t,e,i){var n;n=t.extend("SelectionHighlightLayer",{init:function t(){this._super.apply(this,arguments);this.ranges=[];this.color=i.toRGBA("#52cc52",.2)},setRanges:function t(e){this.ranges=e},update:function t(i){var n=this.ranges.map(function(t){var n=i.getPositionOfValue(t.min);var s=i.getPositionOfValue(t.max);var a=new e(n,0,s-n,this.rect.height);a.fill=this.color;return a},this);this.renderer.stage.removeChildren();if(n.length){this.renderer.stage.addChildren(n);this.show()}else this.hide()}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1035:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(92),i(101),i(216),i(130),i(160),i(195),i(91),i(1036),i(983)],s=function(t,e,i,n,s,a,o,r,l,h){var c;t.directive("hypercubeDataItem",function(){return{restrict:"A",template:l,replace:true}});c=e.extend({init:function t(e,i,n){this._props=e;this._app=i;this._hyperCubePath=n;this.libraryTitles={};this.cachingAlternativeTitleRetriever=h.create()},setProperties:function t(e){this._props=e;this.cachingAlternativeTitleRetriever.resetTitles()},updateAlternativeItem:function t(e,n,s,r,l){var h=i.getValue(this._props,r,[]),c=i.getValue(this._props,s,[]),u=h[n.index];if(n.selected)return;n.original&&(u=i.getValue(this._props,s,[])[n.index]);u.qAttributeExpressions=a.moveById(e.data.qAttributeExpressions,u.qAttributeExpressions,a.IDMAP.COLOR_BY_EXPRESSION);var d,p,f,m;if(l)for(d=0;d<l.length;d++){m=l[d];p=i.getValue(c[e.index],m.path,[]);f=i.getValue(h[n.index],m.path,[]);p&&p.hasOwnProperty(m.property)&&f&&f.hasOwnProperty(m.property)&&(f[m.property]=p[m.property])}h.splice(n.index,1,c[e.index]);c.splice(e.index,1,u);o.colorByUpdater(this._props,"qHyperCubeDef.")},getDimensionOptions:function t(e,i,s,a,o){var r=this;return e.concat(i).filter(function(t){return t.qDef.cId===s.qDef.cId||!n.getDimensionLayout(t.qDef.cId,a,r._hyperCubePath)}).map(function(t){var n=r.cachingAlternativeTitleRetriever.getCachedDimensionTitle(t);r.cachingAlternativeTitleRetriever.getDimensionTitle(t,r._app).then(function(t){n=t});return{id:t.qDef.cId,index:-1!==e.indexOf(t)?e.indexOf(t):i.indexOf(t),original:-1!==e.indexOf(t),ref:"dimensions",selected:t.qDef.cId===s.qDef.cId,hasIcon:o,title:function t(){return n}}})},getMeasureOptions:function t(e,i,s,a,o){var r=this;return e.concat(i).filter(function(t){return t.qDef.cId===s.qDef.cId||!n.getMeasureLayout(t.qDef.cId,a,r._hyperCubePath)}).map(function(t){var n=r.cachingAlternativeTitleRetriever.getCachedMeasureTitle(t);r.cachingAlternativeTitleRetriever.getMeasureTitle(t,r._app).then(function(t){n=t});return{id:t.qDef.cId,index:-1!==e.indexOf(t)?e.indexOf(t):i.indexOf(t),original:-1!==e.indexOf(t),ref:"measures",selected:t.qDef.cId===s.qDef.cId,hasIcon:o,title:function t(){return n}}})},getTitle:function t(e,i){var n=e.qLibraryId,a=this,o=r.get(i?"Object.ErrorMessage.MissingDimension":"Object.ErrorMessage.MissingMeasure");function l(){return i?a._app.getDimensionList().then(function(t){return s.findLibraryDimension(n,t)}):a._app.getMeasureList().then(function(t){return s.findLibraryMeasure(n,t)})}if(n){if("undefined"!==typeof this.libraryTitles[n])return null===this.libraryTitles[n]?o:"string"!==typeof this.libraryTitles[n]?"":this.libraryTitles[n];this.libraryTitles[n]=l().then(function(t){if(t){a.libraryTitles[n]=t.qData.title;return a.libraryTitles[n]}a.libraryTitles[n]=null;return o});return this.libraryTitles[n]}return i?e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0]:e.qDef.qLabel||e.qDef.qDef}});return c}.apply(e,n),void 0!==s&&(t.exports=s))},1036:function(t,e){t.exports='<li class="em-item lui-list__item" qva-activate="alternativeItemClicked($event,item,alternative);">\n\t<i ng-if="alternative.hasIcon" class="em-item-icon lui-icon lui-icon--tick lui-list__aside" ng-class="{\'em-invisible\': !alternative.selected}"></i>\n\t<span class="lui-list__text lui-list__text--ellipsis" qva-direction x-dir-text="{{alternative.title()}}"  title="{{alternative.title()}}">{{alternative.title()}}&nbsp;</span>\n</li>'},1037:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){function e(t,e){var i=e.length,n,s,a,o,r;if(t){s=!t.autoMinMax&&("min"===t.minMax||"minMax"===t.minMax)&&null!==t.min&&!Number.isNaN(+t.min);a=!t.autoMinMax&&("max"===t.minMax||"minMax"===t.minMax)&&null!==t.max&&!Number.isNaN(+t.max)}o=Number.MAX_VALUE;r=-Number.MAX_VALUE;for(n=0;n<i;n++){o=Math.min(o,e[n].qMin);r=Math.max(r,e[n].qMax);if(o<=0&&r>=0)return true}o=s?t.min:o;r=a?t.max:r;return o<=0&&r>=0}var i={applyDisclaimerAttributes:function i(n,s,a,o,r){s||(s={});var l=t.extend({limitedData:false,hasNegativeOrZeroData:false,onlyNegativeOrZero:false,onlyNanData:false,onlyNullColor:false,hasDataRangeIncludingZero:false},s);t.extend(s,l);s.noDataExist=r.qHyperCube.qSize.qcy*r.qHyperCube.qSize.qcx===0;if(s.noDataExist){a.toggleClass("qv-viz-with-disclaimer",false);return s}n=n||{};n.overlay=n.overlay||false;n.supportNegative=void 0===n.supportNegative||n.supportNegative;n.supportRangeOverZero=void 0===n.supportRangeOverZero||n.supportRangeOverZero;var h=t.getValue(r,"qHyperCube.qDataPages.0.qArea.qWidth",0)&&t.getValue(r,"qHyperCube.qDataPages.0.qArea.qHeight",0);h&&true!==n.explicitLimitedData?s.limitedData=!n.paging&&r.qHyperCube.qSize.qcy>r.qHyperCube.qDataPages[0].qMatrix.length:s.limitedData=true===n.explicitLimitedData;s.hasNegativeOrZeroData=!n.supportNegative&&r.qHyperCube.qMeasureInfo.some(function(t){return t.qMin<=0});s.onlyNegativeOrZero=!n.supportNegative&&r.qHyperCube.qMeasureInfo.every(function(t){return t.qMax<=0&&t.qMax>=t.qMin})||0===r.qHyperCube.qSize.qcy;s.onlyNanData=r.qHyperCube.qMeasureInfo.every(function(t){return t.qMax<t.qMin||"NaN"===t.qMax});s.hasDataRangeIncludingZero=!n.supportRangeOverZero&&e(r.measureAxis,r.qHyperCube.qMeasureInfo,r.lineType);if(s.onlyNegativeOrZero&&n.overlay||!(s.limitedData||s.hasNegativeOrZeroData&&!n.supportNegative||s.hasDataRangeIncludingZero||s.onlyNullColor)){a.toggleClass("qv-viz-with-disclaimer",false);o.options.showDisclaimerStar=false}else{a.toggleClass("qv-viz-with-disclaimer",n.bottom);o.options.showDisclaimerStar=true}return s}};return i}.apply(e,n),void 0!==s&&(t.exports=s))},1050:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(91),i(89),i(1238),i(203),i(1129),i(1130),i(1131),i(1132),i(100),i(1133),i(1136)],s=function(t,e,i,n,s,a,o,r,l,h){var c,u=3;t.directive("qvaSimpleDataTitle",[function(){return{replace:true,template:l,restrict:"E",scope:{label:"=",locked:"=?",options:"="},link:function t(i){i.lockedTooltip=e.get("Tooltip.selections.locked")}}}]);t.directive("qvaDefaultDataTitle",[function(){return{replace:true,template:r,restrict:"E",scope:{data:"=",type:"=?",model:"=?",disabled:"=?",dock:"=?",options:"="}}}]);function d(t){this.relevantSize=this._titleFontHeight+u+(t?this._extraSizeWhenAlternatives:0)}function p(t,e){return"normal "+parseInt(t)*e+"px 'QlikView Sans'"}function f(){this._innerScope.options.parentType=this.options.parentType;var t=h.initializeService("object."+this.options.parentType);var e=t.layoutMap[this._layoutMode]||"medium";var i="full"===e?this._layoutMode:"medium";var n=t.getStyle("axis.title","fontSize");var a=p(t.scaleFontSize(n,i),this._innerScope.fontScale);this._innerScope.fontStyle.font=a;this._innerScope.fontStyle.color=t.getStyle("axis.title","color");this._titleFontHeight=s.getFontHeight(a)}c=n.extend("DataTitle",{init:function t(){var e=Array.prototype.slice.call(arguments),i=this;e.push(o);this._super.apply(this,e);this._showTitle=true;this._innerScope.fontScale=1;this._currentDrillDownLevels=[];this._innerScope.disabled=true;this._selectionsEnabled=true;this._innerScope.fontStyle={font:"12px 'QlikView Sans'"};f.call(this);this._extraSizeWhenAlternatives=10;this.drillUpRef=this._innerScope.$on("drill-up",function(t,e,n){i._currentDrillDownLevels[e]-n>0&&i.fire("drill-up",[t,e,i._currentDrillDownLevels[e]-n])})},calculateRelevantSize:function t(){this._super();f.call(this);d.call(this,this._hasAlternatives)},setShowStrategy:function t(e){this._showTitle=["all","title"].contains(e)},setDock:function t(e){this._super(e);this._innerScope.direction="right"===e?"top-to-bottom":"left"===e?"bottom-to-top":"";this._innerScope.dock=e},setType:function t(e){this._innerScope.type=e},setModel:function t(e){this._innerScope.model=e},setSelectionsEnabled:function t(e){this._selectionsEnabled=e;this._changed=true;this.invalidateProperties("dataTitle.setSelectionsEnabled")},setData:function t(e){this._super(e);if(!e)return;var n=this;var s=this._innerScope.model;if(!s||s.layout&&!!s.layout.snapshotData){n._changed=true;return i.resolve()}return a.modelHasAlternatives(this._innerScope.model,this._innerScope.type).then(function(t){n._hasAlternatives=t;n._changed=true;return n.invalidateProperties("dataTitle.setData")})},_updateProperties:function t(){this._super();if(this._changed&&this._data){var e=this._data;if(e.qHyperCube&&this._innerScope.type){e=a.getTitleDataFromHyperCube(e.qHyperCube,this._innerScope.type,this._selectionsEnabled);this._currentDrillDownLevels=e.map(function(t){return t.currentDrillDownLevels})}if(!this._innerScope)return;e.forEach(function(t){t.hasAlternatives=this._hasAlternatives},this);this._innerScope.titles=e;this._innerScope.$broadcast("datachanged");a.setWrapperStyle(this._innerScope.fontStyle,this._innerContainer,this._innerScope.direction,this._innerScope.titles)}this._changed=false},isVisible:function t(){return this._super.apply(this,arguments)&&this._showTitle},on:function t(){this._innerScope.disabled=false},off:function t(){this._innerScope.disabled=true},paint:function t(){this._innerScope.visible=true;this._innerScope.fontScale=this.chartScale;f.call(this);this._innerScope.$digest();a.setWrapperStyle(this._innerScope.fontStyle,this._innerContainer,this._innerScope.direction,this._innerScope.titles)},release:function t(){this._super();this.drillUpRef()},clear:function t(){this._super();this._innerScope.visible=false}});return c}.apply(e,n),void 0!==s&&(t.exports=s))},1051:function(t,e,i){"use strict";var n,s;!(n=[i(299)],s=function(t){var e;function i(t,e,i){var n,s,a,o=[];for(s=0;s<e.length;s++)for(n=0;n<t.length;n++){a={qType:i,qCol:e[s],qRow:t[n]};o.push(a)}return o}e=t.extend("StackedApi",{init:function t(){this._super.apply(this,arguments);this.backendStackThrottle.setMethodName("getHyperCubeStackData")},updateCache:function t(e){if(e&&e.qHyperCube&&"S"===e.qHyperCube.qMode){this.cacheCube.set(e.qHyperCube.qDataPages);this.cacheCube.setCubeSize(e.qHyperCube.qSize)}else this.cacheCube.clear();this.backendStackThrottle.clear()},getData:function t(e,i,n){var s=n||this.model.layout.qHyperCube;switch(s.qMode){case"P":return this.model.getHyperCubePivotData(this.path,e);case"S":return this._super(e,i);case"K":return i?this._super(e,i):this.backendStackThrottle.getData(e);default:return this._super(e,i)}},getReducedData:function t(e,i,n){n=void 0!==n?n:"D1";return this.model.getHyperCubeReducedData(this.path,e,i,n)},select:function t(e,n,s){switch(this.model.layout.qHyperCube.qMode){case"P":case"K":return this.model.selectPivotCells(this.path,i(e,n,s));default:return this.model.selectHyperCubeCells(this.path,e,n)}}});return e}.apply(e,n),void 0!==s&&(t.exports=s))},1126:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(1127),i(180),i(1171),i(410),i(1050),i(1138)],s=function(t,e,i,n,s,a,o){var r;r=e.extend({init:function e(r,l,h,c,u){var d=t.extend(true,{components:{grid:{show:true,dock:"center",showFlag:i.prototype.ShowFlags.XSMALL,clazz:o},refLines:{clazz:n},colorLegend:{show:true,order:4,reductionOrder:1,dock:"right",relevantSize:126,showFlag:i.prototype.ShowFlags.MEDIUM},xAxis:{show:true,order:1,dock:"bottom",relevantSize:120,showFlag:i.prototype.ShowFlags.XSMALL,clazz:s},yAxis:{show:true,order:1,dock:"left",relevantSize:90,reductionOrder:2,showFlag:i.prototype.ShowFlags.XSMALL,clazz:s},yAxisTitle:{show:true,order:1.1,dock:"left",relevantSize:30,reductionOrder:1,showFlag:i.prototype.ShowFlags.SMALL,clazz:a},xAxisTitle:{show:true,order:1.1,dock:"bottom",relevantSize:30,reductionOrder:1,showFlag:i.prototype.ShowFlags.SMALL,clazz:a}}},h||{});this._super(r,l,d,c,u)},getVerticalComponents:function t(){var e=this._super();if(this._data&&this.components){if(this.components.xAxis&&this.components.xAxis.isVertical()&&this._data.xAxis){e.push({comp:this.components.xAxis,dock:this._data.xAxis.dock});this.components.xAxisTitle&&e.push({comp:this.components.xAxisTitle,dock:this._data.xAxis.dock})}if(this.components.yAxis&&this.components.yAxis.isVertical()&&this._data.yAxis){e.push({comp:this.components.yAxis,dock:this._data.yAxis.dock});this.components.yAxisTitle&&e.push({comp:this.components.yAxisTitle,dock:this._data.yAxis.dock})}}return e},_updateData:function t(e,i){this._super.apply(this,[].slice.call(arguments));this.updateDataArea(e,i);this.updateAxis(e,i);this.updateGrid(e,i);this.updateRefLines(e,i);this.updateVerticalComponentsDock()},updateDataArea:function t(e,i){var n,s;for(n in i.axes){s=i.axes[n];s.component.setDataIndices(s.dataIndices||[s.dataIndex||0]);s.component.setCurrentDataIndices(s.currentDataIndices||s.dataIndices||[s.dataIndex||0])}},setAxisDataRange:function t(e,i,n,s,a,o){var r,l;if(null!==s&&null!==a||null===s&&null===a){r=n;l=i}else if(null!==s&&s<=n){r=s-o;l=i}else if(null!==a&&a>=i){r=n;l=a+o}else{r=n;l=i}e.setDataRange(r,l);this.components.miniChart&&this.components.miniChart.components.measureAxis.setDataRange(r,l)},updateAxis:function t(e,i){var n,s=i.axes,a=this.components.miniChart,o,r;for(n in i.axes){o=s[n];o.component.setTitle(o.title);o.component.setShowStrategy(o.data.show);o.component.setLabelMode(o.data.label);o.component.setLockedInfo&&o.component.setLockedInfo(e.qHyperCube.qDimensionInfo.map(function(t){return true===t.qLocked}));if(o.component.setPlotMin&&!o.component.isDimension){r=this.getAxisOptions(o);o.component.setPlotMin(r.min);o.component.setPlotMax(r.max);o.component.setTickMultiplier(o.data.spacing);o.component.setLogScale(o.data.logarithmic);if(a&&a.components[n]){r=this.getAxisOptions(o);a.components[n].setPlotMin(r.min);a.components[n].setPlotMax(r.max)}}o.component.isVertical()?o.component.setDock("far"===o.data.dock?"right":"left"):o.component.setDock("far"===o.data.dock?"top":"bottom")}for(n in i.axisTitles){o=i.axisTitles[n];o.component.setShowStrategy(o.data.show);o.component.isVertical()?o.component.setDock("far"===o.data.dock?"right":"left"):o.component.setDock("far"===o.data.dock?"top":"bottom")}},getAxisOptions:function t(e){if(!e||!e.data)return;return e.data.autoMinMax?{min:null,max:null}:{min:["min","minMax"].contains(e.data.minMax)?Number(e.data.min):null,max:["max","minMax"].contains(e.data.minMax)?Number(e.data.max):null}},updateGrid:function t(e,i){if(!this.components.grid)return;var n,s;if(e.gridLine&&"number"===typeof e.gridLine.spacing){s=e.gridLine.auto?2:e.gridLine.spacing;for(n in i.axes)i.axes[n].component.setSpacingMode&&i.axes[n].component.setSpacingMode(s)}},updateRefLines:function t(e,i){var n,s=i.refLineLabels,a=[],o=[];for(n in s){if(!s[n].component)continue;s[n].component.setData(s[n].data);s[n].component.setAxis(s[n].axis);s[n].component.setDock(s[n].axis.getOppositeDock());o.push(s[n].axis);a.push(s[n].data)}if(i.refLines&&i.refLines.component){i.refLines.component.setAxes(o);i.refLines.component.setData(a)}}});return r}.apply(e,n),void 0!==s&&(t.exports=s))},1129:function(t,e,i){"use strict";var n,s;!(n=[i(291),i(89)],s=function(t,e){var i={hasAlternatives:a,getTitlesApproxWidth:r};function n(t,e,i){var n=[],s="dimension"===e?t.qDimensionInfo:t.qMeasureInfo,a=false,o,r,l;if(!e)return;for(l=0;l<s.length;l++){o=s[l];a=o.qGroupFallbackTitles&&o.qGroupFallbackTitles.length>1;r=a?o.qGroupFallbackTitles.slice(0,o.qGroupPos+1):[o.qFallbackTitle];n.push({labels:r,label:r[r.length-1],locked:o.qLocked&&i,isDrill:a&&i,currentDrillDownLevels:o.qGroupPos,wrapperStyle:{},index:l})}return n}function s(t,n){if(!(t&&t.getProperties))return e.resolve();var s="dimension"===n?"qDimensions":"qMeasures",a=t.getProperties().then(function(e){if(e.qExtendsId)return t.app.getObject(e.qExtendsId).then(function(t){return t.getProperties()});return e});return a.then(function(t){return i.hasAlternatives(t.qHyperCubeDef&&t.qHyperCubeDef.qLayoutExclude,s)})}function a(t,e){return t&&t.qHyperCubeDef&&t.qHyperCubeDef[e].length>0}function o(t,e,n,s){if(!e.width())return;if("top-to-bottom"===n||"bottom-to-top"===n){t.width=e.height();t.height=e.width();if("top-to-bottom"===n){t.marginTop=-t.width+t.height;t.marginLeft=t.height}else{t.marginTop=t.width+t.height;t.marginLeft=0}}else{t.width=e.width();t.height=e.height();t.marginLeft=0;t.marginTop=0}var a=s?s.map(function(t){return t.label}):[],o=i.getTitlesApproxWidth(a,t.font);if(o>t.width){t.justifyContent="flex-start";t.minWidth=70}else{t.justifyContent="center";t.minWidth="auto"}}function r(e,i){var n=0;e.forEach(function(e){"string"===typeof e&&(n+=t.getTextWidth(e,i))});return n||null}return{getTitleDataFromHyperCube:n,modelHasAlternatives:s,setWrapperStyle:o,getTitlesApproxWidth:r,hasAlternatives:a}}.apply(e,n),void 0!==s&&(t.exports=s))},1130:function(t,e){t.exports='<div ng-show="visible"\n     class="qva-chart-data-title">\n     <div class="qva-chart-data-title-rotate" ng-style="fontStyle" ng-class="direction" qva-direction x-dir-setting="{{options.direction}}">\n          <div class="qva-chart-data-title-align ellips-text">\n               <div class="qva-chart-data-title-wrapper ellips-text" ng-repeat-start="titleData in titles" ng-style="titleData.wrapperStyle" >\n                    <qva-breadcrumb-bar ng-if="titleData.isDrill" data="titleData" model="model" disabled="disabled || object.selectionsApi.active" type="type" dock="dock" column-index="$index" options="options"></qva-breadcrumb-bar>\n                    <qva-default-data-title ng-if="!titleData.isDrill" data="titleData" model="model" disabled="disabled || object.selectionsApi.active" type="type" dock="dock" options="options"></qva-default-data-title>\n               </div>\n               <span ng-repeat-end ng-if="!$last">, &nbsp;</span>\n          </div>\n\n     </div>\n</div>\n'},1131:function(t,e){t.exports='<div class="default-data-title-wrapper ellips-text">\n     <qva-simple-data-title ng-if="!data.hasAlternatives" label="data.label" locked="data.locked" options="options"></qva-simple-data-title>\n     <qva-dropdown-data-title ng-if="data.hasAlternatives" data="data" model="model" disabled="disabled" type="type" dock="dock" options="options"></qva-dropdown-data-title>\n</div>'},1132:function(t,e){t.exports='<div class="chart-data-title ellips-text" qva-direction x-dir-text="{{label}}" x-dir-setting="{{options.direction}}" >\n     <i ng-if="locked" class="lui-icon lui-icon--lock" title="{{lockedTooltip}}"></i>\n     <span class="chart-data-title-label" title="{{label}}" qva-direction x-dir-text="{{label}}" x-dir-setting="{{options.direction}}">{{label}}</span>\n</div>'},1133:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(90),i(1134),i(1135),i(400),i(376),i(1035),i(101),i(89),i(97),i(315)],s=function(t,e,i,n,s,a,o,r,l,h){var c,u;c={template:n,controller:["$scope",function(t){t.position||(t.position="right");var e=new o(t.args.effectiveProperties,t.args.model.app),i=new a(t.args.model);t.alternativeItemClicked=function(n,s,a){n.stopPropagation();e.updateAlternativeItem(s,a,t.definition.items[a.ref].ref,t.definition.items[a.ref].alternativeRef,[{path:"qDef",property:"series"}]);i.saveSoftProperties(t.args.prevEffectiveProperties,t.args.effectiveProperties);t.closePopover()}}],scope:{alignTo:"=",position:"=",args:"=",definition:"=",item:"=",type:"=",closePopover:"=",qvaOutsideIgnoreFor:"=",options:"="}};function d(t){var e={left:"right",right:"left",top:"bottom",bottom:"top"};return e[t]}t.directive("qvaDropdownDataTitle",[function(){return{replace:true,template:i,restrict:"E",scope:{model:"=",type:"=",data:"=",disabled:"=",dock:"=",options:"="},link:function i(n,a){var p=t.getService("$cacheFactory"),f=p.get("em-object");var m={},g=n.model,v=new o(null,g.app);n.closePopover=function(){if(!n.isMenuOpen)return;n.isMenuOpen=false;if(u){u.close();u=null}};n.openAlternativePopover=function(){var e=d(n.dock);if(n.disabled)return;if(n.isMenuOpen){n.closePopover();return}n.isMenuOpen=true;u=t.getService("luiPopover").show({template:c.template,controller:c.controller,input:n.popoverSettings,alignTo:a[0],dock:e,variant:"inverse",closeOnOutside:true,closeOnEscape:true,outsideIgnore:"dataTitle-"+n.$id});u.closed.then(function(){n.isMenuOpen=false})};n.refreshItems=function(){l.all({effectiveProperties:g.getEffectiveProperties(),properties:g.getProperties().then(function(t){if(t.qExtendsId)return g.app.getObject(t.qExtendsId).then(function(t){return t.getProperties()});return t}),layout:g.getLayout()}).then(function(t){if(n.destroyed)return;m.args={layout:t.layout,model:g,properties:t.properties,effectiveProperties:e.extend(true,{},t.effectiveProperties),prevEffectiveProperties:e.extend(true,{},t.effectiveProperties),cache:f};m.data=t.effectiveProperties;m.definition=s.data;m.item=n.getAlternativeItem(m);n.popoverSettings={args:m.args,item:m.item,type:m.type,definition:m.definition,closePopover:n.closePopover,qvaOutsideIgnoreFor:"dataTitle-"+n.$id,options:n.options};n.isMenuOpen&&n.closePopover()})};n.refreshItems();n.$on("datachanged",function(){n.refreshItems()});n.getAlternativeItem=function(t){var e,i,s,a,o=n.data.index,l;if("dimension"===n.type){l=t.data.qHyperCubeDef.qDimensions[o];a=v.getDimensionOptions;s="dimensions"}else{l=t.data.qHyperCubeDef.qMeasures[o];a=v.getMeasureOptions;s="measures"}if(!l)return;e=r.getValue(t.data,t.definition.items[s].alternativeRef,[]);i=r.getValue(t.data,t.definition.items[s].ref,[]);e=a.call(v,i,e,l,t.args.layout,true);return{alternatives:e,index:Number.isNaN(+n.data.index)?0:n.data.index,data:l}};h.on("end",n.closePopover);n.$on("$destroy",function(){h.off("end",n.closePopover);n.destroyed=true;n.closePopover()})}}}])}.apply(e,n),void 0!==s&&(t.exports=s))},1134:function(t,e){t.exports='<div class="qva-dropdown-data-title">\n     <div class="dropdown-data-title-wrapper" ng-class="{\'interactive\' : !disabled, \'active\': isMenuOpen}" qva-activate="openAlternativePopover()" qva-outside-ignore-for="{{\'dataTitle-\' + $id}}">\n          <qva-simple-data-title locked="data.locked" label="data.label" options="options"></qva-simple-data-title>\n          <span class="dropdown-arrow"></span>\n     </div>\n</div>'},1135:function(t,e){t.exports='<lui-popover class="qva-alternative-data-picker"\n\t\t\t\t\t  align-to="alignTo"\n\t\t\t\t\t  position="position"\n\t\t\t\t\t  collision="\'flip fit\'"\n\t\t\t\t\t  height="\'auto\'"\n\t\t\t\t\t  on-close-view="closePopover();"\n\t\t\t\t\t  qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<div class="em-section-content em-alternative-data qva-alternative-data-picker-list" qva-direction x-dir-setting="{{options.direction}}">\n\t\t<div hypercube-data-item ng-repeat="alternative in item.alternatives" item="item"></div>\n\t</div>\n</lui-popover>\n'},1136:function(t,e,i){"use strict";var n,s;!(n=[i(48),i(109),i(1137),i(100),i(91),i(96)],s=function(t,e,i,n,s){var a={};function o(t){var i=n.initializeService("object."+(t.options.parentType||""));var s=i.getStyle("","backgroundColor");var o=i.getStyle("axis.title","color");var r=i.getStyle("axis.title.disabled","color");a.crumbColor={color:o};a.crumbButtonColor={color:r};a.crumbButtonHoverColor={color:o};a.crumbButtonLockedColor={color:o};a.crumbButtonDisabledColor={color:r};var l=e.toRGBA(s,0);var h=e.toRGBA(s,1);t.faderStyle={background:"linear-gradient(to right, "+h+", "+l+")"}}t.directive("qvaBreadcrumbBar",function(){return{template:i,restrict:"E",replace:true,scope:{data:"=",type:"=?",model:"=?",disabled:"=?",dock:"=?",columnIndex:"=",options:"="},link:function t(e,i){e.hoverIndex=-1;e.height=i.width();e.singleLabelMode=true;e.onClick=function(t,i,n){if(!e.disabled&&!n){e.$emit("drill-up",e.columnIndex,i);t.stopImmediatePropagation()}};e.drillDownTooltip=s.get("Tooltip.dimensions.drilldown");e.getCrumbStyle=function(t,e,i){return i?a.crumbButtonDisabledColor:e?{}:t?a.crumbButtonHoverColor:a.crumbButtonColor};o(e)}}})}.apply(e,n),void 0!==s&&(t.exports=s))},1137:function(t,e){t.exports='<div class="qv-breadcrumb">\n\t<div class="qv-breadcrumb-container">\n\t\t<span class="lui-icon lui-icon--drill-down" title="{{drillDownTooltip}}"></span>\n\t\t\t<span class="crumb-item" ng-repeat="label in data.labels track by $index">\n\n\t\t\t\t<div ng-style="getCrumbStyle(hoverIndex === $index, $last, disabled)"\n\t\t\t\t\t ng-mouseover="hoverIndex = $index"\n\t\t\t\t\t ng-mouseout="hoverIndex = -1"\n\t\t\t\t\t ng-class="{\'crumb-button\' : !$last, \'disabled\' : disabled}"\n\t\t\t\t\t qva-activate="onClick($event, $index, $last)">\n\n\t\t\t\t\t<div ng-if="!$last" class="chart-data-title" >\n\t\t\t\t\t\t<span qva-direction x-dir-text="{{label}}" class="chart-data-title-label" title="{{label}}">{{label}}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<qva-default-data-title ng-if="$last" data="data" model="model" disabled="disabled" type="type" direction="direction" dock="dock" options="options"></qva-default-data-title>\n\n\t\t\t\t\t<span class="lui-icon lui-icon--triangle-left" ng-if="!$last"></span>\n\t\t\t\t\t<span class="lui-icon lui-icon--triangle-right" ng-if="!$last"></span>\n\t\t\t\t</div>\n\t\t\t</span>\n\t</div>\n</div>'},1138:function(t,e,i){"use strict";var n,s;!(n=[i(180),i(203),i(100)],s=function(t,e,i){var n,s={NONE:0,SPARSE:1,NORMAL:1,DENSE:3};function a(t,e,i,n,s,a,o){var r,l,h,c;if(o){r=0;l=n;h=t;c=t}else{r=t;l=t;h=0;c=s}return{type:"line",opacity:i,strokeWidth:a,shape:{x1:r,x2:l,y1:h,y2:c},stroke:e}}function o(t,e){var i=t.ticks,n=t.minorTicks,o=i?i.length:0,r=n?n.length:0,l=t.getSpacingMode()===s.DENSE||t.isDimension,h=t.getSpacingMode()===s.SPARSE?2:1,c=e.rect.height,u=e.rect.width,d=e.style,p,f,m,g=[],v;if(t.getSpacingMode()===s.NONE||!i)return[];for(v=0;v<o;v+=1){f=i[v].position;p=i[v].value;m=i[v].opacity;v%h!==0&&0!==p||(0===p?g.push(a(f,d.zero.color,m,u,c,d.zero.width,t.isVertical())):g.push(a(f,d.major.color,m,u,c,d.major.width,t.isVertical())))}if(l&&n)for(v=0;v<r;v+=1){f=n[v].position;g.push(a(f,d.minor.color,1,u,c,d.minor.width,t.isVertical()))}return g}function r(t){return{ticks:{major:{color:t.getStyle("line.major","color")},minor:{color:t.getStyle("line.minor","color")},zero:{color:t.getStyle("line.highContrast","color")}}}}function l(){this.invalidateDisplay("Grid.setAxes")}n=t.extend("Grid",{init:function t(){this._super.apply(this,Array.prototype.slice.call(arguments));this._styleService=i.initializeService("object.grid");this._renderer=new e(this.container);this._renderer.edgeBleed={top:1,left:1,bottom:0,right:0};this._$renderAreaWrap.addClass("qv-chart-component-grid");this.renderers={gridlines:this._renderer}},afterRenderLines:function t(){},setAxes:function t(e,i){if(this._primaryHorizontalAxis!==e){this._primaryHorizontalAxis&&this._primaryHorizontalAxis.stopListen("changed",l,this);this._primaryHorizontalAxis=e;this._primaryHorizontalAxis&&this._primaryHorizontalAxis.listen("changed",l,this)}if(this._primaryVerticalAxis!==i){this._primaryVerticalAxis&&this._primaryVerticalAxis.stopListen("changed",l,this);this._primaryVerticalAxis=i;this._primaryVerticalAxis&&this._primaryVerticalAxis.listen("changed",l,this)}},hasValidData:function t(){return this._super()&&(this._primaryVerticalAxis||this._primaryHorizontalAxis)},paint:function t(e,i){this._super(e,i);var n=[];this._style=r(this._styleService);if(this._primaryVerticalAxis){this._primaryVerticalAxis.updateNow();n=o(this._primaryVerticalAxis,{rect:this.rect,style:this._style.ticks})}if(this._primaryHorizontalAxis){this._primaryHorizontalAxis.updateNow();n=n.concat(o(this._primaryHorizontalAxis,{rect:this.rect,style:this._style.ticks}))}this.afterRenderLines(n);this._renderer.shapes=n;this._renderer.render();return this},release:function t(){this._super();this._styleService=null;this._primaryHorizontalAxis&&this._primaryHorizontalAxis.stopListen("changed",null,this);this._primaryVerticalAxis&&this._primaryVerticalAxis.stopListen("changed",null,this)}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},1139:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(164),i(146),i(104),i(200),i(1140),i(256),i(232),i(96)],s=function(t,e,i,n,s,a,o,r,l){var h=22,c=200,u=1e-6;function d(t){t=Math.min(Math.max(t,this._minZoomLevel),this._maxZoomLevel);this._viewportProjection.setZoomLevel(t)}function p(t,e,i,n){var a,o,r,l,h,c=new s,u=i/n;r=e.x-t.x;l=e.y-t.y;a=this._localMatrix.clone().invert().transformPoint(t);c.translate(a.x,a.y);c.scale(u,u);c.translate(-a.x,-a.y);this._localMatrix=this._localMatrix.multiply(c);h=this._localMatrix.elements;this._localMatrix.translate(r/h[0][0],l/h[1][1]);m.call(this);c.identity();o=this._globalMatrix.clone().invert().transformPoint(t);c.translate(o.x,o.y);c.scale(u,u);c.translate(-o.x,-o.y);this._globalMatrix=this._globalMatrix.multiply(c);h=this._globalMatrix.elements;this._globalMatrix.translate(r/h[0][0],l/h[1][1])}function f(t){if(!this._setTransformOrigin){var e="top left";t.style["-webkit-transform-origin"]=e;t.style["-moz-transform-origin"]=e;t.style["-o-transform-origin"]=e;t.style["-ms-transform-origin"]=e;t.style["transform-origin"]=e;this._setTransformOrigin=true}}function m(){var t=this._localMatrix.elements,e="matrix("+t[0][0]+",0,0,"+t[1][1]+","+t[0][2]+","+t[1][2]+")";this.helpFunctions.setTransform(this._$element[0],e)}function g(t,e){this.helpFunctions.onInteractionStart();v.call(this,t,e)}function v(t,e){if(this._disableZoomOnMouseWheel)return;this._disableZoomOnMouseWheel=true;var i=this,n=new s,a;setTimeout(function(){i._disableZoomOnMouseWheel=false},i._mouseWheelTimeoutPeriod);if(this._zoomPanByWebkitTransform){var o;this._zooming=true;o=this._localMatrix.clone().invert().transformPoint(t);n.translate(o.x,o.y);n.scale(e,e);n.translate(-o.x,-o.y);this._localMatrix=this._localMatrix.multiply(n);m.call(this)}else M.call(this,t,e);if(!this._zoomCancelled){n.identity();a=this._globalMatrix.clone().invert().transformPoint(t);n.translate(a.x,a.y);n.scale(e,e);n.translate(-a.x,-a.y);this._globalMatrix=this._globalMatrix.multiply(n);this._updateCallback()}this._zoomCancelled=false}function x(){this._zooming=false;this.helpFunctions.onInteractionEnd()}function _(t,e){this.helpFunctions.onInteractionStart();y.call(this,t,e)}function y(t,e){var i;if(this._zoomPanByWebkitTransform){this._panning=true;i=this._localMatrix.elements;this._localMatrix.translate(t/i[0][0],e/i[1][1]);m.call(this)}else D.call(this,t,e);i=this._globalMatrix.elements;this._globalMatrix.translate(t/i[0][0],e/i[1][1]);this._updateCallback()}function b(){this._panning=false;this.helpFunctions.onInteractionEnd()}function D(t,e){this._viewportProjection.enabledChangeEvent=false;this.moveViewport(t,e);this._viewportProjection.enabledChangeEvent=true}function M(t,e){this._viewportProjection.enabledChangeEvent=false;this.zoomOnPixel(t,e);this._viewportProjection.enabledChangeEvent=true}var q=t.extend("PanZoomController",{init:function t(c,u,d,m){var D=this;this._minZoomLevel=-3;this._maxZoomLevel=h;this._interactionStarted=false;this._zoomPanByWebkitTransform=false;this._fractionalZoomMode=true;this._defaultScale=Math.pow(2,.5);this._invDefaultScale=1/this._defaultScale;this._mouseWheelTimeoutPeriod=50;this._viewportProjection=m||new a;this._viewportProjection.setMinZoomLevel(this._minZoomLevel);this._viewportProjection.setMaxZoomLevel(this._maxZoomLevel);this._localMatrix=new s;this._$element=c;this._offset=c.offset();this._startCallback=function(){u.start&&u.start(this._viewportProjection._transformMatrix)};this._updateCallback=function(){u.update&&u.update(this._viewportProjection._transformMatrix)};this._endCallback=function(){u.end&&u.end(this._viewportProjection._transformMatrix)};this._resetCallback=function(){u.reset&&u.reset(this._viewportProjection._transformMatrix)};this._enabled=true;this._defaultBounds=this._viewportProjection.getBoundingBox();this._dataBounds=d?new n(d.x,d.y,d.width,d.height):this._defaultBounds;this.helpFunctions={setTransform:function t(e,i){e.style["-webkit-transform"]=i;e.style["-moz-transform"]=i;e.style["-o-transform"]=i;e.style["-ms-transform"]=i;e.style.transform=i},onInteractionStart:function t(){if(D._interactionStarted)return;D._startCallback();D.reset();D._interactionStarted=true},onInteractionEnd:function t(){if(D._zooming||D._panning||D._pinching||!D._interactionStarted)return;D.helpFunctions.setTransform(D._$element[0],"matrix(1,0,0,1,0,0)");D._viewportProjection.enabledChangeEvent=false;D._viewportProjection.setTransformMatrix(D._globalMatrix);D._endCallback();D._viewportProjection.enabledChangeEvent=true;D._interactionStarted=false}};var M,q,A,S,C=false,w=this._$element[0],P=false;this.container=w;f.call(this,this._$element[0]);var L=function t(n){var s=e.getMouseWheelData(n.originalEvent),a,o,r,l;a=s.x-D._offset.left;o=s.y-D._offset.top;r=new i(a,o);l=s.delta>0?D._defaultScale:D._invDefaultScale;P?v.call(D,r,l):g.call(D,r,l);P=true;null!==S&&clearTimeout(S);S=setTimeout(function(){S=null;x.call(D);P=false},250)},k=function t(e,n){if(2===n.pagePoints.length){this.pinch={start:{},current:{}};this.pinch.start.point1=n.pagePoints[0];this.pinch.start.point2=n.pagePoints[1];n.centerPoint=new i((this.pinch.start.point1.x+this.pinch.start.point2.x)/2,(this.pinch.start.point1.y+this.pinch.start.point2.y)/2);n.scale=1;q={};q.x=(this.pinch.start.point1.x+this.pinch.start.point2.x)/2-D._offset.left;q.y=(this.pinch.start.point1.y+this.pinch.start.point2.y)/2-D._offset.top;A={x:n.centerPoint.x-D._offset.left,y:n.centerPoint.y-D._offset.top};D.helpFunctions.onInteractionStart();M=n.scale;q=A}else D.onPan("start",e,n);l.preventGestures(this.gestureHandler)},T=function t(e,n){if(2===n.pagePoints.length)if(this.pinch.start.point2){n.centerPoint||(n.centerPoint=new i((this.pinch.start.point1.x+this.pinch.start.point2.x)/2,(this.pinch.start.point1.y+this.pinch.start.point2.y)/2));this.pinch.current.point1=n.pagePoints[0];this.pinch.current.point2=n.pagePoints[1];this.startDistance=this.pinch.start.point2.distanceTo(this.pinch.start.point1);this.lastDistance=this.currentDistance;this.currentDistance=this.pinch.current.point2.distanceTo(this.pinch.current.point1);this.pinchLength=Math.abs(this.startDistance-this.currentDistance);this.scale=this.currentDistance/this.startDistance;n.scale=this.scale;n.delta=this.currentDistance-this.lastDistance;n.centerPoint.x=(this.pinch.current.point1.x+this.pinch.current.point2.x)/2;n.centerPoint.y=(this.pinch.current.point1.y+this.pinch.current.point2.y)/2;A={x:n.centerPoint.x-D._offset.left,y:n.centerPoint.y-D._offset.top};D._pinching=true;if(D._zoomPanByWebkitTransform){p.call(D,q,A,n.scale,M);M=n.scale}else{if(Math.abs(n.scale-M)>.1){v.call(D,A,n.scale-M+1);M=n.scale}y.call(D,A.x-q.x,A.y-q.y)}q=A}else this.pinch.start.point2=n.pagePoints[1];else D.onPan("update",e,n);l.preventGestures(this.gestureHandler)},I=function t(e,i){D._pinching=false;this._zoomPanByWebkitTransform||(this._zooming=false);D.onPan("end",e,i)},R=e.throttle(function(t){L(t)},20);this._eventHandlers=o.extend({preventDefault:true,mousewheel:function t(e){R(e)},swipe:{start:function t(e,i){k.call(this,e,i)},update:function t(e,i){T.call(this,e,i)},end:function t(e,i){I.call(this,e,i)}},swipetwo:{start:function t(e,i){k.call(this,e,i)},update:function t(e,i){T.call(this,e,i)},end:function t(e,i){I.call(this,e,i)}},tapthree:{end:function t(){D.zoomOnDataBounds();r.preventGestures(this)}},wheelswipe:{start:function t(e){D._panX=e.pageX;D._panY=e.pageY;C=false},update:function t(e){var i,n,s,a,o;i=e.pageX;n=e.pageY;s=i-D._panX;a=n-D._panY;o=C;!C&&(Math.abs(s)>3||Math.abs(a)>3)&&(C=true);if(C){D._panX=i;D._panY=n;o?y.call(D,s,a):_.call(D,s,a)}},end:function t(){C?b.call(D):D.zoomOnDataBounds();C=false}},active:function t(){return D._enabled}})},reset:function t(){this._localMatrix.identity();this._globalMatrix=this._viewportProjection.getTransformMatrix().clone();this._zoomPanByWebkitTransform&&this.helpFunctions.setTransform(this._$element[0],"matrix(1,0,0,1,0,0)")},setOffset:function t(e){this._offset=e},navigate:function t(e,i){var n=this,s;switch(e){case"resetZoom":n.zoomOnDataBounds();break;case"zoomIn":s=n.getZoomLevel();if(void 0===s||null===s||s===n._maxZoomLevel)return;g.call(n,{x:this._$element.width()/2,y:this._$element.height()/2},n._defaultScale);x.call(n);break;case"zoomOut":s=n.getZoomLevel();if(void 0===s||null===s||s===n._minZoomLevel)return;g.call(n,{x:this._$element.width()/2,y:this._$element.height()/2},n._invDefaultScale);x.call(n);break;case"navUp":_.call(n,0,c);b.call(n);break;case"navDown":_.call(n,0,-c);b.call(n);break;case"navLeft":_.call(n,c,0);b.call(n);break;case"navRight":_.call(n,-c,0);b.call(n);break;case"jumpTo":_.call(n,i.x,i.y);b.call(n);break;case"startAt":_.call(n,i.x,i.y);break;case"moveTo":y.call(n,i.x,i.y);break;case"endAt":b.call(n);break;default:break}},onPan:function t(e,i,n){var s=this;switch(e){case"start":_.call(s,n.swipe.deltaX,n.swipe.deltaY);break;case"update":y.call(s,n.swipe.curDeltaX,n.swipe.curDeltaY);break;case"end":b.call(s);break}},on:function t(){if(this._on)return;this._on=true;if(arguments.length)throw new Error("PanZoomController.on(): arguments has been deprecated");r.addInteraction(this._eventHandlers,this._$element[0],2,["tapthree","swipe","swipetwo","wheelswipe","mousewheel"])},off:function t(){this._on&&r.removeInteraction(this._eventHandlers);this._on=false},setMaxZoomLevel:function t(e){this._maxZoomLevel=e;this._viewportProjection&&this._viewportProjection.setMaxZoomLevel(e)},setMinZoomLevel:function t(e){this._minZoomLevel=e;this._viewportProjection&&this._viewportProjection.setMinZoomLevel(e)},setCenter:function t(e){this._viewportProjection&&this._viewportProjection.setDataCenter(e)},getCenter:function t(){if(this._viewportProjection)return this._viewportProjection.getDataCenter();return null},setZoomLevel:function t(e){if(Number.isNaN(+e)||!Number.isFinite(+e))return;Math.abs(e-Math.round(e))<u&&(e=Math.round(e));d.call(this,e)},getZoomLevel:function t(){if(this._viewportProjection)return this._viewportProjection.getZoomLevel();return 0},moveViewport:function t(e,n){var s=this._viewportProjection.getSize();this.setCenter(this._viewportProjection.invProject(new i(s.x/2-e,s.y/2-n)))},zoom:function t(e){if(e>0){var i=Math.log(e)/Math.LN2;Math.abs(i-Math.round(i))<u&&(i=Math.round(i));this.setZoomLevel(this.getZoomLevel()+i)}},zoomOnPixel:function t(e,i){var n=this.getZoomLevel(),s,a;if(n<=this._minZoomLevel&&i<=1||n>=this._maxZoomLevel&&i>=1){this._zoomCancelled=true;return}s=Math.pow(2,this._minZoomLevel-n);a=Math.pow(2,this._maxZoomLevel-n);i=Math.min(Math.max(i,s),a);this._viewportProjection.zoomOnPixel(e,i)},zoomOnDataRectangle:function t(e,i){this._viewportProjection.zoomOnDataRectangle(e,i)},zoomOnViewportRectangle:function t(e,i){var n=this._viewportProjection.fromViewportRectToDataRect(e);this.zoomOnDataRectangle(n,i)},setBounds:function t(e,i,s,a){if(Number.isNaN(+e)||Number.isNaN(+i)||Number.isNaN(+s)||Number.isNaN(+a))return;this._dataBounds=new n(e,i,s,a)},setBoundsRect:function t(e){if(!e||this._dataBounds&&this._dataBounds.equal(e))return;this._dataBounds=e.clone()},zoomOnDataBounds:function t(){var e=this._dataBounds&&!this._dataBounds.hasNaN()?this._dataBounds:this._defaultBounds;if(e){this.zoomOnDataRectangle(e,false);this._resetCallback();this._viewportProjection.fire("resetZoomFinished");return true}},setFractionalZoomMode:function t(e){this._fractionalZoomMode=e;this._defaultScale=this._fractionalZoomMode?Math.pow(2,.5):2;this._invDefaultScale=1/this._defaultScale;this._mouseWheelTimeoutPeriod=this._fractionalZoomMode?50:100;this._viewportProjection&&this._viewportProjection.setFractionalZoomMode(e)},getFractionalZoomMode:function t(){return this._fractionalZoomMode},setZoomPanByWebkitTransform:function t(e){this._zoomPanByWebkitTransform=e},getZoomPanByWebkitTransform:function t(){return this._zoomPanByWebkitTransform},release:function t(){this._viewportProjection=null;this._$element=null}});Object.defineProperties(q.prototype,{enabled:{set:function t(e){this._enabled=e},get:function t(){return this._enabled}}});return q}.apply(e,n),void 0!==s&&(t.exports=s))},1140:function(t,e,i){"use strict";var n,s;!(n=[i(1047),i(146),i(104),i(1141),i(200)],s=function(t,e,i,n,s){var a,o=22,r=1e-9,l=.001,h=new e(0,0),c=Math.log(2);function u(t){if(this._originalProjectedDataCenterIsZeroPoint)return t;return new e(t.x-this._originalProjectedDataCenter.x,t.y-this._originalProjectedDataCenter.y)}function d(t){if(this._originalProjectedDataCenterIsZeroPoint)return t;return new e(t.x+this._originalProjectedDataCenter.x,t.y+this._originalProjectedDataCenter.y)}function p(t,i){var n=Math.pow(2,i+8)/this._projectedDataSize;return new e(t.x*n,t.y*n)}function f(t,i){var n=Math.pow(2,i+8)/this._projectedDataSize;return new e(t.x/n,t.y/n)}function m(){if(!this._projection||!this._projectedDataBoundingBox)return;var t,e,i,n,s;(!this._currentProjectedDataDataCenter||this._projectionChanged||this._currentDataCenterChanged)&&(this._currentProjectedDataDataCenter=void 0===this._currentDataCenter?this._originalProjectedDataCenter:this._projection.project(this._currentDataCenter));this._transformMatrixForZoomLevel.identity();this._transformMatrixForZoomLevel.translate(this._viewportSize.x/2,this._viewportSize.y/2);this._mirrorYAxis&&this._transformMatrixForZoomLevel.scale(1,-1);t=Math.pow(2,this._zoomLevel+8)/this._projectedDataSize;this._transformMatrixForZoomLevel.scale(t,t);this._transformMatrixForZoomLevel.translate(-this._originalProjectedDataCenter.x,-this._originalProjectedDataCenter.y);e=this._transformMatrixForZoomLevel.transformPoint(this._originalProjectedDataCenter);i=this._transformMatrixForZoomLevel.transformPoint(this._currentProjectedDataDataCenter);n=e.x-i.x;s=e.y-i.y;this._transformMatrix.identity();this._transformMatrix.translate(n,s);this._transformMatrix.multiply(this._transformMatrixForZoomLevel.elements);this._invTransformMatrix=this._transformMatrix.clone();this._invTransformMatrix.invert();this._projectionChanged=false;this._currentDataCenterChanged=false;this.enabledChangeEvent&&this.fire("changed")}function g(){var t,e,n,s,a,o;t={x:this._boundingBox.x,y:this._boundingBox.y};e={x:this._boundingBox.x+this._boundingBox.width,y:this._boundingBox.y+this._boundingBox.height};n=this._projection.project(t);s=this._projection.project(e);a=Math.min(n.x,s.x);o=Math.min(n.y,s.y);this._projectedDataBoundingBox=new i(a,o,Math.abs(s.x-n.x),Math.abs(s.y-n.y));this._projectedDataSize=Math.max(this._projectedDataBoundingBox.width,this._projectedDataBoundingBox.height);this._originalProjectedDataCenter=this._projectedDataBoundingBox.getCenterPoint();this._originalProjectedDataCenterIsZeroPoint=0===this._originalProjectedDataCenter.x&&0===this._originalProjectedDataCenter.y}a=t.extend("ViewportProjection",{init:function t(){this._super();this._fractionalZoomMode=true;this._viewportSize=new e(256,256);this._zoomLevel=0;this._maxZoomLevel=o;this._minZoomLevel=0;this._translation=new e(0,0);this._unitProjection=new n;this._projection=this._unitProjection;this._originalProjectedDataCenter=new e(0,0);this._boundingBox=new i(0,0,256,256);g.call(this);this._originalProjectedDataCenterIsZeroPoint=true;this._transformMatrixForZoomLevel=new s;this._transformMatrix=new s;this._invTransformMatrix=new s;this.enabledChangeEvent=true;this._mirrorYAxis=false;this.helpFunctions={translateProjectedDataCenterToZeroPoint:u,invTranslateProjectedDataCenterToZeroPoint:d,scaleProjectedDataToZoomLevel:p,invScaleProjectedDataToZoomLevel:f,updateProjectedDataBoundingBox:g}},setProjection:function t(e){if(this._projection&&e&&this._projection.getProjectionType()===e.getProjectionType())return false;this._projection=e;this._projection||(this._projection=this._unitProjection);g.call(this);this._projectionChanged=true;m.call(this);return true},getProjection:function t(){return this._projection},getUnitProjection:function t(){return this._unitProjection},setBoundingBox:function t(e){if(this._boundingBox&&this._boundingBox.equal&&this._boundingBox.equal(e))return;this._boundingBox=new i(e.x,e.y,e.width,e.height);g.call(this);m.call(this)},getBoundingBox:function t(){return this._boundingBox},setSize:function t(i){if(this._viewportSize&&this._viewportSize.equal&&this._viewportSize.equal(i))return false;this._viewportSize=new e(i.x,i.y);m.call(this);return true},getSize:function t(){return this._viewportSize},setZoomLevel:function t(e){if(Number.isNaN(+e))return false;this._fractionalZoomMode||(e=Math.round(e));e=Math.max(Math.min(e,this._maxZoomLevel),this._minZoomLevel);Math.abs(e-this._minZoomLevel)<l?e=this._minZoomLevel:Math.abs(e-this._maxZoomLevel)<l&&(e=this._maxZoomLevel);if(Math.abs(this._zoomLevel-e)<l)return false;this._zoomLevel=e;m.call(this);return true},getZoomLevel:function t(){return this._zoomLevel},setDataCenter:function t(i){if(!i)return false;if(this._currentDataCenter&&this._currentDataCenter.closeTo&&this._currentDataCenter.closeTo(i,r))return false;this._currentDataCenterChanged=true;this._currentDataCenter=new e(i.x,i.y);m.call(this);return true},getDataCenter:function t(){return this._currentDataCenter},setFractionalZoomMode:function t(e){this._fractionalZoomMode=e},getFractionalZoomMode:function t(){return this._fractionalZoomMode},project:function t(e){var i,n;i=this._projection.project(e);n=this.transform(i);return n},fromDataRectToViewportRect:function t(n){var s,a,o;s=this.project(new e(n.x,n.y));a=this.project(new e(n.x+n.width,n.y+n.height));o=new i(s.x,s.y,a.x-s.x,a.y-s.y);return o},invProject:function t(e){var i,n;i=this.invTransform(e);n=this._projection.invProject(i);return n},fromViewportRectToDataRect:function t(n){var s,a,o;s=this.invProject(new e(n.x,n.y));a=this.invProject(new e(n.x+n.width,n.y+n.height));o=new i(s.x,s.y,a.x-s.x,a.y-s.y);return o},getDataRectOfViewport:function t(){var e,n,s;e=this.invProject(h);n=this.invProject(this._viewportSize);s=new i(e.x,e.y,n.x-e.x,n.y-e.y);return s},getDataRectOfViewportIfZoomOnADataRect:function t(e){var i=this.enabledChangeEvent;this.enabledChangeEvent=false;var n=this.getZoomLevel();var s=this.getDataCenter();this.zoomOnDataRectangle(e);var a=this.getDataRectOfViewport();this.setZoomLevel(n);this.setDataCenter(s);this.enabledChangeEvent=i;return a},transform:function t(i){var n=this._transformMatrix.transformPoint(i);return new e(n.x,n.y)},invTransform:function t(i){var n=this._invTransformMatrix.transformPoint(i);return new e(n.x,n.y)},fromDataPointToPixel:function t(i,n){var s=Math.pow(2,n+7),a,o,r,l;a=this._projection.project(i);o=u.call(this,a);r=p.apply(this,[o,n]);l=new e(r.x+s,s-r.y);return l},fromPixelToDataPoint:function t(i,n){var s=Math.pow(2,n+7),a,o,r,l;l=new e(i.x-s,s-i.y);r=f.apply(this,[l,n]);o=d.call(this,r);a=this._projection.invProject(o);return a},calculateZoomLevelForDataRectangle:function t(i){if(!i)return;var n,s,a,o,r,l,h,c,u,d;n=new e(i.x,i.y);s=new e(i.x+i.width,i.y+i.height);a=this.fromDataPointToPixel(n,0);o=this.fromDataPointToPixel(s,0);r=Math.abs(a.x-o.x);l=Math.abs(a.y-o.y);h=0===r?Number.MAX_VALUE:this._viewportSize.x/r;c=0===l?Number.MAX_VALUE:this._viewportSize.y/l;u=Math.min(h,c);if(u===Number.MAX_VALUE)return 20;d=Math.log(u)/Math.LN2;return d},calculateCenterPointForDataRectangle:function t(i){if(!i)return;var n,s,a,o,r,l;n=new e(i.x,i.y);s=new e(i.x+i.width,i.y+i.height);a=this.fromDataPointToPixel(n,0);o=this.fromDataPointToPixel(s,0);r=new e((a.x+o.x)/2,(a.y+o.y)/2);l=this.fromPixelToDataPoint(r,0);return l},moveViewport:function t(i,n){this.setDataCenter(this.invProject(new e(this._viewportSize.x/2-i,this._viewportSize.y/2-n)))},zoom:function t(e){e>0&&this.setZoomLevel(this.getZoomLevel()+Math.log(e)/Math.LN2)},zoomOnPixel:function t(e,i){if(i>0){var n,s,a;n=this.invTransform(e);a=Math.log(i)/Math.LN2;this.setZoomLevel(this.getZoomLevel()+a);s=this.transform(n);this.moveViewport(e.x-s.x,e.y-s.y)}},zoomOnDataRectangle:function t(e,i){if(!e)return;var n,s;n=this.calculateZoomLevelForDataRectangle(e);this._fractionalZoomMode||(n=i?Math.round(n):Math.floor(n));this.setZoomLevel(n);s=this.calculateCenterPointForDataRectangle(e);this.setDataCenter(s)},setMaxZoomLevel:function t(e){this._maxZoomLevel=e},setMinZoomLevel:function t(e){this._minZoomLevel=e},getTransformMatrix:function t(){return this._transformMatrix},setTransformMatrix:function t(i){var n,s,a;this._invTransformMatrix=i.clone().invert();n=Math.abs(i.elements[0][0]);s=Math.log(n*this._projectedDataSize)/c-8;a=this.invProject(new e(this._viewportSize.x/2,this._viewportSize.y/2));this.setZoomLevel(s);this.setDataCenter(a)},getInvTransformMatrix:function t(){return this._invTransformMatrix}});return a}.apply(e,n),void 0!==s&&(t.exports=s))},1141:function(t,e,i){"use strict";var n,s;!(n=[i(92)],s=function(t){var e;e=t.extend("UnitProjection",{init:function t(){},getProjectionType:function t(){return"Unit"},project:function t(e){return e},invProject:function t(e){return e}});return e}.apply(e,n),void 0!==s&&(t.exports=s))},1165:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(90),i(89),i(1166),i(2067),i(1494),i(2068),i(1237),i(1051),i(1037),i(384),i(1034),i(2087),i(189),i(237),i(2088),i(986),i(281)],s=function(t,e,i,n,s,a,o,r,l,h,c,u,d,p,f,m,g,v){var x,_=m.INITIAL_FETCH,y=m.PAGING,b;function D(t,e,i,n,s,a,o){var r,l=["bottom","top"],h=["left","right"];if("horizontal"===o){r=l;l=h;h=r;s.setDock("right")}else s.setDock("bottom");t.setDock("far"===a.dimensionAxis.dock?l[1]:l[0]);e.setDock("far"===a.dimensionAxis.dock?l[1]:l[0]);n.setDock("far"===a.measureAxis.dock?h[1]:h[0]);i.setDock("far"===a.measureAxis.dock?h[1]:h[0])}x=r.extend("BarChart",{namespace:".barchart",init:function e(i,s,a,o,r){var l,h=t.extend(true,{},a);this.$scope=i;a=t.extend(true,a||{},{components:{dataArea:{clazz:n},miniChart:{components:{dataArea:{clazz:n}}}}},h);this._super(i,s,a,o,r);this._data={};this._tree=null;this.components.dimensionAxis.setMaxDiscreteUnitSize(64);l=this.components.miniChart;if(this.components.miniChart){this.components.miniChart.setBackendApi(this.backendApi);this.components.scrollArea.setUseMiniChart(true);this.components.scrollArea.setMiniChart(this.components.miniChart);l.components.measureAxis.setDock("left");l.components.dimensionAxis.setDock("bottom");l.components.dataArea.setMinorAxis(l.components.measureAxis);l.components.dataArea.setMajorAxis(l.components.dimensionAxis);l.components.dataArea.setShowDataPoints(false);l.setColorMap(this.providers.colorMap)}this._orientation="vertical"},initSelections:function t(){if(!this.options._disableSelections){this.selections.Select.bind(function(t,e){var i=this.selections.getActiveType().activeComponent;var n=i&&i.getSelectionIndices()||[];this.onSelection.Select.apply(this,[t,e,n,"L"])}.bind(this));var e=function t(e){this.onSelection.scheduleInvalidation.call(this);this.components.timeAxis.setSelectedRanges(e);this.components.dataArea.updateRangeSelection(e);this.components.miniChart.components.dataArea.updateRangeSelection(e)};this.selections.UpdateRanges.bind(e.bind(this));this.selections.Clear.bind(e.bind(this,[]));this.selections.Deactivated.bind(e.bind(this,[]))}this._super()},isValid:function t(e){return this._super(e)&&!this.supressChartRendering},_paint:function t(){if(!this.isValid(this._data))return this.clear();this._super();var e=this._data,n=this.isDimensionContinuous||"vertical"===e.orientation,s,a=this.components.scrollArea,o=n?this.rect.height:this.rect.width,r=0,l=[];if(this._cutMode){(this._cutMode.positive||this._cutMode.negative)&&(r=this._layoutMode>=15?32:this._layoutMode>=7?16:8);n?this.components.measureAxis.setPadding(this._cutMode.positive?r:0,0,this._cutMode.negative?r:0,0):this.components.measureAxis.setPadding(0,this._cutMode.positive?r:0,0,this._cutMode.negative?r:0)}else this.components.measureAxis.setPadding(0,0,0,0);this.components.dimensionAxis.setMaxDiscreteUnitSize(Math.max(1,Math.ceil(o/4)));var h=this.components.dataArea.getMajorAxisData().info.map(function(t){return t.show});this.components.colorLegend.updateNow(["properties"]);if(e.qHyperCube.qDimensionInfo.length>1&&"grouped"===e.barGrouping.grouping&&this.components.colorLegend.isVisible(this._layoutMode)&&this.providers.colorMap){var c=this.providers.colorMap.getColorDataInfo();c&&"dimension"===c.legendMode.colorMode&&(h[this.providers.colorMap.getDimensionIndex()]=false)}this.components.dimensionAxis.setLabelLevelVisibility(h);this.layout();if(!this.isDimensionContinuous&&this._dataForMiniChartChanged&&this.components.scrollArea.isVisible()&&this.components.scrollArea.getUseMiniChart()&&this.components.miniChart){l.push(this.components.miniChart.setData(e));this._dataForMiniChartChanged=false}var u=this.checkPage();u?l.push(u):a.viewState.min+a.viewState.range>a.fullState.max&&a.setOffset(a.fullState.max-a.viewState.range);for(s in this.components)l.push(this.components[s].invalidateDisplay("BarChart.paint"));return i.all(l)},prePaint:function t(e){this._super(e);var i=false;var n=f.isContinuousChart(e);if(n&&2===e.qHyperCube.qDimensionInfo.length){var s=e.qHyperCube.qDimensionInfo[1];i=v.getDimensionSize(s)>c.maxNumberOfLines}h.applyDisclaimerAttributes({paging:true,bottom:true,explicitLimitedData:i},this.$scope.dataAttributes,this.$element,this.$scope,e);this.supressChartRendering=this.$scope.dataAttributes.noDataExist},updateData:function t(e){if(this._destroyed)return i.reject();this.setIsDimensionContinuous(f.isContinuousChart(e));this._setActiveDimensionAxis(e);return this._super(e)},_updateData:function t(e){var n=[];this._checkPage=false;this._disablePagingTransitions.call(this);this._data=e;this.isDimensionContinuous||(this._dataForMiniChartChanged=true);this.isStacked=("stacked"===e.barGrouping.grouping||this.isDimensionContinuous)&&(e.qHyperCube.qDimensionInfo.length>1||e.qHyperCube.qMeasureInfo.length>1);this.components.measureAxis.isStacked=this.isStacked;this.components.scrollArea.setUseMiniChart(true);n.push(this.components.dataArea.setData(e));n.push(this.components.colorLegend.setData(e));n.push(this.components.dimensionAxisTitle.setData(e));n.push(this.components.measureAxisTitle.setData(e));var s=this.isDimensionContinuous?"vertical":e.orientation;if(s&&this.components.miniChart){if(this._orientation!==s){this.components.miniChart.clear();this._orientation=s}this.components.miniChart.setOrientation(s)}else this._orientation=s;var a={axes:{measureAxis:{component:this.components.measureAxis},dimensionAxis:{component:this.components.dimensionAxis},timeAxis:{component:this.components.timeAxis,data:e.dimensionAxis},continuousAxis:{component:this.components.continuousAxis,data:e.dimensionAxis}},axisTitles:{dimensionAxisTitle:{component:this.components.dimensionAxisTitle},measureAxisTitle:{component:this.components.measureAxisTitle}},refLineLabels:{labels:{data:e.refLine.refLines,component:this.components.refLineLabels}},refLines:{component:this.components.refLines}},o=this.getSnapshotStoredChartData();this.components.dataArea.setIsDimensionContinuous(this.isDimensionContinuous);this.scrollMultiplicator=e.qHyperCube.qDimensionInfo.length<2&&"grouped"===e.barGrouping.grouping&&e.qHyperCube.qMeasureInfo.length>1?e.qHyperCube.qMeasureInfo.length+1:1;this.components.dataArea._allowInnerSelection=false;this._applyDimAxisSettings(e);this._super(e,a);if(this._readStoredData&&o){this.components.dimensionAxis.setInnerOffset(o.axisInnerOffset);this.components.scrollArea.setOffset(o.scrollOffset);this.components.scrollArea.setViewRange(o.viewRange)}else if(this.options.viewState){this.components.dimensionAxis.setInnerOffset(this.options.viewState.axisInnerOffset);this.components.scrollArea.setOffset(this.options.viewState.scrollOffset);this.components.scrollArea.setViewRange(this.options.viewState.viewRange)}else if(Number.isNaN(+e.scrollStartPos)){if(!this.isDimensionContinuous){this.components.dimensionAxis.setInnerOffset(0);this.components.scrollArea.setOffset(0)}}else this.components.scrollArea.setRelativeOffset(e.scrollStartPos);this.isDimensionContinuous||(this._checkPage=true);return i.all(n)},_applyDimAxisSettings:function t(e){var i=null;this._pagingMode=y.NONE;if(e.qHyperCube.qDimensionInfo.length>1){this.components.dataArea._allowInnerSelection=e.qHyperCube.qDimensionInfo[0].qStateCounts.qOption+e.qHyperCube.qDimensionInfo[0].qStateCounts.qSelected<=1;if("grouped"===e.barGrouping.grouping){if(e.qHyperCube.qSize.qcy>_){this._pagingMode=y.TWO_DIM;i=e.qHyperCube.qSize.qcy}}else{i=this.isStacked?e.qHyperCube.qStackedDataPages&&e.qHyperCube.qStackedDataPages.length&&e.qHyperCube.qStackedDataPages[0].qData&&e.qHyperCube.qStackedDataPages[0].qData.length?e.qHyperCube.qDimensionInfo[0].qCardinalities.qHypercubeCardinal:e.qHyperCube.qDimensionInfo[0].qStateCounts.qOption+e.qHyperCube.qDimensionInfo[0].qStateCounts.qSelected:e.qHyperCube.qDataPages[0].qMatrix.length+e.qHyperCube.qDimensionInfo[0].qStateCounts.qOption+e.qHyperCube.qDimensionInfo[0].qStateCounts.qSelected;this._pagingMode=y.ONE_DIM}}else{i=e.qHyperCube.qSize.qcy;this._pagingMode=y.ONE_DIM;if("grouped"===e.barGrouping.grouping&&e.qHyperCube.qMeasureInfo.length>1){this.scrollMultiplicator=e.qHyperCube.qMeasureInfo.length+1;i*=this.scrollMultiplicator}}this.components.dimensionAxis.isDiscrete()&&!this.isDimensionContinuous||(this._pagingMode=y.NONE);this.components.dimensionAxis.setNumDiscreteUnits(i)},updateDataArea:function t(e){this.components.dataArea.setShowDataPoints(e.dataPoint.showLabels);var i=this.isDimensionContinuous?"stacked":e.barGrouping.grouping;this.components.dataArea.setGroupingMode(i);this.components.miniChart&&this.components.miniChart.components.dataArea.setGroupingMode(i);this.components.dataArea.updateNow(["properties"])},updateAxis:function i(n,s){var a,o,r,l,h,c,d,p,f,m,g,v,x=this.getSnapshotStoredChartData();this.components.timeAxis.setData(n);var _=n.qHyperCube.qMeasureInfo.filter(function(t){return!Number.isNaN(+t.qMin)}).map(function(t){return{min:t.qMin,max:t.qMax,index:n.qHyperCube.qMeasureInfo.indexOf(t)}});p=_.reduce(function(t,e){return t.min<e.min?t:e},_[0]);f=_.reduce(function(t,e){return t.max>e.max?t:e},_[0]);m=p?p.min:b;g=f?f.max:b;e.isNumeric(m)||(m=0);e.isNumeric(g)||(g=1);a=this.components.measureAxis;o=this.components.dimensionAxis;r=this.components.dimensionAxisTitle;l=this.components.measureAxisTitle;var y=this.components.dataArea.getMajorAxisData(),M=this.components.dataArea.getMinorAxisData();o.setDataRange(y.data,y.info);r.setSelectionsEnabled(!!this.selections);l.setSelectionsEnabled(!!this.selections);t.extend(s.axes.measureAxis,{data:t.extend(true,{},n.measureAxis,{logarithmic:false}),dataIndices:n.qHyperCube.qMeasureInfo.map(function(t,e){return e})});t.extend(s.axes.dimensionAxis,{data:n.dimensionAxis,dataIndices:n.qHyperCube.qDimensionInfo.map(function(t,e){return e}),currentDataIndices:[0]});t.extend(s.axisTitles.dimensionAxisTitle,{data:n.dimensionAxis});t.extend(s.axisTitles.measureAxisTitle,{data:n.measureAxis});d=s.axes.measureAxis;v=this.getAxisOptions(d);s.refLineLabels.labels.axis=a;D.apply(this,[o,r,a,l,this.components.scrollArea,n,this._orientation]);this._super(n,s);for(c in s.axes){h=s.axes[c];h.component.setDataIndices(h.dataIndices||[h.dataIndex||0]);h.component.setCurrentDataIndices(h.currentDataIndices||h.dataIndices||[h.dataIndex||0])}if(g<m){g=10;m=-10}else if(m===g&&0===g){g=10;m=-10}g=Math.max(0,g);m=Math.min(0,m);if(p&&f){this._cutMode=this.getSpikeSettings(n,p,f,m,g,v);g=this._cutMode.max;m=this._cutMode.min}else this._cutMode={positive:false,negative:false};this._readStoredData&&x.dataRanges&&x.dataRanges[0]?this.setAxisDataRange(a,x.dataRanges[0].max,x.dataRanges[0].min,v.max,v.min,1):M?this.setAxisDataRange(a,M.max,M.min,v.max,v.min,1):this.setAxisDataRange(a,g,m,v.max,v.min,1);"none"===n.measureAxis.show?o.setUnitAlignment("center"):this.components.dimensionAxis.setUnitAlignment(u.getAxisUnitAlignment(n.measureAxis.dock,o.isHorizontal()));this.updateTimeAxis()},getSpikeSettings:function t(e,i,n,s,a,o){var r=0,l=0,h=0,c=0,u=false,d=false,p,f,m=n.index+e.qHyperCube.qDimensionInfo.length,g=i.index+e.qHyperCube.qDimensionInfo.length,v=e.qHyperCube.qDataPages[0]?e.qHyperCube.qDataPages[0].qMatrix:[];for(var x=0;x<v.length;x++){p=v[x];f=p[m].qNum;f>0&&!Number.isNaN(+f)&&(p[0].qIsOtherCell||p[1].qIsOtherCell?h=Math.max(f,h):r=Math.max(f,r));f=p[g].qNum;f<0&&!Number.isNaN(+f)&&(p[0].qIsOtherCell||p[1].qIsOtherCell?c=Math.min(f,c):l=Math.min(f,l))}if(!(this.isStacked&&e.qHyperCube.qMeasureInfo.length+e.qHyperCube.qDimensionInfo.length>2)){if(null!==o.max&&o.max<a)u=o.max>0;else if(r>0&&h/r>5){a=r;u=a>=0}if(null!==o.min&&o.min>s)d=o.min<0;else if(l<0&&c/l>5){s=l;d=s<0}}return{max:a,min:s,positive:u,negative:d}},getPreferredSize:function t(){return this._super()},setOrientation:function t(e){this._orientation=e||"horizontal"},getOrientation:function t(){return this._orientation}});return{type:"barchart",BackendApi:l,template:d,View:x,definition:s,softDefinition:o,initialProperties:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qMode:"S",qAlwaysFullyExpanded:true,qInitialDataFetch:[{qTop:0,qHeight:_,qLeft:0,qWidth:17}],qSuppressZero:false,qSuppressMissing:true}},support:{cssScaling:false,snapshot:true,export:true,exportData:true,sharing:true,viewData:true},migrate:{properties:function t(e){return g.migrateProperties(e)}},options:{selections:{dataArea:{},range:{},colorLegend:{}},tooltips:{}},data:a,importProperties:function t(e,i,n){var s=p.axisChart.importProperties.apply(p,[e,i,n]),a=s.qProperty;a.qHyperCubeDef.qDimensions.length>1&&"stacked"===a.barGrouping.grouping&&(a.qHyperCubeDef.qMode="K");return s},exportProperties:p.axisChart.exportProperties.bind(p)}}.apply(e,n),void 0!==s&&(t.exports=s))},1166:function(t,e,i){"use strict";var n,s;!(n=[i(180),i(1233),i(1235),i(109),i(104),i(292),i(278),i(293),i(100),i(89),i(1033),i(1236)],s=function(t,e,i,n,s,a,o,r,l,h,c){var u,d="stacked",p="grouped";var f=document.createElement("canvas"),m=f.getContext("2d");function g(t){var e=1;f.width=5*e;f.height=5*e;m.save();m.fillStyle=n.toRGBA(t,.8);m.scale(e,e);m.fillRect(0,0,1,1);m.fillRect(0,1,1,1);m.fillRect(1,0,1,1);m.fillRect(4,1,1,1);m.fillRect(4,2,1,1);m.fillRect(3,2,1,1);m.fillRect(3,3,1,1);m.fillRect(2,3,1,1);m.fillRect(2,4,1,1);m.fillRect(1,4,1,1);m.restore();return m.createPattern(f,"repeat")}u=t.extend("BarArea",{init:function t(){this._super.apply(this,arguments);this._data=null;this._layoutMode=null;this._selectableShapes=[];this._shapes=[];this._barData=[];this._showDataPoints=true;this._colorMap=null;this._groupingMode=p;this._globalAlpha=1;this._styleService=l.initializeService("object.barChart");this._edgeBleed=0;this._barLayer=new e(this.container);this._barLayer.isMini=this.isMini;this.layers=[this._barLayer];if(this.isMini){this._rangeSelectionLayer=new c(this.container);this.layers.push(this._rangeSelectionLayer)}else{this._labelLayer=new i(this.container);this.layers.push(this._labelLayer)}},setYMirrorMode:function t(e){this._super(e);this._labelLayer&&this._labelLayer.setYMirrorMode(e)},beforeBarsAddedToRenderer:function t(){},barsAddedToRenderer:function t(){},labelAddedToRenderer:function t(){},afterPaint:function t(){return h.resolve()},setColorMap:function t(e){this._colorMap=e},getColorMap:function t(){return this._colorMap},setShowDataPoints:function t(e){this._showDataPoints=e;this.invalidateDisplay("BarArea.setShowDataPoints")},getShowDataPoints:function t(){return this._showDataPoints},getMeasureIndices:function t(){return this._measureIndices},setMeasureIndices:function t(e){this._measureIndices=e},setMajorAxis:function t(e){this._majorAxis=e;this._majorAxis.listen("changed",function(){this.invalidateDisplay("BarArea.setMajorAxis")},this)},setMinorAxis:function t(e){this._minorAxis=e;this._minorAxis.listen("changed",function(){this._localFormatting&&(this._areLabelsFormatted=false);this.invalidateDisplay("BarArea.setMinorAxis")},this)},setTimeAxis:function t(e){this.timeAxis=e;this.timeAxis.listen("changed",function(){this.invalidateDisplay()},this)},setContinuousAxis:function t(e){this.continuousAxis=e;this.continuousAxis.listen("changed",function(){this.invalidateDisplay()},this)},setActiveDimensionAxis:function t(e){this._activeDimAxis=e},setIsDimensionContinuous:function t(e){this.isDimensionContinuous=e;this._edgeBleed=this.isDimensionContinuous?5:0},setDimensionTree:function t(e){this._tree=e},setGroupingMode:function t(e){this._groupingMode=e},_updateSize:function t(){this.invalidateDisplay("BarArea._updateSize")},insertAdjacentTo:function t(e,i){this._super(e,i);if(this._minorAxis&&this._minorAxis.isHorizontal())switch(this._minorAxis.dock){case"bottom":this.rect.height-=1;break}},getMajorAxisData:function t(){return this._majorAxisData},getMinorAxisData:function t(){return this._minorAxisData},setCacheItems:function t(e){this._cacheItems=e},getCacheItems:function t(){return this._cacheItems},createAxisData:function t(e,i,n,s){if(!s){this._cacheIndex=0;this._outerCacheIndex=0}var a=i.stackLevel===s+1,o,r=e.children,l=i.numLevels-i.numMeasures;"measure"===i.types[s]&&this._measureIndices&&(r=r.filter(function(t,e){return this._measureIndices.indexOf(e)>=0},this));return r.map(function(t){var e;if("dimension"===i.types[s]){e={label:t.data.qText,group:"dimension"===i.types[s+1]||"measure"===i.types[s+1]&&i.numMeasures>1,id:t.data.id,cacheIndex:[]};if("measure"===i.types[s+1])for(o=0;o<i.numMeasures;o++)e.cacheIndex.push(this._cacheIndex++);else l>1&&0===s&&t.children.forEach(function(t){if(t.children[0].isBranch){-2!==t.data.qElemNo&&e.cacheIndex.push(this._outerCacheIndex);this._outerCacheIndex++}},this);!a&&("dimension"===i.types[s+1]||"measure"===i.types[s+1]&&i.numMeasures>1)&&(e.children=this.createAxisData(t,i,n,s+1))}else"measure"===i.types[s]&&(e={label:t.data.qText,id:t.data.id});return e},this)},_createMeasureDisplayNode:function t(e,i){if(!e.isBranch)return;var n=true===this.isMini||this._isStacked?new r:new o,a=e.children,l=a[0].data,h=e.parent.cacheItem,c=new s(0,0,0,0),u=this.measureFormatters[i],d="undefined"!==typeof l.qValue?l.qValue:l.qNum,p=e.ancestors.filter(function(t){return"qElemNo"in t.data}).map(function(t){return t.data.qElemNo}).reverse();n.data={qText:e.data.qText,measureIndex:i,value:d,start:0,end:d,valueLabel:e.children[0].data.qText,formatted:!u||"U"!==u.type,hitRect:c,cacheItem:h,color:this._colorMap.getColor(p,d,i,e.data.rowIndex)};h.addShape("dataArea",c,true);h.calculateTooltipPosition=true;n.data.fill=n.data.color.toRGBA();n.fill=n.data.fill;n.data.isFillColorDark=n.data.color.isDark();return n},_createDimensionDisplayNode:function t(e){var i=new a;i.data={qText:e.data.qText,qElemNo:e.data.qElemNo,qMaxPos:e.data.qMaxPos,qMinNeg:e.data.qMinNeg,qType:e.data.qType};return i},_createStackNode:function t(){var e=new a;e.data={stack:true};return e},_createOtherNode:function t(e,i){var n=new r,a=new s(0,0,0,0),o=this.measureFormatters[0];n.data={measureIndex:0,value:i-e,start:e,end:i,isFakeOtherCell:true,highlightOnGroupSelect:0===this._selectionIndices[0],valueLabel:"valueLabel",formatted:!o||"U"!==o.type,hitRect:a,cacheItem:{},color:this._colorMap.getColor([-3],i-e,0,0)};n.data.fill=n.data.color.toRGBA();n.fill=n.data.fill;n.data.isFillColorDark=n.data.color.isDark();return n},_addOtherNode:function t(e,i,n){var s=this._createDimensionDisplayNode({data:{qMaxPos:0,qMinNeg:0,qElemNo:-3,qType:"O"}}),a=this._createOtherNode(e.data.sum,i);a.data.axisId=n.data.id;a.data.cacheItem=n.cacheItem;s.addChild(a);e.data.sum=i;e.addChild(s);return a},_stackNodes:function t(e,i,n,s){var a,o,r,l=this._createStackNode(),h=this._createStackNode(),c=false,u=false,d,p,f=0,m=0;l.data.isStack=true;h.data.isStack=true;e.forEach(function(t){a=i;r=t.children&&t.children[0]?t.children[0].data:t.data;if(r.value>=0){a=l;r.start=f;f+=r.value;r.end=f;o=f;d=true;a.addChild(t);"O"===t.data.qType&&(c=true)}else if(!Number.isNaN(+r.value)){a=h;r.start=m;m+=r.value;r.end=m;o=m;p=true;a.addChild(t);"O"===t.data.qType&&(u=true)}a.data.sum=o});if("undefined"!==typeof i.data.qMaxPos&&!c&&f!==i.data.qMaxPos){s.push(this._addOtherNode(l,i.data.qMaxPos,n));f=l.data.sum;d=f>0}if("undefined"!==typeof i.data.qMinNeg&&!u&&m!==i.data.qMinNeg){s.push(this._addOtherNode(h,i.data.qMinNeg,n));m=h.data.sum;p=m<0}if(d){l.data.valueLabel=this.combinedMeasuresFormatter?this.combinedMeasuresFormatter.formatValue(l.data.sum):l.data.sum+"";i.addChild(l)}if(p){h.data.valueLabel=this.combinedMeasuresFormatter?this.combinedMeasuresFormatter.formatValue(h.data.sum):h.data.sum+"";i.addChild(h)}i.data.sum={positive:f,negative:m}},getRenderTree:function t(e,i,n,s){var a=i.stackLevel===s+1,o=[],r,l,h,c,u,d,p;h=e.children;"measure"===i.types[s]&&this._measureIndices&&(h=h.filter(function(t,e){return this._measureIndices.indexOf(e)>=0},this));u=h.length;for(c=0;c<u;c++){p=h[c];if("dimension"===i.types[s]){d=this._createDimensionDisplayNode(p);l=this.getRenderTree(p,i,n,s+1);if(a){this._stackNodes(l,d,p,n.otherShapes);n.globalPositiveSum=Math.max(n.globalPositiveSum,d.data.sum.positive);n.globalNegativeSum=Math.min(n.globalNegativeSum,d.data.sum.negative)}else d.addChildren(l);d.isBranch&&o.push(d)}else if("measure"===i.types[s]){d=this._createMeasureDisplayNode(p,this._measureIndices?this._measureIndices[c]:c);if(!d)continue;r=p;i.numMeasures<=1&&(r=r.parent);i.stackLevel===s&&(r=r.parent);d.data.axisId=r.data.id;d.data.axisNum=1===s?r.data.qNum:r._parent.data.qNum;n.shapes.push(d);o.push(d)}}return o},_applyIds:function t(e,i,n,s){var a;e.children.forEach(function(t,o){a=e.data.id?e.data.id+";"||false:"";if("dimension"===n[s]){t.data.id=a+i[s]+":"+t.data.qElemNo;this._applyIds(t,i,n,s+1)}else"measure"===n[s]&&(t.data.id=a+i[s+o])}.bind(this))},renderRangeSelections:function t(){this._rangeSelectionLayer.update(this._activeDimAxis);return this._rangeSelectionLayer.render()},updateRangeSelection:function t(e){if(this._rangeSelectionLayer){this._rangeSelectionLayer.setRanges(e);this.renderRangeSelections()}this.isMini||(this._barLayer.selectedRanges=e)},_updateProperties:function t(){if(!this._data||!this._tree)return;this._barLayer.renderer.stage.removeChildren();var e=this._data.qHyperCube.qDimensionInfo.length,i=this._measureIndices?this._measureIndices.length:this._data.qHyperCube.qMeasureInfo.length,n=this._groupingMode===d&&(e>1||i>1),s=e+1,a=-2,o=[],r=new Array(e).join(",").split(",").map(function(){return"dimension"}),l=this._data.qHyperCube.qDimensionInfo.concat(this._data.qHyperCube.qMeasureInfo).map(function(t){return t.cId}),h=this._data.qHyperCube.qDimensionInfo.map(function(t){return t.qApprMaxGlyphCount});r.push("measure");h.push(this._data.qHyperCube.qMeasureInfo.reduce(function(t,e){return Math.max(t,e.qApprMaxGlyphCount)},0));if(n)a=i>1?e:e-1;else if(e>1){var c=this._data.qHyperCube.qDimensionInfo[0].qStateCounts.qOption+this._data.qHyperCube.qDimensionInfo[0].qStateCounts.qSelected;var u=this._data.qHyperCube.qSize.qcy/c;o.push(u);o.push(i)}else{o.push(i);o.push(1)}this._isStacked=n;var p={columns:[],shapes:[],shapesToLabel:[],otherShapes:[],globalPositiveSum:0,globalNegativeSum:0};var f={colIds:l,types:r,numLevels:s,numMeasures:i,stackLevel:a};if(e>1&&this._allowInnerSelection&&!this._data.qHyperCube.qDimensionInfo[1].qLocked){this.setSelectionIndices([1]);this._majorAxis.setSelectionIndices([1]);this._majorAxis.setCurrentDataIndices([1])}else{this.setSelectionIndices([0]);this._majorAxis.setSelectionIndices([0]);this._majorAxis.setCurrentDataIndices([0])}this._applyIds(this._tree,l,r,0);var m=this.getRenderTree(this._tree,f,p,0);this._objects=m;this._formatted=this._isStacked||this.measureFormatters.every(function(t,e){var i=!this._measureIndices||this._measureIndices.indexOf(e)>=0;return!i||t&&"U"!==t.type},this);this._shapes=p.shapes;var g=p.shapes.map(function(t){return t.data.cacheItem});this._shapes=this._shapes.concat(p.otherShapes);m.forEach(function(t){this._barLayer.renderer.stage.addChild(t)}.bind(this));var v=this.createAxisData(this._tree,f,p,0);var x=r.map(function(t,e){return{qApprMaxGlyphCount:h[e],show:e<r.length-1,groupSize:o[e]}});this._majorAxisData={data:v,info:x};this._numDimensions=e;this._numMeasures=i;this._minorAxisData=n?{min:p.globalNegativeSum,max:p.globalPositiveSum}:null;this.setSelectableShapes(g)},hasValidData:function t(){return this._super()&&this._majorAxis&&this._minorAxis&&this._data&&this._tree&&(this._data.qHyperCube.qStackedDataPages.length>0||this._data.qHyperCube.qDataPages.length>0)},updateSize:function t(){this._super();this.layers.forEach(function(t){t.rect=this.rect;t.renderer.setDimensionsToContainerRatio(this.layoutToContainerRatios.x,this.layoutToContainerRatios.y);t.renderer.setDimensions(0,0,this.rect.width,this.rect.height)},this)},paint:function t(){this._super(this._layoutMode,this._data);this._majorAxis.updateNow();this._minorAxis.updateNow();this._activeDimAxis&&this._activeDimAxis.updateNow();var e=this._minorAxis.getPadding(),i=new s,n=this;this._style=v(this._styleService);i.set(e.left,e.top,this.rect.width-e.left-e.right,this.rect.height-e.top-e.bottom);this.layers.forEach(function(t){t.minorAxis=this._minorAxis;t.majorAxis=this.isDimensionContinuous?this._activeDimAxis:this._majorAxis;t.isNumeric=this.isDimensionContinuous;t.shapes=this._shapes;t.othersFillPattern=g(this._colorMap.getColor([-3]));t.groupingMode=this._groupingMode;t.widthRatio=this._numDimensions<=1&&this._numMeasures<=1||this._groupingMode===d?.7:.95;t.isSpikingEnabled=!this.isMini&&!(this._groupingMode===d&&(this._numDimensions>1||this._numMeasures>1));t.isHintingEnabled=!this.isMini&&(this._groupingMode===p||this._groupingMode===d&&this._numDimensions+this._numMeasures<=2);t.style=this._style;t._globalAlpha=this._globalAlpha},this);this._barLayer.renderer.edgeBleed={left:this._edgeBleed,right:this._edgeBleed,top:0,bottom:0};this._barLayer.colorMap=this._colorMap;this._barLayer.update();this.nodesInView=this._barLayer.nodesInView;this.barsAddedToRenderer();if(this._labelLayer){this._labelLayer.renderer.edgeBleed={left:this._edgeBleed,right:this._edgeBleed,top:0,bottom:0};this._labelLayer.setShapes(this._objects);this._labelLayer.bounds=i;this._labelLayer._longestLabel=20;if(this._layoutMode>this.ShowFlags.XSMALL&&this._showDataPoints){this._formatLabels();this._labelLayer.show();this._labelLayer.render()}else this._labelLayer.hide()}var a=[this._barLayer.render()];this._rangeSelectionLayer&&a.push(this.renderRangeSelections());return h.all(a).then(function(){return n.afterPaint()})},_formatLabels:function t(){if(this._isStacked||this._formatted)return;var e,i,n=this.nodesInView?this.nodesInView.length:0;for(e=0;e<n;e++){i=this.nodesInView[e].data;if(!i.formatted){i.formatted=true;i.valueLabel=this.measureFormatters[i.measureIndex]?this.measureFormatters[i.measureIndex].formatValue(i.value):i.valueLabel}}},preRelevantSizeCalculation:function t(){this.perpendicularlyRelevantSpacing={left:this._edgeBleed,right:this._edgeBleed,top:0,bottom:0}},clear:function t(){this._super();this.layers.forEach(function(t){t.clear()})},release:function t(){this.layers.forEach(function(t){t.release()});this._super();this._majorAxis&&this._majorAxis.stopListen("changed",null,this);this._minorAxis&&this._minorAxis.stopListen("changed",null,this);this.timeAxis&&this.timeAxis.stopListen("changed",null,this);this.continuousAxis&&this.continuousAxis.stopListen("changed",null,this)}});function v(t){return{shape:{selected:{border:{color:"#333333",width:2}},outOfRange:{color:t.getStyle("outOfRange","color")}},dataPoints:{label:{font:"normal "+t.getStyle("label.value","fontSize")+" 'QlikView Sans'",color:t.getStyle("label.value","color"),dark:{color:"#595959"},light:{color:"#E6E6E6"}},backgroundColor:t.getStyle("","backgroundColor")},backgroundColor:t.getStyle("","backgroundColor")}}return u}.apply(e,n),void 0!==s&&(t.exports=s))},1233:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(104),i(278),i(291),i(101),i(1234)],s=function(t,e,i,n,s,a){var o;function r(){var t,n,s,o,r=this.style.shape,l=new e(0,0,0,0),h=this.widthRatio,c,u,d,p,f,m=this.isSpikingEnabled,g=this.isHintingEnabled,v,x,_,y=[],b=this.majorAxis.isDiscrete(),D=this.majorAxis.getDiscreteSpacing()*h,M,q=this.minorAxis.getPlotMax(),A=this.minorAxis.getPlotMin(),S=!this.majorAxis.isVertical(),C=this.minorAxis.getPadding(),w=this.minorAxis.getPositionOfValue(0)-1,P={pad:S?C.top:C.right},L={pad:S?C.bottom:C.left},k=new e;P.gap=.3*P.pad;P.sharpness=.3*P.pad;L.gap=.3*L.pad;L.sharpness=.3*L.pad;k.set(C.left,C.top,this.rect.width-C.left-C.right,this.rect.height-C.top-C.bottom);this._bounds=k;var T=0,I=S?this.rect.width:this.rect.height,R=-1,z=S?this.rect.height:this.rect.width;p=this.shapes?this.shapes.length:0;if(this.isNumeric){b=false;var N=this.majorAxis._scale.plotRange/(this.majorAxis._scale._dataMax-this.majorAxis._scale._dataMin),H=90,O=.25,V=2,F=this.majorAxis._scale._plotSize/H;M=Math.max(F-Math.pow(N,O)*F,V);Number.isNaN(+M)&&(M=V)}for(f=0;f<p;f++){u=this.shapes[f];_=u instanceof i||"Polygon"===u.type;d=this.isNumeric?this.majorAxis.getPositionOfValue(u.data.axisNum):this.majorAxis.getPositionOfId(u.data.axisId);c=b?D:M||this.majorAxis.getWidthOfId(u.data.axisId)*h;if(u.data.isNaN||Number.isNaN(+u.data.value)){u.data.isNaN=true;s=w;o=w}else{s=this.minorAxis.getPositionOfValue(u.data.start)-1;o=this.minorAxis.getPositionOfValue(u.data.end)-1}t=d-c/2;n=d+c/2;a.updateRectangle(u.data.hitRect,t,n,s,o,!S,k);delete u.data.labelRect;delete u.data.isCutOff;delete u.data.hintDirection;if(n<T||t>I)u.data.isVisible=false;else{u.data.isVisible=true;_?u.set(u.data.hitRect.getPoints()):u.set(u.data.hitRect.x,u.data.hitRect.y,u.data.hitRect.width,u.data.hitRect.height);l.set(u.data.hitRect.x,u.data.hitRect.y,u.data.hitRect.width,u.data.hitRect.height);y.push(u);v=u.data.cacheItem;var j=v.selected;if(u.data.isFakeOtherCell&&u.data.highlightOnGroupSelect&&v.children[0].selected){j=true;for(var E=0;E<v.children.length;E++)if(!v.children[E].selected){j=false;break}}this.isNumeric&&this.selectedRanges&&!j&&(j=this.selectedRanges.some(function(t){return u.data.axisNum>=t.min&&(t.maxIncluded?u.data.axisNum<=t.max:u.data.axisNum<t.max)}));x=j&&c>6?r.selected:{border:{color:0,width:0}};u.stroke=x.border.color;u.fill=u.data.isFakeOtherCell?this.othersFillPattern:u.data.fill;u.strokeWidth=x.border.width;u.opacity=j?1:this._globalAlpha;var B=!!g&&this._getHint(s,o,k,S);var Z=!(!_||B||!m)&&this._getSpike(u.data.end,s,o,k,S,A,q);if(Z){u.data.labelRect=l.clone();a.updateSpike(u,S?u.data.end>=0?"up":"down":u.data.end>=0?"right":"left",u.data.end>=0?P:L);u.data.isCutOff=true}else if(B){u.fill=r.outOfRange.color;a.updateHint(u,B,k);u.data.hintDirection=B}else(s<R&&o<R||s>z&&o>z)&&(u.data.isVisible=false)}}this.nodesInView=y}o=t.extend("BarLayer",{init:function t(e){this.renderer=new n(e,{name:"bar-layer"});this.widthRatio=.7;this.isSpikingEnabled=false;this.isHintingEnabled=false;this.shapes=[];this._globalAlpha=1},release:function t(){this.renderer.release();this.shapes=null;this.minorAxis=null;this.majorAxis=null},update:function t(){r.call(this)},render:function t(){return this.renderer.render()},clear:function t(){this.renderer.clear()},_getStyle:function t(e){return{selected:{border:{color:s.getValue(e,"shape.selected.border.color","rgba(0,0,0,0.25)"),width:s.getValue(e,"shape.selected.border.width",1)}}}},_getHint:function t(e,i,n,s){if(s){if(i+1<n.y&&e+1<=n.y)return"up";if(i+1>n.y+n.height&&e+1>=n.y+n.height)return"down"}else{if(i+1<n.x&&e+1<=n.x)return"left";if(i+1>n.x+n.width&&e+1>=n.x+n.width)return"right"}return false},_getSpike:function t(e,i,n,s,a,o,r){var l=e>r,h=e<o;if(a){l=l&&n<s.y&&i>s.y;h=h&&n>s.y+s.height&&i<s.y+s.height}else{l=l&&n>s.x+s.width&&i<s.x+s.width;h=h&&n<s.x&&i>s.x}return l||h}});return o}.apply(e,n),void 0!==s&&(t.exports=s))},1234:function(t,e,i){"use strict";var n,s;!(n=[i(293)],s=function(t){function e(t,e,i,n,s,a,o){var r,l;if(a){r=e;l=i;i=s;e=n;s=r;n=l;if(i<e){r=i;i=e;e=r}e=Math.max(o.x,Math.min(o.x+o.width,e));i=Math.max(o.x,Math.min(o.x+o.width,i))}else{if(n<s){r=s;s=n;n=r}n=Math.max(o.y,Math.min(o.y+o.height,n));s=Math.max(o.y,Math.min(o.y+o.height,s))}t.set(e,s,i-e,n-s);return t}function i(t,e,i,n){var s=[{x:t.x,y:t.y},{x:t.x,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height},{x:t.x+t.width,y:t.y}];switch(e){case"left":n?s[0].x-=i:s[1].x+=i;break;case"right":n?s[2].x+=i:s[3].x-=i;break;case"top":n?s[3].y-=i:s[0].y+=i;break;case"bottom":n?s[1].y+=i:s[2].y-=i;break}return s}function n(e,n,s){var a,o=s.pad,r=s.gap,l=s.sharpness,h=e.clone(),c=i,u=[];if("right"===n){a=new t(h.x+h.width+r,h.y,o-r,h.height);u.push(c(h,"right",l,true));u.push(c(a,"left",l,false,true));e.width+=a.width+r}else if("left"===n){a=new t(0,h.y,o-r,h.height);u.push(c(h,"left",l,true));u.push(c(a,"right",l,false,true));e.x=a.x;e.width+=a.width+r}else if("down"===n){a=new t(h.x,h.y+h.height+r,h.width,o-r);u.push(c(h,"bottom",l,true));u.push(c(a,"top",l,false,true));e.height+=a.height+r}else if("up"===n){a=new t(h.x,0,h.width,o-r);u.push(c(h,"top",l,true));u.push(c(a,"bottom",l,false,true));e.y=a.y;e.height+=a.height+r}return u}function s(t,e,i){t.set(n(t.data.hitRect,e,i))}function a(t,e,i){t.set(r(t.data.hitRect,e,i))}function o(t,e,i,n,s){var a=[];if("left"===s){a.push({x:t,y:e+i/2});a.push({x:t,y:e-i/2});a.push({x:t-n,y:e})}else if("right"===s){a.push({x:t,y:e+i/2});a.push({x:t,y:e-i/2});a.push({x:t+n,y:e})}else if("up"===s){a.push({x:t-i/2,y:e});a.push({x:t+i/2,y:e});a.push({x:t,y:e-n})}else if("down"===s){a.push({x:t-i/2,y:e});a.push({x:t+i/2,y:e});a.push({x:t,y:e+n})}return a}function r(t,e,i){var n,s,a;a=Math.min(t[["left","right"].contains(e)?"height":"width"]/2,8);s=Math.min(a,8);if("left"===e){n=o(i.x+s,t.y+t.height/2,a,s,e);t.width+=s}else if("right"===e){n=o(i.x+i.width-s-1,t.y+t.height/2,a,s,e);t.width+=s;t.x-=s}else if("up"===e){n=o(t.x+t.width/2,i.y+s,a,s,e);t.height+=s}else if("down"===e){n=o(t.x+t.width/2,i.y+i.height-s-1,a,s,e);t.height+=s;t.y-=s}return n}return{updateRectangle:e,getSpike:n,getSlicedPolygon:i,getHint:r,updateSpike:s,updateHint:a}}.apply(e,n),void 0!==s&&(t.exports=s))},1235:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(203),i(200),i(109),i(344)],s=function(t,e,i,n){var s,a,o,r,l;function h(t,e){return t?n.useDarkLabel(e,l)?a.label.dark.color:a.label.light.color:a.label.color}function c(t,e,i,n,s,o,r){return{type:"text",fill:a.label.dark.color,opacity:n||1,data:{value:e,rect:i,labelRect:o,hintDirection:r,color:s},shape:{text:t,maxNumLines:1,align:"center",baseline:"middle"}}}function u(t){var e,i,n,s;e=t.descendants.filter(function(t){return!t.isBranch&&false!==t.data.isVisible});i=e.map(function(t){return t.data.hitRect});if(i.length){n=i[0];i.length>1&&(n=n.combineWith(i.slice(-1)[0]));s=c(t.data.valueLabel,t.data.sum,n,e[e.length-1].opacity,e[e.length-1].data.color,null,null);s.data.isFillPattern=window.CanvasPattern&&e[e.length-1].fill instanceof window.CanvasPattern;s.data.lastRect=i[i.length-1];return s}}function d(t,e){var i,n;t.forEach(function(t){i=t.children;if(t.data.isStack){n=u(t);if(n){n.data.isStack=true;n.targetShape=t;e.push(n)}}else if(i&&i.length)d(i,e);else if(false!==t.data.isVisible){n=c(t.data.valueLabel,t.data.value,t.data.hitRect,t.opacity,t.data.color,t.data.labelRect,t.data.hintDirection);n.targetShape=t;e.push(n)}})}function p(t,e){var i;t.forEach(function(t){i=t.children;i&&i.length?p(i,e):false!==t.data.isVisible&&e.push(t)})}function f(t,e){Object.keys(e).forEach(function(i){t[i]=e[i]})}function m(t){return t.filter(function(t){return!!t.labelBounds})}function g(t,e,i){return t.filter(function(t){return t.labelBounds.x>=e&&t.labelBounds.x+t.labelBounds.width<=i})}function v(t,e){var i=e?e.length:0,n,s,a;s=t.labelBounds;for(n=0;n<i;n++){a=e[n].data.hitRect;if(t.targetShape===e[n]){if(s.y+s.height/2>a.y&&s.width>a.width+8)return true}else if(a&&s.x<=a.x+a.width&&a.x<=s.x+s.width&&s.y<=a.y+a.height&&a.y<=s.y+s.height)return true}return false}function x(t,e){return t.filter(function(t){return!v(t,e)})}function _(t){return t.filter(function(t){return t.data.value<0})}function y(t){return t.filter(function(t){return t.data.value>=0})}function b(t,e){var i=e?e.length:0,n,s,a;s=t.labelBounds;for(n=0;n<i;n++){a=e[n].labelBounds;if(s.x<=a.x+a.width&&a.x<=s.x+s.width&&s.y<=a.y+a.height&&a.y<=s.y+s.height)return true}return false}function D(t){var e=t?t.length:0,i=[],n,s,a,o,r;for(n=0;n<e;n++){r=t[n];s=r.data.value;a=0===n?s:t[n-1].data.value;o=n===e-1?s:t[n+1].data.value;r.priority=s>a&&s>o?6:s<a&&s<o?5:s>a&&s===o||s===a&&s>o?4:s<a&&s===o||s===a&&s<o?3:s===a&&s===o?2:1}t.sort(function(t,e){return t.priority-e.priority});for(n=0;n<e;n++)b(t[n],i)||(i[i.length]=t[n]);return i}function M(){var t=[],i=[],n=this.minorAxis.getPlotMin(),s=this.minorAxis.getPlotMax(),r,h,c,u=a.label.font,f=this.bounds,v;d(this._shapes,t);e.setFont(u);this.renderer.setFont(u);t=t.filter(function(t){if("NaN"===t.data.value)return true;if(t.data.labelRect||t.data.showHintLabel)return true;if(t.data.value>=0&&s>=t.data.value&&n<=t.data.value)return true;if(t.data.value<0&&n<=t.data.value&&s>=t.data.value)return true;if(t.data.rect.width&&t.data.rect.height&&f.intersectsWith(t.data.rect))return true;return false});var b,M,S;if(this._shapes&&this._shapes.length){M=this._shapes[0].descendants.filter(function(t){return!t.isBranch})[0];S=M?M.data.hitRect.width:this.majorAxis._discreteSpacing}else S=0;b=0;r=t?t.length:0;for(c=0;c<r;c++){h=t[c];if(h.shape){h.shape.font=u;h.data.labelWidth=e.getTextWidth(h.shape.text);b=Math.max(b,h.data.labelWidth)}}this._longestLabel=b;v=this._longestLabel<S;var w;w=this.minorAxis.isVertical()?v?q:A:C;for(c=0;c<r;c++)w.call(this,t[c],S);if(this.isNumeric){var P=4,L,k;p(this._shapes,i);t=m(t);t=g(t,this.bounds.x-P,this.bounds.x+this.bounds.width+P);t=x(t,i);L=_(t);k=y(t);L=D(L);k=D(k);t=k.concat(L)}t.slice().forEach(function(e){if(e.fill&&e.backdrop){t.unshift({opacity:e.opacity||1,type:"roundRect",fill:o,shape:e.backdrop});e.fill=l?a.label.light.color:a.label.dark.color}});this.renderer.shapes=t;this.renderer.render()}function q(t,e){var i,n=this.renderer.getFontHeight(a.label.font);var s=S.apply(this,[t,false,e]);for(var o=0;o<s.length;o++){f(t.shape,s[o].rect);if(n<s[o].rect.height){i=s[o];break}}if(i){var r=i.rect.width-t.data.labelWidth;f(t.shape,i.rect);t.shape.baseline=i.baseline;t.shape.align=i.align;t.labelBounds={x:i.rect.x+Math.min(r/2,4),y:"top"===i.baseline?i.rect.y:i.rect.y+i.rect.height-16,width:Math.max(i.rect.width-Math.min(r,8)),height:16,containingRect:i.inline?t.shape:void 0};if(t.data.isStack&&i.inline&&(t.data.lastRect.height<20||t.data.isFillPattern))t.backdrop={x:t.labelBounds.x,y:t.labelBounds.y,width:t.labelBounds.width,height:t.labelBounds.height,radius:4};else{t.fill=h(i.inline,t.data.color);t.backdrop=false}}else t.fill=false}function A(t,n){var s,a,o,r;var l=S.apply(this,[t,true,n]);r=this.bounds.x+this.bounds.width;s="labelWidth"in t.data?t.data.labelWidth:e.getTextWidth(t.shape.text);for(a=0;a<l.length;a++)if(l[a].rect.height>=s){o=l[a];break}if(!o){l.sort(function(t,e){return.8*e.rect.height-t.rect.height});l[0].rect.height>=8&&(o=l[0])}if(o){var c=new i;c.translate(o.rect.x,o.rect.y+o.rect.height);c.rotate(-Math.PI/2);f(t.shape,{width:o.rect.height,height:o.rect.width,baseline:o.baseline,align:o.align,x:0,y:0});t.transform=c.elements;t.labelBounds={x:o.rect.x+o.rect.width/2-8,y:"right"===o.align?o.rect.y-4:o.rect.y+o.rect.height-s-4,width:16,height:s+8};o.rect.x<0&&o.rect.x+o.rect.width>0&&(t.labelBounds.x=Math.max(t.labelBounds.x,this.bounds.x-4));o.rect.x<r&&o.rect.x+o.rect.width>r&&(t.labelBounds.x=Math.min(t.labelBounds.x,r-t.labelBounds.width));if(t.data.isStack&&o.inline&&(t.data.lastRect.height<s+4||t.data.isFillPattern))t.backdrop={x:t.labelBounds.x,y:t.labelBounds.y,width:t.labelBounds.width,height:t.labelBounds.height,radius:4};else{t.fill=h(o.inline,t.data.color);t.backdrop=false}}else t.fill=false}function S(t,e,i){var n,s,a,o,r=e&&t.data.isStack?8:4,l=[];n=t.data.rect.width;s=t.data.rect.height;a=t.data.rect.x;o=t.data.rect.y;if("up"!==t.data.hintDirection&&t.data.value>=0||"down"===t.data.hintDirection){o-this.bounds.y-2*r>4&&l.push({align:e?"left":"center",baseline:e?"middle":"bottom",rect:{x:a-.5*(i-n),y:this.bounds.y+r,width:i,height:o-this.bounds.y-2*r}});if(t.data.labelRect){n=t.data.labelRect.width;s=t.data.labelRect.height;a=t.data.labelRect.x;o=t.data.labelRect.y}t.data.hintDirection||l.push({align:e?"right":"center",baseline:e?"middle":"top",inline:true,rect:{x:a,y:o+r,width:n,height:s-2*r}})}else{this.bounds.height-o-s-2*r>0&&l.push({align:e?"right":"center",baseline:e?"middle":"top",rect:{x:a-.5*(i-n),y:o+s+r,width:i,height:this.bounds.height-o-s-2*r}});if(t.data.labelRect){n=t.data.labelRect.width;s=t.data.labelRect.height;a=t.data.labelRect.x;o=t.data.labelRect.y}t.data.hintDirection||l.push({align:e?"left":"center",baseline:e?"middle":"bottom",inline:true,rect:{x:a,y:o+r,width:n,height:s-2*r}})}return l}function C(t,i){var n,s,a,o;a=w.apply(this,[t,i]);n="labelWidth"in t.data?t.data.labelWidth:e.getTextWidth(t.shape.text);for(s=0;s<a.length;s++)if(a[s].rect.width>=n){o=a[s];break}if(!o&&a.length){a.sort(function(t,e){return.8*e.rect.width-t.rect.width});a[0].rect.width>=8&&(o=a[0])}if(o){t.shape.baseline="middle";t.shape.align=o.align;f(t.shape,o.rect);t.labelBounds={x:("right"===o.align?o.rect.x+o.rect.width-n:o.rect.x)-4,y:o.rect.y+o.rect.height/2-8,width:n+8,height:16};if(t.data.isStack&&o.inline&&(t.data.lastRect.width<n+8||t.data.isFillPattern))t.backdrop={x:t.labelBounds.x,y:t.labelBounds.y,width:t.labelBounds.width,height:t.labelBounds.height,radius:4};else{t.fill=h(o.inline,t.data.color);t.backdrop=false}}else t.fill=false}function w(t){var e,i,n,s,a=t.data.isStack?8:4,o=[];e=t.data.rect.width;i=t.data.rect.height;n=t.data.rect.x;s=t.data.rect.y;if("right"!==t.data.hintDirection&&(this.yMirrorMode?t.data.value<0:t.data.value>=0)||"left"===t.data.hintDirection){this.bounds.width-n-e-2*a>0&&o.push({align:"left",rect:{x:n+e+a,y:s,width:this.bounds.width-n-e-2*a,height:i}});if(t.data.labelRect){e=t.data.labelRect.width;i=t.data.labelRect.height;n=t.data.labelRect.x;s=t.data.labelRect.y}t.data.hintDirection||o.push({align:"right",inline:true,rect:{x:n+a,y:s,width:e-2*a,height:i}})}else{n-this.bounds.x-2*a&&o.push({align:"right",rect:{x:this.bounds.x+a,y:s,width:n-this.bounds.x-2*a,height:i}});if(t.data.labelRect){e=t.data.labelRect.width;i=t.data.labelRect.height;n=t.data.labelRect.x;s=t.data.labelRect.y}t.data.hintDirection||o.push({align:"left",inline:true,rect:{x:n+a,y:s,width:e-2*a,height:i}})}return o}s=t.extend("LabelLayer",{init:function t(i){this.renderer=new e(i)},setYMirrorMode:function t(e){this.yMirrorMode=e},setData:function t(e){this._data=e},setMeasureIndices:function t(){},setBarData:function t(e){this._barData=e},setShapes:function t(e){this._shapes=e},show:function t(){this.renderer.show()},hide:function t(){this.renderer.hide()},clear:function t(){this.renderer.clear()},release:function t(){this.renderer.release()},render:function t(){a=this.style.dataPoints;r=new n(this.style.backgroundColor);l=r.isDark();o=n.toRGBA(r,.75);M.call(this)}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},1236:function(t,e,i){"use strict";var n,s;!(n=[],s=function(){return{dataPoint:{label:{dark:{color:"#666"},light:{color:"#eee"},font:"11px 'QlikView Sans'"}},shape:{selected:{border:{color:"#333",width:2}},unselected:{opacity:.5},highlighted:{border:{dark:{color:"rgba( 26, 26, 26, 0.75 )"},light:{color:"rgba( 230, 230, 230, 0.75)"},width:1}}}}}.apply(e,n),void 0!==s&&(t.exports=s))},1237:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(90),i(1126),i(1303),i(410),i(1240),i(180),i(1243),i(1306),i(1172),i(512),i(1169),i(1244),i(384),i(104),i(164),i(511),i(89),i(418),i(1245),i(1139),i(281),i(110)],s=function(t,e,i,n,s,a,o,r,l,h,c,u,d,p,f,m,g,v,x,_,y,b,D){var M,q={NONE:0,ONE_DIM:1,TWO_DIM:2};var A=1e-6;function S(t){var e=this.components.scrollArea.getOffset()-t/(this.components.dimensionAxis._discreteSpacing||28);e=e<0?0:e;this.components.scrollArea.setOffset(e)}function C(){if(this._disableZoom)return;var t=this._panZoomController._viewportProjection;var e=this._activeDimAxis.getDataMin();var i=this._activeDimAxis.getDataMax();var n=i-e;var s=this._activeDimAxis.getPlotSize();t.setSize({x:s,y:1});t.setBoundingBox(new f(e,0,i-e,1));this._panZoomController.setOffset(this._panZoomController._$element.offset());var a=this.components.scrollArea.getOffset();var o=this.components.scrollArea.getViewRange();this.yMirrorMode&&(a=n-o-a);var r=t.getTransformMatrix();r.identity();r.scale(s/o,1);r.translate(-a,0);t.setTransformMatrix(r);k(this.selections)}function w(t,e){var i=this.components.scrollArea.getOffset();var n=this.components.scrollArea.getViewRange();var s=Math.abs(t-i)>A||Math.abs(e-n)>A;if(s){this.components.scrollArea.setViewRange(e);this.components.scrollArea.setOffset(t);this.components.scrollArea.fire("offsetChanged")}}function P(){if(this._disableZoom)return;var t=this._panZoomController._viewportProjection;var e=this._activeDimAxis.getPlotSize();var i=this._activeDimAxis.getDataMin();var n=this._activeDimAxis.getDataMax();var s=n-i;var a=t.invTransform({x:0,y:0}).x;var o=t.invTransform({x:e,y:0}).x;var r=Math.min(o-a,s);var l=Math.min(Math.max(a,0),s-r);this.yMirrorMode&&(l=s-r-l);w.call(this,l,r)}function L(){var t=this._activeDimAxis.getDataMin();var e=this._activeDimAxis.getDataMax();w.call(this,0,e-t)}function k(t,e){var i=t&&t.getActiveType();i&&"range.discrete"===i.getActiveMode()&&i.cancel(true);e&&e.clearSelection()}function T(t,e,i,a){var o=[],r=[],l,h;Object.keys(this.components).forEach(function(t){this.components[t]instanceof n||this.components[t].isDimension?o.push(this.components[t]):this.components[t]instanceof s&&!this.components[t].isStacked&&r.push(this.components[t])}.bind(this));l=["top","bottom"].contains(this._activeDimAxis.dock)?"x":"y";h="x"===l?"y":"x";this.selections.types.range.setComponent(l,o);this.tooltips.setComponent(l,o);this.selections.types.range.setComponent(h,r);if(i&&(t>1||e>1)){this.selections.types.range.setComponent(h,[]);"byMeasure"===a?this.selections.types.colorLegend.removeComponent("colorLegend",this.components.colorLegend):this.selections.types.colorLegend.setComponent("colorLegend",this.components.colorLegend)}else this.selections.types.colorLegend.setComponent("colorLegend",this.components.colorLegend)}function I(){if(!this._isPagingTransitionEnabled)return;this.components.measureAxis.setDataRangeTransition(false);this.components.measureAxis.stopListen("endTransition",R,this);this.components.measureAxis.stopListen("startTransition",z,this);clearTimeout(this._pagingTransitionTimer);delete this.components.measureAxis.setDataRange;this._isPagingTransitionEnabled=false}function R(){this.components.refLineLabels&&this.layout();for(var t in this.components)this.components[t].invalidateDisplay("ScrollableChart.onAxisTransitionEnded")}function z(){this._visibleRefLines=this.components.refLineLabels.isVisible()}function N(){if(this._isPagingTransitionEnabled||this.isDimensionContinuous)return;this._isPagingTransitionEnabled=true;var t=this,e=this.components.measureAxis,i=e.setDataRange;e.listen("endTransition",R,this);e.listen("startTransition",z,this);this._pagingTransitionTimer=null;this.components.measureAxis.setDataRange=function(n,s){clearTimeout(t._pagingTransitionTimer);t._pagingTransitionTimer=setTimeout(function(){var a;e.setDataRangeTransition(true);i.apply(e,[n,s]);t.layout();for(a in t.components)t.components[a].invalidateDisplay()},500)}}function H(){var t=this.components.scrollArea,e,i,n=this.yMirrorMode,s=this._scrollableHint,a,o,r,l=[];this._scrollAffordance||(this._scrollAffordance={canIncrease:false,canDecrease:false,yMirrorMode:n});a=t.getOffset();r=t.getViewRange();o=t.fullState.max;i=a>A;e=a+r<o-A;if(i===this._scrollAffordance.canDecrease&&e===this._scrollAffordance.canIncrease&&n===this._scrollAffordance.yMirrorMode)return;this._scrollAffordance.canIncrease=e;this._scrollAffordance.canDecrease=i;this._scrollAffordance.yMirrorMode=n;i&&l.push(t.isVertical()?"up":this.yMirrorMode?"right":"left");e&&l.push(t.isVertical()?"down":this.yMirrorMode?"left":"right");this.yMirrorMode&&l.reverse();s.attr("class",function(t,e){return e.replace(/\bqv-chart-scrollable-\S+/g,"")});s.addClass("qv-chart-scrollable-"+l.join("-"))}function O(){var t=this;this._debounceUpdateHandle={};this._debouncedUpdate=m.debounce(function(){var e=this._activeDimAxis.getPlotMin();var i=this._activeDimAxis.getPlotMax();t.updateFocusedContinuousData(e,i).then(function(){t.partialUpdate(t._data)})},400,this._debounceUpdateHandle);this._changeWatchers.push(u.bindSetter(function(){if(t.isDimensionContinuous){var e=t._activeDimAxis.getDataMin()+t.components.scrollArea.getOffset();var i=e+t.components.scrollArea.getViewRange();t._activeDimAxis.setPlotMin(e);t._activeDimAxis.setPlotMax(i);t._activeDimAxis.invalidateDisplay();t.components.dataArea.invalidateDisplay();t.components.grid.invalidateDisplay();t._debouncedUpdate()}},this.components.scrollArea,"offset"))}function V(t,e,i,n){var s,a;for(var o=0;o<i.length;o++)for(var r=0;r<n.length;r++)if(i[o].qName===n[r].qName){s=n[r].qTicks.filter(function(e){return e.qEnd+1<t});a=n[r].qTicks.filter(function(t){return t.qStart+1>e});i[o].qTicks=s.concat(i[o].qTicks,a);break}}function F(t,e){return t&&e.length>1?b.getDimensionSize(e[1]):p.maxNumberOfLines}M=i.extend("ScrollableChart",{init:function e(i,d,p,m,g){var v=this,x=t.extend(true,{providers:{colorMap:{clazz:c,multiDimScheme:"last"}},components:{refLines:{sortKey:5,show:true,dock:"center",showFlag:o.prototype.ShowFlags.SPARK},dataArea:{sortKey:10,show:true,dock:"center",showFlag:o.prototype.ShowFlags.SPARK},miniChart:{show:true,clazz:l,components:{dimensionAxis:{show:false,clazz:n},measureAxis:{show:false},dataArea:{isMini:true,show:true},continuousAxis:{show:false,clazz:s,dock:"bottom"}}},xAxis:{clazz:n,reductionOrder:10,shrinkToFitThreshold:.85,showFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL},whenHorizontal:{vertical:o.prototype.ShowFlags.SMALL,horizontal:o.prototype.ShowFlags.XSMALL}},titleShowFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.MEDIUM},whenHorizontal:{vertical:o.prototype.ShowFlags.MEDIUM,horizontal:o.prototype.ShowFlags.XSMALL}}},xAxisTitle:{showFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.MEDIUM},whenHorizontal:{vertical:o.prototype.ShowFlags.MEDIUM,horizontal:o.prototype.ShowFlags.XSMALL}},reductionOrder:1},timeAxis:{show:true,isDimension:true,order:1,dock:"bottom",relevantSize:90,reductionOrder:2,clazz:a,showFlag:{whenHorizontal:{vertical:o.prototype.ShowFlags.SMALL,horizontal:o.prototype.ShowFlags.XSMALL},whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL}}},continuousAxis:{show:true,isDimension:true,order:1,dock:"bottom",relevantSize:90,reductionOrder:2,clazz:s,showFlag:{whenHorizontal:{vertical:o.prototype.ShowFlags.SMALL,horizontal:o.prototype.ShowFlags.XSMALL},whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL}}},scrollArea:{sortKey:2,show:true,dock:"bottom",order:2,relevantSize:20,reductionOrder:10.1,showFlag:o.prototype.ShowFlags.XSMALL,clazz:r},refLineLabels:{show:true,dock:"right",order:3,reductionOrder:3,showFlag:{whenVertical:{vertical:o.prototype.ShowFlags.XSMALL,horizontal:o.prototype.ShowFlags.SMALL},whenHorizontal:{vertical:o.prototype.ShowFlags.MEDIUM,horizontal:o.prototype.ShowFlags.XSMALL}},clazz:h}}},p||{});this._super(i,d,x,m,g);this._scrollableHint=t("<div class='qv-chart-scrollable'>").appendTo(this.components.dataArea.container);this._changeWatchers=this._changeWatchers||[];this._pagingInfo=new f(0,0,0,0);this.components.measureAxis=this.components.yAxis;this.components.dimensionAxis=this.components.xAxis;this.components.dimensionAxisTitle=this.components.xAxisTitle;this.components.measureAxisTitle=this.components.yAxisTitle;delete this.components.xAxisTitle;delete this.components.yAxisTitle;delete this.components.xAxis;delete this.components.yAxis;this.components.dimensionAxisTitle.setType("dimension");this.components.dimensionAxisTitle.listen("drill-up",function(t,e,i){v.backendApi.drillUp(e,i)});this.components.dimensionAxisTitle.setModel(i.ext.model);this.components.measureAxisTitle.setType("measure");this.components.measureAxisTitle.setModel(i.ext.model);this.components.scrollArea.listen("scrollStart",function(){k(this.selections,this.tooltips)}.bind(this));this._showLegend=false;this.scrollMultiplicator=1;this.components.dataArea.setMinorAxis(this.components.measureAxis);this.components.dataArea.setMajorAxis(this.components.dimensionAxis);this.components.dataArea.setTimeAxis(this.components.timeAxis);this.components.dataArea.setContinuousAxis(this.components.continuousAxis);this._setActiveDimensionAxis(i.layout);this.components.grid.setAxes(this.components.dimensionAxis,this.components.measureAxis);this.components.dimensionAxis.setMinDiscreteUnitSize(28);this._changeWatchers.push(u.bindProperty(this.components.dataArea,"dimensionTree",this._chartContext,"dimensionTree"));this._changeWatchers.push(u.bindProperty(this.providers.colorMap,"dimensionTree",this._chartContext,"dimensionTree"));this._changeWatchers.push(u.bindSetter(function(){v.isDimensionContinuous||v.components.dimensionAxis.setOffset(v.components.scrollArea.getOffset());v.moreData=v.components.scrollArea.viewState.range<v.components.scrollArea.fullState.max;v.checkScrollToggle()},this.components.scrollArea,"offset"));this._changeWatchers.push(u.bindSetter(function(t){v.isDimensionContinuous||null===t||v.components.scrollArea.setFullRange(t)},this.components.dimensionAxis,"numDiscreteUnits"));this._changeWatchers.push(u.bindSetter(function(t){v.isDimensionContinuous||v.components.scrollArea.setViewRange(v._pagingMode===q.TWO_DIM?t/2:t)},this.components.dimensionAxis,"numDiscreteUnitsInView"));[this.components.timeAxis,this.components.continuousAxis].forEach(function(t){t&&t.listen("rendered",function(){var t=v.selections&&v.selections.getActiveType&&v.selections.getActiveType();if(t&&"range.dimension"===t.getActiveMode()){t.refreshContainer();t.updateRangeProjection();t.updateRangeDisplay()}})});(this.components.timeAxis||this.components.continuousAxis)&&O.call(this,this.components.continuousAxis);this._changeWatchers.push(u.bindSetter(function(){false!==v._checkPage&&v.checkPage();H.call(v)},this.components.dimensionAxis,"offset"));this._scrollController=new _(this.components.dataArea.container,this.container,this.components.scrollArea);this.panStartFn=function(){k(v.selections)};this.panUpdateFn=function(t){var e=v.components.scrollArea.isHorizontal()?"x":"y";v.yMirrorMode&&(t.x=-t.x);S.call(v,t[e])};this.panWheelFn=function(t){k(v.selections);S.call(v,t*v.components.dimensionAxis._discreteSpacing)};this._scrollController.PanStart.bind(this.panStartFn);this._scrollController.PanUpdate.bind(this.panUpdateFn);this._scrollController.PanWheel.bind(this.panWheelFn);this._panZoomController=new y(t(this.components.dataArea.container),{start:function t(){C.call(v)},update:function t(){P.call(v)},end:function t(){P.call(v)},reset:function t(){L.call(v)}});this._panZoomController.setZoomPanByWebkitTransform(false);this.isDimensionContinuous&&this._panZoomController.setMaxZoomLevel(27)},setYMirrorMode:function t(e){this._super(e);this.updateVerticalComponentsDock()},getVerticalComponents:function t(){var e=this._super(),i;if(this._data&&this.components){if(this.components.dimensionAxis&&this.components.dimensionAxis.isVertical()&&this._data.dimensionAxis){e.push({comp:this.components.dimensionAxis,dock:this._data.dimensionAxis.dock});this.components.dimensionAxisTitle&&e.push({comp:this.components.dimensionAxisTitle,dock:this._data.dimensionAxis.dock})}if(this.components.measureAxis&&this.components.measureAxis.isVertical()&&this._data.measureAxis){i=this._data.measureAxes&&this._data.measureAxes[0]?this._data.measureAxes[0].dock:this._data.measureAxis.dock;e.push({comp:this.components.measureAxis,dock:i});this.components.measureAxisTitle&&e.push({comp:this.components.measureAxisTitle,dock:i})}this.components.refLineLabels&&this.components.refLineLabels.isVertical()&&this._data.measureAxis&&e.push({comp:this.components.refLineLabels,dock:"far"===this._data.measureAxis.dock?"near":"far"});this.components.scrollArea&&this.components.scrollArea.isVertical()&&e.push({comp:this.components.scrollArea,dock:"far"})}return e},initSelections:function t(){this.selections._disableSelections=this.options._disableSelections;this.selections.types.dataArea.setComponent("dataArea",this.components.dataArea);this.selections.types.colorLegend.setComponent("colorLegend",this.components.colorLegend);if(!this.options._disableSelections){this.selections.types.range.setComponent("dataArea",this.components.dataArea);this.selections.Activated.bind(this.onSelection.Activated.bind(this));this.selections.Lasso.bind(this.onToggleLasso.bind(this));this.selections.Deactivated.bind(this.onSelection.Deactivated.bind(this));this.selections.SelectRange.bind(this.onSelection.SelectRange.bind(this));this.selections.SelectAttributeDim.bind(this.onSelection.SelectAttributeDim.bind(this));this.selections.ToggleShape.bind(this.onSelection.ToggleShape.bind(this));this.selections.Confirm.bind(this.onSelection.Confirm.bind(this));this.selections.Cancel.bind(this.onSelection.Cancel.bind(this));this.selections.Clear.bind(this.onSelection.Clear.bind(this));this.selections.SelectWhileLocked.bind(this.selectWhileLocked.bind(this));this.selections.SelectWhileSingleSelect.bind(this.selectWhileSingleSelect.bind(this))}},initTooltips:function t(){this.tooltips.setComponent("dataArea",this.components.dataArea)},getSnapshotSize:function t(){var e=0,i=0;if(this.rect){e=this.rect.width;i=this.rect.height}var n=this.getSnapshotChartData();!n.hasMiniChart&&this.components.scrollArea.isVisible()&&(this.components.scrollArea.isVertical()?e-=this.components.scrollArea.rect.width:i-=this.components.scrollArea.rect.height);return{w:e,h:i}},getSnapshotChartData:function e(i){var n=t.extend(true,this._super()||{},{scrollOffset:i&&i.ignoreReducedData?0:this.components.scrollArea.getOffset(),discreteSpacing:this.components.dimensionAxis.getDiscreteSpacing(),axisInnerOffset:i&&i.ignoreReducedData?0:this.components.dimensionAxis.getInnerOffset(),hasMiniChart:this.components.miniChart&&!!this.components.miniChart.isVisible(),viewRange:this.components.scrollArea.getViewRange()});i&&i.ignoreReducedData&&this.components.measureAxis.isStacked&&(n.dataRanges=[{min:this.components.measureAxis.getPlotMin(),max:this.components.measureAxis.getPlotMax()}]);return n},setSnapshotData:function e(i,n){this._super(i,n);var s=v();var a;if(!n||!n.ignoreReducedData){if(this.isDimensionContinuous){i.qHyperCube.qDataPages=this._data.qHyperCube.qDataPages;i.qHyperCube.qAxisData=this._data.qHyperCube.qAxisData}if(this.components.miniChart.isVisible())this.components.miniChart.getReducedDataHypercube().then(function(t){i.reducedHyperCube=t;s.resolve(i)});else{delete i.reducedHyperCube;s.resolve(i)}return s.promise}delete i.reducedHyperCube;if(this.isDimensionContinuous){a=i.qHyperCube;a.qDataPages=[t.extend(true,{},this._data.qHyperCube.qDataPages[0])];this._upperFocusIndex?a.qDataPages[0].qMatrix=a.qDataPages[0].qMatrix.slice(this._lowerFocusIndex,this._upperFocusIndex+1):a.qDataPages[0].qMatrix=a.qDataPages[0].qMatrix;a.qAxisData=this._cachedFocusAxisData;a.qDimensionInfo[0].qMin=this._activeDimAxis.getPlotMin();a.qDimensionInfo[0].qMax=this._activeDimAxis.getPlotMax();s.resolve(i);return s.promise}function o(){var t=this.components.scrollArea;var e=t.getOffset()/this.scrollMultiplicator,n=Math.round(e),s=this.components.dimensionAxis._discreteSpacing,a=t.getViewRange()/this.scrollMultiplicator,o=Math.round(a-(n-e)),r=Math.min(8,s/2),l=this._pagingInfo.y;Number.isNaN(+o)&&(o=10);if(this._data.barGrouping&&"grouped"===this._data.barGrouping.grouping&&this._data.qHyperCube.qMeasureInfo.length>1){n=Math.floor(e);o=Math.ceil(a-(n-e));i.snapshotData.content.chartData.scrollOffset=t.getOffset()%this.scrollMultiplicator;var h=(Math.ceil(e)-e)*s*this.scrollMultiplicator-s/2;n=h<r?Math.ceil(e):Math.floor(e);o=Math.round(e+a);var c=e+a;var u=(c-Math.floor(c))*s*this.scrollMultiplicator-s/2;c=u<r?Math.floor(c):Math.ceil(c);o=c-n}else if(this._data.barGrouping&&"grouped"===this._data.barGrouping.grouping&&this._data.qHyperCube.qDimensionInfo.length>1){var d=this.components.dataArea._tree;n=Math.max(Math.round(e-.5),l);o=Math.round(this.components.dimensionAxis.getNumDiscreteUnitsInView()-(n-(e-.5)));if(d){var p=0,f=0,m=0,g=l,v;if(l!==n){for(p=0;p<d.children.length&&g<n;p++,g++){v=d.children[p];for(f=0;f<v.children.length&&g<n;f++,++g)m++}n=l+m;p=Math.max(0,p-1);f=Math.max(0,f-1)}m=0;g=0;for(;p<d.children.length&&g<o;p++,g++){v=d.children[p];for(f;f<v.children.length&&g<o;f++,++g)m++;f=0}o=m}else o*=2}return{qTop:n,qLeft:0,qWidth:this._data.qHyperCube.qSize.qcx,qHeight:o||0}}a=i.qHyperCube;this.providers.colorMap&&this.providers.colorMap.getColorDataInfo()&&(i.color.persistent=!!this.providers.colorMap.getColorDataInfo().persistentColors);if("K"===a.qMode){var r=new x;r.store(a.qStackedDataPages);var l=r.get([o.call(this)]);a.qSize.qcy=l[0].qArea.qHeight;if(l[0]&&l[0].qData[0]){l[0].qData[0].qDown=0;l[0].qData[0].qUp=0}a.qStackedDataPages=l;s.resolve(i)}else this.backendApi.getData([o.call(this)]).then(function(t){"S"===a.qMode?a.qDataPages=t:a.qStackedDataPages=t;a.qSize.qcy=t[0].qArea.qHeight;if(a.qDimensionInfo[0].qStateCounts){a.qDimensionInfo[0].qStateCounts.qOption=a.qSize.qcy;a.qDimensionInfo[0].qStateCounts.qSelected=0}s.resolve(i)});return s.promise},getViewState:function e(){return t.extend(true,this._super()||{},{scrollOffset:this.components.scrollArea.getOffset(),axisInnerOffset:this.components.dimensionAxis.getInnerOffset(),viewRange:this.components.scrollArea.getViewRange()})},checkPage:function t(e){if(!this.isValid(this._data)||!this._pagingMode)return false;var i=this.components.scrollArea;var n=Math.floor(i.getOffset()/this.scrollMultiplicator),s=this._pagingInfo.y,a=this._pagingInfo.height,o=this._pagingMode===q.TWO_DIM?0:20,r=Math.ceil(i.getViewRange()/this.scrollMultiplicator);Number.isNaN(+r)&&(r=500);this._pagingMode===q.TWO_DIM&&(r*=2);if(n+r>s+a||Math.max(0,n)<s)return this.pageData(Math.floor(Math.max(0,n-o)),r+2*o,e)},pageData:function t(e,i,n){if("function"!==typeof this.backendApi.getReducedData)return false;var s=v();if(this._data.qHyperCube){var a=this,o;o="K"===this._data.qHyperCube.qMode?this._data.qHyperCube.qStackedDataPages[0]&&this._data.qHyperCube.qStackedDataPages[0].qData&&this._data.qHyperCube.qStackedDataPages[0].qData.length>0:this._data.qHyperCube.qDataPages[0]&&this._data.qHyperCube.qDataPages[0].qMatrix.length>0;if(i<=0){"S"===a._data.qHyperCube.qMode?a._data.qHyperCube.qDataPages=[]:a._data.qHyperCube.qStackedDataPages=[];a._pagingInfo.set(e,0,this._data.qHyperCube.qSize.qcx,i)}else this.backendApi.getData([{qTop:e,qLeft:0,qWidth:this._data.qHyperCube.qSize.qcx,qHeight:i}]).then(function(t){if("S"===a._data.qHyperCube.qMode){a._data.qHyperCube.qDataPages=t;var r=t[0].qArea;a._pagingInfo.set(r.qLeft,r.qTop,r.qWidth,r.qHeight)}else{a._data.qHyperCube.qStackedDataPages=t;a._pagingInfo.set(0,e,a._data.qHyperCube.qSize.qcx,i)}if(n||!o){a._chartContext.refresh(a._data);a.paint(a._data).then(function(){s.resolve()})}else a.partialUpdate(a._data).then(function(){s.resolve()})}).catch(function(t){false})}else s.resolve();return s.promise},partialUpdate:function t(e){var i,n,s,a,o=[];N.call(this);n=e.qHyperCube.qStackedDataPages.length>0?this._pagingInfo.y:e.qHyperCube.qDataPages[0].qArea.qTop;this.components.dimensionAxis.setInnerOffset(n*this.scrollMultiplicator);return this.providers.colorMap.setData(e).then(function(){this._chartContext.refresh(e);for(i in this.components)"miniChart"!==i&&i.indexOf("AxisTitle")<0&&this.components[i].invalidateProperties("ScrollableChart.partialUpdate");this.components.dataArea.updateNow(["properties"]);s=this.components.dataArea.getMajorAxisData();a=this.components.dataArea.getMinorAxisData();!a||this._readStoredData&&this.getSnapshotStoredChartData().dataRanges||this.components.measureAxis.setDataRange(a.min,a.max);this.components.dimensionAxis.setDataRange(s.data,s.info);this.components.dimensionAxis.updateLevels();this.components.colorLegend.invalidateProperties("ScrollableChart.partialUpdate");this.components.colorLegend.updateNow(["properties"]);this.isDimensionContinuous&&this.layout();o.push(this.components.colorLegend.invalidateDisplay("ScrollableChart.partialUpdate"));o.push(this.components.dataArea.invalidateDisplay("ScrollableChart.partialUpdate"));if(this.isDimensionContinuous){o.push(this.components.timeAxis.invalidateDisplay("ScrollableChart.partialUpdate"));o.push(this.components.continuousAxis.invalidateDisplay("ScrollableChart.partialUpdate"));o.push(this.components.measureAxis.invalidateDisplay("ScrollableChart.partialUpdate"))}else o.push(this.components.dimensionAxis.invalidateDisplay("ScrollableChart.partialUpdate"));return v.all(o)}.bind(this))},getApproriateNrOfBins:function t(e,i){var n=4,s=e.qHyperCube.qMeasureInfo.length,a=s||1,o=n+2*(a-1);if(i)return Math.ceil(p.maxNumberOfDataPoints);if(e.qHyperCube.qDimensionInfo.length>1){a=Math.max(1,Math.min(p.maxNumberOfLines,b.getDimensionSize(e.qHyperCube.qDimensionInfo[1])));o=4}return Math.ceil(p.maxNumberOfDataPoints/(a*o))},getHyperCubeContinousData:function t(e){if(e.qStart>e.qEnd||Number.isNaN(+e.qStart)||Number.isNaN(+e.qEnd))return v.resolve({qAxisData:{qAxis:[]},qDataPages:[{qMatrix:[],qTails:false,qArea:{qLeft:0,qTop:0,qRight:0,qBottom:0}}]});var i=this;return this.backendApi.getHyperCubeContinousData(e,false).then(function(t){if(i.cancelPromises)return v.reject();return t})},getFullContinousData:function t(i,n,s){var a=i.qHyperCube.qSize.qcy*i.qHyperCube.qMeasureInfo.length,o=a<p.maxNumberOfDataPoints,r=i.qHyperCube.qDimensionInfo,l=F(o,r);return this.getHyperCubeContinousData({qStart:n,qEnd:s,qNbrPoints:this.getApproriateNrOfBins(i,o),qMaxNbrTicks:300,qMaxNumberLines:l}).then(function(t){this._cachedContinousMatrix=t.qDataPages[0].qMatrix;i.qHyperCube.qDimensionInfo[0].qIsCyclic||(this._cachedContinousAxisData=t.qAxisData);this._cachedFocusAxisData=e.extend(true,{},t.qAxisData);this._lowerFocusIndex=null;this._upperFocusIndex=null;return t}.bind(this)).catch(function(t){t.code===D.LocalizedErrorCode.LOCERR_GENERIC_INVALID_PARAMETERS&&"Start and End are outside data range"===t.parameter&&(t.isHandled=true);throw t})},getFocusedContinousData:function t(i,n,s){var a=s.qHyperCube.qSize.qcy*s.qHyperCube.qMeasureInfo.length,o=a<p.maxNumberOfDataPoints,r=s.qHyperCube.qDimensionInfo,l=F(o,r);return this.getHyperCubeContinousData({qStart:i,qEnd:n,qNbrPoints:this.getApproriateNrOfBins(s,o),qMaxNbrTicks:300,qMaxNumberLines:l}).then(function(t){if(this._cachedContinousMatrix&&!this._readStoredData){if(t.qDataPages[0]&&t.qDataPages[0].qMatrix.length){i=Math.min(i,t.qDataPages[0].qMatrix[0][0].qNum);n=Math.max(n,t.qDataPages[0].qMatrix[t.qDataPages[0].qMatrix.length-1][0].qNum)}var s=this._cachedContinousMatrix.filter(function(t){return t[0].qNum<i});var a=this._cachedContinousMatrix.filter(function(t){return t[0].qNum>n});t.qDataPages[0].qMatrix=s.concat(t.qDataPages[0].qMatrix,a);var o=d.getFocusRange(t.qDataPages[0].qMatrix,s.length,a.length,this._data.qHyperCube.qDimensionInfo.length);this._lowerFocusIndex=o.lower;this._upperFocusIndex=o.upper}if(this._cachedContinousAxisData&&!this._readStoredData){this._cachedFocusAxisData=e.extend(true,{},t.qAxisData);V(i,n,t.qAxisData.qAxis,this._cachedContinousAxisData.qAxis)}return t}.bind(this))},updateFocusedContinuousData:function t(e,i){var n=this;var s=this._data;return this.getFocusedContinousData(e,i,s).then(function(t){s.qHyperCube.qDataPages=t.qDataPages;s.qHyperCube.qAxisData=t.qAxisData;var e=0===s.qHyperCube.qDataPages[0].qMatrix.length;n._activeDimAxis.setLabels(e?[]:s.qHyperCube.qAxisData.qAxis);var i=n._activeDimAxis.getUseTransition();n._activeDimAxis.setUseTransition(false);n._activeDimAxis.updateSize();n._activeDimAxis.setUseTransition(i)})},_preUpdateData:function e(i){var n=this;var s=this._super;var a=d.getFullContinuousRange(i);var o=a.min;var r=a.max;return n.isDimensionContinuous?n.getFullContinousData(i,o,r).then(function(e){if(!n.isDimensionContinuous)return i;i=d.addContinuousDataToLayout(i,e);n._activeDimAxis.setDataRange(o,r);n.components.scrollArea.setFullRange(r-o);n.components.scrollArea.setViewRange(r-o);n._activeDimAxis.setPlotMin(o);n._activeDimAxis.setPlotMax(r);m.cancelDebounce(n._debounceUpdateHandle);return s.call(n,i).then(function(e){var i=t.extend(true,{},e);n.components.miniChart.setData(i,true);return e})}):this._super(i)},_updateData:function t(e){this._super.apply(this,[].slice.call(arguments));this._pagingInfo.set(0,0,0,0);if(this.isValid(e)){var i,n=e.qHyperCube.qStackedDataPages[e.qHyperCube.qStackedDataPages.length-1];i=n&&n.qData?n.qData.length?{qLeft:0,qTop:0,qWidth:e.qHyperCube.qSize.qcx,qHeight:n.qData[0].qSubNodes.length}:n.qArea:e.qHyperCube.qDataPages[0].qArea;this._pagingInfo.set(i.qLeft,i.qTop,i.qWidth,i.qHeight);this.components.dimensionAxis.setInnerOffset(i.qTop*this.scrollMultiplicator)}},updateGrid:function t(e,i){this._super(e,i);this.components.grid.setAxes(this._activeDimAxis,this.components.measureAxis)},_setActiveDimensionAxis:function t(e){var i=this.isDimensionContinuous,n=p.isTimeDimension(i,e.qHyperCube.qDimensionInfo[0]),s;if(n){this._activeDimAxis=this.components.timeAxis;s="continuousAxis"}else if(i){this._activeDimAxis=this.components.continuousAxis;s="continuousAxis"}else{this._activeDimAxis=this.components.dimensionAxis;s="dimensionAxis"}this.components.miniChart&&this.components.miniChart.setActiveDimensionAxis(s);this.components.dataArea&&this.components.dataArea.setActiveDimensionAxis(this._activeDimAxis)},updateAxis:function t(e){this._super.apply(this,[].slice.call(arguments));this._readStoredData&&this.options.hideChartScrollWithoutMiniChart&&!this.components.scrollArea.getUseMiniChart()?this.components.scrollArea.hideComponent():this.components.scrollArea.showComponent();if(this.selections){var i="S"!==e.qHyperCube.qMode||this.isDimensionContinuous&&e.qHyperCube.qDimensionInfo.length>1;T.apply(this,[e.qHyperCube.qDimensionInfo.length,e.qHyperCube.qMeasureInfo.length,i,e.color?e.color.mode:null])}this.tooltips&&this.tooltips.setComponent(["top","bottom"].contains(this.components.dimensionAxis.dock)?"y":"x",this.components.dimensionAxis);this._updateMinDiscreteUnitSize(this.components.dimensionAxis)},shouldShowMiniChart:function t(){return b.getDimensionSize(this._data.qHyperCube.qDimensionInfo[0])>1&&false!==this._data.showMiniChartForContinuousAxis},shouldDisableZoom:function t(){return b.getDimensionSize(this._data.qHyperCube.qDimensionInfo[0])<=1},updateTimeAxis:function t(){if(this.isDimensionContinuous){this._disableZoom=this.shouldDisableZoom();if(p.isTimeDimension(true,this._data.qHyperCube.qDimensionInfo[0])){this.components.timeAxis.showComponent();this.components.continuousAxis.hideComponent();this.components.timeAxis.setLabels(this._data.qHyperCube.qAxisData?this._data.qHyperCube.qAxisData.qAxis:null)}else{this.components.continuousAxis.showComponent();this.components.timeAxis.hideComponent()}p.hasTimeTag(this._data.qHyperCube.qDimensionInfo[0])?this._activeDimAxis.dimensionFormatter=new g(this.backendApi.localeInfo,this.backendApi.localeInfo.qDateFmt,null,null,"TS"):this._activeDimAxis.dimensionFormatter=this.chartFormatter.getFormattersForMeasures(this._data.qHyperCube.qDimensionInfo,[0])[0];this.shouldShowMiniChart()?this.components.scrollArea.showComponent():this.components.scrollArea.hideComponent();this.components.dimensionAxis.hideComponent()}else{this.components.dimensionAxis.showComponent();this.components.dimensionAxis.setOffset(this.components.scrollArea.getOffset());this.components.timeAxis.hideComponent();this.components.continuousAxis.hideComponent()}},_disablePagingTransitions:function t(){I.call(this)},_enablePagingTransitions:function t(){N.call(this)},_postResize:function t(){this._super();if(!this.components.dimensionAxis)return;this._updateMinDiscreteUnitSize(this.components.dimensionAxis)},_updateMinDiscreteUnitSize:function t(e){var i=this._data.qHyperCube.qSize.qcy,n=this._data.qHyperCube,s="S"===n.qMode?"qDataPages":"qStackedDataPages",a=n[s]&&n[s][0]?n[s][0].qArea.qHeight:0;if(a>=i&&false===this.options.components.scrollArea.show){e.setMinDiscreteUnitSize(null);return}!e.isVisible(this._layoutMode)||"title"===this._data.dimensionAxis.show||"all"===this._data.dimensionAxis.show&&"none"===this._data.dimensionAxis.label?this._layoutMode===o.prototype.ShowFlags.SPARK?e.setMinDiscreteUnitSize(7):e.setMinDiscreteUnitSize(20):e.setMinDiscreteUnitSize(28)},layout:function t(){var e;if(false===this.options.components.scrollArea.show){var i=this.components.dimensionAxis;i._hideMyLabels=false;e=function t(){if(i._discreteSpacing*(i._groupSize||1)<20){i._hideMyLabels=true;return true}}}this._super(this.components.dimensionAxis.isVertical()?"vertical":"horizontal",e);H.call(this)},setIsDimensionContinuous:function t(e){if(this.isDimensionContinuous===e)return;this.isDimensionContinuous=e;this.components.scrollArea.setAllowResize(e);this.checkScrollToggle()},checkScrollToggle:function t(){if(this._navigation&&this._on)if(this.isDimensionContinuous){this._scrollController.off();this._panZoomController.on()}else{this._panZoomController.off();this.moreData?this._scrollController.on():this._scrollController.off()}},on:function t(){if(this._on)return;this._super();this.checkScrollToggle()},off:function t(){if(!this._on)return;if(this._navigation){this._scrollController.off();this._panZoomController.off()}this._super()},destroy:function t(){this._super();this.cancelPromises=true;this._disablePagingTransitions();this.components.scrollArea.stopListen("scrollStart");this.components.dimensionAxisTitle.stopListen("drill-up");this._panZoomController.release();this.components.timeAxis&&this.components.timeAxis.stopListen("rendered");this.components.continuousAxis&&this.components.continuousAxis.stopListen("rendered");this._scrollController.PanStart.unbind(this.panStartFn);this._scrollController.PanUpdate.unbind(this.panUpdateFn);this._scrollController.PanWheel.unbind(this.panWheelFn)}});return M}.apply(e,n),void 0!==s&&(t.exports=s))},1240:function(t,e,i){"use strict";var n,s;!(n=[i(410),i(1241),i(90),i(1034)],s=function(t,e,i,n){var s,a=1,o=30,r=150,l=5,h=80,c=60,u={YEAR:1,DATE:2,MINUTE:3,SECOND:4};function d(){var t=this._scale.getValues(),e=t.secondaryValues,i=t.secondaryDates,n=[],s;for(s=0;s<e.length;s++)n.push({position:0,value:e[s],opacity:1,label:e[s]});var a=this._getLabels(n,true);a.labelsBetweenTicks=true;a.align=this.yMirrorMode?"right":"left";a.dates=i;this._levels.splice(1);this._levels.unshift(a)}function p(t,e,i,n){var s=i.length*n,a=0,l=t._formatter,h=t._renderer,c=t._style.label.font,u=0;for(var d=0;d<i.length;d++){if(e[d]<o)a++;else if(e[d]<r&&l){u=h.getTextWidth(l.formatValue(i[d]),c);u>e[d]-2*t._labelPadding&&a++}if(a>s)return false}return true}function f(t,e){var i;for(i=0;i<t.length;++i){var s=t[i];var a=p(e,s.widths,s.labels,.1);if(a)break;var o=1.1;var r=s.widths.map(function(t){return t*o});var c=p(e,r,s.labels,.1);if(c){++i;break}}e.indicators=i>0&&i<t.length?t[i-1]:null;if(e.indicators){var u=n.getAvgTickWidth(e.indicators.positions)||e._plotSize;var d=n.getAvgTickWidth(t[i].positions)||e._plotSize;u<l||d<h?e.indicators=null:e._snapTicksAvgWidth=u}return t.slice(i,i+2)}function m(t,e){var i=t.map(function(t){var i=t.qTicks,s=[],o=[],r=[],l=[],h=[],c=[],u,d,p=true;i.forEach(function(t){u=t.qStart;s.push(u);l.push(e.isLabelSelected(t.qStart,t.qEnd)?1:e._globalAlpha);h.push(t.qText);c.push(t.qualifiedText);d=e.getPositionOfValue(u);o.push(Math.abs(d-e.getPositionOfValue(t.qEnd)));d=n.roundToHalf(d);r.push(d);t.qStart!==t.qEnd-1&&(p=false)});if(i.length>0){u=i[i.length-1].qEnd;s.push(u);d=e.getPositionOfValue(u);d=n.roundToHalf(d);r.push(d)}return{align:e.yMirrorMode?"right":"left",labelsBetweenTicks:true,values:s,widths:o,positions:r,opacities:l,labels:h,qualifiedLabels:c[0]?c:null,labelMode:a,labelSpace:e._wantedLabelSpacePerLevel,dayLevel:p,rangeLabels:true,explicitLabels:true}});i=f(i,e);return i}function g(t){var e,i,n=[],s,a,o;for(e=0;e<t.length;e++){a=t[e].qTicks;for(i=0;i<t.length;i++){o=t[i].qTicks;if(e===i||!a[0]||!o[0]||"string"===typeof a[0].qualifiedText||"string"===typeof o[0].qualifiedText)continue;if(a.length===o.length){s=a.every(function(t,e){return t.qStart===o[e].qStart&&t.qEnd===o[e].qEnd});if(s)if(t[e].qTags.contains("$qualified")){o.forEach(function(t,e){t.qualifiedText=a[e].qText});n.push(e)}else{a.forEach(function(t,e){t.qualifiedText=o[e].qText});n.push(i)}}}}n.sort(function(t,e){return e-t});n.forEach(function(e){t.splice(e,1)})}function v(){for(var t=0;t<this._levels.length;++t){var e=this._levels[t];for(var i=0;i<e.values.length;++i){var s=e.values[i];var a=this.getPositionOfValue(s);e.positions[i]=n.roundToHalf(a);if(i<e.values.length-1){var o=this.isLabelSelected(s,e.values[i+1]);e.opacities[i]=o?1:this._globalAlpha}}}}function x(){if(!this._formatter.localeInfo)return;this._levelFormattingPatterns=[];this._labelGranularity===u.YEAR?this._levelFormattingPatterns.push("YYYY"):this._labelGranularity===u.DATE?this._levelFormattingPatterns.push(this._formatter.localeInfo.qDateFmt):this._labelGranularity===u.MINUTE?this._levelFormattingPatterns.push(this._timeformatPatterns.minuteLevel):this._labelGranularity===u.SECOND&&this._levelFormattingPatterns.push(this._timeformatPatterns.secondLevel);this._levelFormattingPatterns.push(this._formatter.localeInfo.qDateFmt)}function _(t,e){var i=e/t,n=3*i*30,s=i/2,a=i/24/60/2;a>this._approxLabelWidths.second?this._labelGranularity=u.SECOND:s>this._approxLabelWidths.minute?this._labelGranularity=u.MINUTE:n>this._approxLabelWidths.date?this._labelGranularity=u.DATE:this._labelGranularity=u.YEAR}s=t.extend("TimeAxis",{init:function t(){this._super.apply(this,[].slice.call(arguments));this._approxLabelWidths={year:c,date:c,minute:c,second:c};this._levelFormattingPatterns=["YYYY","YYYY-mm-yy"];this._labelGranularity=u.YEAR;this._timeformatPatterns={minuteLevel:"hh:mm",secondLevel:"hh:mm:ss"}},_initScales:function t(){this._scale=new e},_generateExplicitLabels:function t(){var e=false;if(this._explicitLabels.length){this._levels=m(this._explicitLabels,this);if(this._levels.length){this._calculationSize/(this._scaleDetails.explicitPlotMax-this._scaleDetails.explicitPlotMin)/2>this._approxLabelWidths.minute&&d.call(this);e=true;if(this._levels.length>1){this._levels[1].qualifiedLabels&&(this._levels[1].labels=this._levels[1].qualifiedLabels);this._levels[1].outOfSyncWithLevelBelow=!this._levels[1].dayLevel&&!this._levels[1].values.every(function(t){return t<this._scale._dataMin||t>this._scale._dataMax||this._levels[0].values.indexOf(t)>-1}.bind(this))}this.ticks=n.getTicks(this._levels[0].values,this._padding,this._plotSize);this.minorTicks=[];if(this._levels.length>1){this.minorTicks=this.ticks.filter(function(t){return-1===this._levels[1].values.indexOf(t.value)},this);this.ticks=this.ticks.filter(function(t){return-1!==this._levels[1].values.indexOf(t.value)},this)}}}return e},calculatePreliminaryLabelSpace:function t(){var e=this._super.apply(this,arguments);e.relevantLabelSize*=2;return e},calculateLabelSpace:function t(){var e=this._super.apply(this,arguments);e.relevantLabelSize*=2;return e},_initLevels:function t(){if(this.useExplicitLabels){v.call(this);this._levels[0].formatPattern=this._levelFormattingPatterns[0]}else{this._levels=[this._getLabels(this.minorTicks,true)];this._levels[0].labelsBetweenTicks=true;this._levels[0].align=this.yMirrorMode?"right":"left";this._levels[0].dates=this._minorTickDates;this._levels[0].formatPattern=this._levelFormattingPatterns[0];if(this.ticks.length){this._levels.push(this._getLabels(this.ticks,true));this._levels[1].labelsBetweenTicks=true;this._levels[1].align=this.yMirrorMode?"right":"left";this._levels[1].dates=this._tickDates;this._levels[1].formatPattern=this._levelFormattingPatterns[1]}}},_calculateScale:function t(e){if(0===e)return;var i=this._scaleDetails,n=Number.isNaN(+i.realDataMin)?i.dataMin:i.realDataMin,s=Number.isNaN(+i.realDataMax)?i.dataMax:i.realDataMax,a=Number.isNaN(+i.explicitPlotMin)||null===i.explicitPlotMin?n:i.explicitPlotMin,o=Number.isNaN(+i.explicitPlotMax)||null===i.explicitPlotMax?s:i.explicitPlotMax,r;r=this.isRadial()?96:Math.max(c,this._getApproximateLabelWidth(a,o,this._levelFormattingPatterns[0])+this._labelPadding);var l=this.isVertical()?4*this._fontHeight:r,h=Math.max(2,e/l/i.tickMultiplier+1);l=e/(h-1);i.usedDataMin=n;i.usedDataMax=s;i.minTickSpacingInPixel=l;i.plotSize=this._plotSize;i.calculationSize="undefined"!==typeof e?e:this._calculationSize;i.fontHeight=this._fontHeight;i.showExplicitMinMax=false;Object.keys(i).forEach(function(t){this._scale["_"+t]=i[t]},this);this._scale.calculateTicks(this._approxLabelWidths,"T"===this._formatter.type)},_generateTickObjects:function t(e,i){this.useExplicitLabels=this._generateExplicitLabels();if(!this.useExplicitLabels){var s=e.getValues();this.ticks=n.getTicks(s.mainValues,this._padding,i);this.minorTicks=n.getTicks(s.secondaryValues,this._padding,i);this._tickDates=s.mainDates;this._minorTickDates=s.secondaryDates}},_updateTickFormatting:function t(e,i){var n,s,a,o;for(n=0;n<e.length;n++)if(!e[n].explicitLabels){a=e[n].dates&&e[n].values.length!==e[n].dates.length;o=i._dateFormatter&&e[n].dates&&e[n].dates.length&&!a;for(s=0;s<e[n].values.length;s++)e[n].labels[s]=o?i._dateFormatter.format(e[n].dates[s],e[n].formatPattern):i.formatValue(e[n].values[s])}},formatValue:function t(e){if(this._discrete||!this._formatter)return e+"";var i="YYYY"===this._levels[0].formatPattern?void 0:this._levels[0].formatPattern;return this._formatter.formatValue(e,i)},setLabels:function t(e){this._explicitLabels=i.extend(true,[],e).reverse();g(this._explicitLabels)},updateFormatter:function t(){this._super();if(!this._formatter.localeInfo)return;var e=/t+/gi.test(this._formatter.localeInfo.qTimestampFmt);this._timeformatPatterns.minuteLevel=e?"h:mm tt":"hh:mm";this._timeformatPatterns.secondLevel=e?"h:mm:ss tt":"hh:mm:ss";var i=41000.2343433;this._approxLabelWidths={year:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,"YYYY"),this._style.label.font)+this._labelPadding+20),date:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,this._formatter.localeInfo.qDateFmt),this._style.label.font)+this._labelPadding+20),minute:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,this._timeformatPatterns.minuteLevel),this._style.label.font)+this._labelPadding+20),second:Math.max(c,this._renderer.getTextWidth(this._formatter.formatValue(i,this._timeformatPatterns.secondLevel),this._style.label.font)+this._labelPadding+20)}},_updateScaleAndTicks:function t(){if(this._scaleDetails.calculationSize){_.call(this,this._scaleDetails.explicitPlotMax-this._scaleDetails.explicitPlotMin,this._scaleDetails.calculationSize);x.call(this)}this._super()}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},1241:function(t,e,i){"use strict";var n,s;!(n=[i(1304),i(1242)],s=function(t,e){var i=t.extend("TimeScale",{init:function t(){this._super.apply(this,arguments);this.mainDates=[];this.secondaryDates=[]},calculateTicks:function t(i,n){var s,a,o,r,l;a=Number.isNaN(+this._realDataMin)?this._dataMin:this._realDataMin;s=e.calculateTicks(this._calculationSize,a,this._explicitPlotMin,this._explicitPlotMax,i,n);this._mergeResult(s);if(0===this.secondaryValues.length&&!Number.isNaN(+this.plotMin)){this.secondaryValues=[this.plotMin];this.secondaryDates=[e.getUnixDate(this.plotMin)]}0===this._tickSpacing&&(this._tickSpacing=1);if(this._showExplicitMinMax){r=this.secondaryValues[0];l=this.secondaryDates[0];this.secondaryValues[0]=s.plotMin;this.secondaryDates[0]=e.getUnixDate(s.plotMin);if(r-s.plotMin>=s.tickSpacing/2){this.secondaryValues.splice(1,0,r);this.secondaryDates.splice(1,0,l)}o=s.mainTickValues[s.mainTickValues.length-1];if(s.plotMax-o<=s.tickSpacing/2){this.secondaryValues[s.mainTickValues.length-1]=s.plotMax;this.secondaryDates[s.secondaryDates.length-1]=e.getUnixDate(s.plotMax)}else{this.secondaryValues.push(s.plotMax);this.secondaryDates.push(e.getUnixDate(s.plotMax))}}},_mergeResult:function t(e){this._tickSpacing=e.tickSpacing;this.plotMin=e.plotMin;this.plotMax=e.plotMax;this.plotRange=this.plotMax-this.plotMin;this.tickMin=e.tickMinValue;this.tickMax=e.tickMaxValue;this.mainValues=e.mainTickValues;this.mainDates=e.mainDates;this.secondaryValues=e.secondaryTickValues;this.secondaryDates=e.secondaryDates},getValues:function t(){return{mainValues:this.mainValues,mainDates:this.mainDates,secondaryValues:this.secondaryValues,secondaryDates:this.secondaryDates}}});return i}.apply(e,n),void 0!==s&&(t.exports=s))},1242:function(t,e,i){"use strict";var n,s;!(n=[],s=function(){var t=25569,e=86400,i=1440;var n={dateToQlikTimestamp:function e(i){return i.getTime()/1e3/86400-i.getTimezoneOffset()/60/24+t},getUnixDate:function t(e){return new Date(1899,11,30+e)},calculateTicks:function t(n,s,a,o,r,l){var h=this.getUnixDate(s),c=h.getFullYear(),u=h.getMonth(),d=h.getDate(),p=a-s,f=o-a,m=n/f,g=m/1440,v=m/e,x=366*m,_=3*m*30,y=r.second/v,b=r.minute/g,D=r.date/_,M=r.year/x,q,A=0,S,C=0,w=null,P=null,L=null,k=null,T=null,I=null,R={plotMin:a,plotMax:o,tickMin:0,tickMax:0,mainTickValues:[],mainDates:[],secondaryTickValues:[],secondaryDates:[]};if(y<1){w=1;C=1/e}else if(y<2){w=2;C=1/e*2}else if(y<5){w=5;C=1/e*5}else if(y<10){w=10;C=1/e*10}else if(y<30){w=30;C=1/e*30}else if(b<1){P=1;C=1/i}else if(b<2){P=2;C=1/i*2}else if(b<5){P=5;C=1/i*5}else if(b<10){P=10;C=1/i*10}else if(b<30){P=30;C=1/i*30}else if(b<60){L=1;C=1/24}else if(b<120){L=2;C=2/24}else if(b<360){L=6;C=.25}else if(b<720){L=12;C=.5}else if(D<1/90){k=1;C=1}else if(D<2/90){k=2;C=2}else if(D<7/90){k=7;C=7}else if(D<31/90){T=1;C=31}else if(D<1){T=3;C=90}else if(M<1){I=1;C=366}else if(M<2){I=2;C=732}else if(M<5){I=5;C=1826.25}else{I=10;C=3652.5}S=Math.floor((p+s%1)/C);while(A<o){q=I?new Date(c+S*I,0,1):T?new Date(c,u+S*T,1):k?new Date(c,u,d+S*k):L?new Date(c,u,d,0+S*L):P?new Date(c,u,d,0,0+S*P):new Date(c,u,d,0,0,0+S*w);A=this.dateToQlikTimestamp(q);R.secondaryDates.push(q);R.secondaryTickValues.push(A);var z=Math.floor(A);if(!l&&!I&&!T&&!k&&R.mainTickValues[R.mainTickValues.length-1]!==z){R.mainDates.push(this.getUnixDate(z));R.mainTickValues.push(z)}S++}R.tickSpacing=C;R.tickMinValue=R.secondaryTickValues[0];R.tickMaxValue=R.secondaryTickValues[R.secondaryTickValues.length-1];return R}};return n}.apply(e,n),void 0!==s&&(t.exports=s))},1243:function(t,e,i){"use strict";var n,s;!(n=[i(180),i(104),i(11),i(96),i(109),i(100)],s=function(t,e,i,n,s,a){var o,r=".scrollarea";function l(t){var i=this,n=this.isVertical(),s,a={size:n?"height":"width",pos:n?"y":"x",coord:n?"pageY":"pageX"},o=new e(0,0,0,0),r=i._$renderAreaWrap.offset(),l,h;o.x=r.left;o.y=r.top;o.width=i._$renderAreaWrap.width();o.height=i._$renderAreaWrap.height();this.fire("scrollStart");h=i.scrollRect[a.size]*o[a.size];l=t.points[0][a.pos]-o[a.pos];this.yMirrorMode&&!n&&(l=o.width-l);s=l-h/2;i.scrollRect[a.pos]=Math.max(0,Math.min(o[a.size]*(1-i.scrollRect[a.size]),s))/o[a.size];i.setOffset(i.scrollRect[a.pos]*i.fullState.max)}function h(t){var i=this,n=this.isVertical(),s={size:n?"height":"width",pos:n?"y":"x",coord:n?"pageY":"pageX"},a=this.yMirrorMode&&!n,o=i._$renderAreaWrap.offset();this._containerRect=new e(0,0,0,0);this._containerRect.x=o.left;this._containerRect.y=o.top;this._containerRect.width=i._$renderAreaWrap.width();this._containerRect.height=i._$renderAreaWrap.height();i.scrollRect[s.size]=i.viewState.range/i.fullState.max;this._rp=t.points[0][s.pos]-this._containerRect[s.pos]-i.scrollRect[s.pos]*this._containerRect[s.size];a&&(this._rp=i.scrollRect[s.size]*this._containerRect[s.size]-this._rp);i.startScrollPos=i.scrollRect[s.pos];i.startScrollSize=i.scrollRect[s.size];if(this._rp<0){i.scrollRect[s.pos]=Math.max(0,i.scrollRect[s.pos]-this._rp/this._containerRect[s.size]);this._rp=0}else if(this._rp/this._containerRect[s.size]>i.scrollRect[s.size]){i.scrollRect[s.pos]=Math.min(1,this._rp/this._containerRect[s.size])-i.scrollRect[s.size];this._rp=i.scrollRect[s.size]*this._containerRect[s.size]}this.fire("scrollStart")}function c(t){var e=this,i=this.options,n=this.isVertical(),s="function"===typeof i.onScroll?i.onScroll:function(){},a={size:n?"height":"width",pos:n?"y":"x",coord:n?"pageY":"pageX"},o=t.points[0][a.pos]-this._containerRect[a.pos],r=this.yMirrorMode&&!n,l=1e-5;if(this.allowResize){var h=(o-this._rp)/this._containerRect[a.size]-e.startScrollPos;var c=e.startScrollPos;var u=c+e.startScrollSize;if(/start/.test(t.relatedTarget.className)){t.relatedTarget.classList.add("active");c=Math.max(0,Math.min(u-l,c+h))}else if(/end/.test(t.relatedTarget.className)){t.relatedTarget.classList.add("active");u=Math.min(1,Math.max(c+l,u+h))}else{c=Math.min(1-e.startScrollSize,Math.max(0,c+h));u=Math.min(1,Math.max(0+e.startScrollSize,u+h))}e.setViewRange((u-c)*e.fullState.max);r?e.setOffset((1-u)*e.fullState.max):e.setOffset(c*e.fullState.max);e.fire("offsetChanged")}else{r&&(o=this.rect.width-o);e.scrollRect[a.pos]=Math.max(0,Math.min(this._containerRect[a.size]*(1-e.scrollRect[a.size]),o-this._rp))/this._containerRect[a.size];e.setOffset(e.scrollRect[a.pos]*e.fullState.max)}s()}function u(){if(!this.miniChart)return;var t=this;n(this.miniChart.container).tap({id:r,end:function e(i,n){l.call(t,n)}});n(this.miniChart.container).swipe({id:r,options:{radiusThreshold:1},start:function e(i,n){h.call(t,n)},update:function e(i,n){c.call(t,n)},end:function t(e,i){i.relatedTarget.classList.remove("active")}})}function d(){if(!this.miniChart)return;i(this.miniChart.container).off(r);n(this.miniChart.container).off("*",r)}function p(){this.miniChart&&(this._internalUseMiniChart?this.miniChart.showComponent():this.miniChart.hideComponent())}function f(t,e){var i=this.viewState.min;var n=this._relativeOffset?this._explicitOffset*(this.fullState.max-this.viewState.range):this._explicitOffset||0;this.viewState.min=Math.max(0,Math.min(n||0,(this.fullState.max||0)-(this.viewState.range||0)));if(this.viewState.min!==i){this.invalidateDisplay(t);e&&this.fire("offsetChanged")}}function m(t,e,i){var n=Array.isArray(t)?t:[t];n.forEach(function(t){i.forEach(function(e){t.style[e]=""});t.className=e})}o=t.extend("ScrollArea",{init:function t(){this._super.apply(this,Array.prototype.slice.call(arguments));this._useMiniChart=true;this._internalUseMiniChart=true;this._miniChartThreshold=.5;this._miniChartMinimunNumberOfBars=3;this.scrollRect=new e(0,0,0,0);this.fullState={min:0,max:20};this.viewState={min:0,range:10};this.allowResize=false;this._$renderAreaWrap.addClass("qv-chart-component-scroll-area");this.before=document.createElement("div");this.bar=document.createElement("div");this.after=document.createElement("div");this.before.style.position="absolute";this.bar.style.position="absolute";this.after.style.position="absolute";this.before.style.backgroundColor="rgba(0,0,0,0.1)";this.after.style.backgroundColor="rgba(0,0,0,0.1)";this.bar.style.marginTop="-1px";i(this.before).attr("tid","component.scrollArea.before");i(this.bar).attr("tid","component.scrollArea.bar");i(this.after).attr("tid","component.scrollArea.after");i(this.bar).append('<div class="q-resize-handle q-resize-handle-start">');i(this.bar).append('<div class="q-resize-handle q-resize-handle-end">');this.container.appendChild(this.before);this.container.appendChild(this.after);this.container.appendChild(this.bar);this._styleService=a.initializeService("object."+this.options.parentType);this.before.style.backgroundColor=this._styleService.getStyle("","color");this.after.style.backgroundColor=this._styleService.getStyle("","color");this.before.style.opacity=.1;this.after.style.opacity=.1},on:function t(){var e=this;this._super();n(this.container).tap({id:r,end:function t(i,n){l.call(e,n)}});n(this.container).swipe({id:r,options:{radiusThreshold:1},start:function t(i,n){h.call(e,n)},update:function t(i,n){c.call(e,n)},end:function t(e,i){i.relatedTarget.classList.remove("active")}});u.call(this);this._on&&this.allowResize&&this.container.classList.add("q-allow-resize")},off:function t(){this._super();i(this.container).off(r);n(this.container).off("*",r);d.call(this);this.container.classList.remove("q-allow-resize")},setAllowResize:function t(e){this.allowResize=e;this.container.classList[e&&this._on?"add":"remove"]("q-allow-resize")},calculateRelevantSize:function t(){var e=n.utils.touch?32:16,i;if(this.miniChart&&this._useMiniChart){this.miniChart.calculateRelevantSize();i=this.miniChart.relevantSize;this._internalUseMiniChart=true;p.apply(this)}this.relevantSize=this._internalUseMiniChart?i||16:e},insertAdjacentTo:function t(){this._super.apply(this,[].slice.apply(arguments));this.miniChart&&this.miniChart.setRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height)},setRect:function t(){this._super.apply(this,[].slice.apply(arguments));this.miniChart&&this.miniChart.setRect(this.rect.x,this.rect.y,this.rect.width,this.rect.height)},setDock:function t(e){this._super(e);this.miniChart&&this.miniChart.setDock(e)},getOffset:function t(){return this.viewState.min},setRelativeOffset:function t(e){this._explicitOffset=e;this._relativeOffset=true;f.call(this,"ScrollArea.setOffset",true)},setOffset:function t(e){this._explicitOffset=e;this._relativeOffset=false;f.call(this,"ScrollArea.setOffset")},setMiniChart:function t(e){this.miniChart&&d.call(this);this.miniChart=e;this.miniChart.setDock(this.options.dock);p.apply(this);this._on&&u.call(this);this.invalidateDisplay("ScrollArea.setMiniChart")},setUseMiniChart:function t(e){this._useMiniChart=e;this._internalUseMiniChart=e;p.apply(this);this.invalidateDisplay("ScrollArea.setUseMiniChart")},getUseMiniChart:function t(){return this._useMiniChart},setViewRange:function t(e){this.viewState.range=e;f.call(this,"ScrollArea.setViewRange",true);this.invalidateDisplay("ScrollArea.setViewRange")},getViewRange:function t(){return this.viewState.range},setSpaces:function t(e){this._spaces=e},setDataRange:function t(e){this.dataRange=e;this.invalidateDisplay("ScrollArea.setDataRange")},getDataRange:function t(){return this.dataRange},setFullRange:function t(e){this.fullState.max=e;f.apply(this,["ScrollArea.setFullRange",true]);this.invalidateDisplay("ScrollArea.setFullRange")},getFullRange:function t(){return this.fullState.max},isVisible:function t(e){return this._super(e)&&(this.viewState.range<this.fullState.max||this.allowResize)},setOuterRect:function t(e,i,n,s){this._super(e,i,n,s);this.miniChart&&this.miniChart.setOuterRect(e,i,n,s)},setLayoutToContainerRatios:function t(e,i){this._super(e,i);this.miniChart&&this.miniChart.setLayoutToContainerRatios(e,i)},setContainerRect:function t(e,i,n,s){this._super(e,i,n,s);this.miniChart&&this.miniChart.setContainerRect(e,i,n,s)},updateSize:function t(){this._super();var e=this._styleService.getStyle("","color");if(this.miniChart&&this._internalUseMiniChart&&this.miniChart.isVisible()){this.before.style.display="block";this.bar.style.border="1px solid "+s.toRGBA(e,.4);this.bar.style.backgroundColor="transparent";this.after.style.display="block";if(this.isVertical())m.apply(this,[[this.before,this.bar,this.after],"qv-chart-scrollable-mini-chart-vertical",["width","left"]]);else{m.apply(this,[[this.before,this.after],"qv-chart-scrollable-mini-chart-horizontal",["height","top"]]);m.apply(this,[this.bar,"qv-chart-scrollable-mini-chart-bar-horizontal",["height","top"]])}}else{this.before.style.display="none";this.bar.style.backgroundColor=s.toRGBA(e,.2);this.bar.style.boxShadow="none";this.bar.style.border="none";this.after.style.display="none";this.isVertical()?m.apply(this,[this.bar,"qv-chart-scrollable-vertical",["width","left"]]):m.apply(this,[this.bar,"qv-chart-scrollable-horizontal",["height","top"]])}},paint:function t(e,n){var s;this.before.style.backgroundColor=this._styleService.getStyle("","color");this.after.style.backgroundColor=this._styleService.getStyle("","color");this.before.style.opacity=.1;this.after.style.opacity=.1;this.container.style.display="block";this._super(e,n);this.scrollRect[this.isVertical()?"height":"width"]=this.viewState.range/this.fullState.max;this.scrollRect[this.isVertical()?"y":"x"]=this.viewState.min/this.fullState.max;this.yMirrorMode&&!this.isVertical()&&(this.scrollRect.x=1-this.scrollRect.width-this.scrollRect.x);s=this.scrollRect[this.isVertical()?"height":"width"]*this.rect[this.isVertical()?"height":"width"];s=s<1?1:s;s=100*s/this.rect[this.isVertical()?"height":"width"];if(this.isVertical()){i(this.before).css({height:100*this.scrollRect.y+"%",top:"0%"});i(this.bar).css({top:100*this.scrollRect.y+"%",height:s+"%"});i(this.after).css({top:100*this.scrollRect.y+s+"%",height:100-(100*this.scrollRect.y+s)+"%"})}else{i(this.before).css({width:100*this.scrollRect.x+"%",left:"0%"});i(this.bar).css({left:100*this.scrollRect.x+"%",width:s+"%"});i(this.after).css({left:100*this.scrollRect.x+s+"%",width:100-(100*this.scrollRect.x+s)+"%"})}},clear:function t(){this.container.style.display="none"}});Object.defineProperty(o.prototype,"className",{value:"ScrollArea"});return o}.apply(e,n),void 0!==s&&(t.exports=s))},1244:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){return{getFocusRange:function t(e,i,n,s){var a={},o,r,l=i<1?0:i-1,h=e.length-n-1;if(s<2)a[e[0][1].qElemNumber]={lower:null,upper:null};else for(r=0;r<e.length;r++)a[e[r][1]]||(a[e[r][1].qElemNumber]={lower:null,upper:null});for(r=i-1;r>=0;r--){o=a[e[r][1].qElemNumber];o&&!o.lower&&(o.lower=r)}for(r=e.length-n;r<e.length;r++){o=a[e[r][1].qElemNumber];o&&!o.upper&&(o.upper=r)}Object.keys(a).forEach(function(t){a[t].lower<l&&(l=a[t].lower);a[t].upper>h&&(h=a[t].upper)});return{lower:l,upper:h}},getFullContinuousRange:function t(e){var i=e.qHyperCube.qDimensionInfo[0].qMin;var n=e.qHyperCube.qDimensionInfo[0].qMax;if(n<i||"NaN"===n){i="NaN";n="NaN"}else if(i===n){i-=.5;n+=.5}return{min:i,max:n}},addContinuousDataToLayout:function e(i,n){i=t.extend({},i);i.qHyperCube=t.extend({},i.qHyperCube,{qMode:"S"});i.qHyperCube.qDataPages=n.qDataPages;i.qHyperCube.qAxisData=n.qAxisData;return i}}}.apply(e,n),void 0!==s&&(t.exports=s))},1245:function(t,e,i){"use strict";var n,s;!(n=[i(11),i(102),i(164),i(146),i(232),i(256)],s=function(t,e,i,n,s,a){var o=3;var r=a.extend("PanScrollController",{init:function s(a,r,l){e.mixin(this);this.notification("PanStart");this.notification("PanUpdate");this.notification("PanWheel");this.notification("PanEnd");this._$dataAreaContainer=a;this._$fullContainer=r;var h=this;this._options=t.extend(true,{preventDefault:true},l);function c(t,e){h._panning=true;h._panX=e.points[0].x;h._panY=e.points[0].y;h.PanStart.emit()}function u(t){h._panning=true;h._panX=t.pageX;h._panY=t.pageY;h.PanStart.emit()}function d(t,e){if(!h._panning){h._panning=true;h._panX=e.points[0].x;h._panY=e.points[0].y}var i=e.swipe&&e.swipe.currentPoint?e.swipe.currentPoint:new n(t.pageX,t.pageY);var s=new n(i.x-h._panX,i.y-h._panY);h._panX=i.x;h._panY=i.y;h.PanUpdate.emit(s)}function p(){h._panning=false;h.PanEnd.emit()}function f(t){var e=i.getMouseWheelData(t.originalEvent);if(!e.delta)return;var n=e.delta>0?o:-o;h.PanWheel.emit(n)}this._eventHandlers={preventDefault:true,swipe:{start:c,update:d,end:p},swipetwo:{start:c,update:d,end:p},mousewheel:i.throttle(f,20),wheelswipe:{start:u,update:d,end:p},exclusive:function t(){return false},active:function t(){return true}}},on:function t(){if(this._isOn)return;s.addInteraction(this._eventHandlers,this._$dataAreaContainer,2,["swipe","swipetwo","mousewheel","wheelswipe"]);this._isOn=true},off:function t(){if(!this._isOn)return;s.removeInteraction(this._eventHandlers);this._isOn=false}});return r}.apply(e,n),void 0!==s&&(t.exports=s))},1494:function(t,e,i){"use strict";var n,s;!(n=[i(89),i(101),i(130),i(134),i(91)],s=function(t,e,i,n,s){function a(e){var s=e.getDimensions(),a=e.getMeasures(),o;function r(t){t>10?1!==e.getSorting()[0]&&e.changeSorting(1,0):0!==e.getSorting()[0]&&e.changeSorting(1,0)}if(1===s.length&&1===a.length){var l=s[0];return l.qLibraryId?n.get(l.qLibraryId,e.app).then(function(t){return t.getLayout()}).then(function(t){if(t&&t.qDimInfos&&t.qDimInfos[0]){var e=t.qDimInfos[0].qCardinal;r(e)}return l}):e.app.getFieldList().then(function(t){var e=i.findField(l.qDef.qFieldDefs[0],t);if(e){var n=e.qCardinal;r(n)}return l})}if(s.length>1&&1===a.length){o=e.getSorting().indexOf(0);0!==o&&e.changeSorting(o,0)}return t.resolve()}function o(t){var e;if(t.getDimensions().length>1&&1===t.getMeasures().length){e=t.getSorting().indexOf(0);0!==e&&t.changeSorting(e,0)}}function r(t,i){var n=i.getDimensions(),s=i.getMeasures(),a=e.getValue(t,"color.mode");n.length>1&&t.color?t.color.persistent=true:"byDimension"===a&&s.length>1?e.setValue(t,"color.mode","byMultiple"):"byExpression"===a&&0===s.length&&e.setValue(t,"color.mode","primary")}function l(t){if(t>=2)return 1;return 15}var h={measures:{min:1,max:l,description:function t(e){var i="vertical"===e.orientation?"Visualizations.Descriptions.Height":"Visualizations.Descriptions.Width";return s.get(i)},add:function t(e,i,n){return a(n).then(function(){e.qSortBy.qSortByNumeric=-1;r(i,n);return e})},move:function t(e,i,n){o(n);r(i,n)},remove:function t(e,i,n){var s=n.getDimensions();r(i,n);if(s.length>1&&"stacked"===i.barGrouping.grouping){i.qHyperCubeDef.qMode="K";i.qHyperCubeDef.qAlwaysFullyExpanded=true}else 1===s.length&&(i.qHyperCubeDef.qMode="S")}},dimensions:{min:1,max:function t(e){if(e>=2)return 1;return 2},description:function t(e,i,n){var a,o=e.qHyperCubeDef.qDimensions.length;a=n.isAutoChart&&i>o-1?"Visualizations.Descriptions.Color":o>1&&0===i?"stacked"===e.barGrouping.grouping?"Visualizations.Descriptions.Stack":"Visualizations.Descriptions.Group":"Visualizations.Descriptions.Bar";return s.get(a)},add:function t(e,i,n){if(n.getDimensions().length>1&&"stacked"===i.barGrouping.grouping){i.qHyperCubeDef.qMode="K";i.qHyperCubeDef.qAlwaysFullyExpanded=true}return a(n).then(function(){r(i,n);return e})},move:function t(e,i,n){if(n.getDimensions().length>1&&"stacked"===i.barGrouping.grouping){i.qHyperCubeDef.qMode="K";i.qHyperCubeDef.qAlwaysFullyExpanded=true}o(n);r(i,n)},remove:function t(e,i,n){var s=n.getDimensions();r(i,n);1===s.length&&(i.qHyperCubeDef.qMode="S")}}};return h}.apply(e,n),void 0!==s&&(t.exports=s))},2067:function(t,e,i){"use strict";var n,s;!(n=[i(101),i(237),i(417)],s=function(t,e,i){var n,s,a;function o(i){return{get:function t(n,s,a){if(e.isContinuousChart(a.layout))return i;return n(s.type)},set:function e(i,n,s){var a=t.getDefaultValue(s.type,s);n(s.type,i,a)}}}n={uses:"settings",items:{presentation:{type:"items",translation:"properties.presentation",grouped:true,items:{grouping:{ref:"barGrouping.grouping",type:"string",component:"item-selection-list",defaultValue:"grouped",horizontal:true,items:[{icon:"grouped",component:"icon-item",labelPlacement:"bottom",translation:"properties.grouping.grouped",value:"grouped"},{icon:"stacked",component:"icon-item",labelPlacement:"bottom",translation:"properties.grouping.stacked",value:"stacked"}],show:function t(e){var i=e.qHyperCubeDef.qMeasures.length,n=e.qHyperCubeDef.qDimensions.length;return i+n>2},change:function t(e,i){if(i.getDimensions().length>1&&"stacked"===e.barGrouping.grouping){e.qHyperCubeDef.qMode="K";e.qHyperCubeDef.qAlwaysFullyExpanded=true}else e.qHyperCubeDef.qMode="S"},readOnly:function t(i,n,s){return e.isContinuousChart(s.layout)},convertFunctions:o("stacked")},orientation:{ref:"orientation",type:"string",component:"item-selection-list",defaultValue:"vertical",horizontal:true,items:[{component:"icon-item",icon:"bars_vertical",labelPlacement:"bottom",translation:"properties.orientation.vertical",value:"vertical"},{icon:"bars_horizontal",component:"icon-item",labelPlacement:"bottom",translation:"Common.Horizontal",value:"horizontal"}],readOnly:function t(i,n,s){return e.isContinuousChart(s.layout)},convertFunctions:o("vertical")},scrollStartPos:{ref:"scrollStartPos",type:"number",translation:"properties.ScrollAlignment",component:"dropdown",defaultValue:0,options:[{value:0,translation:"properties.ScrollAlignStart"},{value:1,translation:"properties.ScrollAlignEnd"}],show:function t(i,n,s){return!e.isContinuousChart(s.layout)}},gridLines:{type:"items",snapshot:{tid:"property-gridLines"},items:{showGridLines:{ref:"gridLine.auto",type:"boolean",translation:"properties.gridLine.spacing",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},gridSpacing:{ref:"gridLine.spacing",type:"number",component:"dropdown",defaultValue:2,options:[{value:0,translation:"properties.gridLine.noLines"},{value:1,translation:"properties.gridLine.wide"},{value:2,translation:"properties.gridLine.medium"},{value:3,translation:"properties.gridLine.narrow"}],show:function t(e){return e.gridLine&&!e.gridLine.auto}}}},showLabels:{ref:"dataPoint.showLabels",type:"boolean",translation:"properties.dataPoints.labelmode",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],snapshot:{tid:"property-dataPoints"}}}},colorsAndLegend:{uses:"colorsAndLegend",items:{legend:{items:{show:{snapshot:{tid:"property-legend"}}}}}},dimensionAxis:{uses:"axis.dimensionAxis"},measureAxis:{uses:"axis.flippableMeasureAxis"}}};s={type:"items",translation:"properties.sorting",items:{noContinuousSortingMessage:{component:"text",translation:"properties.sorting.noContinuousSortingMessage",show:function t(i,n,s){return e.isContinuousChart(s.layout)}},defaultSorting:{show:function t(i,n,s){return!e.isContinuousChart(s.layout)},uses:"sorting",items:{dimensions:{locked:function t(e,i,n){if(1===n.getMeasures().length&&2===n.getDimensions().length)return 0===e;return false}}}}}};a={type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{calcCond:{uses:"calcCond"}}},refLines:{uses:"reflines"}}};var r={uses:"data",items:{dimensions:{items:{nullSuppression:{show:function t(n,s,a){var o=i.isFirstDimension(n,s),r=e.isContinuousChart(a.layout),l=!(o&&r);return l}}}}}};return{type:"items",component:"accordion",items:{data:r,sorting:s,addons:a,settings:n}}}.apply(e,n),void 0!==s&&(t.exports=s))},2068:function(t,e,i){"use strict";var n,s;!(n=[i(216),i(237)],s=function(t,e){return{type:"items",component:"accordion",items:{data:{uses:"data"},sort:{uses:"sort",show:function t(i,n){return!e.isContinuousChart(n)},items:{dimensions:{locked:function e(i,n){if(1===t.getNumMeasures(n)&&2===t.getNumDimensions(n))return 0===i;return false}}}},presentation:{uses:"presentation",items:{showLabels:{ref:"dataPoint.showLabels",type:"boolean",translation:"properties.dataPoints.labelmode",component:"switch",options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]},grouping:{ref:"barGrouping.grouping",type:"string",component:"item-selection-list",horizontal:true,items:[{icon:"grouped",component:"icon-item",labelPlacement:"bottom",translation:"properties.grouping.grouped",value:"grouped"},{icon:"stacked",component:"icon-item",labelPlacement:"bottom",translation:"properties.grouping.stacked",value:"stacked"}],show:function t(i,n){var s=i.qHyperCubeDef.qMeasures.length,a=i.qHyperCubeDef.qDimensions.length;return s+a>2&&!e.isContinuousChart(n)},change:function t(e){var i=e.qHyperCubeDef.qDimensions.length;if(i>1&&"stacked"===e.barGrouping.grouping){e.qHyperCubeDef.qMode="K";e.qHyperCubeDef.qAlwaysFullyExpanded=true}else e.qHyperCubeDef.qMode="S"}},orientation:{ref:"orientation",type:"string",component:"item-selection-list",horizontal:true,items:[{component:"icon-item",icon:"direction_up_down",labelPlacement:"bottom",translation:"properties.orientation.vertical",value:"vertical"},{icon:"direction_left_right",component:"icon-item",labelPlacement:"bottom",translation:"Common.Horizontal",value:"horizontal"}],show:function t(i,n){return!e.isContinuousChart(n)}}}},color:{uses:"color"}}}}.apply(e,n),void 0!==s&&(t.exports=s))},2087:function(t,e){t.exports='<div class="qv-viz" aria-hidden="true"></div>\n<span class="qv-viz-center-disclaimer" ng-if="dataAttributes.noDataExist  && dataAttributes.layoutMode > 2" q-translation="Object.Disclaimer.NoDataExist" q-title-translation="Object.Disclaimer.NoDataExist" dir="ltr"></span>\n<div qva-chart-disclaimer attributes="dataAttributes" visible="!dataAttributes.noDataExist" direction="options.direction"></div>'},2088:function(t,e,i){"use strict";var n,s;!(n=[],s=function(){var t={INITIAL_FETCH:500,PAGING:{NONE:0,ONE_DIM:1,TWO_DIM:2}};return t}.apply(e,n),void 0!==s&&(t.exports=s))},305:function(t,e,i){"use strict";var n,s;!(n=[],s=function(){var t={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31},e=[[550,450,t.FULL],[400,220,t.MEDIUM],[300,150,t.SMALL],[150,75,t.XSMALL],[0,0,t.SPARK]],i=[[450,t.FULL],[220,t.MEDIUM],[150,t.SMALL],[75,t.XSMALL],[0,t.SPARK]],n=[[550,t.FULL],[400,t.MEDIUM],[300,t.SMALL],[150,t.XSMALL],[0,t.SPARK]],s=e.length;function a(i,n){var a;for(a=0;a<s;++a)if(i>=e[a][0]&&n>=e[a][1])return e[a][2];return t.SPARK}function o(e){var n;for(n=0;n<s;++n)if(e>=i[n][0])return i[n][1];return t.SPARK}function r(e){var i;for(i=0;i<s;++i)if(e>=n[i][0])return n[i][1];return t.SPARK}function l(e){var i=Object.keys(t).filter(function(i){return t[i]===e})[0];return i&&i.toLowerCase()||""}return{LayoutMode:t,getLayoutMode:a,getLayoutModeKey:l,getHorizontalLayoutMode:r,getVerticalLayoutMode:o}}.apply(e,n),void 0!==s&&(t.exports=s))},307:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(291),i(89)],s=function(t,e,i){var n;n=t.extend("layer",{init:function t(i,n){this.wrapper=document.createElement("div");this.wrapper.style.position="absolute";this.renderer=new e(this.wrapper,n);this.minorAxis=null;this.majorAxis=null;i.appendChild(this.wrapper)},update:function t(){},release:function t(){this.wrapper&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper);this.wrapper=null;this.renderer.release();this.minorAxis=null;this.majorAxis=null},show:function t(){this.wrapper.style.display="block"},hide:function t(){this.wrapper.style.display="none"},render:function t(){if("none"!==this.wrapper.style.display)return this.renderer.render();return i.resolve()},clear:function t(){this.renderer.clear()}});return n}.apply(e,n),void 0!==s&&(t.exports=s))},376:function(t,e,i){"use strict";var n,s;!(n=[i(92),i(90),i(188),i(89)],s=function(t,e,i,n){var s;s=t.extend({init:function t(e){this._model=e},setModel:function t(e){this._model=e},saveSoftProperties:function t(s,a){if(!this._model)return n.resolve(false);var o=i.generate(s,a);e.extend(true,s,a);if(o&&o.length){o=o.map(function(t){return{qOp:t.op,qValue:JSON.stringify(t.value),qPath:t.path}});return this._model.applyPatches(o,true).then(function(){return true})}return n.resolve(false)},mergeSoftPatches:function t(){if(!this._model)return n.resolve();var e=this;return n.all({properties:this._model.getProperties(),effective:this._model.getEffectiveProperties()}).then(function(t){if(t.properties.qExtendsId)return;var n=i.generate(t.properties,t.effective);i.apply(t.properties,n);e._model.setProperties(t.properties).then(function(){e._model.clearSoftPatches()})})}});return s}.apply(e,n),void 0!==s&&(t.exports=s))},393:function(t,e,i){"use strict";var n,s;!(n=[i(10),i(48)],s=function(t,e){var i=document.createElement("textarea");i.style.position="absolute";i.style.left="-9999px";i.setAttribute("readonly","");function n(t){i.value=t;document.body.appendChild(i);i.select();i.setSelectionRange(0,i.value.length);document.execCommand("copy");document.body.removeChild(i)}e.service("qvCopy",["$window",function(e){var i=t.element(e.document.body);var n=t.element("<textarea/>");n.css({position:"fixed",opacity:"0"});return function(t){n.val(t);i.append(n);n[0].select();try{var e=document.execCommand("copy");if(!e)throw e}catch(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",t)}n.remove()}}]);e.directive("qvClickCopy",["qvCopy",function(t){return{restrict:"A",link:function e(i,n,s){n.bind("click",function(){t(s.qvClickCopy)})}}}]);return{copyToClipboard:n}}.apply(e,n),void 0!==s&&(t.exports=s))},486:function(t,e,i){"use strict";var n,s;!(n=[i(200),i(104)],s=function(t){function e(e,s,h){var c=e.length>0?e[0].positions:[],u=s._style,d=s._radialOptions,p=new t,f=u.ticks.major.length*h,m=u.label.offset*h*20,g,v,x="far"===s.getAlignment()?"left":"right",_=[],y=Math.min(s.rect.height,s.rect.width),b=0,D,M,q,A,S=[],C=s._radius,w;v="left"===x?1:-1;f*=v;g=v>0?0:s.rect.width;s.getShowLine()&&_.push({stroke:u.line.color,shape:{cx:s._centerPoint.x,cy:s._centerPoint.y,radius:C,radianOffset:0,start:d.start,end:d.end},type:"arc"});if(s.getShowLabels())for(w=0;w<c.length;w++){D=(c[w]-b)/(y-b);q=o(D,s);A=r(q);A.r=A.r+m;A=l(A,s._centerPoint);M=a(D,s);A.angle=M;S.push(A);p.save();p.translate(q.x+s._centerPoint.x,q.y+s._centerPoint.y);p.rotate(M);_.push({stroke:u.ticks.major.color,opacity:s.ticks[w].opacity,transform:p.elements,shape:{x1:0,x2:-f,y1:0,y2:0},type:"line"});p.restore()}g+=u.ticks.major.length*v;if(s._showLabels&&s._layoutMode>1)for(w=0;w<e.length;w++){_=_.concat(i(e[w],S,g,s));g+=e[w].labelSpace*v}s._showTitle&&s._layoutMode>1&&(_=_.concat(n(s,u)));s._renderer.shapes=_;s._renderer.render()}function i(t,e,i,n){var s=t.labels,a=e,o=t.opacities,r,l,h=[],c=n._style,u,d,p,f,m,g,v;d=s?s.length:0;if(0===d)return;p=d-1;for(g=0;g<d;g++){f=n.yMirrorMode?s[p-g]:s[g];r=n._renderer.getTextWidth(f,c.label.font);m=a[g];u=m.angle;l=u-.1<3*Math.PI/2&&u+.1>3*Math.PI/2?"center":u<Math.PI/2||u>3*Math.PI/2?"left":"right";h.push({type:"text",fill:c.label.color,opacity:o?o[g]:1,shape:{text:f,x:m.x,y:m.y,maxWidth:m.x-r<0?m.x:m.x+r>n.rect.width?n.rect.width-m.x:r,height:v,maxNumLines:1,font:c.label.font,align:l,baseline:"middle"}})}return h}function n(t,e){var i=[],n=Math.min(t.rect.width,t.rect.height),a=s(t);i.push({type:"text",fill:e.title.color,opacity:1,shape:{text:t._title,x:a.x,y:a.y+n*(.06+Math.min(n-300,0)/-300*.04),maxWidth:1.4*t._radius,maxNumLines:1,font:e.title.font,align:"center",baseline:"middle"}});return i}function s(t){var e={x:t.rect.width/2,y:t.rect.height/2};return e}function a(t,e){var i=e._radialOptions,n=Math.max(Math.min(t,1),0)*(i.end-i.start)+i.start;return n}function o(t,e,i){var n=e._radialOptions,s=t*(n.end-n.start)+n.start,a=e._radius;return l({a:s,r:a},i)}function r(t){return{r:Math.sqrt(t.x*t.x+t.y*t.y),a:Math.atan2(t.y,t.x)}}function l(t,e){e||(e={x:0,y:0});return{x:e.x+t.r*Math.cos(t.a),y:e.y+t.r*Math.sin(t.a)}}return{renderRadial:e,getPointOfValue:o,getPolPos:r,getCartPos:l,getAngleOfNormalizedValue:a}}.apply(e,n),void 0!==s&&(t.exports=s))},487:function(t,e,i){"use strict";var n,s;!(n=[i(985)],s=function(t){var e={create:i};return e;function i(){return new t}}.apply(e,n),void 0!==s&&(t.exports=s))},983:function(t,e,i){"use strict";var n,s;!(n=[i(984)],s=function(t){var e={create:i};return e;function i(){return new t}}.apply(e,n),void 0!==s&&(t.exports=s))},984:function(t,e,i){"use strict";var n,s;!(n=[i(487)],s=function(t){function e(){this.alternativeTitleRetriever=t.create();this.cache={}}e.prototype.getDimensionTitle=i;e.prototype.getCachedDimensionTitle=n;e.prototype.getMeasureTitle=s;e.prototype.getCachedMeasureTitle=a;e.prototype.resetTitles=o;return e;function i(t,e,i){var n=this;return this.alternativeTitleRetriever.getDimensionTitle(t,e,i).then(function(e){l(n.cache,t.qDef.cId,e);return e})}function n(t){return r(this.cache,t.qDef.cId)}function s(t,e,i){var n=this;return this.alternativeTitleRetriever.getMeasureTitle(t,e,i).then(function(e){l(n.cache,t.qDef.cId,e);return e})}function a(t){return r(this.cache,t.qDef.cId)}function o(){this.alternativeTitleRetriever.resetTitles()}function r(t,e){return t[e]||""}function l(t,e,i){t[e]=i}}.apply(e,n),void 0!==s&&(t.exports=s))},985:function(t,e,i){"use strict";var n,s;!(n=[i(89),i(91),i(130)],s=function(t,e,i){function n(){this.titles={}}n.prototype.getDimensionTitle=s;n.prototype.getMeasureTitle=a;n.prototype.resetTitles=o;return n;function s(t,e,i){d(this);return r.call(this,t,e,i,true)}function a(t,e,i){d(this);return r.call(this,t,e,i,false)}function o(){this.titles={}}function r(t,e,i,n){var s=l(t,this.titles);if(s)return s.promise;s=h(t,this.titles);s.promise=c(t,e,i,n);return s.promise}function l(t,e){var i=u(t);return e[i]}function h(t,e){var i=u(t);var n={id:i,promise:null};e[i]=n;return n}function c(n,s,a,o){var r="H"===n.qDef.qGrouping,l=!!n.qLibraryId;if(r)return t.when(n.qData.title);if(l){var h=o?s.getDimensionList:s.getMeasureList;return h.call(s).then(function(t){var s=o?i.findLibraryDimension:i.findLibraryMeasure;var r=s(n.qLibraryId,t),l=r&&r.qData.labelExpression;return r?!a&&l?l:r.qData.title:e.get(o?"Object.ErrorMessage.MissingDimension":"Object.ErrorMessage.MissingMeasure")})}var c=n.qDef.qLabelExpression,u=!!c;if(u)return a?t.when(c):s.evaluate(c);var d;if(o){var p=n.qDef.qFieldLabels[0];d=!p?n.qDef.qFieldDefs[0]:p}else d=n.qDef.qLabel||n.qDef.qDef;return t.when(d)}function u(t){return t.qDef.cId}function d(t){if(!t)throw new Error("AlternativeTitleRetriever: Called without a context")}}.apply(e,n),void 0!==s&&(t.exports=s))},986:function(t,e,i){"use strict";var n,s;!(n=[i(90)],s=function(t){return{migrateProperties:e,needToMigrateProperties:i};function e(e){var i=t.findValuesOfQProperty(e,"qHyperCubeDef");i.forEach(function(t){var e=t.qDimensions;e.forEach(function(t){var e=t.qDef;true===e.autoSort&&e.qSortCriterias.forEach(function(t){t.qSortByNumeric=1;t.qSortByAscii=1})})});return e}function i(e){var i=t.findValuesOfQProperty(e,"qHyperCubeDef");return i.some(function(t){var e=t.qDimensions;return e.some(function(t){var e=t.qDef;return true===e.autoSort&&e.qSortCriterias.some(function(t){return 1!==t.qSortByNumeric||1!==t.qSortByAscii})})})}}.apply(e,n),void 0!==s&&(t.exports=s))}}]);