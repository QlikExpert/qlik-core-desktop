/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[5],{1115:function(e,t,r){var a,i;!(a=[r,t],i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){e["AREA"]="AreaLayer";e["POINT"]="PointLayer";e["GEODATA"]="GeodataLayer";e["LINE"]="LineLayer";e["DENSITY"]="DensityLayer";e["CHART"]="ChartLayer"})(r||(r={}));t.default=r}.apply(t,a),void 0!==i&&(e.exports=i))},1296:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports){"use strict";var MathUtils;(function(MathUtils){function makeLineArc(e,t,r,a){var i=e[0];var n=e[1];var o=t[0];var l=t[1];if(a)if(l-n>180){n+=360;e=[i,n]}else if(n-l>180){l+=360;t=[o,l]}if(!r||r<2)return[e,t];var s=Math.sqrt((o-i)*(o-i)+(l-n)*(l-n));if(s<1e-5)return[e,t];r/=99;var u=4*Math.pow(Math.E,-1.8*r);var p=u*s;var c=(i+o)/2;var f=(n+l)/2;var d=c+Math.sqrt(p*p-s*s/4)*(n-l)/s;var m=f+Math.sqrt(p*p-s*s/4)*(o-i)/s;var y=Math.atan2(n-m,i-d);var g=Math.atan2(l-m,o-d);var h=g-y;h>Math.PI&&(h-=2*Math.PI);h<-Math.PI&&(h+=2*Math.PI);var v=1+Math.abs(Math.round(h/.09));var L=h/v;var b=[[i,n]];for(var x=1;x<v;x++){var S=y+L*x;var w=d+p*Math.cos(S);var D=m+p*Math.sin(S);b.push([w,D])}b.push([o,l]);return b}MathUtils.makeLineArc=makeLineArc;function calculateSize(e,t,r,a){if(isNaN(e)||null==e)return{relSize:NaN,size:NaN};var i=MathUtils.clamp(e,r[0],r[1]);var n=r[1]-r[0];var o=0===n?a/2:a*(i-r[0])/n;var l=Math.round(o/a*(t[1]-t[0])+t[0]);return{relSize:Math.floor(o),size:l}}MathUtils.calculateSize=calculateSize;function clamp(e,t,r){return Math.min(Math.max(e,t),r)}MathUtils.clamp=clamp;function evaluate(exp,variables){void 0===variables&&(variables={});var toEvaluate=Object.keys(variables).map(function(e){return e+"="+variables[e]}).join();toEvaluate.length>0&&(toEvaluate="var "+toEvaluate+";");toEvaluate+=exp.replace(/(?:==|>=|<=|\+\+|--|!=|[a-z][\w]*|[^\d\s+\-()\/*,?:.%|&\^<>!]+)/gi,function(e){if(/==|<=|>=|!=/.test(e)||variables.hasOwnProperty(e))return e;if(Math.hasOwnProperty(e))return"Math."+e;throw new Error(exp)});try{return eval(toEvaluate)}catch(e){}throw new Error(exp)}MathUtils.evaluate=evaluate})(MathUtils||(MathUtils={}));return MathUtils}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},1463:function(e,t,r){var a,i;var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!(a=[r,t,r(154),r(134),r(89),r(431)],i=function(e,t,r,a,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});r=n(r);a=n(a);i=n(i);o=n(o);var l="$geopoint";var s="$geoline";var u="$geopolyline";var p="$geopolygon";var c="$geomultipolygon";var f=[s,u,p,c];function d(e){return e.qTags.indexOf(l)>-1||e.qTags.indexOf("$geotag")>-1}function m(e){return e.qTags.indexOf(p)>-1||e.qTags.indexOf(c)>-1}function y(e){return e.qTags.indexOf(s)>-1||e.qTags.indexOf(u)>-1}function g(e){var t=e.qTags,r=t?t.length:0;var a=[];for(var i=0;i<r;i++)"$relates_"===t[i].substring(0,9)&&a.push(t[i].substring(9,t[i].length));return a}function h(e,t){var r=g(e);var a=[];for(var i=0;i<t.length;i++)r.indexOf(t[i].qName)>=0&&a.push(t[i]);return a}var v=function(){function e(){}e.load=function(){r.default.getOnTheFlyWithHiddenList().then(function(e){return e.getLayout()}).then(function(t){e.fields=t});a.default.getListLayout().then(function(t){e.dimensions=t})};e.loadTest=function(t,r){e.fields=t;e.dimensions=r};e.setDefaultLabel=function(e,t){if(e.qLibraryId){t.label.expression.key=e.qLibraryId;t.label.expression.type="libraryItem";t.label.expression.label=""}else{t.label.expression.key=o.default.bracketStringIfNeeded(e.qDef.qFieldDefs[0]);t.label.expression.type="expression";t.label.expression.label="dimension.qDef.qFieldDefs[0]"}};e.setDefaultLocation=function(t,r){var a=r;if(r.qHyperCubeDef&&r.qHyperCubeDef.qDimensions&&r.qHyperCubeDef.qDimensions[1]){var i=r.qHyperCubeDef.qDimensions[1];null!==i.qDef&&void 0!==i.qDef&&i.qDef.cId===t.qDef.cId&&r.location2&&(a=r.location2)}var n=!!t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length>0;var l=n?t.qDef.qFieldDefs[0]:e.fieldNameFromDimension(t.qLibraryId);var s=false;var u=false;if(l&&(0===(a.locationOrLatitude.key||"").trim().length||a.locationOrLatitude.key===a.locationDefault)){var p=e.relatedFieldName(l,r.type);if(p){a.locationOrLatitude.key=o.default.bracketStringIfNeeded(p);a.locationOrLatitude.label=p;a.locationOrLatitude.type="expression";a.locationDefault=a.locationOrLatitude.key;s=true}}if(!s&&(0===(a.locationOrLatitude.key||"").trim().length||a.locationDefault===a.locationOrLatitude.key))if(t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length){a.locationOrLatitude.key=o.default.bracketStringIfNeeded(l);a.locationOrLatitude.label=l;a.locationOrLatitude.type="expression";a.locationDefault=a.locationOrLatitude.key}else{a.locationOrLatitude.key=t.qLibraryId;a.locationOrLatitude.label="";a.locationOrLatitude.type="libraryItem";a.locationDefault=t.qLibraryId}if(l&&r.path&&(0===(r.path.field.key||"").trim().length||r.path.field.key===r.path.locationDefault)){var p=e.relatedFieldName(l,r.type);if(p){r.path.field.key=o.default.bracketStringIfNeeded(p);r.path.field.label=p;r.path.field.type="expression";r.path.locationDefault=r.path.field.key;u=true}p&&e.fieldHasOneOfTags(p,f)&&(r.path.startEndPoint=false)}if(!u&&r.path&&(0===(r.path.field.key||"").trim().length||r.path.field.key===r.path.locationDefault)){if(t.qDef.qFieldDefs&&t.qDef.qFieldDefs.length){r.path.field.key=o.default.bracketStringIfNeeded(l);r.path.field.label=l;r.path.field.type="expression";r.path.locationDefault=r.path.field.key}else{r.path.field.key=t.qLibraryId;r.path.field.label="";r.path.field.type="libraryItem";r.path.locationDefault=t.qLibraryId}e.fieldHasOneOfTags(l,f)&&(r.path.startEndPoint=false)}};e.relatedFieldName=function(t,r){var a=e.findField(t);if(a)return e.relatedField(a,r);return null};e.fieldNameFromDimension=function(t){for(var r in e.dimensions){var a=e.dimensions[r].qInfo.qId;if(a===t)return e.getFirstField(e.dimensions[r])}return null};e.relatedFieldNameAsync=function(e,t){var a=new i.default;return r.default.getOnTheFlyWithHiddenList().then(function(e){return e.getLayout()}).then(function(r){for(var i in r){var n=r[i];if(n.qName===e){var o=h(n,r);for(var l in o){var s=o[l];if("PointLayer"===t&&d(s)||"AreaLayer"===t&&m(s)||"LineLayer"===t&&y(s||d(s))||"DensityLayer"===t&&d(s)||"ChartLayer"===t&&d(s))return a.resolve(s.qName)}break}}return a.resolve(null)})};e.findField=function(t){for(var r in e.fields){var a=e.fields[r];if(a.qName===t)return a}return null};e.findDimension=function(t){for(var r in e.dimensions){var a=e.dimensions[r];if(a.qInfo.qId===t)return a}return null};e.relatedField=function(t,r){var a=h(t,e.fields);for(var i in a){var n=a[i];if("PointLayer"===r&&d(n)||"AreaLayer"===r&&m(n)||"LineLayer"===r&&(y(n)||d(n))||"DensityLayer"===r&&d(n)||"ChartLayer"===r&&d(n))return n.qName}return null};e.relatedFieldTypes=function(t){var r=h(t,e.fields);var a=[];for(var i in r){var n=r[i];d(n)&&a.push("PointLayer","DensityLayer","LineLayer","ChartLayer");m(n)&&a.push("AreaLayer");y(n)&&a.push("LineLayer")}return a};e.getFirstField=function(e){return e.qData.info[0].qName};e.getRecommendedLayerTypeByTags=function(t){var r=e.findField(t);var a={PointLayer:false,AreaLayer:false,LineLayer:false,DensityLayer:false,ChartLayer:false};if(r){var i=e.relatedFieldTypes(r);(d(r)||i.indexOf("PointLayer")>=0)&&(a.PointLayer=true);(m(r)||i.indexOf("AreaLayer")>=0)&&(a.AreaLayer=true);(y(r)||i.indexOf("LineLayer")>=0)&&(a.LineLayer=true);(d(r)||i.indexOf("DensityLayer")>=0)&&(a.DensityLayer=true);(d(r)||i.indexOf("ChartLayer")>=0)&&(a.ChartLayer=true)}return a};e.getDrillDownDimension=function(t){var r=e.findDimension(t).qData;return r.info.length>1?r:null};e.fieldHasOneOfTags=function(t,r){var a=e.findField(t);if(a){for(var i in r)if(a.qTags.indexOf(r[i])>-1)return true;return false}return false};e.fieldContainsAllTags=function(t,r){var a=e.findField(t);if(a){for(var i in r)if(!(a.qTags.indexOf(r[i])>-1))return false;return true}return false};e.fields=[];e.dimensions=[];return e}();t.default=v}.apply(t,a),void 0!==i&&(e.exports=i))},1732:function(e,t,r){(function(a){var i,n;var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!(i=[r,t,r(2017),r(89),r(1296),r(431)],n=function(e,t,r,i,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});r=o(r);i=o(i);n=o(n);l=o(l);function s(e,t,r){var a="";var i=Math.pow(2,r);for(var n=1;n<r+1;n++){var o=Math.pow(2,n)/i;var l=Math.ceil((t+1)*o)-1;var s=Math.ceil((e+1)*o)-1;a+=(2*(1&l)+(1&s)).toString(10)}return a}var u;(function(e){function t(e,t,n){var o=new i.default;var s=l.default.addUrlParameters(e,"service=wms&version="+t+"&request=GetCapabilities");n&&(s=idevio.Connection.baseUrl+"/GetResource?url="+s);try{a.get(s,function(e){var t=new r.default(e);t&&t.layers.length>0&&t.formats.length>0&&t.srs.length>0?o.resolve(t):o.reject()}).fail(function(){o.reject()});setTimeout(function(){o.reject()},6e4)}catch(e){o.reject()}return o.promise}e.getWMSCapabilities=t;function o(e,t,r,a,i){e=e.replace(/(\${)/gi,"{");var o=/{\[[^\]]+\]}/;for(var l=o.exec(e);null!=l&&l.length>0;l=o.exec(e)){var u=l[0].replace(/\s+/g,"").slice(2,-2);var p=u.split(",");e=e.replace(l[0],p[Math.abs(t+r+a)%p.length])}e=e.replace(/{quadkey}/gi,s(t,r,a));var c={x:t,y:r,z:a,level:a};var f=false;var d=false;e=e.replace(/{([^}]*)}/g,function(e,t){d=d||!/^\s*(?:x|y|z|level)\s*$/.test(t||"");var r=n.default.evaluate(t,c);false===r&&(f=true);return r});var m=Math.pow(2,a);if(i&&!d&&(a<0||r<0||r>=m||t<0||t>=m))return null;return f?null:e}e.parseUrl=o})(u||(u={}));t.default=u}.apply(t,i),void 0!==n&&(e.exports=n))}).call(this,r(11))},2017:function(e,t,r){(function(a){var i,n;var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!(i=[r,t,r(2018)],n=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r=o(r);var i=function(){function e(e){var t=e;e&&"#document"!==e.nodeName&&"string"===typeof e&&(t=(new DOMParser).parseFromString(e,"text/xml"));this.formats=this.parseFormats(t);this.styles=this.parseStyles(t);this.srs=this.parseSrs(t);this.layers=this.parseLayers(t)}e.prototype.parseFormats=function(e){var t=[];var r=e.getElementsByTagName("GetMap");for(var i=0;i<r.length;i++){var n=a(r[i]);var o=n.children("Format");for(var l=0;l<o.length;l++){var s=o[l].textContent;null!==s&&t.push(s)}}return t};e.prototype.parseStyles=function(e){};e.prototype.parseSrs=function(e){var t=[];var r=e.getElementsByTagName("Layer");if(r.length>0){var i=a(r[0]);var n=i.children("SRS,CRS");for(var o=0;o<n.length;o++){var l=n[o].textContent;null!==l&&(t=l.split(" ").concat(t))}}return t};e.prototype.parseLayers=function(e){var t=[];var i=e.getElementsByTagName("Layer");for(var n=0;n<i.length;n++){var o=a(i[n]);var l=o.children("Name").text();if(l.length>0){var s=new r.default(o);t.push(s)}}return t};return e}();t.default=i}.apply(t,i),void 0!==n&&(e.exports=n))}).call(this,r(11))},2018:function(e,t,r){(function(a){var i,n;!(i=[r,t],n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e){this.name=this.parseName(e);this.title=this.parseTitle(e);this.latLonBoundingBox=this.parseLatLonBoundingBox(e);this.boundingBox=this.parseBoundingBoxes(e);this.srs=this.parseSRS(e);this.crs=this.parseCRS(e)}e.prototype.parseName=function(e){return e.children("Name").text()};e.prototype.parseTitle=function(e){return e.children("Title").text()};e.prototype.parseLatLonBoundingBox=function(e){var t=this.getAllTag(e,"LatLonBoundingBox");if(t.length>0){var r=t[0];var i={minx:parseFloat(a(r).attr("minx")),maxx:parseFloat(a(r).attr("maxx")),miny:parseFloat(a(r).attr("miny")),maxy:parseFloat(a(r).attr("maxy"))};return i}return};e.prototype.parseBoundingBoxes=function(e){var t=this.getAllTag(e,"BoundingBox");var r=[];var i=[];for(var n=0;n<t.length;n++){var o=t[n];var l=a(o).attr("SRS");var s={srs:l,minx:parseFloat(a(o).attr("minx")),maxx:parseFloat(a(o).attr("maxx")),miny:parseFloat(a(o).attr("miny")),maxy:parseFloat(a(o).attr("maxy"))};var u=parseFloat(a(o).attr("resx"));var p=parseFloat(a(o).attr("resy"));isNaN(u)||(s.resx=u);isNaN(p)||(s.resy=p);if(-1===a.inArray(l,i)){r.push(s);i.push(l)}}return r};e.prototype.parseSRS=function(e){var t=this.getAllTag(e,"SRS");var r=[];for(var i=0;i<t.length;i++){var n=a(t[i]).text();-1===a.inArray(n,r)&&r.push(n)}return r};e.prototype.parseCRS=function(e){var t=this.getAllTag(e,"CRS");var r=[];for(var i=0;i<t.length;i++){var n=a(t[i]).text();-1===a.inArray(n,r)&&r.push(n)}return r};e.prototype.getAllTag=function(e,t){return this.getAllRec(e,t,[])};e.prototype.getAllRec=function(e,t,r){var i=e.children(t);i.each(function(e){r.push(a(i[e]))});return e.length>0?this.getAllRec(e.parent(),t,r):r};return e}();t.default=r}.apply(t,i),void 0!==n&&(e.exports=n))}).call(this,r(11))},431:function(e,t,r){var a,i;var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!(a=[r,t,r(483),r(1115)],i=function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});r=n(r);a=n(a);var i;(function(e){var t=[];var i=[a.default.POINT,a.default.CHART,a.default.LINE,a.default.DENSITY,a.default.AREA,a.default.GEODATA];e.LOCKED_QSTATE="L";e.EXCLUDED_QSTATE="X";e.NULL_ELEMNO=-2;e.OTHERS_ELEMNO=-3;function n(e){t.push(e)}e.registerMapChart=n;function o(e){var r=t.indexOf(e);r>-1&&t.splice(r,1)}e.unregisterMapChart=o;function l(e){var r=null;t.forEach(function(t){t.id===e&&(r=t)});return r}e.getMapChart=l;function s(e,t){for(var r=0;r<t.length;r++)if(t[r].dataset===e.getDataset())return t[r];return null}e.getLayerFromFeature=s;function u(e,t){for(var r=0;r<t.length;r++)if(t[r].id===e)return t[r];return null}e.getLayerFromId=u;function p(e){var t=i.indexOf(e);return-1===t?9999:t}function c(e,t){f(e,t);var r=p(e.type);for(var a=0;a<t.length;a++)if(p(t[a].type)>=r){t.splice(a,0,e);return a}t.push(e);return t.length-1}e.insertLayer=c;function f(e,t){if("ChartLayer"===e.type||"DensityLayer"===e.type)return;var r=[6,9,3,7,8,10,4,2];if(!e.color||!(false===e.color.auto))return;var a=-1;for(var i=0;i<r.length;i++){var n=true;for(var o=0;o<t.length;o++){var l=t[o];if(l.color&&!l.color.auto&&"primary"===l.color.mode&&l.color.paletteColor.index===r[i]){n=false;break}}if(n){a=i;break}}-1===a&&(a=t.length%r.length);e.color.auto=false;e.color.mode="primary";e.color.paletteColor={index:r[a],color:"#ffffff"}}function d(e){var t=e.getAttribute("excluded");return void 0!==t&&false!==t}e.isExcluded=d;function m(e){var t=["AreaLayer","PointLayer","GeodataLayer","LineLayer","DensityLayer","ChartLayer"];return t.indexOf(e)>-1}e.validLayerType=m;function y(e){if(e.length>0&&"="!==e.charAt(0)&&"["!==e.charAt(0))return"["+e+"]";return e}e.bracketStringIfNeeded=y;function g(e){try{return h(idevio.Connection.version,e)>=0}catch(e){return false}}e.isWm5AtLeast=g;function h(e,t){void 0===e&&(e="");void 0===t&&(t="");var r=e.replace(/-\w+$/,".-1").split(".");var a=t.replace(/-\w+$/,".-1").split(".");for(var i=0;i<Math.max(r.length,a.length);i++){var n=(Number(r[i])||0)-(Number(a[i])||0);if(0!==n)return n}return 0}e.versionStringCompare=h;function v(e,t){var r=Array.isArray(t)?t.join("&"):t;if(0===r.length)return e;e=e.replace(/\?$/,"");return e+(-1===e.indexOf("?")?"?":"&")+r}e.addUrlParameters=v;function L(e,t){var a=e.gaLayers[t];var i=a.color;var n=i.byMeasureDef?i.byMeasureDef.activeMeasureIndex:void 0;var o=a.qHyperCubeDef.qDimensions;var l=o[o.length-1];var s=a.qHyperCubeDef.qMeasures;var u=!i.auto&&n>-1&&"byMeasure"===i.mode&&s.length>0;u&&(l.qAttributeExpressions=l.qAttributeExpressions.filter(function(e){return"colorByAlternative"!==e.id}));var p="gaLayers."+t+".qHyperCubeDef.";r.default.updateColorDef(e,p,i);if(u){var c=i.byMeasureDef;c.activeMeasureIndex=Math.min(n,s.length-1);if(c.activeMeasureIndex>-1){var f=s[c.activeMeasureIndex];if(f.qLibraryId){c.type="measure";c.name=f.qLibraryId;c.id=f.qLibraryId}else{c.type="expression";c.name=f.qDef.qDef;c.label=f.qDef.qLabel||f.qDef.qDef}"measure"===c.type?i.byMeasureDef={label:c.name,key:c.id,type:"libraryItem",activeMeasureIndex:c.activeMeasureIndex}:"expression"===c.type&&(i.byMeasureDef={label:c.label||c.name,key:c.name,type:"expression",activeMeasureIndex:c.activeMeasureIndex})}}r.default.updateHypercubeAttributes(e,p,i);u&&l.qAttributeExpressions.filter(function(e){return"colorByAlternative"===e.id}).forEach(function(e){return e.matchMeasure=n});o.forEach(function(e){e.qAttributeDimensions.forEach(function(e){return e.qAttribute=false});e.qAttributeExpressions.forEach(function(e){return e.qAttribute=false})})}e.updateColorDef=L})(i||(i={}));t.default=i}.apply(t,a),void 0!==i&&(e.exports=i))},507:function(e,t,r){var a,i;!(a=[r,t],i=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){function t(e){var t=e[0];var r=[];t.qMatrix=r.concat.apply([],e.map(function(e){return e.qMatrix}));return t}e.flattenData=t;function r(e,r){Array.isArray(e)&&(e=t(e));var a=e.qMatrix;var i=[];for(var n=0;n<a.length;n++)try{var o=a[n][r];i.push(o||null)}catch(e){i.push(null)}return i}e.getColumn=r;function a(e,t,r,a,i){if(!r.qDimensions[0]||!t||!t.key||0===(t.key||"").trim().length)return;var n=0;i&&(n=i);var o="libraryItem"===t.type;var l=o&&!(true===a);var s=o?{qLibraryId:t.key,id:e}:{qExpression:t.key,id:e};l?r.qDimensions[n].qAttributeDimensions.push(s):r.qDimensions[n].qAttributeExpressions.push(s)}e.addExpr=a;function i(e,t,r){if(!r.qHyperCubeDef.qDimensions[0])return;var a=r.qHyperCubeDef.qDimensions[0].qAttributeExpressions;var i=-1;for(var n=0;n<a.length;n++)if(a[n].id===e){i=n;break}if(null==t||0===t.trim().length){if(i>=0){for(var n=i;n<a.length-1;n++)a[n]=a[n+1];a.pop()}return}if(i<0){i=a.length;a.push(null)}a[i]={qExpression:t,id:e}}e.setExprInProperties=i;function n(e,t){if(!t||!t.qDimensionInfo[0])return null;for(var r=0;r<t.qDimensionInfo.length;r++){var a=t.qDimensionInfo[r].qAttrExprInfo;for(var i=0;i<a.length;i++)if(a[i].id===e)return{index:i,isDim:false,dimensionIndex:r};var n=t.qDimensionInfo[r].qAttrDimInfo;for(var i=0;i<n.length;i++)if(n[i].id===e)return{index:i,isDim:true,dimensionIndex:r}}return null}e.getDimensionExpressionIndex=n;function o(e,t){var r=n(e,t);if(null==r)return null;var a=t.qDimensionInfo[r.dimensionIndex].qAttrExprInfo[r.index];if(null==a)return null;return a.label||a.qFallbackTitle}e.getDimensionExpressionTitle=o;function l(e,t){var r=n(e,t);if(null==r)return null;var a=t.qDimensionInfo[r.dimensionIndex];if(!a)return null;var i=r.index;var o=a.qAttrExprInfo[i];if(!o||isNaN(o.qMin)||isNaN(o.qMax))return null;return[o.qMin,o.qMax]}e.getMinMax=l;function s(e,r,a){Array.isArray(r)&&(r=t(r));var i=r.qMatrix;var o=[];var l=n(e,a);if(null==l)return o;var s=l.index;var u=l.dimensionIndex;for(var p=0;p<i.length;p++)try{var c=i[p][u].qAttrExps;var f=c.qValues[s].qNum;"NaN"===f?o.push(null):o.push(f)}catch(e){o.push(null)}return o}e.getNumericData=s;function u(e,t,r){var a=[];var i=Number.MAX_VALUE;var n=Number.MIN_VALUE;for(var o in t){var l=t[o];var u=s(e,l,r);if(0===u.length)return null;a.push(u);var p=u.length;for(var c=0;c<p;c++){var f=u[c];if(f&&!isNaN(f)){f>n&&(n=f);f<i&&(i=f)}}}return{min:i,max:n,pages:a}}e.getNumericDataMinMax=u;function p(e,r,a){Array.isArray(r)&&(r=t(r));var i=r.qMatrix;var o=[];var l=n(e,a);if(null==l)return o;var s=l.index;var u=l.isDim;var p=l.dimensionIndex;for(var c=0;c<i.length;c++)try{var f=u?i[c][p].qAttrDims:i[c][p].qAttrExps;var d=null;f.qValues[s].qText?d=f.qValues[s].qText:void 0!==f.qValues[s].qNum&&"NaN"!==f.qValues[s].qNum&&(d=f.qValues[s].qNum);o.push(d||null)}catch(e){o.push(null)}return o}e.getStringOrNumber=p;function c(e,r,a){Array.isArray(r)&&(r=t(r));var i=r.qMatrix;var o=[];var l=n(e,a);if(null==l)return o;var s=l.index;var u=l.isDim;var p=l.dimensionIndex;for(var c=0;c<i.length;c++)try{var f=u?i[c][p].qAttrDims:i[c][p].qAttrExps;var d=f.qValues[s].qText;o.push(d||null)}catch(e){o.push(null)}return o}e.getStringData=c;function f(e,r){Array.isArray(e)&&(e=t(e));return e.qMatrix.map(function(e){var t=e[r];return null==t?{id:null,dimValue:null,state:null}:{id:t.qElemNumber,dimValue:t.qText,state:t.qState}})}e.getElemData=f})(r||(r={}));t.default=r}.apply(t,a),void 0!==i&&(e.exports=i))},879:function(e,t,r){var a,i;var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!(a=[r,t,r(11),r(91),r(90),r(185),r(507),r(1115),r(1463),r(431),r(1732),r(49),r(113)],i=function(e,t,r,a,i,o,l,s,u,p,c,f,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});r=n(r);a=n(a);i=n(i);o=n(o);l=n(l);s=n(s);u=n(u);p=n(p);c=n(c);f=n(f);d=n(d);var m;(function(e){e.ZOOM_RANGE_MAX=20;e.ZOOM_RANGE_MIN=0;var t;function n(r){var i=m();var n={type:"items",items:{haveVisibleRange:{ref:"showInAllLevels",translation:"geo.properties.showInZoomLevels",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.All"},{value:false,translation:"Common.Custom"}]},zoomRange:{ref:"zoomRange",type:"array",min:e.ZOOM_RANGE_MIN,max:e.ZOOM_RANGE_MAX,step:1,defaultValue:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX],show:function(e){return!e.showInAllLevels},label:function(t){var r=Math.abs(t.zoomRange[0]);var i=Math.abs(t.zoomRange[1]);return r===e.ZOOM_RANGE_MIN&&i!==e.ZOOM_RANGE_MAX?a.default.get("geo.properties.zoomRangeMin",[i]):r!==e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a.default.get("geo.properties.zoomRangeMax",[r]):r===e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a.default.get("geo.properties.zoomRangeMinMax"):a.default.get("geo.properties.zoomRange",[r,i])}}}};var o={type:"items",items:{drillDownAuto:{ref:"drillDown.auto",translation:"geo.properties.drilldown.visible.levels",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"geo.properties.drilldown.all"},{value:false,translation:"Common.Custom"}],show:function(e){try{var r=e.qHyperCubeDef.qDimensions[0].qLibraryId;var a=void 0;if(!r)return false;a=u.default.getDrillDownDimension(r);if(a){t=a;return true}return false}catch(e){return false}}},drillDown0:{ref:"drillDown.showLevel0",label:function(){try{return t.info[0].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[0]&&!e.drillDown.auto}catch(e){return false}}},drillDown1:{ref:"drillDown.showLevel1",label:function(){try{return t.info[1].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[1]&&!e.drillDown.auto}catch(e){return false}}},drillDown2:{ref:"drillDown.showLevel2",label:function(){try{return t.info[2].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[2]&&!e.drillDown.auto}catch(e){return false}}},drillDown3:{ref:"drillDown.showLevel3",label:function(){try{return t.info[3].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[3]&&!e.drillDown.auto}catch(e){return false}}},drillDown4:{ref:"drillDown.showLevel4",label:function(){try{return t.info[4].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[4]&&!e.drillDown.auto}catch(e){return false}}},drillDown5:{ref:"drillDown.showLevel5",label:function(){try{return t.info[5].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[5]&&!e.drillDown.auto}catch(e){return false}}},drillDown6:{ref:"drillDown.showLevel6",label:function(){try{return t.info[6].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[6]&&!e.drillDown.auto}catch(e){return false}}},drillDown7:{ref:"drillDown.showLevel7",label:function(){try{return t.info[7].qName}catch(e){}},type:"boolean",defaultValue:true,show:function(e){try{return t.info[7]&&!e.drillDown.auto}catch(e){return false}}}}};var l={uses:"dataHandling",items:{calcCond:{uses:"calcCond"},suppressZero:null}};var s={};switch(r){case"GeodataLayer":s={visible:i,zoomLevels:n};break;default:s={visible:i,zoomLevels:n,drillDown:o,dataHandling:l}}return{groups:{type:"items",grouped:true,items:s}}}function m(){return{ref:"showLayer",translation:"geo.properties.showLayer",type:"boolean",defaultValue:true}}e.getShowLayerOption=m;function y(){return{type:"items",items:{showLabel:g(),expression:{ref:"label.expression",label:a.default.get("properties.labels"),type:"string",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",change:function(e){var t=e.label.expression;_(e,t)},show:function(e){return e.label.show}},position:{ref:"label.position",translation:"geo.properties.labelPosition",type:"string",component:"dropdown",options:[{value:"BOTTOM",translation:"geo.properties.labelPosition.above"},{value:"MIDDLE",translation:"geo.properties.labelPosition.centered"},{value:"TOP",translation:"geo.properties.labelPosition.below"}],defaultValue:"TOP",show:function(e){return e.label.show&&e.label&&e.label.expression&&0!==(e.label.expression.key||"").trim().length&&"PointLayer"===e.type}},haveVisibleRange:{ref:"label.showInAllLevels",translation:"geo.properties.showInZoomLevels",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.All"},{value:false,translation:"Common.Custom"}],show:function(e){return e.label.show}},visibleRange:{ref:"label.visibleRange",type:"array",min:e.ZOOM_RANGE_MIN,max:e.ZOOM_RANGE_MAX,step:1,defaultValue:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX],label:function(t){var r=Math.abs(t.label.visibleRange[0]);var i=Math.abs(t.label.visibleRange[1]);return r===e.ZOOM_RANGE_MIN&&i!==e.ZOOM_RANGE_MAX?a.default.get("geo.properties.zoomRangeMin",[i]):r!==e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a.default.get("geo.properties.zoomRangeMax",[r]):r===e.ZOOM_RANGE_MIN&&i===e.ZOOM_RANGE_MAX?a.default.get("geo.properties.zoomRangeMinMax"):a.default.get("geo.properties.zoomRange",[r,i])},show:function(e){return e.label&&e.label.show&&!e.label.showInAllLevels&&e.label.expression&&0!==(e.label.expression.key||"").trim().length}}}}}function g(){return{ref:"label.show",translation:"geo.properties.showLabel",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}]}}e.getShowLabelOption=g;function h(e){var t={type:"items",items:{showLegend:{ref:"displayLegend",translation:"geo.properties.displayLegend",type:"string",component:"dropdown",options:"GeodataLayer"===e?[{value:"auto",translation:"Common.Auto"},{value:"small",translation:"geo.properties.displayLegend.small"},{value:"none",translation:"geo.properties.displayLegend.none"}]:[{value:"auto",translation:"Common.Auto"},{value:"full",translation:"geo.properties.displayLegend.full"},{value:"small",translation:"geo.properties.displayLegend.small"},{value:"none",translation:"geo.properties.displayLegend.none"}],defaultValue:"full"}}};var r={ref:"showSizeLegend",translation:"geo.properties.showSizeLegend",type:"boolean",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],show:function(e){var t=d.default.GEO_SIZE_LEGEND||f.default.getFlag("GEO_SIZE_LEGEND");return t&&"none"!==e.displayLegend&&"small"!==e.displayLegend&&"barChart"!==e.chartType}};var a={type:"items",items:{popUp:{ref:"showPopUp",translation:"geo.properties.showPopUp",type:"boolean",defaultValue:true,change:function(e){},show:function(e){return"DensityLayer"!==e.type}},maxObjects:{ref:"maxObjects",translation:"geo.properties.maxObjects",type:"number",defaultValue:1e3,change:function(e){}}}};var i={};switch(e){case"GeodataLayer":i={legend:t};break;case"DensityLayer":i={legend:t,showThings:a};break;case"PointLayer":case"LineLayer":case"ChartLayer":t.items.sizeLegend=r;default:i={legend:t,showThings:a,label:y()}}return{groups:{type:"items",grouped:true,items:i}}}function v(e){return{type:"items",component:"expandable-items",translation:"geo.properties.options",items:{otherOptions:{type:"items",translation:"geo.properties.other.options",items:h(e)},visibilityOptions:{type:"items",translation:"geo.properties.layer.visibility",items:n(e)}}}}e.getOptionsSection=v;function L(e){var t={component:"text",translation:"geo.properties.dimension.hint",style:"hint",show:function(e){return 0===e.qHyperCubeDef.qDimensions.length}};var r={uses:"data",translation:"Common.Dimensions",dimension:{min:1,max:e,description:function(e,t){switch(e.type){case"PointLayer":return a.default.get("Visualizations.Descriptions.Point");case"AreaLayer":return a.default.get("Visualizations.Descriptions.Area");case"LineLayer":return 0===t?a.default.get("Visualizations.Descriptions.Line"):"";case"DensityLayer":return 0===t?a.default.get("Visualizations.Descriptions.Density"):"";default:return""}},add:function(e,t,r){e.qDef.qSortCriterias[0]["qSortByLoadOrder"]=1;e.qDef.qSortCriterias[0]["qSortByAscii"]=1;e.qDef.qSortCriterias[0]["qSortByNumeric"]=1;u.default.setDefaultLocation(e,t);e.qLibraryId&&t.color&&(t.color.useBaseColors="dimension");u.default.setDefaultLabel(e,t)},remove:function(e,t,r){if(t.locationOrLatitude.key===t.locationDefault){t.locationOrLatitude.key="";t.locationOrLatitude.label="";t.locationOrLatitude.type=""}}},measure:{min:0,max:0,show:false},items:{dimensions:{disabledRef:""},measures:{disabledRef:""}}};return{component:"items",translation:"Common.Data",items:{helpText:t,data:r}}}e.getDataSection=L;function b(){var e={component:"text",translation:"geo.properties.dimension.hint",style:"hint",show:function(e){return 0===e.qHyperCubeDef.qDimensions.length}};var t={uses:"data",translation:"Common.Dimensions",dimension:{min:2,max:2,description:function(e,t){if(0===t)return a.default.get("Visualizations.Descriptions.Location");switch(e.chartType){case"pieChart":return a.default.get("Visualizations.Descriptions.Slice");case"barChart":return a.default.get("Visualizations.Descriptions.Bar")}},add:function(e,t,r){var i=t.qHyperCubeDef.qDimensions.length;e.qDef.qSortCriterias[0]["qSortByLoadOrder"]=1;e.qDef.qSortCriterias[0]["qSortByAscii"]=1;e.qDef.qSortCriterias[0]["qSortByNumeric"]=1;if(1===i){u.default.setDefaultLocation(e,t);u.default.setDefaultLabel(e,t)}if(2===i&&e!==t.qHyperCubeDef.qDimensions[0]){e.qLibraryId&&t.color&&(t.color.useBaseColors="dimension");e.qOtherTotalSpec.qOtherMode="OTHER_COUNTED";e.qOtherTotalSpec.qOtherCounted={qv:"10"};e.qOtherLabel={qv:a.default.get("properties.dimensionLimits.others")}}var n=t.qHyperCubeDef.qDimensions[0];n&&(n.qOtherTotalSpec.qSuppressOther=true)},move:function(e,t,r){var a=t.qHyperCubeDef.qDimensions[0];a&&(a.qOtherTotalSpec.qSuppressOther=true)},remove:function(e,t,r){if(t.locationOrLatitude.key===t.locationDefault){t.locationOrLatitude.key="";t.locationOrLatitude.label="";t.locationOrLatitude.type=""}var a=t.qHyperCubeDef.qDimensions[0];a&&(a.qOtherTotalSpec.qSuppressOther=true)}},measure:{min:1,max:1,show:true,description:function(e){switch(e.chartType){case"pieChart":return a.default.get("Visualizations.Descriptions.Angle");case"barChart":return a.default.get("Visualizations.Descriptions.Height")}},add:function(e,t,r){}},items:{dimensions:{items:{others:{items:{suppressOther:{show:function(e,t){var r=0===t.properties.qHyperCubeDef.qDimensions.indexOf(e);return!r&&"OTHER_OFF"!==e.qOtherTotalSpec.qOtherMode&&t.getMeasures().length>0}}}}},disabledRef:""},measures:{disabledRef:""}}};return{component:"items",translation:"Common.Data",items:{helpText:e,data:t}}}e.getChartLayerDataSection=b;function x(){return{component:"items",translation:"geo.properties.geodata",items:{common:{type:"items",items:{title:{ref:"title",type:"string",translation:"Common.Label"},dataType:{ref:"dataType",translation:"geo.properties.dataType",component:"dropdown",type:"string",options:function(){var e=[];e.push({value:"tms",translation:"geo.properties.tms"});var t=d.default.GEO_BACKGROUND_WMS||f.default.getFlag("GEO_BACKGROUND_WMS");t&&e.push({value:"wms",translation:"geo.properties.wms"});var r=d.default.GEO_BACKGROUND_IMAGE||f.default.getFlag("GEO_BACKGROUND_IMAGE");r&&e.push({value:"image",translation:"geo.properties.image"});return e},defaultValue:"tms"}}},tms:{component:"items",items:{url:{ref:"tms.url",translation:"Common.URL",minlength:1,expression:"optional",type:"string",defaultValue:"",change:function(e){!e.title&&e.tms&&e.tms.url&&(e.title=r.default("<a>").attr("href",e.tms.url).prop("hostname"))}},attribution:{ref:"tms.attribution",type:"string",translation:"properties.attribution",component:"textarea",maxlength:1024},toggle:{ref:"tms.auto",translation:"geo.properties.advancedSettings",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:true},advancedOptions:{component:"items",items:{tileSize:{ref:"tms.tileSize",type:"number",translation:"geo.properties.tileSize",defaultValue:256},tileWidth:{ref:"tms.tileWidth",type:"number",translation:"geo.properties.tileWidth",defaultValue:40075016},tileHeight:{ref:"tms.tileHeight",type:"number",translation:"geo.properties.tileHeight",defaultValue:40075016},originLeft:{ref:"tms.originLeft",type:"number",translation:"geo.properties.originX",defaultValue:-20037508},originTop:{ref:"tms.originTop",type:"number",translation:"geo.properties.originY",defaultValue:20037508}},show:function(e){return e.tms.hasOwnProperty("auto")&&!e.tms.auto}}},show:function(e){return"tms"===e.dataType}},wms:{component:"items",items:{wmsSetup:{ref:"wms.setup",component:"wms-setup",translation:"geo.properties.wms.setup",getCapabilities:function(){return c.default.getWMSCapabilities}},url:{ref:"wms.url",translation:"Common.URL",minlength:1,type:"string",defaultValue:"",readOnly:true},wmsHint:{component:"items",grouped:true,items:[{component:"text",translation:"geo.properties.wms.hint",style:"hint"}]},attribution:{ref:"wms.attribution",type:"string",translation:"properties.attribution",component:"textarea",maxlength:1024}},show:function(e){return"wms"===e.dataType}},image:{component:"items",grouped:true,items:{url:{ref:"image.url",translation:"Common.URL",minlength:1,expression:"optional",type:"string",defaultValue:"",change:function(e){!e.title&&e.image&&e.image.url&&(e.title=r.default("<a>").attr("href",e.image.url).prop("hostname"))}},positionSection:{component:"items",items:{imagePostion:{ref:"image.position",translation:"geo.properties.image.position",component:"text",style:"header"},settingsHint:{ref:"image.settingshint",translation:"geo.properties.image.hint",component:"text",style:"hint"},topLeftLabel:{ref:"image.topLeftCorner",translation:"geo.properties.image.topLeftCorner",component:"text",style:"sHeader"},maxX:{ref:"image.maxX",translation:"geo.properties.image.top",expression:"optional",type:"number",defaultValue:5},minY:{ref:"image.minY",translation:"geo.properties.image.left",expression:"optional",type:"number",defaultValue:0},bottomRightLabel:{ref:"image.bottomRightCorner",translation:"geo.properties.image.bottomRightCorner",component:"text",style:"sHeader"},minX:{ref:"image.minX",translation:"geo.properties.image.bottom",expression:"optional",type:"number",defaultValue:0},maxY:{ref:"image.maxY",translation:"geo.properties.image.right",expression:"optional",type:"number",defaultValue:5}}},attribution:{ref:"image.attribution",type:"string",translation:"properties.attribution",component:"textarea",maxlength:1024}},show:function(e){return"image"===e.dataType}}}}}e.getGeodataSection=x;function S(){var t={chartType:{ref:"chartType",type:"string",component:"item-selection-list",defaultValue:"pieChart",horizontal:true,grouped:true,items:[{icon:"pie_chart",component:"icon-item",labelPlacement:"bottom",translation:"Object.PieChart",value:"pieChart"},{icon:"bar_chart",component:"icon-item",labelPlacement:"bottom",translation:"Object.BarChart",value:"barChart"}]},pieChart:{component:"items",translation:"geo.properties.pieChart",grouped:true,items:{sizeField:e.sizeLayout.sizeField("ChartLayer"),sizeFieldLabel:e.sizeLayout.sizeFieldLabel(),sizeSlider:e.sizeLayout.sizeSlider("ChartLayer",20,100,[30,80]),sizeSingleSlider:e.sizeLayout.sizeSingleSlider("ChartLayer",20,100,60),sizeRange:e.sizeLayout.sizeRange(),minSizeValue:e.sizeLayout.minSizeValue("ChartLayer"),maxSizeValue:e.sizeLayout.maxSizeValue("ChartLayer")},show:function(e){return"pieChart"===e.chartType}},barChart:{component:"items",translation:"geo.properties.barChart",grouped:true,items:{barHeight:e.sizeLayout.barHeight(10,150,100),barWidth:e.sizeLayout.barWidth(5,40,20)},show:function(e){return"barChart"===e.chartType}}};return{component:"items",translation:"geo.properties.sizeShape",items:t,grouped:true}}e.getSizeAndShapeSection=S;function w(t){var r="";var a={};switch(t){case s.default.POINT:r="geo.properties.sizeShape";a={sizeField:e.sizeLayout.sizeField("PointLayer"),sizeFieldLabel:e.sizeLayout.sizeFieldLabel(),sizeSlider:e.sizeLayout.sizeSlider("PointLayer",1,100,[4,12]),sizeSingleSlider:e.sizeLayout.sizeSingleSlider("PointLayer",1,50,8),sizeRange:e.sizeLayout.sizeRange(),minSizeValue:e.sizeLayout.minSizeValue("PointLayer"),maxSizeValue:e.sizeLayout.maxSizeValue("PointLayer"),sizeShape:e.sizeLayout.sizeShape(),sizeUrl:e.sizeLayout.sizeUrl()};break;case s.default.LINE:r="geo.properties.widthStyle";a={sizeField:e.sizeLayout.sizeField("LineLayer"),sizeFieldLabel:e.sizeLayout.sizeFieldLabel(),sizeSlider:e.sizeLayout.sizeSlider("LineLayer",1,70,[4,12]),sizeSingleSlider:e.sizeLayout.sizeSingleSlider("LineLayer",1,50,8),sizeRange:e.sizeLayout.sizeRange(),minSizeValue:e.sizeLayout.minSizeValue("LineLayer"),maxSizeValue:e.sizeLayout.maxSizeValue("LineLayer"),curve:e.sizeLayout.curve(),arrowStyle:e.sizeLayout.arrowDirection(),arrowPosition:e.sizeLayout.arrowPosition()};break;case s.default.DENSITY:r="geo.properties.weightRadius";a={weightField:e.densityLayout.weightField(),weightFieldLabel:e.densityLayout.weightFieldLabel(),weightFieldText:e.densityLayout.weightFieldText(),radiusSlider:e.densityLayout.radiusSlider(),radiusUnit:e.densityLayout.unitDropdown()};break}return{component:"items",translation:r,items:a}}e.getSizeSection=w;function D(){return{component:"items",translation:"properties.colors",items:{toggle:{ref:"color.auto",translation:"library.colors.autoFillSwitch",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:true},paletteCreator:{ref:"color.segments",component:"palette-creator",colors:["#050555","#00EAF2","#00B441","#DCFC05","#FF0101","#FFEDED"],limits:[.1,.3,.5,.7,.9],types:[true,true,true,true,true],percentage:true,minMax:{min:0,max:100},show:function(e){return!e.color.auto}},densityRangeToggle:{ref:"color.densityRangeAuto",translation:"properties.axis.range",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},minDensityValue:{ref:"color.densityRangeMin",translation:"Visualization.ValueRanges.Min",expression:"optional",type:"number",defaultValue:0,show:function(e){return!e.color.densityRangeAuto}},maxDensityValue:{ref:"color.densityRangeMax",translation:"Visualization.ValueRanges.Max",expression:"optional",type:"number",defaultValue:0,show:function(e){return!e.color.densityRangeAuto}},opacity:{ref:"color.opacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider"}}}}e.getDensityColorSection=D;e.densityLayout={weightField:function(){return{ref:"weightRadius.expression",label:a.default.get("geo.properties.weightField"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"measure",change:function(e){var t=e.weightRadius.expression;_(e,t)}}},weightFieldLabel:function(){return{ref:"weightRadius.label",translation:"Common.Label",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"",show:function(e){return!(void 0===e.weightRadius.expression.key||""===e.weightRadius.expression.key||"libraryItem"===e.weightRadius.expression.type)}}},weightFieldText:function(){return{component:"text",translation:"geo.properties.weightFieldText.hint",style:"hint"}},radiusSlider:function(){return{ref:"weightRadius.radiusSliderValue",label:function(t){var r=t.weightRadius.radiusUnit;var i=t.weightRadius.radius;var n=t.weightRadius.radiusSliderValue;switch(r){case"pixels":r=a.default.get("geo.properties.radiusType.pixelsPrefix");i=Math.round(5*t.weightRadius.radiusSliderValue)+5;return a.default.get("geo.properties.influenceRadius",[i,r]);case"feet":r=e.DENSITY_RADIUS_VALUES[n].feet>=5280?a.default.get("geo.properties.radiusType.milesPrefix"):a.default.get("geo.properties.radiusType.feetPrefix");return a.default.get("geo.properties.influenceRadius",[e.DENSITY_RADIUS_VALUES[n].imperialStr,r]);case"meters":r=e.DENSITY_RADIUS_VALUES[n].meter>=1e3?a.default.get("geo.properties.radiusType.kilometersPrefix"):a.default.get("geo.properties.radiusType.metersPrefix");return a.default.get("geo.properties.influenceRadius",[e.DENSITY_RADIUS_VALUES[n].metricStr,r])}},type:"number",defaultValue:10,min:0,max:e.DENSITY_RADIUS_VALUES.length-1,step:1,component:"slider",change:function(t){var r=0;switch(t.weightRadius.radiusUnit){case"pixels":r=Math.round(5*t.weightRadius.radiusSliderValue)+5;break;case"feet":r=e.DENSITY_RADIUS_VALUES[t.weightRadius.radiusSliderValue].feet;break;case"meters":r=e.DENSITY_RADIUS_VALUES[t.weightRadius.radiusSliderValue].meter;break}t.weightRadius.radius=r}}},unitDropdown:function(){return{ref:"weightRadius.radiusUnit",translation:"geo.properties.radiusType",type:"string",component:"dropdown",options:[{value:"pixels",translation:"geo.properties.radiusType.pixels"},{value:"meters",translation:"geo.properties.radiusType.meters"},{value:"feet",translation:"geo.properties.radiusType.feet"}],defaultValue:"pixels",change:function(t){var r=0;switch(t.weightRadius.radiusUnit){case"pixels":r=Math.round(5*t.weightRadius.radiusSliderValue)+5;break;case"feet":r=e.DENSITY_RADIUS_VALUES[t.weightRadius.radiusSliderValue].feet;break;case"meters":r=e.DENSITY_RADIUS_VALUES[t.weightRadius.radiusSliderValue].meter;break}t.weightRadius.radius=r}}}};e.sizeLayout={sizeField:function(e){var t="";t="LineLayer"===e?"geo.properties.widthBy":"geo.properties.size";return{ref:"size.expression",label:a.default.get(t),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"measure",change:function(e){var t=e.size.expression;O(e,t)}}},sizeFieldLabel:function(){return{ref:"size.label",translation:"Common.Label",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"",show:function(e){return!(void 0===e.size.expression.key||""===e.size.expression.key||"libraryItem"===e.size.expression.type)}}},sizeSlider:function(e,t,r,i){return{ref:"size.slider",label:function(t){var r="";var i="";switch(t.size.shape){case"points":r="Bubble";break;case"squares":r="Square";break;case"triangles":r="Triangle";break;case"hexagons":r="Hexagon";break;case"pentagons":r="Pentagon";break;default:r="Bubble";break}i="LineLayer"===e?"geo.properties.widthRangeLine":"ChartLayer"===e?"geo.properties.sizeRangePie":"geo.properties.sizeRange"+r;return a.default.get(i)},type:"array",component:"slider",min:t,max:r,step:1,defaultValue:i,change:function(e){var t=C(e.size.slider[0]);var r=C(e.size.slider[1]);e.size.radiusMin=t;e.size.radiusMax=r},show:function(e){return e.size.expression.key&&e.size.expression.key.length>0}}},sizeSingleSlider:function(e,t,r,i){return{ref:"size.sliderSingle",label:function(t){var r="";var i="";switch(t.size.shape){case"points":r="Bubble";break;case"squares":r="Square";break;case"triangles":r="Triangle";break;case"hexagons":r="Hexagon";break;case"pentagons":r="Pentagon";break;default:r="Bubble";break}i="LineLayer"===e?"geo.properties.widthSingleLine":"ChartLayer"===e?"geo.properties.sizeSinglePie":"geo.properties.sizeSingle"+r;return a.default.get(i)},type:"number",component:"slider",min:t,max:r,step:1,defaultValue:i,change:function(e){var t=C(e.size.sliderSingle);var r=Math.ceil(t/2);e.size.radiusMin=t-r;e.size.radiusMax=t+r},show:function(e){return!(e.size.expression.key&&e.size.expression.key.length>0)}}},sizeRange:function(){return{ref:"size.autoRadiusValueRange",translation:"properties.axis.range",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:function(e){return e.size.expression.key&&e.size.expression.key.length>0}}},minSizeValue:function(e){var t="";t="LineLayer"===e?"geo.properties.width.min":"geo.properties.radius.min";return{ref:"size.radiusValueMin",translation:t,expression:"optional",type:"number",defaultValue:0,show:function(e){return!e.size.autoRadiusValueRange&&e.size.expression.key&&e.size.expression.key.length>0}}},maxSizeValue:function(e){var t="";t="LineLayer"===e?"geo.properties.width.max":"geo.properties.radius.max";return{ref:"size.radiusValueMax",translation:t,expression:"optional",type:"number",defaultValue:0,show:function(e){return!e.size.autoRadiusValueRange&&e.size.expression.key&&e.size.expression.key.length>0}}},sizeShape:function(){return{ref:"size.shape",translation:"geo.properties.shape",type:"string",component:"dropdown",options:[{value:"points",translation:"geo.properties.marker.points"},{value:"triangles",translation:"geo.properties.marker.triangles"},{value:"squares",translation:"geo.properties.marker.squares"},{value:"pentagons",translation:"geo.properties.marker.pentagons"},{value:"hexagons",translation:"geo.properties.marker.hexagons"}],defaultValue:"points"}},sizeUrl:function(){return{ref:"size.url",translation:"Common.Image",type:"string",component:"expression",defaultValue:"",change:function(){},show:function(e){return!(!e.size||!e.size.shape||"image"!==e.size.shape)}}},arrowDirection:function(){return{ref:"size.arrowDirection",translation:"geo.properties.arrowDirection",type:"string",component:"dropdown",options:[{value:"none",translation:"Common.None"},{value:"forward",translation:"geo.properties.forward"},{value:"backward",translation:"geo.properties.backward"},{value:"both",translation:"geo.properties.both"}],change:function(e){var t=e.size.arrowDirection;_(e,t)}}},arrowPosition:function(){return{ref:"size.arrowPosition",label:function(e){return a.default.get("geo.properties.arrowPosition",e.size.arrowPosition)},type:"number",component:"slider",min:0,max:100,step:1,defaultValue:80,change:function(e){var t=e.size.arrowPosition;_(e,t)},show:function(e){return!(e.size&&"none"===e.size.arrowDirection)}}},curve:function(){return{ref:"size.curviness",label:function(){return a.default.get("geo.properties.curviness")},type:"number",component:"slider",min:0,max:99,step:1,defaultValue:0,show:function(e){return e.path&&e.path.startEndPoint}}},barHeight:function(e,t,r){return{ref:"size.barHeight",translation:"Visualizations.Descriptions.Height",type:"number",component:"slider",min:e,max:t,step:1,defaultValue:r}},barWidth:function(e,t,r){return{ref:"size.barWidth",translation:"Visualizations.Descriptions.Width",type:"number",component:"slider",min:e,max:t,step:.5,defaultValue:r}}};e.locationLayout={locationText:function(e){return{component:"text",translation:"geo.properties.location.hint",style:"hint",show:function(t){return!I(t,e+"isLatLong")}}},latlongText:function(e){return{component:"text",translation:"geo.properties.latlong.hint",style:"hint",show:function(t){return I(t,e+"isLatLong")}}},location:function(e){return{ref:e+"locationOrLatitude",type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",label:function(t){return I(t,e+"isLatLong")?a.default.get("geo.properties.latitude"):a.default.get("geo.properties.locationField")},change:function(t){var r=I(t,e+"locationOrLatitude");_(t,r)}}},locationRestrictionSwitch:function(e){return{ref:e+"locationNamesAuto",translation:"geo.properties.location.details",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:function(t){return!I(t,e+"isLatLong")}}},locationNameCountryInstruction:function(e){return{component:"text",translation:"geo.properties.location.country.hint",style:"hint",show:function(t){return!I(t,e+"isLatLong")&&!I(t,e+"locationNamesAuto")}}},locationNameAdmin1Instruction:function(e){return{component:"text",translation:"geo.properties.location.admin1.hint",style:"hint",show:function(t){return!I(t,e+"isLatLong")&&I(t,e+"locationCountry")&&0!==(I(t,e+"locationCountry").key||"").trim().length&&!I(t,e+"locationNamesAuto")}}},locationType:function(e){return{ref:e+"locationType",translation:"geo.properties.locationType",type:"string",component:"dropdown",options:[{value:"",translation:"Common.Auto"},{value:"LCONT",translation:"geo.properties.location.continent"},{value:"APCL*",translation:"geo.properties.location.country"},{value:"XCISO2",translation:"geo.properties.location.countryISO2"},{value:"XCISO3",translation:"geo.properties.location.countryISO3"},{value:"AADM1",translation:"geo.properties.location.admin1"},{value:"AADM2",translation:"geo.properties.location.admin2"},{value:"AADM3",translation:"geo.properties.location.admin3"},{value:"AADM4",translation:"geo.properties.location.admin4"},{value:"XPC",translation:"geo.properties.location.postalCode"},{value:"P*",translation:"geo.properties.location.city"},{value:"XIATA",translation:"geo.properties.location.airportIATA"},{value:"XICAO",translation:"geo.properties.location.airportICAO"}],defaultValue:"",show:function(t){return!I(t,e+"isLatLong")&&!I(t,e+"locationNamesAuto")}}},country:function(e){return{ref:e+"locationCountry",label:a.default.get("geo.properties.countryForNames"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function(t){return!I(t,e+"isLatLong")&&!I(t,e+"locationNamesAuto")},change:function(t){var r=I(t,e+"locationCountry");_(t,r)}}},admin1:function(e){return{ref:e+"locationAdmin1",label:a.default.get("geo.properties.stateAdmin1ForNames"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function(t){return!I(t,e+"isLatLong")&&I(t,e+"locationCountry")&&0!==(I(t,e+"locationCountry").key||"").trim().length&&!I(t,e+"locationNamesAuto")},change:function(t){var r=I(t,e+"locationAdmin1");_(t,r)}}},admin2:function(e){return{ref:e+"locationAdmin2",label:a.default.get("geo.properties.admin2ForNames"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function(t){return!I(t,e+"isLatLong")&&I(t,e+"locationAdmin1")&&0!==(I(t,e+"locationAdmin1").key||"").trim().length&&I(t,e+"locationCountry")&&0!==(I(t,e+"locationCountry").key||"").trim().length&&!I(t,e+"locationNamesAuto")},change:function(t){var r=I(t,e+"locationAdmin2");_(t,r)}}},isLatLong:function(e){return{ref:e+"isLatLong",translation:"geo.properties.isLatLong",type:"boolean",defaultValue:false}},longitude:function(e){return{ref:e+"longitude",label:a.default.get("geo.properties.longitude"),schemaIgnore:true,type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"dimension",show:function(t){return I(t,e+"isLatLong")},change:function(t){var r=I(t,e+"longitude");_(t,r)}}},emptyTextComp:function(e){return{translation:"",component:"text",style:"sHeader",show:function(t){return!I(t,e+"isLatLong")}}},startPoint:function(){return{component:"text",translation:"geo.properties.startPoint",style:"sHeader"}},endPoint:function(){return{component:"text",translation:"geo.properties.endPoint",style:"sHeader"}},startEndPoint:function(){return{ref:"path.startEndPoint",type:"boolean",component:"dropdown",defaultValue:true,options:[{value:true,translation:"geo.properties.startEndPoint"},{value:false,translation:"geo.properties.lineGeometry"}]}},pathField:function(){return{type:"items",items:{pathField:{ref:"path.field",label:a.default.get("geo.properties.lineGeometryField"),type:"object",component:"color-by-dropdown",schemaIgnore:true,defaultValue:{},libraryItemType:"dimension",show:function(e){return e.path&&!e.path.startEndPoint},change:function(e){var t=e.path.field;_(e,t)}},pathText:{component:"text",translation:"geo.properties.lineGeometry.hint",style:"hint",show:function(e){return e.path&&!e.path.startEndPoint}}}}}};function A(t){var r={};switch(t){case s.default.AREA:r={location1:{type:"items",translation:"geo.properties.location",items:{location:e.locationLayout.location(""),locationText:e.locationLayout.locationText(""),latlongText:e.locationLayout.latlongText(""),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch(""),locationtype:e.locationLayout.locationType(""),country:e.locationLayout.country(""),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction(""),admin1:e.locationLayout.admin1(""),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction(""),admin2:e.locationLayout.admin2("")}}};break;case s.default.CHART:case s.default.DENSITY:case s.default.POINT:r={location1:{type:"items",translation:"geo.properties.location",items:{islatlong:e.locationLayout.isLatLong(""),location:e.locationLayout.location(""),locationText:e.locationLayout.locationText(""),latlongText:e.locationLayout.latlongText(""),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch(""),locationtype:e.locationLayout.locationType(""),country:e.locationLayout.country(""),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction(""),admin1:e.locationLayout.admin1(""),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction(""),admin2:e.locationLayout.admin2(""),longitude:e.locationLayout.longitude("")}}};break;case s.default.LINE:r={path:{type:"items",translation:"geo.properties.path",grouped:true,items:{startEndPoint:e.locationLayout.startEndPoint(),pathField:e.locationLayout.pathField()}},location1:{type:"items",translation:"geo.properties.startPoint",items:{groups:{type:"items",items:{startPoint:e.locationLayout.startPoint(),islatlong:e.locationLayout.isLatLong(""),location:e.locationLayout.location(""),locationText:e.locationLayout.locationText(""),emptyTextComp:e.locationLayout.emptyTextComp(""),latlongText:e.locationLayout.latlongText(""),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch(""),locationtype:e.locationLayout.locationType(""),country:e.locationLayout.country(""),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction(""),admin1:e.locationLayout.admin1(""),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction(""),admin2:e.locationLayout.admin2(""),longitude:e.locationLayout.longitude("")}}},grouped:true,show:function(e){return e.path&&e.path.startEndPoint}},location2:{type:"items",translation:"geo.properties.endPoint",items:{groups:{type:"items",items:{endPoint:e.locationLayout.endPoint(),islatlong:e.locationLayout.isLatLong("location2."),location:e.locationLayout.location("location2."),locationText:e.locationLayout.locationText("location2."),emptyTextComp:e.locationLayout.emptyTextComp("location2."),latlongText:e.locationLayout.latlongText("location2."),locationRestrictionSwitch:e.locationLayout.locationRestrictionSwitch("location2."),locationtype:e.locationLayout.locationType("location2."),country:e.locationLayout.country("location2."),locationNameCountryInstruction:e.locationLayout.locationNameCountryInstruction("location2."),admin1:e.locationLayout.admin1("location2."),locationNameAdmin1Instruction:e.locationLayout.locationNameAdmin1Instruction("location2."),admin2:e.locationLayout.admin2("location2."),longitude:e.locationLayout.longitude("location2.")}}},show:function(e){return e.path&&e.path.startEndPoint}}};break;default:break}var a={component:"items",translation:"geo.properties.location",items:r};return a}e.getLocationSection=A;function q(e){var t={uses:"colorsAndLegend",translation:"properties.colors",grouped:true,show:function(e){return e.qHyperCubeDef&&e.qHyperCubeDef.qDimensions.length>0},items:{colors:{items:{colorMode:{options:function(){return[{value:"primary",translation:"properties.colorMode.primary"},{value:"byDimension",translation:"properties.colorMode.byDimension"},{value:"byMeasure",translation:"properties.colorMode.byMeasure"},{value:"byExpression",translation:"properties.colorMode.byExpression"}]},change:function(e){e.color.auto||"byExpression"!==e.color.mode?l.default.setExprInProperties("colorByExpression",null,e):"byExpression"===e.color.mode&&l.default.setExprInProperties("colorByExpression",e.color.colorExpression,e);"byMeasure"!==e.color.mode||e.color.hasOwnProperty("byMeasureDef")||(e.color.byMeasureDef={label:"",key:"",type:"expression"})}},baseColors:{type:"items",items:{useBaseColor:{options:function(e,t){var r=o.default.getLogicFor("hard","default");var a=t.layout;var i=[{value:"off",translation:"Common.None"}];r.color.baseColor.hasDimensionColor(t)&&"byMultiple"!==a.color.mode&&i.push({value:"dimension",translation:"Common.Dimension"});return i}}}},attributeExpression:{ref:"color.colorExpression",globalChange:function(){},change:function(e){l.default.setExprInProperties("colorByExpression",e.color.colorExpression,e)},show:function(e){return!e.color.auto&&"byExpression"===e.color.mode}},persistentColors:{},expressionIsColor:{show:function(e){return!e.color.auto&&"byExpression"===e.color.mode}},customRange:{type:"items",items:{min:{invalid:function(e){return e.color.measureMin>=e.color.measureMax}},max:{invalid:function(e){return e.color.measureMin>=e.color.measureMax}}}},transparency:{ref:"color.opacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider"}}},outline:{type:"items",items:{outline:{ref:"color.outline",translation:"geo.properties.color.outline",type:"integer",component:"color-picker",dualOutput:true,defaultValue:function(){return{index:-1,color:"#7b7a78"}},change:function(e){e.color.outline.index=-1},show:function(e){return"LineLayer"!==e.type}},outlineTransparency:{ref:"color.outlineOpacity",translation:"properties.opacity",type:"number",defaultValue:1,min:0,max:1,step:.05,component:"slider",show:function(e){return"LineLayer"!==e.type}}}},legend:{show:function(){return false}}}};e===s.default.CHART&&(t.items.colors.items.persistentColors={defaultValue:true});return t}e.getColorSection=q;function M(t){function r(){return{key:"",label:"",type:""}}var a={type:t,locationOrLatitude:r(),locationDefault:"",locationNamesAuto:true,locationType:"",locationCountry:r(),locationAdmin1:r(),locationAdmin2:r(),maxObjects:"PointLayer"===t?4e3:1e3,showLayer:true,color:{outline:{index:-1,color:"#7b7a78"},outlineOpacity:1,opacity:1,auto:!("PointLayer"===t||"AreaLayer"===t||"LineLayer"===t),mode:"primary",paletteColor:{index:6,color:"#4477aa"},measureScheme:"sg",dimensionScheme:"12",colorExpression:"",expressionIsColor:true,measureMin:0,measureMax:10},displayLegend:"auto",showSizeLegend:d.default.GEO_SIZE_LEGEND||f.default.getFlag("GEO_SIZE_LEGEND"),showToolTip:true,showInAllLevels:true,zoomRange:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX],showPopUp:true,displayUnselected:false,label:{show:false,expression:r(),position:"TOP",showInAllLevels:true,visibleRange:[e.ZOOM_RANGE_MIN,e.ZOOM_RANGE_MAX]},drillDown:{auto:true,showLevel0:true,showLevel1:true,showLevel2:true,showLevel3:true,showLevel4:true,showLevel5:true,showLevel6:true,showLevel7:true},qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:[{qWidth:1,qHeight:0}]}};switch(t){case s.default.DENSITY:a.color={segments:{colors:["#050555","#00EAF2","#00B441","#DCFC05","#FF0101","#FFEDED"],limits:[.1,.3,.5,.7,.9],types:[true,true,true,true,true],percentage:true,minMax:{min:0,max:100}},auto:false,densityRangeAuto:true,densityRangeMin:0,densityRangeMax:10,opacity:1};a.weightRadius={expression:r(),label:"",radius:20,radiusSliderValue:5,radiusUnit:"pixels"};break;case s.default.POINT:a.size={radiusMin:4,radiusMax:12,radiusValueMin:0,radiusValueMax:1,autoRadiusValueRange:true,expression:r(),label:"",slider:[8,24],sliderSingle:16,shape:"points"};break;case s.default.GEODATA:i.default.extend(true,a,{title:"",dataType:"tms",tms:{url:"",attribution:"",auto:true,tileSize:256,tileWidth:40075016,tileHeight:40075016,originLeft:-20037508,originTop:20037508},wms:{url:"https://",attribution:"",version:"1.1.0",selectedCrs:"EPSG:3857",selectedFormat:"PNG",hasWmsLoaded:false,viaServer:false,capabilities:{layers:[],transparent:true,crs:["EPSG:3857"],formats:["PNG"]}},image:{url:"",minX:0,minY:0,maxX:5,maxY:5,attribution:""}});break;case s.default.LINE:a.size={radiusMin:4,radiusMax:12,radiusValueMin:0,radiusValueMax:1,autoRadiusValueRange:true,expression:r(),label:"",slider:[8,24],sliderSingle:5,arrowDirection:"none",arrowPosition:80,curviness:0};a.location2={locationOrLatitude:r(),locationDefault:"",locationNamesAuto:true,locationType:"",locationCountry:r(),locationAdmin1:r(),locationAdmin2:r()};a.path={startEndPoint:true,field:r(),locationDefault:""};break;case s.default.CHART:a.chartType="pieChart";a.size={radiusMin:20,radiusMax:100,radiusValueMin:0,radiusValueMax:1,autoRadiusValueRange:true,expression:r(),label:"",slider:[20,80],sliderSingle:60,barHeight:100,barWidth:20};break}return a}e.getInitialProperties=M;function C(e){return e<20?Math.ceil(e/2):e<40?e-20+10:e<60?30+2*(e-40):70+4*(e-60)}function E(e){return e<10?2*e:e<30?20+Math.round(e-10):e<70?40+Math.round((e-30)/2):60+Math.round((e-70)/4)}e.getSliderValueFromSize=E;function I(e,t){t=t.replace(/\[(\w+)\]/g,".$1");t=t.replace(/^\./,"");var r=t.split(".");for(var a=0,i=r.length;a<i;++a){var n=r[a];if(!(n in e))return;e=e[n]}return e}e.byString=I;function _(e,t){var r=t.activeDimensionIndex;if(void 0!==r)try{var a=e.qHyperCubeDef.qDimensions[r].qLibraryId;if(a){t.key=a;t.label="";t.type="libraryItem";t.activeDimensionIndex=void 0}else t.key=p.default.bracketStringIfNeeded(t.key)}catch(e){}}function O(e,t){var r=t.activeMeasureIndex;if(void 0!==r&&e.qHyperCubeDef.qMeasures.length>r)try{var a=e.qHyperCubeDef.qMeasures[r];if(a.qLibraryId){t.type="libraryItem";t.label=a.qLibraryId;t.key=a.qLibraryId}else{var i=a.qDef||{};t.type="expression";t.key=i.qDef;t.label=i.qLabel||i.qDef||""}}catch(e){}}e.DENSITY_RADIUS_VALUES=[{meter:1,feet:3,metricStr:"1",imperialStr:"3"},{meter:1.5,feet:5,metricStr:"1.5",imperialStr:"5"},{meter:2,feet:7,metricStr:"2",imperialStr:"7"},{meter:3,feet:10,metricStr:"3",imperialStr:"10"},{meter:4,feet:13,metricStr:"4",imperialStr:"13"},{meter:5,feet:16,metricStr:"5",imperialStr:"16"},{meter:7,feet:23,metricStr:"7",imperialStr:"23"},{meter:10,feet:33,metricStr:"10",imperialStr:"33"},{meter:15,feet:50,metricStr:"15",imperialStr:"50"},{meter:20,feet:65,metricStr:"20",imperialStr:"65"},{meter:40,feet:130,metricStr:"40",imperialStr:"130"},{meter:60,feet:200,metricStr:"60",imperialStr:"200"},{meter:80,feet:260,metricStr:"80",imperialStr:"260"},{meter:100,feet:330,metricStr:"100",imperialStr:"330"},{meter:130,feet:430,metricStr:"130",imperialStr:"430"},{meter:160,feet:530,metricStr:"160",imperialStr:"530"},{meter:200,feet:650,metricStr:"200",imperialStr:"650"},{meter:250,feet:820,metricStr:"250",imperialStr:"820"},{meter:300,feet:1e3,metricStr:"300",imperialStr:"1000"},{meter:350,feet:1200,metricStr:"350",imperialStr:"1200"},{meter:400,feet:1400,metricStr:"400",imperialStr:"1400"},{meter:500,feet:2300,metricStr:"500",imperialStr:"1600"},{meter:700,feet:3300,metricStr:"700",imperialStr:"2300"},{meter:1e3,feet:3300,metricStr:"1",imperialStr:"3300"},{meter:2e3,feet:5280,metricStr:"2",imperialStr:"1"},{meter:3e3,feet:10560,metricStr:"3",imperialStr:"2"},{meter:4e3,feet:15840,metricStr:"4",imperialStr:"3"},{meter:5e3,feet:21120,metricStr:"5",imperialStr:"4"},{meter:6e3,feet:26400,metricStr:"6",imperialStr:"5"},{meter:8e3,feet:31680,metricStr:"8",imperialStr:"6"},{meter:1e4,feet:42240,metricStr:"10",imperialStr:"8"},{meter:15e3,feet:52800,metricStr:"15",imperialStr:"10"},{meter:25e3,feet:63360,metricStr:"25",imperialStr:"12"},{meter:4e4,feet:79200,metricStr:"40",imperialStr:"15"},{meter:6e4,feet:132e3,metricStr:"60",imperialStr:"25"},{meter:8e4,feet:264e3,metricStr:"80",imperialStr:"50"},{meter:1e5,feet:316800,metricStr:"100",imperialStr:"60"},{meter:13e4,feet:422400,metricStr:"130",imperialStr:"80"},{meter:17e4,feet:528e3,metricStr:"170",imperialStr:"100"},{meter:2e5,feet:66e4,metricStr:"200",imperialStr:"125"},{meter:25e4,feet:792e3,metricStr:"250",imperialStr:"150"},{meter:35e4,feet:1056e3,metricStr:"350",imperialStr:"200"},{meter:5e5,feet:132e4,metricStr:"500",imperialStr:"250"},{meter:65e4,feet:2112e3,metricStr:"650",imperialStr:"400"},{meter:8e5,feet:264e4,metricStr:"800",imperialStr:"500"},{meter:1e6,feet:3168e3,metricStr:"1000",imperialStr:"600"},{meter:125e4,feet:4224e3,metricStr:"1250",imperialStr:"800"},{meter:15e5,feet:528e4,metricStr:"1500",imperialStr:"1000"},{meter:175e4,feet:5808e3,metricStr:"1750",imperialStr:"1100"},{meter:2e6,feet:66e5,metricStr:"2000",imperialStr:"1250"}]})(m||(m={}));t.default=m}.apply(t,a),void 0!==i&&(e.exports=i))}}]);