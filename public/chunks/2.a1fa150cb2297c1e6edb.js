/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[2],{1002:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(226),e(90)],s=function(t,i,e){var n;n=t.extend("Line",{init:function t(e,n,s,r){this._super();i.apply(this,[e,n,s,r])},containsPoint:function t(){return false},intersectsLocalLine:i.prototype.intersectsLine,intersectsLocalRect:i.prototype.intersectsRect,getLocalPoints:i.prototype.getPoints,getLocalBoundingRect:function t(){var i=Math.min(this.x1,this.x2),e=Math.max(this.x1,this.x2),n=Math.min(this.y1,this.y2),s=Math.max(this.y1,this.y2);return{x:i,y:n,width:e-i,height:s-n}},set:function t(){i.prototype.set.apply(this,[].slice.call(arguments));this.invalidateBounds()},getPartialFromRange:function t(i,s){if(s<this.x1||i>this.x2)return;var r=this.x2-this.x1,a=this.y2-this.y1,h=i<=this.x1?0:(i-this.x1)/r,o=s>=this.x2?1:(s-this.x1)/r;var c=new n(this.x1+h*r,this.y1+h*a,this.x1+o*r,this.y1+o*a);c.data=e.extend({},this.data);if(!Number.isNaN(+this.data.y1_)){var l=this.data.y2_-this.data.y1_;c.data.y1_=this.data.y1_+h*l;c.data.y2_=this.data.y1_+o*l}return c}});Object.keys(i.prototype).forEach(function(t){!i.prototype.hasOwnProperty(t)&&["pointInside","intersectsLine","getBoundingRect","getPoints","intersectsRect"].indexOf(t)<0&&(n.prototype[t]=i.prototype[t])});return n}.apply(i,n),void 0!==s&&(t.exports=s))},1032:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(2066),e(226)],s=function(t,i,e){var n,s=document.createElement("canvas").getContext("2d");function r(t){return 1.5*t.measureText("m").width}function a(t){s.font=this.font;var e=r(s),n=(this.lineHeightMultiplicator||1)*e,a="maxWidth"in this?this.maxWidth:this.width,h="maxHeight"in this?this.maxHeight:this.height,o,c=this.maxNumLines,l=[],u=0,d=[];this.lineHeight=n;if(h<e)return[];o=h?Math.max(1,Math.floor(h/n)):c||1;if(Array.isArray(c)){c.forEach(function(t){u+=Number.isNaN(+t)||t<=0?0:t});c.forEach(function(t){l.push(Number.isNaN(+t)||t<=0?o-u:t)})}else l=[Number.isNaN(+c)||c<=0?o:Math.min(o,c)];Array.isArray(t)?t.forEach(function(t,e){d.length<o&&(d=d.concat(i.wrap(t,a,this.font,l[e])))},this):d=i.wrap(t,a,this.font,l[0],this.ellipsis);return d}n=t.extend("Text",{init:function t(){this._super();this.options={};this.x=0;this.y=0;this.lineHeightMultiplicator=1;this._dirtyMeasures=true;this._measures={numLines:0,width:0,height:0}},setText:function t(i){this.text=i;this.invalidateBounds();return this},tokenize:function t(){this.lines=a.apply(this,[this.text]);return this},measure:function t(){this.preRender();if(this._dirtyMeasures){var i=0,e,n=this.lines;s.font!==this.font&&(s.font=this.font);for(e=0;e<n.length;e++)i=Math.max(i,s.measureText(n[e]).width);this._measures.numLines=n.length;this._measures.width=i;this._measures.height=n.length*this.lineHeight;this._dirtyMeasures=false}return{numLines:this._measures.numLines,width:this._measures.width,height:this._measures.height}},getHorizontalAnchor:function t(){var i=this.x||0,e;if(this.width>0){e=this.attr("align");if("center"===e)return i+this.width/2;if("right"===e)return i+this.width}return i},getVerticalAnchorFirstLine:function t(){var i=this.y||0,e=this.attr("baseline"),n;if("middle"===e){n=this.attr("lineHeight");i-=(this.lines.length-1)*n/2;this.height>0&&(i+=this.height/2)}else if("bottom"===e){n=this.attr("lineHeight");i-=(this.lines.length-1)*n;this.height>0&&(i+=this.height)}return i},preRender:function t(){var i="",e;Array.isArray(this.text)?this.text.forEach(function(t){i+=t+"__"}):i=this.text;e=this.attr("font");this.font=e;var n=i+e+this.maxWidth+this.width+this.height;if(n!==this._renderedID){this.tokenize();this.invalidateBounds();this._dirtyMeasures=true;this._renderedID=n}return this},getLocalBoundingRect:function t(){var i=this.measure(),e=this.x,n=this.y,s=this.attr("align")||"left",r=this.attr("baseline")||"top";this.height?"middle"===r?n+=this.height/2-i.height/2:"bottom"===r&&(n+=this.height-i.height):"middle"===r?n-=i.height/2:"bottom"===r&&(n-=i.height);this.width?"center"===s?e+=this.width/2-i.width/2:"right"===s&&(e+=this.width-i.width):"center"===s?e-=i.width/2:"right"===s&&(e-=i.width);return{x:e,y:n,width:i.width,height:i.height}},containsPoint:function t(i,e){var n=this.getLocalBoundingRect();return i>n.x&&i<n.x+n.width&&e>n.y&&e<n.y+n.height},getLocalPoints:function t(){var i=this.getLocalBoundingRect();return[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}]},intersectsLocalRect:function t(i){if(!i)return false;var e=this.getLocalBoundingRect();return e.x<=i.x+i.width&&i.x<=e.x+e.width&&e.y<=i.y+i.height&&i.y<=e.y+e.height},intersectsLocalLine:function t(i){if(this.containsPoint(i.x1,i.y1)||this.containsPoint(i.x2,i.y2))return true;var n=this.getLocalBoundingRect();return i.intersectsLine(new e(n.x,n.y,n.x+n.width,n.y))||i.intersectsLine(new e(n.x+n.width,n.y,n.x+n.width,n.y+n.height))||i.intersectsLine(new e(n.x+n.width,n.y+n.height,n.x,n.y+n.height))||i.intersectsLine(new e(n.x,n.y+n.height,n.x,n.y))}});return n}.apply(i,n),void 0!==s&&(t.exports=s))},1034:function(t,i,e){"use strict";var n,s;!(n=[],s=function(){var t={getAxisUnitAlignment:function t(i,e){return["near","far"].contains(i)?e?i:"near"===i?"far":"near":e?"left"===i?"near":"far":"bottom"===i?"far":"near"},roundToHalf:function t(i){var e=Math.round(i);return e-i>=0?e-.5:e+.5},getTicks:function t(i){var e=[];i&&i.forEach(function(t){e.push({position:0,value:t,opacity:1})});return e},getAvgTickWidth:function t(i){if(!i||i.length<2)return 0;return Math.abs(i[i.length-1]-i[0])/(i.length-1)}};return t}.apply(i,n),void 0!==s&&(t.exports=s))},1047:function(t,i,e){"use strict";var n,s;!(n=[e(92)],s=function(t){return t.extend({init:function t(){this._listeners={}},listen:function t(i,e,n){if("function"!==typeof e)return this;this._listeners[i]||(this._listeners[i]=[]);this._listeners[i].push({callback:e,scope:n});return this},stopListen:function t(i,e,n){var s=this._listeners[i],r;if(s)for(r=s.length-1;r>=0;r-=1)e?(n&&n===s[r].scope&&s[r].callback===e||!n&&s[r].callback===e)&&s.splice(r,1):s.splice(r,1);return this},fire:function t(i,e){var n=i,s,r;"string"!==typeof n&&(n=i.getType());s=this._listeners[n];if(s)for(r=s.length-1;r>=0;--r)"string"===typeof i?s[r].callback.apply(s[r].scope?s[r].scope:this,e||[]):s[r].callback.apply(s[r].scope?s[r].scope:this,[i]);return this},hasListener:function t(i){var e=i;"string"!==typeof e&&(e=i.getType());return this._listeners&&this._listeners[e]&&this._listeners[e].length}})}.apply(i,n),void 0!==s&&(t.exports=s))},1048:function(t,i,e){"use strict";var n,s;!(n=[e(1302),e(200),e(104),e(1735)],s=function(t,i,e,n){var s,r={translate:function t(i,e){this.matrix.translate(i,e);this._dirtyBounds=true;this.invalidate();return this},rotate:function t(i){this.matrix.rotate(i);this._dirtyBounds=true;this.invalidate();return this},scale:function t(i,e){this.matrix.scale(i,e);this._dirtyBounds=true;this.invalidate();return this}};function a(){this.matrix=new i;this.scale=r.scale;this.rotate=r.rotate;this.translate=r.translate;this._dirtyBounds=true}s=t.extend("DisplayObject",{init:function t(){this._super();this._dirtyBounds=true;this._bounds=new e(NaN,NaN,NaN,NaN);this._vmBounds=new e(NaN,NaN,NaN,NaN);this._visualBounds=new e(NaN,NaN,NaN,NaN);this._stage=null;this.rData={inherited:{}};this._modelView=null;this._inverseModelView=null;this._inheritedProps={}},find:function t(i){return n.find(i,this)},translate:function t(i,e){if(0===i&&0===e)return this;a.call(this);return r.translate.call(this,i,e)},rotate:function t(i){if(Number.isNaN(+i)||0===i)return this;a.call(this);return r.rotate.call(this,i)},scale:function t(i,e){if(1===i)return this;a.call(this);return r.scale.call(this,i,e)},clearTransform:function t(){if(this.matrix){this.matrix.identity();this._dirtyBounds=true;this.invalidate()}return this},invalidate:function t(){var i=this._stage||this.stage;i&&i.invalidateObject(this);this._inheritedProps={};return this},attr:function t(i){if("undefined"!==typeof this[i])return this[i];if("undefined"!==typeof this.rData.inherited[i])return this.rData.inherited[i]},attrs:function t(i){for(var e in i)"undefined"===typeof i[e]?delete this[e]:this[e]=i[e];return this},getBoundingRect:function t(){this._dirtyBounds&&this._calculateBounds();return this._vmBounds},getVisualBounds:function t(){this._dirtyBounds&&this._calculateBounds();return this._visualBounds},getVisualExpansion:function t(){var i=this.attr("stroke"),e;if(!i)return 0;e=this.attr("strokeWidth");if(!e)return 0;return e/2},pointInside:function t(i,e){if(false===this.visible)return false;var n=this.getInverseModelView(),s;if(n&&true!==this._transformedIncomingPoint){s=n.transformPoint({x:i,y:e});return this.containsPoint(s.x,s.y)}return this.containsPoint(i,e)},intersectsLine:function t(i){if(false===this.visible)return false;var e=this.getInverseModelView(),n,s,r;if(e&&true!==this._transformedIncomingPoint){s=e.transformPoint({x:i.x1,y:i.y1});r=e.transformPoint({x:i.x2,y:i.y2});i=i.clone();i.set(s.x,s.y,r.x,r.y);this._transformedIncomingPoint=true;n=this.intersectsLocalLine(i);delete this._transformedIncomingPoint;return n}return this.intersectsLocalLine(i)},intersectsRect:function t(i){if(false===this.visible)return false;var e=this.getInverseModelView(),n,s;if(e&&true!==this._transformedIncomingPoint){this._transformedIncomingPoint=true;n=this._getTransformedBoundsOfRect(e,i);s=this.intersectsLocalRect(n);delete this._transformedIncomingPoint;return s}return this.intersectsLocalRect(i)},getPoints:function t(){if(false===this.visible)return[];var i=this.getModelView(),e,n,s;if(i){e=this.getLocalPoints().slice();for(n=0,s=e?e.length:0;n<s;n++)e[n]=i.transformPoint(e[n]);return e}return this.getLocalPoints()},getLocalPoints:function t(){return[]},intersectsLocalLine:function t(){return false},intersectsLocalRect:function t(i){var e="function"===typeof i.getPoints?i.getPoints():[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],n,s=e.length;for(n=0;n<s;n++)if(this.containsPoint(e[n].x,e[n].y))return true;e=this.getLocalPoints();s=e.length;for(n=0;n<s;n++)if(e[n].x>=i.x&&e[n].x<=i.x+i.width&&e[n].y>=i.y&&e[n].y<=i.y+i.height)return true;return false},containsPoint:function t(){return false},getLocalBoundingRect:function t(){return this._bounds},invalidateBounds:function t(){this._dirtyBounds=true;return this},clearModelView:function t(){this._modelView=null;this._inverseModelView=null;this._isModelViewCalculated=false;this._dirtyBounds=true},getModelView:function t(){this._modelView||this._isModelViewCalculated||this._calculateModelView();return this._modelView},getInverseModelView:function t(){this._inverseModelView||this._isModelViewCalculated||this._calculateModelView();return this._inverseModelView},destroy:function t(){this._stage=null},_calculateBounds:function t(){var i=this._bounds,e=this.getLocalBoundingRect(),n=this.getModelView(),s=this.getVisualExpansion(),r;if(e){i.set(e.x,e.y,e.width,e.height);if(n){r=this._getTransformedBoundsOfRect(n,i);this._vmBounds.set(r.x,r.y,r.width,r.height);r=this._getTransformedBoundsOfRect(n,{x:i.x-s,y:i.y-s,width:i.width+2*s,height:i.height+2*s});this._visualBounds.set(r.x,r.y,r.width,r.height)}else{this._vmBounds.set(e.x,e.y,e.width,e.height);this._visualBounds.set(e.x-s,e.y-s,e.width+2*s,e.height+2*s)}}else{i.set(NaN,NaN,NaN,NaN);this._vmBounds.set(NaN,NaN,NaN,NaN);this._visualBounds.set(NaN,NaN,NaN,NaN)}this._dirtyBounds=false},_getTransformedBoundsOfRect:function t(i,n){var s,r,a,h,o,c,l;s=i.transformPoints([{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}]);r=s.map(function(t){return t.x});a=s.map(function(t){return t.y});h=Math.min.apply(null,r);c=Math.max.apply(null,r);o=Math.min.apply(null,a);l=Math.max.apply(null,a);return new e(h,o,c-h,l-o)},_calculateModelView:function t(){var e=this;while(e&&!e.rData.vmTransform)e=e._parent;this._isModelViewCalculated=true;if(!e)return false;if(!e._modelView){e._modelView=new i;e._inverseModelView=new i}if(e.rData.dirtyVMTransform){e._modelView.set(e.rData.vmTransform);e._inverseModelView.set(e.rData.vmTransform).invert();delete e.rData.dirtyVMTransform}this._modelView=e._modelView;this._inverseModelView=e._inverseModelView;return true}});Object.defineProperties(s.prototype,{stage:{get:function t(){this._parent&&!this._stage?this._stage=this._parent.stage:this._parent||this._stage===this||(this._stage=null);return this._stage}}});return s}.apply(i,n),void 0!==s&&(t.exports=s))},1049:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(1167)],s=function(t,i){var e;e=t.extend("Circle",{init:function t(e,n,s){this._super();i.apply(this,[e,n,s])},containsPoint:i.prototype.pointInside,intersectsLocalLine:i.prototype.intersectsLine,intersectsLocalRect:i.prototype.intersectsRect,getLocalPoints:i.prototype.getPoints,getLocalBoundingRect:function t(){return{x:this.cx-this.r,y:this.cy-this.r,width:2*this.r,height:2*this.r}},set:function t(){i.prototype.set.apply(this,[].slice.call(arguments));this.invalidateBounds()}});Object.keys(i.prototype).forEach(function(t){!e.prototype.hasOwnProperty(t)&&["pointInside","intersectsLine","getBoundingRect","getPoints","intersectsRect"].indexOf(t)<0&&(e.prototype[t]=i.prototype[t])});return e}.apply(i,n),void 0!==s&&(t.exports=s))},1167:function(t,i,e){"use strict";var n,s;!(n=[e(104)],s=function(t){function i(t,i,e){0===arguments.length?this.set(0,0,0):this.set(t,i,e)}i.prototype={toString:function t(){return this.cx+" "+this.cy+" "+this.r},clone:function t(){return new i(this.cx,this.cy,this.r)},set:function t(i,e,n){this.cx=i;this.cy=e;this.r=n;this.radius=n},setPosition:function t(i,e){this.cx=i;this.cy=e},setRadius:function t(i){this.radius=i},combineWith:function t(){},intersectsWith:function t(i){return i.pointInside(this.cx,this.cy)},intersectsRect:function t(i){return i.pointInside(this.cx,this.cy)},intersectsLine:function t(i){if(this.pointInside(i.x1,i.y1)||this.pointInside(i.x2,i.y2))return true;var e,n,s,r,a,h,o,c;e=Math.sqrt(Math.pow(i.x2-i.x1,2)+Math.pow(i.y2-i.y1,2));n=(i.x2-i.x1)/e;s=(i.y2-i.y1)/e;r=n*(this.cx-i.x1)+s*(this.cy-i.y1);a=n*(this.cx-i.x2)+s*(this.cy-i.y2);if(r>=0&&a<=1){h=r*n+i.x1;o=r*s+i.y1;c=Math.sqrt(Math.pow(h-this.cx,2)+Math.pow(o-this.cy,2));if(c<=this.r)return true}else if(a>=0&&a<=1){h=a*n+i.x2;o=a*s+i.y2;c=Math.sqrt(Math.pow(h-this.cx,2)+Math.pow(o-this.cy,2));if(c<=this.r)return true}return false},pointInside:function t(i,e){var n=Math.sqrt(Math.pow(this.cx-i,2)+Math.pow(this.cy-e,2));return n<=this.r},getPoints:function t(){return[{x:this.cx,y:this.cy}]},getBoundingRect:function i(){return new t(this.cx-this.r,this.cy-this.r,2*this.r,2*this.r)}};return i}.apply(i,n),void 0!==s&&(t.exports=s))},1168:function(t,i,e){"use strict";var n,s;!(n=[e(1302)],s=function(t){var i,e;i=t.extend("TreeNode",{addChild:function i(n){if(!n||!(n instanceof t))throw new TypeError("Expecting a Node as argument, but got "+n);if(n===this)throw new Error("Can not add itself as child!");if(n._children&&n._children.length&&this.ancestors.indexOf(n)>=0)throw new Error("Can not add an ancestor as child!");n._parent&&n._parent!==this&&n._parent.removeChild(n);if(n._pushed){e=this._children.indexOf(n);e>=0&&this._children.splice(e,1)}n._pushed=true;this._children.push(n);n._parent=this;n._ancestors=null;return this},addChildren:function t(i){var e,n=i?i.length:0;for(e=0;e<n;e++)this.addChild(i[e]);return this},removeChild:function t(i){e=this._children.indexOf(i);if(e>=0){this._children.splice(e,1);i._parent=null;i._ancestors=null}return this},removeChildren:function t(i){var e,n;if(!this._children)return this;if(i){n=i.length;for(e=0;e<n;e++)this.removeChild(i[e])}else while(this._children.length)this.removeChild(this._children[0]);return this}});return i}.apply(i,n),void 0!==s&&(t.exports=s))},1232:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(2059)],s=function(t,i){var e,n=Math.PI/2,s=3*Math.PI/2,r=2*Math.PI;e=t.extend("Arc",{init:function t(e,n,s,r,a,h,o){this._super();i.apply(this,[e,n,s,r,a,h,o])},containsPoint:i.prototype.pointInside,intersectsLocalLine:i.prototype.intersectsLine,getLocalPoints:i.prototype.getPoints,intersectsLocalRect:function t(e){return i.prototype.intersectsWith.call(this,e)},getLocalBoundingRect:function t(){var i=[this.x1,this.x2,this.x3,this.x4],e=[this.y1,this.y2,this.y3,this.y4],a=(this.start+this.radianOffset)%r,h=a+this.end-this.start,o,c;(a<r&&h>r||a<0&&h>0)&&i.push(this.cx+this.radius);a<n&&h>n&&e.push(this.cy+this.radius);a<Math.PI&&h>Math.PI&&i.push(this.cx-this.radius);(a<s&&h>s||a<-n&&h>-n)&&e.push(this.cy-this.radius);o=Math.min.apply(null,i);c=Math.min.apply(null,e);return{x:o,y:c,width:Math.max.apply(null,i)-o,height:Math.max.apply(null,e)-c}},getRelevantPosition:function t(){var e=this.getModelView();var n=i.prototype.getRelevantPosition.call(this);if(e){var s=this.cx+this.radius*Math.cos(this.arcCenter+this.radianOffset),r=this.cy+this.radius*Math.sin(this.arcCenter+this.radianOffset),a={x:s,y:r};a=e.transformPoint(a);n.pos.x=a.x;n.pos.y=a.y}return n},set:function t(){i.apply(this,[].slice.call(arguments));this.invalidateBounds()}});Object.keys(i.prototype).forEach(function(t){!e.prototype.hasOwnProperty(t)&&["pointInside","intersectsLine","getBoundingRect","getPoints","getRelevantPosition","intersectsRect"].indexOf(t)<0&&(e.prototype[t]=i.prototype[t])});return e}.apply(i,n),void 0!==s&&(t.exports=s))},1302:function(t,i,e){"use strict";var n,s;!(n=[e(92)],s=function(t){var i;i=t.extend("Node",{init:function t(){this._parent=null;this._children=[];this._ancestors=null;this.data={}},detach:function t(){this._parent&&this._parent.removeChild(this);return this},each:function t(i,e){if("function"!==typeof i||!this._children||!this._children.length)return this;var n,s=this._children.length;for(n=0;n<s;n++){i.call(e,this._children[n],n);this._children[n].isBranch&&this._children[n].each(i,e)}return this}});Object.defineProperties(i.prototype,{parent:{get:function t(){return this._parent}},isBranch:{get:function t(){return this._children&&this._children.length}},children:{get:function t(){return this._children}},siblings:{get:function t(){if(!this._parent)return[];var i=this._parent._children.slice();i.splice(i.indexOf(this),1);return i}},ancestors:{get:function t(){if(!this._ancestors){var i=this._parent;this._ancestors=i?[i].concat(i.ancestors):[]}return this._ancestors}},descendants:{get:function t(){var i=[],e,n,s;for(e=0,n=this._children.length;e<n;e++){s=this._children[e];i.push(s);s._children.length&&(i=i.concat(s.descendants))}return i}},leaves:{get:function t(){var i=[],e,n,s=this._children.length;for(n=0;n<s;n++){e=this._children[n];e._children&&e._children.length?i=i.concat(e.leaves):i.push(e)}return i}}});return i}.apply(i,n),void 0!==s&&(t.exports=s))},1735:function(t,i,e){"use strict";var n,s;!(n=[e(101)],s=function(t){var i={className:/^\w[\w-]+/,attr:/^\[\w(?:[\w._-]+)?(?:[!]?=['"][\w\s*#_-]*['"])?\]/},e={className:function t(i,e){return e.filter(function t(e){var n=e.constructor.name;if(n){var s=i.replace(/(-[a-z])/g,function(t){return t[1].toUpperCase()});s=s[0].toUpperCase()+s.slice(1);return n===i||n===s}})},attr:function i(e,n,s,r){return r.filter(function i(r){var a=t.getValue(r,e);if(!n)return"undefined"!==typeof a;if("undefined"===typeof a)return false;switch(n){case"=":return s===String(a);case"!=":return s!==String(a)}return false})}},n={find:function t(i,e){var n,s=[],r=[],a;if(e.isBranch){n=this._tokenize(i);a=e.descendants;n.forEach(function t(i){var e=a.slice(),n=[],s=false;i.reverse().forEach(function t(i){if(" "===i.type){n.push(e);e=a.slice();s=false;return}e=this._filter(i,e);s=true},this);s&&n.push(e);var h=n[0].filter(function t(i){var e=i.parent,s,r;for(s=1;s<n.length;s++){while(e&&(r=n[s].indexOf(e))<0)e=e.parent;if(r<0)return false}return true});r.push(h)},this);r.forEach(function(t){t.forEach(function t(i){s.indexOf(i)<0&&s.push(i)})})}return s||[]},_filter:function t(i,n){if(!n||!n.length||!i||"function"!==typeof e[i.type])return[];switch(i.type){case"className":return e[i.type](i.value,n);case"attr":return e[i.type](i.attribute,i.operator,i.attributeValue,n)}return[]},_tokenize:function t(e){var n=[],s,r,a,h;e.split(/\s*,\s*/).forEach(function(t){t=t.trim();s=[];while(t){h=false;a=t.match(/^\s*([>+~]|\s)\s*/);if(a){h=true;s.push({type:" ",value:a[0]});t=t.slice(a[0].length)}for(var e in i){a=t.match(i[e]);if(a){h=true;t=t.slice(a[0].length);r={type:e,value:a[0]};if("attr"===e){a=a[0].match(/\[(\w[\w._-]+)?(?:([!]?=)['"]([\w\s#_-]*)['"])?\]/);r.attribute=a[1];r.operator=a[2];r.attributeValue=a[3]}s.push(r)}}s&&s.length&&n.indexOf(s)<0&&n.push(s);if(!h)break}});return n}};return n}.apply(i,n),void 0!==s&&(t.exports=s))},1736:function(t,i,e){"use strict";var n,s;!(n=[e(293)],s=function(t){return{displayObject:t,render:function t(i,e,n){if(this._radius){var s=this.x,r=this.y,a=this.width,h=this.height,o=Math.min(this._radius,a/2,h/2),c=s+a,l=r+h;i.beginPath();i.moveTo(s+o,r);i.quadraticCurveTo(s,r,s,r+o);i.lineTo(s,l-o);i.quadraticCurveTo(s,l,s+o,l);i.lineTo(c-o,l);i.quadraticCurveTo(c,l,c,l-o);i.lineTo(c,r+o);i.quadraticCurveTo(c,r,c-o,r);i.lineTo(s+o,r);i.closePath();e&&i.fill();n&&i.stroke()}else{e&&i.fillRect(this.x,this.y,this.width,this.height);n&&i.strokeRect(this.x,this.y,this.width,this.height)}}}}.apply(i,n),void 0!==s&&(t.exports=s))},1737:function(t,i,e){"use strict";var n,s;!(n=[e(1049)],s=function(t){return{displayObject:t,render:function t(i,e,n){i.beginPath();i.moveTo(this.cx+this.r,this.cy);i.arc(this.cx,this.cy,this.r,0,2*Math.PI,false);e&&i.fill();n&&i.stroke()}}}.apply(i,n),void 0!==s&&(t.exports=s))},1738:function(t,i,e){"use strict";var n,s;!(n=[e(278)],s=function(t){return{displayObject:t,render:function t(i,e,n){var s,r,a,h,o,c;i.beginPath();for(o=0;o<this._polygons.length;o++){s=this._polygons[o].points;r=s?s.length:0;a=s[0];if(!a)return;c=a;i.moveTo(a.x,a.y);for(h=1;h<r;h+=1){a=s[h];i.lineTo(a.x,a.y)}false===this.close||!n||c.x===a.x&&c.y===a.y||i.lineTo(c.x,c.y)}false!==this.close&&i.closePath();e&&i.fill();n&&i.stroke()}}}.apply(i,n),void 0!==s&&(t.exports=s))},180:function(t,i,e){"use strict";var n,s;function r(t){r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(i){return typeof i}:function t(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};return r(t)}!(n=[e(2057),e(2058),e(104),e(1232),e(305),e(89),e(11)],s=function(t,i,e,n,s,a,h){var o;function c(t){if(!this._$renderAreaWrap)return;this.containerRect=new e(this.rect.x*this.layoutToContainerRatios.x||1,this.rect.y*this.layoutToContainerRatios.y||1,this.rect.width*this.layoutToContainerRatios.x||1,this.rect.height*this.layoutToContainerRatios.y||1);this.container.style.left=this.containerRect.x+"px";this.container.style.top=this.containerRect.y+"px";this.container.style.width=this.containerRect.width+"px";this.container.style.height=this.containerRect.height+"px";var i=this.isVisible(t)&&0!==this.rect.width&&0!==this.rect.height?"block":"none";this.container.style.display!==i&&(this.container.style.display=i)}function l(t,e){return i.checkEqual(t,e)}function u(t){if(!t)return"";t=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return t.replace(/^-/,"")}o=t.extend("ChartComponent",{init:function t(n,s,r){this._super();this.testId=r;this.options=h.extend(true,{},{dock:"center",show:true,relevantSize:0,showFlag:this.ShowFlags.SPARK,components:{}},s);this.rect=new e;this._transitionHelper=new i;this._transitionHelper.setTransitionCurve("easein");this._oldProperties={};this._currentProperties={};this._transitionProperties={};this._useTransition=false;this.outerRect=new e;this.containerRect=new e;this.layoutToContainerRatios={x:1,y:1};this.renderers={};this.dock=this.options.dock;this.show=this.options.show;this.isMini=this.options.isMini;this.relevantSize=this.options.relevantSize;this.showFlag=this.options.showFlag;this.layoutOrder=this.options.order||1;this.reductionOrder=this.options.reductionOrder;this.parentContainer=n;this.components=this.options.components;this.selectionIdentifier=this.options.label;this._selectionIndices=[0];this.chartFormatter=null;this.measureFormatters=[];this._globalAlpha=1;this._hasValidData=false;this._createRenderArea();try{var a=s&&s.tcl?s.tcl:u(this.constructor.name);a&&this._$renderAreaWrap[0].setAttribute("tcl",a)}catch(t){}this.chartScale=1;this._edgeBleed={top:0,bottom:0,left:0,right:0}},ShowFlags:{SPARK:1,XSMALL:2,SMALL:4,MEDIUM:8,FULL:16},setData:function t(i){this._data=i;return this.invalidateProperties("ChartComponent.setData")},getTransformedShape:function t(i){var s,r=this.layoutToContainerRatios.x||1,a=this.layoutToContainerRatios.y||1;if(i instanceof e)s=new e(i.x*r,i.y*a,i.width*r,i.height*a);else if(i instanceof n){var h=i.getModelView(),o={x:i.cx*r,y:i.cy*a};h&&(o=h.transformPoint(o));s=new n(o.x,o.y,Math.min(r,a)*i.innerRadius,Math.min(r,a)*i.radius,i.start,i.end,i.radianOffset)}return s},getTransformedPoint:function t(i,e){return{x:i*this.layoutToContainerRatios.x||1,y:e*this.layoutToContainerRatios.y||1}},getOriginalPoint:function t(i,e){return{x:i/this.layoutToContainerRatios.x||1,y:e/this.layoutToContainerRatios.y||1}},setLayoutMode:function t(i){if(this._layoutMode===i)return;this._layoutMode=i;var e=/\s*qv-layout-\S+\s*/g,n=this._layoutMode?" qv-layout-"+s.getLayoutModeKey(i):"";this.container.className.match(e)?this.container.className=this.container.className.replace(/\s*qv-layout-\S+/g,n):this.container.className+=n;this.invalidateDisplay("ChartComponent.setLayoutMode")},getLayoutMode:function t(){return this._layoutMode},setVerticalLayoutMode:function t(i){this._verticalLayoutMode=i},setHorizontalLayoutMode:function t(i){this._horizontalLayoutMode=i},setSelectableShapes:function t(i){this._selectableShapes=i},getSelectableShapes:function t(){return this._selectableShapes||[]},getSelectedCacheItems:function t(){var i,e=this._selectableShapes?this._selectableShapes.length:0,n=[];for(i=0;i<e;i++)this._selectableShapes[i].selected&&n.push(this._selectableShapes[i]);return n},getRect:function t(){return this.rect},setRect:function t(i,e,n,s){this.rect.set(i,e,n,s)},setUseTransition:function t(i){this._useTransition=i},getUseTransition:function t(){return this._useTransition},getTransitionHelper:function t(){return this._transitionHelper},setOuterRect:function t(i,e,n,s){this.outerRect.set(i,e,n,s)},setLayoutToContainerRatios:function t(i,e){this.layoutToContainerRatios={x:i,y:e}},setContainerRect:function t(i,e,n,s){this.containerRect.set(i,e,n,s)},setSelectionIndices:function t(i){if(!i||!(i instanceof Array))throw new Error("invalid input, selectionsIndices has to be an Array");this._selectionIndices=i},getSelectionIndices:function t(){return this._selectionIndices},setSelectionLocked:function t(i){this._selectionLocked=i},isSelectionLocked:function t(i){i=i||this._data;var e=this.getSelectionIndices();if(!i||!Array.isArray(e)||!e.length)return this._selectionLocked;return!i.qHyperCube.qDimensionInfo.filter(function(t,i){return-1!==e.indexOf(i)},this).some(function(t){return true!==t.qLocked})},setYMirrorMode:function t(i){this.yMirrorMode=i;this.readDirection=this.yMirrorMode?"rtl":"ltr"},setDock:function t(i){switch(i){case"left":case"top":case"right":case"bottom":case"center":break;default:throw new Error(i+" invalid parameter")}this.options.dock=i;this.dock=i},getOppositeDock:function t(){var i=this.options.dock;switch(i){case"left":return"right";case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"center":return"center";default:throw new Error(i+" invalid parameter")}},isHorizontal:function t(){var i=this.options.dock;switch(i){case"top":case"bottom":return true;default:return false}},isVertical:function t(){var i=this.options.dock;switch(i){case"left":case"right":return true;default:return false}},showComponent:function t(){this.show=this.options.show;if(this.renderers)for(var i in this.renderers)this.renderers[i].show()},hideComponent:function t(){this.show=false;if(this.renderers)for(var i in this.renderers)this.renderers[i].hide()},getFormatter:function t(){return this._formatter||this.measureFormatters[0]||{format:function t(i){return i.toString()}}},isVisible:function t(i){void 0===i&&(i=this._layoutMode);var e=this.showFlag,n=i;if("object"===r(e)){"whenVertical"in e&&(e=this.isVertical()?e.whenVertical:e.whenHorizontal);if("vertical"in e)return this.show&&!!(e.vertical&this._verticalLayoutMode)&&!!(e.horizontal&this._horizontalLayoutMode)}return this.show&&!!(e&n)},setHasValidData:function t(i){this._hasValidData=i},hasValidData:function t(){return this._hasValidData},calculateRelevantSize:function t(){this.relevantSize=this.options.relevantSize},reduceLayoutRect:function t(i){switch(this.dock){case"top":i.y+=this.relevantSize;i.height-=this.relevantSize;break;case"bottom":i.height-=this.relevantSize;break;case"left":i.x+=this.relevantSize;i.width-=this.relevantSize;break;case"right":i.width-=this.relevantSize}},insertAdjacentTo:function t(i,e){switch(this.dock){case"top":this.rect.x=i.x;this.rect.y=i.y-this.relevantSize;this.rect.width=i.width;this.rect.height=this.isVisible(this._layoutMode)?this.relevantSize:0;if(e){i.y-=this.relevantSize;i.height+=this.relevantSize}break;case"bottom":this.rect.x=i.x;this.rect.y=i.getBottom();this.rect.width=i.width;this.rect.height=this.isVisible(this._layoutMode)?this.relevantSize:0;e&&(i.height+=this.relevantSize);break;case"left":this.rect.x=i.x-this.relevantSize;this.rect.y=i.y;this.rect.width=this.isVisible(this._layoutMode)?this.relevantSize:0;this.rect.height=i.height;if(e){i.x-=this.relevantSize;i.width+=this.relevantSize}break;case"right":this.rect.x=i.getRight();this.rect.y=i.y;this.rect.width=this.isVisible(this._layoutMode)?this.relevantSize:0;this.rect.height=i.height;e&&(i.width+=this.relevantSize);break;case"center":this.rect.x=i.x;this.rect.y=i.y;this.rect.width=i.width;this.rect.height=i.height;break}},_updateProperties:function t(){return this._transition()},_updateDisplay:function t(){if(!this.hasValidData())return this.clear();if(this.isVisible(this._layoutMode)&&this.rect.width>0&&this.rect.height>0)return this.paint(this._layoutMode,this._data);return a.resolve()},updateSize:function t(){c.call(this,this._layoutMode);for(var i in this.renderers){this.renderers[i].setDimensions(0,0,this.rect.width,this.rect.height);this.renderers[i].setDimensionsToContainerRatio(this.layoutToContainerRatios.x,this.layoutToContainerRatios.y)}this._windowSizeMultiplier=Math.min(Math.min(this.rect.width,this.rect.height)/600,1)},_transition:function t(){if(this._useTransition)if(l(this._currentProperties,this._transitionProperties))this._onAnimatitonEnd();else{this._inTransition=true;this._transitionHelper.transition(this._oldProperties,this._currentProperties,this._transitionProperties,this._onAnimatitonEnd,this._updateDisplay,this)}else{h.extend(this._currentProperties,this._transitionProperties);h.extend(this._oldProperties,this._transitionProperties);this.invalidateDisplay("onAnimatitonEnd")}},paint:function t(){},setGlobalOpacity:function t(i,e){this._globalAlpha=i;e||this.invalidateDisplay("ChartComponent.setGlobalOpacity")},_createRenderArea:function t(){if(!this.parentContainer)return;this.container=document.createElement("div");this._$renderAreaWrap=h(this.container);this._$renderAreaWrap.attr("tid",this.testId);this._$renderAreaWrap.css({position:"absolute"}).addClass("qv-chart-component");this.parentContainer.appendChild(this.container)},_onAnimatitonEnd:function t(){this._inTransition=false;this._oldProperties=h.extend(true,{},this._transitionProperties);this.invalidateDisplay("onAnimatitonEnd")},invalidateProperties:function t(i){return this._super(i).catch(function(t){false})},invalidateDisplay:function t(i){return this._super(i).catch(function(t){false})},release:function t(){this._super();if(this.renderers)for(var i in this.renderers)this.renderers[i].release();this.container=null;this._$renderAreaWrap=null;this._selectableShapes=null;this._transitionHelper.clear()},clear:function t(){var i=[];if(this.renderers)for(var e in this.renderers)i.push(this.renderers[e].clear());return a.all(i)},on:function t(){this._on=true},off:function t(){this._on=false}});return o}.apply(i,n),void 0!==s&&(t.exports=s))},2057:function(t,i,e){"use strict";var n,s;!(n=[e(89),e(1047),e(398)],s=function(t,i,e){function n(i,n){var a;this._validating=true;if(this._invalidatedProperties&&(!i||i&&i.contains("properties"))){a=r.call(this);a&&"function"===typeof a.then&&this._pendingDfds.push(a)}if(this._invalidatedDisplay&&(!i||i&&i.contains("display"))){a=s.call(this);a&&"function"===typeof a.then&&this._pendingDfds.push(a)}this._validating=false;this._invalidated=this._invalidatedDisplay||this._invalidatedProperties;if(this._invalidated){if(!i){var h=this,o=this.dfd;this._timer=e.request(function(){h._validate(null,o)})}}else if(this._pendingDfds.length){t.all(this._pendingDfds).then(function(){n.__qvState=1;n.resolve()}).catch(function(t){false});this._pendingDfds=[]}else{n.__qvState=1;n.resolve()}}function s(){var t=this._updateDisplay();this._invalidatedDisplay=false;this.__invalidators.display=[];return t}function r(){var t=this._updateProperties();this._invalidatedProperties=false;this.__invalidators.properties=[];return t}function a(){if(!this._invalidated&&!this._validating&&!this._released){var i=this,n;this._invalidated=true;n=t();n.__qvState=0;n.__id=++this._dfdCount;this.dfd=n;this._timer=e.request(function(){i._validate(null,n)})}if(this.dfd)return this.dfd.promise}return i.extend("Invalidatable",{init:function t(){this._super();this.__invalidators={size:[],display:[],properties:[]};this._pendingDfds=[];this._dfdCount=0},invalidate:function i(){if(this._released)return t.reject();return a.call(this)},invalidateProperties:function i(e){if(this._released)return t.reject();if(!this._invalidatedProperties){this._invalidatedProperties=true;a.call(this)}this.__invalidators.properties.push(e);return this.dfd.promise},invalidateDisplay:function i(e){if(this._released)return t.reject();if(!this._invalidatedDisplay){this._invalidatedDisplay=true;a.call(this)}this.__invalidators.display.push(e);return this.dfd.promise},validateNow:function t(){this._invalidated=true;this.updateNow();return this},updateNow:function t(i){if(this._invalidated&&!this._validating){var n=i&&i.contains("display")===this._invalidatedDisplay,s=i&&i.contains("properties")===this._invalidatedProperties;if(!i||n&&s){e.cancel(this._timer);this._timer=null}this._validate(i,this.dfd)}return this},_update:function t(){return this},_updateDisplay:function t(){},_updateProperties:function t(){},cancel:function t(){e.cancel(this._timer);this._invalidatedProperties=false;this.__invalidators.properties=[];this._invalidatedDisplay=false;this.__invalidators.display=[];this._invalidated=false;if(this.dfd){this.dfd.__qvState=2;this.dfd.reject()}},release:function t(){this._released=true;this.cancel();this.dfd=null},_validate:function t(i,e){n.call(this,i,e)}})}.apply(i,n),void 0!==s&&(t.exports=s))},2058:function(t,i,e){"use strict";var n,s;function r(t){r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(i){return typeof i}:function t(i){return i&&"function"===typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};return r(t)}!(n=[e(11),e(92),e(89)],s=function(t,i,e){var n;function s(i,e,s,r){h.apply(this,[i,e]);var o,c=true,l=false,u=this,d,f,p,_;c=n.checkEqual(i,s);for(o in s)void 0===i[o]&&(l=true);if(c){u._endCallback&&u._endCallback.call(u._scope);r.resolve();return}if(l){t.extend(e,s);t.extend(i,s);u._endCallback&&u._endCallback.call(u._scope);r.resolve();return}d=this._transitionTime;f=Date.now();this._inAnimation=true;this._initiateAnimation=false;this._transitionProgress=0;t.extend(e,a(i,e,s,0));this._animationCallback=setInterval(function(){p=(Date.now()-f)/d;if(p>1){clearInterval(u._animationCallback);t.extend(e,a(i,e,s,1));u._updateCallback&&u._updateCallback.call(u._scope);u._inAnimation=false;u._lastFrame=true;u._transitionProgress=1}else{switch(u._transitionCurve){case"linear":_=p;break;case"easeout":_=Math.sin(Math.PI*p/2);break;case"easein":_=1-Math.cos(Math.PI*p/2);break;default:_=(1+Math.cos(Math.PI*(1+p)))/2;break}u._transitionProgress=_;t.extend(e,a(i,e,s,_));u._updateCallback&&u._updateCallback.call(u._scope)}if(p>1){e=t.extend({},s);u._endCallback.call(u._scope);r.resolve()}},15)}function a(i,e,n,s){var r;var h=function i(e,h){t.extend(e,a(e,n[r][h],s))},o=function t(i,e,n){e[r]=a(i[r],e[r],n[r],s)};if(s<=0)return i;if(s>=1)return n;for(r in i){if(!i&&n){void 0!==n.opacity&&(e.opacity=s);e=t.extend(e,n);continue}if(i&&!n){void 0!==i.opacity&&(e.opacity=1-s);continue}i[r]instanceof Array?i[r].forEach(h):Number.isNaN(+i[r])&&i[r]instanceof Object&&o(i,e,n);i[r]&&!n[r]&&(e[r]=n[r]);if(null===i[r]||null===n[r]||Number.isNaN(+i[r])||Number.isNaN(+n[r]))continue;e[r]=i[r]*(1-s)+n[r]*s}return e}function h(i,e){t.extend(i,e);clearInterval(this._animationCallback);this._inAnimation=false;this._lastFrame=false}function o(t,i,e,n){this._inAnimation||this._initiateAnimation&&this._transitionEnabled?s.call(this,t,i,e,n):n.resolve()}n=i.extend("TransitionHelper",{namespace:".transitionhelper",init:function t(i,e,n,s){this._updateCallback=i;this._endCallback=e;this._transitionTime=n||500;this._scope=s;this._inAnimation=false;this._transitionProgress=0;this._lastFrame=false;this._animationCallback=function(){return null};this._initiateAnimation=true;this._transitionEnabled=true;this._transitionDelay=0;this._transitionCurve=""},transition:function t(i,n,s,r,a,c){var l=this,u=e();this._oldValues=i;this._currentValues=n;this._newValues=s;this._updateCallback=a;this._endCallback=r;this._scope=c;h.apply(this,[i,n]);this._initiateAnimation=true;this._inAnimation||this._lastFrame?u.resolve():this._transitionDelay>0?this._trantisionTimeout=setTimeout(function(){o.apply(l,[i,n,s,u])},this._transitionDelay):o.apply(this,[i,n,s,u]);return u.promise},clear:function t(){clearInterval(this._animationCallback);clearTimeout(this._trantisionTimeout);this._inAnimation=false;this._lastFrame=true;this._transitionProgress=1},setTransitionTime:function t(i){this._transitionTime=i},setDelay:function t(i){this._transitionDelay=i},setTransitionCurve:function t(i){this._transitionCurve=i}});n.checkEqual=function(t,i){var e;for(e in i){if(!(e in t))return false;if(r(i[e])!==r(t[e]))return false;if(Array.isArray(i[e])){if(!n.checkEqual(t[e],i[e]))return false}else if(i[e]!==t[e]&&void 0!==t[e]&&!("number"===typeof i[e]&&"number"===typeof t[e]&&Number.isNaN(+i[e])&&Number.isNaN(+t[e])))return false}return true};return n}.apply(i,n),void 0!==s&&(t.exports=s))},2059:function(t,i,e){"use strict";var n,s;!(n=[e(226),e(1167),e(104),e(2060)],s=function(t,i,e,n){var s=["top","left","bottom","right"];var r={top:"left",left:"bottom",bottom:"right",right:"top"};var a={top:"right",left:"top",bottom:"left",right:"bottom"};function h(t,i,e,n,s,r,a){this.cx=t;this.cy=i;this.innerRadius=e;this.radius=n;this.radianOffset=(a<0?a+2*Math.PI:a)%(2*Math.PI);this.start=s;this.start-=this.start>Math.PI?2*Math.PI:0;this.end=r;this.end-=this.end>Math.PI?2*Math.PI:0;this.arcCenter=(s+r)/2%(2*Math.PI);this.x1=t+n*Math.cos(this.start+this.radianOffset);this.y1=i+n*Math.sin(this.start+this.radianOffset);this.x2=t+n*Math.cos(this.end+this.radianOffset);this.y2=i+n*Math.sin(this.end+this.radianOffset);this.x3=t+e*Math.cos(this.start+this.radianOffset);this.y3=i+e*Math.sin(this.start+this.radianOffset);this.x4=t+e*Math.cos(this.end+this.radianOffset);this.y4=i+e*Math.sin(this.end+this.radianOffset)}h.prototype={getDistance:function t(i,e,n,s){var r=Math.abs(i-n),a=Math.abs(e-s),h=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));return h},getAngle:function t(i,e,n,s){var r=i-n,a=e-s,h=Math.atan2(a,r)-this.radianOffset;h=h<0?h+2*Math.PI:h;h=h>Math.PI?h-2*Math.PI:h;return h},pointInside:function t(i,e){var n=this.getAngle(i,e,this.cx,this.cy),s=this.getDistance(i,e,this.cx,this.cy),r=this.start,a=this.end;if(s>this.radius||s<this.innerRadius)return false;if(n>=r&&n<=a)return true;if(r>a&&(n<=a||n>=r))return true;return false},getDirection:function t(i){i+=Math.PI/4;i<0&&(i+=2*Math.PI);i%=2*Math.PI;var e=3;i>=1.5*Math.PI?e=0:i>=Math.PI?e=1:i>=Math.PI/2&&(e=2);return s[e]},getSecondaryDirection:function t(i){var e=this.getDirection(i);i+=Math.PI/4;return i%(Math.PI/2)>Math.PI/4?a[e]:r[e]},getPoints:function t(){var i=[];i.push({x:this.x1,y:this.y1},{x:this.x2,y:this.y2},{x:this.x3,y:this.y3},{x:this.x4,y:this.y4});return i},getBoundingRect:function t(){var i=Math.min(Math.min(this.x1,this.x2),Math.min(this.x3,this.x4)),n=Math.min(Math.min(this.y1,this.y2),Math.min(this.y3,this.y4)),s=Math.max(Math.max(this.x1,this.x2),Math.max(this.x3,this.x4))-i,r=Math.max(Math.max(this.y1,this.y2),Math.max(this.y3,this.y4))-n;return new e(i,n,s,r)},getRelevantPosition:function t(){var i=this.cx+this.radius*Math.cos(this.arcCenter+this.radianOffset),e=this.cy+this.radius*Math.sin(this.arcCenter+this.radianOffset);var n=this.getDirection(this.arcCenter+this.radianOffset),s=this.getSecondaryDirection(this.arcCenter+this.radianOffset);return{pos:{x:i,y:e},direction:[n,s].concat(s===r[n]?[a[n],r[s]]:[r[n],a[s]])}},intersectsWith:function i(e){return this.intersectsLine(new t(e.x,e.y,e.x+e.width,e.y))||this.intersectsLine(new t(e.x+e.width,e.y,e.x+e.width,e.y+e.height))||this.intersectsLine(new t(e.x,e.y+e.height,e.x+e.width,e.y+e.height))||this.intersectsLine(new t(e.x,e.y,e.x,e.y+e.height))},intersectsLine:function e(s){if(this.pointInside(s.x1,s.y1)||this.pointInside(s.x2,s.y2))return true;if(s.intersectsLine(new t(this.x1,this.y1,this.x4,this.y4))||s.intersectsLine(new t(this.x3,this.y3,this.x2,this.y2)))return true;var r=new i(this.cx,this.cy,this.innerRadius);if(this.innerRadius>0&&r.pointInside(s.x1,s.y1)&&r.pointInside(s.x2,s.y2))return false;var a=new n(s.x2-s.x1,s.y2-s.y1),h=new n(s.x1-this.cx,s.y2-this.cy),o=a.dot(a),c=2*h.dot(a),l=h.dot(h)-this.radius*this.radius,u=c*c-4*o*l,d,f,p,_,y=[];if(u<0)return false;u=Math.sqrt(u);f=(-c-u)/(2*o);p=(-c+u)/(2*o);f>=0&&f<=1&&y.push({x:s.x1+f*a.x,y:s.y1+f*a.y});p>=0&&p<=1&&y.push({x:s.x1+p*a.x,y:s.y1+p*a.y});if(!y.length)return false;for(d=0;d<y.length;d++){_=this.getAngle(y[d].x,y[d].y,this.cx,this.cy);if(_>=this.start&&_<=this.end)return true;if(this.start>this.end&&(_<=this.end||_>=this.start))return true}return false}};return h}.apply(i,n),void 0!==s&&(t.exports=s))},2060:function(t,i,e){"use strict";var n,s;!(n=[e(92)],s=function(t){var i;i=t.extend({init:function t(i,e){this.x=i||0;this.y=e||0},clone:function t(){return new i(this.x,this.y)},add:function t(i){this.x+=i.x;this.y+=i.y},dot:function t(i){return this.x*i.x+this.y*i.y},length:function t(){return Math.sqrt(this.x*this.x+this.y*this.y)}});i.add=function(t,i){return t.clone().add(i)};return i}.apply(i,n),void 0!==s&&(t.exports=s))},2061:function(t,i,e){"use strict";var n,s;!(n=[e(92),e(2062),e(104),e(1735)],s=function(t,i,e,n){var s;s=t.extend("Renderer",{init:function t(){this._stage=new i;this._stageBinding=function(t){this.invalidateObject(t)}.bind(this);this._stage.Invalid.bind(this._stageBinding);this.scaling={x:1,y:1};this._size=new e;this._extendedSize=new e},find:function t(i){return n.find(i,this._stage)},setDimensions:function t(i,e,n,s){this._size.set(i,e,n,s)},setDimensionsToContainerRatio:function t(i,e){this.scaling={x:i,y:e}},release:function t(){this._stage&&this._stage.Invalid&&this._stage.Invalid.unbind(this._stageBinding);this._stage.destroy();this._stageBinding=null},render:function t(){},clear:function t(){},invalidateObject:function t(){}});Object.defineProperties(s.prototype,{stage:{get:function t(){return this._stage}}});return s}.apply(i,n),void 0!==s&&(t.exports=s))},2062:function(t,i,e){"use strict";var n,s;!(n=[e(292),e(104),e(102)],s=function(t,i,e){var n;n=t.extend("Stage",{init:function t(){this._super();this._stage=this;this._dimensions=new i(0,0,0,0);e.create(this,"Invalid")},invalidateObject:function t(i){this.Invalid.emit(i);return this},destroy:function t(){this._super();e.release(this)}});return n}.apply(i,n),void 0!==s&&(t.exports=s))},2063:function(t,i,e){"use strict";var n,s;!(n=[e(1002)],s=function(t){return{displayObject:t,render:function t(i,e,n){if(!n)return;i.beginPath();i.moveTo(this.x1,this.y1);i.lineTo(this.x2,this.y2);i.stroke()}}}.apply(i,n),void 0!==s&&(t.exports=s))},2064:function(t,i,e){"use strict";var n,s;!(n=[e(1232)],s=function(t){return{displayObject:t,render:function t(i,e,n){i.beginPath();if(0===this.innerRadius){i.arc(this.cx,this.cy,this.radius,this.start+this.radianOffset,this.end+this.radianOffset,false);i.lineTo(this.innerRadius*Math.cos(this.end+this.radianOffset)+this.cx,this.innerRadius*Math.sin(this.end+this.radianOffset)+this.cy)}else if(this.end-this.start===2*Math.PI){i.arc(this.cx,this.cy,this.radius,this.start+this.radianOffset,this.end+this.radianOffset,false);i.moveTo(this.cx+this.innerRadius*Math.cos(this.radianOffset+this.start),this.cy+this.innerRadius*Math.sin(this.radianOffset+this.start));i.arc(this.cx,this.cy,this.innerRadius,this.end+this.radianOffset,this.start+this.radianOffset,true)}else{i.arc(this.cx,this.cy,this.radius,this.start+this.radianOffset,this.end+this.radianOffset,false);i.lineTo(this.innerRadius*Math.cos(this.end+this.radianOffset)+this.cx,this.innerRadius*Math.sin(this.end+this.radianOffset)+this.cy);i.arc(this.cx,this.cy,this.innerRadius,this.end+this.radianOffset,this.start+this.radianOffset,true);i.lineTo(this.radius*Math.cos(this.start+this.radianOffset)+this.cx,this.radius*Math.sin(this.start+this.radianOffset)+this.cy)}e&&i.fill();if(n){i.closePath();i.stroke()}}}}.apply(i,n),void 0!==s&&(t.exports=s))},2065:function(t,i,e){"use strict";var n,s;!(n=[e(1032),e(159)],s=function(t,i){var e=!i.supportDirAuto();return{displayObject:t,render:function t(n,s,r){var a=this.x||0,h=this.y||0,o=this.lines||[],c=o.length,l=[],u=this.lineHeight,d=n.textAlign,f="center"===d&&e,p,_,y;a=this.getHorizontalAnchor();h=this.getVerticalAnchorFirstLine();s&&l.push("fillText");r&&(this.strokeFirst?l.unshift("strokeText"):l.push("strokeText"));if(!l.length)return;for(p=0;p<c;p++){_=i.detectTextDirection(o[p]);n.canvas.dir=_;if(f&&"rtl"===_){n.textAlign="left";y=a-n.measureText(o[p]).width/2}else{n.textAlign=d;y=a}n[l[0]](o[p],y,h);l[1]&&n[l[1]](o[p],y,h);h+=u}n.textAlign=d}}}.apply(i,n),void 0!==s&&(t.exports=s))},2066:function(t,i,e){"use strict";var n,s;!(n=[],s=function(){var t=document.createElement("canvas").getContext("2d"),i="…",e="-";function n(i,e,n,s){var r,a,h=i?i.split(/\n+|\r+|\r\n/):[],o=[],c,l,u=i?i.split(/\s+/):[],d=h[0],f,p;if("number"!==typeof e||e<=0)return[i];if("number"===typeof s&&h.length>=s)return h.slice(0,s);n&&(t.font=n);for(a=0;a<h.length;a++){p=h[a]||"";u=p.split(/\s+/);d=u[0];f="";for(r=1;r<u.length;r++){c=d+" "+u[r];l=t.measureText(c).width;if(l>e&&("number"!==typeof s||s>o.length)){o.push(d);d=u[r]}else d=c;if("number"===typeof s&&o.length>=s){f=u.slice(r+1).join(" ");break}}"number"!==typeof s||o.length<s?o.push(d):o[Math.max(0,o.length-1)]=(o[Math.max(0,o.length-1)]||"")+" "+d+" "+f}return o}function s(i,e,n,s,a){if(!i||!i.length)return[];n&&(t.font=n);var h=[],c=i.slice(),l,u,d,f;c.filter(function(t){return!!t});if("number"!==typeof e||e<0)return i.slice();for(f=0;f<c.length;f++){d=c[f];u=null;if(!d)continue;if(d.length<=1||t.measureText(d).width<=e){h.push(d);continue}l=o(d,e,void 0,s-h.length);if(l.length<=1){h.push(l[0]);continue}u=l.pop();h=h.concat(l);c[f+1]?t.measureText(u+" "+c[f+1]).width>e&&h.length+c.length-f<=s?c.splice(f+1,0,u):c[f+1]=u+" "+c[f+1]:c.push(u)}h.forEach(function(t,i,e){e[i]=t?t.trim():t});if(h.length>s){h=h.splice(0,s);h[h.length-1]=r(h[h.length-1],e,n,a).text}else{d=h[h.length-1];d&&d.length>1&&t.measureText(d).width>e&&(h[h.length-1]=r(d,e,n,a).text)}return h}function r(e,n,s,r){var a=e,h,o,c,l,u=t.measureText("i").width,d=Math.ceil(n/u);r=r||i;s&&(t.font=s);if(e&&n){if(t.measureText(a).width>n){for(h=Math.min(d,a.length);h>0;h--){o=a.substring(0,h-1);c=o.trim()+r;if(t.measureText(c).width<=n){l=a.substring(h-1);a=c;break}}if(!h){l=a;a=i}}}else l=void 0;return{text:a,rest:l}}function a(t){return"number"===typeof t&&Number.isFinite(t)}function h(i,n,s,r){var o,c=i,l="",u,d=[];if(a(s)&&s<=1)return[i];var f=Math.ceil(n/r),p=Math.min(i.length,f);for(o=p;o>0;o--){c=i.substring(0,o);u=i.substring(o-1,o);" "===u?c=i.substring(0,o-1):c+=e;l=i.substring(o);if(t.measureText(c).width<=n)break}if(!o&&!c||t.measureText(c).width>n){c=i.substring(0,1);l=i.substring(1)}d.push(c);if(!l)return d;if(t.measureText(l).width>n){l=h(l,n,s-1,r);d=d.concat(l)}else d.push(l);return d.filter(function(t){return""!==t.trim()})}function o(i,e,n,s){if(!i||!e)return[];n&&(t.font=n);return h(i,e,s,Math.max(1,t.measureText("i").width))}function c(t,i,e,r,a){var h;if(Number.isNaN(+i))return[t];h=r>1?n(t,i,e,r):[t];h=s(h,i,e,r,a);return h}return{lineWrap:n,wordWrap:s,splitWord:o,wrap:c,truncate:r}}.apply(i,n),void 0!==s&&(t.exports=s))},278:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(401),e(226)],s=function(t,i){var e;e=t.extend("Polygon",{init:function t(i){this._super();i?this.set(i):this._polygons=[]},getLocalBoundingRect:function t(){var i;if(this._polygons&&this._polygons.length){i=this._polygons.reduce(function(t,i){return t.combineWith(i.getBoundingRect())},this._polygons[0].getBoundingRect());return{x:i.x,y:i.y,width:i.width,height:i.height}}},getLocalPoints:function t(){return this._polygons&&this._polygons[0]?this._polygons[0].points:[]},getPartialFromRange:function t(i,n){var s,r=0,a=[],h=this._polygons[0]?this._polygons[0].points:[],o=h.length,c=i<=n;while(r<o&&(c?h[r].x<i:h[r].x>i))r++;if(r&&r<o){s=(i-h[r-1].x)/(h[r].x-h[r-1].x);a.push({x:i,y:h[r-1].y+s*(h[r].y-h[r-1].y),y_:h[r-1].y_+s*(h[r].y_-h[r-1].y_)})}while(r<o&&(c?h[r].x<n:h[r].x>n)){a.push({x:h[r].x,y:h[r].y,y_:h[r].y_});r++}if(r&&r<o){s=(n-h[r-1].x)/(h[r].x-h[r-1].x);a.push({x:n,y:h[r-1].y+s*(h[r].y-h[r-1].y),y_:h[r-1].y_+s*(h[r].y_-h[r-1].y_)})}if(!a.length)return;return new e(a)},set:function t(e){var n=e&&e[0]&&Array.isArray(e[0])?e:[e];this._polygons=n.map(function(t){return new i(t)});this.invalidateBounds()},intersectsLocalLine:function t(i){return this._polygons.some(function(t){return t.intersectsLine(i)})},intersectsLocalRect:function t(e){return this._polygons.some(function(t){return i.prototype.intersectsRect.call(t,e)})},containsPoint:function t(i,e){return this._polygons.some(function(t){return t.pointInside(i,e)})}});return e}.apply(i,n),void 0!==s&&(t.exports=s))},291:function(t,i,e){"use strict";var n,s;!(n=[e(11),e(89),e(2061),e(200),e(398),e(104),e(1736),e(1737),e(2063),e(1738),e(2064),e(2065)],s=function(t,i,e,n,s,r){var a,h=1,o=[].slice.call(arguments,6),c={},l=o.length,u=document.createElement("canvas"),d=u.getContext("2d"),f=["fill","stroke","strokeWidth","opacity","font","align","baseline","lineJoin","lineCap"],p=new RegExp(f.join("|")),_=f.length,y={fill:"fillStyle",stroke:"strokeStyle",strokeWidth:"lineWidth",opacity:"globalAlpha",align:"textAlign",baseline:"textBaseline"},g={PENDING:0,RESOLVED:1,REJECTED:2};var v={},x=[];function m(t,i){x.length>100&&delete v[x.shift()];x.push(t);v[t]=i}function w(){var t={dfd:i(),state:g.PENDING},e=t.dfd.promise;e.then(function(){t.state=g.RESOLVED},function(){t.state=g.REJECTED});return t}function b(t,i,e,n,s){return n+s*(t-i)/e}var M=0;a=e.extend("CanvasRenderer",{init:function i(e,s){this._super();this._id=++M;this._canvas=document.createElement("canvas");this._canvas.width=this._size.width;this._canvas.height=this._size.height;this._canvas.style.position="absolute";this._canvas.style.top="0";this._canvas.style.left="0";this._bufferCanvas=document.createElement("canvas");this._bufferCanvas.width=this._canvas.width;this._bufferCanvas.height=this._canvas.height;this._mvMatrix=new n;this._wrapper=document.createElement("div");this._wrapper.style.position="relative";this._wrapper.style.left="0";this._wrapper.style.top="0";this._wrapper.appendChild(this._canvas);s&&s.name&&t(this._wrapper).attr({tid:s.name});t(this._wrapper).attr({tcl:"renderer"});this._wrapper.__do_not_use__renderer=this;this.container=e;this.container.appendChild(this._wrapper);this._isCompositingEnabled=true;this._invalidObjects=[];this._transformMatrix=new n;this._storeNewImage=true},setDimensions:function t(i,e,n,s){this._super(i,e,n,s);this._wrapper.style.left=i+"px";this._wrapper.style.top=e+"px"},setCompositingEnabled:function t(i){this._isCompositingEnabled=i},getCompositingEnabled:function t(){return this._isCompositingEnabled},render:function t(i){if(this._rendering)return;this._resetImage();this._renderDfdObj&&this._renderDfdObj.state===g.PENDING||(this._renderDfdObj=w());if(i)this._invalidate(true,false);else{this._doClear=false;this._doRender=true;this._validate()}return this._renderDfdObj.dfd.promise},clear:function t(i){if(this._rendering)return;if(i)this._invalidate(false,true);else{this._doRender=false;this._doClear=true;this._validate()}},release:function i(){this._super();this._clearSchedule();t(this._wrapper).removeData();this._bufferCanvas=null;this._canvas=null;if(this.container){this.container.removeChild(this._wrapper);this.container=null}},invalidateObject:function t(i){this._isCompositingEnabled&&this._invalidObjects.indexOf(i)<0&&this._invalidObjects.push(i);this.render(true)},transformScene:function t(i){this._transformMatrix=i.clone();this._invalidate(true,false);return this},translateScene:function t(i,e){this._transformMatrix.translate(i,e);this._invalidate(true,false);return this},scaleScene:function t(i,e,n){this._transformMatrix.translate(-i,-e);this._transformMatrix.scale(n,n);this._transformMatrix.translate(i,e);this._invalidate(true,false);return this},setAttribute:function t(i,e){var n;for(n in e)e.hasOwnProperty(n)&&(this._wrapper[i][n]=e[n])},getTextWidth:function t(i,e){return a.getTextWidth(i,e,this._canvas.getContext("2d"))},getFontHeight:function t(i){return a.getFontHeight(i,this._canvas.getContext("2d"))},_render:function t(){if(!this._canvas)return;this._rendering=true;var i=this._canvas,e=i.getContext("2d"),n=this._mvMatrix,s=[],h=this._isCompositingEnabled&&!this._transformMatrix.isIdentity(),o=a.getDevicePixelToBackingStoreRatio();if(h&&this._storeNewImage){this._storeImage();this._storeNewImage=false}if(!this._updateSize()){if(this._isCompositingEnabled){s=this._getInvalidViews().filter(function(t){return!t.hasNaN()});if(s.length&&h)s=[];else if(h){e.clearRect(0,0,i.width,i.height);s=s.concat(this._getInvalidImageParts()).filter(function(t){return!t.hasNaN()})}}s.length||e.clearRect(0,0,i.width,i.height)}e.save();n.save();this.stage.matrix&&this.stage.matrix.identity();this.stage.scale(this.scaling.x,this.scaling.y);this.stage.translate(-this._extendedSize.x,-this._extendedSize.y);this.stage.translate(this._transformMatrix.elements[0][2],this._transformMatrix.elements[1][2]);e.setTransform(o,0,0,o,0,0);if(s.length){if(h){e.save();e.setTransform(1,0,0,1,0,0);this._patchImage();this._transformMatrix.identity();e.restore()}e.beginPath();s.forEach(function(t){e.rect(t.x,t.y,t.width,t.height)});e.clip();e.clearRect(0,0,this._extendedSize.width,this._extendedSize.height)}if(!s.length){var c=new r(0,0,this.scaling.x*this._extendedSize.width,this.scaling.y*this._extendedSize.height);s.push(c)}a._updateTransforms([this.stage],n,{});a._renderDisplayObjects(e,[this.stage],!!this._isCompositingEnabled&&s,o);n.restore();e.restore();this._invalidObjects=[];this._rendering=false},_updateSize:function t(){var i=this._canvas,e=a.getDevicePixelToBackingStoreRatio(),n=this._extendedSize,s,h,o;this.edgeBleed?n.set(-this.edgeBleed.left,-this.edgeBleed.top,this._size.width+this.edgeBleed.left+this.edgeBleed.right,this._size.height+this.edgeBleed.top+this.edgeBleed.bottom):n.set(this._size.x,this._size.y,this._size.width,this._size.height);o=new r(Math.round(n.x*this.scaling.x),Math.round(n.y*this.scaling.y),Math.round(n.width*this.scaling.x),Math.round(n.height*this.scaling.y));s=Math.round(e*o.width);h=Math.round(e*o.height);this._canvas.style.left=o.x+"px";this._canvas.style.top=o.y+"px";if(i.width!==s||i.height!==h){i.width=s;i.height=h;i.style.width=o.width+"px";i.style.height=o.height+"px";this._bufferCanvas.width=s;this._bufferCanvas.height=h;return true}return false},_invalidate:function t(i,e){this._doRender=i||this._doRender;this._doClear=e||this._doClear;if(!this._invalidated){var n=this;this._invalidated=true;this._timer=s.request(function(){n._validate()},this._canvas)}},_validate:function t(){this._doClear&&!this._doRender?this._clear():this._doRender&&this._render();this._renderDfdObj&&this._renderDfdObj.state===g.PENDING&&this._renderDfdObj.dfd.resolve();this._clearSchedule()},_clear:function t(){this._canvas&&(this._canvas.width=this._canvas.width)},_clearSchedule:function t(){if(this._timer){s.cancel(this._timer);this._timer=null}this._renderDfdObj&&this._renderDfdObj.state===g.PENDING&&this._renderDfdObj.dfd.reject();this._doRender=false;this._doClear=false;this._invalidated=false},_getInvalidViews:function t(){var i,e=this._invalidObjects?this._invalidObjects.length:0,n=new r,s=false,a=false,h=new r,o,c,l,u,d,f,p,_,y,g;for(i=0;i<e;i++){o=this._invalidObjects[i].getVisualBounds();c=this._invalidObjects[i].rData.oldVisualBounds;if(!s&&o){l=o.x;d=o.x+o.width;u=o.y;f=o.y+o.height;s=true}else if(o){l=Math.min(l,o.x);d=Math.max(d,o.x+o.width);u=Math.min(u,o.y);f=Math.max(f,o.y+o.height)}if(!a&&c){p=c.x;y=c.x+c.width;_=c.y;g=c.y+c.height;a=true}else if(c){p=Math.min(p,c.x);y=Math.max(y,c.x+c.width);_=Math.min(_,c.y);g=Math.max(g,c.y+c.height)}}n.set(Math.floor(l)-1,Math.floor(u)-1,Math.ceil(d-l)+2,Math.ceil(f-u)+2);h.set(Math.floor(p)-1,Math.floor(_)-1,Math.ceil(y-p)+2,Math.ceil(g-_)+2);if(n.x!==h.x||n.y!==h.y||n.width!==h.width||n.height!==h.height)return[n,h];return[n]},_getInvalidImageParts:function t(){var i=[],e=this._transformMatrix.elements[0][0],n=this._transformMatrix.elements[0][2],s=this._transformMatrix.elements[1][2];if(e&&e>1)i.push(new r(0,0,0,0));else if(e&&e<1)i.push(new r(0,0,0,0));else{0!==n&&this._size.width>Math.abs(n)&&i.push(new r(n>0?0:this._size.width+n,0,Math.abs(n),this._size.height));0!==s&&this._size.height>Math.abs(s)&&i.push(new r(0,s>0?0:this._size.height+s,this._size.width,Math.abs(s)))}return i},_storeImage:function t(){var i=this._bufferCanvas.getContext("2d");i.clearRect(0,0,this._bufferCanvas.width,this._bufferCanvas.height);i.drawImage(this._canvas,0,0)},_patchImage:function t(){var i=a.getDevicePixelToBackingStoreRatio(),e=this._transformMatrix.elements[0][0];if(1!==e){var n,s,r,h,o,c,l,u,d={x:0,y:this._size.height},f={x:this._size.width,y:0},p=this._transformMatrix.transformPoint(d),_=this._transformMatrix.transformPoint(f),y=_.x-p.x,g=_.y-p.y,v=p.x/y,x=_.y/g;if(e>1){l=0;u=0;n=this._size.width;s=this._size.height;r=-v*this._size.width;h=x*this._size.height;o=this._size.width/e;c=this._size.height/e}else{r=0;h=0;o=this._size.width;c=this._size.height;n=this._size.width*e;s=this._size.height*e;l=v*n;u=-x*s}o*=i;c*=i;r*=i;h*=i;l*=i;u*=i;n*=i;s*=i;if(r>this._bufferCanvas.width||r+o<0||h>this._bufferCanvas.height||h+c<0)this._canvas.getContext("2d").drawImage(this._bufferCanvas,0,0,0,0,0,0,0,0);else{var m,w,M,P,N,R,C,I,L,T,O,D;m=Math.max(r,0);w=Math.min(r+o,this._bufferCanvas.width);M=b(m,r,o,l,n);P=b(w,r,o,l,n);L=w-m;O=P-M;N=Math.max(h,0);R=Math.min(h+c,this._bufferCanvas.height);C=b(N,h,c,u,s);I=b(R,h,c,u,s);T=R-N;D=I-C;this._canvas.getContext("2d").drawImage(this._bufferCanvas,m,N,L,T,M,C,O,D)}}else this._canvas.getContext("2d").drawImage(this._bufferCanvas,this._transformMatrix.elements[0][2]*i,this._transformMatrix.elements[1][2]*i)},_resetImage:function t(){this._transformMatrix.identity();this._storeNewImage=true}});a.getFontHeightOfContext=function(t){return 1.5*t.measureText("m").width};a.getFontHeight=function(t,i){if("string"!==typeof t)throw new Error("CanvasRenderer.getFontHeight(): Input font is not a string");if(t in v)return v[t];var e;i=i||d;if(i.font!==t){i.save();i.font=t;e=1.5*i.measureText("m").width;i.restore()}else e=1.5*i.measureText("m").width;m(t,e);return e};a.getTextWidth=function(t,i,e){var n;e=e||d;e.save();e.font=i;n=void 0!==t?Math.ceil(e.measureText(t).width):0;e.restore();return n};a.getDevicePixelToBackingStoreRatio=function(){return(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1)};a.measureText=function(t,i,e){var n,s,r;e=e||d;if(i&&e.font!==i){e.save();e.font=i}s=e.measureText(t).width;if(i in v)n=v[i];else{n=1.5*e.measureText("m").width;m(i,n)}i&&e.restore();r=void 0!==t?{width:s,height:n}:{width:0,height:0};return r};a._renderDisplayObjects=function(t,i,e,n){var s,r,h,o,c=e?e.length:0,l=[],u=true,d,f=[],p;r=i?i.length:0;for(s=0;s<r;s++){h=i[s];if(false===h.visible||false===h.data.isVisible)continue;if(c){u=false;for(d=0;d<c;d++)if(e[d].intersectsWith(h.getVisualBounds())){u=true;break}if(!u)continue}o=a._getRenderFn(i[s]);p=h.children.length>0;if("function"!==typeof o&&!p)continue;if(h.zIndex>0){l[h.zIndex]||(l[h.zIndex]={index:h.zIndex,objects:[]});l[h.zIndex].objects.push({object:h,renderFn:o,hasChildren:p});continue}a._renderObject(t,h,o,p,e,n)}l=l.filter(function(t){return t&&t.objects.length}).sort(function(t,i){return t.index-i.index});for(s=0;s<l.length;s++){f=l[s].objects;r=f.length;for(d=0;d<r;d++)a._renderObject(t,f[d].object,f[d].renderFn,f[d].hasChildren,e,n)}};a._renderObject=function(t,i,e,n,s,r){var h,o,c,l,u;if("function"===typeof e){o=i.attr("strokeWidth");"undefined"===typeof o&&(o=1);c=!!i.attr("fill");l=!!i.attr("stroke")&&o>0}t.save();i.rData.stroke=l;i.rData.strokeWidth=o;if(s){u=i.getVisualBounds();i.rData.oldVisualBounds={x:u.x,y:u.y,width:u.width,height:u.height}}a._applyAttributes(t,i);if(i.rData.vmTransform){h=i.rData.vmTransform;t.setTransform(r*h[0][0],r*h[1][0],r*h[0][1],r*h[1][1],r*h[0][2],r*h[1][2])}if(i.clip){t.beginPath();t.rect(i.clip.x,i.clip.y,i.clip.width,i.clip.height);t.clip()}if(c||l){i.preRender&&i.preRender();e.apply(i,[t,c,l])}n&&a._renderDisplayObjects(t,i.children,s,r);t.restore()};a._registerRenderFn=function(t,i){var e;if("function"!==typeof t)throw new TypeError("First parameter must be a function");e="function"!==typeof i&&"function"===typeof i.constructor?i.constructor:i;e.__renderFnId="_"+h++;c[e.__renderFnId]=t};a._getRenderFn=function(t){var i=t.__renderFnId||(t.constructor?t.constructor.__renderFnId:void 0);if(i)return c[i];var e;for(e=0;e<l;e++)if(o[e].displayObject===t.constructor){a._registerRenderFn(o[e].render,t);return o[e].render}for(e=0;e<l;e++)if(t instanceof o[e].displayObject){a._registerRenderFn(o[e].render,t);return o[e].render}t.constructor.__renderFnId="does not exist"};a._updateTransforms=function(t,i,e){var n,s,r,h,o,c={},l=t?t.length:0;for(o in e)p.test(o)&&(c[o]=e[o]);for(n=0;n<l;n++){s=t[n];s.clearModelView();if(s.matrix){i.save();i.multiply(s.matrix);s.rData.vmTransform=i.elements;s.rData.dirtyVMTransform=true}s.rData.inherited={};for(o in c)s.rData.inherited[o]=c[o];h=s.children;if(h&&h.length){for(r=0;r<_;r++)s.hasOwnProperty(f[r])&&(c[o]=s[o]);a._updateTransforms(h,i,c)}s.matrix&&i.restore()}};a.Gradient={LINEAR:0,RADIAL:1};a._applyAttributes=function(t,i){var e,n;for(n=0;n<_;n++){e=f[n];e in i&&"undefined"!==typeof i[e]&&(("fill"===e||"stroke"===e)&&i[e]&&i[e].gradient?i[e].gradient.r?t[y[e]]=a._createGradient(t,i[e].gradient,a.Gradient.RADIAL)||"#000000":t[y[e]]=a._createLinearGradient(t,i[e].gradient)||"#000000":t[y[e]||e]=i[e])}};a._createLinearGradient=function(t,i){return a._createGradient(t,i,a.Gradient.LINEAR)};a._createGradient=function(t,i,e){var n,s,r;if(Number.isNaN(+i.x0)||Number.isNaN(+i.y0)||Number.isNaN(+i.x1)||Number.isNaN(+i.y1))return;n=e===a.Gradient.RADIAL?t.createRadialGradient(i.x0,i.y0,0,i.x1,i.y1,i.r):t.createLinearGradient(i.x0,i.y0,i.x1,i.y1);r=i.limits.length;for(s=0;s<r;s++)n.addColorStop(i.limits[s],i.colors[s]);return n};a.registerRenderObject=function(t){o.push(t);l=o.length};return a}.apply(i,n),void 0!==s&&(t.exports=s))},292:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(1168)],s=function(t,i){var e,n;e=t.extend("Container",{init:function t(){this._super()},addChild:function t(e){i.prototype.addChild.call(this,e);this.doInvalidate&&e.invalidate()},addChildren:i.prototype.addChildren,removeChild:function t(e){this.doInvalidate&&e.invalidate();e._stage=null;var n=e.descendants,s=n?n.length:0,r;for(r=0;r<s;r++)n[r]._stage=null;i.prototype.removeChild.call(this,e);return this},removeChildren:function t(i){var e,n,s,r,a;if(!this._children)return this;if(i){s=i.length;for(e=0;e<s;e++)this.removeChild(i[e])}else{s=this._children.length;for(e=0;e<s;e++){this._children[e]._parent=null;this._children[e]._ancestors=null;this._children[e]._stage=null;r=this._children[e].descendants;a=r?r.length:0;for(n=0;n<a;n++)r[n]._stage=null}this._children.length=0}return this},containsPoint:function t(i,e){if(this._children&&this._children.length)for(var n=0,s=this._children.length;n<s;n++)if(this._children[n].containsPoint(i,e))return true;return false},intersectsLocalRect:function t(i){if(this._children&&this._children.length)for(var e=0,n=this._children.length;e<n;e++)if(this._children[e].intersectsLocalRect(i))return true;return false},intersectsLocalLine:function t(i){if(this._children&&this._children.length)for(var e=0,n=this._children.length;e<n;e++)if(this._children[e].intersectsLocalLine(i))return true;return false},getLocalPoints:function t(){var i=[];if(this._children&&this._children.length)for(var e=0,n=this._children.length;e<n;e++)i=i.concat(this._children[e].getLocalPoints());return i},getLocalBoundingRect:function t(){var i=false,e,s,r,a,h,o,c;if(this._children&&this._children.length){for(o=0,c=this._children.length;o<c;o++){h=this._children[o].getVisualBounds();if(!h||Number.isNaN(+h.width+h.height+h.x+h.y))continue;if(i){e=Math.min(e,h.x);r=Math.max(r,h.x+h.width);s=Math.min(s,h.y);a=Math.max(a,h.y+h.height)}else{e=h.x;r=h.x+h.width;s=h.y;a=h.y+h.height;i=true}}return i?{x:e,y:s,width:r-e,height:a-s}:n}return n},_calculateBounds:function t(){var i=this._bounds,e=this.getLocalBoundingRect(),n=0;if(e){i.set(e.x,e.y,e.width,e.height);this._vmBounds.set(e.x,e.y,e.width,e.height);this._visualBounds.set(e.x-n,e.y-n,e.width+2*n,e.height+2*n)}else{i.set(NaN,NaN,NaN,NaN);this._vmBounds.set(NaN,NaN,NaN,NaN);this._visualBounds.set(NaN,NaN,NaN,NaN)}this._dirtyBounds=false}});return e}.apply(i,n),void 0!==s&&(t.exports=s))},293:function(t,i,e){"use strict";var n,s;!(n=[e(1048),e(104)],s=function(t,i){var e;e=t.extend("Rect",{init:function t(e,n,s,r,a){this._super();this._radius=a||0;i.apply(this,[e,n,s,r])},containsPoint:i.prototype.pointInside,intersectsLocalLine:i.prototype.intersectsLine,intersectsLocalRect:i.prototype.intersectsRect,getLocalBoundingRect:i.prototype.getBoundingRect,getLocalPoints:i.prototype.getPoints,set:function t(e,n,s,r,a){i.prototype.set.apply(this,[e,n,s,r]);a>=0&&(this._radius=a);this.invalidateBounds()}});Object.keys(i.prototype).forEach(function(t){!e.prototype.hasOwnProperty(t)&&["pointInside","intersectsLine","getBoundingRect","getPoints","intersectsRect"].indexOf(t)<0&&(e.prototype[t]=i.prototype[t])});return e}.apply(i,n),void 0!==s&&(t.exports=s))}}]);