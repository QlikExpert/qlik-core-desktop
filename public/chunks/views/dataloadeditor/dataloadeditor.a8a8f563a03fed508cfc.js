/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[84],{1148:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=s(n(98));var a=s(n(116));var i=n(1149);var o=s(n(91));function s(t){return t&&t.__esModule?t:{default:t}}var c=function t(e){var n=e.children;return r.default.createElement("div",{className:"qs-view-error","data-tid":"unsupported-device"},r.default.createElement("div",{className:"qs-view-error__center"},r.default.createElement("div",{className:"qs-view-error__image"},r.default.createElement(i.ReactComponent,null)),r.default.createElement("div",{className:"qs-view-error__title"},o.default.get("UnsupportedDisplaySize.Title")),r.default.createElement("div",{className:"qs-view-error__message"},o.default.get("UnsupportedDisplaySize.Message")),n?r.default.createElement("div",null,n):null))};c.propTypes={children:a.default.node};c.defaultProps={children:null};var l=c;e.default=l;t.exports=e.default},1149:function(t,e,n){"use strict";n.r(e);n.d(e,"ReactComponent",function(){return c});var r=n(98);var a=n.n(r);function i(){i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return i.apply(this,arguments)}var o=a.a.createElement("defs",null,a.a.createElement("path",{d:"M5 1h147a4 4 0 0 1 4 4v102a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V5a4 4 0 0 1 4-4z",id:"Display_size_not_supported_svg__a"}),a.a.createElement("mask",{id:"Display_size_not_supported_svg__b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:-2,y:-2,width:159,height:114},a.a.createElement("path",{fill:"#fff",d:"M-1-1h159v114H-1z"}),a.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__a"})),a.a.createElement("path",{d:"M24.659 20.094c.783 1.25.156 2.343-1.254 2.343H1.625c-1.566 0-2.036-1.093-1.253-2.343L11.027 1.5c.783-1.25 2.037-1.25 2.82 0L24.66 20.094zm-10.596-12.5c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v6.25c0 .469.312.781.78.781h1.563c.469 0 .781-.313.781-.781v-6.25zm0 9.375c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v1.562c0 .469.312.782.78.782h1.563c.469 0 .781-.313.781-.782V16.97z",id:"Display_size_not_supported_svg__c"}),a.a.createElement("path",{d:"M16.563 0H25v8.438c0 .312-.469.468-.625.312l-2.5-2.5-2.5 2.5a.755.755 0 0 1-1.094 0L16.25 6.719a.755.755 0 0 1 0-1.094l2.5-2.5-2.5-2.5c-.156-.156 0-.625.313-.625zM8.438 25H0v-8.438c0-.312.469-.468.625-.312l2.5 2.5 2.5-2.5a.755.755 0 0 1 1.094 0l2.031 2.031a.755.755 0 0 1 0 1.094l-2.5 2.5 2.5 2.5c.156.156 0 .625-.313.625z",id:"Display_size_not_supported_svg__e"}),a.a.createElement("path",{d:"M24.659 20.094c.783 1.25.156 2.343-1.254 2.343H1.625c-1.566 0-2.036-1.093-1.253-2.343L11.027 1.5c.783-1.25 2.037-1.25 2.82 0L24.66 20.094zm-10.596-12.5c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v6.25c0 .469.312.781.78.781h1.563c.469 0 .781-.313.781-.781v-6.25zm0 9.375c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v1.562c0 .469.312.782.78.782h1.563c.469 0 .781-.313.781-.782V16.97z",id:"Display_size_not_supported_svg__g"}));var s=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("g",{transform:"translate(31 1)",fillRule:"nonzero"},a.a.createElement("use",{strokeOpacity:.15,stroke:"#000",mask:"url(#Display_size_not_supported_svg__b)",strokeWidth:4,strokeDasharray:"5",xlinkHref:"#Display_size_not_supported_svg__a"}),a.a.createElement("rect",{stroke:"#A6A6A6",strokeWidth:2,fill:"#FFF",width:125,height:112,rx:4}),a.a.createElement("path",{d:"M4 0h117a4 4 0 0 1 4 4v5H0V4a4 4 0 0 1 4-4z",fill:"#A6A6A6"}),a.a.createElement("path",{fill:"#C7C7C7",d:"M1 4h123v8H1z"}),a.a.createElement("circle",{fill:"#FFF",cx:7,cy:8,r:2}),a.a.createElement("circle",{fill:"#FFF",cx:19,cy:8,r:2}),a.a.createElement("path",{fill:"#FFF",d:"M27 6h77v4H27z"}),a.a.createElement("circle",{fill:"#FFF",cx:13,cy:8,r:2}),a.a.createElement("path",{fill:"#FFF",d:"M116 6h4v4h-4zM110 6h4v4h-4z"})),a.a.createElement("g",{transform:"translate(82 47)"},a.a.createElement("mask",{id:"Display_size_not_supported_svg__d",fill:"#fff"},a.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__c"})),a.a.createElement("use",{fill:"#000",fillRule:"nonzero",xlinkHref:"#Display_size_not_supported_svg__c"}),a.a.createElement("g",{mask:"url(#Display_size_not_supported_svg__d)",fill:"#CCC"},a.a.createElement("path",{d:"M0-1h25v25H0z"}))),a.a.createElement("g",{opacity:.099,transform:"scale(-1 1) rotate(45 -169.276 -149.794)"},a.a.createElement("mask",{id:"Display_size_not_supported_svg__f",fill:"#fff"},a.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__e"})),a.a.createElement("use",{fill:"#000",fillRule:"nonzero",xlinkHref:"#Display_size_not_supported_svg__e"}),a.a.createElement("g",{mask:"url(#Display_size_not_supported_svg__f)",fill:"#000"},a.a.createElement("path",{d:"M0 0h25v25H0z"}))),a.a.createElement("g",{transform:"translate(1 51)"},a.a.createElement("rect",{stroke:"#A6A6A6",fill:"#A6A6A6",fillRule:"nonzero",x:.218,y:-.5,width:48.825,height:84,rx:4}),a.a.createElement("rect",{fill:"#FFF",fillRule:"nonzero",x:2.595,y:1.875,width:44.072,height:79.25,rx:2}),a.a.createElement("rect",{fill:"#A6A6A6",fillRule:"nonzero",x:11,width:27,height:7,rx:2}),a.a.createElement("g",{transform:"translate(12 30)"},a.a.createElement("mask",{id:"Display_size_not_supported_svg__h",fill:"#fff"},a.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__g"})),a.a.createElement("use",{fill:"#000",fillRule:"nonzero",xlinkHref:"#Display_size_not_supported_svg__g"}),a.a.createElement("g",{mask:"url(#Display_size_not_supported_svg__h)",fill:"#CCC"},a.a.createElement("path",{d:"M0-1h25v25H0z"})))));var c=function t(e){return a.a.createElement("svg",i({width:189,height:135},e),o,s)};e["default"]="../../img/core/Display_size_not_supported.c7cb99290f301c32e6667975b2e71c07.svg"},1193:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(1677)],a=function(t,e){t.service("dsListPopoverService",["luiPopover",function(t){return{show:function n(r,a,i){var o=t.show({template:e.template,controller:e.controller,input:{items:a},dock:i,alignTo:r,closeOnEscape:true});return o}}}])}.apply(e,r),void 0!==a&&(t.exports=a))},1272:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(1669),n(48),n(91),n(118),n(117),n(214),n(197),n(125),n(380),n(1211),n(1273),n(1081),n(89),n(103)],a=function(t,e,n,r,a,i,o,s,c,l,d,u,p,f,g){var v=1e3;return{template:e,controller:["$scope","$timeout","$interval","qvConfirmDialog",function(e,b,h,m){var y,C,_,w,k="scripteditor.progressindicator.closewhenfinished";var D;e.logMessages=[];e.runFinished=false;e.isFinished=false;e.closeWhenFinished=s.get(k,false).value;e.finishedWithError=false;e.hadErrorOrWarning=false;var M=false;var x=false;var T=0;var S={title:"scripteditor.progressindicator.abortbutton",tid:"2f0456",isDisabled:true,eventHandler:function t(){e.onCancelClicked()}},E={title:"Common.Close",tid:"2f0421",isDisabled:true,focus:false,eventHandler:function t(){e.onCloseClicked()}};e.buttons=[S];e.$watch("closeWhenFinished",function(t){s.set(k,{value:t})});function A(){if(true===e.isFinished){e.input.onClose&&e.input.onClose();e.destroyComponent();e.deferredResult.resolve()}else e.abortDialogActive||e.runFinished||e.buttons[0].isDisabled||e.onCancelClicked()}e.onCloseClicked=A;e.onEscape=A;function q(){for(var t in e.logMessages){var n=e.logMessages[t],r=n.content.split("\n"),i=n.type&&a.contains(n.type,"empty");for(var o=0;o<r.length;o++){var s=r[o];if(!s&&!i)continue;var c;c=n.type&&a.contains(n.type,"edc_error")?d.MESSAGE_TYPE.ERROR:n.type&&(a.contains(n.type,"synthetic_key")||a.contains(n.type,"edc_circular_reference"))?d.MESSAGE_TYPE.WARNING:i?d.MESSAGE_TYPE.EMPTY:d.MESSAGE_TYPE.DEFAULT;d.addMessage(c,s)}}}e.onCancelClicked=function(){D=true;if(!e.abortDialogActive){e.abortDialogActive=true;S.focus=false;var n="scripteditor.cancelscriptrundialog.title",a="scripteditor.cancelscriptrundialog.content";if(M){n="scripteditor.cancelscriptrundialog.searchindex.title";a="scripteditor.cancelscriptrundialog.searchindex.content"}e.dialogHandle=m.show({title:r.get(n),message:r.get(a),okLabel:r.get("Common.Yes"),cancelLabel:r.get("Common.No")});e.dialogHandle.closed.then(function(n){if(n){D=true;i.global.cancelReload();N()}else{e.abortDialogActive=false;t(".qv-scripteditor-progressindicator .lui-dialog").focus();S.focus=true}})}};function P(){var t=(new Date-y)/1e3,n=l.formatNum(t/3600)+":"+l.formatNum(t%3600/60)+":"+l.formatNum(t%60);e.elapsedTime=n}function O(){e.isStopped=false;e.elapsedTime="HH:MM:SS";u.reloadStarted();y=new Date;P();C=b(function t(){P();C=b(t,500)},500)}function R(){x=false;var e=t(".qv-progressindicator.scrolly");e.on("scroll",function(){e.scrollTop()<T&&(x=true)});$(1);w=false;_=h(L,1e3)}function L(){if(!w){w=true;return i.global.getProgress(0).then(z,function t(){I()})}}function I(){w=false;h.cancel(_)}function N(){e.isFinished=true;e.isStopped=true;b.cancel(C);e.input.progressIndicator.setActive(false);V();t(".executingscript").text(r.get("scripteditor.progressindicator.executingscriptdone"));e.closeWhenFinished&&!e.finishedWithError&&b(function(){e.closeWhenFinished&&e.onCloseClicked()},1400)}function z(t){var n=t.qProgressData.qPersistentProgressMessages,a=t.qProgressData.qTransientProgressMessage,i=t.qProgressData.qErrorData;if(!!n&&n.length>0){var o=l.translateMessageArray(n);var s=/\$Syn \d+ =/gi.test(o),c=s?o.match(/\$Syn \d+ =/gi).length:0;e.hadErrorOrWarning=e.hadErrorOrWarning||!!c;H({content:o,type:s?"synthetic_key":"",count:c});n.forEach(function(t){M=22===t.qMessageCode})}else a&&H({content:l.translateMessage(a),type:"transient"});i&&l.filterOutDuplicates(i).forEach(function(t){e.hadErrorOrWarning=true;e.finishedWithError=true;var n=t.qErrorDataCode.toLowerCase();B(r.get("scripteditor.progressindicator.followingerror")+":",n);H({content:t.qErrorString?t.qErrorString:"",type:n});B(r.get("scripteditor.progressindicator.errorhere")+":",n);H({content:t.qLine?t.qLine:"?",type:n})});w=false}function B(t,e){$(1);H({content:t,type:"headline "+e})}function F(){var t=["edc_error","synthetic_key"],n=[],a=-1,i=-1;e.logMessages.forEach(function(t,e){"edc_circular_reference"===t.type?a=e:"headline summary_headline"===t.type&&(i=e)});c.move(e.logMessages,a,i);e.logMessages=e.logMessages.map(function(t){if("edc_circular_reference"===t.type){t.type+=" summary";t.content=r.get("scripteditor.progressindicator.edc_circular_referencesummary")+":\n"+t.content}return t});t.forEach(function(t){var a,i=0;e.logMessages.forEach(function(e){e.type===t&&(i=e.count?i+e.count:i+1)});a="summary";i>0&&(a+=" "+t);n.push({content:r.get("scripteditor.progressindicator."+t+"summary",[i]),type:a})});n.forEach(H)}function $(t,e){for(var n=0;n<t;n++)H({content:"",type:"empty "+e})}function H(t){if(t){t.content&&(t.content=t.content.trim());e.logMessages.length&&"transient"===e.logMessages[e.logMessages.length-1].type&&e.logMessages.pop();e.logMessages.push(t);e.logMessages.length>v&&e.logMessages.splice(0,1);b(function(){if(!x){var t=document.getElementsByClassName("qv-progressindicator log");if(t&&t[0]){t[0].scrollTop=t[0].scrollHeight;T=t[0].scrollTop}}})}}function j(){E.isDisabled=true;S.isDisabled=false;S.focus=true;e.buttons=[S]}function V(){S.isDisabled=true;E.isDisabled=false;E.focus=true;e.buttons=[E]}function W(){b(function(){E.isDisabled=true;H({content:r.get("scripteditor.progressindicator.savingapp"),type:"transient"})});return e.input.scriptModel.setAndPersistScript().then(function(){B(r.get("scripteditor.progressindicator.appsaved"));b(function(){E.isDisabled=false})})}function K(t){e.runFinished=true;S.isDisabled=true;b(function(){if(e.dialogHandle){e.dialogHandle.close();S.disabled=true}});H({content:"\n",type:"transient"});if(t)return W().then(function(){true===e.hadErrorOrWarning?B(r.get("scripteditor.progressindicator.runfinishedwitherrorsorwarnings"),"summary_headline"):B(r.get("scripteditor.progressindicator.runfinished"),"summary_headline");F()});e.finishedWithError=true;B(D?r.get("scripteditor.progressindicator.runaborted"):r.get("scripteditor.progressindicator.runfail"));o.doDirtyRollback();return n.promise()}function U(t){return t&&t.error&&t.error.code?t.error.code:0}function G(t){H({content:r.get("ErrorCode."+U(t)),type:"edc_error"});t&&(t.isHandled=true);e.finishedWithError=true;K(false).then(function(){N();q()})}function Q(){d.clear();e.input.progressIndicator.setActive(true);B(r.get("scripteditor.progressindicator.runstarted"));O();var t=new f.resolve;function n(){return p.getRunLoadModelActions().then(function(t){return t},function(){return{executeBeforeRun:function e(){return t},executeAfterRun:function e(){return t}}})}n().then(function(t){e.input.scriptModel.fastSave().then(e.input.scriptModel.checkScriptSyntax).then(function(){t.executeBeforeRun().then(function(){j();R();return e.input.scriptModel.run().then(function(n){return i.global.getProgress(0).then(z).then(function(){I();return K(n).then(function(){return t.executeAfterRun(n).then(function(){N();q();g.trackEvent(g.customEvents.DATA_LOAD_ELAPSED_TIME,{Time_elapsed:e.elapsedTime})},G)},G)},G)},G)},G)},G)},G)}Q()}]}}.apply(e,r),void 0!==a&&(t.exports=a))},1273:function(t,e,n){"use strict";var r,a;!(r=[n(1151)],a=function(t){var e="reload-started-by-scripteditor";function n(){t.publish(e)}function r(n){t.subscribe(e,n)}return{reloadStarted:n,onReloadStarted:r}}.apply(e,r),void 0!==a&&(t.exports=a))},1275:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=s(n(98));var a=s(n(116));var i=n(1276);var o=s(n(91));function s(t){return t&&t.__esModule?t:{default:t}}var c=function t(e){var n=e.children;return r.default.createElement("div",{className:"qs-view-error"},r.default.createElement("div",{className:"qs-view-error__center"},r.default.createElement("div",{className:"qs-view-error__image"},r.default.createElement(i.ReactComponent,null)),r.default.createElement("div",{className:"qs-view-error__title"},o.default.get("UnsupportedDeviceDialog.Title")),r.default.createElement("div",{className:"qs-view-error__message"},n)))};c.propTypes={children:a.default.node.isRequired};var l=c;e.default=l;t.exports=e.default},1276:function(t,e,n){"use strict";n.r(e);n.d(e,"ReactComponent",function(){return c});var r=n(98);var a=n.n(r);function i(){i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return i.apply(this,arguments)}var o=a.a.createElement("defs",null,a.a.createElement("rect",{id:"No_access_svg__a",x:0,y:0,width:201,height:32.931,rx:4}));var s=a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("g",{fill:"#C7C7C7",fillRule:"nonzero"},a.a.createElement("path",{d:"M173.556.25h-10.372a2 2 0 0 0-1.97 2.348l16.475 93.43a2 2 0 0 0 1.97 1.653l10.372-.001A2 2 0 0 0 192 95.333L175.525 1.902a2 2 0 0 0-1.97-1.653zM28.827.25H39.2a2 2 0 0 1 1.97 2.348l-16.475 93.43a2 2 0 0 1-1.97 1.653l-10.372-.001a2 2 0 0 1-1.97-2.347L26.858 1.902a2 2 0 0 1 1.97-1.653z"})),a.a.createElement("g",{transform:"translate(1 11)"},a.a.createElement("rect",{fill:"#E6E6E6",fillRule:"nonzero",width:201,height:32.931,rx:4}),a.a.createElement("mask",{id:"No_access_svg__b",fill:"#fff"},a.a.createElement("use",{xlinkHref:"#No_access_svg__a"})),a.a.createElement("rect",{stroke:"#A6A6A6",x:-.5,y:-.5,width:202,height:33.931,rx:4}),a.a.createElement("g",{mask:"url(#No_access_svg__b)",fill:"#FFF",fillRule:"nonzero"},a.a.createElement("path",{d:"M23.665-22.041L34.358-11.35-29.28 52.29l-10.693-10.693zM108.631-22.041l10.693 10.692L55.686 52.29 44.993 41.597zM192.57-22.041l10.693 10.692-63.638 63.639-10.693-10.693zM66.816-22.041L77.51-11.35 13.871 52.29 3.178 41.597zM150.755-22.041l10.693 10.692L97.81 52.29 87.117 41.597zM234.694-22.041l10.693 10.692-63.638 63.639-10.693-10.693z"}))));var c=function t(e){return a.a.createElement("svg",i({width:203,height:98},e),o,s)};e["default"]="../../img/core/No_access.ee7efd0ce4d90453132f9dcaeeb181e9.svg"},1669:function(t,e){t.exports='<div class="lui-dialog qv-scripteditor-progressindicator" qva-outside-ignore-for="allOutside" ng-style="containerStyle" qv-global-escape="onEscape()" qv-abso>\n\t<div class="lui-dialog__header dm-header">\n\t\t<div class="lui-dialog__title" q-translation="scripteditor.progressindicator.title" tid="2f0526"></div>\n\t</div>\n\t<main class="lui-dialog__body dm-main">\n\t\t<div class="section clearfix">\n\t\t\t<div class="qv-loader" ng-class="{ \'hide\' : isFinished}"></div>\n\t\t\t<div class="executingscript" q-translation="scripteditor.progressindicator.executingscript"></div>\n\t\t\t<div class="header" q-translation="scripteditor.progressindicator.header" ng-class="{ \'hide\' : isFinished }"></div>\n\t\t\t<div class="elapsed">\n\t\t\t\t<span q-translation="scripteditor.progressindicator.elapsedtime"></span>\n\t\t\t\t<span class="time">{{elapsedTime}}</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-progressindicator log borderbox scrolly">\n\t\t\t\t<div ng-repeat="message in logMessages" class="{{ message.type }}">{{ message.content }}</div>\n\t\t\t\n\t\t</div>\n\t</main>\n\t<footer class="lui-dialog__footer">\n\t\t<lui-checkbox x-model="closeWhenFinished">{{ \'scripteditor.progressindicator.closecheckbox\' | translate }}</lui-checkbox>\n\t\t<div class="button-wrap">\n\t\t\t<lui-button ng-repeat="button in buttons" tid="{{ button.tid }}" ng-click="$event.preventDefault(); button.eventHandler()" ng-disabled="button.isDisabled" q-translation="{{ button.title }}" qva-focus="button.focus"></lui-button>\n\t\t</div>\n\t</footer>\n</div>\n'},1677:function(t,e,n){"use strict";var r,a;!(r=[n(1678)],a=function(t){return{template:t,controller:["$scope",function(t){t.itemClicked=function(t,e){t.preventDefault();e.disabled()||e.select()}}],scope:{items:"="}}}.apply(e,r),void 0!==a&&(t.exports=a))},1678:function(t,e){t.exports='<lui-popover class="ds-list-popover" x-arrow="arrow" tid="ds-list-popover">\n\t<lui-popover-body class="lui-nopad">\n\t\t<ul class="lui-list list">\n\t\t\t<li class="lui-list__item item" ng-repeat="item in items" ng-class="{ \'lui-disabled\': item.disabled() }" ng-click="itemClicked($event,item);">\n\t\t\t\t<div class="lui-list__text ds-text" title="{{item.label}}">{{item.label}}</div>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>\n'},1777:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=d;var r=l(n(98));var a=c(n(1700));var i=l(n(1043));var o=l(n(997));var s=l(n(411));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t;return e}function l(t){return t&&t.__esModule?t:{default:t}}function d(t){var e=(0,s.default)(function(e){return r.default.createElement(i.default,null,function(n){return r.default.createElement(o.default,null,function(i){return r.default.createElement(a.ScriptPermissionProvider,{app:e.app,isPersonalMode:i.isPersonalMode},r.default.createElement(a.default,null,function(a){return r.default.createElement(t,{app:e.app,appLayout:e.appLayout,scriptPrivileges:a,isSmallDevice:n})}))})})});e.displayName=t.displayName||t.name||"Component";return e}t.exports=e.default},1778:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(54),n(2355)],a=function(t,e,n){var r=false,a=true;var i={restrict:"EA",replace:true,scope:{contextApi:"=",searcher:"=",searchActive:"=",scriptModel:"=",currentTab:"="},template:n,controller:["$scope","$timeout",function(t,n){var i;t.isVisible=true;t.searchingActive=false;t.replaceActive=false;t.globalSearch=false;t.replace="";t.searchByMatchingCase=false;t.readonly=!!(t.currentTab&&t.currentTab.autogenerated);t.hasHits=function(){return t.globalSearch?t.totalglobalHits:t.searcher.hits};function o(e,n){if(t.query&&t.query.length>=1){t.searchingActive=true;t.numberOfHitsInTab=t.searcher.doSearch(t.query,e,n,t.searchByMatchingCase);t.currentTab&&(t.currentTab.nbrOfSearchHits=t.numberOfHitsInTab)}else{t.searchingActive=false;t.numberOfHitsInTab=0;t.currentTab&&(t.currentTab.nbrOfSearchHits=t.numberOfHitsInTab)}}var s=e.debounce(function(){n(function(){o(true,false)})},300);function c(){if(t.scriptModel)if(t.globalSearch)t.totalglobalHits=t.scriptModel.markGlobalFindings(t.query,t.searchByMatchingCase);else{t.scriptModel.clearGlobalFindings();t.currentTab&&(t.currentTab.nbrOfSearchHits=t.numberOfHitsInTab);t.totalglobalHits=0}}function l(){t.searcher&&t.searcher.clearMarkedSearch();t.scriptModel&&t.scriptModel.clearGlobalFindings()}function d(){t.replaceCounter=void 0}function u(){""===t.query&&l();v();d()}function p(){d()}t.close=function(){t.query="";t.replace="";t.contextApi.focus();t.searchActive=false};t.$watch("query",u);t.$watch("replace",p);t.$watch("searchByMatchingCase",u);t.$watch("numberOfHitsInTab +'/'+ replace",function(){t.replaceActive=t.replace&&t.replace.length>0});var f;t.$watch("currentTab.content",function(){if(t.searchActive&&t.currentTab.content!==i&&(!f||t.currentTab===f)){f=t.currentTab;s()}});t.$watch("currentTab",function(){t.searchActive&&n(function(){c();o(true,true)});t.readonly=!!(t.currentTab&&t.currentTab.autogenerated)});t.$watch("globalSearch",function(){t.scriptModel&&t.scriptModel.clearGlobalFindings();u();t.globalSearch||d()});t.$watch("searchActive",function(){false===t.searchActive?l():n(function(){c();o(false,true)})});function g(t){return t.nbrOfSearchHits>0}t.onSearchNext=function(){t.searcher.doFindNext(r,function(){t.globalSearch&&(t.currentTab=t.scriptModel.getNextTab(t.currentTab,g));n(function(){n(function(){t.searcher.doFindFirst(t.searchByMatchingCase)})})})};t.onSearchPrev=function(){t.searcher.doFindNext(a,function(){t.globalSearch&&(t.currentTab=t.scriptModel.getPreviousTab(t.currentTab,g));n(function(){n(function(){t.searcher.doFindLast(t.searchByMatchingCase)})})})};function v(){t.globalSearch&&c();o(false,true)}t.onReplaceClick=function(){d();t.searcher.doReplace(r,t.replace,t.searchByMatchingCase,function(){t.globalSearch&&(t.currentTab=t.scriptModel.getNextTab(t.currentTab,g))});i=t.currentTab.content;v()};t.onReplaceAllClick=function(){t.replaceCounter=t.searcher.doReplaceAll(t.query,t.replace,t.searchByMatchingCase);t.globalSearch&&(t.currentTab=t.scriptModel.getNextTab(t.currentTab,g));v()}}]};t.directive("qvCodeareaSearch",function(){return i});return i}.apply(e,r),void 0!==a&&(t.exports=a))},1779:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(48),n(91),n(2356),n(441),n(99),n(177),n(90),n(242),n(1226)],a=function(t,e,n,r,a,i,o,s){e.directive("vtabsSortable",[function(){return{scope:"=",link:function e(n,r,o){n.maxSearchHits=a.MAX_NBR_OF_HITS;n.$watch(o.vtabsSortable,function(e){if(!e)return;e=t.extend({},{handle:".vtabs-move",start:function t(e,n){n.item.data("startPos",n.item.index())},scrollSpeed:i.treatAsDesktop()?25:60,distance:i.treatAsDesktop()?10:0,axis:"y",containment:"parent",tolerance:"pointer",update:function t(r,a){var i=a.item.index(),o=a.item.data("startPos");n.$apply(function(){e.onMove(o,i)})}},e);r.sortable(e)})}}}]);var c={replace:true,restrict:"EA",scope:{scriptModel:"=",currentTab:"=",helpmodeActive:"=",searchActive:"=",mode:"="},template:r,controller:["$scope","qvConfirmDialog",function(t,e){t.sortableOptions={onMove:function e(n,r){t.scriptModel.moveTab(n,r)}};t.$watch("scriptModel",function(){if(t.scriptModel&&t.scriptModel.tabs.length>0){var e=s.getParameterByName("app");var n=o.data(e).scriptTabIndex;void 0===n?n=0:n>=t.scriptModel.tabs.length-1&&(n=t.scriptModel.tabs.length-1);t.currentTab=t.scriptModel.tabs[n];r(n)}else t.currentTab=void 0});t.$watch("scriptModel.currentlyExecutingTab",function(e){e&&(t.currentTab=e)});t.$watch("scriptModel.currentlyExecutingTab.debugLineNbr",function(e){e&&(t.currentTab=t.scriptModel.currentlyExecutingTab)});function r(t){var e=s.getParameterByName("app");o.setData(e,"dataloadeditor",t,true)}t.onAddClicked=function(){var e=t.scriptModel.tabs.indexOf(t.currentTab)+1;r(e);t.scriptModel.addNewTab(e);t.currentTab=t.scriptModel.tabs[e];t.mode=t.currentTab.mode;t.currentTab.focusselect=true;t.helpmodeActive=false};t.onTabClicked=function(e,n){t.currentTab!==e&&n.preventDefault();t.mode=e.mode;t.currentTab.focusselect=false;t.currentTab=e;var a=t.scriptModel.tabs.indexOf(t.currentTab);r(a)};t.onDeleteClicked=function(a,i){a.autogenerated||e.show({title:n.get("scripteditor.vtabs.deletetitle"),message:n.get("scripteditor.vtabs.deletequestion"),okLabel:n.get("Common.Delete"),cancelLabel:n.get("Common.Cancel")}).closed.then(function(e){if(e){t.scriptModel.removeTab(a);i>=t.scriptModel.tabs.length&&(i=t.scriptModel.tabs.length-1);t.currentTab=t.scriptModel.tabs[i];t.mode=t.currentTab.mode;t.helpmodeActive=false;r(i)}})};t.$watch("scriptModel.debugDriver",function(e,n){e||!n||-1===t.scriptModel.tabs.indexOf(t.currentTab)&&(t.currentTab=t.scriptModel.tabs[0])});t.$on("qvCodearea-refresh-current-tab",function(){t.scriptModel&&t.scriptModel.tabs.length>0?t.scriptModel.tabs.indexOf(t.currentTab)<0&&(t.currentTab=t.scriptModel.tabs[0]):t.currentTab=void 0})}]};e.directive("qvCodeareaTabsView",function(){return c});return c}.apply(e,r),void 0!==a&&(t.exports=a))},1780:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(2357),n(2358),n(1081)],a=function(t,e,n,r){var a={restrict:"E",replace:true,scope:{currentTab:"=",scriptModel:"=",warningType:"=",message:"=",actionText:"=",actionIcon:"=",mode:"="},template:e,controller:["$scope","$element",function(e,a){var i=t.getService("luiPopover");var o=a.find(".unlock-button")[0];e.unlock=function(){i.show({template:n,alignTo:o,closeOnResize:true,controller:["$scope",function(t){t.message="scripteditor.unlockAutogeneratedDialog.content";t.actionText="scripteditor.toolbar.unlockAutogenerated";t.confirmAction=function(){e.currentTab.autogenerated=false;e.scriptModel.setAndPersistScript().then(function(){r.resetLoadModel(e.currentTab).then(function(){})});t.close()}}]})};e.enableSyntax=function(){i.show({template:n,alignTo:o,closeOnResize:true,controller:["$scope",function(t){t.message="scripteditor.enableSyntaxDialog.content";t.actionText="scripteditor.toolbar.enableSyntax";t.confirmAction=function(){e.currentTab.mode="sense-script";e.mode="sense-script";e.currentTab.hideSyntaxWarning=true;t.close()}}]})};e.performAction=function(){switch(e.warningType){case"syntax":e.enableSyntax();return;case"autogenerated":e.unlock();return}}}]};t.directive("qvCodeareaAutogeneratedWarning",function(){return a});return a}.apply(e,r),void 0!==a&&(t.exports=a))},1781:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(97)],a=function(t,e){var n=t.$rootScope;n.qvResizeTriggerCounter=0;n.qvReadableResizeTriggerCounter=0;n.$watch("qvResizeTriggerCounter",function(){t.getService("$timeout")(function(){n.qvReadableResizeTriggerCounter++},0)});t.directive("qvaTriggersResizingAfterTransition",function(){return{restrict:"A",link:function e(r,a){a.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend msTransitionEnd",function(){t.$apply(t.$rootScope,function(){n.qvResizeTriggerCounter++})})}}});t.directive("qvaTriggersResizing",function(){return{restrict:"A",link:function t(e,r,a){e.$watch(a.qvaTriggersResizing,function(t){"undefined"!==typeof t&&n.qvResizeTriggerCounter++})}}});t.directive("qvaTriggersResizingDeep",function(){return{restrict:"A",link:function t(e,r,a){e.$watch(a.qvaTriggersResizingDeep,function(t){"undefined"!==typeof t&&n.qvResizeTriggerCounter++},true)}}});t.directive("qvaTriggersResizingCollection",function(){return{restrict:"A",link:function t(e,r,a){e.$watchCollection(a.qvaTriggersResizingCollection,function(t){"undefined"!==typeof t&&n.qvResizeTriggerCounter++})}}});e.on("end",function(){t.$apply(t.$rootScope,function(){n.qvReadableResizeTriggerCounter++})});t.directive("qvaReportElementSize",function(){return{restrict:"A",link:function e(r,a,i){var o=t.getService("$parse")(i.qvaReportElementSize).assign;var s,c;r.$watch(function(){return n.qvReadableResizeTriggerCounter},function(){var t=a.outerHeight(),e=a.outerWidth();if(t!==c||e!==s){var n={width:e,height:t};c=t;s=e;o(r,n)}})}}});function r(){return n.qvReadableResizeTriggerCounter}return{resizeTriggerCounter:r}}.apply(e,r),void 0!==a&&(t.exports=a))},2321:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=s(n(98));var a=s(n(2322));var i=s(n(2323));var o=s(n(2359));n(425);n(1778);n(1779);n(1780);n(1272);n(1781);n(2360);function s(t){return t&&t.__esModule?t:{default:t}}var c={helpKey:"ScriptEditor_ScriptEditor",loaderTranslationKey:"scripteditor.IsLoading",titleTranslationKey:"Title.Scripteditor",renderContent:function t(){return r.default.createElement(i.default,null)},renderMenuItems:function t(e){var n=e.closeMenu;return r.default.createElement(o.default,{closeMenu:n})},renderToolbarContent:function t(){return r.default.createElement(a.default,null)}};e.default=c;t.exports=e.default},2322:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=b(n(98));var a=n(171);var i=v(n(116));var o=v(n(184));var s=v(n(48));var c=v(n(91));var l=v(n(95));var d=v(n(103));var u=v(n(1272));var p=n(1096);var f=v(n(1044));var g=v(n(1777));function v(t){return t&&t.__esModule?t:{default:t}}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t;return e}function h(){h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return h.apply(this,arguments)}function m(t){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return m(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(t,r.key,r)}}function _(t,e,n){e&&C(t.prototype,e);n&&C(t,n);return t}function w(t,e){if(e&&("object"===m(e)||"function"===typeof e))return e;return D(t)}function k(t){k=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return k(t)}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});e&&x(t,e)}function x(t,e){x=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return x(t,e)}var T=null;var S=null;var E=function(t){M(e,t);function e(t){var n;y(this,e);n=w(this,k(e).call(this,t));n.toggleDebugger=n.toggleDebugger.bind(D(n));n.loadData=n.loadData.bind(D(n));n.toggleRightPanel=n.toggleRightPanel.bind(D(n));n.setSharedProperty=n.setSharedProperty.bind(D(n));n.setupKeyboardShortcuts=n.setupKeyboardShortcuts.bind(D(n));n.state={inDebuggerMode:false,isDataLoading:false,isRightPanelVisible:true,shared:""};return n}_(e,[{key:"componentDidMount",value:function t(){var e=this.props.hideConnections;this.setupKeyboardShortcuts();l.default.subscribe("/scripteditor/shared",this.setSharedProperty);this.setState({isRightPanelVisible:!e})}},{key:"componentWillUnmount",value:function t(){S.delete();l.default.unsubscribe("/scripteditor/shared",this.setSharedProperty)}},{key:"setSharedProperty",value:function t(e){this.setState({shared:e,inDebuggerMode:!!e.debuggerActive})}},{key:"setupKeyboardShortcuts",value:function t(){var e={preventDefault:true,allowInInput:true,delay:0};S=o.default.createGroup("dle-toolbar",1);S.registerKeys("alt+f10",this.toggleRightPanel,e);S.registerKeys("alt+f5",this.toggleDebugger,e);S.registerKeys("ctrl+shift+enter",this.loadData,e);S.on()}},{key:"toggleDebugger",value:function t(){var e=this.state,n=e.inDebuggerMode,r=e.shared;var a=!!(r.scriptModel&&r.scriptModel.debugDriver);if(!a){l.default.publish("/scripteditor/toggleDebugger",!n);this.setState({inDebuggerMode:!n})}}},{key:"loadData",value:function t(){var e=this.state,n=e.inDebuggerMode,r=e.isDataLoading,a=e.shared;var i=n||!!(a&&a.scriptModel&&a.scriptModel.debugDriver);if(!T&&!i){var o=document.activeElement;T=s.default.getService("luiDialog").show({template:u.default.template,controller:u.default.controller,input:{scriptModel:a.scriptModel,progressIndicator:a.progressIndicator,onClose:function t(){o&&o.focus();T=null}}})}d.default.trackEvent(d.default.customEvents.LOAD_DATA_CLICK);this.setState({isDataLoading:!r})}},{key:"toggleRightPanel",value:function t(){var e=this.state.isRightPanelVisible;l.default.publish("/scripteditor/hideRightPanel",!e);this.setState({isRightPanelVisible:!e})}},{key:"render",value:function t(){var e=this.props,n=e.isButtonTab,i=e.appLayout,o=e.scriptPrivileges;var s=this.state,l=s.inDebuggerMode,d=s.isDataLoading,u=s.isRightPanelVisible,p=s.shared;if(!i.permissions.update||!o)return null;return r.default.createElement(r.Fragment,null,r.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},r.default.createElement(a.Button,{tid:"4e4ab7",className:l?"lui-button--warning":"",title:c.default.get(l?"Tooltip.Debugger.Close":"Tooltip.Debugger.Open"),onClick:this.toggleDebugger,disabled:!!(p.scriptModel&&p.scriptModel.debugDriver)},r.default.createElement(a.Button.Icon,{name:"debug"}))),r.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},r.default.createElement(a.Button,{tid:"4e4c4d",title:c.default.get(d?"":"scripteditor.toolbar.runscript.tooltip"),onClick:this.loadData,disabled:l||!!(p&&p.scriptModel&&p.scriptModel.debugDriver)},r.default.createElement(a.Button.Icon,{name:"play"}),n?null:r.default.createElement(a.Button.Text,null,c.default.get("scripteditor.toolbar.runscript")))),r.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},r.default.createElement(a.Button,{tid:"4e4c4b",className:u?"lui-active":"",title:c.default.get(u?"Tooltip.Connections.Show":"Tooltip.Connections.Hide"),onClick:this.toggleRightPanel},r.default.createElement(a.Button.Icon,{name:"toggle-right"}))))}}]);return e}(r.Component);E.propTypes={isButtonTab:i.default.bool.isRequired,scriptPrivileges:i.default.bool.isRequired,appLayout:i.default.object.isRequired,hideConnections:i.default.bool.isRequired};var A=(0,g.default)(function(t){return r.default.createElement(p.ToolbarConsumer,null,function(e){return r.default.createElement(E,h({},t,{isButtonTab:e<f.default.medium,hideConnections:e===f.default.small}))})});e.default=A;t.exports=e.default},2323:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=d(n(98));var a=d(n(116));var i=d(n(91));var o=d(n(1275));var s=d(n(1148));var c=d(n(2324));var l=d(n(1777));function d(t){return t&&t.__esModule?t:{default:t}}function u(t){var e=t.isSmallDevice,n=t.app,a=t.appLayout,l=t.scriptPrivileges;if(!a.permissions.update||!l)return r.default.createElement(o.default,null,i.default.get("UnsupportedDevice.DataLoadEditorMessage"));if(e)return r.default.createElement(s.default,null);return r.default.createElement(c.default,{app:n,appLayout:a})}u.propTypes={isSmallDevice:a.default.bool.isRequired,scriptPrivileges:a.default.bool.isRequired,app:a.default.object.isRequired,appLayout:a.default.object.isRequired};var p=(0,l.default)(u);e.default=p;t.exports=e.default},2324:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=b(n(98));var a=v(n(116));var i=v(n(11));var o=n(1730);var s=v(n(199));var c=v(n(108));var l=v(n(94));var d=v(n(95));var u=n(90);var p=v(n(286));var f=v(n(2325));var g=v(n(177));function v(t){return t&&t.__esModule?t:{default:t}}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t;return e}function h(t){h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return h(t)}function m(t,e,n,r,a,i,o){try{var s=t[i](o);var c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,a)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function o(t){m(i,r,a,o,s,"next",t)}function s(t){m(i,r,a,o,s,"throw",t)}o(void 0)})}}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(t,r.key,r)}}function w(t,e,n){e&&_(t.prototype,e);n&&_(t,n);return t}function k(t,e){if(e&&("object"===h(e)||"function"===typeof e))return e;return D(t)}function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){M=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return M(t)}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});e&&T(t,e)}function T(t,e){T=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return T(t,e)}var S=s.default.DLE_SAFE_MODE?"":"sense-script";var E=function(t){x(e,t);function e(){C(this,e);return k(this,M(e).apply(this,arguments))}w(e,[{key:"componentDidMount",value:function t(){var e=this;var n=this.props,r=n.app,a=n.appLayout;l.default.setView(l.default.Views.dataSpaceScriptEditor);g.default.setData((0,u.getParameterByName)("app"),"dataloadeditor");(0,i.default)("body").addClass("qv-scripteditor");d.default.publish("/language/dataSet");d.default.publish("/help/dataSet");a.permissions.update&&y(regeneratorRuntime.mark(function t(){var n,a,s,l,d;return regeneratorRuntime.wrap(function t(u){while(1)switch(u.prev=u.next){case 0:u.next=2;return p.default.getScriptBnf();case 2:n=u.sent;a=(0,o.initializeScriptCodemirrorMode)(S,n);u.next=6;return r.global.getConfiguration();case 6:s=u.sent;u.next=9;return p.default.getReloadScriptBnfModel();case 9:l=u.sent;u.next=12;return c.default.setup();case 12:d=u.sent;e.component=(0,i.default)(e.elem).showComponent(f.default,{clientApp:r,environment:c.default,reloadScriptBnfModel:l,environmentInfo:d,configuration:s,scriptModeApi:a,scriptMode:S});case 14:case"end":return u.stop()}},t)}))()}},{key:"componentWillUnmount",value:function t(){if(this.component)try{this.component.destroy()}catch(t){console.error(t)}(0,i.default)("body").removeClass("qv-scripteditor").removeClass("FEATURE_DLE_CREATE_CONNECTION")}},{key:"render",value:function t(){var e=this;return r.default.createElement("div",{id:"qv-scripteditor-container",ref:function t(n){e.elem=n}})}}]);return e}(r.Component);E.propTypes={app:a.default.object.isRequired,appLayout:a.default.object.isRequired};var A=E;e.default=A;t.exports=e.default},2325:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(95),n(96),n(117),n(2326),n(140),n(1044),n(2327),n(214),n(1063),n(455),n(2329),n(2330),n(2332),n(2342),n(2344),n(2347),n(2350),n(2352),n(495),n(89),n(1005),n(1339),n(1291),n(1039),n(163),n(91),n(2354),n(184),n(286),n(425),n(1778),n(1779),n(1780),n(1272),n(1781)],a=function(t,e,n,r,a,i,o,s,c,l,d,u,p,f,g,v,b,h,m,y,C,_,w,k,D,M,x,T,S){var E=75;var A={restrict:"E",scope:{},template:a,controller:["$scope","$timeout",function(a,A){var q=T.createIdentifiersManager(a.scriptModeApi);a.reloadScriptMode={name:"sense-script",service:q,helpBaseUrl:M.path,language:x.language};a.toolbarhHeight=0;a.enableTouchOverlay=n.utils.touch;var P=a.reloadScriptBnfModel;l.setAllKeywords(P.getAllKeywords());l.setAllKeywordsAsLowerCase(P.getAllKeywordsAsLowerCase());a.editorToolbar=p;a.bottomPane=g;var O=false;var R=false;var L;e.subscribe("/data/save-script",I);a.functionTipOptions={service:P,view:d};a.autocompleteOptions={completeSingle:false,service:P};a.helpModeOptions={syntax:"scriptsyntax",service:P};a.accelerators=[{ctrlKey:true,keyCode:E,fn:function t(e){e.comment()}},s.button1,s.button2];function I(){N("Common.Save").then(a.shared.scriptModel.setAndPersistScript).then(function(){a.shared.scriptModel.checkScriptSyntax()})}function N(t){var e=new C;a.shared.scriptModel.debugDriver?y.confirmAction({header:t,content:"ScriptEditor.EnsureDebugModeOff.Content",confirmButtonTitle:"Common.Yes",declineButtonTitle:"Common.No",focusConfirm:true}).resultPromise.then(function(){return a.shared.scriptModel.debugDriver.cancel().then(function(){e.resolve()},function(){e.reject()})},function(){e.reject()}):e.resolve();return e.promise}var z={active:false,setActive:function t(e){this.active=e},isActive:function t(){return this.active}};a.shared={clientApp:a.clientApp,configuration:a.configuration,scriptModel:void 0,contextApi:void 0,currentTab:void 0,debuggerActive:k.registerWatcher(a,"shared.debuggerActive",false),searchActive:false,ensureDebuggerOff:N,progressIndicator:z,createPrivileges:void 0,environmentInfo:a.environmentInfo,scriptModeApi:a.scriptModeApi,readonly:false,mode:a.scriptMode,hideRightPanel:o.getDisplayMode()===o.default.small};function B(t){a.$apply(function(){a.shared.hideRightPanel=!t})}function F(t){a.$apply(function(){a.shared.debuggerActive=t})}e.subscribe("/scripteditor/hideRightPanel",B);e.subscribe("/scripteditor/toggleDebugger",F);a.accordionSection={module:f,input:a.shared,sharedModel:{}};u.updateScriptModel(r.getCurrentApp()).then(function(t){if(t){c.reset();a.shared.scriptModel=t;q.registerScriptModel(t);a.bottomPaneDebuggerToolbar={visible:true,component:m,input:a.shared};a.$watch("shared.currentTab",function(t,e){q.currentTabChanged(t,e)});var n={id:"output",name:"scripteditor.output.header",visible:k.register("scripteditor.output.header",false),component:v,input:a.shared};a.bottomPaneSections=[n];a.bottomPaneSectionsDebugger=[n,{id:"debug-variables",name:"scripteditor.debugger.variables.header",visible:k.register("scripteditor.debugger.variables.header",true),component:h,input:a.shared},{id:"debug-breakpoints",name:"scripteditor.debugger.breakpoints.header",visible:k.register("scripteditor.debugger.breakpoints.header",true),component:b,input:a.shared}];a.shared.scriptModel.checkScriptSyntax();i.get().then(function(e){e.getLayout().then(function(e){a.shared.createPrivileges=e.create;a.shared.canCreateDataConnections=void 0===e.canCreateDataConnections||e.canCreateDataConnections;D.keepScriptModelUpdatedWithLoadModel(t,H)})});e.publish("/scripteditor/shared",a.shared)}a.$watch("shared.scriptModel.modified",function(t,e){if(!c.isAutoSaveOn(true)){t&&!e&&c.notifyThatNewChangeIsDoneAndSaveIsRequired();return}if(t&&!e){if(O){R=true;return}A.cancel(L);c.setSaveOngoing(true);a.shared.scriptModel.resetModified();L=A(function(){O=true;$().then(function(){a.shared.scriptModel.checkScriptSyntax();O=false})},1e3)}});c.onAppIsNowClean(function(){a.shared.scriptModel.resetModified()})});_.setBeforeUnloadFunctions(a.shared);w.onBeforeLogout(function(){_.unsetBeforeUnloadFunctions()});function $(){return a.shared.scriptModel.setAndPersistScript().then(function(){if(R){R=false;return $()}})}function H(){a.$broadcast("qvCodearea-refresh-current-tab")}var j=S.createGroup("scripteditor-main",1);var V={preventDefault:true,allowInInput:true,delay:0};j.registerKeys("alt+pageup",function(){a.$apply(function(){a.shared.currentTab=a.shared.scriptModel.getPreviousTab(a.shared.currentTab);a.shared.contextApi.focus()})},V);j.registerKeys("alt+pagedown",function(){a.$apply(function(){a.shared.currentTab=a.shared.scriptModel.getNextTab(a.shared.currentTab);a.shared.contextApi.focus()})},V);var W;var K=function t(){if(W){W();W=void 0}W=a.$on("qva-model-on-blur-blurred",function(){W();W=void 0;a.shared.contextApi.focus()})};j.registerKeys("alt+insert",function(){a.$apply(function(){if(!a.codeareaFullScreen){var t=a.shared.scriptModel.tabs.indexOf(a.shared.currentTab)+1;a.shared.scriptModel.addNewTab(t);a.shared.currentTab=a.shared.scriptModel.tabs[t];a.shared.currentTab.focusselect=true;a.shared.helpmodeActive=false;K()}})},V);j.registerKeys("alt+f11",function(){a.$apply(function(){a.codeareaFullScreen=!a.codeareaFullScreen;a.shared.contextApi.focus()})},V);j.on();this.destroy=function(){j.delete();a.destroyComponent();u.destroyModel();e.unsubscribe("/data/save-script",I);e.unsubscribe("/scripteditor/hideRightPanel",B);e.unsubscribe("/scripteditor/toggleDebugger",F);t(document).off(".save-shortcuts");_.unsetBeforeUnloadFunctions()};t(document).on("keydown.save-shortcuts",function(e){if((e.metaKey&&!e.ctrlKey||e.ctrlKey)&&!e.altKey&&83===e.which){e.preventDefault();a.$apply(function(){I()})}else if(e.ctrlKey&&70===e.which){e.preventDefault();a.$apply(function(){if(a.shared.searchActive){a.shared.searchActive=false;setTimeout(function(){a.shared.contextApi.focus()})}else{a.shared.searchActive=true;setTimeout(function(){t("#searchfield-scripteditor").focus()})}})}})}]};return A}.apply(e,r),void 0!==a&&(t.exports=a))},2326:function(t,e){t.exports='<div class="scripteditor-main no-toolbar" qva-triggers-resizing="shared.mode + \'x\' + shared.currentTab.autogenerated + \'x\' + rightPaneContainerSize.width + \'x\' + stolenSize + shared.hideRightPanel + hideLeftPanel + shared.searchActive + shared.scriptModel.debugDriver.nextLine.content">\n\n\t\x3c!--\tLeft panel--\x3e\n\t<div class="scripteditor-left" ng-style="{bottom: bottomPaneContainerSize.height}" ng-class="{hidden: hideLeftPanel}"\n\t qva-report-element-size="leftPaneContainerSize">\n\t\t\x3c!--\tSection panel--\x3e\n\t\t<qv-codearea-tabs-view data-script-model="shared.scriptModel" data-current-tab="shared.currentTab"\n\t\t data-helpmode-active="shared.helpmodeActive" data-search-active="shared.searchActive" data-mode="shared.mode" />\n\n\t\t<div class="qv-disable-overlay" data-disable-during="help-mode"></div>\n\t</div>\n\n\t\x3c!--\tStage panel--\x3e\n\t<div class="scripteditor-stage" ng-style="{left:leftPaneContainerSize.width, right:rightPaneContainerSize.width, bottom:bottomPaneContainerSize.height}">\n\t\t<div qva-report-element-size="topContainerSize">\n\t\t\t\x3c!--\tSub Toolbar--\x3e\n\t\t\t<div id="scripteditor-editorToolbarContainer">\n\t\t\t\t<qv-codearea-toolbar data-context-api="shared.contextApi" data-script-mode-api="shared.scriptModeApi"\n\t\t\t\t data-search-active="shared.searchActive" data-helpmode-active="shared.helpmodeActive" data-script-model="shared.scriptModel"\n\t\t\t\t data-readonly="shared.currentTab.autogenerated || shared.readonly" , data-show-tab-title="leftPaneContainerSize.width === 0"\n\t\t\t\t data-current-tab="shared.currentTab" />\n\t\t\t</div>\n\n\t\t\t\x3c!--\tSearch & Replace panel\t--\x3e\n\t\t\t<div class="searchcontainer-scripteditor" ng-show="shared.searchActive" current-tab="shared.currentTab">\n\t\t\t\t<qv-codearea-search data-search-active=\'shared.searchActive\' data-searcher=\'shared.codeAreaSearchApi\'\n\t\t\t\t data-script-model="shared.scriptModel" data-current-tab="shared.currentTab" data-context-api="shared.contextApi"></qv-codearea-search>\n\t\t\t</div>\n\n\t\t\t<div class="scripteditor-divider">\n\t\t\t\t<div></div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<qv-codearea-autogenerated-warning ng-if="shared.currentTab.autogenerated" data-message="\'scripteditor.toolbar.autogeneratedWarningInfo\'"\n\t\t\t\t data-action-text="\'scripteditor.toolbar.unlockAutogenerated\'" data-action-icon="\'lui-icon--unlock\'"\n\t\t\t\t data-warning-type="\'autogenerated\'" data-current-tab="shared.currentTab" data-script-model="shared.scriptModel" />\n\n\t\t\t\t<qv-codearea-autogenerated-warning ng-if="shared.mode !== \'sense-script\'" data-message="\'scripteditor.toolbar.syntaxDisabledWarningInfo\'"\n\t\t\t\t data-action-text="\'scripteditor.toolbar.enableSyntax\'" data-action-icon="\'lui-icon--script\'" data-warning-type="\'syntax\'"\n\t\t\t\t data-current-tab="shared.currentTab" data-script-model="shared.scriptModel" data-mode="shared.mode" />\n\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="codearea-container" ng-class="{\'codearea-fullscreen\': codeareaFullScreen}" ng-style="{top:(codeareaFullScreen?0:topContainerSize.height), bottom: (toolbarhHeight + nextLineDivSize.height)}">\n\t\t\t<qv-codearea data-show-breakpoint-gutter="true" data-disabled="shared.helpmodeActive || shared.currentTab.autogenerated"\n\t\t\t data-resize-trigger="shared.currentTab.autogenerated + \'x\' + bottomPaneContainerSize.height + \'x\' + topContainerSize.height + \'x\' + rightPaneContainerSize.width + \'x\' + nextLineDivSize.height"\n\t\t\t data-mode="shared.mode" qv-codearea-code-container=\'shared.currentTab\' qv-codearea-breakpoints="shared.currentTab.breakpoints"\n\t\t\t qv-codearea-debug-location="{lineNbr: shared.currentTab.debugLineNbr, errorMessage: shared.scriptModel.debugDriver.errorInLastStep}"\n\t\t\t qv-codearea-exposed-search-api=\'shared.codeAreaSearchApi\' qv-codearea-bnf-function-tip="functionTipOptions"\n\t\t\t qv-codearea-bnf-autocomplete="autocompleteOptions" qv-codearea-errors="shared.currentTab.errors"\n\t\t\t qv-codearea-exposed-context-api="shared.contextApi" qv-codearea-exposed-gutter-width="codeareaGutterWidth"\n\t\t\t qv-codearea-accelerators="accelerators" qv-codearea-help-mode="shared.helpmodeActive"\n\t\t\t data-qv-codearea-help-mode-options="helpModeOptions" qv-codearea-block-large-pastes></qv-codearea>\n\t\t</div>\n\t\t<div class="next-line-container" ng-class="{\'next-line-container-fullscreen\': codeareaFullScreen}" ng-show="shared.scriptModel.debugDriver.nextLine"\n\t\t qva-report-element-size="nextLineDivSize">\n\t\t\t<div class="next-line-border">\n\t\t\t\t\x3c!--div class="next-line-title" q-translation="scripteditor.debugger.nextline.title">  </div--\x3e\n\t\t\t\t<div class="qv-loader next-line-running" ng-hide="shared.scriptModel.debugDriver.idle"></div>\n\t\t\t\t<div class="next-line-paused lui-icon lui-icon--minus" ng-show="shared.scriptModel.debugDriver.idle"></div>\n\t\t\t\t<qv-codearea class="next-line-codearea" ng-style="{\'margin-left\': codeareaGutterWidth}" data-disabled="shared.debuggerActive"\n\t\t\t\t data-mode="reloadScriptMode" data-show-line-numbers="false" data-resize-trigger="bottomPaneContainerSize.height + \'x\' + topContainerSize.height + \'x\' + rightPaneContainerSize.width + \'x\' + shared.scriptModel.debugDriver.nextLine"\n\t\t\t\t qv-codearea-code-container=\'shared.scriptModel.debugDriver.nextLine\'></qv-codearea>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="qv-disable-overlay" data-disable-during="vtabs-editing"></div>\n\n\t\x3c!--\tRight panel--\x3e\n\t<div class="scripteditor-right" ng-class="{hidden: shared.hideRightPanel}" qva-report-element-size="rightPaneContainerSize">\n\t\t\x3c!--\tAccordion panel--\x3e\n\t\t<div class="accordion">\n\t\t\t<h4>{{accordionSection.module.title | translate}}</h4>\n\t\t\t<div qva-include component="accordionSection.module" ng-model="accordionSection.sharedModel" data-input="accordionSection.input"\n\t\t\t class="accordion-content" />\n\t\t</div>\n\t</div>\n\n\t<div class="bottom-pane-container" ng-style="{height: stolenSize, right: shared.hideRightPanel ? 0 : rightPaneContainerSize.width}"\n\t\t qva-report-element-size="bottomPaneContainerSize" qva-triggers-resizing-after-transition>\n\t\t\t<qv-se-bottom-pane stolen-size="stolenSize" data-sections="shared.debuggerActive ? bottomPaneSectionsDebugger : bottomPaneSections"\n\t\t\t data-toolbar="shared.debuggerActive ? bottomPaneDebuggerToolbar : \'undefined\'"></qv-se-bottom-pane>\n\t</div>\n\n\t</div>'},2327:function(t,e,n){"use strict";var r,a;!(r=[n(2328)],a=function(t){return{button1:{previous:{ctrlKey:true,keyCode:48},ctrlKey:true,keyCode:48,fn:function e(n){n.isReadOnly()||n.replaceSelection(t)}},button2:{previous:{ctrlKey:true,keyCode:96},ctrlKey:true,keyCode:96,fn:function e(n){n.isReadOnly()||n.replaceSelection(t)}}}}.apply(e,r),void 0!==a&&(t.exports=a))},2328:function(t,e){t.exports="Characters:\nLoad Chr(RecNo()+Ord('A')-1) as Alpha, RecNo() as Num autogenerate 26;\n \nASCII:\nLoad \n if(RecNo()>=65 and RecNo()<=90,RecNo()-64) as Num,\n Chr(RecNo()) as AsciiAlpha, \n RecNo() as AsciiNum\nautogenerate 255\n Where (RecNo()>=32 and RecNo()<=126) or RecNo()>=160 ;\n \nTransactions:\nLoad\n TransLineID, \n TransID,\n mod(TransID,26)+1 as Num,\n Pick(Ceil(3*Rand1),'A','B','C') as Dim1,\n Pick(Ceil(6*Rand1),'a','b','c','d','e','f') as Dim2,\n Pick(Ceil(3*Rand()),'X','Y','Z') as Dim3,\n Round(1000*Rand()*Rand()*Rand1) as Expression1,\n Round(  10*Rand()*Rand()*Rand1) as Expression2,\n Round(Rand()*Rand1,0.00001) as Expression3;\nLoad \n Rand() as Rand1,\n IterNo() as TransLineID,\n RecNo() as TransID\nAutogenerate 1000\n While Rand()<=0.5 or IterNo()=1;\n\n Comment Field Dim1 With \"This is a field comment\";"},2329:function(t,e,n){"use strict";var r,a;!(r=[n(117),n(89),n(91),n(1290)],a=function(t,e,n,r){var a;function i(i){return e.all({rawScript:i.getScript(),breakpoints:i.getScriptBreakpoints(),favoriteVariables:i.getFavoriteVariables(),translator:n.ready}).then(function(e){var n=e.breakpoints?e.breakpoints.qBreakpoints:[];var o=e.favoriteVariables?e.favoriteVariables.qNames:[];a=r.createQScriptModelFromRawText(t.global,i,e.rawScript.qScript,n,o);return a})}function o(){a=void 0}function s(){return a}return{destroyModel:o,updateScriptModel:i,getCurrentScriptModel:s}}.apply(e,r),void 0!==a&&(t.exports=a))},2330:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(48),n(2331),n(91),n(90)],a=function(t,e,n){var r={restrict:"EA",template:n,replace:true,scope:{showTabTitle:"=",currentTab:"=",readonly:"=",searchActive:"=",helpmodeActive:"=",contextApi:"=",scriptModel:"="},controller:["$scope",function(e){e.initializeToolbar=function(){e.searchActive=false;e.helpmodeActive=false;e.searchDisabled=false;e.undoDisabled=false;e.redoDisabled=false};e.$watch("helpmodeActive",function(){if(e.helpmodeActive){e.helpmodeTooltip="Tooltip.HelpMode.Exit";e.searchDisabled=true;e.undoDisabled=true;e.redoDisabled=true}else{e.helpmodeTooltip="Tooltip.HelpMode.Enter";e.searchDisabled=false;e.undoDisabled=false;e.redoDisabled=false}});e.$watch("searchActive",function(){e.searchActive?e.searchreplaceTooltip="Tooltip.SearchReplace.Close":e.searchreplaceTooltip="Tooltip.SearchReplace.Open"});e.$watch("searchActive",function(){e.searchActive&&(e.helpmodeActive=false)});e.$watch("helpmodeActive",function(){e.helpmodeActive&&(e.searchActive=false)});e.$watch("currentTab",function(){e.readonly=!!(e.currentTab&&e.currentTab.autogenerated)});e.onSearch=function(){n();e.searchActive=!e.searchActive};e.onComment=function(){e.contextApi.comment()};e.onIndent=function(){e.contextApi.indent()};e.onOutdent=function(){e.contextApi.outdent()};e.onUndo=function(){n();e.contextApi.undo()};e.onRedo=function(){n();e.contextApi.redo()};e.onHelpmode=function(){e.helpmodeActive=!e.helpmodeActive;t(document.body).toggleClass("help-mode",e.helpmodeActive)};function n(){e.helpmodeActive=false}e.initializeToolbar()}]};e.directive("qvCodeareaToolbar",function(){return r})}.apply(e,r),void 0!==a&&(t.exports=a))},2331:function(t,e){t.exports='<div class="qui-toolbar" data-help="ScriptEditor.EditorToolBar">\n\t<div class="tab-title-container" ng-if="showTabTitle"><h1>{{currentTab.name}}</h1></div>\n\t<div class="qui-buttonset-left">\n        <button class="lui-fade-button"\n                data-name="search"\n                ng-class="{\'lui-active\': searchActive}"\n                ng-disabled="searchDisabled"\n                ng-click="onSearch()"\n                q-title-translation="{{searchreplaceTooltip}}"\n                tid="2df410">\n                \t<span class="lui-fade-button__icon  lui-icon lui-icon--search"></span>\n        </button>\n        \n        <button\n\t\t\tclass="lui-fade-button"\n\t\t\tdata-name="comment"\n\t\t\tng-disabled="helpmodeActive || readonly"\n\t\t\tng-click="onComment()"\n\t\t\tq-title-translation="scripteditor.toolbar.commentTooltip">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--comment"></span>\n\t\t</button>\n\n\t\t<button\n\t\t\tclass="lui-fade-button group-right"\n\t\t\tdata-name="indent"\n\t\t\tng-disabled="helpmodeActive || readonly"\n\t\t\tng-click="onIndent()"\n\t\t\tq-title-translation="scripteditor.toolbar.indentTooltip">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--indent"></span>\n\t\t</button>\n\n\t\t<button\n\t\t\tclass="lui-fade-button"\n\t\t\tdata-name="outdent"\n\t\t\tng-disabled="helpmodeActive || readonly"\n\t\t\tng-click="onOutdent()"\n\t\t\tq-title-translation="scripteditor.toolbar.outdentTooltip">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--undent"></span>\n\t\t</button>\n\t\t\n\t\t<button\n\t\t\tclass="lui-fade-button"\n\t\t\tdata-name="help-mode"\n\t\t\tng-class="{\'strong-active\': helpmodeActive, \'qui-active\': helpmodeActive}"\n\t\t\tng-click="onHelpmode()"\n\t\t\tq-title-translation="{{helpmodeTooltip}}">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--help"></span>\n\t\t</button>\n\t\n\t\t<button class="lui-fade-button group-right"\n\t\t\t\ttid="2e3f81"\n\t\t\t\tdata-name="undo"\n\t\t\t\tng-disabled="undoDisabled || !contextApi.canUndo || readonly"\n\t\t\t\tng-click="onUndo()"\n\t\t\t\tq-title-translation="Common.Undo">\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--back"></span>\n\t\t</button>\n\t\n\t\t<button class="lui-fade-button group-left"\n\t\t\t\ttid=\'2e3fac\'\n\t\t\t\tdata-name="redo"\n\t\t\t\tng-disabled="redoDisabled || !contextApi.canRedo || readonly"\n\t\t\t\tng-click="onRedo()"\n\t\t\t\tq-title-translation="Common.Redo">\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--forward"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="qv-disable-overlay" data-disable-during="vtabs-editing"></div>\n</div>\n'},2332:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(48),n(91),n(54),n(90),n(2333),n(2334),n(117),n(294),n(2336),n(994),n(1006),n(2337),n(2339),n(496),n(2340),n(49),n(108),n(494),n(263)],a=function(t,e,r,a,i,o,s,c,l,d,u,p,f,g,v,b,h,m,y){return{title:"scripteditor.accordion.dataconnectors",helpId:"ScriptEditor.DataConnectors",template:o,scope:{contextApi:"=",helpmodeActive:"=",ensureDebuggerOff:"=",createPrivileges:"=",canCreateDataConnections:"=",scriptModel:"=",environmentInfo:"=",currentTab:"=",configuration:"="},controller:["$scope","$timeout",function(o,C){o.newCreateConnection=h.getFlag("DLE_CREATE_CONNECTION");o.newCreateConnection&&t("body").addClass("FEATURE_DLE_CREATE_CONNECTION");var _=n.p+"img/connector-logos/connector-generic-logo.png";var w=e.getService("qvConfirmDialog");var k;var D="QvDataMarketConnector.exe";var M=u.createDataconnectorsModel(c.global,c.getCurrentApp(),l,o.createPrivileges,o.canCreateDataConnections);o.dataSourceInfoMap={};var x={insertCode:function t(e,n){window.qtnxtjsctrlpnl=window.qtnxtjsctrlpnl||{};window.qtnxtjsctrlpnl.lastInsertedCode=e;n&&!n.type.isFolderConnector&&"internet"!==n.type.provider&&n.name&&(e=S(n)+"\n"+e);o.helpmodeActive=false;o.contextApi.insertCode(e)}};o.connectorFilter="";function T(t){var e="'",n=e;t.charAt(0)===e&&(e="´");n+=t.replace(e,e+e);n+=e;return n}function S(t){return"LIB CONNECT TO "+T(t.name)+";\n"}function E(){o.selectDialogsEnabled=false;o.addButtonEnabled=false;k.then(function(){g.getConnections().then(function(t){l.getDataconnectorInstances().then(function(e){o.datasources=e;o.datasources.forEach(function(e){e.associatedDatasource=o.dataSourceInfoMap[e.sourceConnectorID.toLowerCase()];if(!e.associatedDatasource){e.associatedDatasource=new y({entrypoint:{displayName:"",imagePath:_}});e.associatedDatasource.isBroken=true;e.associatedDatasource.getBestImage()}e.dataSourceName=e.associatedDatasource.getDisplayName();if(e.type&&e.type.isFolderConnector){e.imageIcon="folder";e.associatedDatasource.imageIcon="folder";e.dataSourceName="scripteditor.dataconnectors.filedirectory"}e.usedInQDL=t&&t[e.name];e.isUploadedFilesConnection=v.isUploadFolderConnection(e);if(e.isUploadedFilesConnection){e.imageIcon="paperclip";e.dataSourceName="AddData.LeftNav.UploadedFiles";v.adjustConnectionProperties(e)}});o.displayDatasources=L();o.selectDialogsEnabled=true;o.addButtonEnabled=true})})})}function A(){var t=[];return M.then(function(e){var n=e.allConnectorEntrypoints;Object.keys(n).forEach(function(e){t=t.concat(n[e])});return t})}var q=function t(e){return a.uniq(e.map(function(t){return t.connectorType}),function(t){return t.provider})};var P=[];function O(){return c.getCurrentApp().getAppLayout().then(function(t){var e=t.qLayout.create;return A().then(function(t){for(var n=0;n<t.length;n++){"scripteditor.flatfilechooser.files.all"===t[n].getId()&&(t[n].imageIcon="folder");var r=t[n].getId();r&&!o.dataSourceInfoMap[r.toLowerCase()]&&(o.dataSourceInfoMap[r.toLowerCase()]=t[n]);var a=t[n].getProvider();a&&!o.dataSourceInfoMap[a.toLowerCase()]&&(o.dataSourceInfoMap[a.toLowerCase()]=t[n]);t[n].getProvider()!==D&&l.hasCreatePrivileges(e,t[n].getConnectorType().toLowerCase())&&0===P.filter(function(e){return e.getId().toLowerCase()===t[n].getId().toLowerCase()}).length&&P.push(t[n])}return o.newCreateConnection?P:q(P)})})}k=O();k.then(function(t){o.areConnectorsAvailable=t.length>0});var R={};o.onAddClicked=function(){o.ensureDebuggerOff("scripteditor.dataconnectors.add.title").then(function(){k.then(function(e){if(t("#addDataConnectorDialogContainer").html())R.closeDialog();else{var n={connectorTypes:e,closeDialogHelper:R,configuration:o.configuration};t("#addDataConnectorDialogContainer").showComponent(f,n)}})})};o.onAddClickedNew=function(){k.then(function(n){var r=e.getService("luiDialog");r.show({controller:b.component.controller,template:b.component.template,input:{connectors:n,configuration:o.configuration}}).opened.then(function(){i.isIos()||i.isAndroid()||t("#create-connection-search").find("input").focus()})})};o.onRefreshClicked=function(){E()};o.$on("connectionListModified",function(){m.isPersonalModeSync()?o.scriptModel.setAndPersistScript().then(function(){E()}):E()});o.$watch("connectorFilter",function(){o.displayDatasources=L()});function L(){return d.filterDataconnectorInstances(o.datasources,o.connectorFilter)}o.dialogInProgress=false;o.onEditDataClicked=function(e){o.dialogInProgress=true;o.ensureDebuggerOff("scripteditor.accordion.editdata").then(function(){var n={kind:"connect",editMode:true,qvxSelectedEntrypoint:{id:e.id,name:e.name,sourceConnectorID:e.sourceConnectorID,associatedDatasource:e.associatedDatasource?e.associatedDatasource.datasource:void 0},datasource:e.associatedDatasource,instanceId:e.id,connectorType:e.type,serverside:l.getServersideConnectorProxy(e.type.provider,e.associatedDatasource.getDisplayName(),e),configuration:o.configuration};p.loadComponent(e.type,"connectDialog").then(function(a){if(a)if(a.showDialog)a.showDialog(n);else{t("#dialogContainer").showComponent(a,n);var i=t('header[class*="dialog__header"],header[class*="dm-header"]');var s=i.find("label");s.empty();var c=r.get("scripteditor.dataconnectors.edit.edittitle",e.dataSourceName);s.append(c)}else C(function(){l.showConnectorErrorMessage(e.type)});o.dialogInProgress=false},function(){C(function(){l.showConnectorErrorMessage(e.type)});o.dialogInProgress=false})},function(){o.dialogInProgress=false})};o.onLoadDataClicked=function(e){o.dialogInProgress=true;o.ensureDebuggerOff("scripteditor.accordion.selectdata").then(function(){p.loadComponent(e.type,"selectDialog").then(function(n){n?n.showDialog?n.showDialog(e,x,l.getServersideConnectorProxy(e.associatedDatasource.getProvider(),e.associatedDatasource.getDisplayName(),e)):t("#dialogContainer").showComponent(n,{standardSelectDialogService:s.createStandardSelectDialogService(e,x),dataconnectorInstance:e,connectionId:e.id,serverside:l.getServersideConnectorProxy(e.associatedDatasource.getProvider(),e.associatedDatasource.getDisplayName(),e),scriptEditorProxy:x}):C(function(){l.showConnectorErrorMessage(e.type)});o.dialogInProgress=false},function(){C(function(){l.showConnectorErrorMessage(e.type)});o.dialogInProgress=false})},function(){o.dialogInProgress=false})};o.onInsertConnectorClick=function(t){o.contextApi.insertCode(S(t))};o.hasPrivilege=function(t,e){return!e.privileges||e.privileges.indexOf(t)>-1};o.usedInQDL=function(t){return t.usedInQDL};o.showLockedIcon=function(t){return t.usedInQDL&&!t.isUploadedFilesConnection};o.onDeleteClicked=function(t){o.dialogInProgress=true;o.ensureDebuggerOff("scripteditor.accordion.deleteconnection").then(function(){w.show({title:r.get("scripteditor.dataconnectors.deleteconnectiondialog.title"),message:r.get("scripteditor.dataconnectors.deletequestion"),okLabel:r.get("Common.Delete"),cancelLabel:r.get("Common.Cancel")}).closed.then(function(n){n&&c.currentApp.deleteConnection(t.id).then(function(){e.$rootScope.$broadcast("connectionListModified")})});o.dialogInProgress=false},function(){o.dialogInProgress=false})};o.onConnectionDragStart=function(t,e){if(e.type.needsConnect){t.originalEvent.dataTransfer.effectAllowed="copy";t.originalEvent.dataTransfer.setData("Text",S(e))}else t.originalEvent.dataTransfer.setData("Text","")};o.$watch(c.getCurrentApp,function(t){t&&E()})}]}}.apply(e,r),void 0!==a&&(t.exports=a))},2333:function(t,e){t.exports='<div class="accordion-dataconnectors">\n\t<div class="connection-controls-container">\n\t\t<button class="lui-button add-connection" ng-click="newCreateConnection ? onAddClickedNew() : onAddClicked()" ng-disabled="!canCreateDataConnections || !areConnectorsAvailable" q-translation="scripteditor.dataconnectors.add.title"\n\t\t\t\ttid="2e674d"\n\t\t\t\tq-title-translation="scripteditor.dataconnectors.add.title" qva-outside-ignore-for="add-data-connectors-dialog">\n\t\t\tAdd connection\n\t\t</button>\n\n\n\t\t<lui-search\n\t\t\t\t\tautocapitalize="off"\n\t\t\t\t\tautocorrect="off"\n\t\t\t\t\tautocomplete="off"\n\t\t\t\t\tquery="connectorFilter"\n                    tid="scripteditorDataConnSearchField"\n\t\t\t\t\ton-escape="connectorFilter = \'\';" placeholder="Common.Search"></lui-search>\n\n\n\t</div>\n\t<div class="no-hits-panel" ng-show="connectorFilter != \'\' && displayDatasources.length == 0">\n\t\t<span class="no-hits-filter">"{{connectorFilter}}"</span>\n\t\t<span class="no-hits-message" q-translation="Toolbox.Search.Nohits">No hits</span>\n\t</div>\n\t<ul>\n\t\t<qv-spinner class="spinner" show="!addButtonEnabled" show-delay="100" show-for-at-least="300" spinner-height="150px" spinner-width=150px" center-in-parent="true"></qv-spinner>\n\n\t\t<li class="datasource"\n\t\t\tdata-qva-on-dragstart="onConnectionDragStart($event, datasource)"\n\t\t\tdata-qva-drag-disabled="!datasource.type.needsConnect"\n\t\t\tng-repeat="datasource in displayDatasources"\n\t\t\tq-title-translation="{{datasource.type.title}}">\n\n\t\t\t<div class="name-line">\n\t\t\t\t<div class="name-and-image">\n\t\t\t\t\t<span  class="image-container connection-icon" ng-if="!datasource.imageIcon" ng-style="{\'background-image\': \'url(\' + datasource.associatedDatasource.getImagePath() + \')\'}" ></span>\n\t\t\t\t\t<span  class="image-container connection-icon lui-icon lui-icon--{{datasource.imageIcon}}" ng-if="datasource.imageIcon"></span>\n\t\t\t\t\t<div class="name">{{datasource.name || datasource.associatedDatasource.displayName}} {{datasource.remark}}</div>\n\t\t\t\t</div>\n\t\t\t\t<span class="lui-icon  lui-icon--lock connector-lock" aria-hidden="true" ng-show="showLockedIcon(datasource)" q-title-translation="scripteditor.accordion.locked" tid="234238"></span>\n\t\t\t</div>\n\n\t\t\t<div class="kind" ng-show="datasource.associatedDatasource.getDisplayName()">{{datasource.associatedDatasource.getDisplayName()}}</div>\n\t\t\t<div class="kind" ng-hide="datasource.associatedDatasource.getDisplayName()" q-translation="scripteditor.dataconnectors.unknown-connector-type,{{datasource.typeName}}"></div>\n\n\t\t\t<div class="connectorbuttons-container">\n\t\t\t\t<div class="connectorbuttons">\n\t\t\t\t\t<button class="lui-fade-button"\n\t\t\t\t\t\t\tng-click="onInsertConnectorClick(datasource)"\n\t\t\t\t\t\t\tng-show="datasource.type.needsConnect"\n\t\t\t\t\t\t\tq-title-translation="scripteditor.accordion.insertconnectionstring"\n\t\t\t\t\t\t\tng-disabled="currentTab.autogenerated || dialogInProgress || datasource.associatedDatasource.isBroken">\n\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--insert"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="lui-fade-button"\n\t\t\t\t\t\t\tng-disabled="currentTab.autogenerated || !selectDialogsEnabled || dialogInProgress || datasource.associatedDatasource.isBroken"\n\t\t\t\t\t\t\tng-show="datasource.type"\n\t\t\t\t\t\t\tng-click="onLoadDataClicked(datasource)"\n\t\t\t\t\t\t\tq-title-translation="scripteditor.accordion.selectdata">\n\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--table-ok"></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="lui-fade-button"\n\t\t\t\t\t\t\tng-if="hasPrivilege(\'update\', datasource)"\n\t\t\t\t\t\t\tng-show="datasource.type"\n\t\t\t\t\t\t\tng-click="onEditDataClicked(datasource)"\n\t\t\t\t\t\t\tq-title-translation="scripteditor.accordion.editdata"\n\t\t\t\t\t\t\tng-disabled="dialogInProgress || usedInQDL(datasource) || datasource.associatedDatasource.isBroken">\n\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--edit"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t<button class="lui-fade-button delete-button"\n\t\t\t\t\t\tng-if="hasPrivilege(\'delete\', datasource)"\n\t\t\t\t\t\tng-click="onDeleteClicked(datasource)"\n\t\t\t\t\t\tq-title-translation="scripteditor.accordion.deleteconnection"\n\t\t\t\t\t\tng-disabled="dialogInProgress || usedInQDL(datasource)">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--bin"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t</li>\n\t</ul>\n</div>\n'},2334:function(t,e,n){"use strict";var r,a;!(r=[n(286),n(1706),n(1708),n(2335),n(51)],a=function(t,e,n,r,a){function i(i,o){function s(s,c){t.getReloadScriptBnfModel().then(function(t){var l=new n(s),d=(c||{}).scriptGenerator||r.createScriptGenerator(t);a.show(e,{dataSelectionModel:l,scriptGenerator:d,scriptEditorProxy:o,options:c||{},dataconnectorInstance:i})})}var c={showStandardDialog:s};return c}function o(i,o,s){function c(c,l){t.getReloadScriptBnfModel().then(function(t){var d=new n(c,s),u=(l||{}).scriptGenerator||r.createScriptGenerator(t);a.show(e,{dataSelectionModel:d,scriptGenerator:u,scriptEditorProxy:o,options:l||{},dataconnectorInstance:i})})}var l={showStandardDialog:c};return l}return{createStandardSelectDialogService:i,createInlineStandardSelectDialogService:o}}.apply(e,r),void 0!==a&&(t.exports=a))},2335:function(t,e,n){"use strict";var r,a;!(r=[n(54)],a=function(t){var e=["postgresql","hdb"];function n(t){if(t.length>0){var e=t.charCodeAt(0);return 48<=e&&e<=57}return false}function r(t,e){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t.charAt(n)))return true;return false}function a(a){var i={};function o(t,e,n,r){var a="",i="    ",o,u;if(e){o=t.databases;o&&o.forEach(function(t){t.owners&&t.owners.length>0&&t.owners.forEach(function(o){o.tables&&o.tables.length>0&&o.tables.forEach(function(p){u=l(p.fields);if(u&&u.length>0){(n||d(u))&&(a+=s(u,i,e));a+=c(u,i,t,p,o,r,e);a+="\r\n"}})})});return a.trim()+"\r\n\r\n"}return""}function s(t,e,n){var r="ACCESS"===(n.dbmsname||"").toUpperCase();var a=r?"REM ":"";var o=a+"LOAD ";for(var s=0;s<t.length;s++){s>0&&(o+=",\r\n");o+=(s>0?e:"")+f(i,t[s].name,n);t[s].alias&&t[s].alias!==t[s].name&&(o+=" AS "+f(i,t[s].alias,n))}return o+";"}function c(t,e,n,r,a,o,s){var c="\r\nSQL SELECT ";if(o)c+="* ";else for(var l=0;l<t.length;l++){l>0&&(c+=",\r\n");c+=(l>0?e:"")+f(i,t[l].name,s)}c=c+"\r\nFROM "+u(n.name,a.name,r.name,s);var d=r.loadProperties&&r.loadProperties.filterInfo&&r.loadProperties.filterInfo.filterClause;return d?c+" WHERE "+d+";\r\n":c+";\r\n"}function l(e){return t.filter(e,function(t){return t.checked})}function d(t){for(var e in t)if(t[e].alias&&t[e].alias!==t[e].name)return true;return false}function u(t,e,n,r){var a="";if(r.dbfirst){r.dbusage&&t&&(a+=f(i,t,r)+r.dbseparator);r.ownerusage&&e&&(a+=f(i,e,r)+r.ownerseparator);a+=f(i,n,r)}else{r.ownerusage&&e&&(a+=f(i,e,r)+r.ownerseparator);a+=f(i,n,r);r.dbusage&&t&&(a+=r.dbseparator+f(i,t,r))}return a}function p(t){return t.dbmsname&&e.contains(t.dbmsname.toLowerCase())}function f(t,e,a){if(!t)throw new Error("Quote cache is not defined.");if(!e)throw new Error("Name is not defined.");if(!a)throw new Error("Database information is not defined.");if(t[e]||p(a)||r(e,a.specialchars)||g(e,a.keywords)||n(e)){t[e]=true;return a.quoteprefix+e+a.quotesuffix}return e}function g(t,e){var n;if(a.isKeyword(t))return true;for(n=0;n<e.length;n++)if(e[n].toUpperCase()===t.toUpperCase())return true;return false}var v={generateScriptForSelections:o,maybeQuote:f};return v}return{createScriptGenerator:a}}.apply(e,r),void 0!==a&&(t.exports=a))},2336:function(t,e,n){"use strict";var r,a;!(r=[n(91),n(139)],a=function(t,e){var n;var r="QvDataMarketConnector.exe";var a="DataPrepAppCache";var i="__GEO_TABLES";function o(t,r){var a=t.type&&t.type.displayName&&""!==t.type.displayName?n.get(t.type.displayName):"";var i=r.toLowerCase();var o=e.string(t.name.toLowerCase()).indexOf(e.string(i))>=0;var s=e.string(a.toLowerCase()).indexOf(e.string(i))>=0;return o||s}function s(e,s,c){n=c||t;if(e&&e.length>0)return e.filter(function(t){return t.typeName!==r&&t.name!==a&&t.name!==i&&o(t,s)});var l=[];return l}return{filterDataconnectorInstances:s}}.apply(e,r),void 0!==a&&(t.exports=a))},2337:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(2338),n(294),n(97),n(1006)],a=function(t,e,n,r,a){return{template:e,scope:{configuration:"=",connectorTypes:"="},controller:["$scope","input","$timeout",function(e,i,o){i.closeDialogHelper&&(i.closeDialogHelper.closeDialog=e.destroyComponent);e.onConnectorClicked=function(r){var i={kind:"connect",connectorType:r,serverside:n.getServersideConnectorProxy(r),configuration:e.configuration};e.destroyComponent();a.loadComponent(r,"connectDialog").then(function(e){e?t("#dialogContainer").showComponent(e,i):o(function(){n.showConnectorErrorMessage(r)})},function(){o(function(){n.showConnectorErrorMessage(r)})})};e.onOutsidePopoverLayouts=function(){e.destroyComponent()};r.on("start",e.onOutsidePopoverLayouts);o(function(){var n=t(document).height();var r=parseInt(t("#addDataConnectorDialogContainer").css("top"));e.listMaxHeight=n-2*r})}]}}.apply(e,r),void 0!==a&&(t.exports=a))},2338:function(t,e){t.exports='<div class="popover-content" qva-outside="onOutsidePopoverLayouts()" qva-outside-ignore-for="add-data-connectors-dialog" tid=\'2e6834\'>\n\t<div class="lui-popover">\n\t\t<div class="lui-popover__body lui-nopad">\n\t\t  \t<div class="content" style="max-height: {{listMaxHeight}}px;">\n\t\t\t\t<ul class="lui-list" ng-if="connectorTypes.length > 0">\n\t\t\t\t\t<li class="lui-list__item" ng-repeat="element in standardTypes = (connectorTypes  | filter:{isStandardConnector:\'true\'})" ng-click="onConnectorClicked(element)" tid=\'a93c3a\'>\n\t\t\t\t\t\t<span class="lui-list__text" title="{{element.displayName | translate}}">{{element.displayName | translate}}</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="lui-list__item" ng-repeat="element in customTypes = (connectorTypes | filter:{isStandardConnector:\'false\'})" ng-click="onConnectorClicked(element)">\n\t\t\t\t\t\t<span class="lui-list__text" title="{{element.displayName | translate}}">{{element.displayName | translate}}</span><span class="architecture-label">( {{element.architecture.text}} )</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="lui-popover__arrow lui-popover__arrow--right"></div>\n\t</div>\n</div>'},2339:function(t,e,n){"use strict";var r,a;!(r=[n(253)],a=function(t){function e(){}function n(){return t.getLoadModel(e).then(function(t){return t.serialize().connectionMetaDataModels},function(){return{}})}return{getConnections:n}}.apply(e,r),void 0!==a&&(t.exports=a))},2340:function(t,e,n){"use strict";var r,a;!(r=[n(11),n(91),n(2341),n(294),n(1006),n(49)],a=function(t,e,n,r,a,i){var o={template:n,controller:["$scope",function(n){var o=null;var s=null;n.filterModel={filterString:""};var c=function t(e){var r=e.filter(function(t){if(!n.filterModel.filterString)return true;return t.getDisplayName().toLowerCase().indexOf(n.filterModel.filterString.trim().toLowerCase())>-1});return r.sort(function(t,e){return t.getDisplayName().localeCompare(e.getDisplayName())})};n.otherDataSources=function(){if(!s){s=n.connectors.filter(function(t){var e=i.getFlag("BDI_CONNECTOR");if("bdi.exe"===t.getProvider().toLowerCase()&&!e)return false;return!t.isFolderConnector()&&!t.isStorageProvider()});n.otherConnectorsCount=s.length}return c(s)};n.folderDataSources=function(){if(!o){var t=null;o=n.connectors.filter(function(e){t=!t&&e.isFolderConnector()?e:t;return e.isStorageProvider()});t&&o.unshift(t);n.folderConnectorsCount=o.length}return c(o)};n.folderDataSources();n.otherDataSources();n.createConnection=function(i){var o={kind:"connect",connectorType:i.getConnectorType(),datasource:i,serverside:r.getServersideConnectorProxy(i.getProvider()),configuration:n.configuration,qvxSelectedEntrypoint:i.getEntrypoint(),qvDialogContext:{title:""}};n.destroyComponent();a.loadFromDatasource(i,"connectDialog").then(function(n){if(n)if(n.showDialog)n.showDialog(o);else{t("#dialogContainer").showComponent(n,o);var r=t('header[class*="dialog__header"],header[class*="dm-header"]');var a=r.find("label");a.empty();var s=e.get("scripteditor.dataconnectors.add.dialogtitle",i.getDisplayName());a.append(s)}})};var l=function t(){n.destroyComponent()};n.cancel=function(){l()}}]};return{component:o}}.apply(e,r),void 0!==a&&(t.exports=a))},2341:function(t,e){t.exports='<lui-dialog class="script-create-connection">\n    <lui-dialog-header q-translation="scripteditor.dataconnectors.add.title"></lui-dialog-header>\n    \n    <lui-dialog-body class="create-connection-body">\n        <lui-search id="create-connection-search" placeholder="scripteditor.dataconnectors.add.searchdatasources" class="create-connection-search"\n            query="filterModel.filterString" on-escape="filterModel.filterString = \'\';"></lui-search>\n\n        <div class="content-container" tid="datasources_list">\n            <div class="connector-lists">\n                <ul class="lui-list folder-list" ng-if="folderConnectorsCount > 0">\n                    <li class="lui-list__header">\n                        <span class="lui-list__text" q-translation="AddData.LeftNav.FileLocations"></span>\n                    </li>\n                    <li ng-repeat="datasource in folderDataSources() track by $index" class="lui-list__item" ng-click="createConnection(datasource)"\n                        tid="datasource_{{datasource.getId()}}">\n                        <span class="connector-icon lui-icon lui-icon--{{datasource.imageIcon}}" ng-if="datasource.imageIcon"></span>\n                        <span class="connector-image"  ng-if="!datasource.imageIcon" ng-style="{\'background-image\': \'url(\' + datasource.getImagePath() + \')\'}"></span>\n                        <span class="lui-list__text">{{datasource.getDisplayName()}}</span>\n                    </li>\n                </ul>\n\n                <ul class="lui-list connector-list" ng-if="otherConnectorsCount > 0">\n                    <li class="lui-list__header">\n                        <span class="lui-list__text" q-translation="scripteditor.dataconnectors.add.datasourcestitle"></span>\n                    </li>\n\n                    <li ng-repeat="datasource in otherDataSources() track by $index" class="lui-list__item" ng-click="createConnection(datasource)"\n                        tid="datasource_{{datasource.getId()}}">\n                        \n                        <span class="connector-image" ng-style="{\'background-image\': \'url(\' + datasource.getImagePath() + \')\'}"></span>\n                        <span class="lui-list__text">{{datasource.getDisplayName()}}</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n\n    </lui-dialog-body>\n\n    <lui-dialog-footer>\n        <lui-button ng-click="cancel()" q-translation="Common.Close" tid="close"></lui-button>\n    </lui-dialog-footer>\n</lui-dialog>'},2342:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(91),n(2343),n(1291),n(184),n(214)],a=function(t,e,n,r,a,i){var o={restrict:"EA",replace:true,scope:{stolenSize:"=",sections:"=",toolbar:"="},template:n,controller:["$scope","$filter",function(t,n){t.tid="na";t.saveService=i;var o={preventDefault:true,allowInInput:true,delay:0};var s;var c=n("filter");t.expanded=true;i.isAutoSaveOn(true)&&t.$watch(function(){return i.isSaveOngoing()},function(n,r){if(n===r)return;if(n){t.tid="saving";t.savedMessage=e.get("scripteditor.autosave.saving")}else if(i.getLastSaveSuccess()){t.tid="saved";t.savedMessage=e.get("scripteditor.autosave.allchangessaved");t.savedTooltip=i.getLastSavedAsString()}else{t.tid="failed";t.savedMessage=e.get("scripteditor.autosave.lastsavefailed")}});t.$watch("expanded",function(e){t.stolenSize=e?"307px":"40px"});function l(e,n){s.registerKeys("alt+"+e,function(){t.$apply(function(){t.toggleSectionVisibility(n)})},o)}function d(){s&&s.delete();s=a.createGroup("bottom-pane",1);for(var e=0;e<t.sections.length;e++)l(e+1,t.sections[e]);s.on()}t.$watchCollection("sections",function(e){if(e){t.expanded=c(t.sections,{visible:true},true).length>0;d()}else t.expanded=false});t.toggleSectionVisibility=function(e){e.visible=!e.visible;r.set(e.name,e.visible);t.expanded=c(t.sections,{visible:true},true).length>0};t.$on("$destroy",function(){s&&s.delete()})}]};t.directive("qvSeBottomPane",function(){return o})}.apply(e,r),void 0!==a&&(t.exports=a))},2343:function(t,e){t.exports='<div class="bottom-pane" tabindex="-1" qva-triggers-resizing="expanded">\n\t<div class="section-buttons">\n\t\t<div class="lui-buttongroup bottom-pane-button">\n\t\t\t<button ng-repeat="section in sections" class="lui-button" ng-class="{ \'lui-active\': section.visible }" ng-click="toggleSectionVisibility(section)" q-translation="{{section.name}}"></button>\n\t\t</div>\n\n\t\t<div class="bottom-pane-last-saved" tid="dle-autos-{{tid}}" ng-show="!$parent.toolbar.visible" ng-attr-title="{{savedTooltip}}">{{savedMessage}}</div>\n\n\t\t<div class="bottom-pane-right-toolbar" ng-if="toolbar" qva-include component="toolbar.component" data-input="toolbar.input" ng-show="$parent.toolbar.visible"></div>\n\t</div>\n\t<div class="section-row">\n\t\t<div class="section" ng-repeat="section in sections |filter:{visible:true}:true">\n\t\t\t<div qva-include component="section.component" data-input="section.input"></div>\n\t\t</div>\n\t</div>\n</div>\n'},2344:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(11),n(2345),n(1211),n(2346),n(91),n(208),n(1193)],a=function(t,e,n,r,a,i,o){function s(n,s,c,l){var d=5;var u;var p="hh:mm";n.scrollToBottom=function(){c(function(){a.scrollToBottomOfOutput(e(".bottom-pane-progress-output .output-window")[0])});h()};function f(t){u&&clearTimeout(u);u=setTimeout(function(){var r=g(t);e(".output-window.bottom-pane-inner-content").html(r);n.scrollLock||n.scrollToBottom();u=void 0},d)}function g(t){var e="";var n;for(var r=0;r<t.length;r++){var i=t[r];var s=i.text;var c=i.type;e+="<div class='message "+c+"'>";if(i.created!==n){var l=a.formatTime(i.created,p);var d=o.encodeForHTML(l);e+="<div class='selectable created'>"+d+"</div>"}e+='<div class="selectable">'+v(o.encodeForHTML(s))+"</div>";e+="</div>";n=i.created}return e}function v(t){return t.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>')}function b(t){var e=t.qLocaleInfo.qTimeFmt;return e.replace("TT","A")}function h(){m&&m.close&&m.close();m=void 0}n.scrollLock=false;n.clientApp.getLayout().then(function(t){p=b(t);f(r.getMessages());n.scrollToBottom();r.onMessagesUpdated(f)});n.clientApp.Invalidated.bind(function(){n.clientApp.getLayout().then(function(t){var e=b(t);if(p!==e){p=e;f(r.getMessages())}})});n.clear=function(){r.clear();h()};n.selectAllText=function(){var t=e(".output-window")[0];var n=window.getSelection();var r=document.createRange();r.selectNodeContents(t);n.removeAllRanges();n.addRange(r);h()};n.toggleScrollLock=function(){n.scrollLock=!n.scrollLock;var t=i.get("scripteditor.console.scrolllock."+(n.scrollLock?"enabled":"disabled"));r.addMessage(r.MESSAGE_TYPE.DEFAULT,t)};n.scrollLockIcon=function(){return n.scrollLock?"[":"\\"};n.$on("$destroy",function(){r.removeObserver(f)});n.isOutputPopoverShowing=false;var m;n.showOutputPopover=function(){if(n.isOutputPopoverShowing&&m){m.close();return}var t=s.find(".output-button")[0];y().then(function(e){n.isOutputPopoverShowing=true;m=l.show(t,e,"bottom");m.closed.then(function(){n.isOutputPopoverShowing=false})})};function y(){return t.promise([{label:i.get("Common.Clear"),select:n.clear,disabled:function t(){return false}},{label:i.get("scripteditor.output.selectalltext"),select:n.selectAllText,disabled:function t(){return false}},{label:i.get("scripteditor.output.scrolltobottom"),select:n.scrollToBottom,disabled:function t(){return false}}])}}return{scope:{clientApp:"="},template:n,controller:["$scope","$element","$timeout","dsListPopoverService",s]}}.apply(e,r),void 0!==a&&(t.exports=a))},2345:function(t,e){t.exports='<div class="bottom-pane-progress-output bottom-pane-progress bottom-pane-content">\n\n\t<div class="title-container">\n\t\t<div class="toolbar">\n\t\t\t<button class="lui-button" ng-class="{\'lui-active\': scrollLock }" ng-click="toggleScrollLock();" q-title-translation="scripteditor.output.scrolllock">\n\t\t\t \t<span class="lui-button__icon  lui-icon  lui-icon--lock"></span>\n\t\t\t</button>\n\n\t\t\t<button class="lui-button output-button"\n\t\t\t\t\tng-click="showOutputPopover()"\n\t\t\t\t\tng-class=" { \'lui-active\': isOutputPopoverShowing }"\n\t\t\t\t\ttid="4f38ab"\n\t\t\t\t\tq-title-translation="scripteditor.output.popoverbutton.title">\n\t\t\t\t<span class="lui-button__icon lui-icon  lui-icon--menu"></span>\n\t\t\t\t<span class="lui-button__caret  lui-caret"></span>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<p class="header" q-translation="scripteditor.output.header">#Output#</p>\n\t</div>\n\n\t<div class="output-window bottom-pane-inner-content">\n\t\t\x3c!-- dynamic content here --\x3e\n\t</div>\n</div>\n'},2346:function(t,e,n){"use strict";var r,a;!(r=[n(326)],a=function(t){function e(e,n){var r=new t(null);return r.format(e,n)}function n(t){if(!t)throw new Error("Element is undefined.");t.scrollTop=t.scrollHeight}return{formatTime:e,scrollToBottomOfOutput:n}}.apply(e,r),void 0!==a&&(t.exports=a))},2347:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(2348),n(2349),n(91),n(1193)],a=function(t,e,n,r){function a(t){return t.tabsAndIncludedFiles}function i(e,i,o){e.isBreakpointsPopoverShowing=false;var s;e.showBreakpointsPopover=function(){if(e.isBreakpointsPopoverShowing&&s){s.close();return}var t=i.find(".breakpoints-button")[0];c().then(function(n){e.isBreakpointsPopoverShowing=true;s=o.show(t,n,"bottom");s.closed.then(function(){e.isBreakpointsPopoverShowing=false})})};e.moreThanOneBreakpointExists=function(){var t=a(e.scriptModel);return n.moreThanOneBreakpointExists(t)};e.notMoreThanOneBreakpointExists=function(){return!e.moreThanOneBreakpointExists()};e.areAllBreakpointsEnabled=function(){var t=a(e.scriptModel);return n.areAllBreakpointsEnabled(t)};e.areAllBreakpointsDisabled=function(){var t=a(e.scriptModel);return n.areAllBreakpointsDisabled(t)};e.deleteBreakpoint=function(t,e){n.deleteBreakpoint(t,e)};e.enableAllBreakpoints=function(){var t=a(e.scriptModel);n.enableAllBreakpoints(t);s.close()};e.disableAllBreakpoints=function(){var t=a(e.scriptModel);n.disableAllBreakpoints(t);s.close()};e.deleteAllBreakpoints=function(){var t=a(e.scriptModel);n.deleteAllBreakpoints(t);s.close()};e.onBreakpointClicked=function(t,n){e.currentTab=t;e.contextApi.gotoLine(n.lineNbr)};function c(){return t.promise([{disabled:e.areAllBreakpointsEnabled,label:r.get("scripteditor.debugger.breakpoints.enableallbreakpoints"),select:e.enableAllBreakpoints},{disabled:e.areAllBreakpointsDisabled,label:r.get("scripteditor.debugger.breakpoints.disablebreakpoints"),select:e.disableAllBreakpoints},{disabled:e.notMoreThanOneBreakpointExists,label:r.get("scripteditor.debugger.breakpoints.deleteallbreakpoints"),select:e.deleteAllBreakpoints}])}}return{scope:{scriptModel:"=",currentTab:"=",contextApi:"="},template:e,controller:["$scope","$element","dsListPopoverService",i]}}.apply(e,r),void 0!==a&&(t.exports=a))},2348:function(t,e){t.exports='<div class="bottom-pane-breakpoints bottom-pane-content" ng-if="scriptModel">\n\n\t<div class="toolbar">\n\t\t<button class="lui-button breakpoints-button" ng-click="showBreakpointsPopover()" ng-class=" { \'lui-active\': isBreakpointsPopoverShowing }">\n\t\t\t<span class="lui-button__icon lui-icon  lui-icon--menu"></span>\n\t\t\t<span class="lui-button__caret  lui-caret"></span>\n\t\t</button>\n\t</div>\n\n\t<p class="header" q-translation="scripteditor.debugger.breakpoints.header">#Debug breakpoints#</p>\n\n\t<p q-translation="scripteditor.debugger.breakpoints.nobreakpointsfound" ng-show="!moreThanOneBreakpointExists()">#No breakpoints found#</p>\n\n\t<div class="breakpoints bottom-pane-inner-content">\n\t\t<table>\n\t\t\t<tbody ng-repeat="tab in scriptModel.tabsAndIncludedFiles">\n\t\t\t<tr class="breakpoint" ng-repeat="breakpoint in tab.breakpoints | qvToArray | orderBy:\'breakpoint.lineNbr\'">\n\t\t\t\t<td>\n\t\t\t\t\t<div class="breakpoint-container">\n\t\t\t\t\t\t<lui-checkbox x-model="breakpoint.enabled" title="{{tab.name}}: {{breakpoint.lineNbr}}"></lui-checkbox>\n\t\t\t\t\t\t<div class="label" ng-click="onBreakpointClicked(tab, breakpoint);">{{tab.name}}: {{breakpoint.lineNbr}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t\t<td class="delete-column">\n\t\t\t\t\t<button class="lui-fade-button" ng-click="deleteBreakpoint(tab.breakpoints, breakpoint.lineNbr);"\n\t\t\t\t\t\t\tq-title-translation="scripteditor.debugger.breakpoints.deletebreakpoint">\n\t\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--remove"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>'},2349:function(t,e,n){"use strict";var r;!(r=function(){function t(t){t.enabled=true}function e(t){t.enabled=false}function n(t){return t.enabled}function r(t){for(var e=0;e<t.length;e++){var n=t[e];if(Object.keys(n.breakpoints).length>0)return true}return false}function a(t,e){if(!t)throw new Error("List of breakpoints is undefined.");if(!e)throw new Error("Breakpoint line number is undefined.");if(!t[e])throw new Error("The breakpoint does not exist.");delete t[e]}function i(t){if(!t)throw new Error("Tabs is undefined.");for(var e=0;e<t.length;e++){var r=t[e];for(var a in r.breakpoints){var i=r.breakpoints[a];if(n(i))return false}}return true}function o(t){if(!t)throw new Error("Tabs is undefined.");for(var e=0;e<t.length;e++){var r=t[e];for(var a in r.breakpoints){var i=r.breakpoints[a];if(!n(i))return false}}return true}function s(e){if(!e)throw new Error("Tabs is undefined.");if(!r(e))throw new Error("No breakpoints exists, why was this logic called?");for(var n=0;n<e.length;n++){var a=e[n];for(var i in a.breakpoints){var o=a.breakpoints[i];t(o)}}}function c(t){if(!t)throw new Error("Tabs is undefined.");if(!r(t))throw new Error("No breakpoints exists, why was this logic called?");for(var n=0;n<t.length;n++){var a=t[n];for(var i in a.breakpoints){var o=a.breakpoints[i];e(o)}}}function l(t){if(!t)throw new Error("Tabs is undefined.");if(!r(t))throw new Error("No breakpoints exists, why was this logic called?");for(var e=0;e<t.length;e++)t[e].breakpoints={}}return{moreThanOneBreakpointExists:r,deleteBreakpoint:a,areAllBreakpointsDisabled:i,areAllBreakpointsEnabled:o,enableAllBreakpoints:s,disableAllBreakpoints:c,deleteAllBreakpoints:l}}.call(e,n,e,t),void 0!==r&&(t.exports=r))},2350:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(2351),n(91),n(1693),n(1193)],a=function(t,e,n){return{template:e,scope:{scriptModel:"="},controller:["$scope","$element","dsListPopoverService",function(e,r,a){var i={},o={allVariables:true,favorites:true},s="all",c="system",l="reserved",d="user";e.selectedVariableType=s;e.expandTitle="scripteditor.debugger.variables.allsection";function u(){return t.promise([{disabled:function t(){return e.selectedVariableType===s},label:n.get("scripteditor.debugger.variables.allvariables"),select:function t(){e.selectedVariableType=s;e.expandTitle="scripteditor.debugger.variables.allsection";p.close()}},{disabled:function t(){return e.selectedVariableType===c},label:n.get("scripteditor.debugger.variables.systemvariables"),select:function t(){e.selectedVariableType=c;e.expandTitle="scripteditor.debugger.variables.systemsection";p.close()}},{disabled:function t(){return e.selectedVariableType===l},label:n.get("scripteditor.debugger.variables.reservedvariables"),select:function t(){e.selectedVariableType=l;e.expandTitle="scripteditor.debugger.variables.reservedsection";p.close()}},{disabled:function t(){return e.selectedVariableType===d},label:n.get("scripteditor.debugger.variables.uservariables"),select:function t(){e.selectedVariableType=d;e.expandTitle="scripteditor.debugger.variables.usersection";p.close()}}])}e.isVariablesPopoverShowing=false;var p;e.showVariablesPopover=function(){if(e.isVariablesPopoverShowing&&p){p.close();return}var t=r.find(".variables-button")[0];u().then(function(n){e.isVariablesPopoverShowing=true;p=a.show(t,n,"bottom");p.closed.then(function(){e.isVariablesPopoverShowing=false})})};e.markAsFavorite=function(t,e){e.updateFavoriteVariables(t)};e.favoriteIconTitle=function(t){return e.scriptModel.variableIsFavorite(t.key)?"scripteditor.debugger.unmarkasfavorite":"scripteditor.debugger.markasfavourite"};e.filterUserOrSystemVariable=function(t){return e.selectedVariableType===t.type||e.selectedVariableType===s};e.onExpand=function(t){i[t]=!i[t]};e.isExpanded=function(t){return i[t]};e.onExpandSection=function(t){o[t]=!o[t]};e.isExpandedSection=function(t){return o[t]};e.isNewValue=function(t){return null!==t.previous&&t.previous!==t.current}}]}}.apply(e,r),void 0!==a&&(t.exports=a))},2351:function(t,e){t.exports='<div class="bottom-pane-variables bottom-pane-content">\n\n\t<div class="title-container">\n\t\t<div class="toolbar">\n\t\t\t<button class="lui-button variables-button" ng-click="showVariablesPopover()" ng-class="{ \'lui-active\': isVariablesPopoverShowing }">\n\t\t\t\t<span class="lui-button__icon lui-icon  lui-icon--menu"></span>\n\t\t\t\t<span class="lui-button__caret  lui-caret"></span>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<p class="header" q-translation="scripteditor.debugger.variables.header">#Debug variables#</p>\n\t</div>\n\n\n\t<div class="table-wrapper bottom-pane-inner-content">\n\t\t<div class="toggle-section" ng-click="onExpandSection(\'favorites\')" q-title-translation="scripteditor.debugger.expand">\n\t\t\t<i class="toggle-section-icon lui-icon {{ isExpandedSection( \'favorites\' ) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t<span class="toggle-section-header" q-translation="scripteditor.debugger.variables.favoritesection"></span>\n\t\t</div>\n\t\t<table ng-show="isExpandedSection( \'favorites\' )">\n\t\t\t<tr class="variable-row-wrapper" ng-show="scriptModel.variables && scriptModel.variables.length > 0" ng-repeat="variable in scriptModel.variables">\n\t\t\t\t<td class="fav-cell" ng-show="scriptModel.variableIsFavorite(variable.key)">\n\t\t\t\t\t<div class="lui-icon lui-icon--star favorite-star" ng-click="markAsFavorite(variable, scriptModel)" ng-class="{\'favorite-marked\': scriptModel.variableIsFavorite(variable.key)}" q-title-translation="{{favoriteIconTitle(variable)}}"></div>\n\t\t\t\t</td>\n\t\t\t\t<td class="variable-key" title="{{variable.key}}" ng-show="scriptModel.variableIsFavorite(variable.key)">\n\t\t\t\t\t{{variable.key}}\n\t\t\t\t</td>\n\t\t\t\t<td class="current-value" title="{{variable.current}}" ng-show="scriptModel.variableIsFavorite(variable.key)">\n\t\t\t\t\t<span ng-class="{\'current-updated\': isNewValue(variable)}">{{variable.current}}</span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t\t<div class="toggle-section" ng-click="onExpandSection(\'allVariables\')" q-title-translation="scripteditor.debugger.expand">\n\t\t\t<i class="toggle-section-icon lui-icon {{ isExpandedSection( \'allVariables\' ) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t<span class="toggle-section-header" q-translation="{{expandTitle}}"></span>\n\t\t</div>\n\t\t<table ng-show="isExpandedSection( \'allVariables\' )">\n\t\t\t<tr class="variable-row-wrapper" ng-show="scriptModel.variables && scriptModel.variables.length > 0" ng-repeat="variable in scriptModel.variables | filter: filterUserOrSystemVariable">\n\t\t\t\t<td class="fav-cell">\n\t\t\t\t\t<div class="lui-icon lui-icon--star favorite-star" ng-click="markAsFavorite(variable, scriptModel)" ng-class="{\'favorite-marked\': scriptModel.variableIsFavorite(variable.key)}" q-title-translation="{{favoriteIconTitle(variable)}}"></div>\n\t\t\t\t</td>\n\t\t\t\t<td class="variable-key" title="{{variable.key}}">\n\t\t\t\t\t{{variable.key}}\n\t\t\t\t</td>\n\t\t\t\t<td class="current-value" title="{{variable.current}}">\n\t\t\t\t\t<span ng-class="{\'current-updated\': isNewValue(variable)}">{{variable.current}}</span>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>'},2352:function(t,e,n){"use strict";var r,a;!(r=[n(48),n(91),n(2353),n(1291),n(184),n(433)],a=function(t,e,n,r,a){var i={restrict:"E",template:n,title:"debugger test",scope:{scriptModel:"="},controller:["$scope","qvAlertDialog",function(t,n){var i=false;var o=a.createGroup("debugger-view",1);r.registerWatcher(t,"scriptModel.debugLimitedLoadValue",100);r.registerWatcher(t,"scriptModel.debugLimitedLoadEnabled",false);t.onGotoHighligtedRow=function(){t.scriptModel.debugDriver&&t.scriptModel.onGotoHighligtedRow()};t.onStepClick=function(){return t.scriptModel.debugDriver?t.scriptModel.debugDriver.step().then(function(t){t&&"IT_END"===t.qType&&n.show({title:e.get("scripteditor.debugger.steppedtoend.header"),message:e.get("scripteditor.debugger.steppedtoend.content"),closeLabel:e.get("Common.OK")})}):t.scriptModel.startDebugDriver(false)};t.onRunClick=function(){t.scriptModel.debugDriver?t.scriptModel.debugDriver.runToBreakpoint():t.scriptModel.startDebugDriver(true)};t.onPauseClick=function(){t.scriptModel.debugDriver.pause()};t.onGetInteractClick=function(){t.scriptModel.debugDriver&&t.scriptModel.debugDriver.getInteract()};t.onInteractDoneClick=function(){t.scriptModel.debugDriver&&t.scriptModel.debugDriver.interactDone()};t.onCancelClick=function(){t.scriptModel.debugDriver&&t.scriptModel.debugDriver.cancel()};t.onLimitedLoadBlur=function(){var e=t.scriptModel.debugLimitedLoadValue;!Number.isNaN(+e)&&Number.isFinite(+e)&&e%1===0||(t.scriptModel.debugLimitedLoadValue=1)};var s={preventDefault:true,allowInInput:true,delay:0};o.registerKeys("alt+f6",function(){t.$apply(function(){!t.scriptModel.debugDriver||t.scriptModel.debugDriver.idle?t.onRunClick():t.scriptModel.debugDriver&&!t.scriptModel.debugDriver.idle&&(t.scriptModel.debugDriver.pauseRequested||t.scriptModel.debugDriver.cancelRequested||t.onPauseClick())})},s);o.registerKeys("alt+f7",function(){if(i)return;t.$apply(function(){if(!(t.scriptModel.debugDriver&&!t.scriptModel.debugDriver.idle||t.scriptModel.debugDriver&&t.scriptModel.debugDriver.cancelRequested)){i=true;t.onStepClick().then(function(){i=false})}})},s);o.registerKeys("alt+f8",function(){if(i)return;t.$apply(function(){!t.scriptModel.debugDriver||t.scriptModel.debugDriver.cancelRequested||t.onCancelClick()})},s);o.on();t.$on("$destroy",function(){o.delete();t.scriptModel.debugDriver&&t.scriptModel.debugDriver.cancel()})}]};t.directive("qvDebuggerView",function(){return i});return i}.apply(e,r),void 0!==a&&(t.exports=a))},2353:function(t,e){t.exports='<div class="debugger-view">\n\n\t<div class="limited-load-controllers">\n\t\t<lui-checkbox x-model="scriptModel.debugLimitedLoadEnabled" title="{{\'scripteditor.debug.toolbar.enablelimitedload\'|translate}}">{{\'scripteditor.debug.toolbar.enablelimitedload\'|translate}}</lui-checkbox>\n\t\t<input type="text" ng-model="scriptModel.debugLimitedLoadValue" qva-blur="onLimitedLoadBlur()" ng-disabled="!scriptModel.debugLimitedLoadEnabled" q-title-translation="{{\'scripteditor.debug.toolbar.currentlimitedloadvalue\'|translate}}" class="lui-input limited-load-value-input" placeholder="1"/>\n\t</div>\n\n\t<div class="debugger-controllers">\n\t\t<button class="lui-fade-button" q-title-translation="scripteditor.debug.toolbar.run" ng-show="!scriptModel.debugDriver || scriptModel.debugDriver.idle" ng-click="onRunClick()">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--run"></span>\n\t\t</button>\n\n\t\t<button class="lui-fade-button" \n\t\t\tq-title-translation="scripteditor.debug.toolbar.pause" \n\t\t\tng-show="scriptModel.debugDriver && !scriptModel.debugDriver.idle" \n\t\t\tng-class="{\'lui-disabled\': scriptModel.debugDriver.pauseRequested || scriptModel.debugDriver.cancelRequested }"\n\t\t\tng-click="onPauseClick()">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--pause"></span>\n\t\t</button>\n\n\t\t<button class="lui-fade-button" \n\t\t\tq-title-translation="scripteditor.debug.toolbar.step" \n\t\t\tng-class="{ \'lui-disabled\': scriptModel.debugDriver && !scriptModel.debugDriver.idle || scriptModel.debugDriver.cancelRequested }"\n\t\t\tng-click="onStepClick()">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--step-in"></span>\n\t\t</button>\n\n\t\t<button class="lui-fade-button" \n\t\t\tq-title-translation="scripteditor.debug.toolbar.endhere" \n\t\t\tng-class="{ \'lui-disabled\': !scriptModel.debugDriver || scriptModel.debugDriver.cancelRequested }"\n\t\t\tng-click="onCancelClick()">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--stop"></span>\n\t\t</button>\n\t</div>\n</div>\n'},2354:function(t,e,n){"use strict";var r,a;!(r=[n(199)],a=function(t){function e(e){var n;var r=0;function a(r){var a=n.tabs[r];if("reloadScriptMode"===a.mode||t.DLE_SAFE_MODE)return;a.identifiers||(a.identifiers=e.getIdentifiers(a.content))}function i(t){a(t);t>0&&setTimeout(function(){i(t-1)})}function o(t){n=t}function s(a,o){o&&!t.DLE_SAFE_MODE&&"reloadScriptMode"!==o.mode&&(o.identifiers=e.getIdentifiers(o.content));if(a){var s=n.tabs.indexOf(a);r=s;s>0&&!t.DLE_SAFE_MODE&&"reloadScriptMode"!==a.mode&&setTimeout(function(){i(s-1)})}}function c(){var t=[];for(var e=0;e<r;e++)n.tabs[e].identifiers&&t.push(n.tabs[e].identifiers);return Array.prototype.concat.apply([],t)}var l={registerScriptModel:o,currentTabChanged:s,getAutocompleteList:c};return l}return{createIdentifiersManager:e}}.apply(e,r),void 0!==a&&(t.exports=a))},2355:function(t,e){t.exports='<div ng-show="isVisible" class="codearea-search-view" data-theme="pp" data-size="small">\n\t<div class="search-controls">\n\t\t<lui-search id="searchfield-scripteditor"\n\t\t\t\t\tng-class="{ \'lui-invalid\': !searcher.validQuery }"\n\t\t\t\t\tautocapitalize="off"\n\t\t\t\t\tautocorrect="off"\n\t\t\t\t\tautocomplete="off"\n\t\t\t\t\tauto-focus="searchActive"\n\t\t\t\t\tqv-enter="onSearchNext()"\n\t\t\t\t\ttid=\'2e1b99\' query="query" on-escape="close()" placeholder="scripteditor.search.label"></lui-search>\n\n\t\t<div class="lui-buttongroup search-prev-next-container">\n\t\t\t<button id="searchprev-scripteditor"\n\t\t\t\t\tclass="lui-button"\n\t\t\t\t\tng-click="onSearchPrev()"\n\t\t\t\t\tng-disabled="!searchingActive || !hasHits()"\n\t\t\t\t\tq-title-translation="Common.Previous">\n\t\t\t\t\t<span class="lui-icon lui-icon--arrow-left"></span>\n\t\t\t</button>\n\t\t\t<button id="searchnext-scripteditor"\n\t\t\t\t\tclass="lui-button"\n\t\t\t\t\tng-click="onSearchNext()"\n\t\t\t\t\tng-disabled="!searchingActive || !hasHits()"\n\t\t\t\t\tq-title-translation="Common.Next">\n\t\t\t\t\t<span class="lui-icon lui-icon--arrow-right"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div class="replace-controls">\n\n\n\t\t\t<lui-search id="replacefield-scripteditor"\n\t\t\t\t\t\tautocapitalize="off"\n\t\t\t\t\t\tautocorrect="off"\n\t\t\t\t\t\tautocomplete="off"\n\t\t\t\t\t\ttid=\'2e1b9a\'\n\t\t\t\t\t\tx-disabled="readonly"\n\t\t\t\t\t\tid="replacefield-scripteditor"\n\t\t\t\t\t\tqv-enter="onReplaceClick()"\n\t\t\t\t\t\tquery="replace" on-escape="close();" placeholder="scripteditor.replace.label"></lui-search>\n\n\t\t<button id="replace-scripteditor"\n\t\t\t\ttid="2e1b86"\n\t\t\t\tclass="replace-btn lui-button"\n\t\t\t\tng-click="onReplaceClick()"\n\t\t\t\tng-disabled="readonly || !searchingActive || !hasHits()"\n\t\t\t\tq-translation="Common.Replace"\n\t\t\t\t/>\n\t\t<button id="replaceall-scripteditor"\n\t\t\t\ttid=\'2e1ba5\'\n\t\t\t\tclass="replace-btn lui-button"\n\t\t\t\tng-click="onReplaceAllClick()"\n\t\t\t\tng-disabled="readonly || !searchingActive || !hasHits()"\n\t\t\t\tq-translation="scripteditor.replace.insection"\n\t\t\t\t/>\n\t</div>\n\t<div class="settings">\n\t\t<lui-checkbox x-model="searchByMatchingCase" class="search-by-matching-case" title="{{\'scripteditor.search.matchCase\'|translate}}">{{\'scripteditor.search.matchCase\'|translate}}</lui-checkbox>\n\t\t<lui-checkbox x-model="globalSearch" title="{{\'scripteditor.search.inallsections\'|translate}}">{{\'scripteditor.search.inallsections\'|translate}}</lui-checkbox>\n\t</div>\n\t<div class="replace-results" ng-show="replaceCounter">\n\t\t<span q-translation="scripteditor.replace.count" class="replacecount"></span>\n\t\t<span id="replacecount-scripteditor" class="replacecount">{{replaceCounter}}</span>\n\t</div>\n</div>\n'},2356:function(t,e){t.exports='<div class="codearea-tabs" data-help="ScriptEditor.VTabs" tabindex="-1">\n\t<div class="qui-editbarflat">\n\t\t<div class="buttonset vtabs-top-buttonset">\n\t\t\t<button class="edit-bar-add" data-toggle="new-tab" q-title-translation="scripteditor.vtabs.newtab" tid="22cf2a" ng-click="onAddClicked()">\n\t\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t\t</button>\n\t\t\t\n\t\t</div>\n\t</div>\n\t<div class="vtabs">\n\t\t<ul class="tab-list" vtabs-sortable="sortableOptions">\n\t\t\t<li ng-repeat="tab in scriptModel.tabs">\n\t\t\t\t<div class="tabrow" ng-class="{selected:tab==currentTab}" ng-click="onTabClicked(tab, $event)">\n\t\t\t\t\t<div class="icon-vtabs-move-container"  q-title-translation="scripteditor.vtabs.move">\n\t\t\t\t\t\t<div class="vtabs-move lui-icon lui-icon--handle" ng-show="tab==currentTab && !scriptModel.debugDriver"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="vtabs-title" q-title-translation="{{tab.autogenerated ? \'scripteditor.toolbar.autogeneratedWarningInfo\' : \'scripteditor.vtabs.editsectionname\'}}" tid="2342a7">\n\t\t\t\t\t\t<span tid="vtabs-title-content" ng-hide="tab == currentTab || tab.autogenerated" title="{{tab.name}}">{{tab.name}}</span>\n\t\t\t\t\t\t<span ng-show="tab.autogenerated" q-translation="scripteditor.autogeneratedSection"></span>\n\t\t\t\t\t\t<input ng-show="tab==currentTab && !tab.autogenerated" tid="22cf14" type="text" maxlength="255" ng-model="tab.name" qva-model-onblur qva-cancel-editing-on-empty qva-select-watch="tab.focusselect" autocorrect="off" autocapitalize="off" autocomplete="off">\x3c!--<span ng-show="tab.modified">*</span>--\x3e\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="lui-icon lui-icon--warning vtabs-error" ng-show="tab.errors.content.length > 0"></span>\n\t\t\t\t\t<div class="search-matches" ng-show="searchActive && tab.nbrOfSearchHits > 0">{{(tab.nbrOfSearchHits >= maxSearchHits ) ? "> " : ""}}{{tab.nbrOfSearchHits}}</div>\n\t\t\t\t\t<div class="vtabs-lock lui-icon lui-icon--lock" ng-show="tab.autogenerated" q-title-translation="scripteditor.vtabs.lock" tid="234268"></div>\n\t\t\t\t\t<div class="vtabs-delete lui-icon lui-icon--remove" ng-show="tab==currentTab && scriptModel.tabs.length > 1 && !scriptModel.debugDriver" ng-click="onDeleteClicked(tab, $index)" q-title-translation="Common.Delete" tid="234266" ng-disabled="tab.autogenerated"></div>\n\t\t\t\t</div>\n\t\t\t\t<ul class="included-tab-list">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class="included-tab-row" ng-repeat="includedTab in tab.includedFileTabs" ng-class="{selected:includedTab==currentTab}" ng-show="scriptModel.debugDriver || includedTab==currentTab" ng-click="onTabClicked(includedTab)">\n\t\t\t\t\t\t\t<div class="included-tab-title imported-file">\n\t\t\t\t\t\t\t\t<span title="{{includedTab.name}}"> {{includedTab.name}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--warning vtabs-error" ng-show="includedTab.errors.content.length > 0"></span>\n\t\t\t\t\t\t\t\t<div class="search-matches" ng-show="includedTab.nbrOfSearchHits > 0">{{includedTab.nbrOfSearchHits}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n'},2357:function(t,e){t.exports='<div class="codearea-autogenerated-warning-container">\n\t<div>\n\t\t<span class="codearea-autogenerated-warning lui-icon lui-icon--warning-triangle"></span>\n\t\t<div class="information-text" q-translation="{{ message }}"/>\n\t</div>\n\n\t<button class="lui-button unlock-button"\n\t\t\tng-click="performAction()"\n\t\t\ttid="465565">\n\t\t<span class="lui-button__icon lui-icon {{ actionIcon }}" q-title-translation="{{ actionText }}"/>\n\t\t<span class="lui-button__text" q-translation="{{ actionText }}" />\n\t</button>\n</div>\n'},2358:function(t,e){t.exports='<lui-popover class="script-unlock-popover">\n\t<lui-popover-body class="script-unlock-popover__body" q-translation="{{ message }}"></lui-popover-body>\n\t\n\t<lui-popover-footer>\n\t\t<button class="lui-button" q-translation="{{ actionText }}" ng-click="confirmAction()"></button>\n\t</lui-popover-footer>\n</lui-popover>\n'},2359:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;function r(){return null}var a=r;e.default=a;t.exports=e.default},2360:function(t,e,n){},411:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=s(n(98));var a=s(n(988));var i=s(n(438));var o=s(n(1086));function s(t){return t&&t.__esModule?t:{default:t}}function c(){c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};return c.apply(this,arguments)}function l(t){return t.displayName||t.name||"Component"}function d(t){var e=function e(n){return r.default.createElement(a.default,null,function(e){return r.default.createElement(i.default,null,function(a){if(!a)return null;return r.default.createElement(o.default,null,function(i){return r.default.createElement(t,c({},n,{app:e,appLayout:a,urlParameters:i}))})})})};e.displayName="WithConsumers(".concat(l(t),")");return e}var u=d;e.default=u;t.exports=e.default}}]);