/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[86],{1148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=l(n(98));var o=l(n(116));var i=n(1149);var r=l(n(91));function l(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=t.children;return a.default.createElement("div",{className:"qs-view-error","data-tid":"unsupported-device"},a.default.createElement("div",{className:"qs-view-error__center"},a.default.createElement("div",{className:"qs-view-error__image"},a.default.createElement(i.ReactComponent,null)),a.default.createElement("div",{className:"qs-view-error__title"},r.default.get("UnsupportedDisplaySize.Title")),a.default.createElement("div",{className:"qs-view-error__message"},r.default.get("UnsupportedDisplaySize.Message")),n?a.default.createElement("div",null,n):null))};s.propTypes={children:o.default.node};s.defaultProps={children:null};var u=s;t.default=u;e.exports=t.default},1149:function(e,t,n){"use strict";n.r(t);n.d(t,"ReactComponent",function(){return s});var a=n(98);var o=n.n(a);function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return i.apply(this,arguments)}var r=o.a.createElement("defs",null,o.a.createElement("path",{d:"M5 1h147a4 4 0 0 1 4 4v102a4 4 0 0 1-4 4H5a4 4 0 0 1-4-4V5a4 4 0 0 1 4-4z",id:"Display_size_not_supported_svg__a"}),o.a.createElement("mask",{id:"Display_size_not_supported_svg__b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:-2,y:-2,width:159,height:114},o.a.createElement("path",{fill:"#fff",d:"M-1-1h159v114H-1z"}),o.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__a"})),o.a.createElement("path",{d:"M24.659 20.094c.783 1.25.156 2.343-1.254 2.343H1.625c-1.566 0-2.036-1.093-1.253-2.343L11.027 1.5c.783-1.25 2.037-1.25 2.82 0L24.66 20.094zm-10.596-12.5c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v6.25c0 .469.312.781.78.781h1.563c.469 0 .781-.313.781-.781v-6.25zm0 9.375c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v1.562c0 .469.312.782.78.782h1.563c.469 0 .781-.313.781-.782V16.97z",id:"Display_size_not_supported_svg__c"}),o.a.createElement("path",{d:"M16.563 0H25v8.438c0 .312-.469.468-.625.312l-2.5-2.5-2.5 2.5a.755.755 0 0 1-1.094 0L16.25 6.719a.755.755 0 0 1 0-1.094l2.5-2.5-2.5-2.5c-.156-.156 0-.625.313-.625zM8.438 25H0v-8.438c0-.312.469-.468.625-.312l2.5 2.5 2.5-2.5a.755.755 0 0 1 1.094 0l2.031 2.031a.755.755 0 0 1 0 1.094l-2.5 2.5 2.5 2.5c.156.156 0 .625-.313.625z",id:"Display_size_not_supported_svg__e"}),o.a.createElement("path",{d:"M24.659 20.094c.783 1.25.156 2.343-1.254 2.343H1.625c-1.566 0-2.036-1.093-1.253-2.343L11.027 1.5c.783-1.25 2.037-1.25 2.82 0L24.66 20.094zm-10.596-12.5c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v6.25c0 .469.312.781.78.781h1.563c.469 0 .781-.313.781-.781v-6.25zm0 9.375c0-.469-.313-.782-.782-.782H11.72c-.469 0-.781.313-.781.782v1.562c0 .469.312.782.78.782h1.563c.469 0 .781-.313.781-.782V16.97z",id:"Display_size_not_supported_svg__g"}));var l=o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("g",{transform:"translate(31 1)",fillRule:"nonzero"},o.a.createElement("use",{strokeOpacity:.15,stroke:"#000",mask:"url(#Display_size_not_supported_svg__b)",strokeWidth:4,strokeDasharray:"5",xlinkHref:"#Display_size_not_supported_svg__a"}),o.a.createElement("rect",{stroke:"#A6A6A6",strokeWidth:2,fill:"#FFF",width:125,height:112,rx:4}),o.a.createElement("path",{d:"M4 0h117a4 4 0 0 1 4 4v5H0V4a4 4 0 0 1 4-4z",fill:"#A6A6A6"}),o.a.createElement("path",{fill:"#C7C7C7",d:"M1 4h123v8H1z"}),o.a.createElement("circle",{fill:"#FFF",cx:7,cy:8,r:2}),o.a.createElement("circle",{fill:"#FFF",cx:19,cy:8,r:2}),o.a.createElement("path",{fill:"#FFF",d:"M27 6h77v4H27z"}),o.a.createElement("circle",{fill:"#FFF",cx:13,cy:8,r:2}),o.a.createElement("path",{fill:"#FFF",d:"M116 6h4v4h-4zM110 6h4v4h-4z"})),o.a.createElement("g",{transform:"translate(82 47)"},o.a.createElement("mask",{id:"Display_size_not_supported_svg__d",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__c"})),o.a.createElement("use",{fill:"#000",fillRule:"nonzero",xlinkHref:"#Display_size_not_supported_svg__c"}),o.a.createElement("g",{mask:"url(#Display_size_not_supported_svg__d)",fill:"#CCC"},o.a.createElement("path",{d:"M0-1h25v25H0z"}))),o.a.createElement("g",{opacity:.099,transform:"scale(-1 1) rotate(45 -169.276 -149.794)"},o.a.createElement("mask",{id:"Display_size_not_supported_svg__f",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__e"})),o.a.createElement("use",{fill:"#000",fillRule:"nonzero",xlinkHref:"#Display_size_not_supported_svg__e"}),o.a.createElement("g",{mask:"url(#Display_size_not_supported_svg__f)",fill:"#000"},o.a.createElement("path",{d:"M0 0h25v25H0z"}))),o.a.createElement("g",{transform:"translate(1 51)"},o.a.createElement("rect",{stroke:"#A6A6A6",fill:"#A6A6A6",fillRule:"nonzero",x:.218,y:-.5,width:48.825,height:84,rx:4}),o.a.createElement("rect",{fill:"#FFF",fillRule:"nonzero",x:2.595,y:1.875,width:44.072,height:79.25,rx:2}),o.a.createElement("rect",{fill:"#A6A6A6",fillRule:"nonzero",x:11,width:27,height:7,rx:2}),o.a.createElement("g",{transform:"translate(12 30)"},o.a.createElement("mask",{id:"Display_size_not_supported_svg__h",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#Display_size_not_supported_svg__g"})),o.a.createElement("use",{fill:"#000",fillRule:"nonzero",xlinkHref:"#Display_size_not_supported_svg__g"}),o.a.createElement("g",{mask:"url(#Display_size_not_supported_svg__h)",fill:"#CCC"},o.a.createElement("path",{d:"M0-1h25v25H0z"})))));var s=function e(t){return o.a.createElement("svg",i({width:189,height:135},t),r,l)};t["default"]="../../img/core/Display_size_not_supported.c7cb99290f301c32e6667975b2e71c07.svg"},1273:function(e,t,n){"use strict";var a,o;!(a=[n(1151)],o=function(e){var t="reload-started-by-scripteditor";function n(){e.publish(t)}function a(n){e.subscribe(t,n)}return{reloadStarted:n,onReloadStarted:a}}.apply(t,a),void 0!==o&&(e.exports=o))},1274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=s(n(98));var o=s(n(116));var i=s(n(1001));var r=s(n(48));var l=s(n(91));n(255);function s(e){return e&&e.__esModule?e:{default:e}}function u(){r.default.getService("addDataStateService").showAddData()}var d=function e(t){var n=t.closeMenu;return a.default.createElement(i.default,{tid:"4dfe25",iconName:"add",title:l.default.get("GlobalMenu.QuickImport"),onSelect:function e(){u();n()}},l.default.get("GlobalMenu.QuickImport"))};d.propTypes={closeMenu:o.default.func.isRequired};var c=d;t.default=c;e.exports=t.default},1275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=l(n(98));var o=l(n(116));var i=n(1276);var r=l(n(91));function l(e){return e&&e.__esModule?e:{default:e}}var s=function e(t){var n=t.children;return a.default.createElement("div",{className:"qs-view-error"},a.default.createElement("div",{className:"qs-view-error__center"},a.default.createElement("div",{className:"qs-view-error__image"},a.default.createElement(i.ReactComponent,null)),a.default.createElement("div",{className:"qs-view-error__title"},r.default.get("UnsupportedDeviceDialog.Title")),a.default.createElement("div",{className:"qs-view-error__message"},n)))};s.propTypes={children:o.default.node.isRequired};var u=s;t.default=u;e.exports=t.default},1276:function(e,t,n){"use strict";n.r(t);n.d(t,"ReactComponent",function(){return s});var a=n(98);var o=n.n(a);function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return i.apply(this,arguments)}var r=o.a.createElement("defs",null,o.a.createElement("rect",{id:"No_access_svg__a",x:0,y:0,width:201,height:32.931,rx:4}));var l=o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("g",{fill:"#C7C7C7",fillRule:"nonzero"},o.a.createElement("path",{d:"M173.556.25h-10.372a2 2 0 0 0-1.97 2.348l16.475 93.43a2 2 0 0 0 1.97 1.653l10.372-.001A2 2 0 0 0 192 95.333L175.525 1.902a2 2 0 0 0-1.97-1.653zM28.827.25H39.2a2 2 0 0 1 1.97 2.348l-16.475 93.43a2 2 0 0 1-1.97 1.653l-10.372-.001a2 2 0 0 1-1.97-2.347L26.858 1.902a2 2 0 0 1 1.97-1.653z"})),o.a.createElement("g",{transform:"translate(1 11)"},o.a.createElement("rect",{fill:"#E6E6E6",fillRule:"nonzero",width:201,height:32.931,rx:4}),o.a.createElement("mask",{id:"No_access_svg__b",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#No_access_svg__a"})),o.a.createElement("rect",{stroke:"#A6A6A6",x:-.5,y:-.5,width:202,height:33.931,rx:4}),o.a.createElement("g",{mask:"url(#No_access_svg__b)",fill:"#FFF",fillRule:"nonzero"},o.a.createElement("path",{d:"M23.665-22.041L34.358-11.35-29.28 52.29l-10.693-10.693zM108.631-22.041l10.693 10.692L55.686 52.29 44.993 41.597zM192.57-22.041l10.693 10.692-63.638 63.639-10.693-10.693zM66.816-22.041L77.51-11.35 13.871 52.29 3.178 41.597zM150.755-22.041l10.693 10.692L97.81 52.29 87.117 41.597zM234.694-22.041l10.693 10.692-63.638 63.639-10.693-10.693z"}))));var s=function e(t){return o.a.createElement("svg",i({width:203,height:98},t),r,l)};t["default"]="../../img/core/No_access.ee7efd0ce4d90453132f9dcaeeb181e9.svg"},1277:function(e,t,n){"use strict";var a,o;!(a=[n(125)],o=function(e){var t=[];function n(e){t.push(e)}function a(n,a){if(void 0===n)throw new Error("Send to engine is undefined.");if("boolean"!==typeof n)throw new Error("Send to engine is not boolean.");if(void 0===a)throw new Error("markAppAsDirty is undefined.");if("boolean"!==typeof a)throw new Error("markAppAsDirty is not boolean.");if(0===t.length)throw new Error("No listeners defined.");var o=e.copy(t);for(var i=0;i<o.length;i++)o[i](n,a)}function o(e){var n=t.indexOf(e);if(-1===n)throw new Error("Unknown observer.");t.splice(n,1)}return{setOnPositionUpdateListener:n,setNewPosition:a,removeObserver:o}}.apply(t,a),void 0!==o&&(e.exports=o))},1330:function(e,t,n){"use strict";var a,o;!(a=[n(1782)],o=function(e){var t=0,n=1,a=2,o=3,i=a;function r(e){if(void 0===e)throw new Error("Type is undefined.");i=e}function l(e){return i===e}function s(){var t=e.getAllFromOverview();i=u(t)}function u(e){if(!e)throw new Error("No tables were specified.");var a=true;var i=true;for(var r=0;r<e.length;r++){var l=e[r];l.isAtMaximumHeight()||(a=false);l.isAtMinimumHeight()||(i=false)}return a?o:i?n:t}return{MANUAL_RESIZE:t,MINIMIZE_ALL:n,ONLY_CONNECTIONS:a,MAXIMIZE_ALL:o,setLastUsedResizer:r,isLastUsedResizer:l,initLastUsedResizerByLookingAtCurrentTables:s,_initLastUsedResizerByLookingAtCurrentTablesGivenTheseTables:u}}.apply(t,a),void 0!==o&&(e.exports=o))},1679:function(e,t,n){"use strict";var a;!(a=function(){var e,t,n;function a(t){e=t}function o(e){t=e}function i(e){n=e}function r(t){if(!e)throw new Error("No selected table listener specified.");e(t)}function l(e,n){if(!t)throw new Error("No selected field listener specified.");t(e,n)}function s(){if(!n)throw new Error("No clear selections listener specified.");n()}return{addSetSelectedTableListener:a,addSetSelectedFieldListener:o,addClearSelectionsListener:i,setSelectedTable:r,setSelectedField:l,clearSelections:s}}.call(t,n,t,e),void 0!==a&&(e.exports=a))},1782:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(170),n(2364)],o=function(e,t,n){function a(e,a){var o=5;if(!a&&!e)throw new Error("Table is undefined.");this.isAtMaximumHeight=function(){var a=t.getTableElementHeight(e);var i=t.getMaxHeightForTable(e);return n.inRange(a,i,o)};this.isAtMinimumHeight=function(){var a=t.getTableElementHeight(e);var i=t.getMinHeightForTable(e);return n.inRange(a,i,o)}}return{invoke:function e(t,n){return new a(t,n)},invokeByTableName:function e(n,o){var i=t.getTableElement(n);return new a(i,o)},getAllFromOverview:function t(){var n=[];e("div[table]").each(function(t,o){var i=e(o);var r=new a(i);n.push(r)});return n}}}.apply(t,a),void 0!==o&&(e.exports=o))},1783:function(e,t,n){"use strict";var a,o;!(a=[n(279),n(248),n(1784),n(353)],o=function(e,t,n,a){var o;function i(){e.getTablePositions().then(function(e){o=e})}function r(){if(!o)throw new Error("Snapshop has not been initialized.");var e=t.isInternalTableView();var i=a.getDataModel();return n.moveTablesAccordingToEngine(e,i,o)}return{restoreTablePositions:r,init:i}}.apply(t,a),void 0!==o&&(e.exports=o))},1784:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(279),n(89),n(170)],o=function(e,t,n,a){function o(e,o,i){function r(){return i?n.resolve(i):t.getTablePositions()}return r().then(function(t){var i=5;var r=[];var l=[];var s=false;var u=e?t.qCtlInfo.qInternalView.qTables:t.qCtlInfo.qSourceView.qTables;for(var d in u){var c=u[d];var f=c.qCaption;var v=c.qPos.qTop;var p=c.qPos.qLeft;var m=c.qPos.qHeight;var h=c.qPos.qWidth;try{r.push(a.setTablePosition(f,v,p,true,true));if(m>0&&h>0){var b=a.getMaxHeightForTableByName(f);var g=a.getMaxWidthForTableByName(f);b-m<i&&(m=b);g-h<i&&(h=g);r.push(a.setTableSize(f,m,h));s=true}l.push(f)}catch(e){}}for(var y in o){if(-1!==l.indexOf(y))continue;var w=o[y];var T=a.setTablePosition(y,w.autoLayoutY,w.autoLayoutX,true,true);r.push(T)}return n.all(r).then(function(){return n.resolve(s)})})}function i(e){return t.getTablePositions().then(function(n){var a=r(e,n);return t.setTablePositions(a)})}function r(t,n){a.getAllTableElements().each(function(o,i){var r=e(i);var l=r.attr("name");var s=a.getTableElementTop(l);var u=a.getTableElementLeft(l);var d=a.getTableHeightByTableName(l);var c=a.getTableWidthByTableName(l);var f=t?n.qCtlInfo.qInternalView.qTables:n.qCtlInfo.qSourceView.qTables;var v=false,p,m;for(p in f){m=f[p];if(m.qCaption===l){v=true;m.qPos.qTop=s;m.qPos.qLeft=u;m.qPos.qHeight=d;m.qPos.qWidth=c}}v||f.push({qCaption:l,qPos:{qTop:s,qLeft:u}})});return n}return{moveTablesAccordingToEngine:o,setBoundsInEngine:i}}.apply(t,a),void 0!==o&&(e.exports=o))},1785:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(2367),n(457),n(279),n(91),n(93),n(1679),n(2368),n(353),n(1786),n(1697),n(170),n(502),n(248),n(2369)],o=function(e,t,n,a,o,i,r,l,s,u,d,c,f,v,p){var m=400;var h="tablecontainer datapreview";var b;function g(e){e.showAddMeasure=false;e.showAddDimension=false;function t(){return i.getApp().then(function(e){return e.getLayout().then(function(e){return e.permissions})})}e.showAddDimensionMeasureButtons=function(){return false};l.setup(t).then(function(t){e.showAddMeasure=t.createMeasure;e.showAddDimension=t.createDimension;e.showAddDimensionMeasureButtons=function(){return l.showAddDimensionMeasureButtons(!!e.selectedField)}})}function y(e,t,n){return e?d.getDataPreviewForTable(t,e,n):void 0}function w(e,t,n){return p.render(e,t,n)}function T(t){g(t);t.expanded=false;t.selectedTable=void 0;t.selectedField=void 0;t.showNothingIsSelected=true;t.selectedDerivedField="";t.showMetaData=function(){return!!(t.selectedTable||t.selectedField)};t.showDataPreview=function(){return!!(t.selectedTable||t.selectedField)};t.showNothingSelected=function(){return t.showNothingIsSelected};t.expand=function(){t.expanded=!t.expanded;u.tellToolbarFooterExpandedChanged(t.expanded);d()};t.showAddMeasureDialog=function(){f.showAddMeasureDialog(t.selectedField)};t.showAddDimensionDialog=function(){f.showAddDimensionDialog(t.selectedField)};r.addSetSelectedTableListener(function(e){if(t.selectedTable===e&&!t.selectedField)return;p();t.selectedTable=void 0;t.selectedField=void 0;t.showNothingIsSelected=false;setTimeout(function(){t.selectedTable=e;t.selectedField=void 0;M(t.selectedTable);i(e);T()},m)});r.addSetSelectedFieldListener(function(e,n){if(t.selectedTable===e&&t.selectedField===n)return;p();t.selectedTable=void 0;t.selectedField=void 0;t.showNothingIsSelected=false;setTimeout(function(){t.selectedTable=e;t.selectedField=n;_(t.selectedTable,t.selectedField);i(e);T()},m)});function i(e){var n=s.getDataModel();var a=v.isInternalTableView();var o=l(e,n);y(t.selectedTable,a,o).then(function(e){w(h,e)})}function l(e,t){var n=[];for(var a in t[e].fields)n.push(t[e].fields[a].name);return n}r.addClearSelectionsListener(function(){if(t.selectedTable||t.selectedField||!t.showNothingIsSelected){t.selectedTable=void 0;t.selectedField=void 0;t.showNothingIsSelected=true;p();T()}});b=function e(n){t.expanded=n;d()};function d(){e("body").attr("data-footer-expanded",t.expanded)}function p(){var t=e(".data-container");var n=e(".nothing-selected");var a=e(".datapreview");var o=e(".metapreview");var i=e(".buttons-container");var r=e(".button-add-dimension");var l=e(".button-add-dimension");t.fadeOut();n.fadeOut();a.fadeOut();o.fadeOut();i.fadeOut();r.fadeOut();l.fadeOut()}function T(){var n=e(".data-container");var a=e(".nothing-selected");var o=e(".datapreview");var i=e(".metapreview");var r=e(".buttons-container");var l=e(".button-add-dimension");var s=e(".button-add-dimension");t.showNothingSelected()||n.fadeIn();t.showNothingSelected()&&a.fadeIn();t.showDataPreview()&&o.fadeIn();t.showMetaData()&&i.fadeIn();t.showAddDimensionMeasureButtons()&&r.fadeIn();t.showAddDimension&&l.fadeIn();t.showAddMeasure&&s.fadeIn()}function M(e){var n=s.getDataModel();var a=n[e];if(!a)throw new Error('[updateMetaDataForTable] Could not find any table with the name "'+e+'". This should never have happened.');t.metaData={name:c.decodeTableName(e),nbrOfRows:a.meta.nbrOfRows,nbrOfFields:a.meta.nbrOfFields,nbrOfKeys:a.meta.nbrOfKeys,tags:a.meta.tags}}function _(e,n){var a=s.getDataModel();var i=a[e];if(!i)throw new Error('[updateMetaDataForField] Could not find any table with the name "'+e+'". This should never have happened.');var r=E(i,n);if(!r)throw new Error('Could not find any field with the name "'+n+'". This should never have happened.');t.metaData={name:n+(r.meta.isPerfectKey?" ["+o.get("DataModelViewer.Footer.Metadata.PerfectKey")+"]":""),density:r.meta.density+"%",subsetRatio:r.meta.subsetRatio+"%",tags:r.meta.tags,hasDuplicates:o.get(r.meta.hasDuplicates?"DataModelViewer.Footer.True":"DataModelViewer.Footer.False"),nbrOfTotalDistinctValues:r.meta.nbrOfTotalDistinctValues,nbrOfPresentDistinctValues:r.meta.nbrOfPresentDistinctValues,nbrOfNonNulls:r.meta.nbrOfNonNulls,comment:r.meta.comment};t.derivedFields=r.derivedFields;t.selectedDerivedField="";for(var l in r.derivedFields){var u=r.derivedFields[l];u.qActive&&(t.selectedDerivedField=u.qInstanceName)}}function E(e,t){for(var n in e.fields)if(e.fields[n].name===t)return e.fields[n];throw new Error('Could not find any field with the name "'+t+'" in the table "'+e+'". This should never have happened.')}t.getPreviewHoverText=function(){return o.get(t.expanded?"DataModelViewer.Toolbar.Tooltip.CollapsePreview":"DataModelViewer.Toolbar.Tooltip.ExpandPreview")};t.onDerivedFieldSelection=function(e){var o=t.selectedField;var i=[];e&&i.push(e);var r=s.getDataModel();var l=r[t.selectedTable];var u=E(l,o);for(var d in u.derivedFields){var c=u.derivedFields[d];c.qActive=c.qInstanceName===e}a.setDerivedField(o,i).then(function(){n.save()})};this.destroy=function(){e("body").removeAttr("data-footer-expanded");t.destroyComponent()};p();T();d()}return{expandPreview:function e(t){b(t)},updatePreviewDataForTable:y,setPreviewData:w,template:t,controller:["$scope",T]}}.apply(t,a),void 0!==o&&(e.exports=o))},1786:function(e,t,n){"use strict";var a;!(a=function(){var e;function t(t){e=t}function n(t){if(!e)throw new Error("No listener specified.");e(t)}return{setTellToolbarFooterExpandedChangedListener:t,tellToolbarFooterExpandedChanged:n}}.call(t,n,t,e),void 0!==a&&(e.exports=a))},1787:function(e,t,n){"use strict";var a;!(a=function(){function e(e,n,a){if(e.addEventListener){e.addEventListener("mousewheel",function(e){t(e,n,a)},false);e.addEventListener("onmousewheel",function(e){t(e,n,a)},false);e.addEventListener("DOMMouseScroll",function(e){t(e,n,a)},false)}else e.attachEvent("onmousewheel",function(e){t(e,n,a)})}function t(e,t,n){if(!n||n(e)){e=window.event||e;var a=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault?e.preventDefault():e.returnValue=false;t(a)}}return{attachMouseWheelEvent:e}}.call(t,n,t,e),void 0!==a&&(e.exports=a))},1788:function(e,t,n){"use strict";var a,o;!(a=[n(285)],o=function(e){var t="dmv-overview-reload";function n(n){e.addObserver(t,n)}function a(n){e.notifyAll(t,n)}return{setOnReloadDoneButNoSizesWereAppliedObserver:n,onReloadDoneButNoSizesWereAppliedObserver:a}}.apply(t,a),void 0!==o&&(e.exports=o))},1789:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(96)],o=function(e,t){var n=false;var a=false;var o,i=false;var r,l;function s(e){n=e}function u(e){a=e}function d(s){var u=e(s);e(u).on("mousedown",function(e){var t=e.target||e.srcElement;r=t.scrollTop;l=t.scrollLeft;i=false;o=false});t(s).swipe({options:{preventDefault:false,radiusThreshold:1},update:function e(t,s){if(!n&&!a){var d=t.target||t.srcElement;if(!o&&!i){i=true;o=d.scrollTop===r&&d.scrollLeft===l}if(o){u.scrollTop(u.scrollTop()+-1*s.swipe.curDeltaY);u.scrollLeft(u.scrollLeft()+-1*s.swipe.curDeltaX)}}}})}return{init:d,setTablesAreMoving:s,setTablesAreResizing:u}}.apply(t,a),void 0!==o&&(e.exports=o))},2361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=d(n(98));var o=d(n(90));var i=d(n(248));var r=d(n(458));var l=d(n(2362));var s=d(n(2371));var u=d(n(2386));n(2387);function d(e){return e&&e.__esModule?e:{default:e}}var c={helpKey:"DataModelViewer_DataModelViewer",loaderTranslationKey:"DataModelViewer.IsLoading",titleTranslationKey:"Title.Datamodelviewer",init:function e(){var t=o.default.getParameterByName("app");i.default.setAppID(t);r.default.setAppID(t)},renderContent:function e(){return a.default.createElement(s.default,null)},renderMenuItems:function e(t){var n=t.closeMenu,o=t.showAddData;return a.default.createElement(u.default,{closeMenu:n,showAddData:o})},renderToolbarContent:function e(){return a.default.createElement(l.default,null)}};t.default=c;e.exports=t.default},2362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=L(n(98));var o=n(171);var i=D(n(116));var r=D(n(91));var l=D(n(95));var s=n(2363);var u=D(n(2365));var d=D(n(2366));var c=D(n(1783));var f=D(n(248));var v=D(n(1785));var p=D(n(1679));var m=D(n(1786));var h=D(n(1330));var b=D(n(2370));var g=D(n(1277));var y=D(n(170));var w=D(n(1461));var T=D(n(1001));var M=n(1096);var _=D(n(1044));var E=D(n(411));function D(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e;return t}function x(){x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return x.apply(this,arguments)}function O(e){O="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return O(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}function k(e,t,n){t&&C(e.prototype,t);n&&C(e,n);return e}function P(e,t){if(t&&("object"===O(t)||"function"===typeof t))return t;return N(e)}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return A(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&R(e,t)}function R(e,t){R=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return R(e,t)}function F(e){return e.map(function(e){var t=e.tid,n=e.title,o=e.iconName,i=e.disabled,r=e.onClick;return a.default.createElement(T.default,{key:t,tid:t,disabled:i,title:n,onSelect:r,iconName:o},n)})}function I(e){return e.map(function(e){var t=e.tid,n=e.title,i=e.iconName,r=e.disabled,l=e.onClick,s=e.className;return a.default.createElement(o.Button,{key:t,tid:t,disabled:r,title:n,onClick:l,className:s?"lui-buttongroup__button ".concat(s):"lui-buttongroup__button"},a.default.createElement(o.Button.Icon,{name:i}))})}var B=function(e){S(t,e);function t(e){var n;z(this,t);n=P(this,A(t).call(this,e));n.state={isLocked:f.default.isLocked(),footerExpanded:false,layoutPopoverOpen:false,isDoingLayoutChanges:false,isLastUsedResizerMinimizeAll:false,isLastUsedResizerOnlyConnections:true,isLastUsedResizerMaximizeAll:false,internalTableView:!!f.default.isInternalTableView(),expansionMenuPopoverOpen:false,tableViewMenuPopoverOpen:false,selectedExpansionMenu:{icon:"expand",title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableResizeMaximize")},selectedTableView:{icon:"data-model",title:r.default.get("DataModelViewer.Toolbar.Tooltip.SourceTableViewButton")}};n.expandToolbar=n.expandToolbar.bind(N(n));n.toggleLayoutPopover=n.toggleLayoutPopover.bind(N(n));n.toggleExpansionMenuPopover=n.toggleExpansionMenuPopover.bind(N(n));n.toggleTableViewMenuPopover=n.toggleTableViewMenuPopover.bind(N(n));n.performLayout=n.performLayout.bind(N(n));n.performGridLayout=n.performGridLayout.bind(N(n));n.performAutoLayout=n.performAutoLayout.bind(N(n));n.restoreTablePositions=n.restoreTablePositions.bind(N(n));n.handleInternalTableViewButton=n.handleInternalTableViewButton.bind(N(n));n.handleSourceTableViewButton=n.handleSourceTableViewButton.bind(N(n));n.resizeMaximize=n.resizeMaximize.bind(N(n));n.resizeMinimize=n.resizeMinimize.bind(N(n));n.resizeShowOnlyConnections=n.resizeShowOnlyConnections.bind(N(n));n.toggleLock=n.toggleLock.bind(N(n));return n}k(t,[{key:"componentDidMount",value:function e(){var t=this;m.default.setTellToolbarFooterExpandedChangedListener(function(e){t.setState({footerExpanded:e})});l.default.subscribe("/toolbar/datamodelviewer-overview-locked",this.toggleLock)}},{key:"componentWillUnmount",value:function e(){m.default.setTellToolbarFooterExpandedChangedListener(null);l.default.unsubscribe("/toolbar/datamodelviewer-overview-locked",this.toggleLock)}},{key:"updateLastUsedResizer",value:function e(){this.setState({isLastUsedResizerMinimizeAll:(0,s.isLastUsedResizerMinimizeAll)(),isLastUsedResizerOnlyConnections:(0,s.isLastUsedResizerOnlyConnections)(),isLastUsedResizerMaximizeAll:(0,s.isLastUsedResizerMaximizeAll)()})}},{key:"resizeMaximize",value:function e(){(0,s.resizeMaximizeAllTables)();this.updateLastUsedResizer()}},{key:"resizeMinimize",value:function e(){(0,s.resizeMinimizeAllTables)();this.updateLastUsedResizer()}},{key:"resizeShowOnlyConnections",value:function e(){(0,s.resizeShowOnlyConnections)(true);this.updateLastUsedResizer()}},{key:"handleInternalTableViewButton",value:function e(){var t=!!f.default.isInternalTableView();f.default.setIsInternalTableView(!t);this.setState({internalTableView:!t});p.default.clearSelections()}},{key:"handleSourceTableViewButton",value:function e(){var t=!!f.default.isInternalTableView();f.default.setIsInternalTableView(!t);this.setState({internalTableView:!t});p.default.clearSelections()}},{key:"performLayout",value:function e(t){var n=this;this.setState({isDoingLayoutChanges:true,layoutPopoverOpen:false});return y.default.fadeOutLines().then(function(){return t().then(function(){g.default.setNewPosition(true,true);y.default.fadeInLines();n.setState({isDoingLayoutChanges:false})})})}},{key:"performGridLayout",value:function e(){this.performLayout(d.default.performLayout)}},{key:"performAutoLayout",value:function e(){this.performLayout(u.default.performAutoLayout)}},{key:"restoreTablePositions",value:function e(){this.performLayout(c.default.restoreTablePositions).then(function(){h.default.initLastUsedResizerByLookingAtCurrentTables()})}},{key:"toggleLayoutPopover",value:function e(){this.setState(function(e){var t=e.layoutPopoverOpen;return{layoutPopoverOpen:!t}})}},{key:"toggleLock",value:function e(t){this.setState({isLocked:t})}},{key:"expandToolbar",value:function e(){var t=this.state.footerExpanded;this.setState({footerExpanded:!t});v.default.expandPreview(!t)}},{key:"toggleExpansionMenuPopover",value:function e(){this.setState(function(e){var t=e.expansionMenuPopoverOpen;return{expansionMenuPopoverOpen:!t}})}},{key:"toggleTableViewMenuPopover",value:function e(){this.setState(function(e){var t=e.tableViewMenuPopoverOpen;return{tableViewMenuPopoverOpen:!t}})}},{key:"render",value:function e(){var t=this;var n=this.state,i=n.isLocked,l=n.isDoingLayoutChanges,s=n.selectedExpansionMenu,u=n.selectedTableView,d=n.isLastUsedResizerMinimizeAll,c=n.isLastUsedResizerOnlyConnections,f=n.isLastUsedResizerMaximizeAll,v=n.expansionMenuPopoverOpen,p=n.internalTableView,m=n.tableViewMenuPopoverOpen,h=n.layoutPopoverOpen,g=n.footerExpanded;var y=this.props,T=y.isButtonTab,M=y.appLayout;var _=[];var E=[];if(!M.permissions.update)return null;_.push({tid:"3015f5",disabled:i||l,title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableResizeMinimize"),onClick:function e(){t.toggleExpansionMenuPopover();t.setState({selectedExpansionMenu:{icon:"collapse",title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableResizeMinimize")}});t.resizeMinimize()},className:d?"lui-active":"",iconName:"collapse"});_.push({tid:"3015f6",disabled:i||l,title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableShowOnlyLinks"),onClick:function e(){t.toggleExpansionMenuPopover();t.setState({selectedExpansionMenu:{icon:"proxy",title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableShowOnlyLinks")}});t.resizeShowOnlyConnections()},className:c?"lui-active":"",iconName:"proxy"});_.push({tid:"3015f7",disabled:i||l,title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableResizeMaximize"),onClick:function e(){t.toggleExpansionMenuPopover();t.setState({selectedExpansionMenu:{icon:"expand",title:r.default.get("DataModelViewer.Toolbar.Tooltip.TableResizeMaximize")}});t.resizeMaximize()},className:f?"lui-active":"",iconName:"expand"});E.push({tid:"3015f8",disabled:l,title:r.default.get("DataModelViewer.Toolbar.Tooltip.InternalTableViewButton"),onClick:function e(){t.toggleTableViewMenuPopover();t.setState({selectedTableView:{icon:"scatter-chart",title:r.default.get("DataModelViewer.Toolbar.Tooltip.InternalTableViewButton")}});t.handleInternalTableViewButton()},className:p?"lui-active":"",iconName:"scatter-chart"});E.push({tid:"303af6",disabled:l,title:r.default.get("DataModelViewer.Toolbar.Tooltip.SourceTableViewButton"),onClick:function e(){t.toggleTableViewMenuPopover();t.setState({selectedTableView:{icon:"data-model",title:r.default.get("DataModelViewer.Toolbar.Tooltip.SourceTableViewButton")}});t.handleSourceTableViewButton()},className:p?"":"lui-active",iconName:"data-model"});return a.default.createElement(a.Fragment,null,T?a.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},a.default.createElement(o.Button,{tid:"3014f8",disabled:i||l,title:s.title,onClick:this.toggleExpansionMenuPopover,className:v?"lui-active":"",ref:function e(n){t.expansionMenuPopoverButton=n&&n.element}},a.default.createElement(o.Button.Icon,{name:s.icon}),a.default.createElement(o.Button.Caret,null)),a.default.createElement(o.Popover,{inline:true,alignTo:this.expansionMenuPopoverButton,show:v,onOutside:function e(n){var a=t.expansionMenuPopoverButton;a&&a.contains(n.target)&&n.stopImmediatePropagation();t.setState({expansionMenuPopoverOpen:false})}},a.default.createElement(w.default,{closeMenu:function e(){return t.setState({expansionMenuPopoverOpen:false})}},F(_)))):a.default.createElement(o.ButtonGroup,{className:"qs-toolbar__element"},I(_)),T?a.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},a.default.createElement(o.Button,{tid:"3014f9",disabled:l,title:u.title,onClick:this.toggleTableViewMenuPopover,className:m?"lui-active":"",ref:function e(n){t.tableViewMenuPopoverButton=n&&n.element}},a.default.createElement(o.Button.Icon,{name:u.icon}),a.default.createElement(o.Button.Caret,null)),a.default.createElement(o.Popover,{inline:true,alignTo:this.tableViewMenuPopoverButton,show:m,onOutside:function e(n){var a=t.tableViewMenuPopoverButton;a&&a.contains(n.target)&&n.stopImmediatePropagation();t.setState({tableViewMenuPopoverOpen:false})}},a.default.createElement(w.default,{closeMenu:function e(){return t.setState({tableViewMenuPopoverOpen:false})}},F(E)))):a.default.createElement(o.ButtonGroup,{className:"qs-toolbar__element"},I(E)),a.default.createElement("div",{className:"qs-popover-container qs-toolbar__element"},a.default.createElement(o.Button,{tid:"3015fb",disabled:i||l,title:r.default.get("DataModelViewer.Toolbar.Tooltip.LayoutsMenuButton"),onClick:this.toggleLayoutPopover,className:h?"lui-active":"",ref:function e(n){t.layoutMenuPopoverButton=n&&n.element}},a.default.createElement(o.Button.Icon,{name:"grid"}),a.default.createElement(o.Button.Caret,null)),a.default.createElement(b.default,{alignTo:this.layoutMenuPopoverButton,show:h,performGridLayout:this.performGridLayout,performAutoLayout:this.performAutoLayout,restoreTablePositions:this.restoreTablePositions,onOutside:function e(n){var a=t.layoutMenuPopoverButton;a&&a.contains(n.target)&&n.stopImmediatePropagation();t.setState({layoutPopoverOpen:false})}})),a.default.createElement(o.Button,{tid:"dmv-toggle-preview-btn",disabled:l,title:g?r.default.get("DataModelViewer.Toolbar.Tooltip.CollapsePreview"):r.default.get("DataModelViewer.Toolbar.Tooltip.ExpandPreview"),onClick:this.expandToolbar,className:g?"lui-active":""},a.default.createElement(o.Button.Icon,{name:"toggle-bottom"})))}}]);return t}(a.Component);B.propTypes={isButtonTab:i.default.bool.isRequired,appLayout:i.default.object.isRequired};var V=(0,E.default)(function(e){return a.default.createElement(M.ToolbarConsumer,null,function(t){return a.default.createElement(B,x({},e,{isButtonTab:t<=_.default.medium}))})});t.default=V;e.exports=t.default},2363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.resizeMinimizeAllTables=v;t.resizeMaximizeAllTables=m;t.resizeShowOnlyConnections=b;t.isLastUsedResizerMinimizeAll=y;t.isLastUsedResizerOnlyConnections=w;t.isLastUsedResizerMaximizeAll=T;var a=d(n(89));var o=d(n(310));var i=d(n(353));var r=d(n(248));var l=d(n(1330));var s=d(n(1277));var u=d(n(170));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,o,i,r){try{var l=e[i](r);var s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(a,o)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function r(e){c(i,a,o,r,l,"next",e)}function l(e){c(i,a,o,r,l,"throw",e)}r(void 0)})}}function v(){return p.apply(this,arguments)}function p(){p=f(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return r.default.setLastUsedResizeMode(l.default.MINIMIZE_ALL);case 2:a.next=4;return i.default.getDataModel();case 4:t=a.sent;n=Object.keys(t).map(function(){var e=f(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return u.default.getTableHeaderHeightByTableName(t);case 2:n=o.sent;o.next=5;return u.default.getTableWidthByTableName(t);case 5:a=o.sent;o.next=8;return u.default.setTableSize(t,n,a);case 8:case"end":return o.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());Promise.all(n).then(function(){s.default.setNewPosition(true,true)});case 7:case"end":return a.stop()}},e)}));return p.apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){h=f(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:r.default.setLastUsedResizeMode(l.default.MAXIMIZE_ALL);t=i.default.getDataModel();Object.keys(t).map(function(){var e=f(regeneratorRuntime.mark(function e(t){var n,a,o;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return u.default.getTableElement(t);case 2:n=i.sent;i.next=5;return u.default.getMaxHeightForTable(n);case 5:a=i.sent;i.next=8;return u.default.getTableWidthByTableName(t);case 8:o=i.sent;i.next=11;return u.default.setTableSize(t,a,o);case 11:case"end":return i.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());s.default.setNewPosition(true,true);case 4:case"end":return n.stop()}},e)}));return h.apply(this,arguments)}function b(e){return g.apply(this,arguments)}function g(){g=f(regeneratorRuntime.mark(function e(t){var n,d;return regeneratorRuntime.wrap(function e(c){while(1)switch(c.prev=c.next){case 0:r.default.setLastUsedResizeMode(l.default.ONLY_CONNECTIONS);n=i.default.getDataModel();d=[];Object.keys(n).map(function(){var e=f(regeneratorRuntime.mark(function e(t){var a,r,l,s,c;return regeneratorRuntime.wrap(function e(v){while(1)switch(v.prev=v.next){case 0:a=n[t];r=u.default.getTableWidthByTableName(t);l=u.default.getTableHeaderHeightByTableName(t);s=0;c=false;s+=l;Object.keys(a.fields).map(function(){var e=f(regeneratorRuntime.mark(function e(n){var o,r,l;return regeneratorRuntime.wrap(function e(d){while(1)switch(d.prev=d.next){case 0:o=a.fields[n].name;r=u.default.getFieldElement(t,o);l=i.default.doesTableFieldHaveConnection(t,o);if(l){s+=r.outerHeight();c=true}case 4:case"end":return d.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());c&&(s+=o.default.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM);d.push(u.default.setTableSize(t,s,r));case 9:case"end":return v.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());a.default.all(d).then(function(){s.default.setNewPosition(true,t)});case 5:case"end":return c.stop()}},e)}));return g.apply(this,arguments)}function y(){return r.default.isLastUsedResizeMode(l.default.MINIMIZE_ALL)}function w(){return r.default.isLastUsedResizeMode(l.default.ONLY_CONNECTIONS)}function T(){return r.default.isLastUsedResizeMode(l.default.MAXIMIZE_ALL)}},2364:function(e,t,n){"use strict";var a;!(a=function(){function e(e,t,n){var a=t-n;var o=t+n;return e>=a&&e<=o}return{inRange:e}}.call(t,n,t,e),void 0!==a&&(e.exports=a))},2365:function(e,t,n){"use strict";var a,o;!(a=[n(353),n(389),n(89),n(459),n(170)],o=function(e,t,n,a,o){function i(){return e.forceReload().then(function(){var i=[];var r=e.getDataModel();var l=t.getCurrentZoomLevel();for(var s in r){var u=r[s];var d=u.autoLayoutY<20?20:u.autoLayoutY;var c=u.autoLayoutX;var f=a.getDimensionBasedOnZoom(d,l);var v=a.getDimensionBasedOnZoom(c,l);var p=o.setTablePosition(s,f,v,true,true);i.push(p)}return n.all(i)})}return{performAutoLayout:i}}.apply(t,a),void 0!==o&&(e.exports=o))},2366:function(e,t,n){"use strict";var a,o;!(a=[n(1277),n(353),n(89),n(170)],o=function(e,t,n,a){function o(){var o=30,r=30,l=100,s,u=t.getDataModel(),d=Object.keys(u).length,c=Math.ceil(Math.sqrt(d)),f=d<3?c:Math.ceil(c+1.1),v=0,p=0,m=i(u);var h=[];for(s in u){var b=o+p*(m.height+r);var g=o+v*(m.width+l);e.setNewPosition(true,true);var y=a.setTablePosition(s,b,g,true,true);h.push(y);v++;if(v===f){v=0;p++}}return n.all(h)}function i(e){var t=0,n=0,o;for(o in e){t=Math.max(t,a.getTableHeightByTableName(o));n=Math.max(n,a.getTableWidthByTableName(o))}return{height:t,width:n}}return{performLayout:o}}.apply(t,a),void 0!==o&&(e.exports=o))},2367:function(e,t){e.exports='<section class="container">\n\n\t<button ng-click="expand()" class="expander" q-title-translation="{{getPreviewHoverText()}}">\n\t\t<span class="lui-icon" ng-class="{\'lui-icon--triangle-top\': !expanded, \'lui-icon--triangle-bottom\': expanded}"></span>\n\t\t<span class="" q-translation="DataModelViewer.Panel.Preview.Title">#Preview#</span>\n\t</button>\n\n\t<div class="data-container">\n\t\t<div class="tablecontainer buttons-container">\n\t\t\t<button class="lui-button button-add-dimension" q-translation="DataModelViewer.Footer.AddAsDimensionButtonText" ng-click="showAddDimensionDialog();">add dimension</button>\n\t\t\t<button class="lui-button button-add-measure" q-translation="DataModelViewer.Footer.AddAsMeasureButtonText" ng-click="showAddMeasureDialog();">add measure</button>\n\n\t\t\t<div class="derived-fields-container" ng-show="derivedFields.length != 0">\n\t\t\t\t<p class="header" q-translation="DataModelViewer.Footer.Calendar">#Calendar#</p>\n\t\t\t\t<lui-radiobutton ng-repeat="derivedField in derivedFields" x-name="df" title="{{derivedField.qInstanceName}}" ng-click="onDerivedFieldSelection(derivedField.qInstanceName);" x-model="$parent.selectedDerivedField" x-value="{{derivedField.qInstanceName}}">{{derivedField.qInstanceName}}</lui-radiobutton>\n\t\t\t\t<lui-radiobutton x-name="df" title="none" x-model="selectedDerivedField" x-value="" ng-click="onDerivedFieldSelection(undefined);">None</lui-radiobutton>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="tablecontainer metapreview">\n\t\t\t<p class="header" title="{{ metaData.name }}">{{ metaData.name }}</p>\n\t\t\t<table>\n\t\t\t\t<tr ng-show="metaData.nbrOfRows !== undefined">\n\t\t\t\t\t<td q-translation="Common.Rows"></td>\n\t\t\t\t\t<td>{{ metaData.nbrOfRows }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.nbrOfFields !== undefined">\n\t\t\t\t\t<td q-translation="Common.Fields"></td>\n\t\t\t\t\t<td>{{ metaData.nbrOfFields }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.nbrOfKeys !== undefined">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.Keys">#Keys#</td>\n\t\t\t\t\t<td>{{ metaData.nbrOfKeys }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.density">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.Density">#Information density#</td>\n\t\t\t\t\t<td>{{ metaData.density }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.subsetRatio">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.SubsetRatio">#Subset ratio#</td>\n\t\t\t\t\t<td>{{ metaData.subsetRatio }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.hasDuplicates !== undefined">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.HasDuplicates">#Has duplicates#</td>\n\t\t\t\t\t<td>{{ metaData.hasDuplicates }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.nbrOfTotalDistinctValues !== undefined">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.TotalDistinctValues">#Total distinct values#</td>\n\t\t\t\t\t<td>{{ metaData.nbrOfTotalDistinctValues }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.nbrOfPresentDistinctValues !== undefined">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.PresentDistinctValues">#Present distinct values#</td>\n\t\t\t\t\t<td>{{ metaData.nbrOfPresentDistinctValues }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.nbrOfNonNulls !== undefined">\n\t\t\t\t\t<td q-translation="DataModelViewer.Footer.Metadata.NonNullValues">#Non null values#</td>\n\t\t\t\t\t<td>{{ metaData.nbrOfNonNulls }}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.tags">\n\t\t\t\t\t<td q-translation="Common.Tags"></td>\n\t\t\t\t\t<td><span ng-repeat="tag in metaData.tags">{{tag}} </span></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show="metaData.comment !== undefined">\n\t\t\t\t\t<td class="comment" colspan="2">\n\t\t\t\t\t\t<p q-translation="DataModelViewer.Footer.Metadata.Comment">#Comment#</p>\n\n\t\t\t\t\t\t<p>{{ metaData.comment }}</p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t\t<div class="tablecontainer datapreview">\n\t\t\t\x3c!-- Content will be autogenerated --\x3e\n\t\t</div>\n\t</div>\n\n\t<p class="nothing-selected" q-translation="DataModelViewer.Footer.NothingSelectedText">#Please select a table or a field to view more details#</p>\n\n</section>\n'},2368:function(e,t,n){"use strict";var a,o;!(a=[n(89)],o=function(e){var t={};function n(n){var a=new e;n().then(function(e){t.createMeasure=e.createMeasure;t.createDimension=e.createDimension;a.resolve(t)});return a.promise}function a(e){return!!(e&&(t.createMeasure||t.createDimension))}return{setup:n,showAddDimensionMeasureButtons:a}}.apply(t,a),void 0!==o&&(e.exports=o))},2369:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(91),n(1787),n(208),n(96)],o=function(e,t,n,a,o){var i="dmv-preview-table";function r(e,t){var n=document.createElement(t);e.appendChild(n);return n}function l(){var e=a.encodeForHTML(t.get("DataModelViewer.Footer.DataPreview.PreviewOfData"));return'<p class="header">'+e+"</p>"}function s(e){var t=e[0];var n="";n+="<table>";n+="<tbody>";n+="<tr>";if(t)for(var o=0;o<t.length;o++){var i=a.encodeForHTML(t[o].label);n+="<td>"+i+"</td>"}n+="</tr>";n+="</tbody>";n+="</table>";return n}function u(e){e.shift();var t="";t+="<table id='"+i+"'>";t+="<tbody>";for(var n=0;n<e.length;n++){var o=e[n];t+="<tr>";for(var r=0;r<o.length;r++){var l=o[r];t+="<td";l.isNumeric&&(t+=" class='numeric'");var s=a.encodeForHTML(l.label);t+=">"+s+"</td>"}t+="</tr>"}t+="</tbody>";t+="</table>";return t}function d(t){var n=r(t,"div");n.className="dmv-footer-vertical-scrollbar";var a=e(n);var o=r(n,"div");var i=e(t).find("table:last-of-type tbody");var l=i[0].scrollHeight;o.style.height=l+"px";c(a,i);c(i,a)}function c(e,t){e.scroll(function(){t.scrollTop(e.scrollTop())})}function f(t){var n=[];e(t).find("table tr td").css("width","auto");e(t).find("table tr").each(function(){var t=e(this);t.find("td").each(function(t){var a=e(this);n[t]=Math.max(n[t]||0,a.width()+1)})});return n}function v(t,n,a,o){o&&--o;var i=a.lastCellExtraPadding;var r=0;for(var l=0;l<n.length;l++)r+=n[l]+a.cellPadding;r+=i;var s=0;var u=0;if(o&&r<o){s=Math.floor((o-r)/n.length);u=o-r-s*n.length;r=o}e(t).find("table tr").each(function(){e(this).find("td").each(function(t){var a=n[t]+s;t<u&&++a;e(this).width(a)})});e(".datapreview p:first-of-type").width(r-5);e(t).find("table").width(r+1)}function p(t){var a=document.getElementById(i);var r=e(t);var l=e(r).find("table:last-of-type tbody");o(a).swipe({options:{preventDefault:true,radiusThreshold:1},update:function e(t,n){l.scrollTop(l.scrollTop()+-1*n.swipe.curDeltaY);r.scrollLeft(r.scrollLeft()+-1*n.swipe.curDeltaX)}});n.attachMouseWheelEvent(l[0],function(e){l.scrollTop(l.scrollTop()-100*e)})}function m(t,n){e.extend(t,n);return t}function h(t,n,a){a=m({createHeader:true,cellPadding:25,lastCellExtraPadding:0},a);var o=document.getElementsByClassName(t)[0];if(void 0===o)throw new Error('Unknown container "'+t+'".');var i=null;a.fillWidth&&(i=e(o).width());var r="";a.createHeader&&(r+=l());r+=s(n);r+=u(n);o.innerHTML=r;var c=f(o);v(o,c,a,i);d(o);p(o);return{resize:function t(){v(o,c,a,e(o).width())}}}return{render:h,_createPreviewTable:u}}.apply(t,a),void 0!==o&&(e.exports=o))},2370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=u(n(98));var o=u(n(116));var i=n(171);var r=u(n(91));var l=u(n(1461));var s=u(n(1001));function u(e){return e&&e.__esModule?e:{default:e}}var d=function e(t){var n=t.alignTo,o=t.show,u=t.onOutside,d=t.performGridLayout,c=t.performAutoLayout,f=t.restoreTablePositions;return a.default.createElement(i.Popover,{inline:true,show:o,alignTo:n,onOutside:u},a.default.createElement(l.default,{closeMenu:u},a.default.createElement(s.default,{title:"",iconName:"grid",tid:"dmv-menuitem-grid",onSelect:d},r.default.get("DataModelViewer.Toolbar.Tooltip.GridLayoutButton")),a.default.createElement(s.default,{title:"",iconName:"auto-layout",tid:"dmv-menuitem-auto",onSelect:c},r.default.get("DataModelViewer.Toolbar.Tooltip.AutoLayoutbutton")),a.default.createElement(s.default,{title:"",iconName:"clock",tid:"dmv-menuitem-restore",onSelect:f},r.default.get("DataModelViewer.Toolbar.Tooltip.RestoreLayoutButton"))))};d.propTypes={alignTo:o.default.object,show:o.default.bool.isRequired,onOutside:o.default.func.isRequired,performGridLayout:o.default.func.isRequired,performAutoLayout:o.default.func.isRequired,restoreTablePositions:o.default.func.isRequired};d.defaultProps={alignTo:null};var c=d;t.default=c;e.exports=t.default},2371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=c(n(98));var o=c(n(116));var i=c(n(91));var r=c(n(1043));var l=c(n(1275));var s=c(n(411));var u=c(n(1148));var d=c(n(2372));function c(e){return e&&e.__esModule?e:{default:e}}function f(){f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return f.apply(this,arguments)}function v(e){var t=e.isSmallDevice,n=e.appLayout;if(!n.permissions.update)return a.default.createElement(l.default,null,i.default.get("UnsupportedDevice.DataModelViewerMessage"));if(t)return a.default.createElement(u.default,null);return a.default.createElement(d.default,e)}v.propTypes={isSmallDevice:o.default.bool.isRequired,app:o.default.object.isRequired,appLayout:o.default.object.isRequired};var p=(0,s.default)(function(e){return a.default.createElement(r.default,null,function(t){return a.default.createElement(v,f({},e,{isSmallDevice:t}))})});t.default=p;e.exports=t.default},2372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=y(n(98));var o=g(n(116));var i=g(n(11));var r=g(n(94));var l=g(n(95));var s=g(n(1273));var u=g(n(1783));var d=g(n(170));var c=g(n(2373));var f=g(n(1785));var v=g(n(2383));var p=g(n(1005));var m=g(n(177));var h=n(90);var b=g(n(411));function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}t.default=e;return t}function w(e){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return w(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}function _(e,t,n){t&&M(e.prototype,t);n&&M(e,n);return e}function E(e,t){if(t&&("object"===w(t)||"function"===typeof t))return t;return D(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){L=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return L(e)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});t&&O(e,t)}function O(e,t){O=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return O(e,t)}var z=function(e){x(t,e);function t(e){var n;T(this,t);n=E(this,L(t).call(this,e));n.components=[];return n}_(t,[{key:"componentDidMount",value:function e(){var t=this.props.appLayout;m.default.setData((0,h.getParameterByName)("app"),"datamodelviewer");r.default.setView(r.default.Views.dataSpaceAssociations);(0,i.default)("body").addClass("qv-datamodelviewer");l.default.publish("/language/dataSet");l.default.publish("/help/dataSet");if(t.permissions.update){s.default.onReloadStarted(function(){d.default.fadeInWorkingOverlay(true);d.default.setTableContainerElementOpacity(0)});var n=(0,i.default)(this.overviewElem).showComponent(c.default);var a=(0,i.default)(this.footerElem).showComponent(f.default);var o=(0,i.default)(this.rightMenuElem).showComponent(v.default);u.default.init();this.components=[n,a,o]}}},{key:"componentWillUnmount",value:function e(){this.components.forEach(function(e){try{e.destroy()}catch(e){console.error(e)}});(0,i.default)("body").removeClass("qv-datamodelviewer");p.default.unsetBeforeUnloadFunctions()}},{key:"render",value:function e(){var t=this;return a.default.createElement("div",{id:"qv-datamodelviewer-container"},a.default.createElement("div",{id:"datamodelviewer_overview",tid:"301658",ref:function e(n){t.overviewElem=n}}),a.default.createElement("div",{id:"datamodelviewer_footer","data-help":"Datamodelviewer.Preview",ref:function e(n){t.footerElem=n}}),a.default.createElement("div",{id:"datamodelviewer_working"}),a.default.createElement("div",{id:"datamodelviewer_rightmenu",ref:function e(n){t.rightMenuElem=n}}))}}]);return t}(a.Component);z.propTypes={appLayout:o.default.object.isRequired};var C=(0,b.default)(z);t.default=C;e.exports=t.default},2373:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(2374),n(2375),n(457),n(1784),n(1788),n(1330),n(353),n(1679),n(1277),n(389),n(2376),n(1787),n(248),n(170),n(89),n(459),n(2377),n(2378),n(1782),n(2379),n(1789),n(458),n(2380),n(2381),n(2382)],o=function(e,t,n,a,o,i,r,l,s,u,d,c,f,v,p,m,h,b,g,y,w,T){var M=false;var _=10;var E=0;var D=109;var L=107;function x(n,x){var O;var z;var C;var k;var P={INTERSECTION_POINT_RADIUS:5,CONNECTION_POINT_RADIUS:3};var A={FRONT:"front",BACK:"back"};var N={};function S(t){var n=t.target||t.srcElement;var a=e(n).closest(".table");var o=a.children("ul");if(a.length>0&&o[0].scrollHeight>o[0].clientHeight){var i=t.wheelDelta||-t.detail;o[0].scrollTop+=15*(i<0?1:-1);t.preventDefault();return false}return true}function R(e,t){E++;var a=E%_!==0;if(t&&a)return;e>0?d.zoomIn():d.zoomOut();n.$apply()}function F(){e(document).on("keydown",function(e){if(e.keyCode===D){d.zoomOut();n.$apply()}else if(e.keyCode===L){d.zoomIn();n.$apply()}})}function I(e){if(N.realName!==e){n.tableData[e].zIndex=A.FRONT;N.zIndex=A.BACK;N=n.tableData[e]}}function B(){var t=50;var n=p.getHighestHeightForAllTables();var a=n.left+n.width+t;var o=n.top+n.height+t;e(".connection-container").width(a);e(".connection-container").height(o)}function V(){if(!M){M=true;H().then(function(){Z();M=false})}}b.onReload(V);function q(){n.intersectionRadius=P.INTERSECTION_POINT_RADIUS;n.connectionPointRadius=P.CONNECTION_POINT_RADIUS;return l.forceReload().then(function(){n.tableData=l.getDataModel();for(var e in n.tableData)n.tableData[e].zIndex=A.BACK;return W()})}function H(){var e=new m;p.setTableContainerElementOpacity(0);p.fadeInWorkingOverlay(false);function t(e){console.error(e);p.fadeOutWorkingOverlay()}p.fadeOutLines().then(function(){O=x(function(){q().then(function(){x(function(){p.setTableContainerElementOpacity(1);var n=v.isInternalTableView();var a=l.getDataModel();o.moveTablesAccordingToEngine(n,a).then(function(n){U();W().then(function(){p.fadeOutWorkingOverlay();p.fadeInLines();i.onReloadDoneButNoSizesWereAppliedObserver(n);r.setLastUsedResizer(r.MANUAL_RESIZE);w.checkIfAppHasData();return e.resolve()},t)},t)},0)},t)},1e3)});return e.promise}function U(){n.onOutsideTablesClick(true);t.reSelectTableAndField(n.tableData,n.tableSelected,n.fieldSelected,n.onOutsideTablesClick)}v.onInternalTableViewChange(function(){H().then(function(){Z()})});n.tableSelected=function(e){t.setLastTableAndField(e,void 0);s.setSelectedTable(e);c.highlightTableConnection(n.tableData,n.connectionData,e);I(e)};n.fieldSelected=function(e,a){t.setLastTableAndField(e,a);a=p.decodeFieldName(a);s.setSelectedField(e,a);c.highlightTableFieldsConnection(n.tableData,n.connectionData,e,a,false);I(e)};n.connectionSelected=function(e){var t,a,o,i;for(a in n.tableData){t=n.tableData[a];for(i in t.fields){o=t.fields[i];if(o.name===e){c.highlightTableFieldsConnection(n.tableData,n.connectionData,a,e,true);I(a);return true}}}};n.onOutsideTablesClick=function(e){e||t.setLastTableAndField(void 0,void 0);s.clearSelections();c.removeHighlight()};function j(e,t){if(void 0===e)throw new Error("Send to engine is undefined.");if("boolean"!==typeof e)throw new Error("Send to engine is not boolean.");if(void 0===t)throw new Error("markAppAsDirty is undefined.");if("boolean"!==typeof t)throw new Error("markAppAsDirty is not boolean.");if(e){var n=v.isInternalTableView();o.setBoundsInEngine(n).then(function(){t&&a.save()})}W();B()}d.onZoomLevelChanged(function(e){n.tablesContainerStyle={transform:"scale("+e+")"}});function W(){var e=new m;z=x(function(){try{l.recreateCachedIdealConnectionData();n.connectionData=l.getConnectionData();e.resolve()}catch(t){e.reject(t)}},250);return e.promise}function Z(){C=x(function(){var t=p.getHighestHeightForAllTables();var n=h.getZoomLevelBasedOnDimension(e(".table-container").width(),t.right+t.furthestLeft);var a=h.getZoomLevelBasedOnDimension(e(".table-container").height(),t.bottom+t.furthestTop);var o=Math.min(n,a);o=o>2?2:o;o=o<.1?.1:o;d.setZoomLevel(o);B()},250)}n.toggleExpandCollapseTable=function(e){var t=y.invokeByTableName(e);var n=p.getMaxHeightForTableByName(e);var a=p.getTableHeaderHeightByTableName(e);var o=p.getTableWidthByTableName(e);var i=t.isAtMaximumHeight(e);var l=i?a:n;p.setTableSize(e,l,o).then(function(){r.setLastUsedResizer(r.MANUAL_RESIZE);u.setNewPosition(true,true)})};var K=e(".table-container")[0];f.attachMouseWheelEvent(K,R,S);g.attach(K,n,R);F();T.init(K);e(K).bind("touchmove",false);u.setOnPositionUpdateListener(j);M=true;H().then(function(){M=false;k=x(function(){r.initLastUsedResizerByLookingAtCurrentTables();Z()},500)});this.destroy=function(){d.setZoomLevel(1);b.unbind(V);x.cancel(O);x.cancel(z);x.cancel(C);x.cancel(k);p.fadeOutWorkingOverlay();n.destroyComponent()}}return{template:n,controller:["$scope","$timeout",x]}}.apply(t,a),void 0!==o&&(e.exports=o))},2374:function(e,t,n){"use strict";var a,o;function i(e){i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return i(e)}!(a=[],o=function(){var e;var t;function n(n,a){if(null!=n&&"string"!==typeof n)throw new Error('Table name is not a String, but a "'+i(n)+'".');if(null!=a&&"string"!==typeof a)throw new Error('Field name is not a String, but a "'+i(a)+'".');e=n;t=a}function a(t){if(!e)return false;return!!t[e]}function o(n){if(a(n))for(var o in n[e].fields){var i=n[e].fields[o];if(i.name===t)return true}return false}function r(n,i,r,l){var s=a(n);var u=o(n,e,t);s&&u?r(e,t):s?i(e):l()}return{setLastTableAndField:n,reSelectTableAndField:r}}.apply(t,a),void 0!==o&&(e.exports=o))},2375:function(e,t){e.exports='<div class="table-container" ng-click="onOutsideTablesClick()">\n\t<div class="zoom" ng-style="tablesContainerStyle">\n\t\t<div class="connection-container"\n\t\t\t onclick="event.stopPropagation();">\n\t\t\t<svg class="dmv" height="100%" width="100%" version="1.1">\n\t\t\t\t<g ng-repeat="connection in connectionData">\n\t\t\t\t\t<g ng-repeat="line in connection.lines">\n\t\t\t\t\t\t<line dmv-svg-line=""\n\t\t\t\t\t\t\t  ng-mousedown="connectionSelected(connection.fieldName);"\n\t\t\t\t\t\t\t  data-is-circular="{{ line.isCircular }}"\n\t\t\t\t\t\t\t  data-is-arm="{{ line.isArm }}"\n\t\t\t\t\t\t\t  class="{{ connection.highlight }}"\n\t\t\t\t\t\t\t  data-ng-x1="{{ line.start.left }}"\n\t\t\t\t\t\t\t  data-ng-y1="{{ line.start.top }}"\n\t\t\t\t\t\t\t  data-ng-x2="{{ line.end.left}}"\n\t\t\t\t\t\t\t  data-ng-y2="{{ line.end.top }}"></line>\n\t\t\t\t\t\t<circle dmv-svg-circle=""\n\t\t\t\t\t\t\t\tng-show="{{ connection.interception != null }}"\n\t\t\t\t\t\t\t\tng-click="connectionSelected(connection.fieldName);"\n\t\t\t\t\t\t\t\tclass="{{ connection.interception.highlight }}"\n\t\t\t\t\t\t\t\tdata-ng-cx="{{ connection.interception.left }}"\n\t\t\t\t\t\t\t\tdata-ng-cy="{{ connection.interception.top }}"\n\t\t\t\t\t\t\t\tdata-ng-r="{{ intersectionRadius }}"></circle>\n\t\t\t\t\t\t<circle dmv-svg-circle=""\n\t\t\t\t\t\t\t\tdata-is-circular="{{ line.isCircular }}"\n\t\t\t\t\t\t\t\tng-show="{{ line.isArm }}"\n\t\t\t\t\t\t\t\tng-click="connectionSelected(connection.fieldName);"\n\t\t\t\t\t\t\t\tclass="{{ connection.highlight }}"\n\t\t\t\t\t\t\t\tdata-ng-cx="{{ line.connectionPoint.left }}"\n\t\t\t\t\t\t\t\tdata-ng-cy="{{ line.connectionPoint.top }}"\n\t\t\t\t\t\t\t\tdata-ng-r="{{ connectionPointRadius }}"></circle>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t</div>\n\n\t\t<div table="true" name="{{ tableKey }}" class="table {{table.highlight}} {{table.zIndex}}"\n\t\t\t data-autoLayoutX="{{table.autoLayoutX}}"\n\t\t\t data-autoLayoutY="{{table.autoLayoutY}}"\n\t\t\t ng-repeat="(tableKey, table) in tableData"\n\t\t\t dmv-table="table"\n\t\t\t tid-highlighted="{{table.zIndex===\'front\'}}"\n\t\t\t onclick="event.stopPropagation();">\n\n\t\t\t<h1 class="title" ng-class="{ \'directdiscovery-table\': table.isDirectDiscovery }" ng-mouseup="tableSelected(tableKey);" ng-dblclick="toggleExpandCollapseTable(tableKey);">\n\t\t\t\t<i class="lui-icon  lui-icon--direct-discovery" ng-if="table.isDirectDiscovery" q-title-translation="DirectDiscovery.Table"></i>\n\t\t\t\t{{table.realName}}\n\t\t\t</h1>\n\t\t\t<ul>\n\t\t\t\t<li data-name="{{field.name}}" ng-repeat="field in table.fields"\n\t\t\t\t\tclass="{{ field.highlight }}"\n\t\t\t\t\tng-mouseup="fieldSelected(tableKey, field.name);"\n\t\t\t\t\tonclick="event.stopPropagation();">\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{{field.name}}\n\t\t\t\t\t\t<span class="lui-icon  lui-icon--key" ng-if="field.meta.isKey"></span>\n\t\t\t\t\t\t<span class="lui-icon  lui-icon--calendar" ng-if="field.derivedFields.length > 0"></span>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p class="original-field" ng-repeat="originalField in field.originalFields">{{ originalField.name }}</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n'},2376:function(e,t,n){"use strict";var a,o;!(a=[],o=function(){var e={CLICKED_TABLE:"highlight",RELATED_TABLE:"highlight3",FIELD:"highlight2"};var t=[];function n(e){t.push(e)}function a(){for(var e=0;e<t.length;e++)delete t[e].highlight;t=[]}function o(t,o,i){var r,l,s,u;a();t[i].highlight=e.CLICKED_TABLE;n(t[i]);for(u in o){s=o[u];if(-1!==s.tables.indexOf(i)){s.highlight=e.CLICKED_TABLE;n(s);if(s.interception){s.interception.highlight=e.CLICKED_TABLE;n(s.interception)}for(r=0;s.tables&&r<s.tables.length;r++){l=s.tables[r];if(i!==l){t[l].highlight=e.RELATED_TABLE;n(t[l])}}}}}function i(t,o,i,r,l){var s,u,d,c,f,v;a();for(c in t[i].fields){d=t[i].fields[c];if(d.name===r){t[i].highlight=e.CLICKED_TABLE;n(t[i]);d.highlight=e.FIELD;n(d);break}}for(v in o){f=o[v];if(f.fieldName===r){f.highlight=e.CLICKED_TABLE;n(f);if(f.interception){f.interception.highlight=e.CLICKED_TABLE;n(f.interception)}for(s=0;f.tables&&s<f.tables.length;s++){u=f.tables[s];if(i!==u){t[u].highlight=l?e.CLICKED_TABLE:e.RELATED_TABLE;n(t[u]);for(c in t[u].fields){d=t[u].fields[c];if(d.name===r){d.highlight=e.FIELD;n(d)}}}}}}}function r(e,t){var a,o;for(a in t){o=t[a];e[a].highlight=o.highlight;n(e[a]);if(e[a].interception&&o.interception){e[a].interception.highlight=o.interception.highlight;n(e[a].interception)}}return e}return{highlightTableFieldsConnection:i,highlightTableConnection:o,removeHighlight:a,refreshHighlightedLines:r,addHighlightedItem:n}}.apply(t,a),void 0!==o&&(e.exports=o))},2377:function(e,t,n){"use strict";var a,o;!(a=[n(93),n(285)],o=function(e,t){var n="reload-notification";var a=false;function o(){var a={qInfo:{qType:"MonitorReload"}};return e.getApp().then(function(e){return e.createSessionObject(a).then(function(e){e.Invalidated.bind(function(){e.getLayout().then(function(){t.notifyAll(n)})});e.Invalidated.emit()})})}function i(e){if(!a){o();a=true}t.addObserver(n,e)}function r(e){t.removeObserver(n,e)}return{onReload:i,unbind:r}}.apply(t,a),void 0!==o&&(e.exports=o))},2378:function(e,t,n){"use strict";var a,o;!(a=[n(96)],o=function(e){function t(t,n,a){var o="qva-pinch"+n.$id;e(t).pinch({id:o,options:{preventDefault:false},update:function e(t,n){a(n.delta,true)}});n.$on("$destroy",function(){e(t).off("pinch",o)})}return{attach:t}}.apply(t,a),void 0!==o&&(e.exports=o))},2379:function(e,t,n){"use strict";var a,o;!(a=[n(279),n(495),n(135),n(93)],o=function(e,t,n,a){var o;function i(){return e.hasAppGotData().then(function(e){if(e||o){if(e&&o){o.destroy();o=null}}else a.getApp().then(function(e){o=t.confirmAction({header:"AppOverview.Content.NoDataInPublishedApp.Title",content:"AppOverview.Content.HasScriptButNoData",declineButtonTitle:"Common.Cancel",confirmButtonTitle:"Common.Open"});o.resultPromise.then(function(){window.location.href=n.buildUrl(true,"dataloadeditor","app",e.id)})})})}return{checkIfAppHasData:i}}.apply(t,a),void 0!==o&&(e.exports=o))},2380:function(e,t,n){"use strict";var a,o;!(a=[n(48),n(11),n(1788),n(170),n(1277),n(248),n(389),n(1330),n(1789)],o=function(e,t,n,a,o,i,r,l,s){var u;function d(){return document.getElementsByClassName("zoom")[0]}function c(e){if(u)throw new Error("Shadow element should not exist.");u=document.createElement("div");d().appendChild(u);u.style.background="rgba(230,230,230,0.75)";u.style.position="absolute";u.style.borderRadius="8px";u.style.border="1px solid #DBDBDB";u.style.zIndex="-1";u.style.width=e.style.width;u.style.height=e.style.height;u.style.top=e.style.top;u.style.left=e.style.left}function f(){if(u){d().removeChild(u);u=null}}e.directive("dmvTable",function(){return{restrict:"ECA",controller:["$element",function(e){e.draggable({revert:false,handle:"h1, p",start:function e(t){c(t.currentTarget);s.setTablesAreMoving(true)},drag:function e(t,n){n.position.top=n.position.top>0?n.position.top:1;n.position.left=n.position.left>0?n.position.left:1;n.position.left/=r.getCurrentZoomLevel();n.position.top/=r.getCurrentZoomLevel();return true},stop:function e(){s.setTablesAreMoving(false);f();o.setNewPosition(true,true)}});setTimeout(function(){var n=e.attr("name");var r=a.getMaxWidthForTable(e);var u=a.getMaxHeightForTable(e);var d=a.getMinWidthForTable(e);t(e).resizable({minWidth:d,minHeight:a.getTableHeaderHeightByTableName(n),maxWidth:r,maxHeight:u,resize:function e(){a.updateULHeightBasedOnTableHeight(n);l.setLastUsedResizer(l.MANUAL_RESIZE);o.setNewPosition(true,true)},start:function e(){s.setTablesAreResizing(true)},stop:function e(){s.setTablesAreResizing(false)}});t(e).find("ul").scroll(function(){o.setNewPosition(true,true)});e.resizable(i.isLocked()?"disable":"enable");t("#datamodelviewer_overview div.table ul").css("overflow-y",i.isLocked()?"hidden":"auto")},0);e.draggable(i.isLocked()?"disable":"enable")}]}});n.setOnReloadDoneButNoSizesWereAppliedObserver(function(){a.getAllTableElements().each(function(e,n){var o=t(n);var i=a.getMaxHeightForTable(o);o.resizable("option","maxHeight",i);var r=a.getMaxWidthForTable(o);o.resizable("option","maxWidth",r);var l=a.getMinWidthForTable(o);o.resizable("option","minWidth",l)})})}.apply(t,a),void 0!==o&&(e.exports=o))},2381:function(e,t,n){"use strict";var a,o;!(a=[n(48)],o=function(e){e.directive("dmvSvgLine",function(){return{restrict:"ECA",link:function e(t,n,a){t.$watch(a.ngX1,function(e){n.attr("x1",e)});t.$watch(a.ngX2,function(e){n.attr("x2",e)});t.$watch(a.ngY1,function(e){n.attr("y1",e)});t.$watch(a.ngY2,function(e){n.attr("y2",e)})}}})}.apply(t,a),void 0!==o&&(e.exports=o))},2382:function(e,t,n){"use strict";var a,o;!(a=[n(48)],o=function(e){e.directive("dmvSvgCircle",function(){return{restrict:"ECA",link:function e(t,n,a){t.$watch(a.ngCx,function(e){n.attr("cx",e)});t.$watch(a.ngCy,function(e){n.attr("cy",e)});t.$watch(a.ngR,function(e){n.attr("r",e)})}}})}.apply(t,a),void 0!==o&&(e.exports=o))},2383:function(e,t,n){"use strict";var a,o;!(a=[n(11),n(2384),n(248),n(389),n(91),n(95),n(2385),n(242),n(1226)],o=function(e,t,n,a,o,i){function r(t,r){function l(){r(function(){if(t.locked){e("#dmv-lock-button > span").removeClass("lui-icon--unlock");e("#dmv-lock-button > span").addClass("lui-icon--lock")}else{e("#dmv-lock-button > span").removeClass("lui-icon--lock");e("#dmv-lock-button > span").addClass("lui-icon--unlock")}},0)}t.locked=n.isLocked();l();i.publish("/toolbar/datamodelviewer-overview-locked",t.locked);t.toggleLock=function(){t.locked=!t.locked;n.setIsLocked(t.locked);e("#datamodelviewer_overview div.table").draggable(t.locked?"disable":"enable");e("#datamodelviewer_overview div.table").resizable(t.locked?"disable":"enable");e("#datamodelviewer_overview div.table ul").css("overflow-y",n.isLocked()?"hidden":"auto");i.publish("/toolbar/datamodelviewer-overview-locked",t.locked);l()};t.zoomIn=function(){a.zoomIn()};t.zoomOut=function(){a.zoomOut()};t.restoreZoom=function(){a.setZoomLevel(1)};t.canZoomInMore=function(){return a.canZoomInMore()};t.canZoomOutMore=function(){return a.canZoomOutMore()};t.canRestoreZoom=function(){return a.canBeRestored()};t.getLockHoverText=function(){return o.get(t.locked?"DataModelViewer.RightMenu.Tooltip.ClickToUnlock":"DataModelViewer.RightMenu.Tooltip.ClickToLock")};this.destroy=function(){t.destroyComponent()}}return{template:t,controller:["$scope","$timeout",r]}}.apply(t,a),void 0!==o&&(e.exports=o))},2384:function(e,t){e.exports='<button \n\tclass="lui-fade-button  lui-fade-button"\n\tng-class="{ \'lui-active\' : locked }"\n\tid="dmv-lock-button"\n\tng-click="toggleLock();"\n\tq-title-translation="{{getLockHoverText()}}"\n\t>\n  <span class="lui-fade-button__icon  lui-icon  lui-icon--unlock"></span>\n</button>\n\n<div class="zoom-container" tid="dmv-zoom-container">\n\n\t<button class="lui-fade-button" \n\t\t\tid="restore"\n\t\t\tng-click="restoreZoom()"\n\t\t\tng-disabled="!canRestoreZoom()"\n\t\t\tq-title-translation="DataModelViewer.RightMenu.Tooltip.RestoreZoom">\n\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--home"></span>\n\t</button>\n\n\t<button class="lui-fade-button"\n\t\t\tid="zoom-in"\n\t\t\tng-click="zoomIn()"\n\t\t\tng-disabled="!canZoomInMore()"\n\t\t\tq-title-translation="DataModelViewer.RightMenu.Tooltip.ZoomIn">\n\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--zoom-in"></span>\n\t</button>\n\n\t<div class="slider-container">\n\t\t<div class="slider-guide-line"></div>\n\t\t<div class="neutral-point"></div>\n\t\t<div class="slider" dmv-draggable-slider="" ng-style="{ top: sliderPosition + \'px\'}"></div>\n\t</div>\n\n\t<button class="lui-fade-button"\n\t\t\tid="zoom-out"\n\t\t\tng-click="zoomOut()"\n\t\t\tng-disabled="!canZoomOutMore()"\n\t\t\tq-title-translation="DataModelViewer.RightMenu.Tooltip.ZoomOut">\n\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--zoom-out"></span>\n\t</button>\n\n</div>\n'},2385:function(e,t,n){"use strict";var a,o;!(a=[n(48),n(389),n(242),n(1226)],o=function(e,t){e.directive("dmvDraggableSlider",function(){var e=20;var n=2;var a=96;var o=55;return{restrict:"ECA",controller:["$scope","$element",function(i,r){var l;r.draggable({axis:"y",cursor:"pointer",snap:"div.neutral-point",snapMode:"inner",snapTolerance:1,revert:false,drag:function o(s,u){var d=r.parent().offset().top;var c=r.parent().offset().left;var f=r.parent().offset().top+r.parent().outerHeight();var v=r.parent().offset().left+r.parent().outerWidth();if(s.pageY<d+3||s.pageY>f-3||s.pageX<c-e||s.pageX>v+e)return false;u.position.top-=4;u.position.top<=n?u.position.top=n:u.position.top>=a&&(u.position.top=a);var p=(24-parseInt(u.position.top/4,10))/10;if(l!==p){l=p;t.setZoomLevel(p)}i.$apply();return true}});t.onZoomLevelChanged(function(e){var t=o-n;var i=t*(2-e);i=i<n?n:i;i=i>a?a:i;r.css("top",i)})}]}})}.apply(t,a),void 0!==o&&(e.exports=o))},2386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=r(n(98));var o=r(n(116));var i=r(n(1274));function r(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.closeMenu,n=e.showAddData;if(!n)return null;return a.default.createElement(i.default,{closeMenu:t})}l.propTypes={closeMenu:o.default.func.isRequired,showAddData:o.default.bool.isRequired};var s=l;t.default=s;e.exports=t.default},2387:function(e,t,n){},411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=l(n(98));var o=l(n(988));var i=l(n(438));var r=l(n(1086));function l(e){return e&&e.__esModule?e:{default:e}}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};return s.apply(this,arguments)}function u(e){return e.displayName||e.name||"Component"}function d(e){var t=function t(n){return a.default.createElement(o.default,null,function(t){return a.default.createElement(i.default,null,function(o){if(!o)return null;return a.default.createElement(r.default,null,function(i){return a.default.createElement(e,s({},n,{app:t,appLayout:o,urlParameters:i}))})})})};t.displayName="WithConsumers(".concat(u(e),")");return t}var c=d;t.default=c;e.exports=t.default}}]);