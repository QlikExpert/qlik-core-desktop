/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[70,11,20,33,65,66,69],Array(48).concat([function(e,t,n){"use strict";var i,r;!(i=[n(119)],r=function(e){return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(434),n(113)],r=function(e,t){var n=t;return{get:function e(){return n},getFlag:function e(t){var i=n[t];return true===i||"true"===i},load:function i(){return e.get().then(function(e){for(var t in e)n[t]=e[t];return n}).catch(function(){n=t;return n})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(54)],r=function(e,t){var n={};var i="screen and (orientation: portrait)";var r="screen and (max-width: 640px), screen and (max-height: 480px)";var o;var s;n.Orientation={portrait:"portrait",landscape:"landscape"};var a=false;var l=false;var u=n.Orientation.landscape;function c(e){return"function"===typeof e}function f(e){a=e.matches;n.ViewChanged.emit(a)}function d(e){l=e.matches;n.ViewChangedDirect.emit(l)}var p=t.debounce(f,250);function h(e){u=e.matches?n.Orientation.portrait:n.Orientation.landscape;n.OrientationChanged.emit(u)}function v(){if(o&&c(o.removeListener)){o.removeListener(p);o.removeListener(d)}s&&c(s.removeListener)&&s.removeListener(h)}function m(){v();if(window&&c(window.matchMedia)){o=window.matchMedia(r);s=window.matchMedia(i);o.addListener(p);o.addListener(d);s.addListener(h)}}function g(){f(o);d(o);h(s)}e.mixin(n);n.notification("ViewChanged");n.notification("ViewChangedDirect");n.notification("OrientationChanged");n.init=function e(t){if(true===t){m(t);g(t)}};n.destroy=v;Object.defineProperties(n,{isSmallDevice:{get:function e(){return a}},isSmallDeviceDirect:{get:function e(){return l}},orientation:{get:function e(){return u}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(119),n(89)],r=function(e,t,n){var i=[],r;t.componentDirective("qvShowServiceView",{destroyComponent:"&",input:"=",deferredResult:"=",exposedApi:"="});var o={template:"<div><div ng-repeat='view in views' qv-show-service-view component='view.component' data-input='view.input' data-deferred-result='view.deferredResult' destroy-component='unshow(view)' data-exposed-api='view.exposedApi'></div></div>",controller:["$scope",function(e){e.unshow=function(t){var n=e.views.indexOf(t);n>=0&&e.views.splice(n,1)}}]};function s(){if(!r){var t=e("<div id='show-service-popup-dialog'></div>");e("body").append(t);t.showComponent(o,{views:i});r=true}}function a(e,t){s();var r=new n;var o={component:e,input:t,keepOpen:t.input&&t.input.keepOpen,deferredResult:r,exposedApi:{destroy:a,resultPromise:r.promise}};i.push(o);function a(){var e=i.indexOf(o);e>=0&&i.splice(e,1)}return o.exposedApi}function l(n,i){var r={$element:e("body"),input:i};for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);return t.$injector.invoke(n,{},r)}var u=null;function c(e){u=e}function f(e,t){if(u)return u(e,t);return"function"===typeof e||Array.isArray(e)?l(e,t):a(e,t)}function d(){return i.length>0}function p(){i.forEach(function(e){e.keepOpen||e.exposedApi.destroy()})}return{show:f,isViewShowing:d,closeAll:p,setShowFn:c}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";window.requirejs||n(61);window.requirejs.config.call(null,{config:{text:{useXhr:function e(t,i,r,o){if(0===t.indexOf(n.p))return true;var s=window.requirejs("text");return s.useXhr(t,i,r,o)}}},context:window.requirejs.s.contexts.sense?"sense":null,paths:{},shim:{},waitSeconds:60});window.requirejs.s.contexts.sense&&(window.requirejs.s.contexts._.defined.angular=window.requirejs.s.contexts.sense.defined.angular)},function(e,t,n){var i=n(10);(function(e,t){"use strict";var n=t.$$minErr("$sanitize");var i;var r;var o;var s;var a;var l;var u;var c;var f;var d;function p(){var p=false;var h=false;this.$get=["$$sanitizeUri",function(e){p=true;h&&r(S,q);return function(t){var n=[];f(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))}));return n.join("")}}];this.enableSvg=function(e){if(a(e)){h=e;return this}return h};this.addValidElements=function(e){if(!p){s(e)&&(e={htmlElements:e});T(q,e.svgElements);T(g,e.htmlVoidElements);T(S,e.htmlVoidElements);T(S,e.htmlElements)}return this};this.addValidAttrs=function(e){p||r(A,I(e,true));return this};i=t.bind;r=t.extend;o=t.forEach;s=t.isArray;a=t.isDefined;l=t.$$lowercase;u=t.noop;f=P;d=N;c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/([^#-~ |!])/g;var g=L("area,br,col,hr,img,wbr");var b=L("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y=L("rp,rt"),x=r({},y,b);var _=r({},b,L("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var w=r({},y,L("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var q=L("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan");var C=L("script,style");var S=r({},g,_,w,x);var E=L("background,cite,href,longdesc,src,xlink:href,xml:base");var D=L("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width,style");var O=L("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var A=r({},E,O,D);function L(e,t){return I(e.split(","),t)}function I(e,t){var n={},i;for(i=0;i<e.length;i++)n[t?l(e[i]):e[i]]=true;return n}function T(e,t){t&&t.length&&r(e,I(t))}var k=function(e,t){var i;if(!t||!t.implementation)throw n("noinert","Can't create an inert html document");i=t.implementation.createHTMLDocument("inert");var r=(i.documentElement||i.getDocumentElement()).querySelector("body");r.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(r.querySelector("svg")){r.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';return r.querySelector("svg img")?s:a}return o;function o(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document";n.open("GET","data:text/html;charset=utf-8,"+t,false);n.send(null);var i=n.response.body;i.firstChild.remove();return i}function s(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;n.firstChild.remove();return n}catch(e){return}}function a(e){r.innerHTML=e;t.documentMode&&F(r);return r}}(e,e.document);function P(e,t){null===e||void 0===e?e="":"string"!==typeof e&&(e=""+e);var i=k(e);if(!i)return"";var r=5;do{if(0===r)throw n("uinput","Failed to sanitize html because the input is unstable");r--;e=i.innerHTML;i=k(e)}while(e!==i.innerHTML);var o=i.firstChild;while(o){switch(o.nodeType){case 1:t.start(o.nodeName.toLowerCase(),M(o.attributes));break;case 3:t.chars(o.textContent);break}var s;if(!(s=o.firstChild)){1===o.nodeType&&t.end(o.nodeName.toLowerCase());s=j("nextSibling",o);if(!s)while(null==s){o=j("parentNode",o);if(o===i)break;s=j("nextSibling",o);1===o.nodeType&&t.end(o.nodeName.toLowerCase())}}o=s}while(o=i.firstChild)i.removeChild(o)}function M(e){var t={};for(var n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function R(e){return e.replace(/&/g,"&amp;").replace(v,function(e){var t=e.charCodeAt(0);var n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(m,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function N(e,t){var n=false;var r=i(e,e.push);return{start:function(e,i){e=l(e);!n&&C[e]&&(n=e);if(!n&&true===S[e]){r("<");r(e);o(i,function(n,i){var o=l(i);var s="img"===e&&"src"===o||"background"===o;if(0===o.indexOf("data-")||true===A[o]&&(true!==E[o]||t(n,s))){r(" ");r(i);r('="');r(R(n));r('"')}});r(">")}},end:function(e){e=l(e);if(!n&&true===S[e]&&true!==g[e]){r("</");r(e);r(">")}e==n&&(n=false)},chars:function(e){n||r(R(e))}}}function F(t){while(t){if(t.nodeType===e.Node.ELEMENT_NODE){var n=t.attributes;for(var i=0,r=n.length;i<r;i++){var o=n[i];var s=o.name.toLowerCase();if("xmlns:ns1"===s||0===s.lastIndexOf("ns1:",0)){t.removeAttributeNode(o);i--;r--}}}var a=t.firstChild;a&&F(a);t=j("nextSibling",t)}}function j(e,t){var i=t[e];if(i&&c.call(t,i))throw n("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return i}}function h(e){var t=[];var n=d(t,u);n.chars(e);return t.join("")}t.module("ngSanitize",[]).provider("$sanitize",p).info({angularVersion:"1.7.2"});t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;var r=t.$$minErr("linky");var o=t.isDefined;var s=t.isFunction;var a=t.isObject;var l=t.isString;return function(t,u,c){if(null==t||""===t)return t;if(!l(t))throw r("notstring","Expected string but received: {0}",t);var f=s(c)?c:a(c)?function e(){return c}:function e(){return{}};var d;var p=t;var v=[];var m;var g;while(d=p.match(n)){m=d[0];d[2]||d[4]||(m=(d[3]?"http://":"mailto:")+m);g=d.index;b(p.substr(0,g));y(m,d[0].replace(i,""));p=p.substring(g+d[0].length)}b(p);return e(v.join(""));function b(e){if(!e)return;v.push(h(e))}function y(e,t){var n,i=f(e);v.push("<a ");for(n in i)v.push(n+'="'+i[n]+'" ');!o(u)||"target"in i||v.push('target="',u,'" ');v.push('href="',e.replace(/"/g,"&quot;"),'">');b(t);v.push("</a>")}}}])})(window,window.angular)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;function i(){return Promise.all([n.e(1),n.e(3),n.e(6),n.e(5),n.e(64)]).then(n.t.bind(null,80,7))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadExtensionAMD=a;t.loadConnectorAMD=l;t.loadMashupAMD=u;function i(){return Promise.all([n.e(77),n.e(67)]).then(n.t.bind(null,53,7))}function r(){return Promise.all([n.e(1),n.e(11),n.e(34)]).then(n.t.bind(null,81,7))}function o(){return Promise.all([n.e(1),n.e(12),n.e(20),n.e(0),n.e(37)]).then(n.t.bind(null,82,7))}function s(){return Promise.all([n.e(1),n.e(22),n.e(20),n.e(11),n.e(35)]).then(n.t.bind(null,83,7))}function a(){return Promise.all([i(),r(),o()])}function l(){return Promise.all([i(),r(),s()])}function u(){return Promise.all([r(),o()])}},,function(module,exports){var requirejs,require,define;(function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!("undefined"!==typeof window&&"undefined"!==typeof navigator&&window.document),isWebWorker=!isBrowser&&"undefined"!==typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){t&&eachProp(t,function(t,r){if(n||!hasProp(e,r))if(!i||"object"!==typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp)e[r]=t;else{e[r]||(e[r]={});mixin(e[r],t,n,i)}});return e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;each(e.split("."),function(e){t=t[e]});return t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);r.requireType=e;r.requireModules=i;n&&(r.originalError=n);return r}if("undefined"!==typeof define)return;if("undefined"!==typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs;requirejs=void 0}if("undefined"!==typeof require&&!isFunction(require)){cfg=require;require=void 0}function newContext(e){var t,n,i,r,o,s={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},a={},l={},u={},c=[],f={},d={},p={},h=1,v=1;function m(e){var t,n;for(t=0;t<e.length;t++){n=e[t];if("."===n){e.splice(t,1);t-=1}else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;if(t>0){e.splice(t-1,2);t-=2}}}}function g(e,t,n){var i,r,o,a,l,u,c,f,d,p,h,v,g=t&&t.split("/"),b=s.map,y=b&&b["*"];if(e){e=e.split("/");c=e.length-1;s.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,""));if("."===e[0].charAt(0)&&g){v=g.slice(0,g.length-1);e=v.concat(e)}m(e);e=e.join("/")}if(n&&b&&(g||y)){o=e.split("/");e:for(a=o.length;a>0;a-=1){u=o.slice(0,a).join("/");if(g)for(l=g.length;l>0;l-=1){r=getOwn(b,g.slice(0,l).join("/"));if(r){r=getOwn(r,u);if(r){f=r;d=a;break e}}}if(!p&&y&&getOwn(y,u)){p=getOwn(y,u);h=a}}if(!f&&p){f=p;d=h}if(f){o.splice(0,d,f);e=o.join("/")}}i=getOwn(s.pkgs,e);return i||e}function b(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===i.contextName){t.parentNode.removeChild(t);return true}})}function y(e){var t=getOwn(s.paths,e);if(t&&isArray(t)&&t.length>1){t.shift();i.require.undef(e);i.makeRequire(null,{skipMap:true})([e]);return true}}function x(e){var t,n=e?e.indexOf("!"):-1;if(n>-1){t=e.substring(0,n);e=e.substring(n+1,e.length)}return[t,e]}function _(e,t,n,r){var o,s,a,l,u=null,c=t?t.name:null,d=e,p=true,m="";if(!e){p=false;e="_@r"+(h+=1)}l=x(e);u=l[0];e=l[1];if(u){u=g(u,c,r);s=getOwn(f,u)}if(e)if(u)m=n?e:s&&s.normalize?s.normalize(e,function(e){return g(e,c,r)}):-1===e.indexOf("!")?g(e,c,r):e;else{m=g(e,c,r);l=x(m);u=l[0];m=l[1];n=true;o=i.nameToUrl(m)}a=!u||s||n?"":"_unnormalized"+(v+=1);return{prefix:u,name:m,parentMap:t,unnormalized:!!a,url:o,originalName:d,isDefine:p,id:(u?u+"!"+m:m)+a}}function w(e){var t=e.id,n=getOwn(a,t);n||(n=a[t]=new i.Module(e));return n}function q(e,t,n){var i=e.id,r=getOwn(a,i);if(!hasProp(f,i)||r&&!r.defineEmitComplete){r=w(e);r.error&&"error"===t?n(r.error):r.on(t,n)}else"defined"===t&&n(f[i])}function C(e,t){var n=e.requireModules,i=false;if(t)t(e);else{each(n,function(t){var n=getOwn(a,t);if(n){n.error=e;if(n.events.error){i=true;n.emit("error",e)}}});i||req.onError(e)}}function S(){if(globalDefQueue.length){each(globalDefQueue,function(e){var t=e[0];"string"===typeof t&&(i.defQueueMap[t]=true);c.push(e)});globalDefQueue=[]}}r={require:function(e){return e.require?e.require:e.require=i.makeRequire(e.map)},exports:function(e){e.usingExports=true;if(e.map.isDefine)return e.exports?f[e.map.id]=e.exports:e.exports=f[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(s.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}};function E(e){delete a[e];delete l[e]}function D(e,t,n){var i=e.map.id;if(e.error)e.emit("error",e.error);else{t[i]=true;each(e.depMaps,function(i,r){var o=i.id,s=getOwn(a,o);if(s&&!e.depMatched[r]&&!n[o])if(getOwn(t,o)){e.defineDep(r,f[o]);e.check()}else D(s,t,n)});n[i]=true}}function O(){var e,n,r=1e3*s.waitSeconds,a=r&&i.startTime+r<(new Date).getTime(),u=[],c=[],f=false,d=true;if(t)return;t=true;eachProp(l,function(e){var t=e.map,i=t.id;if(!e.enabled)return;t.isDefine||c.push(e);if(!e.error)if(!e.inited&&a)if(y(i)){n=true;f=true}else{u.push(i);b(i)}else if(!e.inited&&e.fetched&&t.isDefine){f=true;if(!t.prefix)return d=false}});if(a&&u.length){e=makeError("timeout","Load timeout for modules: "+u,null,u);e.contextName=i.contextName;return C(e)}d&&each(c,function(e){D(e,{},{})});a&&!n||!f||!isBrowser&&!isWebWorker||o||(o=setTimeout(function(){o=0;O()},50));t=false}n=function(e){this.events=getOwn(u,e.id)||{};this.map=e;this.shim=getOwn(s.shim,e.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};n.prototype={init:function(e,t,n,i){i=i||{};if(this.inited)return;this.factory=t;n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)}));this.depMaps=e&&e.slice(0);this.errback=n;this.inited=true;this.ignore=i.ignore;i.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){if(!this.depMatched[e]){this.depMatched[e]=true;this.depCount-=1;this.depExports[e]=t}},fetch:function(){if(this.fetched)return;this.fetched=true;i.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();i.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;if(!d[e]){d[e]=true;i.load(this.map.id,e)}},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,r=this.depExports,o=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=i.execCb(n,s,r,o)}catch(t){e=t}else o=i.execCb(n,s,r,o);if(this.map.isDefine&&void 0===o){t=this.module;t?o=t.exports:this.usingExports&&(o=this.exports)}if(e){e.requireMap=this.map;e.requireModules=this.map.isDefine?[this.map.id]:null;e.requireType=this.map.isDefine?"define":"require";return C(this.error=e)}}else o=s;this.exports=o;if(this.map.isDefine&&!this.ignore){f[n]=o;if(req.onResourceLoad){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)});req.onResourceLoad(i,this.map,a)}}E(n);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}else hasProp(i.defQueueMap,n)||this.fetch()},callPlugin:function(){var e=this.map,t=e.id,n=_(e.prefix);this.depMaps.push(n);q(n,"defined",bind(this,function(n){var r,o,l,u=getOwn(p,this.map.id),c=this.map.name,f=this.map.parentMap?this.map.parentMap.name:null,d=i.makeRequire(e.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){n.normalize&&(c=n.normalize(c,function(e){return g(e,f,true)})||"");o=_(e.prefix+"!"+c,this.map.parentMap,true);q(o,"defined",bind(this,function(e){this.map.normalizedMap=o;this.init([],function(){return e},null,{enabled:true,ignore:true})}));l=getOwn(a,o.id);if(l){this.depMaps.push(o);this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)}));l.enable()}return}if(u){this.map.url=i.nameToUrl(u);this.load();return}r=bind(this,function(e){this.init([],function(){return e},null,{enabled:true})});r.error=bind(this,function(e){this.inited=true;this.error=e;e.requireModules=[t];eachProp(a,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&E(e.map.id)});C(e)});r.fromText=bind(this,function(n,o){var a=e.name,l=_(a),u=useInteractive;o&&(n=o);u&&(useInteractive=false);w(l);hasProp(s.config,t)&&(s.config[a]=s.config[t]);try{req.exec(n)}catch(e){return C(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}u&&(useInteractive=true);this.depMaps.push(l);i.completeLoad(a);d([a],r)});n.load(e.name,d,r,s)}));i.enable(n,this);this.pluginMaps[n.id]=n},enable:function(){l[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(e,t){var n,o,s;if("string"===typeof e){e=_(e,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[t]=e;s=getOwn(r,e.id);if(s){this.depExports[t]=s(this);return}this.depCount+=1;q(e,"defined",bind(this,function(e){if(this.undefed)return;this.defineDep(t,e);this.check()}));this.errback?q(e,"error",bind(this,this.errback)):this.events.error&&q(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id;o=a[n];hasProp(r,n)||!o||o.enabled||i.enable(e,this)}));eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(a,e.id);t&&!t.enabled&&i.enable(e,this)}));this.enabling=false;this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]);n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)});"error"===e&&delete this.events[e]}};function A(e){hasProp(f,e[0])||w(_(e[0],null,true)).init(e[1],e[2])}function L(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,false)}function I(e){var t=e.currentTarget||e.srcElement;L(t,i.onScriptLoad,"load","onreadystatechange");L(t,i.onScriptError,"error");return{node:t,id:t&&t.getAttribute("data-requiremodule")}}function T(){var e;S();while(c.length){e=c.shift();if(null===e[0])return C(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));A(e)}i.defQueueMap={}}i={config:s,contextName:e,registry:a,defined:f,urlFetched:d,defQueue:c,defQueueMap:{},Module:n,makeModuleMap:_,nextTick:req.nextTick,onError:C,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");if("string"===typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,n){return(-1===n.indexOf("?")?"?":"&")+t}}var n=s.shim,r={paths:true,bundles:true,config:true,map:true};eachProp(e,function(e,t){if(r[t]){s[t]||(s[t]={});mixin(s[t],e,true,true)}else s[t]=e});e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(p[e]=t)})});if(e.shim){eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e});!e.exports&&!e.init||e.exportsFn||(e.exportsFn=i.makeShimExports(e));n[t]=e});s.shim=n}e.packages&&each(e.packages,function(e){var t,n;e="string"===typeof e?{name:e}:e;n=e.name;t=e.location;t&&(s.paths[n]=e.location);s.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")});eachProp(a,function(e,t){e.inited||e.map.unnormalized||(e.map=_(t,null,true))});(e.deps||e.callback)&&i.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;e.init&&(t=e.init.apply(global,arguments));return t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){n=n||{};function o(s,l,u){var c,d,p;n.enableBuildCallback&&l&&isFunction(l)&&(l.__requireJsBuild=true);if("string"===typeof s){if(isFunction(l))return C(makeError("requireargs","Invalid require call"),u);if(t&&hasProp(r,s))return r[s](a[t.id]);if(req.get)return req.get(i,s,t,o);d=_(s,t,false,true);c=d.id;if(!hasProp(f,c))return C(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")));return f[c]}T();i.nextTick(function(){T();p=w(_(null,t));p.skipMap=n.skipMap;p.init(s,l,u,{enabled:true});O()});return o}mixin(o,{isBrowser:isBrowser,toUrl:function(e){var n,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;if(-1!==r&&(!s||r>1)){n=e.substring(r,e.length);e=e.substring(0,r)}return i.nameToUrl(g(e,t&&t.id,true),n,true)},defined:function(e){return hasProp(f,_(e,t,false,true).id)},specified:function(e){e=_(e,t,false,true).id;return hasProp(f,e)||hasProp(a,e)}});t||(o.undef=function(e){S();var n=_(e,t,true),r=getOwn(a,e);r.undefed=true;b(e);delete f[e];delete d[n.url];delete u[e];eachReverse(c,function(t,n){t[0]===e&&c.splice(n,1)});delete i.defQueueMap[e];if(r){r.events.defined&&(u[e]=r.events);E(e)}});return o},enable:function(e){var t=getOwn(a,e.id);t&&w(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(s.shim,e)||{},l=o.exports;S();while(c.length){n=c.shift();if(null===n[0]){n[0]=e;if(t)break;t=true}else n[0]===e&&(t=true);A(n)}i.defQueueMap={};r=getOwn(a,e);if(!t&&!hasProp(f,e)&&r&&!r.inited){if(!(!s.enforceDefine||l&&getGlobal(l)))return y(e)?void 0:C(makeError("nodefine","No define call for "+e,null,[e]));A([e,o.deps||[],o.exportsFn])}O()},nameToUrl:function(e,t,n){var r,o,a,l,u,c,f,d=getOwn(s.pkgs,e);d&&(e=d);f=getOwn(p,e);if(f)return i.nameToUrl(f,t,n);if(req.jsExtRegExp.test(e))u=e+(t||"");else{r=s.paths;o=e.split("/");for(a=o.length;a>0;a-=1){l=o.slice(0,a).join("/");c=getOwn(r,l);if(c){isArray(c)&&(c=c[0]);o.splice(0,a,c);break}}u=o.join("/");u+=t||(/^data\:|^blob\:|\?/.test(u)||n?"":".js");u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":s.baseUrl)+u}return s.urlArgs&&!/^blob\:/.test(u)?u+s.urlArgs(e,u):u},load:function(e,t){req.load(i,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=I(e);i.completeLoad(t.id)}},onScriptError:function(e){var t=I(e);if(!y(t.id)){var n=[];eachProp(a,function(e,i){0!==i.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id){n.push(i);return true}})});return C(makeError("scripterror",'Script error for "'+t.id+(n.length?'", needed by: '+n.join(", "):'"'),e,[t.id]))}}};i.require=i.makeRequire();return i}req=requirejs=function(e,t,n,i){var r,o,s=defContextName;if(!isArray(e)&&"string"!==typeof e){o=e;if(isArray(t)){e=t;t=n;n=i}else e=[]}o&&o.context&&(s=o.context);r=getOwn(contexts,s);r||(r=contexts[s]=req.s.newContext(s));o&&r.configure(o);return r.require(e,t,n)};req.config=function(e){return req(e)};req.nextTick="undefined"!==typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()};require||(require=req);req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];baseElement&&(head=s.head=baseElement.parentNode)}req.onError=defaultOnError;req.createNode=function(e,t,n){var i=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");i.type=e.scriptType||"text/javascript";i.charset="utf-8";i.async=true;return i};req.load=function(e,t,n){var i=e&&e.config||{},r;if(isBrowser){r=req.createNode(i,t,n);r.setAttribute("data-requirecontext",e.contextName);r.setAttribute("data-requiremodule",t);if(!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera){r.addEventListener("load",e.onScriptLoad,false);r.addEventListener("error",e.onScriptError,false)}else{useInteractive=true;r.attachEvent("onreadystatechange",e.onScriptLoad)}r.src=n;i.onNodeCreated&&i.onNodeCreated(r,i,t,n);currentlyAddingScript=r;baseElement?head.insertBefore(r,baseElement):head.appendChild(r);currentlyAddingScript=null;return r}if(isWebWorker)try{setTimeout(function(){},0);importScripts(n);e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}};function getInteractiveScript(){if(interactiveScript&&"interactive"===interactiveScript.readyState)return interactiveScript;eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e});return interactiveScript}isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){head||(head=e.parentNode);dataMain=e.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&-1===mainScript.indexOf("!")){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain);cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}});define=function(e,t,n){var i,r;if("string"!==typeof e){n=t;t=e;e=null}if(!isArray(t)){n=t;t=null}if(!t&&isFunction(n)){t=[];if(n.length){n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,n){t.push(n)});t=(1===n.length?["require"]:["require","exports","module"]).concat(t)}}if(useInteractive){i=currentlyAddingScript||getInteractiveScript();if(i){e||(e=i.getAttribute("data-requiremodule"));r=contexts[i.getAttribute("data-requirecontext")]}}if(r){r.defQueue.push([e,t,n]);r.defQueueMap[e]=true}else globalDefQueue.push([e,t,n])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(window,"undefined"===typeof setTimeout?void 0:setTimeout);window.require=require;window.requirejs=requirejs;window.define=define},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(2014),n(58),n(263)],r=function(e,t){var n={host:window.location.hostname,prefix:window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/single")+1),port:window.location.port,isSecure:"https:"===window.location.protocol};var i=window.angular.module("singleApp",[]);i.controller("singleObjectCtrl",["$scope","$timeout",function(i,r){i.loading=true;function o(){t().then(function(t){e.init(t,n).then(function(e){r(function(){i.options=e.options})}).catch(function(e){i.loading=false;console.error(e)})})}i.$on("objectRenderStateChange",function(e,t){document.getElementById("single-object").setAttribute("data-render-state",""+t);i.loading=!!i.loading&&0===t});o();window.onhashchange=function(){o()}}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(119)],r=function(e){var t;t=function t(){var n=e.getService("$q").defer();return n};t.resolve=function(t){var n=e.getService("$q").defer();n.resolve(t);return n.promise};t.reject=function(){return e.getService("$q").reject.apply(null,arguments)};t.all=function(){return e.getService("$q").all.apply(null,arguments)};t.when=function(){return e.getService("$q").when.apply(null,arguments)};Object.defineProperty(t,"Promise",{get:function t(){return e.getService("$q")}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(139),n(54),n(13)],r=function(e,t,n,i){var r;var s="string"===typeof location.hostname?location.hostname:"";var a="string"===typeof location.port?location.port:void 0;var l="string"===typeof location.protocol?location.protocol:"";var u="https:"===l;var c=location.href;var f=c.split("#")[0];function d(e){var t=(+e).toString(16);return 1===t.length?"0"+t:t}var p={findValuesOfQProperty:function e(t,n){var i=[];function r(e,t){if(!e||"object"!==o(e))return;Array.isArray(e)?e.forEach(function(e,n){r(e,t+"/"+n)}):Object.keys(e).forEach(function(s){var a=o(e[s]);s===n?i.push(e[s]):"object"===a&&/^[^q]/.test(s)&&r(e[s],t+"/"+s)})}r(t,"");return i},isEqual:function e(t,i){return n.isEqual(t,i)},compare:function e(t,n){return t<n?-1:t>n?1:0},normalizeToHex:function e(t){if("string"===typeof t&&"#"===t[0])return t;if(0===t)return"#000000";var n=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})/i;var i=n.exec(t);if(i)t="#"+d(i[1])+d(i[2])+d(i[3]);else if("string"===typeof t&&0!==t.indexOf("#")&&/^[a-f0-9]{3,6}$/i.test(t))t="#"+t;else if(/^[0-9]+$/.test(t)){t=(255&t)<<16|65280&t|(16711680&t)>>>16;t="#"+t.toString(16)}else t=null;return t},numberFormat:function e(t,n,i){var r={3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",24:"Y","-3":"m","-6":"μ","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},o="",s;if(Number.isNaN(+t)||Number.isNaN(+n)||Number.isNaN(+i))return t;t=Number(Number(t).toPrecision(n));i-=i%3;if(i in r){o=r[i];t/=Math.pow(10,i);t=Number(t.toPrecision(n))}else if(0===i){s=Math.pow(10,n);t=Math.round(t*s)/s}return t+o},getExponent:function e(t){if(Number.isNaN(+t))throw new TypeError("Parameter is not numeric");return Number(Number(t).toExponential().split("e")[1])},hostname:s,port:a,reloadURI:f,isSecure:u,setValue:function e(t,n,i){if(!n)return;var r=n.split("."),o=t,s=r[r.length-1],a;for(a=0;a<r.length-1;++a){"undefined"===typeof o[r[a]]&&(o[r[a]]=Number.isNaN(+r[a+1])?{}:[]);o=o[r[a]]}"undefined"!==typeof i?o[s]=i:delete o[s]},getValue:function e(t,n,i){var r=n.split("."),o=t,s;if(void 0===o)return i;for(s=0;s<r.length;++s){if("undefined"===typeof o[r[s]])return i;o=o[r[s]]}return o},getParameterByName:i.getParameterByName,generateId:function e(){return r.id()},getRandomString:function e(t){var n="",i,r;for(i=0;i<t;i++){r=Math.floor(62*Math.random());n+=r<10?r:r>9&&r<36?String.fromCharCode(r+55):String.fromCharCode(r+61)}return n},escapeRegExp:function e(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")},match:function e(n,i){return"string"===typeof n?-1!==t.string(n.toLowerCase()).indexOf(t.string(i)):n instanceof Array&&n.some(function(t){return e(t,i)})},crop:function e(t,n){if(t.length>n)return t.substring(0,n);return t},isEdge:function e(){var t=navigator.userAgent;return/Edge\/\d+/.test(t)},isMSIE:function e(){var t=navigator.userAgent;return t.indexOf(" MSIE ")>-1||t.indexOf(" Trident/")>-1},isIos:function e(){return/iPad|iPhone|iPod/.test(navigator.userAgent)},isAndroid:function e(){return/Android/.test(navigator.userAgent)},isSafari:function e(){var t=navigator.userAgent;return t.indexOf("Chrome")<0&&/Safari\/\d+/.test(t)},isFirefox:function e(){var t=navigator.userAgent;return/Firefox\/\d+/.test(t)},extend:function t(){return e.extend.apply(null,arguments)},isFunction:function t(){return e.isFunction.apply(null,arguments)},isNumeric:function e(t){return!Number.isNaN(parseFloat(t))&&Number.isFinite(+t)},isInteger:function e(t){return!Number.isNaN(parseInt(t,10))&&parseFloat(t,10)===parseInt(t,10)},isPromise:function e(t){return t&&"function"===typeof t.then},qouteScript:function e(t){if(!t)return t;if(-1!==t.indexOf("[")||-1!==t.indexOf("]"))return'"'+t+'"';return"["+t+"]"},escapeField:function e(t){return t&&"]"!==t?/^[A-Za-z][A-Za-z0-9_]*$/.test(t)?t:"["+t.replace(/\]/g,"]]")+"]":t},isEmpty:function t(n){return e.isEmptyObject(n)},hasFileExtension:function e(t,n){if(n){n="."===n.substring(0,1)?n:"."+n;return t.substring(t.length-n.length).toUpperCase()===n.toUpperCase()}return false},removeExtensionFromName:function e(t,n){t.length>n.length&&this.hasFileExtension(t,n)&&(t=t.substring(0,t.length-n.length));return t},isLocalStorageSupported:function e(){var t,n="testLocalStorageSupport";try{localStorage.setItem(n,n);localStorage.removeItem(n);t=true}catch(e){t=false}return t},ellipseText:function e(t,n){var i=t;i.length>n&&(i=i.substr(0,n-3)+"...");return i},hashFromString:function e(t){var n=0,i,r;if(!t||!t.length)return n;for(r=0;r<t.length;r++){i=t.charCodeAt(r);n=(n<<5)-n+i;n&=n}return n},getUnique:function e(t){var n,i,r;var o=[];for(n=0,i=t.length;n<i;n++){r=t[n];t[n]=void 0===r?void 0:t[n];t.indexOf(r)===n&&o.push(r)}return o}};Object.defineProperty(p,"baseURI",{get:function e(){return i.baseURI}});Object.defineProperty(p,"project",{get:function e(){return p.baseURI.split("/").reverse()[1]||"sense"}});Object.defineProperty(p,"basePath",{get:function e(){return i.basePath}});r={getChar:function e(t){var n=[48,111,79,105,73,108],i;if(t>9){i=65+t-10;i>90&&(i+=6)}else t=(t+"").charCodeAt(0);return n.indexOf(i)>-1?this.getChar(t+1):String.fromCharCode(i)},base62:function e(t){var n=this.getChar(t%62),i=Math.floor(t/62);return i>0?this.base62(i)+n:n},id:function e(){var t=this.base62(Math.round(99e11*Math.random()+1e11));return t.replace(/\W/g,"")}};return p}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(208),n(90),n(11),n(199),n(138),n(519)],r=function(e,t,n,i,r,s){var a={},l="en-US",u={},c=[{short:"es",long:"es-ES",label:"Spanish",translatedLabel:"Common.Spanish"},{short:"sv",long:"sv-SE",label:"Swedish",translatedLabel:"Common.Swedish"},{short:"ja",long:"ja-JP",label:"Japanese",translatedLabel:"Common.Japanese"},{short:"en",long:"en-US",label:"English",translatedLabel:"Common.English"},{short:"de",long:"de-DE",label:"German",translatedLabel:"Common.German"},{short:"fr",long:"fr-FR",label:"French",translatedLabel:"Common.French"},{short:"it",long:"it-IT",label:"Italian",translatedLabel:"Common.Italian"},{short:"nl",long:"nl-NL",label:"Dutch",translatedLabel:"Common.Dutch"},{short:"pt",long:"pt-BR",label:"Brazilian Portuguese",translatedLabel:"Common.BrazilianPortuguese"},{short:"ru",long:"ru-RU",label:"Russian",translatedLabel:"Common.Russian"},{short:"zh",long:"zh-CN",label:"Simplified Chinese",translatedLabel:"Common.SimplifiedChinese"},{short:"zh",long:"zh-TW",label:"Traditional Chinese",translatedLabel:"Common.TraditionalChinese"},{short:"pl",long:"pl-PL",label:"Polish",translatedLabel:"Common.Polish"},{short:"tr",long:"tr-TR",label:"Turkish",translatedLabel:"Common.Turkish"},{short:"ko",long:"ko-KR",label:"Korean",translatedLabel:"Common.Korean"}],f=function e(t,n){t=t||"";n=n||[];"string"!==typeof n&&"number"!==typeof n||(n=[n]);return t.replace(/\{(\d+)\}/g,function(e,t){return"undefined"!==typeof n[t]?n[t]:e})},d=function t(n,i){var r=v.get(n.attr("data-"+i+"translation")),o=n.data(i?"title-text":"text");"undefined"!==typeof o&&"undefined"!==typeof o.value&&(r=f(r,o.value));return e.encodeForHTML(r)},p=function e(t){var n={language:null,context:"client"};if("string"===typeof t)n.language=t;else if(null!==t&&"object"===o(t)&&(t.hasOwnProperty("language")||t.hasOwnProperty("context"))){n.language=t.language||n.language;n.context=t.context||n.context}return n},h=n.Deferred(),v={contexts:{client:["common","client","engine"],dle:["common","client","engine"],dmv:["common","client","engine"]},languageList:c,append:function e(t){n.extend(a,t)},appendHelp:function e(t){n.extend(true,u,t)},apply:function e(t){n("[data-translation], [data-title-translation], [data-placeholder-translation]",t||document).addBack().each(function(){var e=n(this),t=d(e,""),i=d(e,"title-"),r=d(e,"placeholder-");t&&e.html(t);i&&e.attr("title",i);r&&e.attr("placeholder",r)});return t},get:function e(t,n){var i="undefined"!==typeof a[t]?a[t]:t;void 0!==n&&(i=f(i,n));return i},getHelp:function e(t){return u[t]},localeDetected:"",setup:function e(n){var i=p(n);var o=i.context;var s=i.language||t.getParameterByName("language");if("undefined"===typeof s||null===s){r.locale.set();s=r.locale.get()}this.localeDetected=s;b(s,o,function e(t,n){v.language=t;n.forEach(v.append);v.apply();h&&h.resolve();h=null});return v.ready}};Object.defineProperty(v,"ready",{get:function e(){if(h)return h.promise();var t=n.Deferred();t.resolve();return t.promise()}});i.LANGUAGES&&c.push({short:"pseudo",long:"pseudo",label:"pseudo"},{short:"zz",long:"zz",label:"zz"});function m(e){"pseudo"!==e.toLowerCase()&&(e=e.substring(0,2));return e.toLowerCase()}function g(e){var t;t=v.languageList.filter(function(t){return t.long.toLowerCase()===e.toLowerCase()});if(t.length)e=t[0].long;else{t=v.languageList.filter(function(t){return t.short===m(e)});t.length&&(e="zh-hk"===e.toLocaleLowerCase()||"zh-mo"===e.toLocaleLowerCase()?"zh-TW":t[0].long)}if(!t.length){window.console.warn&&window.console.warn("Language '"+e+"' not supported, falling back to '"+l+"'");e=l}return e}function b(e,t,n,i){e=g(e);Promise.all(v.contexts[t].map(function(t){return s.load(e,t)})).then(function(t){n(e,t);y(e)},function(){i||b(l,t,n,true)})}function y(e){v.languageCode=m(e);n("html").attr("lang")||n("html").attr("lang",e)}return v}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){var e=/xyz/.test(function(){var e})?/\b_super\b/:/.*/;var t=function e(){};t.extend=function t(n,i){var r=this.prototype;if("string"!==typeof n){i=n;n="Class"}var o=Object.create(this.prototype);for(var s in i)o[s]="function"===typeof i[s]&&"function"===typeof r[s]&&e.test(i[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);this._super=n;return i}}(s,i[s]):i[s];if(!/^[_a-z][_a-z\d]*$/i.test(n))throw new Error("Invalid subclass name. Alphanumericals only.");var a=new Function("return (function "+n+"(){ typeof this.init === 'function' && this.init.apply(this, [].slice.call(arguments)) });")();a.prototype=o;a.prototype.constructor=a;a.extend=t;return a};return t}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(143),n(89),n(227),n(490),n(562),n(990),n(259),n(110),n(90),n(91),n(563),n(182)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d){var p=["OnExcessLicenseAssignment","OnMaxParallelSessionsExceeded","OnLicenseAccessDenied","OnLicenseAccessDeniedPendingUserSync","OnNoAppFound","OnEngineWebsocketFailed","OnNoEngineAvailable","OnNoDataPrepServiceAvailable","OnDataPrepServiceWebsocketFailed"];var h=["OnSessionLoggedOut","OnSessionTimedOut","OnSessionClosed"];var v=["GetProperties","GetFullPropertyTree"];var m=/(?!^GetHyperCube|^GetListObject)(^Get)/i;var g=void 0;function b(t,n,r,o,s){if(t.code===l.LocalizedErrorCode.LOCERR_GENERIC_ABORTED)return;e.getService("$timeout")(function(){if(t.isHandled)return;t.isHandled=true;o&&o.hasHandlers("closed")&&"closed"===o.originalEvent?o.emit("closed",{message:"Session closed.",isHandled:t.isHandled}):o&&o.hasHandlers("error")&&"closed"!==o.originalEvent?o.emit("error",t):r?r():n?n(t):i.showDialog(t,s)},1e3)}function y(e,t,n){var i=[];if(!e.warnings)return;if(1===e.warnings.length&&e.warnings[0]===l.LocalizedWarningCode.LOCWARN_EXPORT_DATA_TRUNCATED)return;for(var o=0;o<e.warnings.length;o++)i.push({code:e.warnings[o]});n&&n.hasHandlers("warning")?n.emit("warning",e):t?t(e):r.showDialog(i)}function x(e,t,i){var r=t.handle?e.apis.getApi(t.handle):void 0;if(r&&!r.isCancelled&&i.code===l.LocalizedErrorCode.LOCERR_GENERIC_ABORTED&&m.test(t.method)){i.isHandled=true;return t.retry()}return n.reject(i)}function _(e,t,i){if(i.code===a.enums.LocalizedErrorCode.LOCERR_HC_MODAL_OBJECT_ERROR){i.isHandled=true;return e.app.abortModalSelection().then(function(){return t.retry()})}return n.reject(i)}function w(e){"undefined"===typeof e&&(e={});"undefined"===typeof e.urlParams&&(e.urlParams={});e.ttl=parseFloat(u.getParameterByName("ttl"));Number.isNaN(+e.ttl)||(e.suspendOnClose=true);"string"!==typeof e.host&&(e.host=u.hostname);"string"!==typeof e.port&&(e.port=u.port||void 0);"string"!==typeof e.prefix&&(e.prefix="/"===u.basePath?"":u.basePath);"boolean"!==typeof e.isSecure?e.secure=u.isSecure:e.secure=e.isSecure;"string"!==typeof e.reloadURI?e.urlParams.reloadUri=u.reloadURI:e.urlParams.reloadUri=e.reloadURI;if("undefined"===typeof e.identity){var t=u.getParameterByName("identity");t&&(e.identity=t)}"/"===e.prefix&&(e.prefix="");return e}var q={},C;function S(i,r){var s=q[i];if(!s){var u=r.responseInterceptors?r.responseInterceptors:[];s=o.create({Promise:e.getService("$q"),schema:a,mixins:f,url:i,suspendOnClose:r.suspendOnClose,createSocket:function e(t){return new WebSocket(t)},requestInterceptors:[{onFulfilled:function e(t,n){if(-1!==v.indexOf(n.method)){n.return_empty=true;n.delta=false}return n}}],responseInterceptors:u.concat([{onRejected:x},{onRejected:_},{onRejected:function e(t,i,o){var s="Not connected";if(o.message===s)return n.reject(o);r.qEvent&&(r.qEvent.originalEvent="error");b(o,r.onError,void 0,r.qEvent);return n.reject(o)}}])});s.sessionConfig=r;s.on("notification:*",function(e,n){var i=-1!==p.indexOf(e);var o=-1!==h.indexOf(e);function s(e){if(r.qEvent&&r.qEvent.hasHandlers("error")){r.qEvent.originalEvent="ProxyError";r.qEvent.emit("error",e)}else r.onError&&r.onError(e)}if("OnAuthenticationInformation"===e){t.parse(n);d.setServerNodeId(n.serverNodeId)}"fatal"===n.severity&&(i?c.ready.then(function(){s({method:e,message:c.get("ProxyError."+e)})}):s({method:e,message:n.message?n.message:n}));o&&(g?g():i=true);i&&b({message:"ProxyError."+e,refreshButton:true},r.onError,void 0,r.qEvent);"OnConnected"===e&&"SESSION_ERROR_NO_LICENSE"===n.qSessionState&&b({message:"SessionError.SessionErrorNoLicense",refreshButton:false},r.onError,void 0,r.qEvent,true)});s.on("traffic:received",function(e){r.qEvent&&(r.qEvent.originalEvent="traffic:received");y(e,r.onWarning,r.qEvent)});s.on("closed",function(){r.qEvent&&(r.qEvent.originalEvent="closed");c.ready.then(function(){b({code:l.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST,message:c.get("ErrorCode."+l.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST)},r.onError,r.onClose,r.qEvent)});C===q[i]&&(C=void 0);delete q[i]});q[i]=s;C=C||s}return s}function E(e,t,n){e=e||"";t.appId=e;var i=s.buildUrl(t);var r=S(i,t);return r.open().then(function(t){if(!e)return{global:t};r.openDocPromise||(r.openDocPromise=t.openDoc(e,"","","",!!n).then(function(e){e.global=t;return e}));return r.openDocPromise}).catch(function(e){if(e.srcElement instanceof WebSocket){e={message:"ErrorDialog.NoConnectionCreated"};t.qEvent&&(t.qEvent.originalEvent="error");b(e,t.onError,void 0,t.qEvent)}throw e})}function D(e,t){e=e||u.getParameterByName("app");if(!e&&!t&&C)return n.resolve(C.app);t=w(t);var i="true"===u.getParameterByName("noData");return E(e,t,i)}return{get:function e(t,n){n=w(n);return t?this.getApp(t,n):this.getGlobal(n)},getApp:function e(t,n){return D(t,n)},getSessionApp:function e(t,i){return this.getGlobal(i).then(function(e){var r=t&&"?transient="!==t?e.createSessionAppFromApp(t):e.createSessionApp();return r.then(function(t){return{global:e,app:t}}).catch(function(t){if(t.code===l.LocalizedErrorCode.LOCERR_APP_ALREADY_OPEN){t.isHandled=true;return e.getActiveDoc()}i.qEvent&&(i.qEvent.originalEvent="error");b(t,i.onError,void 0,i.qEvent);return n.reject(t)})})},getGlobal:function e(t){t=w(t);return E(void 0,t).then(function(e){return e.global})},setLogoutHandler:function e(t){g=t},_unsupported_clearSessions:function e(){q={}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(135)],r=function(e,t){var n={},i,r,o,s,a,l;n.States={analysis:0,edit:1,play:2,editstory:3,insight:4,selections:5};n.Views={overview:0,sheet:1,story:2,object:3,masterObject:4,dataManager:7,dataSpaceScriptEditor:8,dataSpaceAssociations:9,dataSpaceDataModel:10};e.mixin(n);n.notification("StateChanged");n.notification("SheetChanged");n.notification("StoryChanged");n.setState=function(e){if(e!==r){a=r;r=e;n.StateChanged.emit(i,r,l,a);i===n.Views.sheet||i===n.Views.object||i===n.Views.masterObject?t.setUrl(t.buildUrl("sheet",o.layout.qInfo.qId,"state",Object.keys(n.States)[e])):i===n.Views.story&&t.setUrl(t.buildUrl("story",o.layout.qInfo.qId,"state",Object.keys(n.States)[e],"slide",s))}};n.setView=function(e){if(e!==i){l=i;i=e;e===n.Views.overview&&(o=null);n.StateChanged.emit(i,r,l,a)}};n.setSheet=function(e,t){var s=false;if(e!==o){o=e;l=i;i=n.Views.sheet;n.SheetChanged.emit(e);s=true}if(n.States[t]!==r){a=r;r=n.States[t]||n.States.analysis;s=true}s&&n.StateChanged.emit(i,r,l,a)};n.setStory=function(e,t,u){var c=false;if(e!==o){o=e;l=i;i=n.Views.story;n.StoryChanged.emit(e,u);c=true}else s!==u&&n.StoryChanged.emit(e,u);s=u;if(n.States[t]!==r){a=r;r=n.States[t]||n.States.editstory;c=true}c&&n.StateChanged.emit(i,r,l,a)};n.isInAnalysisMode=function(){return r===n.States.analysis};n.isInEditMode=function(){return r===n.States.edit};n.inStoryPlayState=function(){return n.inStorytelling()&&r===n.States.play};n.inStorytelling=function(){return i===n.Views.story};n.inAppOverView=function(){return i===n.Views.overview};n.inDataManager=function(){return i===n.Views.dataManager};n.inDataSpaceScriptEditor=function(){return i===n.Views.dataSpaceScriptEditor};n.inDataSpaceDataModel=function(){return i===n.Views.dataSpaceDataModel};n.inDataSpaceAssociations=function(){return i===n.Views.dataSpaceAssociations};n.inSheetView=function(){return i===n.Views.sheet};n.inObjectView=function(){return i===n.Views.object};n.inMasterObjectView=function(){return i===n.Views.masterObject};n.getModel=function(){return n.model};n.getAllStateKeys=function(){return Object.keys(n.States)};n.reset=function(){i=null;r=null;o=null;s=null;a=null;l=null};Object.defineProperties(n,{state:{get:function e(){return r}},view:{get:function e(){return i}},model:{get:function e(){return o},set:function e(t){o=t}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){this.topics={};this.wildcards=[]}e.prototype.getTopics=function(e,t){var n=this.topics[e];if("undefined"===typeof n&&t){n=[];this.topics[e]=n}return n};e.prototype.createMatcher=function(e){e=e.replace(/\$/g,"\\$");return new RegExp("^"+e.replace(/\*/g,".+?")+"$","i")};e.prototype.subscribe=function(e,t,n){e=e.toLowerCase().split(".");if("function"!==typeof t)throw new Error("pubsub: Invalid handler");var i={handler:t,topic:e[0],namespace:e[1],context:n||window};if(e[0].indexOf("*")>-1){i.matcher=this.createMatcher(e[0]);this.wildcards.push(i)}else this.getTopics(e[0],true).push(i)};e.prototype.subscribeOnce=function(e,t,n){var i=this;function r(){t.apply(this,arguments);i.unsubscribe(e,t)}r.original=t;this.subscribe(e,r,n)};e.prototype.unsubscribe=function(e,t){e=e.toLowerCase();this["."===e[0]?"unsubscribeNamespace":"unsubscribeTopic"](e,t)};e.prototype.unsubscribeNamespace=function(e){e=e.substr(1);var t;function n(t){return t.namespace!==e}this.wildcards=this.wildcards.filter(n);for(t in this.topics){this.topics[t]=this.topics[t].filter(n);this.topics[t].length||delete this.topics[t]}};e.prototype.unsubscribeTopic=function(e,t){e=e.split(".");var n=this.getTopics(e[0]);function i(n){var i=n.topic!==e[0];!i&&t&&(i=n.handler.original?n.handler.original!==t:n.handler!==t);return i}this.wildcards=this.wildcards.filter(i);if(n){n=n.filter(i);this.topics[e[0]]=n;n.length||delete this.topics[e[0]]}};e.prototype.publish=function(e,t){e=e.toLowerCase().split(".");var n=this.getTopics(e[0]);function i(n){(!n.matcher||n.matcher&&n.matcher.test(e[0]))&&n.handler.call(n.context,t,e[0])}this.wildcards.forEach(i);n&&n.forEach(i)};return new e}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(96),n(95),n(523)],r=function(e,t,n){var i=250,r=false,o=n.isNeeded()?new n:null,s;function a(e){r=true;u("/resize/start",e)}function l(e){u("/resize/end",e);r=false}function u(e,n){t.publish(e,{width:window.innerWidth,height:window.innerHeight,element:n.target})}function c(e){if(e.target!==window&&e.target!==document)return;r||a(e);clearTimeout(s);u("/resize/update",e);s=setTimeout(function(){l(e)},i)}function f(e){if(o)o.rotate(function(){a(e);l(e)});else{a(e);l(e)}}e.utils.touch&&"ondeviceorientation"in window&&window.addEventListener("orientationchange",f,false);o||window.addEventListener("resize",c,false);return{on:function e(n,i){t.subscribe("/resize/"+n,i)},off:function e(n,i){t.unsubscribe("/resize/"+n,i)},force:function e(n){n=n||"end";t.publish("/resize/"+n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(96),n(308)],r=function(e,t){var n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var i={AUTO:"auto",TOUCH:"touch",DESKTOP:"desktop"};function r(e){if("string"!==typeof e||!i[e.toUpperCase()])throw new Error("Invalid device type");t.deviceType=e}function o(){var n=t.deviceType;if(n===i.AUTO){if(e.utils.msPointer&&(0===window.navigator.msMaxTouchPoints||0===window.navigator.maxTouchPoints))return true;if(e.utils.msPointer&&(window.navigator.msMaxTouchPoints>0||window.navigator.maxTouchPoints>0))return false;return!e.utils.touch}return n===i.DESKTOP}function s(n){var r=t.deviceType;if(r===i.AUTO)return e.utils.isMouse(n);return r===i.DESKTOP}function a(){return n}return{setDeviceType:r,treatAsDesktop:o,isMouse:s,getMouseWheelEventName:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(102),n(162),n(1062),n(599),n(603),n(327),n(49),n(261),n(193)],r=function(e,t,n,i,r,o,s,a){var l="sense";var u=null;var c=[];var f={};var d={};var p=true;var h={};var v=new r({providers:{default:true,qrs:!a.getFlag("DISABLE_ONPREM_THEMES"),rls:a.getFlag("CLOUD_THEMES")}});function m(){c.forEach(function(e){e.node.parentNode.removeChild(e.node);o.toggleCssClass(e.cssClass,false)});c=[]}t.create(h,"ThemeChanged");h.getCurrentTheme=function(){return u||l};h.applyTheme=function(t){var n=new e;t===u&&n.resolve(true);v.getRawJson(t).then(function(e){var r=o.parseTheme(e,i,true);u&&m();v.getThemePath(t).then(function(e){v.getResourceUrlParams(t).then(function(i){c=o.injectExtraStyleNodes(r,e,i);f=r;u=t;Object.keys(d).forEach(function(e){d[e].setTheme(u,f)});y();h.ThemeChanged.emit();n.resolve(true)})})}).catch(function(){n.resolve(false)});return n.promise};h.getThemeJSON=function(t){var n=new e;v.getRawJson(t).then(function(e){n.resolve(o.parseTheme(e,i,true))}).catch(function(e){n.reject(e)});return n.promise};h.saveTheme=function(e){n.setProperties({theme:e||h.getCurrentTheme()})};h.isValidTheme=function(t){return v.getType(t).then(function(){return e.resolve(true)}).catch(function(){return e.resolve(false)})};h.getAvailableThemes=function(){return v.getAvailableThemes()};h.getCustomThemesPage=function(e){return v.getCustomThemesPage(e)};h.getPagesTotal=function(){return v.getPagesTotal()};Object.defineProperty(h,"currentPalette",{iterable:false,get:function e(){var t;t=f.palettes&&f.palettes.ui&&f.palettes.ui[0]?f.palettes.ui[0].colors:i.palettes.ui[0].colors;"none"!==t[0]&&t.unshift("none");return t}});Object.defineProperty(h,"smallPalette",{iterable:false,get:function e(){return g}});Object.defineProperty(h,"firstPalette",{iterable:false,get:function e(){return f.palettes&&f.palettes.ui&&f.palettes.ui[0]?f.palettes.ui[0]:i.palettes.ui[0]}});Object.defineProperty(h,"themePalettes",{iterable:false,get:function e(){var t=[],n;for(var r=0;r<f.palettes.ui.length;r++)if(f.palettes&&f.palettes.ui&&f.palettes.ui[r]){n=f.palettes.ui[r];t.push(n)}else{n=i.palettes.ui[0];t.push(n)}return t}});Object.defineProperty(h,"deprecatedPalette",{iterable:false,get:function e(){return g}});Object.defineProperty(h,"scales",{iterable:false,get:function e(){return f.scales||i.scales}});Object.defineProperty(h,"dataPalettes",{iterable:false,get:function e(){return f.palettes&&f.palettes.data||i.palettes.data}});Object.defineProperty(h,"dataColors",{iterable:false,get:function e(){return f.dataColors||i.dataColors}});h.initializeService=function(e){d[e]||(d[e]=new s(e,u,f));return d[e]};h.getMatch=function(e){var t,n={linechart:"lineChart",barchart:"barChart",scatterplot:"scatterPlot",piechart:"pieChart",straightable:"straightTable",pivottable:"pivotTable",table:"straightTable","pivot-table":"pivotTable",listbox:"listBox",referenceline:"referenceLine",datacolors:"dataColors","text-image":"textImage",boxplot:"boxPlot",map:"mapChart",mapchart:"mapChart"};t=n[e.toLowerCase()]?n[e.toLowerCase()]:e;return t};var g=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];var b=["none","#ffffff","#46c646","#276e27","#b6d7ea","#7db8da","#4477aa","#8e477d","#ffcf02","#f8981d","#f93f17","#633d0c","#b0afae","#7b7a78","#545352","#000000"];function y(){var e=h.currentPalette;var t=true;e.forEach(function(e,n){b[n]&&b[n].toLowerCase()===e.toLowerCase()||(t=false)});p=t}h.resolveColor=function(e,t){t=t||h.currentPalette;if("undefined"!==typeof e&&null!==e){if(void 0!==e.index&&-1!==e.index&&t[e.index])return t[e.index];if(void 0!==e.color)return e.color?e.color:"none";if(p&&g[e])return g[e];if(t[e])return t[e];return e||"none"}return"none"};h.mapIndex=function(e,t,n){n=n||h.currentPalette;var i=t?n:g,r=t?g:n;e=r.indexOf(i[e]);return-1!==e?e:t?3:6};h.getPaletteScale=function(e,t){var n=this.dataPalettes;var i;n.some(function(t){if(t.propertyValue.toLowerCase()===e.toLowerCase()){i=t;return true}return false});i||(i=n[0]);if("pyramid"===i.type){t=t||i.scale.length;var r=Math.max(Math.min(i.scale.length-1,t-1)%i.scale.length,0);return i.scale[r]}return i.scale};h.hasCardLayout=function(){return!!f._cards};u=l;f=o.parseTheme(i,i,true);return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(90)],r=function(e){function t(e){return"object"===o(e.items)&&"array"!==e.type&&("items"===e.type||"items"===e.component||"expandable-items"===e.component||"accordion"===e.component||!e.type&&!e.component)}function n(e,t,n){if("string"!==typeof t)return t;switch(e){case"integer":t=parseInt(t,10);Number.isNaN(+t)&&(t=n);break;case"number":t=parseFloat(t);Number.isNaN(+t)&&(t=n);break;case"boolean":t="true"===t;break}return t}function i(e,t){if("function"===typeof t.defaultValue)return t.defaultValue();if("undefined"!==typeof t.defaultValue)return t.defaultValue;if(Array.isArray(t.options))return t.options[0].value;switch(e){case"array":return[];case"string":return"";case"integer":return 0;case"number":return 0;case"boolean":return false;default:return null}}function r(n){var r={};function o(n){var s,a,l;if(n.schemaIgnore)return;if(t(n)){s=Object.keys(n.items);for(l=0;l<s.length;l++){a=n.items[s[l]];a&&o(a)}}else n.ref&&!n.schemaIgnore&&e.setValue(r,n.ref,i(n.type,n))}if("array"===n.type&&n.items){r={};o({type:"items",items:n.items})}else o(n);return r}function s(e,t){return"undefined"!==typeof t.undefinedValue?t.undefinedValue:i(e,t)}return{getValue:e.getValue,setValue:e.setValue,getTypeValue:n,getDefaultValue:i,getDefaults:r,isHierarchical:t,getUndefinedValue:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=[];var t=false;var n=false,i,r;i=function i(r,o){if(true!==n)throw new Error("This class can't be instantiated directly.");this.observers=[];this.receiver=r;Object.defineProperty(this,"name",{get:function e(){return o}});t&&e.push(this)};i.prototype.bind=function e(t){if("function"!==typeof t)throw new Error("Observer must be a function.");if(t===i.prototype.emit)throw new Error("Observer cannot be proxied this way. Use a wrapper function.");this.observers.push(t)};i.prototype.once=function e(t){var n=this;function i(){n.unbind(i);t.apply(n.receiver,arguments)}i.onceObserver=t;n.bind(i)};i.prototype.unbind=function e(t){var n;n=this.observers.reduce(function(e,n,i){if(-1!==e)return e;if(n===t||n.onceObserver===t)return i;return-1},-1);-1!==n&&this.observers.splice(n,1)};i.prototype.emit=function e(){var t=this.receiver,n=Array.prototype.slice.call(arguments),i=this.observers.slice();i.forEach(function(e){e.apply(t,n)})};i.prototype.release=function(){var e=this.receiver;delete e[this.name];Object.keys(r.prototype).forEach(function(t){delete e[t]});this.receiver=null;this.observers=null};i.create=function e(t,r){if(!t)throw new Error("Not a valid receiver.");if("string"!==typeof r)throw new Error("Nofification name not optional.");if(!/^([A-Z][a-z]+)+$/.test(r))throw new Error("The notification name must be PascalCased.");if(r in t)throw new Error("A property named '"+r+"' is already present on the receiver.");n=true;t[r]=new i(t,r);n=false;return t[r]};i.mixin=function(e){if(!e)throw new Error("Not a valid receiver.");Object.keys(r.prototype).forEach(function(t){if(t in e)throw new Error("A property named '"+t+"' is already present on the receiver.");e[t]=r.prototype[t]})};i.release=function(e){Object.keys(e).forEach(function(t){var n=e[t];n instanceof i&&n.release()})};r={prototype:{notification:function e(t){return i.create(this,t)}}};false;return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(2),n(94),n(991),n(49),n(14),n(90),n(378)],r=function e(t,n,i,r,o,s,a){var l="de-senseclient-usagemetrics";var u=30;var c=o.getProductInfoSync();var f;var d;function p(e){return{productName:s.getValue(e,"composition.productName"),productId:s.getValue(e,"composition.senseId"),deploymentEnv:s.getValue(e,"composition.deploymentEnvironment")}}var e={_qm:null,_eventQueue:[],_enabled:true,init:function n(i,o,l){d=l;if(!r.getFlag("CLIENT_METRICS")||this._qm){this._enabled=!!r.getFlag("CLIENT_METRICS");return}if(r.getFlag("HAS_QRS")){var u=s.getRandomString(16);var p=(s.basePath||"/")+"qrs/datacollection/settings?";p+="xrfKey="+u;t.request({url:p,method:"GET",headers:{"Content-Type":"application/json","X-Qlik-XrfKey":u}}).then(function(t){if(false===s.getValue(t,"data.optIn",null)){e._enabled=false;return}h()}).catch(h)}else h();function h(){i.getAuthenticatedUser().then(function(t){var n="no-id";if("string"===typeof t&&t.toLowerCase().indexOf("userdirectory")>-1&&t.toLowerCase().indexOf("userid")>-1){var i=t.split(";").map(function(e){return e.split("=")}).reduce(function(e,t){return e.concat([t[1].trim()])},[]);var r=i[0]?i[0]:void 0;var o=i[1]?i[1]:void 0;var s=void 0!==r&&void 0!==o&&"none"===r.toLowerCase()&&0===o.toLowerCase().indexOf("anonymous");n=s?"anonymous_"+(1234567890*Math.random()).toString(32):r+"_"+o;n=a(n)}e._initQlikMetrics(n);e._processEventsInQueue()})}f=!o?this.customEvents.SENSE_CLIENT:o;var v={components:c.components,composition:c.composition};d&&(v.appInfo={isRtl:!!d.isRtl||false,theme:d.theme||"sense",published:!!d.published});this.trackEvent(this.customEvents.CLIENT_LOADED,v)},_initQlikMetrics:function t(n){e._qm=new i({apiKey:"Kt1Hy2dvEOa39mRMvSQLRaEOk7E6l28M229QmWt2",integrationId:l,productInfo:p(c)});e._qm.setPropOnEvents("userId",n);e._qm.setPropOnEvents("version","6.105.4");e._qm.start()},_processEventsInQueue:function e(){var t;while(this._eventQueue.length>0){t=this._eventQueue.shift();this._sendEvent(t.eventName,t.details)}},_sendEvent:function t(i,r){var o={currentState:n.state,currentView:n.view,details:r,appId:d?d.appId:""};e._qm.trackEvent(i,o,f)},trackEvent:function t(n,i){if(!this._enabled)return;e._qm?this._sendEvent(n,i):this._eventQueue.length<u&&this._eventQueue.push({eventName:n,details:i})},customEvents:{CLIENT_LOADED:"client_loaded",SENSE_CLIENT:"sense-client",CLIENT_VIEW_LOADED:"client_view_loaded",CLIENT_STATE_LOADED:"client_state_loaded",DATA_LOAD_CLICK:"data_load_click",DATA_LOAD_EDITOR:"data_load_editor",DATA_LOAD_ELAPSED_TIME:"data_load_elapsed_time",DATA_MANAGER_LOAD:"data_manager_load",TABLE_VIEW_CLICK:"table_view_click",BUBBLE_VIEW_CLICK:"bubble_view_click",LOAD_DATA_CLICK:"load_data_click",REFRESH_DATA_FROM_SOURCE:"refresh_data_from_source",ADD_DATA_BY_CONNECTOR:"add_data_by_connector",ADD_DATA_BY_CONNECTOR_SCRIPT_EDITOR:"add_Data_by_connector_script_editor",FOLDER_CLICK:"folder_click",CONNECTOR_CLICKED:"connector_clicked",PAGE_RENDER_ERROR:"page_render_error",VIEW_LOAD_ERROR:"view_load_error",VIEW_RENDER_ERROR:"view_render_error",EXTENSION_LOAD_ERROR:"extension_load_error",INSIGHTS_CLICKED:"insights_clicked",INSIGHTS_SEARCH:"insights_search",INSIGHTS_ADD_CHART:"insights_add_chart",INSIGHTS_EXPORT:"insights_export",INSIGHTS_FIELD_PICKER:"insights_field_picker",INSIGHTS_TYPED_QUERY:"insights_typed_query",INSIGHTS_FLIP_TO_TABLE:"insights_flip_to_table",GLOBAL_SELECTIONS_CLICKED:"global_selections_clicked",EXPLORE_SELECTIONS_OPENED:"explore_selections_opened",ASSOCIATIVE_INSIGHTS_GENERATED:"associative_insights_generated",NEW_SELECTION_MADE:"new_selection_made",NEW_MEASURE_CHOSEN:"new_measure_chosen",ASSOCIATIVE_INSIGHTS_CARD_CLICKED:"associative_insights_card_clicked",SELECT_POSSIBLE_CLICKED:"select_possible_clicked",SELECT_EXCLUDED_CLICKED:"select_excluded_clicked",INSIGHTS_CONFIDENCE_INDICATOR_CLICKED:"confidence_indicator_clicked",INSIGHTS_HIDE_CHART_CLICKED:"hide_chart_clicked",INSIGHTS_HELP_US_LEARN_CLICKED:"insights_help_us_learn_clicked",INSIGHTS_NOT_A_DIMENSION_CLICKED:"insights_not_a_dimension_clicked",INSIGHTS_NOT_A_MEASURE_CLICKED:"insights_not_a_measure_clicked",INSIGHTS_NEVER_PROPOSE_FIELD_CLICKED:"insights_never_propose_field_clicked",INSIGHTS_NEVER_PROPOSE_LIB_CLICKED:"insights_never_propose_lib_clicked",INSIGHTS_PROPOSE_FIELD_AGAIN_CLICKED:"insights_propose_field_again_clicked",INSIGHTS_LIGHT_EDITING_DRAG_AND_DROP:"insights_light_editing_drag_and_drop",INSIGHTS_LIGHT_EDITING_AGGREGATION_CHANGE:"insights_light_editing_aggregation_change",INSIGHTS_LIGHT_EDITING_FIELD_CHANGE:"insights_light_editing_field_change",INSIGHTS_REFRESH_CLICKED:"insights_refresh_clicked",INSIGHTS_LEARN_CLICKED:"insights_learn_clicked",STU_SET_NULLS_CLICK:"stu_set_nulls_click",STU_REPLACE_CLICK:"stu_replace_click",STU_REORDER_CLICK:"stu_reorder_click",STU_SPLIT_CLICK:"stu_split_click",STU_BUCKETING_CLICK:"stu_bucketing_click",GETTING_STARTED_QUICK_DATA_LOAD:"getting_started_quick_data_load",GETTING_STARTED_DATA_LOAD_EDITOR:"getting_started_data_load_editor",DATA_MANAGER_TABLES_COUNT:"data_manager_tables_count",DATA_MANAGER_TIME_SPENT:"data_manager_time_spent",APPLY_UNPIVOT:"apply_unpivot",ADD_CALCULATED_FIELD:"add_calculated_field",CONCATENATE_TABLES:"concatenate_tables",DATA_MODEL_VIEWER:"data_model_viewer",DATA_MODEL_VIEWER_LOAD:"data_model_viewer_load",DATA_LOAD_WITHOUT_TRANSFORMATION:"data_load_without_transformation",CHART_CREATED:"chart_created",CHART_DELETED:"chart_deleted",SHEET_RENDERED:"sheet_rendered",EXTENSION_PAINT_ERROR:"extension_paint_error",DOWNLOAD_DIALOG_OPEN:"download_dialog_open",DOWNLOAD_CONFIRMED:"download_confirmed",CONTAINER_RENDERED:"container_rendered",CONTAINER_ADD_CHART:"container_add_chart",CONTAINER_REMOVE_CHART:"container_remove_chart",CONTAINER_SET_ACTIVE:"container_set_active"}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(226)],r=function(e){function t(e,t,n,i){0===arguments.length?this.set(0,0,0,0):this.set(e,t,n,i)}t.prototype={toString:function e(){return this.x+" "+this.y+" "+this.width+" "+this.height},clone:function e(){return new t(this.x,this.y,this.width,this.height)},set:function e(t,n,i,r){if(i>=0){this.x=t;this.width=i}else{this.x=t+i;this.width=-i}if(r>=0){this.y=n;this.height=r}else{this.y=n+r;this.height=-r}},setLTRB:function e(t,n,i,r){if(t<=i){this.x=t;this.width=i-t}else{this.x=i;this.width=t-i}if(n<=r){this.y=n;this.height=r-n}else{this.y=r;this.height=n-r}},equal:function e(t){return t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},combineWith:function e(n){var i,r,o,s,a=Math.max(n.getRight(),this.getRight()),l=Math.max(n.getBottom(),this.getBottom());i=Math.min(n.x,this.x);r=Math.min(n.y,this.y);o=Math.max(0,a-i);s=Math.max(0,l-r);return new t(i,r,o,s)},intersectsWith:function e(t){if(!t)return false;if(this.x<=t.getRight()&&t.x<=this.getRight()&&this.y<=t.getBottom()&&t.y<=this.getBottom())return true;return false},intersectsRect:function e(t){return this.intersectsWith(t)},intersection:function e(n,i){var r,o,s,a;if(this.intersectsWith(n)){r=Math.max(this.x,n.x);o=Math.max(this.y,n.y);s=Math.min(this.getRight(),n.getRight());a=Math.min(this.getBottom(),n.getBottom());return new t(r,o,s-r,a-o)}return i?null:new t(this.x,this.y,this.width,this.height)},union:function e(n){var i,r,o,s;i=Math.min(this.x,n.x);r=Math.min(this.y,n.y);o=Math.max(this.getRight(),n.getRight());s=Math.max(this.getBottom(),n.getBottom());return new t(i,r,o-i,s-r)},pointInside:function e(t,n){return t>=this.x&&t<=this.getRight()&&n>=this.y&&n<=this.getBottom()},rectInside:function e(t){var n=t.getPoints(),i;for(i=0;i<4;i++)if(!this.pointInside(n[i].x,n[i].y))return false;return true},intersectsLine:function t(n){var i=this.getRight(),r=this.getBottom();if(this.pointInside(n.x1,n.y1)||this.pointInside(n.x2,n.y2))return true;if(n.intersectsLine(new e(this.x,this.y,i,this.y))||n.intersectsLine(new e(i,this.y,i,r))||n.intersectsLine(new e(i,r,this.x,r))||n.intersectsLine(new e(this.x,r,this.x,this.y)))return true;return false},getPoints:function e(){var t=[];t.push({x:this.x,y:this.y});t.push({x:this.getRight(),y:this.y});t.push({x:this.getRight(),y:this.getBottom()});t.push({x:this.x,y:this.getBottom()});return t},getRight:function e(){return this.x+this.width},getBottom:function e(){return this.y+this.height},getCenterPoint:function e(){return{x:this.x+this.width/2,y:this.y+this.height/2}},getBoundingRect:function e(){return this},scale:function e(t){var n=t-1,i=n*this.width/2,r=n*this.height/2;this.x-=i;this.y-=r;this.width*=t;this.height*=t},hasNaN:function e(){return Number.isNaN(+this.x)||Number.isNaN(+this.y)||Number.isNaN(+this.width)||Number.isNaN(+this.height)}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=null;function t(e,t,n,i){t=t||"model";var r=function i(){var r=this;var o=this.getLayout();e.__layoutRPCId=o.rpcId;o.then(function(i){var o=e.$eval(t);if(o!==r)return;n&&n(i)}).catch(function(){})},o,s,a;function l(){var n=e.$eval(t);n&&n.Invalidated&&n.Invalidated.unbind(o)}a=e.$on("$destroy",function(){l()});s=e.$watch(t,function(e,t){t&&t!==e&&t.Invalidated&&t.Invalidated.unbind(o);if(e&&(!e.isClosing||!e.isClosed)){i&&i(e);e.getLayout().then(n);o=r.bind(e);e.Invalidated.bind(o)}});return function(){l();s();a();n&&(n=null);i&&(i=null)}}function n(){return(e||t).apply(this,arguments)}n.mock=function(t){e=t};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{name:{value:255,writable:false},url:{value:2e3,writable:false},description:{value:512,writable:false},expression:{value:64e3,writable:false},script:{value:5e4,writable:false},textImage:{value:12e3,writable:false}});return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(49)],r=function(e,t){var n={};var i=null;n.setup=function(){var r=t.getFlag("IS_DESKTOPCLIENT");if(!i){i=new e;n.sessionPromise=i.promise;i.resolve({isPersonalMode:r})}return i.promise};n.inClient=function(){return document.body.classList.contains("qv-client")&&!document.body.classList.contains("qw")};n.isPersonalModeSync=function(){var e=t.getFlag("IS_DESKTOPCLIENT");false;return e};n.isPersonalMode=function(){return Promise.resolve(n.isPersonalModeSync())};n.isDesktop=n.isPersonalMode;n.isCloud=function(){false;return Promise.resolve(false)};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(605)],r=function(e,t){var n=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,i=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d(\.\d+)?)\)$/i,r=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i,o=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i,s=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i,a=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i,l=Math.floor,u=Math.round,c;c=e.extend({init:function e(){var n=0,i=0,r=0,o=1,s,a,f,d,p,h,v,m,g,b,y,x;this._invalid=false;if(arguments[0]instanceof c){n=arguments[0]._r;i=arguments[0]._g;r=arguments[0]._b;o=arguments[0]._a;this._invalid=arguments[0]._invalid}else if(arguments.length<3)if("string"===typeof arguments[0]){x=arguments[0];if(y=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(x)){n=parseInt(y[1],10);i=parseInt(y[2],10);r=parseInt(y[3],10)}else if(y=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(x)){n=parseInt(y[1],10);i=parseInt(y[2],10);r=parseInt(y[3],10);o=parseFloat(y[4])}else if(y=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(x)){n=parseInt(y[1],16);i=parseInt(y[2],16);r=parseInt(y[3],16);o=1}else if(y=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(x)){n=parseInt(y[1]+y[1],16);i=parseInt(y[2]+y[2],16);r=parseInt(y[3]+y[3],16);o=1}else if(y=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(x)){s=parseFloat(y[1]);a=parseFloat(y[3]);d=parseFloat(y[5]);s%=360;a/=100;d/=100;s=s<0?0:s>360?360:s;a=a<0?0:a>1?1:a;d=d<0?0:d>1?1:d;h=d<=.5?2*d*a:(2-2*d)*a;v=s/60;m=h*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[h,m,0];break;case 1:g=[m,h,0];break;case 2:g=[0,h,m];break;case 3:g=[0,m,h];break;case 4:g=[m,0,h];break;case 5:g=[h,0,m];break;default:g=[0,0,0]}b=d-.5*h;n=g[0]+b;i=g[1]+b;r=g[2]+b;n=u(255*n);i=u(255*i);r=u(255*r);o=1}else if(y=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(x)){s=parseFloat(y[1]);a=parseFloat(y[3]);d=parseFloat(y[5]);o=parseFloat(y[7]);s%=360;a/=100;d/=100;s=s<0?0:s>360?360:s;a=a<0?0:a>1?1:a;d=d<0?0:d>1?1:d;h=d<=.5?2*d*a:(2-2*d)*a;v=s/60;m=h*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[h,m,0];break;case 1:g=[m,h,0];break;case 2:g=[0,h,m];break;case 3:g=[0,m,h];break;case 4:g=[m,0,h];break;case 5:g=[h,0,m];break;default:g=[0,0,0]}b=d-.5*h;n=g[0]+b;i=g[1]+b;r=g[2]+b;n=u(255*n);i=u(255*i);r=u(255*r)}else if(y=/^hsv\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(x)){s=parseFloat(y[1]);a=parseFloat(y[3]);p=parseFloat(y[5]);s%=360;a/=100;p/=100;s=s<0?0:s>360?360:s;a=a<0?0:a>1?1:a;p=p<0?0:p>1?1:p;h=p*a;v=s/60;m=h*(1-Math.abs(v%2-1));g=[];v=Math.floor(v);switch(v){case 0:g=[h,m,0];break;case 1:g=[m,h,0];break;case 2:g=[0,h,m];break;case 3:g=[0,m,h];break;case 4:g=[m,0,h];break;case 5:g=[h,0,m];break;default:g=[0,0,0]}b=p-h;n=g[0]+b;i=g[1]+b;r=g[2]+b;n=u(255*n);i=u(255*i);r=u(255*r);o=1}else if(t[x.toLowerCase()]){f=x.toLowerCase();n=t[f].r;i=t[f].g;r=t[f].b;o="number"===typeof t[f].a?t[f].a:1}else this._invalid=true}else if("number"===typeof arguments[0]&&arguments[0]>=0&&"argb"===arguments[1]){o=(4278190080&arguments[0])>>>24;o/=255;n=(16711680&arguments[0])>>16;i=(65280&arguments[0])>>8;r=255&arguments[0]}else if("number"===typeof arguments[0]&&arguments[0]>=0){n=(16711680&arguments[0])>>16;i=(65280&arguments[0])>>8;r=255&arguments[0]}else this._invalid=true;else if(arguments.length>=3){n=arguments[0];i=arguments[1];r=arguments[2];o=arguments.length>=4?arguments[3]:1}else this._invalid=true;Number.isNaN(+n+i+r+o)&&(this._invalid=true);this._r=l(n);this._g=l(i);this._b=l(r);this._a=o;this._spaces={}},isInvalid:function e(){return this._invalid},setAlpha:function e(t){this._a=t;this._spaces={}},getAlpha:function e(){return this._a},toRGB:function e(){this._spaces.rgb||(this._spaces.rgb=c.toRGB(this));return this._spaces.rgb},toRGBA:function e(){this._spaces.rgba||(this._spaces.rgba=c.toRGBA(this));return this._spaces.rgba},toString:function e(){this._spaces.rgb||(this._spaces.rgb=c.toRGB(this));return this._spaces.rgb},toHex:function e(){this._spaces.hex||(this._spaces.hex=c.toHex(this));return this._spaces.hex},toHSL:function e(t){this._spaces.hsl||(this._spaces.hsl=c.toHSL(this,t));return this._spaces.hsl},toHSLA:function e(t){this._spaces.hsla||(this._spaces.hsla=c.toHSLA(this,t));return this._spaces.hsla},toHSV:function e(){var t=this.toHSVComponents();return"hsv("+t.h+","+t.s+","+t.v+")"},toHSVComponents:function e(){this._spaces.hsvComp||(this._spaces.hsvComp=c.toHSVComponents(this));return this._spaces.hsvComp},toNumber:function e(){this._spaces.num||(this._spaces.num=c.toNumber(this));return this._spaces.num},isDark:function e(){return this.isInvalid()||this.getLuminance()<125},getLuminance:function e(){"undefined"===typeof this._lumi&&(this._lumi=.299*this._r+.587*this._g+.114*this._b);return this._lumi},shiftLuminance:function e(t){var n,i,r,o,s,a=this.toHSLA();s=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(a);n=parseFloat(s[1]);i=parseFloat(s[3]);r=parseFloat(s[5]);o=parseFloat(s[7]);r+=t;r=Math.max(0,Math.min(r,100));return"hsla("+n+","+i+","+r+","+o+")"},isEqual:function e(t){if(t instanceof c)return this._r===t._r&&this._g===t._g&&this._b===t._b;t=new c(t);return this._r===t._r&&this._g===t._g&&this._b===t._b},blend:function e(t,n){var i=l(this._r+(t._r-this._r)*n),r=l(this._g+(t._g-this._g)*n),o=l(this._b+(t._b-this._b)*n),s=l(this._a+(t._a-this._a)*n);return"rgba("+[i,r,o,s].join(",")+")"},createShiftedColor:function e(t){(void 0===t||Number.isNaN(+t))&&(t=1);var n=this.getLuminance(),i=this._g<126?1:1+this._g/512,r=this.shiftLuminance(20*(n*i<220?.8+1/(n+1)*4:-(.8+n/255*1))*t);return new c(r)}});c.toRGB=function e(t){if(t instanceof c)return"rgb("+[t._r,t._g,t._b].join(",")+")";"string"===typeof t&&(t=c.toNumber(t));var n=(16711680&t)>>16,i=(65280&t)>>8,r=255&t;return"rgb("+n+","+i+","+r+")"};c.toRGBA=function e(t,n){if(t instanceof c)return"rgba("+[t._r,t._g,t._b,"undefined"!==typeof n?n:t._a].join(",")+")";"string"===typeof t&&(t=c.toNumber(t));var i=(16711680&t)>>16,r=(65280&t)>>8,o=255&t;return"rgba("+i+","+r+","+o+","+("undefined"!==typeof n?n:t._a)+")"};c.toHex=function e(t){var n,i,r;if(t instanceof c){n=t._r.toString(16);i=t._g.toString(16);r=t._b.toString(16);1===n.length&&(n="0"+n);1===i.length&&(i="0"+i);1===r.length&&(r="0"+r);return"#"+[n,i,r].join("")}"string"===typeof t&&(t=c.toNumber(t));n=((16711680&t)>>16).toString(16);i=((65280&t)>>8).toString(16);r=(255&t).toString(16);1===n.length&&(n="0"+n);1===i.length&&(i="0"+i);1===r.length&&(r="0"+r);return"#"+n+i+r};c.toHSL=function(e,t){var n,i,r,o=0,s,a,l,u,f;"string"===typeof e&&(e=new c(e));n=e._r/255;i=e._g/255;r=e._b/255;l=Math.max(n,i,r);u=Math.min(n,i,r);a=t?.21*n+.72*i+.07*r:(l+u)/2;if(l===u){s=0;o=0}else{f=l-u;s=a>.5?f/(2-l-u):f/(l+u);switch(l){case n:o=(i-r)/f+(i<r?6:0);break;case i:o=(r-n)/f+2;break;case r:o=(n-i)/f+4;break}o/=6}return"hsl("+360*o+","+100*s+","+100*a+")"};c.toHSLA=function(e,t){var n,i,r,o,s=0,a,l,u,f,d;"string"===typeof e&&(e=new c(e));n=e._r/255;i=e._g/255;r=e._b/255;o=e._a;u=Math.max(n,i,r);f=Math.min(n,i,r);l=t?.21*n+.72*i+.07*r:(u+f)/2;if(u===f){a=0;s=0}else{d=u-f;a=l>.5?d/(2-u-f):d/(u+f);switch(u){case n:s=(i-r)/d+(i<r?6:0);break;case i:s=(r-n)/d+2;break;case r:s=(n-i)/d+4;break}s/=6}return"hsla("+360*s+","+100*a+","+100*l+","+o+")"};c.toHSVComponents=function(e){var t,n,i,r=0,o,s,a,l,u;"string"===typeof e&&(e=new c(e));t=e._r/255;n=e._g/255;i=e._b/255;a=Math.max(t,n,i);l=Math.min(t,n,i);s=a;if(a===l){o=0;r=0}else{u=a-l;o=0===u?0:u/s;switch(a){case t:r=(n-i)/u+(n<i?6:0);break;case n:r=(i-t)/u+2;break;case i:r=(t-n)/u+4;break}r/=6}return{h:360*r%360,s:100*o,v:100*s}};c.toNumber=function e(){if(1===arguments.length&&arguments[0]instanceof c)return(arguments[0]._r<<16)+(arguments[0]._g<<8)+arguments[0]._b;var t=0,n=0,i=0,r,o;if(1===arguments.length&&"string"===typeof arguments[0]){o=arguments[0];if(r=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i.exec(o)){t=parseInt(r[1],10);n=parseInt(r[2],10);i=parseInt(r[3],10)}else if(r=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(o)){t=parseInt(r[1],16);n=parseInt(r[2],16);i=parseInt(r[3],16)}else if(r=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(o)){t=parseInt(r[1]+r[1],16);n=parseInt(r[2]+r[2],16);i=parseInt(r[3]+r[3],16)}}return(t<<16)+(n<<8)+i};c.blend=function e(t,n,i){t=c.toNumber(t);n=c.toNumber(n);var r=(16711680&t)>>16,o=(65280&t)>>8,s=255&t,a=(16711680&n)>>16,l=(65280&n)>>8,u=255&n,f=r+(a-r)*i,d=o+(l-o)*i,p=s+(u-s)*i;return(f<<16)+(d<<8)+p};c.getBlend=function e(t,n,i){var r=t._r+(n._r-t._r)*i,o=t._g+(n._g-t._g)*i,s=t._b+(n._b-t._b)*i,a=t._a+(n._a-t._a)*i;return new c(r,o,s,a)};c.isCSSColor=function(e){if(arguments.length>1||"string"!==typeof e)return false;return n.test(e)||i.test(e)||r.test(e)||o.test(e)||s.test(e)||a.test(e)||t[e.toLowerCase()]};c.getBestContrast=function(e,t,n){var i=e.getLuminance();return Math.abs(i-t.getLuminance())>Math.abs(i-n.getLuminance())?t:n};c.getContrast=function(e,t){if(!e||!t)return;var n=e.getLuminance()/100,i=t.getLuminance()/100;return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)};c.isDark=function(){var e={getLuminance:c.prototype.getLuminance,isInvalid:c.prototype.isInvalid};c.prototype.init.apply(e,[].slice.call(arguments));return c.prototype.isDark.call(e)};c.useDarkLabel=function(e,t){return e._a>.5?!e.isDark():!t};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(259)],r=function(e){var t=e.enums;for(var n in t)t["Nx"+n]=t[n];return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(e){var i,r;!(i=[n(10),n(522),n(525)],r=function(e,t,n){var i=e.module("qv.context-menu",["leonardo-ui.overlay"]);i.service("qvContextMenu",["luiOverlay","luiInlineOverlay",function(e,i){var r={},o;r.show=function(n,i){if(0===n.items.length)return;this.close();var r=i.component||t;return o=e.show(r,{menu:n,options:i})};r.showInline=function(e,n,r){if(0===e.items.length)return;var s=n.component||t;return o=i.show(s,{menu:e,options:n,container:r})};r.close=function(){if(o){o.close();o=null}};r.menu=function(){var e=new n;var t={addItem:function t(n,i){return e.addItem(n,i)}};Object.defineProperty(t,"items",{get:function t(){return e.items}});return t};return r}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(90),n(95),n(94),n(131),n(91)],r=function(e,t,n,i,r,o,s){var a;function l(e,n){t.getService("qvConfirmDialog").show({message:s.get(e),icon:"cogwheel"}).closed.then(function(e){e&&n.apply()})}function u(e){if(!a)throw new TypeError("Permissions are not available yet. Make sure you have initialized this module with init().");switch(e){case"measure":return a.createMeasure;case"dimension":return a.createDimension;case"visualization":return a.createMasterobject;case"odagLink":return a.createOdagLink;default:throw new TypeError("'"+e+"' is an unknown type.")}}var c={init:function t(n,i){n&&(a=e.extend({},n,i))},getContextMenuAddToText:function e(t){var n=o.selectedObject;return t&&"odaglinks"===t?"library.addtoAppNavigation":n&&"sheetCell"===n.type?"contextMenu.addToSheet":"contextMenu.addToVisualization"},getAddToOptions:function e(){var t=o.selectedObject,n=null;if(t&&r.isInEditMode()){n={};"gridCell"===t.type?n.object=true:"sheetCell"===t.type&&(n.sheet=true)}return n},getAddToText:function e(t){var n=o.selectedObject;if(n&&r.isInEditMode())return t&&"odaglinks"===t?"library.addtoAppNavigation":"gridCell"===n.type?"library.addtoVisualization":"sheetCell"===n.type?"library.addtosheet":"";return null},addItemToSheetOrVisualization:function e(t,n){if(!this.isAddToMode())return;var r=o.selectedObject,s={item:t};n&&(s.event=n);r&&"gridCell"===r.type&&(s.cell=r.customObject);i.publish("/ui/library/addToSheet",s)},librarySearchFn:function e(t,i,r){if(!i||""===i)return true;r=r||function(e,t){return n.match([e.name],t)};return r(t,i.toLowerCase())},libraryMultiSearch:function e(t,i,r){t.match={};if(!i||""===i)return true;i=i.toLowerCase();var o=false;for(var s=0;s<r.length;++s){var a=r[s];if(n.match(t[a],i)){o=true;t.match[a]=true}}return o},itemDblClickHandler:function e(t){this.isAddToSheetMode()&&i.publish("/ui/library/addToSheet",{item:t})},removeDialog:l,editDialog:l,hasLinks:function e(t,n){return n.get(t).then(function(e){return e.getLinkedObjects().then(function(e){return 0!==e.length})})},toggleSelection:function t(n,i){var r=e(i.currentTarget);n.selected=!n.selected;if(!n.selected){r.off("qv-outside");return false}r.on("qv-outside",function(t){var i=e(t.target);if(1===i.closest("#library-preview").length||1===i.closest(".qv-contextmenu").length)return;n.selected=false;r.off("qv-outside")});return true},removeSelection:function t(n){e.each(n,function(e,t){t.selected=false})},localeOrderBy:function e(t,n){var i="pseudo"===s.language?"en-US":s.language;if(t){var r=function e(t,n){return t.localeCompare(n,i)};n&&n instanceof Function&&(r=function e(t,r){return n(t).localeCompare(n(r),i)});t.sort(r)}return t},isAddToSheetMode:function e(){return r.model&&r.isInEditMode()&&r.view===r.Views.sheet&&r.model.layout.permissions.update},isAddToVisualizationMode:function e(){return r.isInEditMode()&&(r.view===r.Views.object&&r.model.layout.permissions.update||r.view===r.Views.masterObject)},isAddToMode:function e(){return this.isAddToSheetMode()||this.isAddToVisualizationMode()},hasAppUpdatePermssion:function e(){return a.update},permissionToCreate:u,toggleTableSelect:function e(t,n){t.forEach(function(e){"assets-tab-field"===e.id&&(e.hasTableFilter=n)})}};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(13)],r=function(e){var t={SMARTSEARCH_OBJECTS:true,SMARTSEARCH_INDEX_CLOSE:true,QDM_MULTITABLE:true,CARDS:false,SEARCH_HISTORY:true,GENERIC_SELECT_FILTER_TABLE:true,DESKTOP_AUTHENTICATION:false,BOX_MEASURE_RANGE:false,MAP_MEASURE_LABEL:false,DIST_2MES:false,ODAG_MASHUP:true,COLOR_BY_MEA:false,LIBRARY_DATA_BUTTONS:true,SHEET_NAME_EXPR:true,ST_HSCROLL:true,LIGHT_CUR_SEL:false,CAO_DEBUG:false,SCROLL_BUTTON:false,CAO_FIELD_PICKER_SYNC:false,CONTEXT_MENU:true,SPA:true,CAO_MOBILE:false,TI_IMPCP:false,PIVOT_SHOW_HIDE:true,ALT_STATE_ONE:true,CHANGE_CHART_TYPE:true,DEFAULT_BOOKMARK:true,DLE_CREATE_CONNECTION:true,DM_handle_nulls:true,DM_hide_fields:true,"ps-1245":true,"sui-3868":true,PIE_RADIUS:true,ACCESSIBLE_FILTERPANE:true,LOADING_CARD_IMAGES:true,ADVANCED_EXPRESSION_EDITOR_PART3:true,SET_EXPRESSION_CHECKBOX:true,DROP_ZONES:false,SSA_IN_EDIT:false,GEO_BACKGROUND_WMS:false,GEO_BACKGROUND_IMAGE:false,BRIGHT_THEME:true,MOBILE_GRID:false};var n=(e.getParameterByName("feature")||"").split("+");n.forEach(function(e){e&&(t[e.toUpperCase()]=true)});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(162),n(102)],r=function(e,t){var n={};var i=false;var r="ltr";var o=false;t.mixin(n);n.notification("DirectionChanged");n.init=function(t){return e.getProperties(t).then(function(e){o=true;return n.setRtl(e&&e.rtl)})};n.setRtl=function(e){if(i!==e){i=e;r=i?"rtl":"ltr";n.DirectionChanged.emit(r)}return r};Object.defineProperty(n,"isInit",{get:function e(){return o}});Object.defineProperty(n,"isRtl",{get:function e(){return i}});Object.defineProperty(n,"direction",{get:function e(){return r}});function s(e){n.setRtl(e.rtl)}e.UpdateObjProps.bind(s);return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};function t(t){return e[t]}function n(t,n){e[t]=n}function i(t){delete e[t]}return{getType:t,getRegisteredNames:function t(){return Object.keys(e)},getLibraryInfo:function t(n){return e[n]?e[n].getLibraryInfo():null},getIconName:function t(n){return e[n]?e[n].getIconName():null},getIconChar:function t(n){return e[n]?e[n].getIconChar():null},getIconPath:function t(n){return e[n]?e[n].getIconPath():null},registerType:n,removeType:i}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(597),n(90)],r=function(e,t){function n(e,n){"object"===o(n)&&(n=t.extend(true,Array.isArray(n)?[]:{},n));if(e&&"qResult"!==e){var i={};i[e]=n;return i}return n}function i(e,t){var n=Object.keys(e);var i=t.In.map(function(e){return e.Name});return 0!==n.filter(function(e,t){return e===i[t]}).length}function r(e,t){var n=[];Array.isArray(t)&&1===t.length&&"object"===o(t[0])&&i(t[0],e)&&(t=t[0]);if(Array.isArray(t)||"object"!==o(t))Array.isArray(t)?n=t:n.push(t);else for(var r=0;r<e.In.length;++r)t&&void 0!==t[e.In[r].Name]?n.push(t[e.In[r].Name]):e.In[r].Optional&&void 0!==e.In[r].DefaultValue&&n.push(e.In[r].DefaultValue);return n}function s(e,t,i,o){var s=e[t];var a=1===s.Out.length?s.Out[0].Name:null;t=t.substring(0,1).toLowerCase()+t.substring(1);i[t]=function(){var e=Array.prototype.slice.call(arguments);e=r(s,e);var i=o[t].apply(o,e).then(n.bind(null,a));i.__protocolRequestId=i.requestId;return i}}var a={global:void 0,currentApp:void 0};a.bootstrap=function(t){if(!a.global){a.global={};a.global.enigmaGlobal=t.global;Object.keys(e.Global).forEach(function(n){s(e.Global,n,a.global,t.global)})}var n={};Object.keys(e.Doc).forEach(function(i){s(e.Doc,i,n,t)});return n};a.setCurrentApp=function(e){a.currentApp=e};a.getCurrentApp=function(){return a.currentApp};"undefined"!==typeof window&&(window.engineModuleGlobal=a);return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(){var e=1;var t=256;var n=166/26;var i=12;var r=11;var o=12;var s=o/r;function a(n){var i=/^[^\\/:*?"<>|\x00-\x1f]+$/;return"undefined"!==typeof n&&!f(n,"_")&&!f(n,"$$")&&i.test(n)&&n.length>=e&&n.length<=t}function l(e){return!/[\\*?"()<>|' &$£¤^/+-]+/.test(e)}function u(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e.toLowerCase())}function c(e){if(/^.*:\/\//.test(e))return e;return"http://"+e}function f(e,t){return 0===e.indexOf(t)}function d(e,t){return-1!==e.indexOf(t,e.length-t.length)}function p(e,t){t||(t="");return e.length>0?e.reduce(function(e,n){return e+t+n}):""}function h(e){var t=e.replace(/.*\[|\]/gi,""),n=t.match(/"[^=]*"|[^;]+/g);return n}function v(e,t){var n=h(e),i;if(n)for(i=0;i<n.length;i++)if(-1!==n[i].toLowerCase().indexOf(t.toLowerCase()))return n[i].split("=")[1];return""}function m(e,t){function n(){return(e+"\\"+t).replace("\\\\","\\")}function i(){if("\\\\"===e.substring(0,2))return"\\"+n()}return i()||n()}function g(e){var t=h(e),n=[],i;t&&t.forEach(function(e){i=e.split("=");i&&n.push({key:i[0],value:i.length>1?i[1]:""})});return n}function b(e){"\\"===e.charAt(0)&&(e=e.substring(1));"\\"===e.charAt(e.length-1)&&(e=e.slice(0,-1));return e}function y(e){"\\"!==e.charAt(e.length-1)&&(e+="\\");return e}function x(e){var t;if("\\\\"===e.substring(0,2)){t=b(e.substring(2)).split("\\");t.pop();return"\\\\"+p(t,"\\")}t=b(e).split("\\");t.pop();return 1===t.length?t[0]+"\\":p(t,"\\")}function _(e){return e.replace(/[0-9]+/g,function(e){var t=e.length,n=""+t,i="000",r=i.substring(0,i.length-n.length)+n;return r+""+e})}function w(e,t,n){e.sort(function(e,i){return q(e[t],i[t],n)})}function q(e,t,n){var i=_(e).toLowerCase(),r=_(t).toLowerCase();return i.localeCompare(r,n)}function C(e,t){if(!e)throw new Error("Haystack is undefined.");if(!t)throw new Error("Needle is undefined.");return-1!==e.indexOf(t)}function S(e,t,n){e+="";t+="";if(!t)return 0;var i=t.match(/^\/(.*)\/([a-z]*)$/);if(!i){if(!n){e=e.toLowerCase();t=t.toLowerCase()}var r=0,o=0;var s=t.length;var a=false;while(!a){o=e.indexOf(t,o);if(o>=0){r++;o+=s}else a=true}return r}try{var l=new RegExp(i[1],-1===i[2].indexOf("i")?"":"i");return e.split(l).length-1}catch(e){return 0}}function E(e){return e.substring(e.lastIndexOf("\\")+1,e.length)}function D(e){return e.substring(0,e.lastIndexOf("\\")+1)}function O(e){var t=e.match(/.*\\(.*)\\.*$/);t||(t=e.match(/^(.*)\\.*$/));return t?t[1]:null}function A(e){return!(!e||"false"===e)}function L(e){var t=3;return(Math.min(e,t)*i+Math.max(e-t,0)*n)/r}function I(e){if(!e)return{latin:0,cjk:0};var t=e.match(/[\u4E00-\u9FFF]/g);var n=e.match(/[\u3040-\u309F]/g);var i=e.match(/[\u30A0-\u30FF]/g);t=t?t.length:0;n=n?n.length:0;i=i?i.length:0;var r=t+n+i;return{latin:e.length-r,cjk:r}}function T(e,t){var n={latin:0,cjk:0};void 0===t?e.forEach(function(e){var t=I(e.qText);n.latin+=t.latin;n.cjk+=t.cjk}):e.forEach(function(e){var i=I(e[t].qText);n.latin+=i.latin;n.cjk+=i.cjk});var i=Math.max(1,n.latin+n.cjk);n.latinRatio=n.latin/i;n.cjkRatio=n.cjk/i;return n}function k(e,t,n){var i=T(t,n);var r=i.latinRatio*e;var o=i.cjkRatio*e;var a=Math.ceil(L(r)+o*s);return a}function P(e,t,n){var i=e<=24?t:n;return e*i}function M(e,t,n,i,r){return e*n+P(t,i,r)}return{MIN_CONNECTION_NAME_LENGTH:e,MAX_CONNECTION_NAME_LENGTH:t,isValidConnectionName:a,isValidFieldName:l,isValidUrl:u,prefixHttpToUrl:c,endsWith:d,startsWith:f,goUpOneFolderLevel:x,removeSurroundingSlashes:b,arrayToString:p,formatDirectoryPathForEngine:y,sortSlightlyMoreNaturallyArray:w,sortSlightlyMoreNaturallySingle:q,_expandNumbersForNaturalSorting:_,getValueFromConnectionString:v,tokenizeConnectionString:g,contains:C,occurrencesRE:S,combinePath:m,fileNameFromPath:E,fileDirectoryFromPath:D,lastFolderFromPath:O,bool:A,stringWidthOverMWidth:L,getCharacterRatios:I,getTotalCharacterRatios:T,getAdjustedMaxGlyphCount:k,estimateLatinLabelWidth:P,estimateLabelWidth:M}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10),n(258),n(3),n(16),n(96),n(60),n(57),n(514),n(515),n(433),n(435),n(111),n(526),n(548),n(551),n(552),n(556),n(558)],r=function(e,t,n,i){var r,o={},s=[],a=[],l,u,c,f,d,p,h,v;o.bootstrap=function(e,n){n=n||[];n.some(function(e){return"qlik-angular"===e})||(n=n.concat(["qlik-angular"]));t.bootstrap(e,n)};o.module=t.module("qlik-angular",["ngAnimate","ngSanitize","leonardo-ui","vs-repeat","qv.dragoman","qv.directives","qv.filters","qv.locale","qv.mobile-menu","qv.alert-dialog","qv.confirm-dialog","qv.context-menu","qv.loader","qv.about-dialog"],["$provide","$compileProvider","$filterProvider","$httpProvider","$animateProvider","$sceDelegateProvider","$qProvider",function(e,t,n,r,o,s,a){f=e;d=t;p=n;var l=i.getConfig();r.defaults.withCredentials=l.withCredentials;l.csrfToken&&r.interceptors.push(function(){return{request:function e(t){t.headers["qlik-csrf-token"]=l.csrfToken;return t}}});l.clientApiKey&&r.interceptors.push(function(){return{request:function e(t){t.headers["qlik-client-api-key"]=l.clientApiKey;return t}}});a.errorOnUnhandledRejections(false);s.resourceUrlWhitelist(["self"]);o.classNameFilter(/\bqv-animate\b/i);e.value("$anchorScroll",function(){})}]).run(["$injector","$rootScope","$compile","$controller","$timeout","$q",function(e,t,n,i,f,d){l=t;u=n;c=i;h=f;v=d;r=e;o.$injector=r;o.$rootScope=l;o.isBootstrapped=true;s.forEach(function(e){o[e.name]=e.fn});a.forEach(function(e){e.fn.apply(e.fn,e.args)});s.length=0;a.length=0}]);function m(e,t){if(o.isBootstrapped)o[e]=t;else{s.push({name:e,fn:t});o[e]=function(){var e=Array.prototype.slice.call(arguments);a.push({fn:t,args:e})}}}m("directive",function(e,t){d.directive(e,t)});m("nativeComponent",function(e,t){d.component(e,t)});o.component=function(e,t){o.directive(e,function(){return{transclude:null==t.transclude||t.transclude,template:t.template,requires:t.requires,scope:null!=t.scope?t.scope:"=",controller:t.controller||function(){},link:t.link||function(){},restrict:"E",replace:true}})};m("filter",function(e,t){p.register(e,t)});m("service",function(e,t){f.service(e,t);return r.get(e)});m("provider",function(e,t){return f.provider(e,t)});m("injectComponent",function(t,i,o){var s;if(!i)throw new Error("Trying to show undefined component.");if("function"===typeof i)return i.apply({},[t,o]);if(Array.isArray(i)){var a={$element:t,input:o};for(var f in o)o.hasOwnProperty(f)&&(a[f]=o[f]);return r.invoke(i,{},a)}if(i.controller){var d=e(t).scope();d||(d=l);n(d,function(){var e=d.$new();e.extractComponent=function(){if(!e.$$destroyed){e.$destroy();t.off(".qvangularcoreshowcomponent");t.html("")}};e.destroyComponent=e.extractComponent;var n={$scope:e,$element:t,$transclude:void 0,input:o};for(var r in o)if(o.hasOwnProperty(r)){n[r]=o[r];e[r]=o[r]}t.html(i.template);var a=u(t.contents());if(i.controller){s=c(i.controller,n);t.contents().data("$ngControllerController",s)}a(e);t.on("remove.qvangularcoreshowcomponent",function(){e.$$destroyed||e.$destroy()})});return s}});m("componentDirective",function(e,n,i,r){var s={};for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);s[e]="=";s.input="=";s.component="=";o.directive(e,["$compile","$controller",function(n,o){return{restrict:"EA",replace:true,terminal:true,scope:s,link:function s(a,l,u){var c=0,f;a.$watch("component",function(s){var d=++c;s||(s=i);if(s&&s.template){if(d!==c)return;f&&f.$destroy();f=a.$new();l.html(s.template);var p=n(l.contents());var h={$scope:f,$element:l,$attrs:u};!a.input||!s.scope||t.forEach(s.scope,function(e,t){var n;n="string"===typeof e&&"="===e.charAt(0)&&e.length>1?e.substring(1):t;f[n]=a.input[t];var i=f[n];f.$watch(function e(){var r=a.input[t];if(r!==f[n])if(r!==i){f[n]=r;i=r}else{i=f[n];a.input[t]=f[n]}return r})});if(a.input){for(var v in a.input)a.input.hasOwnProperty(v)&&(h[v]=a.input[v]);h.input=a.input}var m;if(s.controller){m=o(s.controller,h);l.contents().data("$"+e+"Controller",m)}p(f);"function"===typeof r&&("function"===typeof m.onInit?m.onInit().then(function(){r(m,f,l)}).catch(function(e){false}):r(m,f,l))}else{if(f){f.$destroy();f=null}l.html("")}})}}}])});a.push({name:"componentDirective",fn:function e(){o.componentType=o.componentDirective;o.componentDirective("qvaInclude",{ngModel:"="})}});o.$apply=n;o.defer=function(){return v.defer()};o.when=function(e,t,n){return v.when(e,t,n)};o.promise=function e(t){return h(function(){return t})};o.getService=function(e){return r.get(e)};e.fn.showComponent=function(e,t){return"string"===typeof e?o.injectComponent(this,{template:e,controller:t||function(){}},{}):o.injectComponent(this,e,t)};window.qvangularGlobal=o;return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.create=function(e,t){return n(t).then(function(t){return t.createSheet(e)})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyObject(e)})};i.get=function(e,t){return n(t).then(function(t){return t.getObject(e)})};i.getList=function(e){return n(e).then(function(e){return e.getSheetListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(101),n(89),n(90),n(91)],r=function(e,t,n,i,r){function s(e,t,n){return"function"===typeof e.refFn?e.refFn(t,n):e.ref}var a={defineValue:function n(i,r,o,l){var u,c,f;function d(e){var n=s(r,o(),i.args);var a=t.getValue(o(),n);if("undefined"===typeof a)return t.getUndefinedValue(e,r);return a}function p(n,l,u){var c=t.getTypeValue(n,l,u);var f=o();var d=s(r,f,i.args);r.rollbackInvalid?a.validateType(c,r,f)?t.setValue(f,d,c):e.getService("$timeout")(function(){e.$rootScope.$broadcast("pp-revalidate")}):t.setValue(f,d,c)}if(r.convertFunctions){c=function e(){return r.convertFunctions.get(d,r,i.args)};f=function e(t){return r.convertFunctions.set(t,p,r,i.args)}}else{c=function e(){return d(r.type)};f=function e(n){var i=t.getDefaultValue(r.type,r);p(r.type,n,i)}}u="undefined"!==typeof l?l:"value";Object.defineProperty(i,u,{get:c,set:f})},defineExpression:function e(n,i,r){var a=n.definition.expression,l=n.definition.expressionType,u="optional"===a||"always"===a,c=i?"qValueExpression":"qStringExpression";!l&&u&&(l=i?"ValueExpression":"StringExpression");n.expressionType=l;n.isExpressionDefinition=u;Object.defineProperty(n,"displayValue",{get:function e(){var t=n.value;if(t&&"object"===o(t)){t=t[c].qExpr;t&&"="!==t[0]&&(t="="+t)}return t},set:function e(t){var i=u&&t&&0===t.indexOf("=");var r;if(t&&i){r={};r[c]={qExpr:t.substr(1)}}else r=t;n.value=r}});n.isExpression=function(){if("always"===a)return true;if("optional"===a){var e=s(n.definition,n.data,n.args);var i=t.getValue(n.data,e);return"object"===o(i)}return!!l};n.isLocked=function(){if(u){var e=n.value;"object"===o(e)&&(e=e[c].qExpr);if(!e||i&&"number"===typeof e)return false;var t=r&&-1!==e.indexOf("\n");return e&&(t||e.length>n.maxlength)}return false}},defineChange:function e(t,n){function i(){t.$emit("saveProperties")}t.change=function(){if("function"===typeof t.definition.change){var e=t.definition.change(t.data,n,t.args.properties,t.args);"object"===o(e)&&e.then?e.then(function(e){false!==e&&i()}):false!==e&&i()}else i()}},defineVisible:function e(t,n){var i=t.definition.show;"function"===typeof i?Object.defineProperty(t,"visible",{get:function e(){return i(t.data,n,t.args)}}):t.visible="boolean"!==typeof i||i},defineReadOnly:function e(t,n){var i=t.definition.readOnly;"function"===typeof i?Object.defineProperty(t,"readOnly",{get:function e(){return i(t.data,n,t.args)}}):t.readOnly="boolean"===typeof i&&i},definePlaceholder:function e(t,n){n.placeholderTranslation?t.placeholder=r.get(n.placeholderTranslation):n.placeholder&&(t.placeholder=n.placeholder)},defineLabel:function e(t,n,i,o){n.translation?t.label=r.get(n.translation):"function"===typeof n.label?Object.defineProperty(t,"label",{get:function e(){return n.label(i(),o)}}):n.label&&(t.label=n.label);return""},defineCustom:function e(t,n,i){var r=t.definition[i];"function"===typeof r?Object.defineProperty(t,i,{get:function e(){return r(t.data,n,t.args,t)}}):r&&(t[i]=r)},fillOptions:function e(t,i,s,a,l){var u=new n;function c(){var e=t.options;"function"===typeof e&&(e=t.options.call(null,i,s,l));if("object"===o(e)&&"function"===typeof e.then)return e;return n.resolve(e)}function f(e){return e.filter(function(e){return!!e}).map(function(e){var t={value:e.value};e.translation?t.label=r.get(e.translation):e.label?t.label=e.label:t.label=e.value;e.tooltipTranslation?t.tooltip=r.get(e.tooltipTranslation):e.tooltip&&(t.tooltip=e.tooltip);return t})}c().then(function(e){e=f(e);a.splice(0,a.length);for(var t=0;t<e.length;++t)a.push(e[t]);u.resolve()},u.reject);return u.promise},validateType:function e(t,n,r,o){var s=false;"boolean"===typeof n.invalid&&(s=s||n.invalid);"function"===typeof n.invalid&&(s=s||n.invalid.call(null,r,o.properties,o));if("number"===n.type)if(i.isNumeric(t)){"number"===typeof n.max&&t>n.max&&(s=true);"number"===typeof n.min&&t<n.min&&(s=true)}else s=true;if("integer"===n.type)if(i.isInteger(t)){"number"===typeof n.max&&t>n.max&&(s=true);"number"===typeof n.min&&t<n.min&&(s=true)}else s=true;if("string"===n.type){"undefined"!==typeof n.maxlength&&(s=s||t.length>n.maxlength);"undefined"!==typeof n.minlength&&(s=s||t.length<n.minlength)}return!s}};return a}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={STATIC:0,ANALYSIS:1,EDIT:2};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(13),n(115),n(312),n(332),n(671),n(210),n(345),n(49)],r=function(e,t,i,r,o,s,a,l,u){var c=null;var f=null;var d=false;function p(e,i){i=i||{};i.previewIconURL||"string"===typeof i.preview&&i.preview.match(/\.(?:png|gif|jpe?g|svg)$/)&&(i.cloud?i.previewIconURL="/api/v1/extensions/"+i.id+"/file/"+i.preview:i.folder?i.previewIconURL=n.p+i.folder+"/"+e+"/"+i.preview:i.previewIconURL=t.rootPath+"extensions/"+e+"/"+i.preview);i.icon&&"extension"!==i.icon||(i.icon="puzzle");i.description=i.description||i.name;i.template=i.template||e;i.isLibraryItem=false!==i.isLibraryItem;i.isThirdParty=true;i.name=i.name||i.template||e;return i}function h(e){if(e.data&&"visualization"===e.data.type){if(i.getType(e.id.toLowerCase())){e.data.bundle?console.warn("Bundled extension already loaded (this is likely correct): "+e.id):console.error("Extension id already registered: "+e.id);return}var t=p(e.id,e.data);o.registerThirdPartyLibraryInfo(e.id,t);i.registerType(e.id,new r({type:e.id,path:e.path||"extensions/"+e.id+"/"+e.id}))}}function v(t){if(!d){i.registerType("listbox",new r({type:"listbox",path:"extensions.qliktech/listbox/listbox"}));i.registerType("filterpane",new r({type:"filterpane",path:"extensions.qliktech/filterpane/filterpane"}));u.getFlag("CONTAINER_OBJECT")&&i.registerType("container",new r({type:"container",path:"extensions.qliktech/container/container"}));u.getFlag("DISABLE_AUTO_CHART")||i.registerType("auto-chart",new r({type:"auto-chart",path:"extensions.qliktech/auto-chart/auto-chart"}));i.registerType("boxplot",new r({type:"boxplot",path:"extensions.qliktech/boxplot/boxplot"}));i.registerType("histogram",new r({type:"histogram",path:"extensions.qliktech/histogram/histogram"}));i.registerType("distributionplot",new r({type:"distributionplot",path:"extensions.qliktech/distributionplot/distributionplot"}));i.registerType("waterfallchart",new r({type:"waterfallchart",path:"extensions.qliktech/waterfallchart/waterfallchart"}));i.registerType("gauge",new r({type:"gauge",path:"extensions.qliktech/gauge/gauge"}));i.registerType("kpi",new r({type:"kpi",path:"extensions.qliktech/kpi/kpi"}));i.registerType("table",new r({type:"table",path:"extensions.qliktech/straight-table/straight-table"}));i.registerType("pivot-table",new r({type:"pivot-table",path:"extensions.qliktech/pivot-table/pivot-table"}));i.registerType("barchart",new r({type:"barchart",path:"extensions.qliktech/barchart/barchart"}));i.registerType("piechart",new r({type:"piechart",path:"extensions.qliktech/piechart/piechart"}));i.registerType("scatterplot",new r({type:"scatterplot",path:"extensions.qliktech/scatterplot/scatterplot"}));i.registerType("linechart",new r({type:"linechart",path:"extensions.qliktech/linechart/linechart"}));i.registerType("combochart",new r({type:"combochart",path:"extensions.qliktech/combochart/combochart"}));i.registerType("treemap",new r({type:"treemap",path:"extensions.qliktech/treemap/treemap"}));i.registerType("map",new r({type:"map",path:""}));i.registerType("text-image",new r({type:"text-image",path:"extensions.qliktech/text-image/text-image"}));i.registerType("widget",new r({type:"widget",path:"extensions.qliktech/widget/widget"}));d=true}var n=[];if(f)return t?f:f.then(m);var o=u.getFlag("DASHBOARD_EXT_BUNDLE")?s.getDashBundleList():[];o.forEach(function(e){n.push(e)});var a=u.getFlag("VIZ_EXT_BUNDLE")||u.getFlag("VIZBUN_QCS_31")?s.getVisBundleList():[];a.forEach(function(e){n.push(e)});f=e.all(n);return f.then(function(e){e.forEach(h);if(!t)return m()}).catch(function(){console.warn("Error when loading extensions")})}function m(){if(!c){var t=u.getFlag("DISABLE_ONPREM_EXTENSIONS")?e.resolve([]):a.getList();var n=u.getFlag("CLOUD_EXTENSIONS")?l.getList():e.resolve([]);c=n.then(function(e){e.forEach(h);return t.then(function(e){e.forEach(h)})})}return c}function g(e){i.removeType(e);o.remove(e)}return{load:v,isLoaded:function e(t){return!!i.getType(t)},registerExtension:h,removeExtension:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e){return e&&"[object Array]"===Object.prototype.toString.call(e)}function t(e){return e&&"function"===typeof e}function n(n,i){var r,o;if(!e(n))throw new Error("No valid items were specified.");if(!t(i))throw new Error("No valid action function was specified.");if(Array.prototype.forEach)n.forEach(i);else for(r in n){o=n[r];i(o)}}function i(t,n){if(!e(t))throw new Error("No valid items were specified.");if(Array.prototype.indexOf)return-1!==t.indexOf(n);var i=t.length;while(i--)if(t[i]===n)return true;return false}function r(e,t){if(!e||!t||!e.length||!t.length)return false;var n=t.length,i;for(i=0;i<n;i++)if(e.indexOf(t[i])>-1)return true;return false}function o(e,t){if(!e||!t||!e.length||!t.length)return false;var n=e.indexOf(t[0]);if(-1!==n){for(var i=0;i<t.length;i++){var r=e.indexOf(t[i]);if(n>r)return false;n=r}return true}return false}function s(e,t,n){if(n>=e.length){var i=n-e.length;while(1+i--)e.push(void 0)}e.splice(n,0,e.splice(t,1)[0])}function a(e,t,n){var i=e[t];e[t]=e[n];e[n]=i}function l(e,t){var n;for(n=0;n<e.length;++n)e[n]>=0&&e[n]>=t&&++e[n];e.push(t)}function u(e,t,n){var i;for(i=0;i<e.length;++i)e[i]>=0&&e[i]>=t&&++e[i];e.splice(n,0,t)}function c(e,t){var n=0;var i;for(i=0;i<e.length;++i)e[i]>t?--e[i]:e[i]===t&&(n=i);e.splice(n,1);return n}function f(e,t){if(e.length>t)return e.slice(0,t);return e}function d(e){if(!(e instanceof Array))throw new Error("Argument is not an Array.");return e.slice(0)}return{forEach:n,contains:i,move:s,swap:a,limit:f,indexAdded:l,indexAddedAt:u,indexRemoved:c,intersects:r,isOrderedSubset:o,copy:d}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{sectionIDs:{template:"template",cloudExtensions:"cloud-extensions",extensions:"extensions",field:"field",time:"time",dimension:"dimension",measure:"measure",visualization:"visualization",odag:"odag"}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t={};t.getParentElementWithAttribute=function(e,t,n){var i=false,r=0;while(e&&e.parentNode&&r<100&&!i){r++;if(e.nodeName===t.toUpperCase()&&e.hasAttribute(n)){i=true;return e}e=e.parentNode}if(!i)return null};t.getAncestorsUntil=function(e,t){var n=[];t||(t=function e(){return false});while(e&&e.parentNode&&!t(e)){n.push(e);e=e.parentNode}return n};t.isInput=function(e){return e&&("INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)};t.elementFromEventPosition=function(e){var t=document;var n=t.body;var i=e.pageX+(t&&t.clientLeft||n&&n.clientLeft||0)-(t&&t.scrollLeft||n&&n.scrollLeft||0);var r=e.pageY+(t&&t.clientTop||n&&n.clientTop||0)-(t&&t.scrollTop||n&&n.scrollTop||0);return document.elementFromPoint(i,r)};t.scrollElmentIntoView=function t(n,i,r,o){var s;if(!n.length)return;s=i instanceof e?i:n.closest(i);if(s.length){var a=s.offset().top,l=a+s.height(),u=n.offset().top,c=u+n.outerHeight(!!o),f=c-u,d=l-a,p;p=n[0].getBoundingClientRect().top;if(r){p-=s.height()/2;s.scrollTop(s.scrollTop()+p)}else if(d<f){p=u-a;s.scrollTop(s.scrollTop()+p)}else if(c>l){p=c-l;s.scrollTop(s.scrollTop()+p)}else if(u<a){p=u-a;s.scrollTop(s.scrollTop()+p)}}};t.getAction=function(t,n,i){var r,o,s,a=(i?e(t.target).closest("[data-action]"):e(t.target).parent())[0];if(t.target.getAttribute("data-action")){r=t.target.getAttribute("data-action");o=e(t.target)}else if(a&&a.getAttribute("data-action")){r=a.getAttribute("data-action");o=e(a)}r&&n&&(s=e(o.closest(n)).scope());return{action:r,element:o,scope:s}};t.isElementInViewport=function t(n,i){var r=n.getBoundingClientRect(),o,s={top:false,right:false,bottom:false,left:false,inView:false};o=(i||e("body")[0]).getBoundingClientRect();s.top=r.top+r.height-o.top>=0;s.right=o.right-(r.right-r.width)>=0;s.bottom=o.bottom+r.height>=r.bottom;s.left=r.left-o.left+r.width>=0;s.inView=s.top&&s.right&&s.bottom&&s.left;return s};t.isClickOnScrollbar=function t(n,i){var r=e(n.target),o=n.clientX||n.pageX,s=r.offset().left+e(n.target).width();if(!r.is(i))return false;return o>s-17};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(106),n(97),n(50),n(131),n(613),n(94),n(11),n(91)],r=function(e,t,n,i,r,o,s,a,l,u){var c=null,f=null,d={gridElement:null,scrollTop:0,scrollTopSheet:0,scrollLeft:0,scrollLeftSheet:0,lastZoomedCell:null,intervalPromise:null,hightlightedCellId:null};function p(e,t){a.setView(e);var n=l(document.body);n.toggleClass("qv-view-sheet",!t);n.toggleClass("qv-view-object",t);n.toggleClass("qv-gridzoom",t)}function h(){c.grid.updateCellsSize()}function v(){c.grid.updateCellsSize()}function m(e){return e?t.resolve():c.grid.autoCollapse()}function g(t){var l;if(c)return;c=e.$rootScope.$new(true);c.grid=new s(this,t.enigmaModel.app);c.model=t;c.stageState=o;n(c,"model",function(e){c&&c.grid.update(e)});r.ViewChanged.bind(h);i.on("end",v);c.$watch(a.isInEditMode,function(e){l=e;if(c.grid.layout){c.grid.update(c.grid.layout);if(l)c.grid.updateActiveCell();else{c.grid.removeResizeHandles();O();m(l)}}});c.$watch("grid.zoomCell",function(e){if(D()||a.view===a.Views.story&&a.state!==a.States.analysis)return;var t=e?a.Views.object:a.Views.sheet;p(t,!!e)});c.$watch("grid.changedZoom",function(e){false!==e||c.grid.zoomCell||h(c.grid)});c.$watch("stageState.selectedObject",function(e){c&&e&&"gridCell"!==e.type&&c.grid.clearActiveCell()});a.SheetChanged.bind(b)}function b(e){if(!c)return;m(a.isInEditMode()).then(function(){if(c){c.model=e;c.grid.unblock()}})}function y(){f||(f=e.getService("$interval"));if(!c)return;c.$destroy();c=null;r.ViewChanged.unbind(h);i.off("end",v);a.SheetChanged.unbind(b);f.cancel(d.intervalPromise);d.gridElement=null}function x(){var t=c&&c.grid.getOptimalCell();t||e.getService("qvAlertDialog").show({title:u.get("Ui.Warning.GridFull.Title"),message:u.get("Ui.Warning.GridFull"),closeLabel:u.get("Common.OK")});return t}function _(e){if(!c)return;E(e.pos)}function w(){return c&&c.grid.isBlocked()}function q(e){if(w())return t.reject();c.grid.block();return c.model.addObject(e).finally(function(){c.grid.unblock()})}function C(e,n){if(w())return t.reject();return c.model.swapObjects(e,n)}function S(e,n){if(w())return t.reject();return c.model.moveObject(e,n)}function E(e){if(w())return t.reject();c.grid.block();return c.model.removeObject(e).finally(function(){c.grid.unblock()})}function D(){return c&&c.grid&&!c.model}function O(){if(!D())return;b(a.model);p(a.Views.sheet,false)}function A(e,t){if(!c)return;c.model=null;c.grid.setEditMaster(e,t);p(a.Views.masterObject,true)}return{start:g,stop:y,goToEditMode:function e(){a.setState(a.States.edit)},getOptimalCell:x,removeCell:_,isActive:function e(){return!!c},getGrid:function e(){return c&&c.grid},getModel:function e(){return c&&c.model},activateCell:function e(t){c&&c.grid.toggleActive(t)},deactivateCell:function e(){c&&c.grid.toggleActive(null)},getZoomCell:function e(){return c&&c.grid.zoomCell},getZoomedCellId:function e(){return c.grid.zoomCell.id},zoomInOnCell:function e(t){var n;if(c){n=c.grid.cells.filter(function(e){return e.id===t});n.length&&c.grid.zoom(n[0])}},zoomOut:function e(){if(c){c.grid.zoom(null);c.grid.gridService.restoreSheetScrollState()}},saveZoom:function e(){c&&c.grid&&d&&!d.lastZoomedCell&&c.grid.zoomCell&&c.grid.zoomCell.id&&(d.lastZoomedCell=c.grid.zoomCell.id)},restoreZoom:function t(){if(d.lastZoomedCell){var n=e.getService("$timeout");n(function(){c.grid.blockZoomAnimation=true;this.zoomInOnCell(d.lastZoomedCell);d.lastZoomedCell=null}.bind(this))}},setGridElement:function e(t){d.gridElement=t},saveScrollState:function e(){if(l(".qvt-sheet").length>0&&!d.lastZoomedCell&&d.gridElement){d.scrollTop=d.gridElement.scrollTop;d.scrollLeft=d.gridElement.scrollLeft;d.scrollTopSheet=l(".qvt-sheet")[0].scrollTop;d.scrollLeftSheet=l(".qvt-sheet")[0].scrollLeft}},restoreScrollState:function t(){f||(f=e.getService("$interval"));if(d.lastZoomedCell)return;d.scrollTop>0&&(d.intervalPromise=f(function(){if(d.gridElement.children.length>0){d.gridElement.scrollTop=d.scrollTop;d.scrollTop=0;f.cancel(d.intervalPromise)}},50));d.scrollLeft>0&&(d.intervalPromise=f(function(){if(d.gridElement.children.length>0){d.gridElement.scrollLeft=d.scrollLeft;d.scrollLeft=0;f.cancel(d.intervalPromise)}},50))},restoreSheetScrollState:function t(n,i){var r=e.getService("$timeout");r(function(){if(l(".qvt-sheet").length>0)if("undefined"!==typeof n||"undefined"!==typeof i){l(".qvt-sheet")[0].scrollTop>0&&(l(".qvt-sheet")[0].scrollTop=0);l(".qvt-sheet")[0].scrollLeft>0&&(l(".qvt-sheet")[0].scrollLeft=0)}else{d.scrollTopSheet>0&&(l(".qvt-sheet")[0].scrollTop=d.scrollTopSheet);d.scrollLeftSheet>0&&(l(".qvt-sheet")[0].scrollLeft=d.scrollLeftSheet)}})},resetSmallDeviceSheetScroll:function t(){var n=e.getService("$timeout");n(function(){var t=e.getService("qvSheetService").get();if(t&&t.length){t=t.find("#grid")[0];if(t){t.scrollTop=0;t.scrollLeft=0}t=null}})},scrollToPos:function e(t,n){if(l(".qvt-sheet").length){l(".qvt-sheet").scrollLeft(t);l(".qvt-sheet").scrollTop(n-80)}},getCellWithId:function e(t){if(c){var n=c.grid.cells.filter(function(e){return e.id===t});return n.length?n[0]:null}return null},highlightedCell:function e(t){t&&(d.hightlightedCellId=t);var n;if(c&&d.hightlightedCellId){n=c.grid.cells.filter(function(e){return e.id===d.hightlightedCellId});if(n.length){c.grid.highlight(n[0]);d.hightlightedCellId=null}}},isBlocked:w,addObject:q,swapObjects:C,moveObject:S,isEditMaster:D,closeEditMaster:O,editMaster:A}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(125),n(144)],r=function(e,t){function n(e){e=e.trim();if("="===e.charAt(0)){e=e.substring(1);e=e.trim()}var t=e.length-1;if("["===e.charAt(0)&&"]"===e.charAt(t)){e=e.substring(1,t);e=e.trim()}return e}function i(i,r){var o=t.expand(e.copy(r));var s,a;i=n(i);if(o)for(s=0;s<o.length;s++){a=o[s];if(a.qName===i)return a}return null}function r(e,t){var n,i;if(t)for(n=0;n<t.length;n++){i=t[n];if(i.qInfo.qId===e)return i}return null}function o(e,t){var n,i;if(t)for(n=0;n<t.length;n++){i=t[n];if(i.qInfo.qId===e)return i}return null}function s(n){return n.getFieldList().then(function(n){return t.expand(e.copy(n)).sort(function(e,t){return e.qName.toLowerCase().localeCompare(t.qName.toLowerCase())})})}function a(t){return t.getDimensionList().then(function(t){return e.copy(t).sort(function(e,t){return e.qData.title.toLowerCase().localeCompare(t.qData.title.toLowerCase())})})}function l(t){return t.getMeasureList().then(function(t){return e.copy(t).sort(function(e,t){return e.qData.title.toLowerCase().localeCompare(t.qData.title.toLowerCase())})})}return{findField:i,findLibraryDimension:o,findLibraryMeasure:r,getSortedFields:s,getSortedDimensions:a,getSortedMeasures:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(11)],r=function(e,t){var n={};var i=false;var r=false;n.reset=function(){n.selectedObject=null;n.assetsOpen=true;n.propertiesOpen=false;i=false};n.hasPropertiesBeenClosedByUser=function(){return r};n.togglePropertyPanelByUser=function(){n.propertiesOpen=!n.propertiesOpen;i=n.propertiesOpen;i||(r=true);return n.propertiesOpen};n.resetPropertyPanelToggle=function(){n.propertiesOpen!==i&&(n.propertiesOpen=i)};n.setSelectedObject=function(i){var r={id:"",type:"",customObject:null,canCopy:function e(){return true},copy:null,canCut:function e(){return true},cut:null,paste:null,canRemove:function e(){return true},remove:null,getAllPropertyPanelContent:function t(){var n={objectType:"",iconClass:"",titleRef:"",definition:{},properties:{},layout:{},localeInfo:null,app:null,cache:null,ext:null,globalChangeListeners:null,handler:null,model:null};return e.resolve(n)}};if(i){t.extend(r,i);n.selectedObject=r}else n.selectedObject=null};n.reset();return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){return{get:function n(i){var r=i?t.resolve(i.enigmaModel):e.getApp();return r.then(function(e){return e.getCurrentSelectionObject()})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(748),n(90),n(192),n(95),n(154),n(120),n(132),n(89),n(108),n(49),n(749),n(456)],r=function(e,t,n,i,r,o,s,a,l,u,c){var f=null;var d=null;function p(e){if(d)return a.resolve(true);if(e){l.setup();return a.resolve(true)}return l.setup()}var h={addingNewNavPointID:{},odagLinkSessionObjects:{},getODAGLinksPromise:{}};h.ODAGRequestActionConst={CANCEL:"cancel",PAUSE:"pause",RESUME:"resume",CANCEL_ACK:"ackcancel",FAIL_ACK:"ackfailure"};h.getODAGLinks=function(e,t){t=void 0!==t&&t;var i=this;this.getODAGLinksPromise[e.id]&&!t||(this.getODAGLinksPromise[e.id]=n.getList(e).then(function(t){return t.getLayout().then(function(t){return i.onAppLinksLoaded(e,t)})}));return this.getODAGLinksPromise[e.id]};h.onAppLinksLoaded=function(e,t){var n=t.map(function(e){return e.qData.odagLinkRef});return h.loadODAGLinks(e,n)},h.loadODAGLinks=function(e,t){return v(e).getODAGLinksWithIds(e.id,t)};h.loadODAGLink=function(e,t){return v(e).getODAGLink(t)};h.canCreateLink=function(e){return v(e).canCreateLink(e.id)};h.isODAGAvailable=function(e){return p(e).then(function(){var t=l.isPersonalModeSync();return!(u.getFlag("ODAG_CLIENT_SAAS")&&!u.getFlag("ODAG_SAAS_ENABLED"))&&(!t&&v(e).isODAGAvailable().then(function(e){if(u.getFlag("ODAG_SAAS_ENABLED"))return e;return!(!e||!e.available)}).catch(function(){return false}))})};h.createODAGLink=function(e,i){var r=t.extend({},i);r.selectionApp=e.id;return v(e).createODAGLink(r).then(function(t){var i={qMetaDef:{odagLinkRef:u.getFlag("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id}};return n.create(e,i)})};h.deleteODAGLink=function(e,r,s){var l=t.extend({},s);u.getFlag("ODAG_SAAS_ENABLED")&&(l.data.selectionApp=e.id);return v(e).deleteODAGLink(r,l).then(function(){return n.getList(e).then(function(t){return t.getLayout().then(function(t){var s=null;for(var l=0;l<t.length&&!s;l++){var c=t[l];c.qData.odagLinkRef===r&&(s=c.qInfo.qId)}u.getFlag("ODAG_SAAS_ENABLED")&&i.publish("hack_odag_link_update");if(s)return n.remove(e,s).then(function(){return o.getList(e).then(function(e){return e.getLayout().then(function(e){var t=[];e.forEach(function(e){var n=o.get(e.qInfo.qId).then(function(e){return e.removeRefToLinkIDFromNavPoints(r)});t.push(n)});return a.all(t)})})})})})})};h.updateODAGLink=function(e,r,o){var s=t.extend({},o);u.getFlag("ODAG_SAAS_ENABLED")&&(s.selectionApp=e.id);return v(e).updateODAGLink(r,s).then(function(t){return n.getList(e).then(function(r){return r.getLayout().then(function(r){var o=null;for(var s=0;s<r.length;s++){var a=r[s];var l=u.getFlag("ODAG_SAAS_ENABLED")?t.id:t.objectDef.id;if(a.qData.odagLinkRef===l){o=a.qInfo.qId;break}}u.getFlag("ODAG_SAAS_ENABLED")&&i.publish("hack_odag_link_update");if(o)return n.get(e,o).then(function(e){return e.getProperties().then(function(t){t.qMetaDef.timestamp=Date.now();return e.setProperties(t)})})})})})};h.addODAGNavPoint=function(e,n){if(e){var i=t.generateId();this.addingNewNavPointID[e.id]=i;var r={insertBeforeNavPointID:n.insertBeforeItem?n.insertBeforeItem.data.info.id:null,data:{info:{id:i},title:n.title,odagLinkRefID:n.odagLinkRefID}};e.addNavPoint(r)}};function v(t){if(f)return f;var n="";var i="";var r="";var o=false;if(t&&t.enigmaModel&&t.enigmaModel.session){var s=t.enigmaModel.session.sessionConfig?t.enigmaModel.session.sessionConfig:null;if(s){n=s.prefix?s.prefix:"/";i=s.host?s.host:null;r=s.port?s.port:null;o=!(!s.isSecure&&!s.secure)}}f=new e;f.init(i,r,n,o);return f}function m(e,t,n,i,r,o,s){e||(e=[]);t||(t=[]);return i<o?n.getHyperCubeData("/qHyperCubeDef",[{qTop:i,qLeft:0,qWidth:1,qHeight:1e4}]).then(function(a){a[0].qMatrix.forEach(function(n){var i=n[0];r.indexOf(i.qState)>-1&&e.push({selStatus:i.qState,strValue:i.qText,numValue:u.getFlag("ODAG_SAAS_ENABLED")?i.qNum+"":i.qNum});s&&"S"===i.qState&&t.push({selStatus:i.qState,strValue:i.qText,numValue:u.getFlag("ODAG_SAAS_ENABLED")?i.qNum+"":i.qNum})});i+=1e4;return m(e,t,n,i,r,o,s)}):a.resolve({fieldValues:e,selectedFieldValues:t})}function g(e,n,i){var r=n.selectAppParamName;var o=n.selectionStates;var s=t.extend(true,{},c.fieldHyperCubeProperties);s.qHyperCubeDef.qDimensions.push({qDef:{qFieldDefs:[r]},qNullSuppression:true});return e.enigmaModel.createSessionObject(s).then(function(t){return t.getLayout().then(function(n){var r=n.qHyperCube.qSize.qcy;return m(null,null,t,0,o,r,i).then(function(t){b(e,n.qInfo.qId);return t})})})}function b(e,t){var n=e.enigmaModel||e;return n.enigmaModel["destroySessionObject"].apply(n,[t])}function y(e,t){var n={bindingValuesArray:[],selectedValuesArray:[]};if(!t)return a.resolve(null);var i=t.bindings?t.bindings.filter(function(e){return"BDI"!==e.selectAppParamType}):[];var r=t.bindings?t.bindings.filter(function(e){return"BDI"===e.selectAppParamType}):[];return h.getBDIBindingValues(e,r).then(function(t){n.bindingValuesArray=t.bindingValuesArray||[];return h.getCurrentlySelectedFields(e).then(function(t){return h.getAllFieldBindingValues(e,i,t).then(function(r){for(var o=0;o<i.length;o++){var s=r[o];var a=-1;for(var l=0;l<t.length;l++)if(t[l]&&t[l].fieldName===i[o].selectAppParamName){a=l;break}if(a>=0){var u={selectionAppParamType:"Field",selectionAppParamName:i[o].selectAppParamName,values:s.selectedFieldValues.length<10001?s.selectedFieldValues:[],selectedSize:s.selectedFieldValues.length};n.selectedValuesArray.push(u);t.splice(a,1)}var c={selectionAppParamType:"Field",selectionAppParamName:i[o].selectAppParamName,values:s.fieldValues};n.bindingValuesArray.push(c)}var f=[];for(var d=0;d<t.length;d++)f.push({selectAppParamName:t[d].fieldName,selectionStates:"S"});return h.getAllFieldBindingValues(e,f,t).then(function(e){for(var i=0;i<t.length;i++){var r=e[i];var o={selectionAppParamType:"Field",selectionAppParamName:t[i].fieldName,values:r.fieldValues.length<10001?r.fieldValues:[],selectedSize:r.fieldValues.length};n.selectedValuesArray.push(o)}return n})})})})}h.clearSelections=function(e){return s.get(e).then(function(e){return e.clearAll()})};h.renameGenApp=function(e,t,n){return v(e).renameApp(t,n)};h.deleteGenApp=function(e,t){return v(e).deleteApp(t)};h.selectFieldValuesForField=function(e,t,n){var i=[];for(var o=0;o<n.length;o++){var s=n[o];var a={};if(Number.isNaN(+s.numValue)){a.qIsNumeric=false;a.qText=s.strValue}else{a.qIsNumeric=true;a.qNumber=s.numValue}i.push(a)}return r.get(t,null,e).then(function(e){return e.selectValues(i,true,true)})};h.getAllFieldBindingValues=function(e,t,n){if(t.length){var i=[];for(var r=0;r<t.length;r++){var o=t[r];var s=o.selectAppParamName;var l=n&&!!n.filter(function(e){return e.fieldName===s})[0];i.push(g(e,o,l))}return a.all(i)}return a.resolve([])};h.getConstraintFieldBindingValues=function(e,t){if(t.length){var n=[];for(var i=0;i<t.length;i++){var r=t[i];r.range?n.push(g(e,r,false)):n.push(a.resolve({noConstraint:true,fieldValues:[],selectedFieldValues:[]}))}return a.all(n)}return a.resolve([])};h.getCurrentlySelectedFields=function(e){return s.get(e).then(function(e){return e.getLayout().then(function(e){var t=[];for(var n=0;n<e.qSelectionObject.qSelections.length;n++){var i=e.qSelectionObject.qSelections[n];t.push({fieldName:i.qField,selectionCount:i.qSelectedCount})}return t})})};h.getBDIObject=function(e){return e.createSessionObject({qProp:{qInfo:{qType:"BDIObject"},qBDIObjectDef:{}}})};h.getBDISelection=function(e,t){return h.getBDIObject(e,t).then(function(e){return e.getLayout().then(function(n){if(!n||!n.qBDIObject||!n.qBDIObject.qValid)return a.resolve({});return e.setProperties({qProp:{qInfo:{qType:"BDIObject"},qBDIObjectDef:{qHandleCopyInLayout:t}}}).then(function(){return e.getLayout()})})})};h.getTemplateApps=function(e){var t=e.get();return u.getFlag("ODAG_SAAS_ENABLED")?f.getTemplateApps().then(function(e){return t.then(function(t){var n=e.data.filter(function(e){return e.id.toLowerCase()!=t.id.toLowerCase()});return n.map(function(e){return{qDocId:e.id,qDocName:e.name}})})}):t.then(function(t){return e.getList(t.session).then(function(e){var n=e.filter(function(e){return e.qDocId.toLowerCase()!=t.id.toLowerCase()});return n})})};h.getBDIBindingValues=function(e,t){if(t&&t.length>0){var n=[];return h.getBDISelection(e,"model").then(function(i){var r=i&&i.qBDIObject;if(r&&r.qValid){for(var o=0;o<t.length;++o)if("setHandle"===t[o].selectAppParamName){var s={selectionAppParamType:"BDI",selectionAppParamName:t[o].selectAppParamName,values:[{selStatus:"S",strValue:r.qGeneratedHandleCopy,numValue:"NaN"}]};n.push(s)}b(e,i.qInfo.qId)}return{bindingValuesArray:n}})}return a.resolve({})};h.reloadApp=function(e,t,n,i,r){switch(i){case 1:case 2:return y(e,t).then(function(t){if(t){var o=false;2==i&&(o=true);return v(e).reloadApp(n,r,t.bindingValuesArray,t.selectedValuesArray,o)}return a.resolve(null)});default:return v(e).reloadApp(n)}};h.getSelections=function(e,t){return v(e).getSelections(t)};h.generateApp=function(e,t,n,i,r){return y(e,n).then(function(o){return o?v(e).generateApp(n.id,e.id,i,t,r,o.bindingValuesArray,o.selectedValuesArray):a.resolve(null)})};h.removeODAGAppLinkWithODAGLinkId=function(e,t){return n.getList(e).then(function(i){return i.getLayout().then(function(i){var r=i.filter(function(e){return e.qData.odagLinkRef===t});if(r.length)return n.remove(e,r[0].qInfo.qId)})})};h.reorderNavPoints=function(e,t){e.reorderNavPoints(t)};h.moveNavPoint=function(e,t,n){e.moveNavPoint(t,n)};h.requestAction=function(e,t,n,i,r){return v(e).requestAction(t,n,i,r)};h.getGeneratedAppsForLink=function(e,t,n,i,r,o){return v(e).getGeneratedAppsForLink(n,i,e.id,t,r,o,true)};h.clearCachedSessionObjects=function(e){var t=this;function n(n){return t.odagLinkSessionObjects[e.id][n].getLayout().then(function(i){b(e,i.qInfo.qId);delete t.odagLinkSessionObjects[e.id][n]})}var i=[];for(var r in this.odagLinkSessionObjects[e.id])i.push(n(r));this.getODAGLinksPromise[e.id]=null;return a.all(i)};h.getOrCreateSessionObjectsForLink=function(e,t){var n=this;if(this.odagLinkSessionObjects[e.id]&&this.odagLinkSessionObjects[e.id][t.id])return a.resolve(this.odagLinkSessionObjects[e.id][t.id]);c.maxRowExpression.MaxRowCountExpression.qValueExpression.qExpr=t.rowEstExpr;return e.enigmaModel.createSessionObject(c.maxRowExpression).then(function(i){n.odagLinkSessionObjects[e.id]||(n.odagLinkSessionObjects[e.id]={});n.odagLinkSessionObjects[e.id][t.id]=i;return i})};return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(90)],r=function(e,t,n){function i(n){return n?t.resolve(n.enigmaModel):e.getApp()}var r={};r.get=function(e,t){return i(t).then(function(t){return t.getDimension(e)})};r.create=function(e,t){return i(t).then(function(t){e.qInfo.qId=e.qInfo.qId||n.generateId();return t.createDimension(e)})};r.remove=function(e,t){return i(t).then(function(t){return t.destroyDimension(e)})};r.getList=function(e){return i(e).then(function(e){return e.getDimensionListObject()})};r.getListLayout=function(e){return r.getList(e).then(function(e){return e.getLayout()})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(987),n(90)],r=function(e,t){location.hash&&history.replaceState(null,null,location.href.replace("#!/",""));var n={};var i=t.getParameterByName("app");var r=t.getParameterByName("language");var o=t.getParameterByName("theme");var s=t.getParameterByName("debug");var a=t.getParameterByName("options");var l=t.getParameterByName("bookmark");var u=t.getParameterByName("noData");var c=t.getParameterByName("feature");var f=t.getParameterByName("ttl");var d=t.getParameterByName("identity");var p=[];var h=[];var v=[];var m=[];i&&p.push("app",i);r&&h.push("language",r);o&&h.push("theme",o);s&&h.push("debug",s);a&&h.push("options",a);l&&h.push("bookmark",l);u&&h.push("noData",true);c&&h.push("feature",c);f&&h.push("ttl",f);d&&h.push("identity",d);n.isSuffixInUse=function(e){for(var t=0;t<h.length;t++)if(h[t]===e)return true;return false};n.removePartialSuffix=function(e){var t=false;for(var i=0;i<h.length;i++)if(h[i]===e){h.splice(i,2);t=true;break}if(t){var r=location.href,o=new RegExp("/"+e+"/[^/]+","i");g();if(o.test(r)){r=r.replace(o,"");n.setUrl(r)}}return t};function g(){m.forEach(function(e){e.dispose()});v.forEach(function(e){n.addRoute(e)})}function b(){window.addEventListener("popstate",function(){var e=t.getParameterByName("app");if(i&&i!==e){location.href=location.href;return}n.parse()},false)}n.parse=function(t){e.parse(t||location.pathname)};n.addRoute=function(t){var n=this;var i=t.pattern;v.push(t);t.isPartial&&"/"===i&&(i="");var r=e.addRoute(i,function(){n.lastRoute&&n.lastRoute!==t&&n.lastRoute.DeRoute.emit();n.lastRoute=t;t.Route.emit.apply(t.Route,arguments)});m.push(r)};n.setUrl=function(e,t,i,r){t=true;var o=location.href.toLowerCase().indexOf("?x-")>-1;o&&(e=e.replace(/\?x-.+?=[^&]+/i,"").replace("&","?"));if(r)location.href=e;else if(e!==location.href){history[t?"replaceState":"pushState"](null,null,e);i||n.parse()}};n.start=function(){this.setUrl(location.href);b(this);n.parse()};n.buildUrl=function(){var e=Array.apply(null,arguments);var n="";var i="";var r;if(true===e[0]){n=e[1];e=e.slice(2)}else e.unshift.apply(e,p);h.length&&e.push.apply(e,h);e=e.map(function(e){return encodeURIComponent(e).replace(/'/g,"%27")});if(n){var o=new RegExp("([^/])/"+t.project+"/","i");i=t.baseURI.replace(o,"$1/"+n+"/")}else i=t.baseURI;r=i+e.join("/").replace(/[/]+/g,"/");return r};n.buildHubUrl=function(){return window.customHubUrl?window.customHubUrl:this.buildUrl(true,"hub")};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(48),n(11),n(102),n(112)],r=function(e,t,n,i,r){return e.extend({init:function e(n){this.assets=n;this.loading=true;this.$scope=t.$rootScope.$new(true);this.$scope.assets=n;i.create(this,"Resize");this.initLoadData();this.bindWatches()},destroy:function e(){this.$scope.$destroy()},initLoadData:function e(){},onLoadData:function e(){},doFilter:function e(t){return t.slice()},bindWatches:function e(){this.$scope.$watch("assets.query",this.onFilter.bind(this))},onFilter:function e(){var t=this.doFilter(this.list);this.items=t;this.matchCount=this.assets.query?t.length:0},resize:function e(t){this.Resize.emit(t)},addItemToSheetOrActiveObject:function e(t){r.itemDblClickHandler(t)},openContextMenu:function e(){},openPreview:function e(t,i){this.previewManager.open(t,this.assets.query,n(i.currentTarget))},closePreview:function e(){this.previewManager.close()}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(111)],r=function(e){var t,n;t={openPreview:function e(i){t.close();n=i},openContextMenu:function n(i,r,o){t.close();e.getService("qvContextMenu").show(i,{position:{x:o.pageX,y:o.pageY}})},close:function t(){if(n){n.close();n=null}e.getService("qvContextMenu").close()}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(2),n(90),n(13),n(49),n(489)],r=function(e,t,i,r,s){var a="en-US";var l=["es-ES","es","sv-SE","sv","ja-JP","ja","en-US","en-GB","en","de-DE","de","fr-FR","fr","it-IT","it","nl-NL","nl","pt-BR","pt","ru-RU","ru","zh-CN","zh","zh-TW","ko-KR","ko","tr-TR","tr","pl-PL","pl"];function u(){var t=i.apiPath+"v1/locale";return e({method:"GET",url:t,timeout:3e3}).then(function(e){return e.data.locale})}function c(){var t=i.apiPath+"about/v1/language";return e({method:"GET",url:t,headers:{"x-qlik-capabilities":"about"},timeout:3e3}).then(function(e){return e.data["accept-language"]})}function f(){return r.getFlag("USE_LOCALE_SERVICE")?u():c()}function d(e){var i=n.p+"assets/external/dragomanjs/";var r=i.replace(/\?+\d+/g,"");var u={path:r,fallbackLanguage:a,supportedLocales:l};var c=t.extend({},u,e);c="undefined"!==typeof e&&"object"===o(e)?t.extend({},u,e):u;return s.init(c)}function p(e){return f().then(function(n){e=t.extend({},e,{requestedLocales:n.toString()});return d(e)}).catch(function(){return d(e)})}return{init:p,translate:s.translate,locale:s.locale,format:s.format,parse:s.parse,defaultLocale:a,supportedLocales:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={CACHE:Object.create(null)};e.string=function(t){var n=e.CACHE[t]||(t+"").normalize("NFKC");e.CACHE[t]=n;return n};e.array=function(t){return t.map(function(t){return e.string(t)})};e.exist=function(t,n){t=e.string(t);n=e.array(n);return n.indexOf(t)>-1};e.find=function(t,n,i){t=e.string(t);var r=e.array(n);return(i?r:n).filter(function(e,n){return r[n].indexOf(t)>-1})};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(609),n(254),n(117),n(89),n(90)],r=function(e,t,n,i,r){var o={},s,a,l;s=e.extend("App",{init:function e(n,r,o,s,l){var u=this;o&&a||(a=u);u.rpcOptions=r||{};u.rpcOptions.onError=s;u.rpcOptions.onWarning=l;u.session=t.get(n,r);u.session.modelCache[n]=i.resolve(u);u.waitForOpen=new i;u._super({id:n,session:u.session,checkCreate:true});try{u.open().then(function(){u.waitForOpen.resolve(u)},function(e){u.waitForOpen.reject({error:e})})}catch(e){u.waitForOpen.reject({isHandled:false,error:e})}},open:function e(){var t=this;t.session.Error.bind(function(e){setTimeout(function(){e.error&&!e.error.isHandled&&window.console.log("Error from Engine:",e)},1e3)});function i(){t.enigmaModel=t.session.__enigmaApp;t.handle=t.enigmaModel.handle;t.engineApp=n.bootstrap(t.enigmaModel);t.engineApp.name=t.id;t.enigmaModel.engineApp=t.engineApp;s.current===t&&n.setCurrentApp(t.engineApp);t.bindToRPC()}return t.session.enigmaPromise.then(i)},close:function e(t){delete o[this.cacheId];this.session.close();if(a===this){a=void 0;l=true}return this._super(t)},createSessionObject:function e(t){return this.rpc("CreateSessionObject","qReturn",[t])},createSessionVariable:function e(t){return this.rpc("CreateSessionVariable","qReturn",[t])},doSave:function e(){return this.rpc("DoSave",null)},getProperties:function e(){return this._super("GetAppProperties")},setProperties:function e(t){return this._super(t,"SetAppProperties")},checkExpression:function e(t,n){var i=[t];n&&i.push(n);return this.rpc("CheckExpression",null,i)},checkNumberOrExpression:function e(t){return this.rpc("CheckNumberOrExpression",null,[t])},evaluateExpression:function e(t){return this.rpc("Evaluate","qReturn",[t])},getConfiguration:function e(){return this.session.rpc({method:"GetConfiguration",handle:-1,params:[]}).then(function(e){return e.result.qConfig})},getVersion:function e(){return this.session.rpc({method:"QvVersion",handle:-1,params:[]}).then(function(e){return e.result.qReturn})},getListOfFunctions:function e(){return this.session.rpc({method:"GetFunctions",handle:-1,params:[]}).then(function(e){return e.result.qFunctions})},getLocaleInfo:function e(){return this.rpc("GetLocaleInfo","qReturn")},getExpressions:function e(){return this.rpc("GetExpressions","qExpressions")},getStreams:function e(){var t=this;return t.streamsList?i.resolve(t.streamsList):this.session.rpc({method:"GetStreamList",handle:-1,params:[]}).then(function(e){t.streamsList=e.result.qStreamList;return t.streamsList})},getPublishableStreams:function e(){var t=this.getLayout();var n=this.getStreams();var r=new i;i.all({layout:t,streams:n}).then(function(e){var t=e.streams.filter(function(t){return e.layout.stream?t.qId===e.layout.stream.id&&-1!==t.privileges.indexOf("publish"):-1!==t.privileges.indexOf("publish")});r.resolve(t)});return r.promise},getMatchingFields:function e(t){return this.rpc("GetMatchingFields",null,[t])},getContentLibraries:function e(){return this.rpc("GetContentLibraries").then(function(e){return e.qList.qItems})},getLibraryContent:function e(t){return this.rpc("GetLibraryContent",null,[t]).then(function(e){return e.qList.qItems})},getMediaList:function e(){return this.rpc("GetMediaList").then(function(e){return e.qList.qItems})},findMatchingFields:function e(t,n){return this.rpc("FindMatchingFields",null,[t,n])},abortModal:function e(t){return this.enigmaModel.switchModalSelection(t)},switchModal:function e(t,n,r){this.enigmaModel.switchModalSelection(t&&t.enigmaModel,n,r);return i.resolve()},setModal:function e(t){this.enigmaModel.setModalSelection(t&&t.enigmaModel)},isModal:function e(){return this.enigmaModel.isInModalSelection()},publish:function e(t){return this.rpc("Publish",null,[t])}});Object.defineProperty(s,"current",{get:function e(){return a}});s.makeCacheId=function(e,t){var n=e.toLowerCase();if(t){n+=t.host?"/"+t.host:"/";n+=t.identity?"/"+t.identity:"/";n+=t.openWithoutData?"/openWithoutData":"/";n+=t.port?"/"+t.port:"/";n+=t.prefix?"/"+t.prefix:"/";n+=t.subpath?"/"+t.subpath:"/"}return n};s.get=function(e,t,n,r,o){if(!arguments.length&&l)return i.reject(new Error("The current app has been closed"));var a=s.getSync(e,t,n,r,o);return a.waitForOpen.promise};s.getSync=function(e,t,n,i,a){e=e||r.getParameterByName("app")||"?transient=";"undefined"===typeof t&&(t={});"string"!==typeof t.host&&(t.host=r.hostname);"string"!==typeof t.port&&(t.port=r.port);"string"!==typeof t.prefix&&(t.prefix="/"===r.basePath?"":r.basePath);"boolean"!==typeof t.isSecure&&(t.isSecure=r.isSecure);"string"!==typeof t.reloadURI&&(t.reloadURI=r.reloadURI);var l=s.makeCacheId(e,t);o[l]=o[l]||new s(e,t,n,i,a);var u=o[l];u.cacheId=l;return u};s.create=function(e,t){return t.rpc({method:"CreateApp",handle:-1,params:[e]}).then(function(e){return e.result})};s.remove=function(e,t){return t.rpc({method:"DeleteApp",handle:-1,params:[e]}).then(function(e){return e.result})};s.getList=function(e){return e.rpc({method:"GetDocList",handle:-1,params:[]}).then(function(e){return e.result.qDocList})};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(115),n(153),n(90),n(124),n(10)],r=function(e,t,n,i,r,o,s){var a=[];function l(n){return n?t.resolve(n.enigmaModel):e.getApp()}var u={};u.get=function(e,t){return l(t).then(function(t){return t.getObject(e)})};u.createTransient=function(e,t,i){var r,l,u,c=-1,f=a.length;r={that:e,app:t,props:i};for(l=0;l<f;l++)if(a[l].askFor.that===e&&a[l].askFor.app===t&&s.equals(a[l].askFor.props,i)){c=l;break}if(c>=0)return a[c].result;u=o.load().then(function(){return n.getType("listbox").getInitialProperties(i).then(function(e){return t.createSessionObject(e)})});a.push({askFor:r,result:u});return u};u.createTransientField=function(e,t,n){var o={};o.qListObjectDef=i.createFieldDimension(t);r.extend(true,o,n||{});return this.createTransient(this,e,o)};u.createTransientDimension=function(e,t,n){var o={};o.qListObjectDef=i.createLibraryDimension(t);r.extend(true,o,n||{});return this.createTransient(this,e,o)};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return e&&e.enigmaModel&&e.enigmaModel.app&&e.enigmaModel===e.enigmaModel.app.modalSelectionObject}function t(e){return e&&e.qSelectionInfo&&e.qSelectionInfo.qInSelections}function n(e,t){var n=false;return e.getField(t).then(function(e){return e.getNxProperties().then(function(e){return e.qOneAndOnlyOne||n})})}function i(e){return e.getAppLayout().then(function(e){return["$"].concat(e.qStateNames)})}function r(e,t){var n=!!e.qOneAndOnlyOne;var i=!!t.qOneAndOnlyOne;if(n===i)return e.qSortIndex-t.qSortIndex;return n?-1:1}function o(e){return e.filter(function(e){return!e.qOneAndOnlyOne&&!e.qLocked})}function s(e){return(e||[]).filter(function(e){return o(e.qSelectionObject.qSelections).length})}return{isModalSelectionModel:e,isInSelection:t,isSingleSelect:n,getSelectionStates:i,sortSelections:r,getClearableItems:o,getClearableStates:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t={},n,i,r,o,s=false,a=e.Deferred();t.parse=function(e){n=e.userId;i=e.userDirectory;s=e.mustAuthenticate;o=e.loginUri;r=e.logoutUri;true===s&&e.loginUri&&(window.location.href=e.loginUri);a.resolve(this)};t.onDataReceived=a.promise();Object.defineProperties(t,{userId:{get:function e(){return n}},userDirectory:{get:function e(){return i}},mustAuthenticate:{get:function e(){return s}},loginUri:{get:function e(){return o}},logoutUri:{get:function e(){return r}}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(153),n(148),n(161),n(186),n(399),n(49),n(157),n(229)],r=function(e,t,n,i,r,o,s){function a(t,a,l,u){var c;if(o.getFlag("DISABLE_AUTO_CHART")||s.isVariableDefined("DISABLE_AUTO_CHART")||u&&u.shiftKey||!t.classifications&&!l.isDerived){c=e.createFieldDimension(t.qName);e.autoSortDimension(c,[t]);return{id:"newObject",args:{template:"filterpane",children:[e.createDefaultListBox(c,n.trimAutoCalendarName(t.qName))],init:{}}}}var f={id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qInterColumnSortOrder:[0]}},annotatedFields:a}};if(i.isMeasure(t.classifications))return r.getAggregationForFieldItem(t).then(function(e){f.args.init.qHyperCubeDef.qMeasures.push({qDef:{qDef:i.getMeasureExpression(t.qName,e)},qSortBy:{qSortByNumeric:-1,qSortByLoadOrder:1}});return f});var d={qDef:{qFieldDefs:[t.qName],qSortCriterias:[{qSortByLoadOrder:1}]}};f.args.init.qHyperCubeDef.qDimensions.push(d);return f}function l(e){var t=[];for(var i=0;i<e.length;++i){var r=e[i];r.isDateField=c(r);r.isGeoField=f(r);t.push(r);if(r.qDerivedFieldData)for(var o=0;o<r.qDerivedFieldData.qDerivedFieldLists.length;++o){var s=r.qDerivedFieldData.qDerivedFieldLists[o];for(var a=0;a<s.qFieldDefs.length;++a){var l=s.qFieldDefs[a];t.push({qName:l.qName,displayName:n.trimAutoCalendarName(l.qName),qSrcTables:r.qSrcTables,qTags:l.qTags,isDerived:true,isDerivedFromDate:r.isDateField,sourceField:r.qName,derivedDefinitionName:s.qDerivedDefinitionName})}}}return t}function u(e,t,i){var r=[];if(t)for(var o=0;o<t.qDerivedFieldLists.length;++o){var s=t.qDerivedFieldLists[o];for(var l=0;l<s.qFieldDefs.length;++l){var u=s.qFieldDefs[l];r.push({id:u.qName,qName:u.qMethod,name:u.qName,displayName:n.trimAutoCalendarName(u.qName),qSrcTables:e.qSrcTables,srcTables:e.qSrcTables,qTags:u.qTags,tags:u.qTags,type:"field",isDerived:true,isDerivedFromDate:i,getDropOption:a.bind(null,u,null),sourceField:e.qName,derivedDefinitionName:s.qDerivedDefinitionName})}}return r}function c(e){if(e.qDerivedFieldData)return e.qTags.indexOf("$date")>-1||e.qTags.indexOf("$timestamp")>-1;return false}function f(e){return e.qTags.indexOf("$geoname")>-1}var d={create:function e(n,i){var r=n.map(function(e){var n=c(e);var r=f(e);var o=a.bind(null,e,null);var s=void 0;var l=void 0;var d=void 0;if(i){var p=i._getFields(e.qName,e.qSrcTables);if(p.length>0){s=i.getClassifications(e.qName,e.qSrcTables);l=i.getDataTypes(e.qName,e.qSrcTables);d=i.getDefaultAggregation(e.qName,e.qSrcTables)}o=a.bind(null,e,p);e["defaultAggregation"]=d;e["classifications"]=s;e["dataTypes"]=l}var h={id:e.qName,name:e.qName,type:"field",dataTypes:[],classifications:[],defaultAggregation:"",isDateField:n,isGeoField:r,srcTables:e.qSrcTables,sourceField:e.sourceField,calendarTemplateName:e.derivedDefinitionName,getDropOption:o,tags:e.qTags,icon:t.isDirectDiscoveryField(e)?"direct-discovery":"",iconTooltip:t.getTypeTranslationKey(e.qTags),derivedFields:e.qDerivedFieldData?u(e,e.qDerivedFieldData,n):[]};if(i){h.dataTypes=l;h.classifications=s;h.defaultAggregation=d}return h});return r},expand:l,createFromArray:function e(t,n){var i,r=[];for(i=0;i<t.length;i++){n&&(t[i].qName=t[i][n]);r.push({name:t[i].qName,type:"field",getDropOption:a.bind(null,t[i],null)})}return r},getTables:function e(t){var n=t;var i,r,o;o=[];for(i=0;i<n.length;++i)for(r=0;r<n[i].qSrcTables.length;++r)-1===o.indexOf(n[i].qSrcTables[r])&&o.push(n[i].qSrcTables[r]);return o}};return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(641),n(643)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e,t){0===arguments.length?this.set(0,0):this.set(e,t)}e.prototype={toString:function e(){return this.x+" "+this.y},clone:function t(){return new e(this.x,this.y)},set:function e(t,n){this.x=t;this.y=n},equal:function e(t){return this.x===t.x&&this.y===t.y},closeTo:function e(t,n){if(!t)return false;return Math.abs(this.x-t.x)<n&&Math.abs(this.y-t.y)<n},distanceTo:function e(t){if(!t)return NaN;return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}};return e}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(90)],r=function(e,t,n){function i(n){return n?t.resolve(n.enigmaModel):e.getApp()}var r={};r.get=function(e,t){return i(t).then(function(t){return t.getMeasure(e)})};r.create=function(e,t){return i(t).then(function(t){e.qInfo.qId=e.qInfo.qId||n.generateId();return t.createMeasure(e)})};r.remove=function(e,t){return i(t).then(function(t){return t.destroyMeasure(e)})};r.getList=function(e){return i(e).then(function(e){return e.getMeasureListObject()})};r.getListLayout=function(e){return r.getList(e).then(function(e){return e.getLayout()})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_measure")}function t(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_details")}function n(e){return!!e.qTags&&-1!==e.qTags.indexOf("$dd_dimension")}function i(e){return!!e.qTags&&-1!==e.qTags.indexOf("$directdiscovery")}function r(n){var i=n;n&&(i=n.filter(function(n){return!e(n)&&!t(n)}));return i}function o(i){var r="";var o={qTags:i};e(o)?r="DirectDiscovery.Measure":t(o)?r="DirectDiscovery.Details":n(o)&&(r="DirectDiscovery.Dimension");return r}return{isMeasure:e,isDetails:t,isDimension:n,removeMeasureAndDetailsFields:r,getTypeTranslationKey:o,isDirectDiscoveryField:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(97),n(48)],r=function(e,t,n,i){function r(e,n){var i=new t;e.get(n).then(function(e){t.all({properties:e.getProperties(),layout:e.getLayout?e.getLayout():t.resolve()}).then(function(t){i.resolve({model:e,properties:t.properties,layout:t.layout})})});return i.promise}function o(t,n){t=t.map(function(t){return{name:t,matching:n&&e.match(t,n)}});t.sort(function(e,t){return e.matching&&!t.matching?-1:!e.matching&&t.matching?1:e.name.localeCompare(t.name)});return t}function s(e){var t=e.item;var n=e.query&&e.query.toLowerCase();var i=o(t.tags,n);return{query:n,name:t.name,tags:i}}function a(e,t,n,i){function r(){e(n);t()}return{action:r,icon:i.icon,disabled:i.disabled,title:i.title,tid:i.tid}}function l(e,t,n){return a(e,t,n,{icon:"bin",title:"Common.Delete",tid:"preview-delete-item"})}function u(e,t,n){return a(e,t,n,{icon:"lui-icon lui-icon--edit",title:"Common.Edit",tid:"preview-edit-item"})}function c(e,t,n){return a(e,t,n,{icon:"copy",title:"Common.Duplicate",tid:"preview-duplicate-item"})}function f(e,t,n,i,r){return a(e,t,n,{icon:"drop",title:i,tid:"preview-add-to-sheet",disabled:!r})}function d(e,t,n,i){return a(e,t,n,{icon:"drop",title:"library.addtosheet",tid:"preview-add-to-sheet",disabled:!i})}function p(e,t,n,i){return a(e,t,n,{icon:"expression",title:"contextMenu.addToMasterItems.AsMeasure",tid:"preview-add-as-measure",disabled:!i})}function h(e,t,n,i){return a(e,t,n,{icon:"box",title:"contextMenu.addToMasterItems.AsDimension",tid:"preview-add-as-dimension",disabled:!i})}function v(e,t,n,i){return a(e,t,n,{icon:"cogwheel",title:"field.settings.dialog.title",tid:"preview-field-settings",disabled:!i})}function m(e,t,n){return a(e,t,n,{icon:"code",title:"contextMenu.embed",tid:"7a71"})}function g(e,t){if(!t)return;e.alignTo=t;var n=e.alignTo.offset(),i=e.alignTo.parents("ul").outerWidth(),r=e.alignTo.outerHeight(),o=i+7,s=r/2;e.offset={x:n.left+o,y:n.top+s};e.position="centerRight"}function b(e){var t;var r=null;var o;function s(i,s,l){t=false;o=i;function u(u){if(t)return;r=e.createPreview({item:i,query:s,modelInfo:u,$element:l,closePreview:function e(t){t&&"qv-outside"===t.type&&(o=null);a()}});e.itemDialogHandler.openPreview(r);n.on("start.assets-preview",a);e.State.StateChanged.bind(a)}e.getSlowInfo?e.getSlowInfo(i).then(function(e){u(e)}):u()}function a(){if(r){r.close();e.itemDialogHandler.close();e.State.StateChanged.unbind(a);n.off("start.assets-preview",a);r=null;if(o){o.selected=false;o=null;i.$apply(i.$rootScope)}}t=true}return{open:s,close:a}}return{buttonDelete:l,buttonEdit:u,buttonDuplicate:c,buttonAddTo:f,buttonAddToSheet:d,buttonAddMeasure:p,buttonAddDimension:h,buttonFieldSettings:v,buttonEmbed:m,alignPreview:g,getBasePreviewInfo:s,getItemInformation:r,previewManagerFactory:b}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(93),n(89),n(144),n(48),n(678),n(679),n(680),n(681),n(682),n(94),n(683),n(107),n(166),n(91),n(455),n(96),n(685),n(49),n(686),n(99),n(500),n(425),n(710),n(712)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g,b,y,x,_){var w=null,q=null,C=[];function S(){if(q){q.close();q=null}}function E(e){if(C[e]){C[e].close();C[e]=null}}function D(e,t){t.preventDefault();var n=e.controller.previewText();e.codearea.contextApi.replaceSelection(n)}function O(e,t){t.preventDefault();e.codearea.contextApi.replaceSelection(e.controller.selectedFunction.value+"()");var n=e.codearea.contextApi.getCursor();n.ch+=-1;e.codearea.contextApi.setCursor(n)}function A(e,t){t.preventDefault();e.codearea.contextApi.replaceSelection(e.controller.selectedVariable.qName)}function L(e,t){t.preventDefault();"0"===e.controller.setExpressionOption?_.getCurrentSelections(e.controller.app,e.controller.selectedAlternateState).then(function(t){void 0!==t&&void 0!==t.qSetExpression&&""!==t.qSetExpression?e.codearea.contextApi.replaceSelection("{"+t.qSetExpression+"}"):void 0!==t&&void 0!==t.qSetExpression||M()}):e.controller.selectedBookmark&&_.getSelectionsFromBookmarkId(e.controller.app,e.controller.selectedBookmark.value,e.controller.selectedAlternateState).then(function(t){void 0!==t&&void 0!==t.qSetExpression&&""!==t.qSetExpression?e.codearea.contextApi.replaceSelection("{"+t.qSetExpression+"}"):void 0!==t&&void 0!==t.qSetExpression||M()})}function I(e,t){e.functionTipOptions={service:t,view:v}}function T(t,n,i,o){if(!i)return;if(q){a();return}i=i.replace(/\n/g," ");/^(input|textarea)$/i.test(document.activeElement.tagName)&&e.support.touch&&document.activeElement.blur();function s(){a();n.codearea.contextApi.focus()}function a(){e(document).off("keydown",s);e(document).off("mouseup",s);S()}q=r.getService("luiPopover").show({template:"<lui-popover><lui-popover-body><p>{{input.text}}</p></lui-popover-body></lui-popover>",input:{text:i},controller:["$element",function(e){e.css("z-index","1022")}],alignTo:o.target,closeOnEscape:true,closeOnOutside:true,dock:"top",autoFocus:false});q.closed.then(function(){a()});e(document).one("keydown",{self:this},s);e(document).one("mouseup",{self:this},s)}function k(e,t){var n={expression:e,validity:t.validity};return p.validateExpr(n,d)}function P(e){var t={};e.forEach(function(e){e.fglist.forEach(function(n){t[n]||(t[n]=[]);t[n].push(e.func)})});return t}function M(){var e=r.getService("qvAlertDialog");return e.show({title:h.get("ErrorDialog.Title"),message:h.get("ExpressionEditor.TooManySelections"),closeOnEscape:false})}function R(){var e={statusText:"",errorMsg:"",extraErrorMsg:"",status:"",expr:"",expandedExpr:"",codeArea:null};return e}var N=false;var F=b.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3");var j=F&&b.getFlag("ALT_STATE_ONE");var V={template:o,sections:{fields:{key:"fields",translation:"ExpressionEditor.Fields",template:s,state:{sectionExpanded:true,table:{label:"",value:""},field:{label:"",value:""},aggregfunc:{label:"",value:""},setExpressionCheckBox:false,distinctCheckBox:"",totalCheckBox:""},expanded:true},functions:{key:"functions",translation:"ExpressionEditor.Functions",template:a,state:{sectionExpanded:false,functionCategory:{label:"",value:"ALL"},funct:{label:"",value:""}},expanded:false},setExpressions:{key:"setExpressions",translation:"ExpressionEditor.SetExpressions",template:u,state:{sectionExpanded:false,setExpressionOption:"0",selectedBookmark:"",selectedAlternateState:""},expanded:false},variables:{key:"variables",translation:"ExpressionEditor.Variables",template:l,state:{sectionExpanded:false,variable:"",sysVarsCheckBox:false,showVariablesFirstTime:true},expanded:false}},controller:["$scope","$element","$timeout",function(t,n,i){t.stringLimits=d;t.controller=t.input.controller;t.codearea={content:t.input.expr};t.validity={expression:true};t.initializeToolbar=function(){t.undoDisabled=false;t.redoDisabled=false};t.exposeSetExpression=b.getFlag("SET_EXPRESSION_CHECKBOX");t.isAdvancedPart3=b.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3");t.sections=V.sections;t.items=[V.sections.fields,V.sections.functions,V.sections.setExpressions,V.sections.variables];t.$watch("controller.helpmodeActive",function(){if(t.controller.helpmodeActive){t.helpmodeTooltip="Tooltip.HelpMode.Exit";if(t.isAdvancedPart3){t.undoDisabled=true;t.redoDisabled=true}}else{t.helpmodeTooltip="Tooltip.HelpMode.Enter";if(t.isAdvancedPart3){t.undoDisabled=false;t.redoDisabled=false}}});t.$watch("controller.selectedFunctionCategory",function(e){t.sections.functions.state.functionCategory=e;t.controller.setFunctionCategoryFilter(e)});t.$watch("controller.selectedFunction",function(e){t.sections.functions.state.funct=e;e&&(t.controller.selectedFunctionTip=t.input.expressionBnfModel.getFunctionTip(e.value))});t.$watch("controller.selectedTable",function(e){t.sections.fields.state.table=e;t.controller.setTableFilter(e)});t.$watch("controller.selectedField",function(e){t.sections.fields.state.field=e});t.$watch("controller.selectedFunction",function(e){t.sections.fields.state.funct=e});t.$watch("controller.selectedCommonFunction",function(e){t.sections.fields.state.aggregfunc=e});t.$watch("controller.currentOption",function(e){if(t.exposeSetExpression){t.sections.fields.state.setExpressionCheckBox=e;e&&_.getCurrentSelections(t.app,t.controller.stateName).then(function(n){if(void 0!==n&&void 0!==n.qSetExpression&&""!==n.qSetExpression)t.controller.setCurrentSelections(n.qSetExpression);else if(void 0===n||void 0===n.qSetExpression){t.controller.currentOption=!e;t.sections.fields.state.setExpressionCheckBox=!e;M()}else{t.controller.currentOption=!e;t.items[0].state.setExpressionCheckBox=!e}}).catch(function(){t.controller.currentOption=!e;t.sections.fields.state.setExpressionCheckBox=!e})}});t.$watch("controller.distinctOption",function(e){t.sections.fields.state.distinctCheckBox=e});t.$watch("controller.totalOption",function(e){t.sections.fields.state.totalCheckBox=e});t.$watch("controller.showSystemVars",function(e){t.sections.variables.state.sysVarsCheckBox=e;t.controller.setSysVarsFilter()});t.$watch("controller.selectedVariable",function(e){t.sections.variables.state.variable=e;e?e.qDefinition&&0===e.qDefinition.indexOf("=")?t.app.evaluate(e.qDefinition).then(function(n){t.controller.showVariableInfo(e.qDefinition,n)}):t.controller.showVariableInfo(e.qDefinition,e.qDefinition):t.controller.showVariableInfo("","")});t.enableTouchOverlay=m.utils.touch;t.insertTextHandler=D.bind(null,t);t.insertFunctionHandler=O.bind(null,t);t.insertVariableHandler=A.bind(null,t);t.insertSetExpressionHandler=L.bind(null,t);t.info=R();t.showErrorMessage=T.bind(null,n,t);t.qlikviewReloadScriptMode={name:"qlikviewscript",service:t.input.expressionBnfModel};t.helpModeOptions={syntax:"chartsyntax",service:t.input.expressionBnfModel};t.autocompleteOptions={completeSingle:false,service:t.input.expressionBnfModel};I(t,t.input.expressionBnfModel);t.cancel=function(){t.close();t.$destroy()};function o(e){return e.replace(/(\r\n|\r|\n)/,"\r\n")}t.confirm=function(){var e=o(t.codearea.content);var n=k(e,t);(n||t.input.allowEmpty&&""===e)&&t.close(e)};c.StateChanged.bind(t.cancel);function s(e){t.info.codeArea=t.codearea;e=o(e);t.validity.expression||k(e,t)}x.treatAsDesktop()&&i(function(){i(function(){t.codearea.contextApi.focus();t.codearea.contextApi.setCursor(t.codearea.contextApi.lineCount(),0)})});t.$watch("codearea.content",s);t.openPopover=function(e){var n=e.currentTarget.dataset.context;w&&C&&w!==n&&E(w);w=n;if(!C[n]){C[n]=r.getService("luiPopover").show({template:y.template,controller:y.controller,alignTo:e.currentTarget,input:{context:n,ctrl:t.controller,closePopover:E,items:t.controller.getData(w),setSelectedItem:t.controller.setSelectedItem},position:"bottom",closeOnEscape:true});C[n].closed.then(function(){E(n)})}};i(function(){e(".qv-expandable-list-component").on("scroll",function(){E()})});t.closePopoverIfOpen=function(t){var n=e(t.currentTarget).parents(".popover-wrapper").length>0,i=e(t.target).hasClass("expression-editor-dropdown"),r=e(t.target).hasClass("label");n||i||r||E(w)};t.$on("$destroy",function(){S();E(w);e(".qv-expandable-list-component").off("scroll");N=false;c.StateChanged.unbind(t.cancel)});t.onHelpmode=function(){t.controller.helpmodeActive=!t.controller.helpmodeActive;e(document.body).toggleClass("help-mode",t.controller.helpmodeActive)};function a(){t.controller.helpmodeActive=false}t.onUndo=function(){a();t.codearea.contextApi.undo()};t.onRedo=function(){a();t.codearea.contextApi.redo()};t.initializeToolbar();t.changeCurrentSetExpressionOption=function(e){if(!F)return;t.sections.setExpressions.state.setExpressionOption=e;t.controller.selectedBookmark="";t.controller.selectedAlternateState="";"0"===e?j&&t.controller.currentSelectionsAlternateStates.length>0&&(t.controller.selectedAlternateState=t.controller.currentSelectionsAlternateStates[0].value):t.controller.bookmarks.length>0&&(t.controller.selectedBookmark=t.controller.bookmarks[0])};t.$watch("controller.selectedBookmark",function(e){if(!F)return;t.sections.setExpressions.state.selectedBookmark=e;j&&e&&e.alternateStates.length>0&&(t.controller.isStateInArray(e.alternateStates,t.controller.selectedAlternateState)||(t.controller.selectedAlternateState=e.alternateStates[0].value))});t.$watch("controller.selectedAlternateState",function(e){j&&(t.sections.setExpressions.state.selectedAlternateState=e)})}]};function H(e){var o=e.app?n.resolve(e.app.enigmaModel):t.getApp();return o.then(function(t){return n.all({bnf:g.get(t),fields:t.getFieldList(),variables:t.getVariableList(),layout:t.getLayout(),bookmarks:t.getBookmarkList()}).then(function(o){if(N)return n.reject();var s=o.bnf;var a=i.expand(o.fields);var l=P(s.getFunctionsAndCategories());var u=String(e.expr||"");var c={title:e.title,allowEmpty:e.allowEmpty,labels:e.labels,expr:u,mode:e.mode,controller:f.create({fields:a,sections:V.sections,functions:l,variables:o.variables,bookmarks:o.bookmarks,translator:h,exposeSetExpression:b.getFlag("SET_EXPRESSION_CHECKBOX"),isAdvancedPart3:F,isAlternateState:j,showAlternateStates:j&&t.layout.qStateNames.length>0,stateName:e.stateName,published:true===o.layout.published,app:t}),app:t,expressionBnfModel:s};N=true;var d=r.getService("luiDialog").show({template:V.template,controller:V.controller,input:c,closeOnOutside:false,showArrow:false});return d.closed.then(function(e){return void 0===e?n.reject():e})})})}function B(){return N}return{_insertTextHandler:D,show:H,isOpen:B}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){var i=n(11);var r=n(54);var o=n(615);(function(e,t){var n=this,r;r=n.SirTrevor={};r.DEBUG=false;r.SKIP_VALIDATION=false;r.version="0.3.0";r.LANGUAGE="en";function s(t){return t instanceof e?t:e(t)}r.DEFAULTS={defaultType:false,spinner:{className:"st-spinner",lines:9,length:8,width:3,radius:6,color:"#000",speed:1.4,trail:57,shadow:false,left:"50%",top:"50%"},blockLimit:0,blockTypeLimits:{},required:[],uploadUrl:"/attachments",baseImageUrl:"/sir-trevor-uploads/",errorsContainer:void 0};r.BlockMixins={};r.Blocks={};r.Formatters={};r.instances=[];r.Events=o;var a=false;var l={bound:[],_bindFunctions:function(){this.bound.length>0&&t.bindAll.apply(null,t.union([this],this.bound))}};var u={tagName:"div",className:"sir-trevor__view",attributes:{},$:function(e){return this.$el.find(e)},render:function(){return this},destroy:function(){t.isUndefined(this.stopListening)||this.stopListening();this.$el.remove()},_ensureElement:function(){if(this.el)this._setElement(this.el);else{var n=t.extend({},t.result(this,"attributes")),i;this.id&&(n.id=this.id);this.className&&(n["class"]=this.className);if(n.html){i=n.html;delete n.html}var r=e("<"+this.tagName+">").attr(n);i&&r.html(i);this._setElement(r)}},_setElement:function(e){this.$el=s(e);this.el=this.$el[0];return this}};function c(e,t){var n=-1,i=-1,r=t.length,o=e.length;for(var s=0;s<r;s++){-1==n&&e.substr(s,1)!=t.substr(s,1)&&(n=s-1);-1==i&&e.substr(o-s-1,1)!=t.substr(r-s-1,1)&&(i=s)}return{result:t.substr(n,r-i-n+1),pos1:n,pos2:i}}(function(e){function t(e){e.preventDefault()}function n(t){t.originalEvent.dataTransfer.dropEffect="copy";e(t.currentTarget).addClass("st-drag-over");t.preventDefault()}function i(t){e(t.currentTarget).removeClass("st-drag-over");t.preventDefault()}e.fn.dropArea=function(){this.bind("dragenter",t).bind("dragover",n).bind("dragleave",i);return this};e.fn.noDropArea=function(){this.unbind("dragenter").unbind("dragover").unbind("dragleave");return this};e.fn.caretToEnd=function(){var e,t;e=document.createRange();e.selectNodeContents(this[0]);e.collapse(false);t=window.getSelection();t.removeAllRanges();t.addRange(e);return this}})(i);var f=function(e,n){var i=this;var r;r=e&&t.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)};t.extend(r,i,n);var o=function(){this.constructor=r};o.prototype=i.prototype;r.prototype=new o;e&&t.extend(r.prototype,e);r.__super__=i.prototype;return r};r.log=function(e){!t.isUndefined(console)&&r.DEBUG&&console.log(e)};r.Locales={en:{general:{delete:"Delete?",drop:"Drag __block__ here",paste:"Or paste URL here",upload:"...or choose a file",close:"close",position:"Position",wait:"Please wait...",link:"Enter a link"},errors:{title:"You have the following errors:",validation_fail:"__type__ block is invalid",block_empty:"__name__ must not be empty",type_missing:"You must have a block of type __type__",required_type_empty:"A required block type __type__ is empty",load_fail:"There was a problem loading the contents of the document"},blocks:{text:{title:"Text"},list:{title:"List"},quote:{title:"Quote",credit_field:"Credit"},image:{title:"Image",upload_error:"There was a problem with your upload"},video:{title:"Video"},embedly:{title:"Embedly",fetch_error:"There was a problem fetching your embed",key_missing:"An Embedly API key must be present"},heading:{title:"Heading"}}}};if(void 0===window.i18n){r.log("Using i18n stub");window.i18n={t:function(e,n){var i=e.split(":"),o,s,a,l;s=r.Locales[r.LANGUAGE];for(l=0;l<i.length;l++){a=i[l];t.isUndefined(s[a])||(s=s[a])}o=s;if(!t.isString(o))return"";o.indexOf("__")>=0&&t.each(n,function(e,t){o=o.replace("__"+t+"__",e)});return o}}}else{r.log("Using i18next");i18n.init({resStore:r.Locales,fallbackLng:r.LANGUAGE,ns:{namespaces:["general","blocks"],defaultNs:"general"}})}(function(e,t,n){function i(e,n){var i=t.createElement(e||"div"),r;for(r in n)i[r]=n[r];return i}function r(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=d.substring(0,d.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return f[r]||(p.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",0),f[r]=1),r}function s(e,t){var i=e.style,r,o;if(i[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(o=0;o<c.length;o++){r=c[o]+t;if(i[r]!==n)return r}}function a(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]===n&&(e[r]=i[r])}return e}function u(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c=["webkit","Moz","ms","O"],f={},d,p=function(){var e=i("style");return r(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},v=function e(t){if(!this.spin)return new e(t);this.opts=l(t||{},e.defaults,h)};v.defaults={},l(v.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,r=t.el=a(i(0,{className:n.className}),{position:"relative",zIndex:n.zIndex}),o=n.radius+n.length+n.width,s,l;e&&(e.insertBefore(r,e.firstChild||null),l=u(e),s=u(r),a(r,{left:("auto"==n.left?l.x-s.x+(e.offsetWidth>>1):n.left+o)+"px",top:("auto"==n.top?l.y-s.y+(e.offsetHeight>>1):n.top+o)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines(r,t.opts);if(!d){var c=0,f=n.fps,p=f/n.speed,h=(1-n.opacity)/(p*n.trail/100),v=p/n.lines;!function e(){c++;for(var i=n.lines;i;i--){var o=Math.max(1-(c+i*v)%p*h,n.opacity);t.opacity(r,n.lines-i,o,n)}t.timeout=t.el&&setTimeout(e,~~(1e3/f))}()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return a(i(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*s+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}var s=0,l;for(;s<t.lines;s++)l=a(i(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:d&&o(t.opacity,t.trail,s,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&r(l,a(n("#000","0 0 4px #000"),{top:"2px"})),r(e,r(l,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=a(i("group"),{behavior:"url(#default#VML)"});!s(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(t,n){function i(){return a(e("group",{coordsize:l+" "+l,coordorigin:-s+" "+-s}),{width:l,height:l})}function o(t,o,l){r(c,r(a(i(),{rotation:360/n.lines*t+"deg",left:~~o}),r(a(e("roundrect",{arcsize:1}),{width:s,height:n.width,left:n.radius,top:-n.width>>1,filter:l}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var s=n.length+n.width,l=2*s,u=2*-(n.width+n.length)+"px",c=a(i(),{position:"absolute",top:u,left:u}),f;if(n.shadow)for(f=1;f<=n.lines;f++)o(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)o(f);return r(t,c)},v.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}):d=s(t,"animation")}(),e.Spinner=v})(window,document);r.editorStore=function(e,n,i){var o;i=i||{};switch(n){case"create":var s=t.trim(e.$el.val());e.dataStore={data:[]};if(s.length>0)try{var a=JSON.parse(s);t.isUndefined(a.data)||(e.dataStore=a)}catch(t){e.errors.push({text:i18n.t("errors:load_fail")});e.renderErrors();r.log("Sorry there has been a problem with parsing the JSON");r.log(t)}break;case"reset":e.dataStore={data:[]};break;case"add":if(i.data){e.dataStore.data.push(i.data);o=e.dataStore}break;case"save":e.$el.val(e.dataStore.data.length>0?JSON.stringify(e.dataStore):"");break;case"read":o=e.dataStore;break}if(o)return o};r.Submittable=function(e){this.$form=e;this.intialize()};t.extend(r.Submittable.prototype,{intialize:function(){this.$submitBtn=this.$form.find("input[type='submit']");var n=[];t.each(this.$submitBtn,function(t){n.push(e(t).attr("value"))});this.submitBtnTitles=n;this.canSubmit=true;this.globalUploadCount=0;this._bindEvents()},setSubmitButton:function(e,t){this.$submitBtn.attr("value",t)},resetSubmitButton:function(){t.each(this.$submitBtn,function(t,n){e(t).attr("value",this.submitBtnTitles[n])},this)},onUploadStart:function(e){this.globalUploadCount++;r.log("onUploadStart called "+this.globalUploadCount);1===this.globalUploadCount&&this._disableSubmitButton()},onUploadStop:function(e){this.globalUploadCount=this.globalUploadCount<=0?0:this.globalUploadCount-1;r.log("onUploadStop called "+this.globalUploadCount);0===this.globalUploadCount&&this._enableSubmitButton()},onError:function(e){r.log("onError called");this.canSubmit=false},_disableSubmitButton:function(e){this.setSubmitButton(null,e||i18n.t("general:wait"));this.$submitBtn.attr("disabled","disabled").addClass("disabled")},_enableSubmitButton:function(){this.resetSubmitButton();this.$submitBtn.removeAttr("disabled").removeClass("disabled")},_events:{disableSubmitButton:"_disableSubmitButton",enableSubmitButton:"_enableSubmitButton",setSubmitButton:"setSubmitButton",resetSubmitButton:"resetSubmitButton",onError:"onError",onUploadStart:"onUploadStart",onUploadStop:"onUploadStop"},_bindEvents:function(){t.forEach(this._events,function(e,t){r.EventBus.on(t,this[e],this)},this)}});r.fileUploader=function(n,i,o,s){var a=[n.blockID,(new Date).getTime(),"raw"].join("-");var l=new FormData;l.append("attachment[name]",i.name);l.append("attachment[file]",i);l.append("attachment[uid]",a);n.resetMessages();var u=function(e){r.log("Upload callback called");!t.isUndefined(o)&&t.isFunction(o)&&t.bind(o,n)(e)};var c=function(e,i,o){r.log("Upload callback error called");!t.isUndefined(s)&&t.isFunction(s)&&t.bind(s,n)(i)};var f=e.ajax({url:r.DEFAULTS.uploadUrl,data:l,cache:false,contentType:false,processData:false,dataType:"json",type:"POST"});n.addQueuedItem(a,f);f.done(u).fail(c).always(t.bind(n.removeQueuedItem,n,a));return f};var d=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;t.mixin({isURI:function(e){return d.test(e)},titleize:function(e){if(null===e)return"";e=String(e).toLowerCase();return e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})},classify:function(e){return t.titleize(String(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},classifyList:function(e){return t.map(e,function(e){return t.classify(e)})},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},underscored:function(e){return t.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},reverse:function(e){return e.split("").reverse().join("")},flattern:function(e){var n={};t.each(e,function(i,r){n[t.isArray(e)?i:r]=true});return n},to_slug:function(e){return e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}});r.toHTML=function(e,n){n=t.classify(n);var i=e,o="Text"===n;t.isUndefined(o)&&(o=false);o&&(i="<div>"+i);i=i.replace(/^\> (.+)$/gm,"$1");var s,a;for(s in r.Formatters)if(r.Formatters.hasOwnProperty(s)){a=r.Formatters[s];!t.isUndefined(a.toHTML)&&t.isFunction(a.toHTML)&&(i=a.toHTML(i))}var l;if(r.Blocks.hasOwnProperty(n)){l=r.Blocks[n];!t.isUndefined(l.prototype.toHTML)&&t.isFunction(l.prototype.toHTML)&&(i=l.prototype.toHTML(i))}if(o){i=i.replace(/\n\n/gm,"</div><div><br></div><div>");i=i.replace(/\n/gm,"</div><div>")}i=i.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\n/g,"<br>").replace(/\*\*/,"").replace(/__/,"");i=i.replace(/\\\*/g,"*").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\\_/g,"_").replace(/\\\(/g,"(").replace(/\\\)/g,")").replace(/\\\~/g,"~").replace(/\\\-/g,"-");o&&(i+="</div>");return i};r.toMarkdown=function(e,n){n=t.classify(n);var i=e;i=i.replace(/( class=(")?Mso[a-zA-Z]+(")?)/g,"").replace(/<!--(.*?)-->/g,"").replace(/\/\*(.*?)\*\//g,"").replace(/<(\/)*(meta|link|\\?xml:|st1:|o:)(.*?)>/gi,"");var o=["style","script","applet","embed","noframes","noscript"],s,a;for(a=0;a<o.length;a++){s=new RegExp("<"+o[a]+".*?"+o[a]+"(.*?)>","gi");i=i.replace(s,"")}i=i.replace(/\*/g,"\\*").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\_/g,"\\_").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\~/g,"\\~").replace(/\-/g,"\\-");function l(e,n,i){t.isUndefined(i)&&(i="");return"**"+n.replace(/<(.)?br(.)?>/g,"")+"**"+i}function u(e,n,i){t.isUndefined(i)&&(i="");return"_"+n.replace(/<(.)?br(.)?>/g,"")+"_"+i}i=i.replace(/\u200b/g,"").replace(/<(\w+)(?:\s+\w+="[^"]+(?:"\$[^"]+"[^"]+)?")*>\s*<\/\1>/gim,"").replace(/\n/gm,"");var c,f;for(c in r.Formatters)if(r.Formatters.hasOwnProperty(c)){f=r.Formatters[c];!t.isUndefined(f.toMarkdown)&&t.isFunction(f.toMarkdown)&&(i=f.toMarkdown(i))}i=i.replace(/([^<>]+)(<div>)/g,"$1\n$2").replace(/<div><div>/g,"\n<div>").replace(/(?:<div>)([^<>]+)(?:<div>)/g,"$1\n").replace(/(?:<div>)(?:<br>)?([^<>]+)(?:<br>)?(?:<\/div>)/g,"$1\n").replace(/<\/p>(?!$)/g,"\n").replace(/<(.)?br(.)?>/g,"\n");i=i.replace(/&nbsp;/g," ");var d;if(r.Blocks.hasOwnProperty(n)){d=r.Blocks[n];!t.isUndefined(d.prototype.toMarkdown)&&t.isFunction(d.prototype.toMarkdown)&&(i=d.prototype.toMarkdown(i))}i=i.replace(/<\/?[^>]+(>|$)/g,"");return i};r.EventBus=t.extend({},r.Events);r.BlockMixins.Ajaxable={mixinName:"Ajaxable",ajaxable:true,initializeAjaxable:function(){this._queued=[]},addQueuedItem:function(e,t){r.log("Adding queued item for "+this.blockID+" called "+e);r.EventBus.trigger("onUploadStart");this._queued.push({name:e,deffered:t})},removeQueuedItem:function(e){r.log("Removing queued item for "+this.blockID+" called "+e);r.EventBus.trigger("onUploadStop");this._queued=t.reject(this._queued,function(t){return t.name==e})},hasItemsInQueue:function(){return this._queued.length>0},resolveAllInQueue:function(){t.each(this._queued,function(e){r.log("Aborting queued request: "+e.name);e.deffered.abort()},this)}};r.BlockMixins.Controllable={mixinName:"Controllable",initializeControllable:function(){r.log("Adding controllable to block "+this.blockID);this.$control_ui=e("<div>",{class:"st-block__control-ui"});t.each(this.controls,function(e,n){this.addUiControl(n,t.bind(e,this))},this);this.$inner.append(this.$control_ui)},getControlTemplate:function(t){return e("<a>",{"data-icon":t,class:"st-icon st-block-control-ui-btn st-block-control-ui-btn--"+t})},addUiControl:function(e,t){this.$control_ui.append(this.getControlTemplate(e));this.$control_ui.on("click",".st-block-control-ui-btn--"+e,t)}};r.BlockMixins.Droppable={mixinName:"Droppable",valid_drop_file_types:["File","Files","text/plain","text/uri-list"],initializeDroppable:function(){r.log("Adding droppable to block "+this.blockID);this.drop_options=t.extend({},r.DEFAULTS.Block.drop_options,this.drop_options);var n=e(t.template(this.drop_options.html,{block:this}));this.$editor.hide();this.$inputs.append(n);this.$dropzone=n;this.$dropzone.dropArea().bind("drop",t.bind(this._handleDrop,this));this.$inner.addClass("st-block__inner--droppable")},_handleDrop:function(n){n.preventDefault();n=n.originalEvent;var i=e(n.target),o=n.dataTransfer.types,s,a=[];i.removeClass("st-dropzone--dragover");!t.isUndefined(o)&&t.some(o,function(e){return t.include(this.valid_drop_file_types,e)},this)&&this.onDrop(n.dataTransfer);r.EventBus.trigger("block:content:dropped")}};r.BlockMixins.Fetchable={mixinName:"Fetchable",initializeFetchable:function(){this.withMixin(r.BlockMixins.Ajaxable)},fetch:function(n,i,r){var o=t.uniqueId(this.blockID+"_fetch"),s=e.ajax(n);this.resetMessages();this.addQueuedItem(o,s);t.isUndefined(i)||s.done(t.bind(i,this));t.isUndefined(r)||s.fail(t.bind(r,this));s.always(t.bind(this.removeQueuedItem,this,o));return s}};r.BlockMixins.Pastable={mixinName:"Pastable",initializePastable:function(){r.log("Adding pastable to block "+this.blockID);this.paste_options=t.extend({},r.DEFAULTS.Block.paste_options,this.paste_options);this.$inputs.append(t.template(this.paste_options.html,this));this.$(".st-paste-block").bind("click",function(){e(this).select()}).bind("paste",this._handleContentPaste).bind("submit",this._handleContentPaste)}};r.BlockMixins.Uploadable={mixinName:"Uploadable",uploadsCount:0,initializeUploadable:function(){r.log("Adding uploadable to block "+this.blockID);this.withMixin(r.BlockMixins.Ajaxable);this.upload_options=t.extend({},r.DEFAULTS.Block.upload_options,this.upload_options);this.$inputs.append(t.template(this.upload_options.html,this))},uploader:function(e,t,n){return r.fileUploader(this,e,t,n)}};r.BlockPositioner=function(){var e=["<div class='st-block-positioner__inner'>","<span class='st-block-positioner__selected-value'></span>","<select class='st-block-positioner__select'></select>","</div>"].join("\n");var n=function(e,t){this.$block=e;this.instanceID=t;this.total_blocks=0;this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,{bound:["onBlockCountChange","onSelectChange","toggle","show","hide"],className:"st-block-positioner",visibleClass:"st-block-positioner--is-visible",initialize:function(){this.$el.append(e);this.$select=this.$(".st-block-positioner__select");this.$select.on("change",this.onSelectChange);r.EventBus.on(this.instanceID+":blocks:count_update",this.onBlockCountChange)},onBlockCountChange:function(e){if(e!=this.total_blocks){this.total_blocks=e;this.renderPositionList()}},onSelectChange:function(){var e=this.$select.val();if(0!==e){r.EventBus.trigger(this.instanceID+":blocks:change_position",this.$block,e,1==e?"before":"after");this.toggle()}},renderPositionList:function(){var e="<option value='0'>"+i18n.t("general:position")+"</option>";for(var t=1;t<=this.total_blocks;t++)e+="<option value="+t+">"+t+"</option>";this.$select.html(e)},toggle:function(){this.$select.val(0);this.$el.toggleClass(this.visibleClass)},show:function(){this.$el.addClass(this.visibleClass)},hide:function(){this.$el.removeClass(this.visibleClass)}});return n}();r.BlockReorder=function(){var n=function(e){this.$block=e;this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,{bound:["onMouseDown","onClick","onDragStart","onDragEnd","onDrag","onDrop"],className:"st-block-ui-btn st-block-ui-btn--reorder st-icon",tagName:"a",attributes:function(){return{html:"reorder",draggable:"true","data-icon":"move"}},initialize:function(){this.$el.bind("mousedown touchstart",this.onMouseDown).bind("click",this.onClick).bind("dragstart",this.onDragStart).bind("dragend touchend",this.onDragEnd).bind("drag touchmove",this.onDrag);this.$block.dropArea().bind("drop",this.onDrop)},onMouseDown:function(){r.EventBus.trigger("block:reorder:down")},onDrop:function(n){n.preventDefault();var i=this.$block,o=n.originalEvent.dataTransfer.getData("text/plain"),s=e("#"+o);t.isUndefined(o)||t.isEmpty(s)||i.attr("id")==o||i.attr("data-instance")!=s.attr("data-instance")||i.after(s);r.EventBus.trigger("block:reorder:dropped",o)},onDragStart:function(t){var n=e(t.currentTarget).parent();t.originalEvent.dataTransfer.setDragImage(this.$block[0],n.position().left,n.position().top);t.originalEvent.dataTransfer.setData("Text",this.$block.attr("id"));r.EventBus.trigger("block:reorder:dragstart");this.$block.addClass("st-block--dragging")},onDragEnd:function(e){r.EventBus.trigger("block:reorder:dragend");this.$block.removeClass("st-block--dragging")},onDrag:function(e){},onClick:function(){},render:function(){return this}});return n}();r.BlockDeletion=function(){var e=function(){this._ensureElement();this._bindFunctions()};t.extend(e.prototype,l,u,{tagName:"a",className:"st-block-ui-btn st-block-ui-btn--delete st-icon",attributes:{html:"delete","data-icon":"bin"}});return e}();var p=function(e){var n=e.attr("data-st-name")||e.attr("name");n||(n="Field");return t.capitalize(n)};r.BlockValidations={errors:[],valid:function(){this.performValidations();return 0===this.errors.length},performValidations:function(){this.resetErrors();var e=this.$(".st-required");t.each(e,this.validateField,this);t.each(this.validations,this.runValidator,this);this.$el.toggleClass("st-block--with-errors",this.errors.length>0)},validations:[],validateField:function(t){t=e(t);var n=t.attr("contenteditable")?t.text():t.val();0===n.length&&this.setError(t,i18n.t("errors:block_empty",{name:p(t)}))},runValidator:function(e){t.isUndefined(this[e])||this[e].call(this)},setError:function(e,t){var n=this.addMessage(t,"st-msg--error");e.addClass("st-error");this.errors.push({field:e,reason:t,msg:n})},resetErrors:function(){t.each(this.errors,function(e){e.field.removeClass("st-error");e.msg.remove()});this.$messages.removeClass("st-block__messages--is-visible");this.errors=[]}};r.BlockStore={blockStorage:{},createStore:function(e){this.blockStorage={type:t.underscored(this.type),data:e||{}}},save:function(){this.toData()},saveAndReturnData:function(){this.save();return this.blockStorage},saveAndGetData:function(){var e=this.saveAndReturnData();return e.data||e},getData:function(){return this.blockStorage.data},setData:function(e){r.log("Setting data for block "+this.blockID);t.extend(this.blockStorage.data,e||{})},setAndRetrieveData:function(e){this.setData(e);return this.getData()},setAndLoadData:function(e){this.setData(e);this.beforeLoadingData()},toData:function(){},loadData:function(){},beforeLoadingData:function(){r.log("loadData for "+this.blockID);r.EventBus.trigger("editor/block/loadData");this.loadData(this.getData())},_loadData:function(){r.log("_loadData is deprecated and will be removed in the future. Please use beforeLoadingData instead.");this.beforeLoadingData()},checkAndLoadData:function(){t.isEmpty(this.getData())||this.beforeLoadingData()}};r.SimpleBlock=function(){var n=function(e,n){this.createStore(e);this.blockID=t.uniqueId("st-block-");this.instanceID=n;this._ensureElement();this._bindFunctions();this.initialize.apply(this,arguments)};t.extend(n.prototype,l,r.Events,u,r.BlockStore,{focus:function(){},valid:function(){return true},className:"st-block",block_template:t.template("<div class='st-block__inner'><%= editor_html %></div>"),attributes:function(){return{id:this.blockID,"data-type":this.type,"data-instance":this.instanceID}},title:function(){return t.titleize(this.type.replace(/[\W_]/g," "))},blockCSSClass:function(){this.blockCSSClass=t.to_slug(this.type);return this.blockCSSClass},type:"",class:function(){return t.classify(this.type)},editorHTML:"",initialize:function(){},onBlockRender:function(){},beforeBlockRender:function(){},_setBlockInner:function(){var e=t.result(this,"editorHTML");this.$el.append(this.block_template({editor_html:e}));this.$inner=this.$el.find(".st-block__inner");this.$inner.bind("click mouseover",function(e){e.stopPropagation()})},render:function(){this.beforeBlockRender();this._setBlockInner();this._blockPrepare();return this},_blockPrepare:function(){this._initUI();this._initMessages();this.checkAndLoadData();this.$el.addClass("st-item-ready");this.on("onRender",this.onBlockRender);this.save()},_withUIComponent:function(e,t,n){this.$ui.append(e.render().$el);t&&n&&this.$ui.on("click",t,n)},_initUI:function(){var t=e("<div>",{class:"st-block__ui"});this.$inner.append(t);this.$ui=t;this._initUIComponents()},_initMessages:function(){var t=e("<div>",{class:"st-block__messages"});this.$inner.prepend(t);this.$messages=t},addMessage:function(t,n){var i=e("<span>",{html:t,class:"st-msg "+n});this.$messages.append(i).addClass("st-block__messages--is-visible");return i},resetMessages:function(){this.$messages.html("").removeClass("st-block__messages--is-visible")},_initUIComponents:function(){this._withUIComponent(new r.BlockReorder(this.$el))}});n.fn=n.prototype;n.extend=f;return n}();r.Block=function(){var n=function(e,t){r.SimpleBlock.apply(this,arguments)};var i=["<div class='st-block__ui-delete-controls'>","<label class='st-block__delete-label'>","<%= i18n.t('general:delete') %>","</label>","<a class='st-block-ui-btn st-block-ui-btn--confirm-delete st-icon' data-icon='tick'></a>","<a class='st-block-ui-btn st-block-ui-btn--deny-delete st-icon' data-icon='close'></a>","</div>"].join("\n");var o={html:['<div class="st-block__dropzone">','<span class="st-icon"><%= _.result(block, "icon_name") %></span>','<p><%= i18n.t("general:drop", { block: "<span>" + _.result(block, "title") + "</span>" }) %>',"</p></div>"].join("\n"),re_render_on_reorder:false};var s={html:['<input type="text" placeholder="<%= i18n.t("general:paste") %>"',' class="st-block__paste-input st-paste-block">'].join("")};var a={html:['<div class="st-block__upload-container">','<input type="file" type="st-file-upload">','<button class="st-upload-btn"><%= i18n.t("general:upload") %></button>',"</div>"].join("\n")};r.DEFAULTS.Block={drop_options:o,paste_options:s,upload_options:a};t.extend(n.prototype,r.SimpleBlock.fn,r.BlockValidations,{bound:["_handleContentPaste","_onFocus","_onBlur","onDrop","onDeleteClick","clearInsertedStyles","getSelectionForFormatter","onBlockRender"],className:"st-block st-icon--add",attributes:function(){return t.extend(r.SimpleBlock.fn.attributes.call(this),{"data-icon-after":"add"})},icon_name:"default",validationFailMsg:function(){return i18n.t("errors:validation_fail",{type:this.title()})},editorHTML:'<div class="st-block__editor"></div>',toolbarEnabled:true,droppable:false,pastable:false,uploadable:false,fetchable:false,ajaxable:false,drop_options:{},paste_options:{},upload_options:{},formattable:true,_previousSelection:"",initialize:function(){},toMarkdown:function(e){return e},toHTML:function(e){return e},withMixin:function(e){if(!t.isObject(e))return;var n="initialize"+e.mixinName;if(t.isUndefined(this[n])){t.extend(this,e);this[n]()}},render:function(){this.beforeBlockRender();this._setBlockInner();this.$editor=this.$inner.children().first();if(this.droppable||this.pastable||this.uploadable){var t=e("<div>",{class:"st-block__inputs"});this.$inner.append(t);this.$inputs=t}this.hasTextBlock&&this._initTextBlocks();this.droppable&&this.withMixin(r.BlockMixins.Droppable);this.pastable&&this.withMixin(r.BlockMixins.Pastable);this.uploadable&&this.withMixin(r.BlockMixins.Uploadable);this.fetchable&&this.withMixin(r.BlockMixins.Fetchable);this.controllable&&this.withMixin(r.BlockMixins.Controllable);this.formattable&&this._initFormatting();this._blockPrepare();return this},remove:function(){this.ajaxable&&this.resolveAllInQueue();this.$el.remove()},loading:function(){t.isUndefined(this.spinner)||this.ready();this.spinner=new Spinner(r.DEFAULTS.spinner);this.spinner.spin(this.$el[0]);this.$el.addClass("st--is-loading")},ready:function(){this.$el.removeClass("st--is-loading");if(!t.isUndefined(this.spinner)){this.spinner.stop();delete this.spinner}},toData:function(){r.log("toData for "+this.blockID);var e=this.$el,n={};if(this.hasTextBlock()){var i=this.getTextBlock().html();i.length>0&&(n.text=r.toMarkdown(i,this.type))}this.$(":input").not(".st-paste-block").length>0&&this.$(":input").each(function(e,t){t.getAttribute("name")&&(n[t.getAttribute("name")]=t.value)});t.isEmpty(n)||this.setData(n)},focus:function(){this.getTextBlock().focus()},blur:function(){this.getTextBlock().blur()},onFocus:function(){this.getTextBlock().bind("focus",this._onFocus)},onBlur:function(){this.getTextBlock().bind("blur",this._onBlur)},_onFocus:function(){this.trigger("blockFocus",this.$el)},_onBlur:function(){},onDrop:function(e){},onDeleteClick:function(e){e.preventDefault();var n=function(e){e.preventDefault();this.trigger("removeBlock",this.blockID)};var r=function(e){e.preventDefault();this.$el.removeClass("st-block--delete-active");o.remove()};if(this.isEmpty()){n.call(this,new Event("click"));return}this.$inner.append(t.template(i));this.$el.addClass("st-block--delete-active");var o=this.$inner.find(".st-block__ui-delete-controls");this.$inner.on("click",".st-block-ui-btn--confirm-delete",t.bind(n,this)).on("click",".st-block-ui-btn--deny-delete",t.bind(r,this))},pastedMarkdownToHTML:function(e){return r.toHTML(r.toMarkdown(e,this.type),this.type)},onContentPasted:function(e,t){t.html(this.pastedMarkdownToHTML(t[0].innerHTML));this.getTextBlock().caretToEnd()},beforeLoadingData:function(){this.loading();if(this.droppable||this.uploadable||this.pastable){this.$editor.show();this.$inputs.hide()}r.SimpleBlock.fn.beforeLoadingData.call(this);this.ready()},_handleContentPaste:function(n){var i=e(n.currentTarget);t.delay(t.bind(this.onContentPasted,this,n,i),0)},_getBlockClass:function(){return"st-block--"+this.className},_initUIComponents:function(){var e=new r.BlockPositioner(this.$el,this.instanceID);this._withUIComponent(e,".st-block-ui-btn--reorder",e.toggle);this._withUIComponent(new r.BlockReorder(this.$el));this._withUIComponent(new r.BlockDeletion,".st-block-ui-btn--delete",this.onDeleteClick);this.onFocus();this.onBlur()},_initFormatting:function(){var e;for(var n in r.Formatters)if(r.Formatters.hasOwnProperty(n)){e=r.Formatters[n];t.isUndefined(e.keyCode)||e._bindToBlock(this.$el)}},_initTextBlocks:function(){this.getTextBlock().bind("paste",this._handleContentPaste).bind("keyup",this.getSelectionForFormatter).bind("mouseup",this.getSelectionForFormatter).bind("DOMNodeInserted",this.clearInsertedStyles)},getSelectionForFormatter:function(){t.defer(function(){var e=window.getSelection(),t=e.toString().trim();""===t?r.EventBus.trigger("formatter:hide"):r.EventBus.trigger("formatter:positon")})},clearInsertedStyles:function(e){var t=e.target;t.removeAttribute("style")},hasTextBlock:function(){return this.getTextBlock().length>0},getTextBlock:function(){t.isUndefined(this.text_block)&&(this.text_block=this.$(".st-text-block"));return this.text_block},isEmpty:function(){return t.isEmpty(this.saveAndGetData())}});n.extend=f;return n}();r.Formatter=function(){var e=function(e){this.formatId=t.uniqueId("format-");this._configure(e||{});this.initialize.apply(this,arguments)};var n=["title","className","cmd","keyCode","param","onClick","toMarkdown","toHTML"];t.extend(e.prototype,{title:"",className:"",cmd:null,keyCode:null,param:null,toMarkdown:function(e){return e},toHTML:function(e){return e},initialize:function(){},_configure:function(e){this.options&&(e=t.extend({},this.options,e));for(var i=0,r=n.length;i<r;i++){var o=n[i];e[o]&&(this[o]=e[o])}this.options=e},isActive:function(){return document.queryCommandState(this.cmd)},_bindToBlock:function(e){var t=this,n=false;e.on("keyup",".st-text-block",function(e){17!=e.which&&224!=e.which&&91!=e.which||(n=false)}).on("keydown",".st-text-block",{formatter:t},function(e){17!=e.which&&224!=e.which&&91!=e.which||(n=true);if(e.which==e.data.formatter.keyCode&&true===n){document.execCommand(e.data.formatter.cmd,false,true);e.preventDefault();n=false}})}});e.extend=f;return e}();r.Blocks.Quote=function(){var e=t.template(['<blockquote class="st-required st-text-block" contenteditable="true"></blockquote>','<label class="st-input-label"> <%= i18n.t("blocks:quote:credit_field") %></label>','<input maxlength="140" name="cite" placeholder="<%= i18n.t("blocks:quote:credit_field") %>"',' class="st-input-string st-required js-cite-input" type="text" />'].join("\n"));return r.Block.extend({type:"quote",title:function(){return i18n.t("blocks:quote:title")},icon_name:"quote",editorHTML:function(){return e(this)},loadData:function(e){this.getTextBlock().html(r.toHTML(e.text,this.type));this.$(".js-cite-input").val(e.cite)},toMarkdown:function(e){return e.replace(/^(.+)$/gm,"> $1")}})}();r.Blocks.Heading=r.Block.extend({type:"Heading",title:function(){return i18n.t("blocks:heading:title")},editorHTML:'<div class="st-required st-text-block st-text-block--heading" contenteditable="true"></div>',icon_name:"heading",loadData:function(e){this.getTextBlock().html(r.toHTML(e.text,this.type))}});r.Blocks.Image=r.Block.extend({type:"image",title:function(){return i18n.t("blocks:image:title")},droppable:true,uploadable:true,icon_name:"image",loadData:function(t){this.$editor.html(e("<img>",{src:t.file.url}))},onBlockRender:function(){this.$inputs.find("button").bind("click",function(e){e.preventDefault()});this.$inputs.find("input").on("change",t.bind(function(e){this.onDrop(e.currentTarget)},this))},onDrop:function(t){var n=t.files[0],i="undefined"!==typeof URL?URL:"undefined"!==typeof webkitURL?webkitURL:null;if(/image/.test(n.type)){this.loading();this.$inputs.hide();this.$editor.html(e("<img>",{src:i.createObjectURL(n)})).show();this.uploader(n,function(e){this.setData(e);this.ready()},function(e){this.addMessage(i18n.t("blocks:image:upload_error"));this.ready()})}}});r.Blocks.Text=r.Block.extend({type:"text",title:function(){return i18n.t("blocks:text:title")},editorHTML:'<div class="st-required st-text-block" contenteditable="true"></div>',icon_name:"text",loadData:function(e){this.getTextBlock().html(r.toHTML(e.text,this.type))}});r.Blocks.List=function(){var e='<div class="st-text-block st-required" contenteditable="true"><ul><li></li></ul></div>';return r.Block.extend({type:"list",title:function(){return i18n.t("blocks:list:title")},icon_name:"list",editorHTML:function(){return t.template(e,this)},loadData:function(e){this.getTextBlock().html("<ul>"+r.toHTML(e.text,this.type)+"</ul>")},onBlockRender:function(){this.checkForList=t.bind(this.checkForList,this);this.getTextBlock().on("click keyup",this.checkForList)},checkForList:function(){0===this.$("ul").length&&document.execCommand("insertUnorderedList",false,false)},toMarkdown:function(e){return e.replace(/<\/li>/gm,"\n").replace(/<\/?[^>]+(>|$)/g,"").replace(/^(.+)$/gm," - $1")},toHTML:function(e){e=e.replace(/^ - (.+)$/gm,"<li>$1</li>").replace(/\n/gm,"");return e},onContentPasted:function(e,t){var n=this.pastedMarkdownToHTML(t[0].innerHTML),i=this.$("ul").html(n);this.getTextBlock().caretToEnd()},isEmpty:function(){return t.isEmpty(this.saveAndGetData().text)}})}();r.Blocks.Video=function(){return r.Block.extend({providers:{vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo.com\/(.+)/,html:'<iframe src="{{protocol}}//player.vimeo.com/video/{{remote_id}}?title=0&byline=0" width="580" height="320" frameborder="0"></iframe>'},youtube:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:(?:youtube.com\/watch\?(?:.*)(?:v=))|(?:youtu.be\/))([^&].+)/,html:'<iframe src="{{protocol}}//www.youtube.com/embed/{{remote_id}}" width="580" height="320" frameborder="0" allowfullscreen></iframe>'}},type:"video",title:function(){return i18n.t("blocks:video:title")},droppable:true,pastable:true,icon_name:"video",loadData:function(e){if(!this.providers.hasOwnProperty(e.source))return;this.providers[e.source].square?this.$editor.addClass("st-block__editor--with-square-media"):this.$editor.addClass("st-block__editor--with-sixteen-by-nine-media");var t=this.providers[e.source].html.replace("{{protocol}}",window.location.protocol).replace("{{remote_id}}",e.remote_id).replace("{{width}}",this.$editor.width());this.$editor.html(t)},onContentPasted:function(t){this.handleDropPaste(e(t.target).val())},handleDropPaste:function(e){if(!t.isURI(e))return;var n,i;t.each(this.providers,function(r,o){n=r.regex.exec(e);if(null!==n&&!t.isUndefined(n[1])){i={source:o,remote_id:n[1]};this.setAndLoadData(i)}},this)},onDrop:function(e){var t=e.getData("text/plain");this.handleDropPaste(t)}})}();(function(){var e=r.Formatter.extend({title:"bold",cmd:"bold",keyCode:66,text:"B"});var t=r.Formatter.extend({title:"italic",cmd:"italic",keyCode:73,text:"i"});var n=r.Formatter.extend({title:"link",iconName:"link",cmd:"CreateLink",text:"link",onClick:function(){var e=prompt(i18n.t("general:link")),t=/((ftp|http|https):\/\/.)|mailto(?=\:[-\.\w]+@)/;if(e&&e.length>0){t.test(e)||(e="http://"+e);document.execCommand(this.cmd,false,e)}},isActive:function(){var e=window.getSelection(),t;e.rangeCount>0&&(t=e.getRangeAt(0).startContainer.parentNode);return t&&"A"==t.nodeName}});var i=r.Formatter.extend({title:"unlink",iconName:"link",cmd:"unlink",text:"link"});r.Formatters.Bold=new e;r.Formatters.Italic=new t;r.Formatters.Link=new n;r.Formatters.Unlink=new i})();r.BlockControl=function(){var e=function(e,t){this.type=e;this.instance_scope=t;this.block_type=r.Blocks[this.type].prototype;this.can_be_rendered=this.block_type.toolbarEnabled;this._ensureElement()};t.extend(e.prototype,l,u,r.Events,{tagName:"a",className:"st-block-control",attributes:function(){return{"data-type":this.block_type.type}},render:function(){this.$el.html('<span class="st-icon">'+t.result(this.block_type,"icon_name")+"</span>"+t.result(this.block_type,"title"));return this}});return e}();r.BlockControls=function(){var n=function(e,t){this.instance_scope=t;this.available_types=e||[];this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,r.Events,{bound:["handleControlButtonClick"],block_controls:null,className:"st-block-controls",html:"<a class='st-icon st-icon--close'>"+i18n.t("general:close")+"</a>",initialize:function(){for(var e in this.available_types)if(r.Blocks.hasOwnProperty(e)){var t=new r.BlockControl(e,this.instance_scope);t.can_be_rendered&&this.$el.append(t.render().$el)}this.$el.delegate(".st-block-control","click",this.handleControlButtonClick)},show:function(){this.$el.addClass("st-block-controls--active");r.EventBus.trigger("block:controls:shown")},hide:function(){this.$el.removeClass("st-block-controls--active");r.EventBus.trigger("block:controls:hidden")},handleControlButtonClick:function(t){t.stopPropagation();this.trigger("createBlock",e(t.currentTarget).attr("data-type"))}});n.extend=f;return n}();r.FloatingBlockControls=function(){var n=function(e,t){this.$wrapper=e;this.instance_id=t;this._ensureElement();this._bindFunctions();this.initialize()};t.extend(n.prototype,l,u,r.Events,{className:"st-block-controls__top",attributes:function(){return{"data-icon":"add"}},bound:["handleBlockMouseOut","handleBlockMouseOver","handleBlockClick","onDrop"],initialize:function(){this.$el.on("click",this.handleBlockClick).dropArea().bind("drop",this.onDrop);this.$wrapper.on("mouseover",".st-block",this.handleBlockMouseOver).on("mouseout",".st-block",this.handleBlockMouseOut).on("click",".st-block--with-plus",this.handleBlockClick)},onDrop:function(n){n.preventDefault();var i=this.$el,o=n.originalEvent.dataTransfer.getData("text/plain"),s=e("#"+o);t.isUndefined(o)||t.isEmpty(s)||i.attr("id")==o||this.instance_id!=s.attr("data-instance")||i.after(s);r.EventBus.trigger("block:reorder:dropped",o)},handleBlockMouseOver:function(t){var n=e(t.currentTarget);n.hasClass("st-block--with-plus")||n.addClass("st-block--with-plus")},handleBlockMouseOut:function(t){var n=e(t.currentTarget);n.hasClass("st-block--with-plus")&&n.removeClass("st-block--with-plus")},handleBlockClick:function(t){t.stopPropagation();var n=e(t.currentTarget);this.trigger("showBlockControls",n)}});n.extend=f;return n}();r.FormatBar=function(){var n=function(e){this.options=t.extend({},r.DEFAULTS.formatBar,e||{});this._ensureElement();this._bindFunctions();this.initialize.apply(this,arguments)};t.extend(n.prototype,l,r.Events,u,{className:"st-format-bar",bound:["onFormatButtonClick","renderBySelection","hide"],initialize:function(){var t,n,i;this.$btns=[];for(t in r.Formatters)if(r.Formatters.hasOwnProperty(t)){n=r.Formatters[t];i=e("<button>",{class:"st-format-btn st-format-btn--"+t+" "+(n.iconName?"st-icon":""),text:n.text,"data-type":t,"data-cmd":n.cmd});this.$btns.push(i);i.appendTo(this.$el)}this.$b=e(document);this.$el.bind("click",".st-format-btn",this.onFormatButtonClick)},hide:function(){this.$el.removeClass("st-format-bar--is-ready")},show:function(){this.$el.addClass("st-format-bar--is-ready")},remove:function(){this.$el.remove()},renderBySelection:function(e){var t=window.getSelection(),n=t.getRangeAt(0),i=n.getBoundingClientRect(),r={};r.top=i.top+20+window.pageYOffset-this.$el.height()+"px";r.left=(i.left+i.right)/2-this.$el.width()/2+"px";this.highlightSelectedButtons();this.show();this.$el.css(r)},highlightSelectedButtons:function(){var e;t.each(this.$btns,function(t){e=r.Formatters[t.attr("data-type")];t.toggleClass("st-format-btn--is-active",e.isActive())},this)},onFormatButtonClick:function(n){n.stopPropagation();var i=e(n.target),o=r.Formatters[i.attr("data-type")];if(t.isUndefined(o))return false;!t.isUndefined(o.onClick)&&t.isFunction(o.onClick)?o.onClick():document.execCommand(i.attr("data-cmd"),false,o.param);this.highlightSelectedButtons();return false}});n.extend=f;return n}();r.Editor=function(){var n=function(e){this.initialize(e)};t.extend(n.prototype,l,r.Events,{bound:["onFormSubmit","showBlockControls","hideAllTheThings","hideBlockControls","onNewBlockCreated","changeBlockPosition","onBlockDragStart","onBlockDragEnd","removeBlockDragOver","onBlockDropped","createBlock"],events:{"block:reorder:down":"hideBlockControls","block:reorder:dragstart":"onBlockDragStart","block:reorder:dragend":"onBlockDragEnd","block:content:dropped":"removeBlockDragOver","block:reorder:dropped":"onBlockDropped","block:create:new":"onNewBlockCreated"},initialize:function(e){r.log("Init SirTrevor.Editor");this.blockTypes={};this.blockCounts={};this.blocks=[];this.errors=[];this.options=t.extend({},r.DEFAULTS,e||{});this.ID=t.uniqueId("st-editor-");if(!this._ensureAndSetElements())return false;!t.isUndefined(this.options.onEditorRender)&&t.isFunction(this.options.onEditorRender)&&(this.onEditorRender=this.options.onEditorRender);this._setRequired();this._setBlocksTypes();this._bindFunctions();this.store("create");this.build();r.instances.push(this);r.bindFormSubmit(this.$form)},build:function(){this.$el.hide();this.block_controls=new r.BlockControls(this.blockTypes,this.ID);this.fl_block_controls=new r.FloatingBlockControls(this.$wrapper,this.ID);this.formatBar=new r.FormatBar(this.options.formatBar);this.listenTo(this.block_controls,"createBlock",this.createBlock);this.listenTo(this.fl_block_controls,"showBlockControls",this.showBlockControls);this._setEvents();r.EventBus.on(this.ID+":blocks:change_position",this.changeBlockPosition);r.EventBus.on("formatter:positon",this.formatBar.renderBySelection);r.EventBus.on("formatter:hide",this.formatBar.hide);this.$wrapper.prepend(this.fl_block_controls.render().$el);e(document.body).append(this.formatBar.render().$el);this.$outer.append(this.block_controls.render().$el);e(window).bind("click",this.hideAllTheThings);var n=this.store("read");n.data.length>0?t.each(n.data,function(e){r.log("Creating: "+e.type);this.createBlock(e.type,e.data)},this):false!==this.options.defaultType&&this.createBlock(this.options.defaultType,{});this.$wrapper.addClass("st-ready");t.isUndefined(this.onEditorRender)||this.onEditorRender()},destroy:function(){this.formatBar.destroy();this.fl_block_controls.destroy();this.block_controls.destroy();t.each(this.blocks,function(e){this.removeBlock(e.blockID)},this);this.stopListening();var e=this.$el.detach();r.instances=t.reject(r.instances,t.bind(function(e){return e.ID==this.ID},this));this.store("reset");this.$outer.replaceWith(e)},reinitialize:function(e){this.destroy();this.initialize(e||this.options)},_setEvents:function(){t.each(this.events,function(e,t){r.EventBus.on(t,this[e],this)},this)},hideAllTheThings:function(e){this.block_controls.hide();this.formatBar.hide();t.isUndefined(this.block_controls.current_container)||this.block_controls.current_container.removeClass("with-st-controls")},showBlockControls:function(e){t.isUndefined(this.block_controls.current_container)||this.block_controls.current_container.removeClass("with-st-controls");this.block_controls.show();e.append(this.block_controls.$el.detach());e.addClass("with-st-controls");this.block_controls.current_container=e},store:function(e,t){return r.editorStore(this,e,t||{})},createBlock:function(e,n,i){e=t.classify(e);if(this._blockLimitReached()){r.log("Cannot add any more blocks. Limit reached.");return false}if(!this._isBlockTypeAvailable(e)){r.log("Block type not available "+e);return false}if(!this._canAddBlockType(e)){r.log("Block Limit reached for type "+e);return false}var o=new r.Blocks[e](n,this.ID);this._renderInPosition(o.render().$el);this.listenTo(o,"removeBlock",this.removeBlock);this.blocks.push(o);this._incrementBlockTypeCount(e);o.focus();r.EventBus.trigger(n?"block:create:existing":"block:create:new",o);r.log("Block created of type "+e);o.trigger("onRender");this.$wrapper.toggleClass("st--block-limit-reached",this._blockLimitReached());this.triggerBlockCountUpdate()},onNewBlockCreated:function(e){this.hideBlockControls();this.scrollTo(e.$el)},scrollTo:function(t){e("html, body").animate({scrollTop:t.position().top},300,"linear")},blockFocus:function(e){this.block_controls.current_container=null},hideBlockControls:function(){t.isUndefined(this.block_controls.current_container)||this.block_controls.current_container.removeClass("with-st-controls");this.block_controls.hide()},removeBlockDragOver:function(){this.$outer.find(".st-drag-over").removeClass("st-drag-over")},triggerBlockCountUpdate:function(){r.EventBus.trigger(this.ID+":blocks:count_update",this.blocks.length)},changeBlockPosition:function(e,t){t-=1;var n=this.getBlockPosition(e);var i=this.$wrapper.find(".st-block").eq(t);var r=this.getBlockPosition(i);var o=n>t?"Before":"After";if(i&&i.attr("id")!==e.attr("id")){this.hideAllTheThings();e["insert"+o](i);this.scrollTo(e)}},onBlockDropped:function(e){this.hideAllTheThings();var n=this.findBlockById(e);t.isUndefined(n)||t.isEmpty(n.getData())||!n.drop_options.re_render_on_reorder||n.beforeLoadingData()},onBlockDragStart:function(){this.hideBlockControls();this.$wrapper.addClass("st-outer--is-reordering")},onBlockDragEnd:function(){this.removeBlockDragOver();this.$wrapper.removeClass("st-outer--is-reordering")},_renderInPosition:function(e){this.block_controls.current_container?this.block_controls.current_container.after(e):this.$wrapper.append(e)},_incrementBlockTypeCount:function(e){this.blockCounts[e]=t.isUndefined(this.blockCounts[e])?1:this.blockCounts[e]+1},_getBlockTypeCount:function(e){return t.isUndefined(this.blockCounts[e])?0:this.blockCounts[e]},_canAddBlockType:function(e){var t=this._getBlockTypeLimit(e);return!(0!==t&&this._getBlockTypeCount(e)>=t)},_blockLimitReached:function(){return 0!==this.options.blockLimit&&this.blocks.length>=this.options.blockLimit},removeBlock:function(e){var n=this.findBlockById(e),i=t.classify(n.type),o=n.$el.find(".st-block-controls");if(o.length){this.block_controls.hide();this.$wrapper.prepend(o)}this.blockCounts[i]=this.blockCounts[i]-1;this.blocks=t.reject(this.blocks,function(e){return e.blockID==n.blockID});this.stopListening(n);n.remove();r.EventBus.trigger("block:remove");this.triggerBlockCountUpdate();this.$wrapper.toggleClass("st--block-limit-reached",this._blockLimitReached())},performValidations:function(e,n){var i=0;if(!r.SKIP_VALIDATION&&n&&!e.valid()){this.errors.push({text:t.result(e,"validationFailMsg")});r.log("Block "+e.blockID+" failed validation");++i}return i},saveBlockStateToStore:function(e){var n=e.saveAndReturnData();if(n&&!t.isEmpty(n.data)){r.log("Adding data for block "+e.blockID+" to block store");this.store("add",{data:n})}},onFormSubmit:function(e){e=false!==e;r.log("Handling form submission for Editor "+this.ID);this.removeErrors();this.store("reset");this.validateBlocks(e);this.validateBlockTypesExist(e);this.renderErrors();this.store("save");return this.errors.length},validateBlocks:function(n){if(!this.required&&r.SKIP_VALIDATION&&!n)return false;var i=function(i,r){var o=t.find(this.blocks,function(t){return t.blockID==e(i).attr("id")});if(t.isUndefined(o))return false;this.performValidations(o,n);this.saveBlockStateToStore(o)};t.each(this.$wrapper.find(".st-block"),i,this)},validateBlockTypesExist:function(e){if(!this.required&&r.SKIP_VALIDATION&&!e)return false;var n=function(e,n){if(!this._isBlockTypeAvailable(e))return;if(0===this._getBlockTypeCount(e)){r.log("Failed validation on required block type "+e);this.errors.push({text:i18n.t("errors:type_missing",{type:e})})}else{var i=t.filter(this.getBlocksByType(e),function(e){return!e.isEmpty()});if(i.length>0)return false;this.errors.push({text:i18n.t("errors:required_type_empty",{type:e})});r.log("A required block type "+e+" is empty")}};t.isArray(this.required)&&t.each(this.required,n,this)},renderErrors:function(){if(0===this.errors.length)return false;t.isUndefined(this.$errors)&&(this.$errors=this._errorsContainer());var e="<ul>";t.each(this.errors,function(t){e+='<li class="st-errors__msg">'+t.text+"</li>"});e+="</ul>";this.$errors.append(e);this.$errors.show()},_errorsContainer:function(){if(t.isUndefined(this.options.errorsContainer)){var n=e("<div>",{class:"st-errors",html:"<p>"+i18n.t("errors:title")+" </p>"});this.$outer.prepend(n);return n}return s(this.options.errorsContainer)},removeErrors:function(){if(0===this.errors.length)return false;this.$errors.hide().find("ul").html("");this.errors=[]},findBlockById:function(e){return t.find(this.blocks,function(t){return t.blockID==e})},getBlocksByType:function(e){return t.filter(this.blocks,function(n){return t.classify(n.type)==e})},getBlocksByIDs:function(e){return t.filter(this.blocks,function(n){return t.contains(e,n.blockID)})},getBlockPosition:function(e){return this.$wrapper.find(".st-block").index(e)},_getBlockTypeLimit:function(e){if(!this._isBlockTypeAvailable(e))return 0;return parseInt(t.isUndefined(this.options.blockTypeLimits[e])?0:this.options.blockTypeLimits[e],10)},_isBlockTypeAvailable:function(e){return!t.isUndefined(this.blockTypes[e])},_ensureAndSetElements:function(){if(t.isUndefined(this.options.el)||t.isEmpty(this.options.el)){r.log("You must provide an el");return false}this.$el=this.options.el;this.el=this.options.el[0];this.$form=this.$el.parents("form");var n=e("<div>").attr({id:this.ID,class:"st-outer",dropzone:"copy link move"});var i=e("<div>").attr({class:"st-blocks"});this.$el.wrap(n).wrap(i);this.$outer=this.$form.find("#"+this.ID);this.$wrapper=this.$outer.find(".st-blocks");return true},_setBlocksTypes:function(){this.blockTypes=t.flattern(t.isUndefined(this.options.blockTypes)?r.Blocks:this.options.blockTypes)},_setRequired:function(){t.isArray(this.options.required)&&!t.isEmpty(this.options.required)?this.required=this.options.required:this.required=false}});return n}();r.setDefaults=function(e){r.DEFAULTS=t.extend(r.DEFAULTS,e||{})};r.bindFormSubmit=function(e){if(!a){new r.Submittable(e);e.bind("submit",this.onFormSubmit);a=true}};r.onBeforeSubmit=function(e){var n=0;t.each(r.instances,function(t,i){n+=t.onFormSubmit(e)});r.log("Total errors: "+n);return n};r.onFormSubmit=function(e){var t=r.onBeforeSubmit();if(t>0){r.EventBus.trigger("onError");e.preventDefault()}};r.getInstance=function(e){if(t.isUndefined(e))return this.instances[0];if(t.isString(e))return t.find(this.instances,function(t){return t.ID===e});return this.instances[e]};r.setBlockOptions=function(e,n){var i=r.Blocks[e];if(t.isUndefined(i))return;t.extend(i.prototype,n||{})};r.runOnAllInstances=function(e){if(t.has(r.Editor.prototype,e)){[].unshift.call(arguments,r.instances);t.invoke.apply(t,arguments)}else r.log("method doesn't exist")}})(i,r);e.exports=SirTrevor},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{autoSortDimension:function e(t,n){t.qDef.qSortCriterias=[];t.qDef.autoSort=true;n?n.forEach(function(e,n){t.qDef.qSortCriterias[n]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1}}):t.qDef.qSortCriterias[0]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1};return t},createFieldDimension:function e(t){return{qDef:{qFieldDefs:[t],qFieldLabels:[t],qSortCriterias:[]}}},createLibraryDimension:function e(t){return{qLibraryId:t,qDef:{qSortCriterias:[]}}},createDefaultListBox:function t(n,i){var r=e.extend(true,{},n),o;r.qShowAlternatives=true;for(o=0;o<r.qDef.qSortCriterias.length;++o)r.qDef.qSortCriterias[o].qSortByState=1;i=!i&&n.qDef.qLabelExpression?{qStringExpression:{qExpr:n.qDef.qLabelExpression}}:i||n.qDef.qFieldLabels&&n.qDef.qFieldLabels.length&&""!==n.qDef.qFieldLabels[0]?i||(n.qDef.qFieldLabels&&n.qDef.qFieldLabels.length?n.qDef.qFieldLabels[0]:""):n.qDef.qFieldDefs[0];return{qInfo:{qType:"listbox"},qListObjectDef:r,title:i,visualization:"listbox"}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.get=function(e,t,i){return n(i).then(function(n){return n.getField(e,t||"$")})};i.getList=function(e){return n(e).then(function(e){return e.getFieldListObject()})};i.getOnTheFlyList=function(e){return n(e).then(function(e){return e.getOnTheFlyListObject()})};i.getOnTheFlyWithHiddenList=function(e){return n(e).then(function(e){return e.getOnTheFlyWithHiddenListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(383),n(101),n(90)],r=function(e,t,n){var i={},r={},o;o={type:"items",component:"accordion",items:{settings:{uses:"settings"}}};function s(e,n,i){var r,o,a,l=null;if(e.ref===n)return e;if(t.isHierarchical(e)){r=Object.keys(e.items);for(a=0;a<r.length;++a){o=e.items[r[a]];if(o.ref===n){l=o;break}if(i){l=s(o,n,i);if(null!==l)break}}}return l}function a(r,s,l){var u,c,f;l=l||e;r||(r=o);if(s&&i[s])return i[s];var d;while(r.uses){f=t.getValue(l,r.uses);if(!f)throw new Error("No defaults found for: "+r.uses);d=f.uses;r=n.extend(true,{},f,r);if(!d){delete r.uses;break}r.uses=d}if(t.isHierarchical(r)||"array"===r.type&&r.items){c={};Object.keys(r.items).forEach(function(e){r.items[e]&&(c[e]=a(r.items[e],null,l))});u=n.extend({},r,{items:c})}else u=n.extend({},r);s&&!i[s]&&(i[s]=u);return u}function l(e,i,r){var o=a(e,r);return i?n.extend(true,t.getDefaults(o),i):t.getDefaults(o)}function u(e){function n(e){var i={};function r(e){return-1!==e.search(/\.\d/g)}function o(e){var n={type:e.type,defaultValue:t.getDefaultValue(e.type,e)};e.maxlength&&(n.maxlength=e.maxlength);e.min&&(n.min=e.min);e.max&&(n.max=e.max);e.expression&&(n.expression=e.expression);e.options&&"boolean"!==e.type&&(n.enum=e.options.map(function(e){return e.value}));return n}function s(e){var a,l,u,c,f,d;if(t.isHierarchical(e)){a=Object.keys(e.items);for(f=0;f<a.length;f++){l=a[f];u=e.items[l];s(u)}}else if(e.ref&&"array"===e.type&&e.items){c=n({type:"items",items:e.items});d={type:"array",items:c};r(e.ref)||t.setValue(i,e.ref,d)}else if(e.ref){d=o(e);r(e.ref)||t.setValue(i,e.ref,d)}}s(e);return i}return n(e)}function c(e){var n=[];function i(e){var r,o,s;if(t.isHierarchical(e)){r=Object.keys(e.items);for(s=0;s<r.length;++s){o=e.items[r[s]];o.snapshot&&n.push(o);i(o)}}}i(e);return n}function f(e,t){if(t&&r[t])return r[t];var n=[];function i(e){e.globalChange&&n.push(e.globalChange);"items"!==e.type&&"array"!==e.type||!e.items||Object.keys(e.items).forEach(function(t){e.items[t]&&i(e.items[t])})}i(e);t&&!r[t]&&(r[t]=n);return n}return{findDefinition:s,findSnapshotProperties:c,findGlobalListeners:f,mapDefinition:a,mapProperties:l,getPropertyHierarchy:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};return{get:function t(){return e},isVariableSet:function t(n){return"1"===e[n]},isVariableDefined:function t(n){return!!e[n]},load:function t(n){return n.getVariableList().then(function(t){t.forEach(function(t){t.qName&&(e[t.qName]=t.qDefinition)});return e}).catch(function(){return e})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(48),n(89),n(90),n(138),n(91),n(95),n(108),n(491),n(124),n(115),n(210),n(123),n(114),n(335),n(499),n(99),n(56),n(449),n(193)],r=function(e,t,n,i,r,s,a,l,u,c,f,d,p,h,v,m,g){var b=false,y=false;var x={createVisualizationHtml:L,showVisualization:I,clearElement:T,appDoIt:k,setDefaultId:P,getDefaultListParam:M,createHypercubeDef:R,makeConfig:O,inClient:l.inClient,initClient:w,registerExtension:A,addPatches:N,isMeasure:F,validateColumns:V,createDefinition:H,convertDefinition:B,setLanguage:q,setDeviceType:C,resize:S,getExtensionList:E,callRepository:D,getExtensionSupport:$};Object.defineProperty(x,"Promise",{get:function e(){return n.Promise}});return x;function _(e){s.setup({context:"client",language:e});s.append({"Devhub.Cols.Array":"Cols parameter should be an array.","Devhub.Cols.InvalidQtype":"Invalid qType: {0}","Devhub.Cols.QlibraryIdMissing":"qLibraryId missing: {0}","Devhub.Cols.QdefString":"Measure qDef.qDef should be a string: {0}","Devhub.Cols.QfielddefArray":"Dimension qDef.qFieldDefs should be an array: {0}","Devhub.Cols.QdefOrQfielddefs":"Column needs either qDef.qDef or qDef.qFieldDefs: {0}","Devhub.Cols.QdefOrQlibraryid":"Column needs either qLibraryId or qDef: {0}","Devhub.Cols.Visualization.InvalidType":"The visualization type is incorrect: {0}"})}function w(){if(!b){b=true;if(!l.inClient()){u.configureTouchSupport();r.init({Promise:t.getService("$q")}).then(function(){y||""!==s.localeDetected||_()})}}}function q(e){y=true;_(e)}function C(e){g.setDeviceType(e)}function S(e){e?a.publish("/ui/object/resize."+e):a.publish("/resize/end")}function E(e){console.warn("qlik.getExtensionList(callback) is deprecated since June 2019, use available REST APIs instead.");return d.getList().then(function(t){e&&e(t)})}function D(e,n,i){console.warn("qlik.callRepository(path, method, body) is deprecated since June 2019, use available REST APIs instead.");return t.getService("$contentApi").request({method:n||"GET",url:e,data:i})}function O(e){e=e||{};var t=e._qEvent?new v(e._qEvent.handlers):new v;t.scope=e._qEvent?e._qEvent.scope:null;return{host:e.host||i.hostname,port:e.port?e.port.toString():i.port,isSecure:e.isSecure||i.isSecure,reloadURI:e.reloadURI?e.reloadURI:i.reloadURI,transientApp:!!e.transientApp,prefix:e.prefix||i.basePath.replace("/extensions/","/"),openWithoutData:e.openWithoutData,identity:e.identity,subpath:e.subpath,qEvent:t}}function A(e,t,n){var i="extensions/"+e+"/"+e;window.define(i,t);c.registerExtension({id:e,data:n||{type:"visualization"}});return i}function L(e){var t="",n="";if(e&&e.currentSelections){(e.noInteraction||e.noSelections)&&(n=" style='pointer-events:none;'");e.variant=e.variant||"bright";t+='<qv-stage-current-selections class="qvt-selections" options="options" app="app"'+n+'></qv-stage-current-selections><div class="qv-global-search-container"'+n+"></div>"}else e&&e.showNavigationToolbar?t+='<qv-odag-toolbar class="qv-odag-bar-container" model="model" in-edit-mode="inEdit" stand-Alone="standAlone"></qv-odag-toolbar>':t+='<qv-object model="model" options="options" object="object"></qv-object>';return t}function I(i,r,o,s){var a=new n;"string"===typeof i&&(i=document.getElementById(i));if(i){var l=i[0]?i[0]:i;l.innerHTML=L(o);var u=e.element(l).scope();if(u){var c=u.$new(true);var f=e.copy(o)||{};f.isReadonly=false!==f.isReadonly;if(o){o.noSelections&&(f.selections=false);o.noInteraction&&(f.interactionState=p.STATIC);if(o.showNavigationToolbar){c.inEdit=false;c.standAlone=true}}var d=function n(){c.model=r;c.app=s;c.options=f;c.object={};var i=t.getService("$compile");i(e.element(l).children("qv-object, qv-stage-current-selections, qv-odag-toolbar"))(c)};if(h.isInit){f.direction=h.direction;d();a.resolve(c)}else h.init(s.enigmaModel).then(function(){f.direction=h.direction;t.$apply(c,function(){d();a.resolve(c)})});t.$apply(c)}else a.reject(new Error("Element scope is undefined."))}else a.reject(new Error("Element is undefined."));return a.promise}function T(e,t){var i=function e(t){"string"===typeof t?t=document.getElementById(t):t[0]&&(t=t[0]);if(!t)return;t.innerHTML=""};if(t&&"function"===typeof t.then)return t.then(function(t){t.$destroy();i(e)}).catch(function(e){console.error(e)});i(e);return n.resolve()}function k(e,i,r){var o=new n;e.waitForOpen.promise.then(function(){var n=e.enigmaModel||e;t.$apply(t.$rootScope,function(){o.resolve(n[i].apply(n,r))})});return o.promise}function P(e,t){e.qInfo=e.qInfo||{};e.qInfo.qType=e.qInfo.qType||t||"mashup";e.qInfo.qId=e.qInfo.qId||"MU"+i.generateId()}function M(e,t){var n={};P(n,e);"BookmarkList"===e?n.qBookmarkListDef={qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description"}}:"SnapshotList"===e?n.qBookmarkListDef={qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}:"CurrentSelections"===e?n.qSelectionObjectDef=t||{}:"DimensionList"===e?n.qDimensionListDef={qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos"}}:"MeasureList"===e?n.qMeasureListDef={qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags"}}:"sheet"===e?n.qAppObjectListDef={qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",description:"/qMetaDef/description",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}:"masterobject"===e?n.qAppObjectListDef={qType:"masterobject",qData:{name:"/metadata/name",visualization:"/visualization",tags:"/metadata/tags"}}:"VariableList"===e?n.qVariableListDef={qType:"variable",qData:{tags:"/tags"}}:"story"===e?n.qAppObjectListDef={qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}:n["q"+e+"Def"]={};return n}function R(e,t,n){if(Array.isArray(e)&&!Array.isArray(t)){var i=t||{},r=[],o=[],s=[];e.forEach(function(e){if(F(e)){s.push(-1);o.push(e)}else{s.push(r.length);r.push(e)}});var a=r.length;s.forEach(function(e,t){if(e<0){s[t]=a;a++}});i.columnOrder=s;i.qInterColumnSortOrder=s;return R(r,o,i)}var l=n||{};if(e){var u=[];e.forEach(function(e){"string"===typeof e?u.push({qDef:{qFieldDefs:[e]}}):u.push(e)});l.qDimensions=u}var c=[];t.forEach(function(e){"string"===typeof e?c.push({qDef:{qDef:e}}):c.push(e)});l.qMeasures=c;l.qInitialDataFetch=[{qTop:0,qLeft:0,qHeight:20,qWidth:(l.qDimensions?l.qDimensions.length:0)+l.qMeasures.length}];n&&n.rows&&(l.qInitialDataFetch[0].qHeight=n.rows);return l}function N(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(t[i]instanceof Object&&!Array.isArray(t[i])?N(e+i+"/",t[i],n):n.push({qPath:e+i,qOp:"add",qValue:"string"===typeof t[i]?'"'+t[i]+'"':JSON.stringify(t[i])}))}function F(e){if("string"===typeof e)return 0===e.indexOf("=");if(e.qType)return"measure"===e.qType;return!!(e.qDef&&e.qDef.qDef||e.qSortBy||e.qAttributeExpressions)}function j(e,t,n){e=e?e+", ":"";return e+s.get(t,JSON.stringify(n))}function V(e){if(!Array.isArray(e))return s.get("Devhub.Cols.Array");var t;e.forEach(function(e){"object"===o(e)?e.qType?"measure"!==e.qType&&"dimension"!==e.qType?t=j(t,"Devhub.Cols.InvalidQtype",e):e.qLibraryId||(t=j(t,"Devhub.Cols.QlibraryIdMissing",e)):e.qDef?e.qDef.qDef?"string"!==typeof e.qDef.qDef&&(t=j(t,"Devhub.Cols.QdefString",e)):e.qDef.qFieldDefs?Array.isArray(e.qDef.qFieldDefs)||(t=j(t,"Devhub.Cols.QfielddefArray",e)):t=j(t,"Devhub.Cols.QdefOrQfielddefs",e):t=j(t,"Devhub.Cols.QdefOrQlibraryid",e):"string"!==typeof e&&(t=j(t,"Devhub.Cols.InvalidType",e))});return t}function H(e,t,i,r){var o=f.getType(t);if(!o)return n.reject(s.get("Devhub.Visualization.InvalidType",t));if(i){var a=V(i);if(a)return n.reject(a)}return e.model.waitForOpen.promise.then(function(){return m.createProperties(e.model.enigmaModel,t,i,r)})}function B(e,t,n,i){return m.convertProperties(e,t,n,i)}function $(e){var t=["export","exportData","viewData"];var i={};var r=e.layout.visualization||e.layout.qInfo&&e.layout.qInfo.qType;var o=f.getType(r);if(!o)return n.resolve(i);return o.getExtensionType().then(function(e){Object.keys(e.support).forEach(function(n){-1!==t.indexOf(n)&&(i[n]=e.support[n])});return i}).catch(function(){return i})}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t="[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]";var n="[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]";var i="[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]";var r='[\t-\r-"&-*;-@[-`{-~¡¦-©«-¬®-¯´¶-¸»-¿×÷ʹ-ʺ˂-ˏ˒-˟˥-˭˯-˿ʹ-͵;-΅·϶֊؆-؇؎-؏۞۩߶-߹௳-௸௺౸-౾༺-༽᎐-᎙᐀ ᚛-᚜៰-᠊᠎᥀-᥅᧞-᧿᾽᾿-῁῍-῏῝-῟῭-`´- ‐-\u2029‵-⁃⁅- ⁼-⁾₌-₎℀-℁℃-℆℈-℉℔№-℘℞-℣℥℧℩℺-℻⅀-⅄⅊-⅍⅐-⅟↉-∑∔-⌵⍻-⎔⎖-⒇⓪-⚫⚭-⟿⤀-⭙⳥-⳪⳹-⳿⸀-〄〈-〠〰〶-〷〽-〿゛-゜゠・㇀-㇣㈝-㈞㉐-㉟㉼-㉾㊱-㊿㋌-㋏㍷-㍺㏞-㏟㏿䷀-䷿꒐-꓆꘍-꘏꙳꙾-ꙿ꜀-꜡ꞈ꠨-꠫꡴-꡷﴾-﴿﷽︐-︙︰-﹏﹑﹔﹖-﹞﹠-﹡﹤-﹨﹫！-＂＆-＊；-＠［-｀｛-･￢-￤￨-�]';var o=new RegExp(t);var s=new RegExp(n);var a=new RegExp(i);var l=new RegExp(r);var u=String.fromCharCode(8206),c=String.fromCharCode(8207);var f,d;function p(){void 0===d&&y();return d}function h(e){return o.test(e)}function v(e){return s.test(e)||a.test(e)}function m(e){return l.test(e)}function g(e){var t=e?e.length:0,n,i;for(n=0;n<t;n++){i=e[n];if(h(i))return"ltr";if(v(i))return"rtl"}return"ltr"}function b(e){if(d)return"auto";return g(e)}function y(){var e=document.createElement("div"),t=document.getElementsByTagName("body")[0];e.setAttribute("style","position: absolute; width: 1px; height: 1px; top: -999px; overflow: scroll; white-space:nowrap;");e.setAttribute("dir","rtl");t.appendChild(e);f=x(e);d=_(e);t.removeChild(e)}function x(e){e.innerHTML="RTL-SCROLL-TEST";var t="reverse";if(e.scrollLeft>0)t="default";else{e.scrollLeft=1;0===e.scrollLeft&&(t="negative")}return t}function _(t){t.innerHTML="لا أحد يحب الألم بذاته، يسعى ورائه أو يبت";var n;switch(f){case"reverse":n=false;break;case"default":n=t.scrollLeft>0;break;case"negative":e(t).scrollLeft(-1e3);n=t.scrollLeft<0;break;default:n=false}return n}y();function w(e,t,n){n=Number.isNaN(+n)?0:n;if(e&&"reverse"===f)return t+n;return t-n}return{supportDirAuto:p,detectTextDirection:g,getAutoOrAlternativeDirection:b,isLtrChar:h,isRtlChar:v,isNeutralChar:m,lrm:u,rlm:c,scrollImplementation:f,getScrollPos:w}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={cellBackgroundColor:true,cellForegroundColor:true,colorByAlternative:true,colorByExpression:true,tooltip:true,urlLabel:true};return{create:function t(n,i){if(!n||!e[n])throw new Error("Attribute Expressions Util: ID required");var r={};i&&Object.keys(i).forEach(function(e){r[e]=i[e]});r.id=n;r.qAttribute=true;return r},getById:function e(t,n,i){if(t){i=i||"id";return t.filter(function(e){return e[i]===n})[0]}return false},getIndexById:function e(t,n,i){var r=-1;if(t){i=i||"id";t.forEach(function(e,t){e[i]===n&&(r=t)})}return r},moveById:function e(t,n,i,r){var o=this.getIndexById(t,i,r);n=n||[];var s=this.getIndexById(n,i,r);if(-1!==o&&-1===s){var a=t.splice(o,1);n.push(a[0])}return n},moveByIdFromGroup:function e(t,n,i,r,o){i=i||"qAttributeExpressions";o=o||"id";for(var s=0;s<t.length;s++){var a=t[s][i];var l=n.length;this.moveById(a,n,r,o);if(l!==n.length)return n}return n},clean:function e(t){return t.filter(function(e){return e&&e.id})},IDMAP:{CELL_BACKGROUND_COLOR:"cellBackgroundColor",CELL_FOREGROUND_COLOR:"cellForegroundColor",COLOR_BY_ALTERNATIVE:"colorByAlternative",COLOR_BY_EXPRESSION:"colorByExpression",TOOLTIP:"tooltip",CELL_URL_LABEL:"urlLabel"}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=".autoCalendar";function t(t){var n=t?t.split(e).join(""):"";return n}return{trimAutoCalendarName:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(598),n(102),n(89),n(90),n(49),n(93)],r=function(e,t,n,i,r,o){var s={},a=null,l=null;t.mixin(s);s.notification("UpdateObjProps");function u(t,n){a=t;e.get(a,n).then(function(e){e.Invalidated.bind(c.bind(this,n))})}function c(e){var t;p(e).then(function(e){t=e;s.UpdateObjProps.emit(t)})}function f(t,n){return e.getList(t).then(function(o){return t.getLayout().then(function(s){return o.getLayout().then(function(o){if(o&&o.length)return u(o[0].qInfo.qId,t);if(n||r.getFlag("THEME_CARDS")&&true===i.getValue(s,"permissions.createMasterobject"))return e.create({},t).then(function(e){return e.getLayout().then(function(){return u(e.id,t)})})})})})}function d(t,n,r){return e.get(t,r).then(function(e){return e.getProperties().then(function(t){var r={};r=i.extend(true,t,n);r.sheetLogoThumbnail.qStaticContentUrl&&delete r.sheetLogoThumbnail.qStaticContentUrl;return e.setProperties(r)})})}function p(t){if(a)return e.get(a,t).then(function(e){return e.getLayout()});l=new n;l.resolve({});return l.promise}function h(e){return e?n.resolve(e):o.getApp()}s.setProperties=function(e,t){return h(t).then(function(t){if(!a)return f(t,true).then(function(){return d(a,e,t)});return d(a,e,t)})};s.getProperties=function(e){return h(e).then(function(e){if(!a)return f(e,false).then(p.bind(this,e));return p(e)})};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(213)],r=function(e){var t={};Object.defineProperty(t,"path",{get:function t(){var n=e.serverHelpBaseUrl;var i=location.pathname.split("/").slice(-2,-1)[0];location.pathname.toLowerCase().indexOf("/dev-hub/")>-1?i="dev-hub":"qmc"!==i.toLowerCase()&&(i="client");n+=i+"/";return n}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(96)],r=function(e,t){var n=t.Gesture.augment(function(e){this.defaults={which:2,radiusThreshold:3};this.start=function(e,n){if(t.utils.touch)return;if(t.utils.msPointer&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType)return;if(this.isValidMouseButton(e,this.options.which)){this.initiated=true;n.startPoint=n.points[0];this.binder.start.call(this,e,n)}};this.update=function(e,t){if(!this.started&&t.startPoint&&t.startPoint.distanceTo(t.points[0])>=this.options.radiusThreshold){this.started=true;this.binder.update.call(this,e,t)}else this.started&&this.binder.update.call(this,e,t)};this.end=function(e,t){if(this.initiated){this.binder.end.call(this,e,t);this.initiated=false}};function n(){e.apply(this,arguments)}return n});t.gestures.add("wheelswipe",n);function i(e,t){e.gestures.forEach(function(n){n!==t&&e.cancelGesture(n)})}function r(e){var t=0,n=0,i=0,r=60;e.wheelDelta&&(t=e.wheelDelta/r);e.detail&&(t=-e.detail/3);i=t;if(void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS){i=0;n=-1*t}void 0!==e.wheelDeltaY&&(i=e.wheelDeltaY/r);void 0!==e.wheelDeltaX&&(n=-1*e.wheelDeltaX/r);return{delta:t,deltaX:n,deltaY:i,x:e.pageX,y:e.pageY}}function o(e,t,n){var i,r;return function(){var o=n||this;var s=+new Date,a=arguments;if(i&&s<i+t){clearTimeout(r);r=setTimeout(function(){i=s;e.apply(o,a)},t)}else{i=s;e.apply(o,a)}}}var s={debouceTimer:null};function a(e,t,n){return function(){var i=this,r=arguments,o;n=n||s;l(n);o=setTimeout(function(){e.apply(i,r)},t);n.debounceTimer=o}}function l(e){e=e||s;e.debounceTimer&&clearTimeout(e.debounceTimer);e.debounceTimer=null}function u(t){if(!t)return;t=t.map(function(e){return e.qGroupFieldDefs?e.qGroupFieldDefs[e.qGroupPos||0]:e.qFallbackTitle});e.$rootScope.$broadcast("locked-feedback",[t]);a(function(){e.$rootScope.$broadcast("locked-feedback",[t,true])},100)()}return{getMouseWheelData:r,cancelGestures:i,throttle:o,debounce:a,cancelDebounce:l,showLockedFeedback:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[],r=function(){var e={missing:{template:"<div></div>",controller:[function(){}]}};function t(t){var n=t.component;if("string"===typeof n){if(e[n])return e[n];window.console.log('Error! No component found with name "'+n+'"');return e.missing}if("object"===o(n))return n;switch(t.type){case"items":return e.items;case"string":return e.string;case"integer":return e.integer;case"number":return e.number;case"boolean":return e.checkbox;case"array":if(t.items)return e.list;return e.slider;default:if(t.type){window.console.log('Error! No component found for type "'+t.type+'"');return e.missing}window.console.log('Warning! Missing component/type in definition. Using "items" component.');return e.items}}function n(t){return e[t]}function i(e){return!!n(e)}function r(t,n){if(e[t])throw new Error("Property panel component already loaded: "+t);e[t]=n}return{getComponent:n,hasComponent:i,findComponent:t,addComponent:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return e.replace(/^=+/,"")}function t(e,t){n(e,t);e.description?e.validity.description=e.description.length<=t.description:e.validity.description=true;return e.validity.name&&e.validity.description}function n(e,t){e.validity.name=!!e.name&&!!e.name.trim()&&e.name.length<=t.name;return e.validity.name}function i(t,n){var i=t.expression;var r="string"===typeof i&&i.trim().length>0&&i.length<=n.expression;i&&(t.expression=e(i));t.validity.expression=r;return r}function r(e){var t=e.selectedFields,n=false;if(!t)return false;"single"===e.type?n=1===t.length:"drilldown"===e.type&&(n=t.length>1);e.validity.selectedFields=n;return n}return{validateMetadata:t,validateMetadataName:n,validateExpr:i,validateFieldsInDimension:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{ENTER:{value:13},ESCAPE:{value:27},SPACE:{value:32},TAB:{value:9},BACKSPACE:{value:8},DELETE:{value:46},ALT:{value:18},CTRL:{value:17},SHIFT:{value:16},ARROW_UP:{value:38},ARROW_DOWN:{value:40},ARROW_LEFT:{value:37},ARROW_RIGHT:{value:39},PAGE_DOWN:{value:34},PAGE_UP:{value:33},HOME:{value:36},END:{value:35},F10:{value:121},A:{value:65},F:{value:70}});e.isArrow=function(t){return t===e.ARROW_UP||t===e.ARROW_DOWN||t===e.ARROW_LEFT||t===e.ARROW_RIGHT};return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(310),n(48)],r=function(e,t,n,i){function r(e){e=e.replace(/\$/g,"[dollar]");e=e.replace(/\\/g,"[slash]");return e}function o(e){e=e.replace(/\[dollar\]/g,"$");e=e.replace(/\[slash\]/g,"\\");return e}function s(e){return e}function a(t){t=t.replace(/'/g,"\\'");t=t.replace(/"/g,'\\"');var n=e("div[name='"+t+"']");if(1!==n.length)throw new Error('Could not find the table "'+t+'".');return n}function l(){var t=e("div[table]");return t}function u(e,t){var n=a(e).find("li[data-name='"+t.replace(/'/g,"\\'")+"']");if(1!==n.length)throw new Error('Could not find the field "'+t+'" in the table "'+e+'".');return n}function c(e){var t=a(e);return f(t)}function f(e){return e.find("h1")}function d(e){var t=a(e);return p(t)}function p(e){return f(e).outerHeight()}function h(e,t){return t-n.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM-d(e)}function v(e){return a(e).height()}function m(e){var t=a(e);return g(t)}function g(e){return e.width()}function b(e,n,i){var r=new t;var o={top:n,left:i};a(e).animate(o,{duration:750,complete:function e(){return r.resolve()}});return r.promise}function y(e,n,i){var r=new t;var o=L(a(e));var s=P(a(e));var l=T(a(e));n>o&&(n=o);i>l&&(i=l);i<s&&(i=s);var u={height:n,width:i};a(e).animate(u,{duration:750,progress:function t(){x(e)},complete:function t(){x(e);return r.resolve()}});return r.promise}function x(e){var i=v(e)-d(e)-n.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM;a(e).find("ul").height(i);return t.resolve()}function _(e){var t=a(e);var n=parseInt(t.css("top"),10);return n}function w(e){return e.height()}function q(e){var t=a(e);var n=parseInt(t.css("left"),10);return n}function C(t){var n=e(".table-container");n.css("opacity",t)}function S(){e("svg.dmv").fadeIn(750)}function E(){var n=new t;e("svg.dmv").fadeOut(750,function(){return n.resolve()});return n.promise}function D(e){var t=i.getService("qvLoader");function n(){var n=e?"DataModelViewer.ReloadInProgress":"DataModelViewer.RefreshingDataModel";var i={messageObj:{task:n},transparentBackground:true};t.show(i)}if(void 0===e)throw new Error("Reloading is undefined.");t.isOpen()?t.close().then(n):n()}function O(){var e=i.getService("qvLoader");e.close()}function A(){var t=0;var n=0;var i=0;var r=0;var o=Number.MAX_VALUE;var s=Number.MAX_VALUE;l().each(function(a,l){var u=e(l);t=Math.max(t,parseInt(u.css("left"),10));n=Math.max(n,parseInt(u.css("top"),10));i=Math.max(i,u.width());r=Math.max(r,u.height());o=Math.min(o,parseInt(u.css("left"),10));s=Math.min(s,parseInt(u.css("top"),10))});return{left:t,top:n,width:i,height:r,bottom:n+r,right:t+i,furthestLeft:o,furthestTop:s}}function L(e){var t=e.css("height");var n=e.find("ul").css("height");e.css("height","auto");e.find("ul").css("height","auto");var i=e.outerHeight();e.css("height",t);e.find("ul").css("height",n);return i}function I(e){var t=a(e);return L(t)}function T(e){var t=e.css("width");e.css("width","auto");var n=e.outerWidth();e.css("width",t);return n}function k(e){var t=a(e);return T(t)}function P(e){var t=Math.min(n.MIN_TABLE_RESIZE_WIDTH,T(e));return t}function M(e){return p(e)}return{encodeTableName:r,decodeTableName:o,decodeFieldName:s,setTablePosition:b,setTableSize:y,setTableContainerElementOpacity:C,getTableWidth:g,getTableWidthByTableName:m,getTableElementHeight:w,getMaxHeightForTable:L,getMaxWidthForTable:T,getMinWidthForTable:P,getTableElement:a,getFieldElement:u,getMinHeightForTable:M,getTableHeader:c,getTableHeaderHeightByTableName:d,getULHeight:h,getTableHeightByTableName:v,getTableElementTop:_,getTableElementLeft:q,getAllTableElements:l,getHighestHeightForAllTables:A,getMaxHeightForTableByName:I,getMaxWidthForTableByName:k,updateULHeightBasedOnTableHeight:x,fadeInLines:S,fadeOutLines:E,fadeInWorkingOverlay:D,fadeOutWorkingOverlay:O}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10),n(48)],r=function(e,t,n){var i={},r=false,o=false,s=null,a=null,l=null,u={wide:{w:16,h:9},regular:{w:4,h:3}},c={id:"",slide:"",action:""},f={id:null},d=0,p=199,h={},v;function m(t,n){var i=e(".qv-grid-story"),r=i.offset().left+1*n.width-t.outerWidth(),o=i.outerWidth()+i.offset().left-1*n.width,s=i.offset().top+1*n.height-t.outerHeight(),a=i.offset().top+i.outerHeight()-1*n.height;return[r,s,o,a]}function g(e,t,n){var i,r=e.outerHeight(),o=e.outerWidth(),s=e.offset(),a=t.offset(),l=t.outerHeight(),u=t.outerWidth();if(s.left+o<a.left+1*n.width){i=a.left+1*n.width-(s.left+o);e.css("left","+="+i)}if(s.top+r<a.top+1*n.height){i=a.top+1*n.height-(s.top+r);e.css("top","+="+i)}if(s.left+1*n.width>a.left+u){i=s.left+1*n.width-(a.left+u);e.css("left","-="+i)}if(s.top+1*n.height>a.top+l){i=s.top+1*n.width-(a.top+l);e.css("top","-="+i)}}function b(e,t){e=parseInt(e);while(e%t!==0&&e>t)e--;return e<t?t:e}function y(e,t){while(e%t!==0&&e>0)e++;return e}function x(e,t){var n="right"===t?"right":"left",i=e.position().top,r=e.outerWidth(),o=e.outerHeight(),s=e.position().left,a=e.offsetParent().width()-s-r,l=(100*i/e.offsetParent().height()).toFixed(5)+"%",u="right"===n?"auto":(100*s/e.offsetParent().width()).toFixed(5)+"%",c="left"===n?"auto":(100*a/e.offsetParent().width()).toFixed(5)+"%",f=(100*r/e.offsetParent().width()).toFixed(5)+"%",d=(100*o/e.offsetParent().height()).toFixed(5)+"%";return{top:l,left:u,right:c,width:f,height:d,"z-index":parseInt(e.css("z-index"),10)}}function _(e){var t=e.getBoundingClientRect(),n=document.getElementById("selectable").getBoundingClientRect(),i=t.top-n.top,r=t.left-n.left,o=t.width,s=t.height,a=(i/n.height*100).toFixed(2)+"%",l=(r/n.width*100).toFixed(2)+"%",u=(o/n.width*100).toFixed(2)+"%",c=(s/n.height*100).toFixed(2)+"%",f={top:a,left:l,width:u,height:c,"z-index":parseInt(e.style.zIndex,10)};return f}function w(){return i}function q(e){i=e}function C(e){r=e}function S(){return r}function E(e){l=e;t.element(".qv-storytelling-edit-toolbar").scope().$broadcast(e?"slideItemSelected":"slideItemDeselected")}function D(){return l}function O(e){function t(e,t){if(e.qData.rank<t.qData.rank)return-1;if(e.qData.rank>t.qData.rank)return 1;return 0}if(Array.isArray(e)&&e.length>0)return e.sort(t);return e}function A(e,t){var i=n.getService("$compile"),r=n.getService("$rootScope"),o="<div storytelling-thumbnail />",s=r.$new();s.slide={qInfo:{qId:t}};e.empty();e.append(i(o)(s))}function L(){n.getService("$timeout").cancel(v);i.showGrid=true}function I(){n.getService("$timeout").cancel(v);v=n.getService("$timeout")(function(){i.showGrid=false},2300)}return{getContainmentOnElement:m,slideItemOutsideSlide:g,decreaseValueUntilEvenSplit:b,increaseValueUntilEvenSplit:y,getElementPosition:x,getHelperPosition:_,getGridOptions:w,setGridOptions:q,showGridPattern:L,hideGridPattern:I,setPublishState:C,getPublishState:S,sortSlidesByRank:O,setSelectedSlideItemElem:E,getSelectedSlideItemElem:D,currentStoryId:s,currentSlideId:a,createSlideThumbnail:A,availableRatios:u,pasteOffset:d,lastObjPasted:c,lastObjAdded:f,isViewingSource:o,maxNumberOfSlideItems:p,selectionState:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(93)],r=function(e,t){function n(n){return n?e.resolve(n.enigmaModel):t.getApp()}var i={};i.get=function(e,t){return n(t).then(function(t){return t.getBookmark(e)})};i.apply=function(e,t){return n(t).then(function(t){return t.applyBookmark(e)})};i.create=function(e,t){return n(t).then(function(t){return t.createBookmark(e)})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyBookmark(e)})};i.getList=function(e){return n(e).then(function(e){return e.getBookmarkListObject()})};i.getListLayout=function(e){return n(e).then(function(e){return e.getBookmarkList()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(90),n(89)],r=function(e,t,n,i){e.service("qvColorMapService",[function(){var e="ColorMapModel_";function r(e){var t=null;return e.getLayout().then(function(e){e.colorMap&&(t=e.colorMap);return t?n.extend(true,{},t):null})}function o(e,t){var i=n.extend(true,{},t);return e.getProperties().then(function(t){if(t.colorMap){t.colorMap=i;return e.setProperties(t)}})}var s={getColorMap:function n(o,s){var a;a=s?i.resolve(s):t.getApp();if(!o)return i.resolve(null);return a.then(function(t){return t.getObject((e+o).toString()).then(function(e){return r(e)})}).catch(function(){return null})},setColorMap:function n(i,r){var s=(e+i).toString();return t.getApp().then(function(e){return e.getObject(s).catch(function(){return e.createObject({qInfo:{qType:"ColorMap",qId:s},colorMap:{}})}).then(function(e){return o(e,r)})})},deleteColorMap:function n(i){return t.getApp().then(function(t){return t.destroyObject((e+i).toString())})},getTemplate:function e(){return{colors:[],nul:null,oth:null,pal:null,single:null,usePal:null,autoFill:true}},getMeasureGradient:function e(n,r){var o;o=r?i.resolve(r):t.getApp();return o.then(function(e){return e.getMeasure(n).then(function(e){return e.getProperties().then(function(e){if(e&&e.qMeasure&&e.qMeasure.coloring)return e.qMeasure.coloring.gradient})})}).catch(function(){return null})}};return s}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={getCharacterCount:t,getCharacterIndexes:n,getIsCharacterEncapsulated:i,getNormalizedExpression:r,getFormattedAggregation:o};return e;function t(e,t){if(!e||!t)return 0;return e.split(t).length-1}function n(e,t){var n=[];if(!e||!t)return n;for(var i=0;i<e.length;i++){var r=e.charAt(i);r===t&&n.push(i)}return n}function i(e,n,i,r){if(!e||!i||!r)return false;var o=i===r;var s=t(e,i),a=t(e,r);var l=o?s>1:s+a>1;if(!l)return false;var u=e.substr(0,n),c=t(u,i);if(o){var f=s%2===0,d=c%2!==0;if(f)return d;var p=c>0&&c!==s;return p&&d}var h=t(u,r),v=s===a;if(v)return c>h;var m=c<h;if(m||0===a)return false;var g=s-a;return c<=g}function r(e){if(!e)return"";"="===e.charAt(0)&&(e=e.substr(1));var t=e.length-1;"["===e.charAt(0)&&"]"===e.charAt(t)&&(e=e.substring(1,t));return e}function o(e){if(!e)return"";return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(96),n(90),n(772)],r=function(e,t,n,i){var r,o=0;function s(){return".grid-object-dom-api-"+ ++o}function a(e,t){var n=e.getBoundingClientRect();return Math.round(n.bottom-t.bottom)<1}function l(e,t){var n=e.getBoundingClientRect();return Math.round(n.top-t.bottom)<1}function u(e,t){var n=t-e;return 1===n?t:Math.floor(e+n/2)}function c(e,t,n,i,r){var o=n-t,s=u(t,n),a=r(e[s],i);if(0===o)return a?s:-1;if(1===o)return a?s:c(e,t,t,i,r);return a?c(e,s,n,i,r):c(e,t,s,i,r)}r=e.extend({init:function e(t,n,i,r,o,a){a=a||".scroll-content";this.$element=t;this.$scrollArea=n;this.$scrollContent=n.find(a);this.rowSelector=i;this.firstRowSelector=r;this.lastRowSelector=o;this.namespace=s();this.direction="ltr"},destroy:function e(){this.unbindNativeScroll()},bindNativeScroll:function e(t){this.$scrollArea.on("scroll"+this.namespace,t)},unbindNativeScroll:function e(){this.$scrollArea.off(this.namespace)},resetNativeScroll:function e(){if("rtl"===this.direction&&i.getStartType()===i.RTL_SCROLL_START.POSITIVE){var t=this.getScrollWidth();var n=this.getScrollAreaClientWidth();var r=Math.max(0,t-n);this.$scrollArea.scrollLeft(r)}else this.$scrollArea.scrollLeft(0);this.$scrollArea.scrollTop(0)},preventNativeScroll:function e(){t(this.$scrollArea[0]).tap({id:this.namespace});return function(){t(this.$scrollArea[0]).off("tap",this.namespace)}.bind(this)},getBoundingBox:function e(){return this.$element[0].getBoundingClientRect()},getClientWidth:function e(){return this.$element[0].clientWidth},getClientHeight:function e(){return this.$element[0].clientHeight},getNativeScrollOffsetLeft:function e(){return this.$element[0].scrollLeft},getScrollWidth:function e(){return this.$scrollArea[0].scrollWidth},getScrollAreaBoundingBox:function e(){return this.$scrollArea[0].getBoundingClientRect()},getScrollAreaClientWidth:function e(){return this.$scrollArea[0].clientWidth},getScrollAreaClientHeight:function e(){return this.$scrollArea[0].clientHeight},getScrollAreaOffsetTop:function e(){return this.$scrollArea[0].offsetTop},getScrollContentBoundingBox:function e(){return this.$scrollContent[0].getBoundingClientRect()},getFirstRow:function e(){return this.$scrollArea.find(this.firstRowSelector)},getLastRow:function e(){return this.$scrollArea.find(this.lastRowSelector)},getRows:function e(){var t=this.$element[0].querySelectorAll(this.rowSelector);t=Array.prototype.slice.call(t);return t.filter(function(e){return e.nodeType===Node.ELEMENT_NODE})},getHeightOfRow:function e(t){var n=this.getRows();if(n[t]){var i=n[t];return i.getBoundingClientRect().height}},getPartiallyVisibleRowCount:function e(){var t=this.getRows();if(0===t.length)return 0;var n=this.getScrollAreaBoundingBox(),i=c(t,0,t.length-1,n,l)+1;return i},getVisibleRowCount:function e(t){var i=this.getRows();if(0===i.length)return 0;var r=this.getScrollAreaBoundingBox(),o=c(i,0,i.length-1,r,a)+1;if(o===i.length&&n.isNumeric(t)){var s=i[i.length-1],l=s.getBoundingClientRect(),u=Math.round(r.bottom-l.bottom);o+=Math.floor(u/t)}return o},alignToFirstRow:function e(){var t=this.getFirstRow(),n=48;return function(){var e=t.position().top-n;this.$scrollArea.scrollTop(e)}.bind(this)},alignToLastRow:function e(){var t=this.getLastRow(),n=48;return function(){this.$scrollArea.scrollTop(0);var e=t.position().top-this.getScrollAreaBoundingBox().height+t[0].getBoundingClientRect().height+n;this.$scrollArea.scrollTop(e)}.bind(this)},setDirection:function e(t){this.direction=t}});return r}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return Math.round(100*e)/100}return{recalculateBounds:function e(t,n,i,r,o){if(t.bounds){var s;var a={x:t.bounds.x,y:t.bounds.y,width:t.bounds.width,height:t.bounds.height};if(n!==r){s=r/n;a.x=a.x/s;a.width=a.width/s}if(i!==o){s=o/i;a.y=a.y/s;a.height=a.height/s}return a}return this.getBounds(t,r,o)},compareBounds:function e(t,n){return t&&n&&t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},alignToGrid:function e(t,n){if(n.bounds){var i=this.getAligmentToGrid(n.bounds,t.columns,t.rows);n.row=i.row;n.col=i.col;n.rowspan=i.rowspan||1;n.colspan=i.colspan||1}return n},getAligmentToGrid:function t(n,i,r){var o={};o.row=Math.ceil(e(n.y/100*r));o.col=Math.ceil(e(n.x/100*i));o.rowspan=Math.floor(e(n.y/100*r+n.height/100*r))-o.row;o.colspan=Math.floor(e(n.x/100*i+n.width/100*i))-o.col;return o},getInfluenceOnGrid:function t(n,i,r){var o=n;var s={};s.row=Math.floor(e(o.y/100*r));s.col=Math.floor(e(o.x/100*i));s.rowspan=Math.ceil(e(o.y/100*r+o.height/100*r))-s.row;s.colspan=Math.ceil(e(o.x/100*i+o.width/100*i))-s.col;return s},getBounds:function e(t,n,i){return{y:t.row/i*100,x:t.col/n*100,width:t.colspan/n*100,height:t.rowspan/i*100}},splitBounds:function e(t,n,i,r){var o;var s;if("left"===n||"right"===n){o=i%2;s=t.width/i*(i-o)/2;return{near:{width:s,x:t.x,y:t.y,height:t.height},far:{width:t.width/i*(i+o)/2,x:t.x+s,y:t.y,height:t.height}}}o=r%2;s=t.height/r*(r-o)/2;return{near:{width:t.width,x:t.x,y:t.y,height:s},far:{width:t.width,x:t.x,y:t.y+s,height:t.height/r*(r+o)/2}}},calculateCollapseHeight:function e(t,n){var i=0;for(var r=0;r<n.length;r++)n[r].row+n[r].rowspan>i&&(i=n[r].row+n[r].rowspan);var o=Math.floor(t.height-t.height*(i/t.rows));return o},calculateExtendedRowsAndHeight:function e(t,n){var i={height:t.height,rows:t.rows};t.height||(t.height=100);i.height=t.height+n;i.height<100&&(i.height=100);var r=i.rows/t.height*100;i.rows=Math.floor(r*i.height/100);return i}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e;return{setServerNodeId:function t(n){e=n},getServerNodeId:function t(){return e}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(3),n(325)],r=function(e,t,n,i){var r={};var o=void 0;r.getApi=function(r,s,a,l,u,c,f){a=a||window.location.protocol.indexOf("https")>-1;l=l||window.location.hostname;u=u||window.location.port;c=c||e.basePath;var d=new t;var p=(a?"https":"http")+"://"+l+(u?":"+u:"")+(c||"/");var h=p+r;var v=h+"/"+s;var m=function t(i){var r=n.getConfig();r.withCredentials&&(i.credentials="include");r.csrfToken&&i.method&&"GET"!==i.method&&(i.headers["qlik-csrf-token"]=r.csrfToken);r.clientApiKey&&(i.headers["qlik-client-api-key"]=r.clientApiKey);var o=e.getRandomString(16);i.headers["X-Qlik-XrfKey"]=o;f&&(i.headers["X-Qlik-ServerNodeId"]=f);-1!==i.url.indexOf("?")?i.url=i.url+"&xrfkey="+o:i.url=i.url+"?xrfkey="+o;return i};var g=function e(t){o&&o(t);return t};var b={scheme:a?"https":"http",usePromise:true,requestInterceptor:m,responseInterceptor:g};var y=new i(v,b);y.then(function(e){e.spec.basePath=c+r;e.spec.servers&&(e.spec.servers[0].url=h);d.resolve(e)},function(e){window.console.log("Failed to create api:"+e);o&&o(e);d.reject(e)});return d.promise};r.registerSessionTimeoutCheck=function(e){o=e};return r}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(113),n(100),n(101),n(216),n(195)],r=function(e,t,n,i,r){var o=1e3;var s=r.baseColor;function a(e){return true!==n.getValue(e,"color.reverseScheme")}function l(e){return"byExpression"===n.getValue(e,"color.mode")&&false===n.getValue(e,"color.expressionIsColor")}function u(e){return"byExpression"===n.getValue(e,"color.mode")&&true===n.getValue(e,"color.expressionIsColor")}function c(e){var t=i.getDimensionLayouts(e)[0];return t&&t.qCardinal>o}function f(e){return"byDimension"===e.color.mode&&!(n.getValue(e,"color.byDimDef.activeDimensionIndex")>-1)||"byMeasure"===e.color.mode&&!(n.getValue(e,"color.byMeasureDef.activeMeasureIndex")>-1)}function d(){var e=[];var n=t.dataPalettes;n.forEach(function(t){if("true"!==t.disabled){var n={type:"classes",component:"color-scale",translation:t.translation||t.name,value:t.propertyValue};"pyramid"===t.type?n.colors=t.scale[t.scale.length-1]:n.colors=t.scale;e.push(n)}});return e}function p(){var e=[];var n=t.scales;n.forEach(function(t){if(!t.disabled){var n={component:"color-scale",reverse:this.helpers.schemeIsReverse,translation:t.translation||t.name,value:t.propertyValue};if("class-pyramid"===t.type){n.colors=t.scale[t.scale.length-1];n.type="classes"}else{n.colors=t.scale;n.type="gradient"}e.push(n)}},this);return e}function h(e){if(!e)return false;if(e.coloring&&e.coloring.baseColor&&e.coloring.baseColor.color)return e.coloring.baseColor;if(e.baseColor&&e.baseColor.color)return e.baseColor;return false}function v(e){return n.getValue(e,"layout.qHyperCube.qMeasureInfo",[]).filter(function(e){return!!h(e)}).length>0}function m(e){var t=n.getValue(e,"layout.layers",false);return t?t.filter(function(e){return n.getValue(e,"qHyperCube.qDimensionInfo",[]).filter(function(e){return!!h(e)}).length>0}).length>0:n.getValue(e,"layout.qHyperCube.qDimensionInfo",[]).filter(function(e){return!!h(e)}).length>0}function g(e,t){var i=n.getValue(e,t,void 0);if(!i||"undefined"===typeof i.label)return;"="===i.label.charAt(0)?e.color.altLabel={qStringExpression:{qExpr:i.label.substr(1)}}:e.color.altLabel=i.label}function b(e){return!n.getValue(e,"color.auto")&&"byDimension"===n.getValue(e,"color.mode")}function y(e){return!n.getValue(e,"color.auto")&&"byMeasure"===n.getValue(e,"color.mode")}function x(e,t){var n=y(e),i=b(e);if(!n&&!i)return;var r=n?e.color.byMeasureDef:e.color.byDimDef;r.label=t}var _={showLegend:function e(t){var r=n.getValue(t,"color.auto"),o=n.getValue(t,"color.mode"),s=n.getValue(t,"color.expressionIsColor"),a=i.getNumDimensions(t),l=i.getNumMeasures(t);return r&&(a>1||l>1)||!r&&"primary"!==o&&("byExpression"!==o||!s)},colorModeOptions:{primary:function e(){return true},dimension:function e(t){return i.getNumDimensions(t)>0&&i.getNumMeasures(t)<=1},multiColor:function e(t){return i.getNumMeasures(t)>1},measure:function e(t){return i.getNumDimensions(t)>0},expression:function e(t){return i.getNumMeasures(t)>=1}},persistentColorsShow:function e(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")&&i.getNumMeasures(t)<=1},useDimValColShow:function e(t){void 0===n.getValue(t,"color.useDimColVal")&&n.setValue(t,"color.useDimColVal",false);return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")&&"libraryItem"===n.getValue(t,"color.byDimDef.type")},expressionLabelChange:function e(t){var i=n.getValue(t,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0"),r=n.getValue(t,"color");if(i){i.label=n.getValue(t,"color.expressionLabel");r&&(r.colorExpression=i.qExpression)}},attributeExpressionChange:function e(t){var i=n.getValue(t,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0"),r=n.getValue(t,"color");if(i){i.id="colorByExpression";r&&(r.colorExpression=i.qExpression)}},attributeExpressionGlobalChange:function e(t){var i=n.getValue(t,"qHyperCubeDef.qMeasures",[]),r=n.getValue(t,"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",[]),o,s,a,l=null,u=function e(t,n){"colorByExpression"===t.id&&(s=n)};if(i.length+r.length>1){for(o=r.length-1;o>=0;--o){a=r[o].qAttributeExpressions||[];s=-1;a.every(u);s>=0&&(l=a.splice(s,1)[0])}for(o=i.length-1;o>=0;--o){a=i[o].qAttributeExpressions||[];s=-1;a.every(u);s>=0&&(l=a.splice(s,1)[0])}if(i.length){!i[0].qAttributeExpressions&&l&&(i[0].qAttributeExpressions=[]);l&&i[0].qAttributeExpressions.splice(0,0,l)}}var c=n.getValue(t,"color.colorExpression");1!==i.length||i[0].qAttributeExpressions&&0!==i[0].qAttributeExpressions.length||!c||(i[0].qAttributeExpressions=[{qExpression:c,id:"colorByExpression"}])},colorByGlobalChange:function e(t,n,i){r.colorByUpdater(t,i)},colorByDimensionChange:function e(t){g(t,"color.byDimDef")},colorByMeasureChange:function e(t){g(t,"color.byMeasureDef")},colorByLabelChange:function e(t){var i=n.getValue(t,"color.altLabel",""),r=i.qStringExpression?"="+i.qStringExpression.qExpr:i;if("="===r)return;x(t,r)}};var w={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return true},expression:function e(t){return i.getNumMeasures(t)>=1}},showLegend:function e(t){var i=n.getValue(t,"color.auto"),r=n.getValue(t,"color.expressionIsColor"),o=n.getValue(t,"color.mode");return!(!i&&"primary"===o||!i&&"byExpression"===o&&(r||void 0===r))},persistentColorsShow:function e(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")},dimPrimaryMode:true};var q={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function e(){return true},expression:function e(t){return i.getNumMeasures(t)>=1}},showLegend:function e(t){return"primary"!==n.getValue(t,"color.mode")&&!n.getValue(t,"color.auto")},persistentColorsShow:function e(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")}};var C={colorModeOptions:{primary:function e(){return true},dimension:function e(t){return i.getNumDimensions(t)>1},multiColor:function e(t){return i.getNumMeasures(t)>1},measure:function e(t){return i.getNumDimensions(t)<=1},expression:function e(t){return i.getNumMeasures(t)>=1}}};var S={colorModeOptions:{primary:function e(){return true},dimension:function e(t){return i.getNumDimensions(t)>=1},multiColor:function e(t){return i.getNumMeasures(t)>1},measure:function e(t){return i.getNumDimensions(t)>=1},expression:function e(t){return i.getNumDimensions(t)>=1}}};var E={colorModeOptions:{primary:function e(){return true},dimension:function e(){return true},multiColor:function e(){return false},measure:function t(){return e.COLOR_BY_MEA},expression:function e(t){return i.getNumDimensions(t)>=1}}};var D={scatterplot:q,piechart:w,linechart:C,map:S,distributionplot:E};function O(e,t){var n=D[e]||_;return n[t]||_[t]}var A=function e(r,o){var h=O(o,"colorModeOptions"),g=O(o,"persistentColorsShow"),x=O(o,"useDimValColShow"),_=O(o,"expressionLabelChange"),w=O(o,"attributeExpressionChange"),q=O(o,"attributeExpressionGlobalChange"),C=O(o,"colorByGlobalChange"),S=O(o,"colorByDimensionChange"),E=O(o,"colorByMeasureChange"),D=O(o,"colorByLabelChange");this.helpers={schemeIsReverse:a,showCompressionResolution:c,colorModeOptions:h,getMeasureSchemeOptions:p.bind(this),getDimensionSchemeOptions:d};this.color={colorMode:{options:function e(t){var e=[];"explore"===r&&e.push({value:"auto",translation:"Common.Auto"});h.primary(t)&&e.push({value:"primary",translation:"properties.colorMode.primary"});h.multiColor(t)&&e.push({value:"byMultiple",translation:"properties.colorMode.multicolored"});h.dimension(t)&&e.push({value:"byDimension",translation:"properties.colorMode.byDimension"});h.measure(t)&&e.push({value:"byMeasure",translation:"properties.colorMode.byMeasure"});h.expression(t)&&"explore"!==r&&e.push({value:"byExpression",translation:"properties.colorMode.byExpression"});return e},show:function e(t){return!n.getValue(t,"color.auto")}},paletteColor:{show:function e(i,r){if(!n.getValue(i,"color.paletteColor")){var o=t.resolveColor(n.getValue(i,"color.singleColor"));var a={index:-1,color:o};n.setValue(i,"color.paletteColor",a)}return!n.getValue(i,"color.auto")&&"primary"===n.getValue(i,"color.mode")&&!(s.isSupported(i.visualization)&&v(r)&&"measure"===n.getValue(i,"color.useBaseColors")||m(r)&&"dimension"===n.getValue(i,"color.useBaseColors"))},defaultValue:function e(){var n=t.dataColors.primaryColor;var i=t.currentPalette.indexOf(n);return{index:-1===i?Math.min(6,t.currentPalette.length-1):i}}},colorBy:{globalChange:C,dimension:{show:b,change:S},measure:{show:y,change:E},label:{show:function e(t){return!n.getValue(t,"color.auto")&&f(t)&&("byDimension"===n.getValue(t,"color.mode")&&"libraryItem"!==n.getValue(t,"color.byDimDef.type")||"byMeasure"===n.getValue(t,"color.mode")&&"libraryItem"!==n.getValue(t,"color.byMeasureDef.type"))},change:D}},baseColor:{show:function e(t,i){var r=n.getValue(t,"color.mode");return!n.getValue(t,"color.auto")&&("byMultiple"===r||"primary"===r)&&(v(i)&&s.isSupported(t.visualization)||m(i))},showColors:function e(t,i){return!n.getValue(t,"color.auto")&&"byMultiple"===n.getValue(t,"color.mode")&&"measure"===n.getValue(t,"color.useBaseColors")&&s.isSupported(t.visualization)&&i.layout.qHyperCube.qMeasureInfo.length>1&&v(i)},hasMeasureColor:function e(t){return v(t)},hasDimensionColor:function e(t){return m(t)},isSupported:function e(t){return s.isSupported(t)}},persistentColors:{show:function e(t){if(x(t))return g(t)&&!n.getValue(t,"color.useDimColVal");return g(t)},readOnly:function e(t){return n.getValue(t,"qHyperCubeDef.qDimensions.length")>1}},useDimColVal:{show:x},attributeExpression:{change:w,globalChange:q,show:function e(t){return!n.getValue(t,"color.auto")&&"byExpression"===n.getValue(t,"color.mode")&&i.getNumMeasures(t)>0}},expressionIsColor:{show:function e(t){return!n.getValue(t,"color.auto")&&"byExpression"===n.getValue(t,"color.mode")&&i.getNumMeasures(t)>0}},expressionLabel:{change:_,show:function e(t){return!n.getValue(t,"color.auto")&&l(t)&&i.getNumMeasures(t)>0}},colorSchemeMeasure:{show:function e(t){return!n.getValue(t,"color.auto")&&("byMeasure"===n.getValue(t,"color.mode")||l(t))}},reverseScheme:{show:function e(t){return!n.getValue(t,"color.auto")&&("byMeasure"===n.getValue(t,"color.mode")||l(t))}},colorSchemeDimension:{show:function e(t,i){return(!x(t)||!n.getValue(t,"color.useDimColVal"))&&!n.getValue(t,"color.auto")&&("byDimension"===n.getValue(t,"color.mode")||"byMultiple"===n.getValue(t,"color.mode"))&&!("measure"===n.getValue(t,"color.useBaseColors")&&s.isSupported(t.visualization)&&v(i)&&("byMultiple"===n.getValue(t,"color.mode")||n.getValue(t,"color.auto")&&i.layout.qHyperCube.qMeasureInfo.length>1))}},customRange:{show:function e(t){return!n.getValue(t,"color.auto")},autoMinMax:{show:function e(t){return"byMeasure"===n.getValue(t,"color.mode")||l(t)}},min:{show:function e(t){return("byMeasure"===n.getValue(t,"color.mode")||l(t))&&false===n.getValue(t,"color.autoMinMax")},invalid:function e(t){if("minMax"===n.getValue(t,"color.minMax"))return n.getValue(t,"color.measureMin")>=n.getValue(t,"color.measureMax");return false}},max:{show:function e(t){return("byMeasure"===n.getValue(t,"color.mode")||l(t))&&false===n.getValue(t,"color.autoMinMax")},invalid:function e(t){if("minMax"===n.getValue(t,"color.minMax"))return n.getValue(t,"color.measureMin")>=n.getValue(t,"color.measureMax");return false}}}};var A=O(o,"showLegend");this.legend={show:A,showTitle:{show:function e(t){return n.getValue(t,"legend.show")&&A(t)&&!u(t)}},dock:{show:function e(t){return n.getValue(t,"legend.show")&&A(t)}}}};return{getLogicFor:function e(t,n){return new A(t,n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(492)],r=function(e,t){var n={dimension:"dimension",measure:"measure",temporal:"temporal"};function i(e,t){t&&e.map(function(e){var n=void 0;var i=void 0;var r=void 0;var o=t._getFields(e.qName,e.qSrcTables);if(o.length>0){n=t.getClassifications(e.qName,e.qSrcTables);i=t.getDataTypes(e.qName,e.qSrcTables);r=t.getDefaultAggregation(e.qName,e.qSrcTables)}e["defaultAggregation"]=r;e["classifications"]=n;e["dataTypes"]=i})}function r(e){if(e&&e.length>0){var n=e[0];return t.ClassificationHelper.isDimension(n)}return false}function o(e){if(e&&e.length>0){var n=e[0];return t.ClassificationHelper.isMeasure(n)}return false}function s(t){return e.escapeField(t)}function a(t,n){if("countdistinct"===n.toLowerCase())return"Count(distinct "+e.escapeField(t)+")";return n+"("+e.escapeField(t)+")"}function l(e){if(e)return e.replace(/=|\[|\]/g,"").toLowerCase();return e}function u(e){if(e)return e.replace(/^=/,"");return e}var c={Constants:n,isDimension:r,isMeasure:o,getDimensionExpression:s,getMeasureExpression:a,normalizeExpression:l,addClassificationDataToFields:i,convertEvaluationExpressionToLabel:u};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={SYMBOLS:{FUNCTION:{LEFT:"(",RIGHT:")"},FIELD:{LEFT:"[",RIGHT:"]"},STRING:{LEFT:"'",RIGHT:"'"}},OPERATORS:{SINGLES:["=","+","-","*","/","<",">","&"],MULTIPLES:["<=",">=","<>",">>","<<"],WORDS:["precedes","follows","bitnot","bitand","bitor","bitxor","not","and","or","xor","like"]},COMMON_FUNCTIONS:["sum","count","avg","min","max"],FALLBACK_FUNCTION:"count",QUALIFIERS:["total","distinct","nodistinct"]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t={},n=function t(){return e.extend.apply(e,[true].concat(Array.prototype.slice.call(arguments)))},i=e.isPlainObject,r=Array.isArray,o=function e(t){return"undefined"===typeof t},s=function e(t){return"function"===typeof t};function a(e){e&&(e=n({},{val:e}).val);return e}function l(e,t){return s(e[t])||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function u(e,t){var n="/",i=t.substring(1).split(n).slice(0,-1),r;i.forEach(function(t,n){if(n===i.length)return;r=+t;e[r||t]=o(e[r||t])?Number.isNaN(+r)?{}:[]:e[t];e=e[r||t]});return e}function c(e){Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&!l(e,t)&&delete e[t]})}function f(e,t){var n=true,o,s;if(i(e)&&i(t)){if(Object.keys(e).length!==Object.keys(t).length)return false;Object.keys(e).forEach(function(i){if(!f(e[i],t[i])){n=false;return false}});return n}if(r(e)&&r(t)){if(e.length!==t.length)return false;for(o=0,s=e.length;o<s;o++)if(!f(e[o],t[o]))return false;return true}return e===t}function d(e,n,i){var r=[],s=e.slice(),a,l,u=-1;function c(e,t,n){if(e[n]&&o(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var i=0,r=e.length;i<r;i++)if(e[i]&&e[i].qInfo.qId===t)return i;return-1}if(f(n,s))return r;if(null===n[0]||!o(n[0])&&o(n[0].qInfo)){r.push({op:"replace",path:i,value:n});return r}for(a=s.length-1;a>=0;--a){u=c(n,s[a]&&s[a].qInfo&&s[a].qInfo.qId,a);if(-1===u){r.push({op:"remove",path:i+"/"+a});s.splice(a,1)}else r=r.concat(t.generate(s[a],n[u],i+"/"+a))}for(a=0,l=n.length;a<l;++a){u=c(s,n[a]&&n[a].qInfo&&n[a].qInfo.qId);if(-1===u){r.push({op:"add",path:i+"/"+a,value:n[a]});s.splice(a,0,n[a])}else if(u!==a){r.push({op:"move",path:i+"/"+a,from:i+"/"+u});s.splice(a,0,s.splice(u,1)[0])}}return r}t.generate=function(e,n,s){s=s||"";var u=[];Object.keys(n).forEach(function(c){var p=a(n[c]),h=e[c],v=s+"/"+c;if(f(p,h)||l(n,c))return;o(h)?u.push({op:"add",path:v,value:p}):i(p)&&i(h)?u=u.concat(t.generate(h,p,v)):r(p)&&r(h)?u=u.concat(d(h,p,v)):u.push({op:"replace",path:s+"/"+c,value:p})});Object.keys(e).forEach(function(t){o(n[t])&&!l(e,t)&&u.push({op:"remove",path:s+"/"+t})});return u};t.apply=function(e,t){t.forEach(function(t){var o=u(e,t.path),s=t.path.split("/").splice(-1)[0],a=s&&Number.isNaN(+s)?o[s]:o[+s]||o,l=t.from?t.from.split("/").splice(-1)[0]:null;if("add"===t.op||"replace"===t.op)if(r(o)){"-"===s&&(s=o.length);o.splice(+s,"add"===t.op?0:1,t.value)}else if(r(a)&&r(t.value)){var f=t.value.slice();a.length=0;a.push.apply(a,f)}else if(i(a)&&i(t.value)){c(a);n(a,t.value)}else o[s]=t.value;else if("move"===t.op){var d=u(e,t.from);if(r(o))o.splice(+s,0,d.splice(+l,1)[0]);else{o[s]=d[l];delete d[l]}}else"remove"===t.op&&(r(o)?o.splice(+s,1):delete o[s])})};t.clone=function(e){return n({},e)};t.createPatch=function(e,t,n){var i={op:e.toLowerCase(),path:n};"move"===i.op?i.from=t:"undefined"!==typeof t&&(i.value=t);return i};t.updateObject=function(e,i){if(!Object.keys(e).length){n(e,i);return}t.apply(e,t.generate(e,i))};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(90),n(447),n(125),n(101),n(156),n(91),n(195),n(204),n(160),n(624)],r=function(e,t,n,i,r,s,a,l,u,c){var f,d,p,h,v,m,g=Math.pow(2,53)-1;function b(e,t,n){t.hasOwnProperty(e)&&(n[e]=t[e])}function y(e,t,n,i){t.hasOwnProperty(e)?n[e]=t[e]:n[e]=i}function x(t,n){var r=e.extend(true,{},n,t);i.getValue(r,"qOtherTotalSpec.qOtherCounted")||i.setValue(r,"qOtherTotalSpec.qOtherCounted",{qv:"10"});i.getValue(r,"qOtherTotalSpec.qOtherLimit")||i.setValue(r,"qOtherTotalSpec.qOtherLimit",{qv:"0"});r.hasOwnProperty("othersLabel")||(r.othersLabel=s.get("properties.dimensionLimits.others"));return r}function _(t,n){return e.extend(true,{},n,t)}function w(e){return-1!==["qMetaDef","descriptionExpression","labelExpression"].indexOf(e)}f={exportProperties:function r(o,s){var a=new t,l=o.qProperty,u=s?i.getValue(l,s).qHyperCubeDef:l.qHyperCubeDef,c=a.data[0],f,d,p;u.qInterColumnSortOrder||(u.qInterColumnSortOrder=[]);for(f=0;f<u.qDimensions.length;++f)c.dimensions.push(u.qDimensions[f]);if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qDimensions)for(f=0;f<u.qLayoutExclude.qHyperCubeDef.qDimensions.length;++f)c.excludedDimensions.push(u.qLayoutExclude.qHyperCubeDef.qDimensions[f]);for(f=0;f<u.qMeasures.length;++f)c.measures.push(u.qMeasures[f]);if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qMeasures)for(f=0;f<u.qLayoutExclude.qHyperCubeDef.qMeasures.length;++f)c.excludedMeasures.push(u.qLayoutExclude.qHyperCubeDef.qMeasures[f]);c.interColumnSortOrder=u.qInterColumnSortOrder.concat();if(u.qLayoutExclude&&u.qLayoutExclude.qHyperCubeDef&&u.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder){var h=u.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.concat();n.isOrderedSubset(h,c.interColumnSortOrder)&&(c.interColumnSortOrder=h)}delete u.qLayoutExclude;for(d in l)a.properties[d]=l[d];if(s){a.properties.qHyperCubeDef=i.getValue(l,s).qHyperCubeDef;delete i.getValue(l,s).qHyperCubeDef}l.qLayoutExclude||(l.qLayoutExclude={});if(l.qLayoutExclude.disabled){for(d in l.qLayoutExclude.disabled){p=d;a.properties.hasOwnProperty(p)||(a.properties[p]=l.qLayoutExclude.disabled[d])}delete l.qLayoutExclude.disabled}if(l.qLayoutExclude.changed){S(l);delete l.qLayoutExclude.changed}l.qLayoutExclude.quarantine&&!e.isEmpty(l.qLayoutExclude.quarantine)||delete l.qLayoutExclude;return a},importProperties:function t(i,o,s,a){var l={qChildren:[]},u={},c=i.data[0],f,d,p,h,v={layout:{templateId:o.templateId}};s.mapProperties(v);var m=s.getDefaultDimensionProperties();var C=s.getDefaultMeasureProperties();var S=s.data&&s.data.measures;S||(S=s.definition&&s.definition.items&&s.definition.items.measures||{max:0});var E="function"===typeof S.max?S.max(c.dimensions.length):Number.isNaN(+S.max)?g:S.max;var D="function"===typeof S.min?S.min(c.dimensions.length):Number.isNaN(+S.min)?0:S.min;var O=s.data&&s.data.dimensions;O||(O=s.definition&&s.definition.items&&s.definition.items.dimensions||{max:0});var A="function"===typeof O.max?O.max(E):Number.isNaN(+O.max)?g:O.max;var L="function"===typeof O.min?O.min(D):Number.isNaN(+O.min)?0:O.min;u.qLayoutExclude||(u.qLayoutExclude={});u.qLayoutExclude.disabled={};u.qLayoutExclude.quarantine={};for(d in i.properties)"qLayoutExclude"===d?i.properties[d].quarantine&&(u.qLayoutExclude.quarantine=e.extend(true,{},i.properties[d].quarantine)):"qHyperCubeDef"===d&&a||(o.hasOwnProperty(d)||w(d)?u[d]=i.properties[d]:u.qLayoutExclude.disabled[d]=i.properties[d]);if(a&&i.properties.qHyperCubeDef){u[a]=u[a]||{};u[a].qHyperCubeDef=i.properties.qHyperCubeDef}u=e.extend(true,{},o,u);var I=a?o[a].qHyperCubeDef:o.qHyperCubeDef;var T=a?u[a].qHyperCubeDef:u.qHyperCubeDef;T.qDimensions.length=0;T.qMeasures.length=0;if(c.dimensions.length>A&&A>0||c.measures.length>E&&E>0||c.excludedDimensions.length&&c.dimensions.length+c.excludedDimensions.length>L||c.excludedMeasures.length&&c.measures.length+c.excludedMeasures.length>D||!E&&c.measures.length||!A&&c.dimensions.length){T.qLayoutExclude||(T.qLayoutExclude={});T.qLayoutExclude.qHyperCubeDef||(T.qLayoutExclude.qHyperCubeDef={});(c.dimensions.length>A&&A>0||c.excludedDimensions&&c.excludedDimensions.length&&c.dimensions.length+c.excludedDimensions.length>L)&&(T.qLayoutExclude.qHyperCubeDef.qDimensions||(T.qLayoutExclude.qHyperCubeDef.qDimensions=[]));(c.measures.length>E&&E>0||c.excludedMeasures&&c.excludedMeasures.length&&c.measures.length+c.excludedMeasures.length>D)&&(T.qLayoutExclude.qHyperCubeDef.qMeasures||(T.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!E&&c.measures.length&&(T.qLayoutExclude.qHyperCubeDef.qMeasures||(T.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!A&&c.dimensions.length&&(T.qLayoutExclude.qHyperCubeDef.qDimensions||(T.qLayoutExclude.qHyperCubeDef.qDimensions=[]))}if(A>0)for(p=0;p<c.dimensions.length;++p)T.qDimensions.length<A?T.qDimensions.push(x(c.dimensions[p],m)):T.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(c.dimensions[p],m));else if(c.dimensions.length)for(p=0;p<c.dimensions.length;++p)T.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(c.dimensions[p],m));if(c.excludedDimensions.length)for(p=0;p<c.excludedDimensions.length;++p)T.qDimensions.length<L?T.qDimensions.push(x(c.excludedDimensions[p],m)):T.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(c.excludedDimensions[p],m));if(E>0)for(p=0;p<c.measures.length;++p)T.qMeasures.length<E?T.qMeasures.push(_(c.measures[p],C)):T.qLayoutExclude.qHyperCubeDef.qMeasures.push(_(c.measures[p],C));else if(c.measures.length)for(p=0;p<c.measures.length;++p)T.qLayoutExclude.qHyperCubeDef.qMeasures.push(_(c.measures[p],C));if(c.excludedMeasures.length)for(p=0;p<c.excludedMeasures.length;++p)T.qMeasures.length<D?T.qMeasures.push(_(c.excludedMeasures[p],C)):T.qLayoutExclude.qHyperCubeDef.qMeasures.push(_(c.excludedMeasures[p],C));h=T.qDimensions.length+T.qMeasures.length;T.qInterColumnSortOrder=c.interColumnSortOrder.concat();p=T.qInterColumnSortOrder.length;if(p!==h){T.qLayoutExclude&&(T.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=c.interColumnSortOrder.concat());while(p!==h)if(p<h){n.indexAdded(T.qInterColumnSortOrder,p);++p}else{--p;n.indexRemoved(T.qInterColumnSortOrder,p)}}f=r.mapProperties(r.mapDefinition(s.definition,s.type),{},s.type);var k=a?f[a]&&f[a].qHyperCubeDef:f.qHyperCubeDef;["qAlwaysFullyExpanded","qSuppressMissing","qSuppressZero"].filter(function(e){return k&&"undefined"===typeof k[e]}).forEach(function(e){b(e,I,T)});b("qMaxStackedCells",I,T);b("qNoOfLeftDims",I,T);y("qInitialDataFetch",I,T,[{qTop:0,qLeft:0,qWidth:0,qHeight:0}]);y("qMode",I,T,"S");y("qReductionMode",I,T,"N");y("qSortbyYValue",I,T);y("qIndentMode",I,T);y("qShowTotalsAbove",I,T);q(u,i,o);l.qProperty=u;return l}};d={exportProperties:function e(n){var i=new t,r=n.qProperty,o=r.qListObjectDef,s=i.data[0],a,l,u;(o.qLibraryId||o.qDef&&o.qDef.qFieldDefs[0])&&s.dimensions.push({qLibraryId:o.qLibraryId,qDef:o.qDef,title:o.title,qOtherTotalSpec:{}});if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qDimensions)for(a=0;a<o.qLayoutExclude.qHyperCubeDef.qDimensions.length;++a)s.excludedDimensions.push(o.qLayoutExclude.qHyperCubeDef.qDimensions[a]);if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qMeasures)for(a=0;a<o.qLayoutExclude.qHyperCubeDef.qMeasures.length;++a)s.excludedMeasures.push(o.qLayoutExclude.qHyperCubeDef.qMeasures[a]);if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder)for(a=0;a<o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.length;++a)s.interColumnSortOrder.push(o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder[a]);delete o.qLayoutExclude;for(l in r)i.properties[l]=r[l];if(r.qLayoutExclude&&r.qLayoutExclude._disabled){for(l in r.qLayoutExclude._disabled){u="_"===l.substr(0,1)?l.substring(1):l;i.properties.hasOwnProperty(u)||(i.properties[u]=r.qLayoutExclude.disabled[l])}delete r.qLayoutExclude.disabled}if(s.dimensions.length>0)for(a=0;a<s.dimensions[0].qDef.qSortCriterias.length;++a)s.dimensions[0].qDef.qSortCriterias[a].qSortByFrequency=0;return i},importProperties:function t(n,i){var r={qChildren:[]},o={},s=n.data[0],a=1,l,u;o.qLayoutExclude||(o.qLayoutExclude={});o.qLayoutExclude.disabled={};for(l in n.properties)"qLayoutExclude"===l?n.properties[l].quarantine&&(o.qLayoutExclude.quarantine=e.extend(true,{},n.properties[l].quarantine)):i.hasOwnProperty(l)||w(l)?o[l]=n.properties[l]:o.qLayoutExclude.disabled[l]=n.properties[l];o=e.extend(true,{},i,o);o.qListObjectDef.qLayoutExclude||(o.qListObjectDef.qLayoutExclude={});o.qListObjectDef.qLayoutExclude.qHyperCubeDef||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef={});o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions=[]);o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures=[]);o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=[]);for(u=0;u<s.dimensions.length;++u)if(u<a){o.qListObjectDef.qDef=s.dimensions[u].qDef;o.qListObjectDef.qLibraryId=s.dimensions[u].qLibraryId}else o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(s.dimensions[u]);for(u=0;u<s.excludedDimensions.length;++u)o.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(s.excludedDimensions[u]));for(u=0;u<s.measures.length;++u)o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(s.measures[u]);for(u=0;u<s.excludedMeasures.length;++u)o.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(s.excludedMeasures[u]);for(u=0;u<s.interColumnSortOrder.length;++u)o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.push(s.interColumnSortOrder[u]);o.qListObjectDef.qInitialDataFetch=i.qListObjectDef.qInitialDataFetch;q(o,n,i);r.qProperty=o;return r}};p={importProperties:function e(t,n,r){var o=this.hypercube.importProperties(t,n,r),s=i.getValue(o,"qProperty.visualization"),u=i.getValue(o,"qProperty.qHyperCubeDef.qDimensions",[]),c=i.getValue(o,"qProperty.qHyperCubeDef.qMeasures",[]),f=i.getValue(o,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",[]),d=i.getValue(o,"qProperty.color.colorExpression",""),p=i.getValue(o,"qProperty.color.mode",""),h=i.getValue(o,"qProperty.color.auto",""),v=i.getValue(o,"qProperty.color.persistent",false);var m=l.canColorBy(o.qProperty,s);if(m[p])if(h)a.colorByUpdater(o.qProperty,"qHyperCubeDef.");else if("byDimension"!==p&&"byMeasure"!==p||!u.length){if("byExpression"===p&&c.length){f.splice(0,0,{qExpression:d,id:"colorByExpression"});i.setValue(o,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",f)}}else a.colorByUpdater(o.qProperty,"qHyperCubeDef.");else{i.setValue(o,"qProperty.color.mode","primary");i.setValue(o,"qProperty.color.auto",true);a.colorByUpdater(o.qProperty,"qHyperCubeDef.")}u.length>1&&!v&&C("color.persistent",true,o);u.forEach(function(e){"qTotalMode"in e.qOtherTotalSpec&&delete e.qOtherTotalSpec.qTotalMode});return o},exportProperties:function e(t){var n=this.hypercube.exportProperties(t);var i=n.data[0];u.moveByIdFromGroup(i.dimensions.concat(i.excludedDimensions),[],"qAttributeDimensions",u.IDMAP.COLOR_BY_ALTERNATIVE);u.moveByIdFromGroup(i.dimensions.concat(i.excludedDimensions),[],"qAttributeExpressions",u.IDMAP.COLOR_BY_ALTERNATIVE);u.moveByIdFromGroup(i.measures.concat(i.excludedMeasures),[],"qAttributeExpressions",u.IDMAP.COLOR_BY_EXPRESSION);return n}};h={importProperties:function t(n,i,r){var o=this.colorChart.importProperties.apply(this,[n,i,r]),s=o.qProperty,a,l;i.measureAxis&&"undefined"===typeof i.measureAxis.autoMinMax?D(s,"unsupportedAutoMinMax")||e.extend(s.measureAxis,i.measureAxis):D(s,"supportedAutoMinMax")||e.extend(s.measureAxis,i.measureAxis);if(n.properties.measureAxes&&!i.measureAxes&&i.measureAxis&&"undefined"!==typeof i.measureAxis.autoMinMax){var u=[];s.qHyperCubeDef.qMeasures.length>0&&s.qHyperCubeDef.qMeasures.forEach(function(e){if(e.qDef.series){u[e.qDef.series.axis]||(u[e.qDef.series.axis]={axis:e.qDef.series.axis,type:{line:0,marker:0,bar:0,total:0}});["bar","marker","line"].contains(e.qDef.series.type)&&u[e.qDef.series.axis].type[e.qDef.series.type]++;u[e.qDef.series.axis].type.total++}});if(u.length){var c="barchart"===i.visualization?"bar":"linechart"===i.visualization?"line":"";c&&(a=u.filter(function(e){return e.type[c]>0}).sort(function(e,t){return t.type[c]-e.type[c]}));a&&a.length||(a=u.sort(function(e,t){return t.type.total-e.type.total}));a&&a[0]&&e.extend(s.measureAxis,n.properties.measureAxes[a[0].axis])}else e.extend(s.measureAxis,n.properties.measureAxes[0])}if(s.qHyperCubeDef.qDimensions.length>1){l=s.qHyperCubeDef.qInterColumnSortOrder.indexOf(0);if(0!==l){a=s.qHyperCubeDef.qInterColumnSortOrder[0];s.qHyperCubeDef.qInterColumnSortOrder[0]=0;s.qHyperCubeDef.qInterColumnSortOrder[l]=a}}return o},exportProperties:function e(t){var n=this.colorChart.exportProperties.apply(this,[t]);if("gauge"===n.properties.visualization){E("measureAxis.min",n,"unsupportedAutoMinMax");E("measureAxis.max",n,"unsupportedAutoMinMax")}else{E("measureAxis.min",n,"supportedAutoMinMax");E("measureAxis.max",n,"supportedAutoMinMax")}return n}};v={importProperties:function e(t,n,r){var o,s=this.hypercube.importProperties(t,n,r),a=i.getValue(s,"qProperty.qHyperCubeDef.qDimensions",[]),l=a.length,u=i.getValue(s,"qProperty.qHyperCubeDef.qMeasures",[]).length,c=i.getValue(s,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]),f,d=true;l+u===c.length&&i.setValue(s,"qProperty.qLayoutExclude.quarantine.interColSortOrder",c.concat());var p=i.getValue(s,"qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder");if(p){c=p;f=p.slice();i.setValue(s,"qProperty.qHyperCubeDef.qInterColumnSortOrder",c);delete s.qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder}else c.length=0;var h=c.indexOf(-1)>-1;var v=l+h;if(v>c.length)for(o=c.length;o<v;o++)c.indexOf(o)<0&&c.push(o-h);for(o=c.length-1;o>=0;o--)c[o]>=l&&c.splice(o,1);u>1&&c.indexOf(-1)<0?c.push(-1):u<2&&c.indexOf(-1)>-1&&c.splice(c.indexOf(-1),1);l>0&&-1===i.getValue(s,"qProperty.qHyperCubeDef.qNoOfLeftDims",-1)&&i.setValue(s,"qProperty.qHyperCubeDef.qNoOfLeftDims",l);if(f&&c&&f.length===c.length){for(o=0;o<f.length;o++)if(f[o]!==c[o]){d=false;break}d&&D(s.qProperty,"noOfLeftDims")}a.forEach(function(e){"qTotalMode"in e.qOtherTotalSpec||(e.qOtherTotalSpec.qTotalMode="TOTAL_EXPR")});return s},exportProperties:function e(t){var n=i.getValue(t,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]);var r=n.slice(0);var o=n.indexOf(-1);o>-1&&n.splice(o,1);var s=this.hypercube.exportProperties(t),a=s.properties.qHyperCubeDef,l=a.qDimensions.length,u=a.qMeasures.length,c=a.qInterColumnSortOrder;i.setValue(s,"properties.qLayoutExclude.quarantine.pivotInterColSortOrder",r);E("qHyperCubeDef.qNoOfLeftDims",s,"noOfLeftDims");delete s.properties.qHyperCubeDef.qNoOfLeftDims;var f=i.getValue(s,"properties.qLayoutExclude.quarantine.interColSortOrder");if(f){c=f;i.setValue(s,"properties.qHyperCubeDef.qInterColumnSortOrder",c);i.setValue(s,"data.0.interColumnSortOrder",c);delete s.properties.qLayoutExclude.quarantine.interColSortOrder}for(var d=c.length;d<l+u;d++)c.length<=d&&c.push(d);return s}};function q(e,t,n){"masterobject"===t.properties.qInfo.qType?e.qInfo.qType="masterobject":e.qInfo.qType=n.qInfo.qType;e.visualization=n.visualization}function C(e,t,n){var r=n.qProperty,s=n.qProperty.qLayoutExclude;if(!/boolean|number|string/.test(o(t))){i.setValue(r,e,t);return}if(s){s.changed||(s.changed={});s.changed[e]={from:i.getValue(r,e),to:t}}i.setValue(r,e,t)}function S(e){for(var t in e.qLayoutExclude.changed)e.qLayoutExclude.changed[t].to===i.getValue(e,t)&&i.setValue(e,t,e.qLayoutExclude.changed[t].from)}function E(e,t,n){var r=t.properties,s=t.properties.qLayoutExclude,a=i.getValue(r,e),l,u;if(!/boolean|number|string/.test(o(a)))try{l=JSON.stringify(a);u=l.match(/:\{/g);u=u?u.length:0;if(u>2)return;a=JSON.parse(l)}catch(e){return}if(!s){t.properties.qLayoutExclude={quarantine:{}};s=t.properties.qLayoutExclude}s.quarantine||(s.quarantine={});s.quarantine[n]||(s.quarantine[n]={});s.quarantine[n][e]=a}function D(e,t){var n,r=e.qLayoutExclude?e.qLayoutExclude.quarantine:{};if(!r[t])return false;r=r[t];for(n in r)i.setValue(e,n,r[n]);delete e.qLayoutExclude.quarantine[t];return true}m={importProperties:function t(n,i){var r={qChildren:[]},o={},s;o.qLayoutExclude||(o.qLayoutExclude={});o.qLayoutExclude.disabled={};for(s in n.properties){if("qLayoutExclude"===s)continue;i.hasOwnProperty(s)||w(s)?o[s]=n.properties[s]:o.qLayoutExclude.disabled[s]=n.properties[s]}o=e.extend(true,{},i,o);q(o,n,i);r.qProperty=o;return r},exportProperties:function e(n){var i=new t,r=n.qProperty,o,s;for(o in r)i.properties[o]=r[o];r.qLayoutExclude||(r.qLayoutExclude={});if(r.qLayoutExclude.disabled)for(o in r.qLayoutExclude.disabled){s=o;i.properties.hasOwnProperty(s)||(i.properties[s]=r.qLayoutExclude.disabled[o])}delete r.qLayoutExclude;return i}};return{importCommonProperties:q,isMasterItemProp:w,hypercube:f,listbox:d,axisChart:h,colorChart:p,pivotChart:v,other:m,changeProperty:C,quarantineProperty:E,unquarantineObject:D,quarantineConditionalShow:c.quarantine,unquarantineConditionalShow:c.unquarantine}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(102),n(92)],r=function(e,t){var n={Expression:0,NumberOrExpression:1};var i=t.extend("ExpressionValidator",{init:function t(i,r){this.currentExpr=null;this.nextExpr=null;this.hasOutstandingCall=false;this.app=i;this.mode=r||n.Expression;e.create(this,"Update")},onResponse:function e(t){var n,i,r,o,s;this.hasOutstandingCall=false;if(this.nextExpr){n=this.nextExpr;i=this.nextLabels;this.nextExpr=null;this.nextLabels=null;this.callEngine(n,i)}else{n=this.currentExpr;r=!t.qErrorMsg&&0===t.qBadFieldNames.length;for(o=0;o<t.qBadFieldNames.length;o++){s=t.qBadFieldNames[o];s.name=n.substr(s.qFrom||0,s.qCount)}this.Update.emit({valid:r,data:{error:t.qErrorMsg,bad:t.qBadFieldNames}})}},callEngine:function e(t,i){var r=this;if(this.hasOutstandingCall)throw new Error("Invalid state");this.currentExpr=t;this.hasOutstandingCall=true;var o;o=this.mode===n.NumberOrExpression?this.app.checkNumberOrExpression(t):this.app.checkExpression(t,i||[]);o.then(function(e){r.onResponse(e)},function(){r.onResponse({qErrorMsg:"Error",qBadFieldNames:[]})})},validate:function e(t,n){if(this.hasOutstandingCall){this.nextExpr=t;this.nextLabels=n}else this.callEngine(t,n)}});return{ExpressionValidator:i,Modes:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89),n(90)],r=function(e,t,n){function i(n){return n?t.resolve(n.enigmaModel):e.getApp()}var r={};r.create=function(e,t){return i(e).then(function(e){var i={qInfo:{qId:n.generateId(),qType:"odagapplink"},qMetaDef:{odagLinkRef:"",timestamp:Date.now()}};return e.createObject(n.extend(true,i,t))})};r.remove=function(e,t){return i(e).then(function(e){return e.destroyObject(t)})};r.get=function(e,t){return i(e).then(function(e){return e.getObject(t)})};r.getList=function(e){return i(e).then(function(e){return e.getODAGAppLinkObject()})};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(90),n(13),n(89),n(108)],r=function(e,t,n,i,r,o){e.service("$contentApi",["$http",function(e){function s(e){e.headers||(e.headers={})}function a(e){e.params||(e.params={})}function l(e){var t=n.getRandomString(16);e.headers["X-Qlik-XrfKey"]=t;e.params.xrfkey=t;return e}function u(e){"/"===e.url[0]&&(e.url=e.url.substr(1));e.url=i.rootPath+e.url;return e}function c(e){var n=t.language;n&&(e.headers["Accept-Language"]="pseudo"!==n?n:"qps-ploc");return e}function f(t){var n;var i;var f;var d=new r;var p=d.promise;s(t);a(t);o.isPersonalModeSync()||l(t);u(t);c(t);f=e(t);f.then(function(e){d.resolve(e);n&&n(e.data,e.status,e.headers,e.config)},function(e){if(i){d.resolve(e);i(e.data,e.status,e.headers,e.config)}else d.reject(e)});p.success=function(e){n=e;return p};p.error=function(e){i=e;return p};return p}function d(){var e={method:"GET",url:"/qrs/extension/schema"};return f(e).then(function(e){return e.data}).catch(function(e){throw e.data})}return{getExtensions:d,request:f}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t={};t.nextIndex=function(t,n){var i=1;var r;r=""===n?new RegExp("^\\((\\d+)\\)$"):new RegExp("^"+e.escapeRegExp(n)+" \\((\\d+)\\)$");t.forEach(function(e){var t=r.exec(e);if(t&&2===t.length){var n=parseInt(t[1],10);i=Math.max(n+1,i)}});return i};t.generateUniqueName=function(e,n){var i=t.nextIndex(e,n);return""===n?"("+i+")":n+" ("+i+")"};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(160),n(101),n(385)],r=function(e,t,n){var i=["scatterplot","map"];var r=["scatterplot","map","barchart","linechart","combochart","piechart","treemap","distributionplot"];return{baseColor:{isSupported:function e(t){return t&&t.length&&-1===i.indexOf(t)}},colorBy:{isSupported:function e(t){return r.contains(t)}},colorByUpdater:function i(r,s){var a=t.getValue(r,"color.mode");var f=t.getValue(r,"color.auto");var d=t.getValue(r,s+"qDimensions",[]);var p=t.getValue(r,s+"qMeasures",[]);var h=t.getValue(r,s+"qLayoutExclude.qHyperCubeDef.qDimensions",[]);var v,m,g,b;var y=t.getValue(r,"visualization");if(f)o(d,h);else if(!f&&"byDimension"===a&&d.length){v=t.getValue(r,"color.byDimDef");v&&c(r,v.label);if(v&&v.activeDimensionIndex>-1){v.activeDimensionIndex=Math.min(v.activeDimensionIndex,d.length-1);m=d[v.activeDimensionIndex];b=n.getColorByDefinition("dimension",false,m);b.activeDimensionIndex=v.activeDimensionIndex;l(r,b)}else if(!v||!v.key){m=d[d.length-1];var x=s.split(".");2===d.length&&"map"===y&&"point"===r.layers[Number(x[1])].type&&(m=d[0]);g=e.getById(m.qAttributeDimensions,e.IDMAP.COLOR_BY_ALTERNATIVE);l(r,n.getColorByDefinition("dimension",!!g,g||m));if(g)return}u(r,true,d,h,p,t.getValue(r,"color.byDimDef.label"))}else if(f||"byMeasure"!==a||!d.length||"map"!==y&&!p.length){"byMultiple"===a&&p.length<2&&t.setValue(r,"color.mode","primary");o(d,h)}else{v=t.getValue(r,"color.byMeasureDef");v&&c(r,v.label);if(v&&v.activeMeasureIndex>-1){v.activeMeasureIndex=Math.min(v.activeMeasureIndex,p.length-1);if(v.activeMeasureIndex>-1){var _=p[v.activeMeasureIndex];b=n.getColorByDefinition("measure",false,_);b.activeMeasureIndex=v.activeMeasureIndex;l(r,b)}}else if((!v||!v.key)&&p.length){var w=p[0];m=d[d.length-1];g=e.getById(m.qAttributeExpressions,e.IDMAP.COLOR_BY_ALTERNATIVE);l(r,n.getColorByDefinition("measure",!!g,g||w));if(g)return}u(r,false,d,h,p,t.getValue(r,"color.byMeasureDef.label"))}},setColorByPropertyDef:l,resolveColorByPropertyDef:u,clearColorByItem:o};function o(t,n){t.forEach(function(t){s(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");s(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")});n.forEach(function(t){s(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");s(t,e.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")})}function s(t,n,i){if(t[i]){var r=e.getIndexById(t[i],n);r>=0&&t[i].splice(r,1)}else t[i]=[]}function a(e){return e.split(" ").length>1&&"="!==e[0]&&"["!==e[0]?"["+e+"]":e}function l(e,t,n,i){var r=n?"expression":t.type,o=e.color.mode,s=t.label||t.name||"";c(e,s);switch(r){case"field":o="byDimension";e.color.byDimDef={label:t.label||a(t.name),key:a(t.name),type:"expression",activeDimensionIndex:t.activeDimensionIndex};break;case"expression":o="byMeasure";e.color.byMeasureDef={label:n||t.label||t.name,key:n||t.name,type:"expression",activeMeasureIndex:t.activeMeasureIndex};break;case"dimension":o="byDimension";e.color.byDimDef={label:t.name,key:t.id,type:"libraryItem",activeDimensionIndex:t.activeDimensionIndex};break;case"measure":o="byMeasure";e.color.byMeasureDef={label:t.name,key:t.id,type:"libraryItem",activeMeasureIndex:t.activeMeasureIndex};break}if(!i){e.color.auto=false;e.color.mode=o}}function u(n,i,r,s,a,l){o(r,s);var u=r[r.length-1];if(u){var c=i?t.getValue(n,"color.byDimDef"):t.getValue(n,"color.byMeasureDef");if(c){var f=e.create(e.IDMAP.COLOR_BY_ALTERNATIVE);switch(c.type){case"expression":f.label=l||c.label;i?f.qDef=c.key:f.qExpression=c.key;f.matchMeasure=c.activeMeasureIndex;f.label&&"="===f.label.charAt(0)&&(f.labelExpRef="color.altLabel");break;case"libraryItem":if(!i){var d=-1;a.forEach(function(e,t){c.key===e.qLibraryId&&(d=t)});f.matchMeasure=d}f.qLibraryId=c.key;f.colorMapRef=c.key;break}if(i){f.qSortBy={qSortByAscii:1};u.qAttributeDimensions.push(f)}else u.qAttributeExpressions.push(f)}}}function c(e,t){if(!t)return;var n="="===t.charAt(0);e.color.altLabel=n?{qStringExpression:{qExpr:t.substr(1)}}:t}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(54),n(118)],r=function(e,t){var n="localstorageservice";function i(t){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');return n+"."+t}function r(t,n,r){var o=(new Date).getTime(),s,a;if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');if(!e.isObject(n))throw new Error('The value "'+n+'" for the key "'+t+'" is not valid object.');if(r){if(!e.isNumber(r))throw new Error('The time to live value "'+r+'" is not numeric.');r+=o}a={timeToLive:r,value:n};s=JSON.stringify(a);localStorage[i(t)]=s}function o(t){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');var n=e.isEmpty(localStorage[i(t)]);return!n}function s(t,n){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');if(!o(t)){if(void 0!==n)return n;throw new Error('There is no data set for the key "'+t+'". Please use contains() first to verify you should actually do a get().')}var i=a(t);return i.value}function a(e){var t=JSON.parse(localStorage[i(e)]);return t}function l(t){if(!e.isString(t))throw new Error('The key "'+t+'" is not a String.');if(!o(t))throw new Error('There is no data set for the key "'+t+'". Please use contains() first to verify you should actually do a get().');delete localStorage[i(t)]}function u(){var i,r,o;for(i in localStorage)if(t.startsWith(i,n)){i=i.substring(n.length+1);r=a(i);o=(new Date).getTime();e.isNumber(r.timeToLive&&o>r.timeToLive)&&l(i)}}return{set:r,get:s,contains:o,clean:u,remove:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(89),n(497),n(622)],r=function(e,t,n,i,r){var o;o=t.extend("BackendApi",{init:function e(t,n,o){this.model=t;this.localeInfo=t.app&&t.app.layout?t.app.layout.qLocaleInfo:{};this.path=n;n&&(this.dataPath=n.slice(1,-3));this.cacheCube=new i(t,"qDataPages",this.path,o);this.backendStackThrottle=new r(t,"qDataPages",this.path)},setPath:function e(t){this.path=t;t&&(this.dataPath=t.slice(1,-3));this.cacheCube.setPath(t);this.backendStackThrottle.setPath(t)},setCacheOptions:function e(t){this.cacheCube.setOptions(t)},updateCache:function e(){},applyPatches:function e(t,n){return this.model.applyPatches(t,n)},clearSoftProperties:function e(){var t=this;return this.model.getLayout().then(function(e){return e.qHasSoftPatches?t.model.clearSoftPatches():n.resolve()})},beginSelections:function e(){return this.model.app.switchModalSelection(this.model,this.path)},endSelections:function e(t){return this.model.app.switchModalSelection(null,null,t)},clearSelections:function e(t){t=t||0;return this.model.clearSelections(this.path,[t])},getDimensionInfos:function e(){if(!this.model.layout[this.dataPath].qDimensionInfo)return[];if(Array.isArray(this.model.layout[this.dataPath].qDimensionInfo))return this.model.layout[this.dataPath].qDimensionInfo;return[this.model.layout[this.dataPath].qDimensionInfo]},getMeasureInfos:function e(){return this.model.layout[this.dataPath].qMeasureInfo},getRowCount:function e(){return this.model.layout[this.dataPath].qSize.qcy},eachDataRow:function t(n){var i=this.model.layout[this.dataPath],r=true;i&&e.each(i.qDataPages,function(t,i){e.each(i.qMatrix,function(e,t){r=n(i.qArea.qTop+e,t);return r});return r})},drillUp:function e(t,n){return this.model.drillUp(this.path,t,n)},hasSelections:function e(){var t=this.getDimensionInfos();for(var n=0;n<t.length;++n)if(t[n].qStateCounts.qSelected>0)return true;return false},inSelections:function e(){return this.model.layout.qSelectionInfo&&this.model.layout.qSelectionInfo.qInSelections},destroy:function e(){this.cacheCube.destroy();this.backendStackThrottle.destroy()},getSize:function e(){return this.model.layout[this.dataPath].qSize}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t="undefined"!==typeof window&&"undefined"!==typeof document;var n=(t&&e.getParameterByName("debug")||"").split("+");var i={LANGUAGES:false,DEVELOPER:false,RELEASEMODELS:false,ASSOCIATE:false,BUBBLES:false,DLE_SAFE_MODE:false,DM_LINEAGE:false,DM_PERF:false,DM_STU:false,NOCONNECTOR:false};n.forEach(function(e){e&&(i[e.toUpperCase()]=true)});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t;t=e.extend({init:function e(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];this._stack=[]},clone:function e(){var n=new t;return n.multiply(this._elements)},set:function e(t){this._elements=t;return this},save:function e(){this._stack.push(this.elements);return this},restore:function e(){this._stack.length&&(this._elements=this._stack.pop());return this},add:function e(t){var n,i;for(n=0;n<this._elements.length;n++)for(i=0;i<this._elements[n].length;i++)this._elements[n][i]+=t;return this},translate:function e(t,n){this.multiply([[1,0,t],[0,1,n],[0,0,1]]);return this},rotate:function e(t){var n=Math.cos(-t),i=Math.sin(-t);this.multiply([[n,i,0],[-i,n,0],[0,0,1]]);return this},skew:function e(t,n){var i=Math.tan(t),r=Math.tan(n);this.multiply([[1,i,0],[r,1,0],[0,0,1]]);return this},multiply:function e(n){var i,r,o,s;n instanceof t&&(n=n._elements);if(Array.isArray(n)){o=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)for(s=0;s<3;s++)o[i][r]+=this._elements[i][s]*n[s][r];this._elements=o}else for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)this._elements[i][r]*=n;return this},scale:function e(t,n){(arguments.length<2||"undefined"===typeof n)&&(n=t);this.multiply([[t,0,0],[0,n,0],[0,0,1]]);return this},determinant:function e(){var t=this._elements[0][0],n=this._elements[0][1],i=this._elements[0][2],r=this._elements[1][0],o=this._elements[1][1],s=this._elements[1][2],a=this._elements[2][0],l=this._elements[2][1],u=this._elements[2][2],c=0;c=t*o*u+n*s*a+i*r*l-i*o*a-n*r*u-t*s*l;return c},invert:function e(){var t=this.determinant(),n=this._elements[0][0],i=this._elements[0][1],r=this._elements[0][2],o=this._elements[1][0],s=this._elements[1][1],a=this._elements[1][2],l=this._elements[2][0],u=this._elements[2][1],c=this._elements[2][2];this._elements=[[s*c-a*u,r*u-i*c,i*a-r*s],[a*l-o*c,n*c-r*l,r*o-n*a],[o*u-s*l,l*i-n*u,n*s-i*o]];this.multiply(1/t);return this},transpose:function e(){var t=Object.create(this._elements);this._elements=[[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]];return this},identity:function e(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];return this},transformPoint:function e(t){var n=[t.x,t.y,1],i,r,o=this._elements,s=[0,0,0];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)s[i]+=n[r]*o[i][r];return{x:s[0],y:s[1]}},transformPoints:function e(t){var n,i,r,o,s,a=this._elements,l=[];for(o=0;o<t.length;o++){n=[t[o].x,t[o].y,1];s=[0,0,0];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)s[i]+=n[r]*a[i][r];l.push({x:s[0],y:s[1]})}return l},toString:function e(){var t="";this._elements.forEach(function(e,n,i){t+=e.join("\t")+(n<i.length?"\n":"")});return t},isIdentity:function e(){var t=this._elements;return 1===t[0][0]&&0===t[0][1]&&0===t[0][2]&&0===t[1][0]&&1===t[1][1]&&0===t[1][2]&&0===t[2][0]&&0===t[2][1]&&1===t[2][2]},identityIfClose:function e(t){var n=this._elements;Math.abs(n[0][0]-1)<t&&Math.abs(n[0][1])<t&&Math.abs(n[0][2])<t&&Math.abs(n[1][0])<t&&Math.abs(n[1][1]-1)<t&&Math.abs(n[1][2])<t&&Math.abs(n[2][0])<t&&Math.abs(n[2][1])<t&&Math.abs(n[2][2]-1)<t&&this.identity()}});Object.defineProperties(t.prototype,{elements:{get:function e(){var t=this._elements;return[[t[0][0],t[0][1],t[0][2]],[t[1][0],t[1][1],t[1][2]],[t[2][0],t[2][1],t[2][2]]]}}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(92),n(104),n(398),n(11),n(200),n(89),n(159)],r=function(e,t,n,i,r,o,s){var a,l,u=window.devicePixelRatio||1,c=document.createElement("canvas"),f=c.getContext("2d"),d=document.createElement("span"),p=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1,h=u/p,v={},m=[],g=!s.supportDirAuto();d.innerText="Wj";function b(e,t){m.length>100&&delete v[m.shift()];m.push(e);v[e]=t}function y(e){if(e.font in v)return v[e.font];var t=1.5*e.measureText("m").width;b(e.font,t);return t}function x(e,t,n,i,r){var o=t.shape.points,s=o?o.length:0,a,l;e.beginPath();a=o[0];if(!a)return;e.moveTo(a.x,a.y);for(l=1;l<s;l+=1){a=o[l];e.lineTo(a.x,a.y)}r&&e.closePath();n&&e.fill();i&&e.stroke()}l={rect:function e(t,n,i,r){i&&t.fillRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0);r&&t.strokeRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0)},roundRect:function e(t,n,i,r){t.beginPath();t.moveTo(n.shape.x+n.shape.radius,n.shape.y);t.lineTo(n.shape.x+n.shape.width-n.shape.radius,n.shape.y);t.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y,n.shape.x+n.shape.width,n.shape.y+n.shape.radius);t.lineTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height-n.shape.radius);t.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height,n.shape.x+n.shape.width-n.shape.radius,n.shape.y+n.shape.height);t.lineTo(n.shape.x+n.shape.radius,n.shape.y+n.shape.height);t.quadraticCurveTo(n.shape.x,n.shape.y+n.shape.height,n.shape.x,n.shape.y+n.shape.height-n.shape.radius);t.lineTo(n.shape.x,n.shape.y+n.shape.radius);t.quadraticCurveTo(n.shape.x,n.shape.y,n.shape.x+n.shape.radius,n.shape.y);t.closePath();i&&t.fill();r&&t.stroke()},circle:function e(t,n,i,r){n.shape&&n.shape.r&&!n.shape.radius&&(n.shape.radius=n.shape.r);if(Number.isNaN(+n.shape.cx)||Number.isNaN(+n.shape.cy)||Number.isNaN(+n.shape.radius)||n.shape.radius<=0)return;var o=.551784;t.save();t.translate(n.shape.cx,n.shape.cy);t.scale(n.shape.radius,n.shape.radius);t.beginPath();t.moveTo(1,0);t.bezierCurveTo(1,-o,o,-1,0,-1);t.bezierCurveTo(-o,-1,-1,-o,-1,0);t.bezierCurveTo(-1,o,-o,1,0,1);t.bezierCurveTo(o,1,1,o,1,0);t.closePath();t.restore();i&&t.fill();r&&t.stroke()},line:function e(t,n,i,r){if(!r)return;t.beginPath();t.moveTo(n.shape.x1,n.shape.y1);t.lineTo(n.shape.x2,n.shape.y2);t.stroke()},polygon:function e(t,n,i,r){x(t,n,i,r,true)},polyline:function e(t,n,i,r){x(t,n,i,r)},polygons:function e(t,n,i,r){var e=n.shape.polygons,o=e?e.length:0,s,a,l,u,c,f;t.beginPath();for(c=0;c<o;c++){s=e[c];a=s.points;l=a?a.length:0;if(0===l)continue;u=a[0];if(!u)continue;t.moveTo(u.x,u.y);for(f=1;f<l;f+=1){u=a[f];t.lineTo(u.x,u.y)}}i&&t.fill();r&&t.stroke()},multipolygon:function e(t,n,i,r){var o=n.shape.geopolygons,s=o?o.length:0,a,l,u,c,f,d,p,h;t.beginPath();for(d=0;d<s;d++){a=o[d].getPolygons();l=a?a.length:0;for(p=0;p<l;p++){u=a[p].points;c=u?u.length:0;if(0===c)continue;f=u[0];if(!f)continue;t.moveTo(f.x,f.y);for(h=1;h<c;h+=1){f=u[h];t.lineTo(f.x,f.y)}}}i&&t.fill();r&&t.stroke()},arc:function e(t,n,i,r){var e=n.shape;t.beginPath();if(e.end-e.start===2*Math.PI){t.arc(e.cx,e.cy,e.radius,e.start+e.radianOffset,e.end+e.radianOffset,false);t.moveTo(e.cx+e.innerRadius*Math.cos(e.radianOffset+e.start),e.cy+e.innerRadius*Math.sin(e.radianOffset+e.start));t.arc(e.cx,e.cy,e.innerRadius,e.end+e.radianOffset,e.start+e.radianOffset,true)}else{t.arc(e.cx,e.cy,e.radius,e.start+e.radianOffset,e.end+e.radianOffset,false);if(!Number.isNaN(+e.innerRadius)&&e.innerRadius!==e.radius){t.lineTo(e.innerRadius*Math.cos(e.end+e.radianOffset)+e.cx,e.innerRadius*Math.sin(e.end+e.radianOffset)+e.cy);e.innerRadius>0&&t.arc(e.cx,e.cy,e.innerRadius,e.end+e.radianOffset,e.start+e.radianOffset,true);t.lineTo(e.radius*Math.cos(e.start+e.radianOffset)+e.cx,e.radius*Math.sin(e.start+e.radianOffset)+e.cy)}}t.closePath();i&&t.fill();r&&t.stroke()},text:function e(t,n){if(!n.shape||!n.shape.text||!n.fill)return;n.shape.font&&(t.font=n.shape.font);n.shape.align&&(t.textAlign=n.shape.align);n.shape.baseline&&(t.textBaseline=n.shape.baseline);C(t,n.shape)}};function _(e,t,n){var i,r=e?e.replace(/^\s*|\s*$/,"").split(" "):[],o=[],s,a,l=r[0];if(!l)return[];for(i=1;i<r.length;i++){s=l+" "+r[i];a=f.measureText(s).width;if(a>t&&n>o.length){o.push(l);l=r[i]}else l=s}o.length<n?o.push(l):o[Math.max(0,o.length-1)]?o[Math.max(0,o.length-1)]+=" "+l:o[Math.max(0,o.length-1)]=" "+l;return o}function w(e,t,n){if(void 0===e)return;var i,r,o,s,a,l,u,c="…",d,p=f.measureText("i").width;for(i=0;i<e.length;i++){r=e[i];u=Math.ceil(Math.max(0,t/p))+1;if(u<r.length){s=r.slice(u);r=r.slice(0,u)}else s="";o=r;if(r&&r.length>1&&f.measureText(r).width>t){a=false;for(l=r.length;l>0;l--){o=o.substring(0,o.length-1);d=o+(i+1<n?"-":c);if(f.measureText(d).width<t){s=r.substring(l-1)+s;r=d;a=true;break}}if(!a){s=r.substring(1);r=r.substring(0,1)}if(!a&&!l){s="";r=c}}e[i]=String(r).trim();s&&i<e.length-1?e[i+1]=s+" "+e[i+1]:s&&e.length<n&&e.push(s)}}function q(e,t,n){var i=n.maxWidth,r;if(Number.isNaN(+i))return[e];r=t>1?_(e,i,t):[e];w(r,i,t);return r}function C(e,t,n){var i=t.text,r=(t.lineHeight||1)*y(e),o="maxWidth"in t?t.maxWidth:t.width,a="maxHeight"in t?t.maxHeight:t.height,l=t.width,u=t.height,c=t.maxNumLines,d,p=t.x||0,h=t.y||0,v=e.textAlign,m="center"===v&&g,b,x,_;f.font=e.font;Number.isNaN(+c)&&(c=a?Math.max(1,Math.floor(a/r)):1);d=q(i,c,{maxWidth:o,maxHeight:a});if(n){l=0;for(b=0;b<d.length;b++)l=Math.max(l,e.measureText(d[b]).width);return{lines:d,numLines:d.length,width:l,height:d.length*r,truncated:Array.isArray(/…$/.exec(d[d.length-1]))}}"middle"===e.textBaseline?"undefined"!==typeof u?h+=u/2:d.length&&(h-=(d.length-1)*r/2):"bottom"===e.textBaseline&&("undefined"!==typeof u?h+=u:h-=(d.length-1)*r);"center"===e.textAlign&&l?p+=l/2:"right"===e.textAlign&&l&&(p+=l);for(b=0;b<d.length;b++){x=s.detectTextDirection(d[b]);e.canvas.dir=x;if(m&&"rtl"===x){e.textAlign="left";_=p-e.measureText(d[b]).width/2}else{e.textAlign=v;_=p}e.canvas.dir=s.detectTextDirection(d[b]);e.fillText(d[b],_,h);h+=r}e.textAlign=v}function S(e,t,n,i,r,o){var s,a,u,c,f,d,p;for(s=0;s<n.length;s+=1){c=n[s];if(!c)continue;e.save();u=c.transform;if(u){t.save();t.multiply(u)}"opacity"in c&&(e.globalAlpha=c.opacity);if(c.fill)if(c.fill.gradient){p=c.fill.gradient;if(Number.isNaN(+p.x0)||Number.isNaN(+p.y0)||Number.isNaN(+p.x1)||Number.isNaN(+p.y1))return;d=e.createLinearGradient(p.x0,p.y0,p.x1,p.y1);for(a=0;a<p.limits.length;a++)d.addColorStop(p.limits[a],p.colors[a]);e.fillStyle=d}else e.fillStyle=c.fill;if(c.stroke&&0!==c.strokeWidth){if(c.stroke.gradient){p=c.stroke.gradient;d=e.createLinearGradient(p.x0,p.y0,p.x1,p.y1);for(a=0;a<p.limits.length;a++)d.addColorStop(p.limits[a],p.colors[a]);e.strokeStyle=d}else e.strokeStyle=c.stroke;e.lineWidth=c.strokeWidth||1;i>1&&"polygon"!==c.type&&(e.lineWidth/=i)}c.lineJoin&&(e.lineJoin=c.lineJoin);c.lineCap&&(e.lineCap=c.lineCap);f=t.elements;if("group"===c.type){t.save();if(c.clip){e.beginPath();e.setTransform(f[0][0],f[1][0],f[0][1],f[1][1],f[0][2],f[1][2]);e.rect(c.clip.rect.x,c.clip.rect.y,c.clip.rect.width,c.clip.rect.height);e.clip()}S(e,t,c.children,void 0,!!c.fill||!!r,!!c.stroke&&0!==c.strokeWidth||!!o);t.restore()}else if(c.type in l){e.setTransform(f[0][0],f[1][0],f[0][1],f[1][1],f[0][2],f[1][2]);l[c.type](e,c,!!c.fill||!!r,!!c.stroke&&0!==c.strokeWidth||!!o)}e.globalAlpha=1;u&&t.restore();e.restore()}}function E(e,t,n){if(n){var i=t.elements;switch(n.type){case"clip":e.save();e.setTransform(i[0][0],i[1][0],i[0][1],i[1][1],i[0][2],i[1][2]);e.beginPath();e.rect(n.rect.x,n.rect.y,n.rect.width,n.rect.height);e.clip();break;case"slice":break;default:break}}}function D(e,t){t&&e.restore()}a=e.extend({init:function e(n,o){var s=i.extend(true,{storeObjects:false},o);this._container=n;this._canvas=document.createElement("canvas");this._canvas.style.position="absolute";this._canvas.width=0;this._canvas.height=0;s.name&&this._canvas.setAttribute("name",s.name);this.storeRenderedObjects=true===s.storeObjects;this.scaling={x:1,y:1};this._container&&this._container.appendChild(this._canvas);this.rect=new t(0,0,0,0);this.shapes=[];this._matrix=new r},setDimensions:function e(t,n,i,r){this.rect.set(t,n,i,r)},setDimensionsToContainerRatio:function e(t,n){this.scaling={x:t,y:n};this.ratios={x:t,y:n}},show:function e(){this._canvas.style.display=""},hide:function e(){this._canvas.style.display="none"},clear:function e(t){if(t){if(!this._clearTimer){var r=this;this._clearTimer=n.request(function(){if(r._clearTimer){r._canvas.width=0;r._clearTimer=0}})}}else{n.cancel(this._clearTimer);this._clearTimer=0;this._canvas.width=0;this._canvas.height=0;i(this._canvas).data("shapes",null);this.shapes=[]}},render:function e(){n.cancel(this._clearTimer);this._clearTimer=0;u=window.devicePixelRatio||1;p=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;h=u/p;var t=this._canvas,r=t.getContext("2d"),s=h,a=this._matrix,l=0,c=0,d,v;v=this.rect.height*this.scaling.y;d=this.rect.width*this.scaling.x;if(this.edgeBleed){l=this.edgeBleed.left*this.scaling.x;c=this.edgeBleed.top*this.scaling.y;v+=this.edgeBleed.top*this.scaling.y+this.edgeBleed.bottom*this.scaling.y;d+=this.edgeBleed.left*this.scaling.x+this.edgeBleed.right*this.scaling.x}v=Math.round(v);d=Math.round(d);this._canvas.style.left=-l+"px";this._canvas.style.top=-c+"px";if(t.width!==d||t.height!==v){t.width=s*d;t.height=s*v;this._canvas.style.width=d+"px";this._canvas.style.height=v+"px"}else r.clearRect(0,0,t.width,t.height);r.save();a.save();a.scale(s*this.scaling.x,s*this.scaling.y);a.translate(l/this.scaling.x,c/this.scaling.y);E(r,a,this.viewBox);S(r,a,this.shapes,this.scaling.x);D(r,this.viewBox);r.restore();a.restore();this.storeRenderedObjects&&i(this._canvas).data("shapes",this.shapes);return o.resolve()},setFont:function e(t){this._canvas.getContext("2d").font=t},getFontHeight:function e(t){if("string"!==typeof t)throw new Error("CanvasRenderer.getFontHeight(): Input font is not a string");if(t in v)return v[t];var n=this._canvas.getContext("2d"),i;if(n.font!==t){n.save();n.font=t;i=1.5*n.measureText("m").width;n.restore()}else i=1.5*n.measureText("m").width;b(t,i);return i},getTextWidth:function e(t,n){var i=this._canvas.getContext("2d"),r;i.save();i.font=n;r=void 0!==t?Math.ceil(i.measureText(t).width):0;i.restore();return r},getEMFontWidth:function e(t){var n="m",i,r=this._canvas.getContext("2d");r.save();r.font=t;i=r.measureText(n).width;r.restore();return i},getAverageLetterWidth:function e(t){var n="eeeaaaiinnoorsstldumcph",i;f.font=t||this._canvas.getContext("2d").font;i=f.measureText(n).width;return i/n.length},release:function e(){i(this._canvas).data("shapes",null);this.shapes=[];if(this._container){this._container.removeChild(this._canvas);this._container=null}},applyTransform:function e(){var t;for(t=0;t<this.shapes.length;t+=1)this.shapes[t].type in O&&O[this.shapes[t].type](this.shapes[t].shape,this.ratios)}});var O={rect:function e(t,n){t.x*=n.x;t.y*=n.y;t.width*=n.x;t.height*=n.y},line:function e(t,n){t.x1*=n.x;t.y1*=n.y;t.x2*=n.x;t.y2*=n.y},circle:function e(t,n){t.cx*=n.x;t.cy*=n.y;t.r*=Math.min(n.x,n.y)},polygon:function e(t,n){var i,r;for(i=0;i<t.points.length;i++){r=t.points[i];r.x*=n.x;r.y*=n.y}},text:function e(t,n){t.x*=n.x;t.y*=n.y;t.width*=n.x;t.height*=n.y}};a.getTextWidth=function(e){return Math.ceil(f.measureText(e).width)};a.setFont=function(e){f.font=e};a.getAverageLetterWidth=function(e){var t="eeeaaaiinnoorsstldumcph",n;f.font=e;n=f.measureText(t).width;return n/t.length};a.measureText=function(e,t){var n=f,i,r,o;if(t&&n.font!==t){n.save();n.font=t}r=n.measureText(e).width;if(t in v)i=v[t];else{i=1.5*n.measureText("m").width;b(t,i)}t&&n.restore();o=void 0!==e?{width:r,height:i}:{width:0,height:0};return o};a.measureTextObject=function(e){e.shape.font&&(f.font=e.shape.font);e.shape.align&&(f.textAlign=e.shape.align);e.shape.baseline&&(f.textBaseline=e.shape.baseline);return C(f,e.shape,true)};a.measureDisplayTextObject=function(e){e.font&&(f.font=e.font);e.align&&(f.textAlign=e.align);e.baseline&&(f.textBaseline=e.baseline);return C(f,e,true)};a.getFontHeight=function(e){var t=f,n;if(e in v)return v[e];if(e){t.save();t.font=e}n=1.5*t.measureText("m").width;b(e,n);e&&t.restore();return n};a.getDevicePixelToBackingStoreRatio=function(){return(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1)};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(238),n(89),n(130),n(125),n(90),n(195),n(185)],r=function(e,t,n,i,r,o,s){var a=1e3,l=1e3;var u;function c(e,t){if(!e)return[];return t&&r.getValue(e,t)?r.getValue(e,t).qHyperCube:e.qHyperCube}u=e.extend({init:function e(t){this._super(t);this.path=t.path},setProperties:function e(t){if(!t)return;this._super(t);this.hcProperties=this.path?r.getValue(t,(this.path?this.path+".":"")+"qHyperCubeDef"):t.qHyperCubeDef;if(!this.hcProperties)return;this.hcProperties.qDimensions||(this.hcProperties.qDimensions=[]);this.hcProperties.qMeasures||(this.hcProperties.qMeasures=[]);this.hcProperties.qInterColumnSortOrder||(this.hcProperties.qInterColumnSortOrder=[]);this.hcProperties.qLayoutExclude||(this.hcProperties.qLayoutExclude={});this.hcProperties.qLayoutExclude.qHyperCubeDef||(this.hcProperties.qLayoutExclude.qHyperCubeDef={});this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions=[]);this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures=[]);this.hcProperties.qDimensions.forEach(function(e){if(void 0!==e.autoSort){e.qDef.autoSort=e.autoSort;delete e.autoSort}});this.hcProperties.qMeasures.forEach(function(e){if(void 0!==e.autoSort){e.qDef.autoSort=e.autoSort;delete e.autoSort}})},canColorBy:function e(t,n){var i=t||{qHyperCubeDef:this.hcProperties||this.properties.qHyperCubeDef},r=this.layout?this.layout.visualization:null,s=i.qHyperCubeDef.qDimensions.length>=this.minDimensions()&&i.qHyperCubeDef.qMeasures.length>=this.minMeasures();if(o.colorBy.isSupported(r)||n)return s&&this.layout&&this.layout.color?u.canColorBy(i,r):{};return false},getDimensions:function e(){return this.hcProperties?this.hcProperties.qDimensions:[]},getMeasures:function e(){return this.hcProperties?this.hcProperties.qMeasures:[]},getLabels:function e(){return this.getMeasures().filter(function(e){return!e.qLibraryId&&!!e.qDef.qLabel}).map(function(e){return e.qDef.qLabel})},getSorting:function e(){return this.hcProperties.qInterColumnSortOrder},addDimension:function e(n,o,s){var l=this.getDimensions(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());n.qOtherTotalSpec||(n.qOtherTotalSpec={});if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n);return t.resolve(n)}if(l.length<this.maxDimensions()){s=void 0!==s?s:l.length;l.splice(s,0,n);return this.autoSortDimension(n).then(function(){i.indexAdded(u.hcProperties.qInterColumnSortOrder,"undefined"!==typeof s?s:l.length-1);if("function"===typeof u.dimensionDefinition.add)return t.when(u.dimensionDefinition.add.call(u,n,u.properties,u)).then(function(){return n});return n})}if(l.length<a){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n);return t.resolve(n)}},reinsertDimension:function e(n,o,s){var l=this.getDimensions(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n);if("function"===typeof u.dimensionDefinition.move)return t.when(u.dimensionDefinition.move.call(u,n,u.properties,u)).then(function(){return n})}else if(l.length<this.maxDimensions()){s=void 0!==s?s:l.length;l.splice(s,0,n);i.indexAdded(u.hcProperties.qInterColumnSortOrder,"undefined"!==typeof s?s:l.length-1);if("function"===typeof u.dimensionDefinition.move)return t.when(u.dimensionDefinition.move.call(u,n,u.properties,u)).then(function(){return n})}else if(l.length<a){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n)}return t.resolve(n)},addMeasure:function e(n,o,s){var a=this.getMeasures(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n);return t.resolve(n)}s=void 0!==s?s:a.length;if(a.length<this.maxMeasures()){a.splice(s,0,n);return this.autoSortMeasure(n).then(function(){i.indexAdded(u.hcProperties.qInterColumnSortOrder,u.getDimensions().length+a.length-1);if("function"===typeof u.measureDefinition.add)return t.when(u.measureDefinition.add.call(null,n,u.properties,u)).then(function(){return n});return n})}if(a.length<l){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n);return t.resolve(n)}},getDimensionLayouts:function e(){var t=c(this.layout,this.path);return t?t.qDimensionInfo:[]},getDimensionLayout:function e(t){return this.getDimensionLayouts().filter(function(e){return t===e.cId})[0]},getMeasureLayouts:function e(){var t=c(this.layout,this.path);return t?t.qMeasureInfo:[]},getMeasureLayout:function e(t){return this.getMeasureLayouts().filter(function(e){return t===e.cId})[0]},reinsertMeasure:function e(n,o,s){var a=this.getMeasures(),u=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n)}else{s=void 0!==s?s:a.length;if(a.length<this.maxMeasures()){a.splice(s,0,n);i.indexAdded(u.hcProperties.qInterColumnSortOrder,u.getDimensions().length+a.length-1);if("function"===typeof u.measureDefinition.move)return t.when(u.measureDefinition.move.call(null,n,u.properties,u,true)).then(function(){return n})}else if(a.length<l){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n)}}return t.resolve(n)},replaceDimension:function e(t,n){var i=this.getDimensions(),o=i[t],s=this;return this.autoSortDimension(n).then(function(){n.qDef.cId=r.generateId();i[t]=n;"function"===typeof s.dimensionDefinition.replace&&s.dimensionDefinition.replace.call(null,n,o,t,s.properties,s);return n})},replaceMeasure:function e(t,n){var i=this.getMeasures(),o=i[t],s=this;return this.autoSortMeasure(n).then(function(){n.qDef.cId=r.generateId();i[t]=n;"function"===typeof s.measureDefinition.replace&&s.measureDefinition.replace.call(null,n,o,t,s.properties,s);return n})},autoSortDimension:function e(t){var i=this;function r(e){e.forEach(function(e,n){var r=e.qTags;var o={qSortByLoadOrder:1};if("function"===typeof i.dimensionDefinition.autoSort)i.dimensionDefinition.autoSort(t,i.properties,r,o,i);else{o.qSortByNumeric=1;o.qSortByAscii=1}t.qDef.qSortCriterias?t.qDef.qSortCriterias[n]=o:t.qDef.qSortCriterias=[o]})}return t.qLibraryId?this.app.getDimensionList().then(function(e){var i=n.findLibraryDimension(t.qLibraryId,e);i&&r(i.qData.info);return t}):this.app.getFieldList().then(function(e){var i=n.findField(t.qDef.qFieldDefs[0],e);i&&r([i]);return t})},autoSortMeasure:function e(n){n.qSortBy={qSortByLoadOrder:1,qSortByNumeric:-1};return t.resolve(n)},removeDimension:function e(n,r){var o;if(r){o=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(n,1);if("function"===typeof this.dimensionDefinition.remove)return t.when(this.dimensionDefinition.remove.call(null,o,this.properties,this,n))}else{o=this.hcProperties.qDimensions.splice(n,1)[0];i.indexRemoved(this.hcProperties.qInterColumnSortOrder,n);if("function"===typeof this.dimensionDefinition.remove)return t.when(this.dimensionDefinition.remove.call(null,o,this.properties,this,n))}return t.resolve(o)},removeMeasure:function e(n,r){var o;if(r)o=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(n,1)[0];else{o=this.hcProperties.qMeasures.splice(n,1)[0];i.indexRemoved(this.hcProperties.qInterColumnSortOrder,this.getDimensions().length+n);if("function"===typeof this.measureDefinition.remove)return t.when(this.measureDefinition.remove.call(null,o,this.properties,this,n))}return t.resolve(o)},moveDimension:function e(n,r){var o=this.getDimensions(),s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions,a,l,u;if(n<o.length&&r<o.length)i.move(o,n,r);else if(n<o.length&&r>=o.length){l=r-o.length;u=s.splice(0,1)[0];o.push(u);u=o.splice(n,1)[0];s.splice(l,0,u)}else if(n>=o.length&&r<o.length){a=n-o.length;u=o.splice(o.length-1,1)[0];s.splice(0,0,u);u=s.splice(a+1,1)[0];o.splice(r,0,u)}else{a=n-o.length;l=r-o.length;i.move(s,a,l)}return t.resolve(u)},moveMeasure:function e(n,r){var o=this.getMeasures(),s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures,a,l,u;if(n<o.length&&r<o.length)i.move(o,n,r);else if(n<o.length&&r>=o.length){l=r-o.length;u=s.splice(0,1)[0];o.push(u);u=o.splice(n,1)[0];s.splice(l,0,u)}else if(n>=o.length&&r<o.length){a=n-o.length;u=o.splice(o.length-1,1)[0];s.splice(0,0,u);u=s.splice(a+1,1)[0];o.splice(r,0,u)}else{a=n-o.length;l=r-o.length;i.move(s,a,l)}return t.resolve(u)},changeSorting:function e(t,n){i.move(this.hcProperties.qInterColumnSortOrder,t,n)},setSorting:function e(t){t&&t.length===this.hcProperties.qInterColumnSortOrder.length&&(this.hcProperties.qInterColumnSortOrder=t)}});u.canColorBy=function(e,t){var n={primary:true};if(e){var i=s.getLogicFor("hard",t).helpers.colorModeOptions;n.byDimension=i.dimension(e);n.byMeasure=i.measure(e);n.byMultiple=i.multiColor(e);n.byExpression=i.expression(e)}return n};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(89),n(225),n(101)],r=function(e,t,n,i){function r(e){var t=i.getValue(e,"selections.currentDataColIx",void 0);return i.getValue(e,"layout.qHyperCube.qDimensionInfo."+t+".qIsOneAndOnlyOne",false)}var o=e.extend({$scope:null,init:function e(t){this.$scope=t},onPaint:function e(){return t.resolve()},onResize:function e(){return t.resolve()},setInteractionState:function e(){},setFreeResize:function e(){},setDirection:function e(){},setSnapshotData:function e(){},setBackendApi:function e(){},getContextMenu:function e(){},getObjectMenu:function e(){},getSelectionToolbar:function e(){var t=[];r(this.$scope)||t.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});return new n(this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[])},getPreferredSize:function e(){},onInit:function e(){return t.resolve()}});o.$inject=["$scope"];return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(102),n(90),n(99),n(179),n(243),n(355),n(773),n(774),n(244)],r=function(e,t,n,i,r,o,s){var a;a=e.extend({destroy:function e(){this.$timeout.cancel(this.initPromise);this.$timeout.cancel(this.setVirtualSizePromise);this.unpreventNativeScroll&&this.unpreventNativeScroll();this.domApi.destroy()},init:function e(r,o){t.create(this,"Scroll");this.$timeout=r;this.initPromise=null;this.setVirtualSizePromise=null;void 0!==o.virtualScrollEnabled?this.virtualScrollEnabled=o.virtualScrollEnabled:this.virtualScrollEnabled=i.treatAsDesktop();this.loaderStyle={width:0,height:0};this.totalRows=0;this.totalColumns=0;this.alignBottomAbsolute=false;this.axisDelta={xAxis:0,yAxis:0};this.alignToBottomReduce={active:false,activeFromStart:false};this.ignoreScroll=false;this.loadNext=false;this.loadPrevious=false;this.settings=n.extend(true,{alignToBottom:"absolute",minRowHeight:21,maxRowHeight:21,minColumnWidth:30,viewportRowCount:0,viewportColumnCount:0,width:0,height:0,blockSize:100,keepItemsCount:10},o)},initialize:function e(t,n,i,a){if(!(t instanceof r))throw new Error("Must provide an instance of domApi");if(!(n instanceof o))throw new Error("Must provide an instance of dataApi");if(!(i instanceof s[s.length-1]))throw new Error("Must provide an instance of ScrollAreaController");if(!a||"function"!==typeof a.fadeIn||"function"!==typeof a.fadeOut)throw new Error("Must provide valid loader api");if(this.initPromise)return this.initPromise;Object.defineProperty(this,"DELTA_MODE",{value:i.DELTA_MODE});this.domApi=t;this.dataApi=n;this.virtualScrollApi=i;this.loaderApi=a;this.initPromise=this.$timeout(function(){this.onInit();this.onInitVirtualScroll();this.bindNativeScroll()}.bind(this));return this.initPromise},onInit:function e(){this.updateViewport()},onInitVirtualScroll:function e(){this.virtualScrollApi.onScroll(this.onVirtualScroll.bind(this));this.virtualScrollApi.getScrollAmount=this.getVirtualScrollAmount.bind(this)},bindNativeScroll:function e(){this.domApi.bindNativeScroll(this.onNativeScroll.bind(this))},activate:function e(){this.virtualScrollEnabled&&this.virtualScrollApi.on();if(this.unpreventNativeScroll){this.unpreventNativeScroll();this.unpreventNativeScroll=null}},deactivate:function e(){this.unpreventNativeScroll=this.domApi.preventNativeScroll();this.virtualScrollApi.off()},updateViewport:function e(){var t=this.domApi.getBoundingBox();this.settings.width=t.width;this.settings.height=t.height;this.settings.viewportRowCount=Math.ceil(this.settings.height/this.settings.minRowHeight);this.settings.viewportColumnCount=Math.ceil(this.settings.width/this.settings.minColumnWidth)},setTotalRows:function e(t){this.totalRows=t},setTotalColumns:function e(t){this.totalColumns=t},getSpliceArgs:function e(){var t=this.dataApi.getRowCount(),n=this.settings.viewportRowCount,i=this.settings.keepItemsCount,r=t-n-i;return[0,r]},onSetVirtualSize:function e(t){var n,i=this.domApi.getScrollAreaBoundingBox(),r=this.domApi.getScrollContentBoundingBox(),o=this.virtualScrollApi.getVirtualPosition(),s=this.settings.minRowHeight*this.totalRows,a,l,u;if("reduce"===this.settings.alignToBottom){this.alignToBottomReduce.active=false;this.alignToBottomReduce.activeFromStart=false;if(r.height>=i.height&&this.settings.viewportRowCount>=this.totalRows){n=this.domApi.getVisibleRowCount(this.settings.maxRowHeight);if(n<this.settings.viewportRowCount){this.alignToBottomReduce.active=true;this.alignToBottomReduce.activeFromStart=true;this.settings.viewportRowCount=n}}l={width:i.width,height:this.settings.viewportRowCount*this.settings.minRowHeight}}else l={width:i.width,height:i.height};a={width:this.settings.minColumnWidth*this.totalColumns,height:s};u={top:0,left:0,width:i.width,height:i.height};this.virtualScrollApi.setVirtualSize(a,l,u);t&&this.virtualScrollApi.scroll(o.vPosX,o.vPosY,true)},setVirtualSize:function e(t){if(!this.virtualScrollEnabled)return;this.setVirtualSizePromise=this.$timeout(function(){this.updateViewport();this.onSetVirtualSize(t);this.updateAlignToBottom()}.bind(this));return this.setVirtualSizePromise},getVirtualScrollAmount:function e(t,n,i){var r=this.virtualScrollApi.getVirtualPosition(),o=this.virtualScrollApi.getMaxPosition();switch(i){case this.DELTA_MODE.LINE:return{deltaX:0,deltaY:this.settings.minRowHeight*n};case this.DELTA_MODE.PAGE:var s=Math.max(0,this.domApi.getVisibleRowCount()-1);return{deltaX:0,deltaY:s*this.settings.minRowHeight*n};case this.DELTA_MODE.AREA:return{deltaX:0,deltaY:n>0?r.vPosY*n:r.vPosY-o.vPosY};default:return{deltaX:t,deltaY:n}}},getPage:function e(t){t||(t=this.virtualScrollApi.getVirtualPosition());return{left:Math.floor(t.vPosX/this.settings.minColumnWidth),top:Math.floor(t.vPosY/this.settings.minRowHeight),width:this.settings.viewportColumnCount,height:this.settings.viewportRowCount}},adjustPageToBounds:function e(t){if(t.top>0&&t.top+t.height>this.totalRows){t.top=Math.max(0,this.totalRows-t.height);t.height=Math.min(this.totalRows,t.height)}if(t.left>0&&t.left+t.width>this.totalColumns){t.left=Math.max(0,this.totalColumns-t.width);t.width=Math.min(this.totalColumns,t.width)}},scroll:function e(t,n,i){var r=this.virtualScrollApi.getScrollAmount(t,n,i);this.virtualScrollApi.scroll(r.deltaX,r.deltaY,false,false)},onVirtualScroll:function e(t,n){this.Scroll.emit();var i=this.virtualScrollApi.getVirtualPosition(),r=this.virtualScrollApi.getMaxPosition(),o=this.getPage(i);if(this.alignToBottomReduce.active&&n<0){this.graduallyLeaveAlignToBottomReduce(o);r=this.virtualScrollApi.getMaxPosition()}"reduce"===this.settings.alignToBottom&&r.vPosY>0&&i.vPosY===r.vPosY&&(this.alignToBottomReduce.active=true);this.adjustPageToBounds(o);this.axisDelta.xAxis=t;this.axisDelta.yAxis=n;return this.dataApi.onVirtualScroll(o.top,o.height,o.left,o.width,t,n).then(function(){this.updateAlignToBottom()}.bind(this)).catch(function(e){false})},updateAlignToBottom:function e(){"reduce"===this.settings.alignToBottom?this.updateAlignToBottomReduce():this.updateAlignToBottomAbsolute()},updateAlignToBottomAbsolute:function e(){var t=this.virtualScrollApi.getVirtualPosition(),n=this.virtualScrollApi.getMaxPosition();this.virtualScrollApi.isVerticalScrollEnabled()&&t.vPosY===n.vPosY?this.alignBottomAbsolute=true:this.alignBottomAbsolute=false},updateAlignToBottomReduce:function e(){var t=false;if(this.alignToBottomReduce.active){if(this.axisDelta.yAxis>0){var n=this.domApi.getVisibleRowCount(this.settings.maxRowHeight);this.settings.viewportRowCount=Math.max(1,n)}else{var i=Math.ceil(this.domApi.getScrollAreaClientHeight()/this.settings.minRowHeight);this.settings.viewportRowCount>=i&&(this.alignToBottomReduce.active=false);t=true}var r=this.domApi.getScrollAreaBoundingBox();this.virtualScrollApi.setViewport({top:0,left:0,width:r.width,height:r.height});this.virtualScrollApi.setVirtualViewport({width:r.width,height:this.settings.viewportRowCount*this.settings.minRowHeight});t&&this.virtualScrollApi.setVirtualScrollPos(0,-1)}},graduallyLeaveAlignToBottomReduce:function e(t){var n=Math.ceil(this.domApi.getScrollAreaClientHeight()/this.settings.minRowHeight);if(this.alignToBottomReduce.activeFromStart)return;t.height=Math.min(this.totalRows-t.top,n);this.settings.viewportRowCount=t.height},updateLoadingButtons:function e(){var t=this.dataApi.getFirstElementIndex(),n=this.dataApi.getRowCount();t+n>=this.totalRows||0===this.totalRows||t<0?this.loadNext=false:this.loadNext=true;this.loadPrevious=t>0},resetNativeScroll:function e(){this.ignoreScroll=true;this.loadNext=false;this.loadPrevious=false;this.domApi.resetNativeScroll();return function(){this.ignoreScroll=false}.bind(this)},onNativeScroll:function e(){if(this.virtualScrollEnabled){this.domApi.resetNativeScroll();return}this.Scroll.emit();if(this.ignoreScroll)return;var t=this.dataApi.getLastElementIndex()+1,n=this.settings.blockSize-t;this.ignoreScroll=true;this.dataApi.onInitialNativeScroll(t,n).then(function(){this.updateLoadingButtons()}.bind(this))},gotoNextBlock:function e(){var t="function"===typeof this.domApi.getHorizontalScroll?this.domApi.getHorizontalScroll():0;this.loaderApi.fadeIn(this.domApi.getScrollAreaOffsetTop(),t,this.domApi.getBoundingBox()).then(function(){var e=this.domApi.alignToLastRow(),t=this.dataApi.getLastElementIndex()+1,n=this.settings.blockSize-this.settings.keepItemsCount;this.dataApi.onGotoNextBlock(t,n).then(function(){this.updateLoadingButtons();this.$timeout(function(){e();this.$timeout(function(){this.loaderApi.fadeOut()}.bind(this))}.bind(this))}.bind(this))}.bind(this))},gotoPreviousBlock:function e(){var t="function"===typeof this.domApi.getHorizontalScroll?this.domApi.getHorizontalScroll():0;this.loaderApi.fadeIn(this.domApi.getScrollAreaOffsetTop(),t,this.domApi.getBoundingBox()).then(function(){var e=this.domApi.alignToFirstRow(),t=this.settings.blockSize-this.settings.keepItemsCount,n=this.dataApi.getFirstElementIndex()-t;if(n<0){t+=n;n=0}this.dataApi.onGotoPreviousBlock(n,t).then(function(){this.updateLoadingButtons();this.$timeout(function(){e();this.$timeout(function(){this.loaderApi.fadeOut()}.bind(this))}.bind(this))}.bind(this))}.bind(this))}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";(function(i){var r,o;function s(e){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return s(e)}!(r=[n(517)],o=function(e){var t,n,i,r,o,a,l,u,c,f,d,p,h,v,m,g,b,y,x,_,w,q,C,S,E,D;t={};n={js:[",",".","_"," "]};i={default:[",",".","-","_"," "]};r={width:["%"],height:["%"]};o={default:["-"," ","%"],color:["#"," ","(",")"],image:["(",")",":","/","?","&","-",".",'"',"="," "]};a={background:["(",")",":","%","/","?","&","-"," ",".",'"',"=","#"],"background-image":o.image,"background-color":o.color,"border-color":o.color,"border-image":o.image,color:o.color,icon:o.image,"list-style-image":o.image,"outline-color":o.color};l={attr_name:["on[a-z]{1,}","style","href","src"],attr_val:["javascript:"],css_key:["behavior","-moz-behavior","-ms-behavior"],css_val:["expression"]};u={blacklist:true,RFC3986:true,LOG:false};t.encoder={encodeForHTML:function e(t){if("undefined"===typeof t||null===t)return"";var n="",i=document.createTextNode(t);D.appendChild(i);n=D.innerHTML;D.removeChild(i);return n},encodeForAttr:function e(n,o,s){var a,u,c,f,d,p,h,v,m;n=t.encoder.canonicalize(n).toLowerCase();o=t.encoder.canonicalize(o);if(S(n,l.attr_name)>=0)throw new Error("Unsafe attribute name used: "+n);for(c=0;c<l.attr_val;c++)if(o.toLowerCase().match(l.attr_val[c]))throw new Error("Unsafe attribute value used: "+o);a=r[n];a||(a=i.default);u="";if(!s){for(f=0;f<n.length;f++){d=n.charAt(f);if(!d.match(/[a-zA-Z\-0-9]/))throw new Error("Invalid attribute name specified");u+=d}u+='="'}for(p=0;p<o.length;p++){h=o.charAt(p);v=o.charCodeAt(p);if(!h.match(/[a-zA-Z0-9]/)&&S(h,a)<0){m=v.toString(16);u+="&#x"+m+";"}else u+=h}s||(u+='"');return u},encodeForAttr2:function e(n){return t.encoder.encodeForAttr("nonsens",n,true)},encodeForCSS:function e(n,i,r){var s,u,c,f,d,p,h,v,m,g;n=t.encoder.canonicalize(n).toLowerCase();i=t.encoder.canonicalize(i);if(S(n,l.css_key)>=0)throw new Error("Unsafe property name used: "+n);for(s=0;s<l.css_val.length;s++)if(i.toLowerCase().indexOf(l.css_val[s])>=0)throw new Error("Unsafe property value used: "+i);u=a[n];u||(u=o.default);c="";if(!r){for(f=0;f<n.length;f++){d=n.charAt(f);if(!d.match(/[a-zA-Z-]/))throw new Error("Invalid Property Name specified");c+=d}c+=": "}for(p=0;p<i.length;p++){h=i.charAt(p);v=i.charCodeAt(p);if(!h.match(/[a-zA-Z0-9]/)&&S(h,u)<0){m=v.toString(16);g="000000".substr(m.length);c+="\\"+g+m}else c+=h}return c},encodeForURL:function e(n,i){var r="";if(i){i.match(/^[A-Za-z\-0-9]{1,}$/)?r+=t.encoder.canonicalize(i).toLowerCase():h(this,"Illegal Attribute Name Specified");r+='="'}u.RFC3986?r+=encodeURIComponent(n).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A"):r+=encodeURIComponent(n);r+=i?'"':"";return r},encodeForHref:function n(i){t.encoder.canonicalize(i);0!==i.search("[a-zA-Z0-9]+:")&&(i="http://"+i);var r=new e(i);var o=e.encodeAuthorityAndPath(decodeURI(r.authorityAndPath));var s=r.searchParams;var a=e.encodeSearchParams(s);i=o+a+r.hash;if(-1!==i.indexOf("javascript:"))throw new Error("Attack Detected - Javascript in input");return i},encodeForJS:function e(t,i){var r,o,s,a,l,u;i||(i=n.js);u="";for(r=0;r<t.length;r++){s=t.charAt(r);a=t.charCodeAt(r);if(S(s,i)>=0||null==f[a]){u+=s;continue}o=a.toString(16);if(a<256){l="00".substr(o.length);u+="\\x"+l+o.toUpperCase()}else{l="0000".substr(o.length);u+="\\u"+l+o.toUpperCase()}}return u},canonicalize:function e(t,n){var i,r,o,s,a,l,u=false;if(null===t)return null;i=t;r=t;o=0;s=[new b,new y,new x];while(!u){r=i;for(a=0;a<s.length;a++){l=s[a].decode(i);if(l!==i){o++;i=l}}if(r===i){u=true;continue}}o>1&&v(this,"Attack Detected - Multiple/Double Encodings used in input");if(n&&o>1)throw new Error("Attack Detected - Multiple/Double Encodings used in input");return i}};f=[];for(d=0;d<255;d++)f[d]=d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122?null:d.toString(16);c={html:function e(n){return t.encoder.encodeForHTML(n.unsafe)},css:function e(n){var i,r=[],o=[],s={},a="";n.map?r=n.map:r[n.name]=n.unsafe;for(i in r)if("function"!==typeof r[i]&&r.hasOwnProperty(i)){o[i]=t.encoder.encodeForCSS(i,r[i],true);a+=t.encoder.encodeForCSS(i,r[i],true);s[i]=o[i]}return n.map?s:a},attr:function e(n){var i,r,o=[],s=[],a={},l="";n.map?o=n.map:o[n.name]=n.unsafe;for(i in o)if("function"!==typeof o[i]&&o.hasOwnProperty(i)){s[i]=t.encoder.encodeForAttr(i,o[i],true);l+=t.encoder.encodeForAttr(i,o[i],true);a[i]=s[i]}r=n.map?a:l;return r}};t.encoder.encode=function(){var e=arguments.length,t={context:"html",unsafe:null,name:null,map:null,setter:null,strict:true};if(1===e&&"object"===s(arguments[0]))E(t,arguments[0]);else{t.context=arguments[0];if(2===arguments.length)"html"===t.context?t.unsafe=arguments[1]:"attr"!==t.context&&"css"!==t.context||(t.map=arguments[1]);else{t.name=arguments[2];t.unsafe=arguments[1]}}if("html"===t.context)return c.html(t);if("css"===t.context){null!=t.map&&"object"!==s(t.map)&&h(this,"Invalid parameter type");return c.css(t)}if("attr"===t.context){null!=t.map&&"object"!==s(t.map)&&h(this,"Invalid parameter type");return c.attr(t)}h(this,"Invalid parameter type")};h=function e(t,n){v(t,n);throw new Error(n)};v=function e(t,n){u.LOG&&window.console&&window.console.log&&window.console.log(t,n)};p=function(){var e=false,t;t=function e(){};t.extend=function(n){var i,r;e=true;i=new this;e=false;for(r in n)i[r]=n[r];function o(){!e&&this.init&&this.init.apply(this,arguments)}o.prototype=i;o.constructor=o;o.extend=t.extend;return o};return t}();m=p.extend({_input:null,_pushback:null,_temp:null,_index:0,_mark:0,_hasNext:function e(){if(null==this._input)return false;if(0===this._input.length)return false;return this._index<this._input.length},init:function e(t){this._input=t},pushback:function e(t){this._pushback=t},index:function e(){return this._index},hasNext:function e(){if(null!=this._pushback)return true;return this._hasNext()},next:function e(){if(null!=this._pushback){var t=this._pushback;this._pushback=null;return t}return this._hasNext()?this._input.charAt(this._index++):null},nextHex:function e(){var t=this.next();if(null==t)return null;if(t.match(/[0-9A-Fa-f]/))return t;return null},peek:function e(t){if(t){if(this._pushback&&this._pushback===t)return true;return!!this._hasNext()&&this._input.charAt(this._index)===t}if(this._pushback)return this._pushback;return this._hasNext()?this._input.charAt(this._index):null},mark:function e(){this._temp=this._pushback;this._mark=this._index},reset:function e(){this._pushback=this._temp;this._index=this._mark},remainder:function e(){var t=this._input.substr(this._index);null!=this._pushback&&(t=this._pushback+t);return t}});g=p.extend({decode:function e(t){var n="",i=new m(t),r;while(i.hasNext()){r=this.decodeCharacter(i);n+=null!=r?r:i.next()}return n},decodeCharacter:function e(t){return t.next()}});b=g.extend({decodeCharacter:function e(t){var n,i,r;t.mark();n=t.next();if(null==n||"&"!==n){t.reset();return null}i=t.next();if(null==i){t.reset();return null}if("#"===i){r=this._getNumericEntity(t);if(null!=r)return r}else if(i.match(/[A-Za-z]/)){t.pushback(i);r=this._getNamedEntity(t);if(null!=r)return r}t.reset();return null},_getNamedEntity:function e(t){var n="",i,r,o,s;r=Math.min(t.remainder().length,L.getMaxKeyLength());for(s=0;s<r;s++)n+=t.next().toLowerCase();i=L.getLongestMatch(n);if(null==i)return null;t.reset();t.next();r=i.getKey().length;for(o=0;o<r;o++)t.next();t.peek(";")&&t.next();return i.getValue()},_getNumericEntity:function e(t){var n=t.peek();if(null==n)return null;if("x"===n||"X"===n){t.next();return this._parseHex(t)}return this._parseNumber(t)},_parseHex:function e(t){var n="",i,r;while(t.hasNext()){i=t.peek();if(Number.isNaN(+parseInt(i,16))){if(";"===i){t.next();break}break}n+=i;t.next()}r=parseInt(n,16);if(!Number.isNaN(+r)&&w(r))return String.fromCharCode(r);return null},_parseNumber:function e(t){var n="",i,r;while(t.hasNext()){i=t.peek();if(Number.isNaN(+parseInt(i,10))){if(";"===i){t.next();break}break}n+=i;t.next()}r=parseInt(n,10);if(!Number.isNaN(+r)&&w(r))return String.fromCharCode(r);return null}});y=g.extend({decodeCharacter:function e(t){t.mark();var n=t.next(),i,r,o,s;if(null==n){t.reset();return null}if("%"!==n){t.reset();return null}i="";for(r=0;r<2;r++){o=t.nextHex();null!=o&&(i+=o)}if(2===i.length){s=parseInt(i,16);if(w(s))return String.fromCharCode(s)}t.reset();return null}});x=g.extend({decodeCharacter:function e(t){t.mark();var n=t.next(),i,r,o,s,a;if(null==n||"\\"!==n){t.reset();return null}i=t.next();if(null==i){t.reset();return null}switch(i){case"\r":t.peek("\n")&&t.next();case"\n":case"\f":case"\0":return this.decodeCharacter(t)}if("NaN"===parseInt(i,16))return i;r=i;for(o=0;o<5;o++){s=t.next();if(null==s||q(s))break;if("NaN"===parseInt(s,16)){t.pushback(s);break}r+=s}a=parseInt(r,16);if(w(a))return String.fromCharCode(a);return"�"}});_=p.extend({root:null,maxKeyLen:0,size:0,init:function e(){this.clear()},getLongestMatch:function e(t){return null==this.root&&null==t?null:this.root.getLongestMatch(t,0)},getMaxKeyLength:function e(){return this.maxKeyLen},clear:function e(){this.root=null;this.maxKeyLen=0;this.size=0},put:function e(t,n){var i,r;null==this.root&&(this.root=new _.Node);if(null!=(i=this.root.put(t,0,n)))return i;r=t.length;r>this.maxKeyLen&&(this.maxKeyLen=t.length);this.size++;return null}});_.Entry=p.extend({_key:null,_value:null,init:function e(t,n){this._key=t;this._value=n},getKey:function e(){return this._key},getValue:function e(){return this._value},equals:function e(t){if(!(t instanceof _.Entry))return false;return this._key===t._key&&this._value===t._value}});_.Node=p.extend({_value:null,_nextMap:null,setValue:function e(t){this._value=t},getNextNode:function e(t){if(!this._nextMap)return null;return this._nextMap[t]},put:function e(t,n,i){var r,o,s;if(t.length===n){s=this._value;this.setValue(i);return s}o=t.charAt(n);if(null==this._nextMap){this._nextMap=_.Node.newNodeMap();r=new _.Node;this._nextMap[o]=r}else if(null==(r=this._nextMap[o])){r=new _.Node;this._nextMap[o]=r}return r.put(t,n+1,i)},get:function e(t,n){var i;if(t.length<=n)return this._value;if(null==(i=this.getNextNode(t.charAt(n))))return null;return i.get(t,n+1)},getLongestMatch:function e(t,n){var i,r;if(t.length<=n)return _.Entry.newInstanceIfNeeded(t,this._value);if(null==(i=this.getNextNode(t.charAt(n))))return _.Entry.newInstanceIfNeeded(t,n,this._value);if(null!=(r=i.getLongestMatch(t,n+1)))return r;return _.Entry.newInstanceIfNeeded(t,n,this._value)}});_.Entry.newInstanceIfNeeded=function(){var e=arguments[0],t,n;if("string"===typeof arguments[1]){t=arguments[1];n=e.length}else{n=arguments[1];t=arguments[2]}if(null==t||null==e)return null;e.length>n&&(e=e.substr(0,n));return new _.Entry(e,t)};_.Node.newNodeMap=function(){return{}};w=function e(t){return t>=0&&t<=1114111};q=function e(t){return t.match(/[\s]/)};var O=[],A=[],L=new _;(function(){O["&quot"]="34";O["&amp"]="38";O["&lt"]="60";O["&gt"]="62";O["&nbsp"]="160";O["&iexcl"]="161";O["&cent"]="162";O["&pound"]="163";O["&curren"]="164";O["&yen"]="165";O["&brvbar"]="166";O["&sect"]="167";O["&uml"]="168";O["&copy"]="169";O["&ordf"]="170";O["&laquo"]="171";O["&not"]="172";O["&shy"]="173";O["&reg"]="174";O["&macr"]="175";O["&deg"]="176";O["&plusmn"]="177";O["&sup2"]="178";O["&sup3"]="179";O["&acute"]="180";O["&micro"]="181";O["&para"]="182";O["&middot"]="183";O["&cedil"]="184";O["&sup1"]="185";O["&ordm"]="186";O["&raquo"]="187";O["&frac14"]="188";O["&frac12"]="189";O["&frac34"]="190";O["&iquest"]="191";O["&Agrave"]="192";O["&Aacute"]="193";O["&Acirc"]="194";O["&Atilde"]="195";O["&Auml"]="196";O["&Aring"]="197";O["&AElig"]="198";O["&Ccedil"]="199";O["&Egrave"]="200";O["&Eacute"]="201";O["&Ecirc"]="202";O["&Euml"]="203";O["&Igrave"]="204";O["&Iacute"]="205";O["&Icirc"]="206";O["&Iuml"]="207";O["&ETH"]="208";O["&Ntilde"]="209";O["&Ograve"]="210";O["&Oacute"]="211";O["&Ocirc"]="212";O["&Otilde"]="213";O["&Ouml"]="214";O["&times"]="215";O["&Oslash"]="216";O["&Ugrave"]="217";O["&Uacute"]="218";O["&Ucirc"]="219";O["&Uuml"]="220";O["&Yacute"]="221";O["&THORN"]="222";O["&szlig"]="223";O["&agrave"]="224";O["&aacute"]="225";O["&acirc"]="226";O["&atilde"]="227";O["&auml"]="228";O["&aring"]="229";O["&aelig"]="230";O["&ccedil"]="231";O["&egrave"]="232";O["&eacute"]="233";O["&ecirc"]="234";O["&euml"]="235";O["&igrave"]="236";O["&iacute"]="237";O["&icirc"]="238";O["&iuml"]="239";O["&eth"]="240";O["&ntilde"]="241";O["&ograve"]="242";O["&oacute"]="243";O["&ocirc"]="244";O["&otilde"]="245";O["&ouml"]="246";O["&divide"]="247";O["&oslash"]="248";O["&ugrave"]="249";O["&uacute"]="250";O["&ucirc"]="251";O["&uuml"]="252";O["&yacute"]="253";O["&thorn"]="254";O["&yuml"]="255";O["&OElig"]="338";O["&oelig"]="339";O["&Scaron"]="352";O["&scaron"]="353";O["&Yuml"]="376";O["&fnof"]="402";O["&circ"]="710";O["&tilde"]="732";O["&Alpha"]="913";O["&Beta"]="914";O["&Gamma"]="915";O["&Delta"]="916";O["&Epsilon"]="917";O["&Zeta"]="918";O["&Eta"]="919";O["&Theta"]="920";O["&Iota"]="921";O["&Kappa"]="922";O["&Lambda"]="923";O["&Mu"]="924";O["&Nu"]="925";O["&Xi"]="926";O["&Omicron"]="927";O["&Pi"]="928";O["&Rho"]="929";O["&Sigma"]="931";O["&Tau"]="932";O["&Upsilon"]="933";O["&Phi"]="934";O["&Chi"]="935";O["&Psi"]="936";O["&Omega"]="937";O["&alpha"]="945";O["&beta"]="946";O["&gamma"]="947";O["&delta"]="948";O["&epsilon"]="949";O["&zeta"]="950";O["&eta"]="951";O["&theta"]="952";O["&iota"]="953";O["&kappa"]="954";O["&lambda"]="955";O["&mu"]="956";O["&nu"]="957";O["&xi"]="958";O["&omicron"]="959";O["&pi"]="960";O["&rho"]="961";O["&sigmaf"]="962";O["&sigma"]="963";O["&tau"]="964";O["&upsilon"]="965";O["&phi"]="966";O["&chi"]="967";O["&psi"]="968";O["&omega"]="969";O["&thetasym"]="977";O["&upsih"]="978";O["&piv"]="982";O["&ensp"]="8194";O["&emsp"]="8195";O["&thinsp"]="8201";O["&zwnj"]="8204";O["&zwj"]="8205";O["&lrm"]="8206";O["&rlm"]="8207";O["&ndash"]="8211";O["&mdash"]="8212";O["&lsquo"]="8216";O["&rsquo"]="8217";O["&sbquo"]="8218";O["&ldquo"]="8220";O["&rdquo"]="8221";O["&bdquo"]="8222";O["&dagger"]="8224";O["&Dagger"]="8225";O["&bull"]="8226";O["&hellip"]="8230";O["&permil"]="8240";O["&prime"]="8242";O["&Prime"]="8243";O["&lsaquo"]="8249";O["&rsaquo"]="8250";O["&oline"]="8254";O["&frasl"]="8260";O["&euro"]="8364";O["&image"]="8365";O["&weierp"]="8472";O["&real"]="8476";O["&trade"]="8482";O["&alefsym"]="8501";O["&larr"]="8592";O["&uarr"]="8593";O["&rarr"]="8594";O["&darr"]="8595";O["&harr"]="8596";O["&crarr"]="8629";O["&lArr"]="8656";O["&uArr"]="8657";O["&rArr"]="8658";O["&dArr"]="8659";O["&hArr"]="8660";O["&forall"]="8704";O["&part"]="8706";O["&exist"]="8707";O["&empty"]="8709";O["&nabla"]="8711";O["&isin"]="8712";O["&notin"]="8713";O["&ni"]="8715";O["&prod"]="8719";O["&sum"]="8721";O["&minus"]="8722";O["&lowast"]="8727";O["&radic"]="8730";O["&prop"]="8733";O["&infin"]="8734";O["&ang"]="8736";O["&and"]="8743";O["&or"]="8744";O["&cap"]="8745";O["&cup"]="8746";O["&int"]="8747";O["&there4"]="8756";O["&sim"]="8764";O["&cong"]="8773";O["&asymp"]="8776";O["&ne"]="8800";O["&equiv"]="8801";O["&le"]="8804";O["&ge"]="8805";O["&sub"]="8834";O["&sup"]="8835";O["&nsub"]="8836";O["&sube"]="8838";O["&supe"]="8839";O["&oplus"]="8853";O["&otimes"]="8855";O["&perp"]="8869";O["&sdot"]="8901";O["&lceil"]="8968";O["&rceil"]="8969";O["&lfloor"]="8970";O["&rfloor"]="8971";O["&lang"]="9001";O["&rang"]="9002";O["&loz"]="9674";O["&spades"]="9824";O["&clubs"]="9827";O["&hearts"]="9829";O["&diams"]="9830";var e,t,n;for(e in O)"function"!==typeof O[e]&&O.hasOwnProperty(e)&&(A[O[e]]=e);for(t in A)if("function"!==typeof A[t]&&A.hasOwnProperty(t)){n=A[t].toLowerCase().substr(1);L.put(n,String.fromCharCode(t))}})();C=Array.prototype.indexOf;S=function e(t,n,i){var r;if(n){if(C)return C.call(n,t,i);r=n.length;i=i?i<0?Math.max(0,r+i):i:0;for(;i<r;i++)if(i in n&&n[i]===t)return i}return-1};E=function e(){var t,n,i,r=arguments[0]||{},o=1,s=arguments.length;for(;o<s;o++)if(null!=(t=arguments[o]))for(n in t)if(t.hasOwnProperty(n)){i=t[n];if(r===i)continue;void 0!==i&&(r[n]=i)}return r};"undefined"!==typeof document&&(D=document.createElement("div"));return t.encoder}.apply(t,r),void 0!==o&&(e.exports=o))}).call(this,n(11))},function(e,t,n){"use strict";var i,r;!(i=[n(119),n(718)],r=function(e,t){var n=30;e.directive("qvTagcloud",["$parse",function(e){return{template:t,replace:true,restrict:"E",scope:{tags:"=",onChange:"&"},link:function t(i,r,o){i.tagInput="";var s=r.find(".qv-tagText");s.bind("blur",function(){i.$apply(function(){i.addTags()})});s.bind("keydown",function(e){if(13===e.which){e.stopPropagation();i.$apply(function(){i.addTags()})}});function a(e){var t=i.tags;e=e.trim();if(!e||-1!==t.indexOf(e)||t.length>=n)return;t.push(e)}i.removeTagAt=function(e){i.tags.splice(e,1);i.onChange()};i.addTags=function(){var e=i.tagInput;if(!e)return;i.tagInput="";var t=e.trim().split(",");t.forEach(a);i.tags.sort(function(e,t){return e.localeCompare(t)});i.onChange()};i.addTagsAndFocus=function(e){e.preventDefault();i.addTags();s.focus()};var l=e(o.update);l.assign&&l.assign(i.$parent,i.addTags)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(193)],r=function(e,t){var n={list:[]},i=null;n.getList=function(){var n=this;function r(e){t.getService("$contentApi").getExtensions().then(function(t){n.list=[];for(var i in t)t.hasOwnProperty(i)&&n.list.push({id:i,data:t[i]});e.resolve(n.list)},function(){n.list=[];e.resolve(n.list)});return e.promise}if(null===i){i=new e;return r(i)}return i.promise};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(93),n(716),n(191),n(107),n(90),n(150)],r=function(e,t,n,i,r,s,a){e.directive("qvDescriptionTextarea",function(){return{restrict:"E",scope:{description:"=",descriptionExpression:"=",disableExpression:"=?",isValid:"=?"},template:n,link:function e(n){t.getApp().then(function(e){var t;n.onBlur=u;n.openExpressionDialog=c;n.enableDescriptionExpression=!n.disableExpression;void 0===n.isValid&&(n.isValid=true);n.$watch("editorValue",function(e){if(void 0===e)return;p(n.editorValue,true);h()});t=new i.ExpressionValidator(e);t.Update.bind(m);n.$watchGroup(["description","descriptionExpression"],function(){var e=d();if(!v(e,n.editorValue)){n.editorValue=e;l()}});function l(){var e=f(n.editorValue);e?t.validate(n.editorValue):n.isValid=!n.editorValue||n.editorValue.length<=r.description}function u(){p(n.editorValue,true);l()}function c(){var e={expr:n.editorValue,title:n.editorValue?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};a.show(e).then(function(e){e.length&&"="!==e[0]&&(e="="+e);p(e,false);l()})}function f(e){return n.enableDescriptionExpression&&0===(e||"").indexOf("=")}function d(){if("object"===o(n.descriptionExpression)&&n.enableDescriptionExpression){var e=s.getValue(n.descriptionExpression,"qStringExpression.qExpr","");"="!==e[0]&&(e="="+e);return e}return n.description}function p(e,t){var i=f(e);if(i){n.description="";n.descriptionExpression={qStringExpression:{qExpr:e.substr(1)}}}else{n.description=(e||"").trim();n.descriptionExpression=void 0}t||(n.editorValue=e)}function h(){n.maxLength=f(n.editorValue)?r.expression:r.description}function v(e,t){e=(e||"").trim();t=(t||"").trim();return e===t}function m(e){n.isValid=e.valid}n.$on("$destroy",function(){t.Update.unbind(m)})})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(91),n(14)],r=function(e,t){var n=t.getProductInfoSync();var i=n.externalUrls;e.ready.then(function(){i.serverHelpBaseUrl=i.serverHelpBaseUrl.replace("{language}",e.language);i.personalHelpBaseUrl=i.personalHelpBaseUrl.replace("{language}",e.language)});Object.defineProperty(i,"gettingStarted",{get:function t(){return i.qlikWebPageUrl+"/"+e.language+"-sense-gettingstarted"}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=u(n(49));var r=u(n(93));var o=u(n(95));var s=u(n(89));var a=u(n(326));var l=u(n(91));function u(e){return e&&e.__esModule?e:{default:e}}var c;var f;var d;var p;var h=false;var v=true;var m="";var g=false;var b="2013-08-08 13:15:19";var y="OBSERVER_KEY_APP_IS_NOW_DIRTY";var x="OBSERVER_KEY_APP_IS_NOW_CLEAN";function _(){if(f&&!d)return true;var e=f>d;return e}function w(){return d>p}function q(e){var t=new Date;t.setTime(24*(e-25569)*3600*1e3);return Math.floor(t.getTime()/1e3)}function C(e){p=q(e.qUtcLastReloadTime);f=d}function S(e){r.default.getApp().then(function(t){t.getProperties().then(function(t){b=t.qLastReloadTimeAsString||b;C(t);e&&e()})})}function E(){setTimeout(function(){var e=w();var t=_()?y:x;o.default.publish(t,e)})}function D(){c=f;f=new Date;E()}function O(e){var t=new s.default;if(e&&"function"!==typeof e)throw new Error("The callback function specified is not a function.");h=true;r.default.getApp().then(function(n){n.doSave().then(function(){h=false;v=true;d=new Date;S(E);e&&e();t.resolve()},function(e){h=false;v=false;t.reject(e)})});return t.promise}function A(){r.default.getApp().then(function(e){e.getLayout().then(function(e){m="";e.qTitle?m=e.qTitle:e.qFileName&&(m=e.qFileName.replace(/\.(qvw|qvf)$/i,""));e.qModified&&D()})})}function L(e){h=e}function I(){return h}function T(){return v}function k(e){o.default.subscribe(y,e)}function P(e){o.default.unsubscribe(y,e)}function M(e){o.default.subscribe(x,e)}function R(e){o.default.unsubscribe(x,e)}function N(){if(!f)throw new Error("Cannot do rollback since the app has never been flagged as dirty.");f=c;E()}function F(){S(E)}var j={saveApp:O,haveWeDoneSaveButNoReload:w,notifyThatNewChangeIsDoneAndSaveIsRequired:D,updateWhenLastScriptWasExecuted:F,isAppDirty:_,isSaveOngoing:I,setSaveOngoing:L,getLastSaveSuccess:T,onAppIsNowDirty:k,onAppIsNowDirtyRemove:P,onAppIsNowClean:M,onAppIsNowCleanRemove:R,getLastSavedAsString:function e(){if(d){var t=new a.default(null);var n=t.format(d,"HH:mm:ss");return l.default.get("scripteditor.autosave.lastsaved",n)}return""},getLastReloadAsString:function e(){return b||""},getTitle:function e(){return m},isAutoSaveOn:function e(t){if(g&&t&&i.default.getFlag("DISABLE_DLE_AUTOSAVE"))return false;return g},doDirtyRollback:N,init:function e(){f=new Date;r.default.getApp().then(function(e){e.global.getConfiguration().then(function(e){var t=e.qFeatures;g=t.qAutoSave});S();A();e.Invalidated.bind(A)})},reset:function e(){S(E)}};t.default=j;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.create=function(e,t){return n(t).then(function(t){return t.createStory(e).then(function(e){return e.createSlide().then(function(){return e})})})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyObject(e)})};i.get=function(e,t){return n(t).then(function(t){return t.getObject(e)})};i.getList=function(e){return n(e).then(function(e){return e.getStoryListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(101)],r=function(e){var t={getDimensions:function t(n){return e.getValue(n,"qHyperCubeDef.qDimensions",[])},getNumDimensions:function t(n){return e.getValue(n,"qHyperCubeDef.qDimensions.length",0)},getMeasures:function t(n){return e.getValue(n,"qHyperCubeDef.qMeasures",[])},getNumMeasures:function t(n){return e.getValue(n,"qHyperCubeDef.qMeasures.length",0)},getDimensionLayouts:function t(n,i){var r=e.getValue(n,i?i+".qHyperCube":"qHyperCube",null);if(r)return r.qDimensionInfo;return[]},getDimensionLayout:function e(t,n,i){return this.getDimensionLayouts(n,i).filter(function(e){return t===e.cId})[0]},getMeasureLayouts:function t(n,i){var r=e.getValue(n,i?i+".qHyperCube":"qHyperCube",null);if(r)return r.qMeasureInfo;return[]},getMeasureLayout:function e(t,n,i){return this.getMeasureLayouts(n,i).filter(function(e){return t===e.cId})[0]}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(676),n(742),n(745),n(133),n(219),n(147),n(90),n(100)],r=function(e,t,n,i,r,o,s,a,l){function u(e){return l.currentPalette.indexOf(e)}function c(e,t){delete e.baseColor;e.coloring||(e.coloring={});t.baseColor&&t.baseColor.color&&"none"!==t.baseColor.color?a.extend(true,e.coloring,{baseColor:{color:t.baseColor.color,index:u(t.baseColor.color)}}):delete e.coloring.baseColor;t.gradient&&t.gradient.colors&&0!==t.gradient.colors.length?e.coloring.gradient={colors:t.gradient.colors.map(function(e){return{color:e,index:u(e)}}),breakTypes:t.gradient.breakType,limits:t.gradient.limits,limitType:t.gradient.limitType}:delete e.coloring.gradient}function f(e){var t={qInfo:{qType:"measure"},qMetaDef:{title:e.name,description:e.description,tags:e.tags},qMeasure:{qLabel:e.name,qDef:e.expr,qLabelExpression:e.labelExpression,descriptionExpression:e.descriptionExpression}};c(t.qMeasure,e);return s.create(t)}function d(e,t){var n={name:t.name,rowEstExpr:t.rowEstExpr,templateApp:t.templateApp,properties:{rowEstRange:[{highBound:t.rowEstCount}],genAppLimit:[{context:"User_*",limit:t.genAppLimit}],appRetentionTime:[{context:"User_*",retentionTime:t.retentionLimit}],targetSheet:[{context:"User_*",sheetId:t.defaultViewId}]}};t.publishToStreamId&&(n.properties.publishTo=[{context:"User_*",streamId:t.publishToStreamId}]);var i=new o(n);return i.create(e)}function p(e,t,n,i){n.data.name=i.name;n.data.properties.rowEstRange[0].highBound=i.rowEstCount;n.data.properties.genAppLimit[0].limit=i.genAppLimit;n.data.rowEstExpr=i.rowEstExpr;n.data.templateApp=i.templateApp;n.data.properties.appRetentionTime[0].retentionTime=i.retentionLimit;n.data.properties.targetSheet[0].sheetId=i.defaultViewId;i.publishToStreamId?n.data.properties.publishTo.length?n.data.properties.publishTo[0].streamId=i.publishToStreamId:n.data.properties.publishTo=[{context:"User_*",streamId:i.publishToStreamId}]:n.data.properties.publishTo=[];return r.updateODAGLink(e,t,n.data)}function h(e,t,n){e.qMetaDef.title=n.name;e.qMetaDef.description=n.description;e.qMetaDef.tags=n.tags;e.qMeasure.qLabel=n.name;e.qMeasure.qDef=n.expr;e.qMeasure.qLabelExpression=n.labelExpression;e.qMeasure.descriptionExpression=n.descriptionExpression;c(e.qMeasure,n);return t.setProperties(e)}function v(t){function n(n){return d(t,n).then(function(){e.$rootScope.$emit("clearUndo")})}var r=i.show({title:"ODAGLink.Dialog.Add.Title",confirm:"Common.Create",name:"",inEditMode:false,description:"",genAppLimit:5,retentionLimit:"",defaultViewId:"",publishToStreamId:"",confirmCallback:n,app:t});r.resultPromise.then(function(){r.destroy()})}function m(t,n,r){o.get(n,t).then(function(o){var s=o.properties;function a(i){return p(t,n,s,i).then(function(t){r&&r(t);e.$rootScope.$emit("clearUndo")})}var l={title:"ODAGLink.Dialog.Edit.Title",confirm:"Common.Save",inEditMode:true,name:s.data.name,templateApp:s.data.templateApp,rowEstExpr:s.data.rowEstExpr,rowEstCount:s.data.properties.rowEstRange[0].highBound,genAppLimit:s.data.properties.genAppLimit[0].limit,retentionLimit:s.data.properties.appRetentionTime.length?s.data.properties.appRetentionTime[0].retentionTime:"",defaultViewId:s.data.properties.targetSheet.length?s.data.properties.targetSheet[0].sheetId:"",publishToStreamId:s.data.properties.publishTo.length?s.data.properties.publishTo[0].streamId:"",confirmCallback:a,app:t};var u=i.show(l);u.resultPromise.then(function(){u.destroy()})})}function g(n,i,r){var o,s=n||"",l=a.escapeField(s);var u=function t(n){f(n).then(function(t){r&&r(t);e.$rootScope.$emit("clearUndo")})};var c={title:"Measure.Dialog.Add.Title",confirm:"Common.Create",name:s,description:"",tags:[],expr:n?"("+l+")":"",callback:u};o=t.show(c);o.closed.then(function(){o=null})}function b(n,i){s.get(n).then(function(n){n.getProperties().then(function(r){var o=function t(o){h(r,n,o).then(function(t){i&&i(t);e.$rootScope.$emit("clearUndo")})};var s={title:"Measure.Dialog.Edit.Title",confirm:"Common.Save",name:r.qMetaDef.title,description:r.qMetaDef.description,descriptionExpression:r.qMeasure.descriptionExpression,tags:r.qMetaDef.tags,expr:r.qMeasure.qDef,labelExpression:r.qMeasure.qLabelExpression,baseColor:r.qMeasure.coloring?r.qMeasure.coloring.baseColor:r.qMeasure.baseColor,gradient:r.qMeasure.coloring?r.qMeasure.coloring.gradient:r.qMeasure.gradient,callback:o};var a=t.show(s);a.closed.then(function(){a=null})})})}function y(e){n.show({title:"Visualization.Dialog.Add.Title",confirm:"Visualization.Dialog.Saveclose",visualization:{name:e.qMetaDef.title,description:e.qMetaDef.description,tags:e.qMetaDef.tags},onSaveCallback:e.onSave})}function x(e){e.onSave({expr:e.expr,path:e.elem.data("path"),pathAttribute:"definition"})}return{addMeasure:g,editMeasure:b,addMetadata:y,addODAGLink:v,editODAGLink:m,breakLink:x}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(688),n(689)],r=function(e,t){e.directive("objectAddTypeahead",[function(){return{template:t,scope:{},transclude:true,replace:true,restrict:"E",controller:["$scope",function(e){var t=this;e.items=[];function n(){var t=e.menu;if(e.activeItem){var n=e.activeItem;var i=n.getPosition();i.top<0?t.setScrollTop(n.getOffsetTop()):i.top+n.getHeight()>t.getHeight()&&n.scrollIntoView(false)}else t.setScrollTop(0)}this.activate=function(t){e.activeItem=t};this.nextItem=function(i){var r=e.items.indexOf(e.activeItem);"undefined"!==typeof i&&(r=(r+i)%e.items.length);r===e.items.length-1?t.activate(null):-1===r?t.activate(e.items[0]):t.activate(e.items[r+1]);n()};this.prevItem=function(i){var r=e.items.indexOf(e.activeItem);"undefined"!==typeof i&&(r=(r-i+e.items.length)%e.items.length);0===r?t.activate(null):-1===r?t.activate(e.items[e.items.length-1]):t.activate(e.items[r-1]);n()};this.getActiveItem=function(){return e.activeItem};this.selectActiveItem=function(){e.activeItem&&e.activeItem.select()};this.select=function(t){e.select({item:t});e.activeItem=null};this.setMenu=function(t){e.menu=t};this.addItem=function(t){e.items.push(t)};this.removeItem=function(t){var n=e.items.indexOf(t);n>=0&&e.items.splice(n,1)}}]}}]);e.directive("objectAddTypeaheadInput",[function(){return{require:["^objectAddTypeahead","ngModel"],link:function e(t,n,i,r){var o=r[0],s=r[1];n.on("keydown",function(e){e.stopPropagation();if(13===e.which||9===e.which){e.preventDefault();o.getActiveItem()?t.$apply(function(){o.selectActiveItem()}):t.$apply(function(){t.$eval(i.onEnter,{$event:e})})}else if(33===e.which){e.preventDefault();t.$apply(function(){o.prevItem(10)})}else if(34===e.which){e.preventDefault();t.$apply(function(){o.nextItem(10)})}else if(40===e.which){e.preventDefault();t.$apply(function(){o.nextItem()})}else if(38===e.which){e.preventDefault();t.$apply(function(){o.prevItem()})}else if(27===e.which){e.preventDefault();t.$apply(function(){t.$eval(i.onEscape,{$event:e})})}});t.$watch(o.getActiveItem,function(e){e?e.item.label&&n.val(e.item.label):n.val(s.$modelValue)});t.$watch(s.$modelValue,function(e){e||o.activate(null)})}}}]);e.directive("objectAddTypeaheadMenu",[function(){return{require:"^objectAddTypeahead",link:function e(t,n,i,r){t.controller=r;r.setMenu({getHeight:function e(){return n.height()},setScrollTop:function e(t){n[0].scrollTop=t}})}}}]);e.directive("objectAddTypeaheadItem",[function(){return{require:"^objectAddTypeahead",link:function e(t,n,i,r){var o=t.$eval(i.objectAddTypeaheadItem);var s={item:o,getOffsetTop:function e(){return n[0].offsetTop},scrollIntoView:function e(t){n[0].scrollIntoView(t)},getPosition:function e(){return n.position()},getHeight:function e(){return n.height()},select:function e(){a()}};function a(){t.$eval(i.onSelect,{item:o})}r.addItem(s);t.$on("$destroy",function(){r.removeItem(s)});t.$watch(function(){var e=r.getActiveItem();if(e)return e.item===o;return false},function(e){e?n.addClass("object-add-typeahead-active"):n.removeClass("object-add-typeahead-active")});n.on("mouseenter",function(){n.addClass("object-add-typeahead-hover")});n.on("mouseleave",function(){n.removeClass("object-add-typeahead-hover")});n.on("qv-activate",function(e){e.preventDefault();t.$apply(function(){a()})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(133),n(92),n(49)],r=function(e,t,n,i,r){var o=i.extend("ODAGLink",{properties:null,getProperties:function e(){return t.resolve(this.properties)},create:function e(t){return n.createODAGLink(t,this.properties.data)},init:function t(n){this.properties={type:"odaglink",data:{id:"",name:"",templateApp:"",rowEstExpr:"",privileges:[],properties:{rowEstRange:[{context:"*",highBound:null}],genAppLimit:[{context:"User_*",limit:5}],appRetentionTime:[{context:"User_*",retentionTime:""}],publishTo:[],targetSheet:[{context:"User_*",sheetId:""}]},tags:[]}};e.extend(true,this.properties.data,n);return this}});o.getLinkedObjects=function(){return t.resolve([])};o.get=function(e,t){return n.loadODAGLink(t,e).then(function(e){var t=r.getFlag("ODAG_SAAS_ENABLED")?e:e.objectDef;var n=new o(t);return n})};o.getList=function(e,t){return n.getODAGLinks(e,t).then(function(t){var i=[];for(var r=0;r<t.length;r++){var s=t[r];if(s&&s.link)if("decommissioned"===s.link.status)n.removeODAGAppLinkWithODAGLinkId(e,s.link.id);else{var a=new o(s.link);i.push(a)}}return i})};return o}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(140),n(633),n(451),n(100),n(90),n(162),n(108),n(49)],r=function(e,t,n,i,r,o,s,a,l,u){var c=function t(i,r,o){var s=i&&"function"===typeof i.getConfiguration?i:n.get(r);return e.resolve(s).then(function(e){var t=e.layout&&e.layout.qTitle||"";var n=e.id||"";var i=null;var r=e.getConfiguration().then(function(r){for(var s=0;s<r.qServices.length;s++)if("senseprinting"===r.qServices[s].qName.toLowerCase()){i={appName:t,appId:n,qUrl:u.getFlag("EXPORT_API_ENDPOINT")?"".concat(o||"","/api/export/printing/"):o?o+unescape(r.qServices[s].qUrl):unescape(r.qServices[s].qUrl),localeInfo:e.layout.qLocaleInfo};break}return i});return r})};var f=function t(n,i,s,l,u,f){var d=n.model.layout.qInfo.qType;var p="story"===d||"sheet"===d?d:"object";var h="object"===p?n:n.model;var v=r.snapshot(n.model.id,p,{size:s,source:h,sourceSize:i,sheetLayout:"grid"});var m=c(u,n.model.app.id,f);var g=a.getProperties().then(function(e){return{sheetLogoPosition:e.sheetLogoPosition,sheetLogoThumbnail:e.sheetLogoThumbnail,sheetTitleBgColor:e.sheetTitleBgColor,sheetTitleColor:e.sheetTitleColor,sheetTitleGradientColor:e.sheetTitleGradientColor,rtl:e.rtl}});return e.all([v,m,g]).then(function(t){var n=t[0];var i=t[1];var r=t[2];if(!i)return e.reject();var s=o.getCurrentTheme();var a=i.qUrl;var u=l;u.objTree=n;u.appName=i.appName;u.appId=i.appId;u.appStylingInfo=r;u.localeInfo=i.localeInfo;u.themeName=s;return{qUrl:a,payload:u,snapshotType:p}})};var d={poolPromise:null,printTree:function e(t,n,i,r,o){return f(t,n,i,r).then(function(e){return d.enqueueRequest(e.qUrl,e.payload,e.snapshotType,o,r.timeoutMsec,r.checkInterval)})},getPrintDataForQSC:function t(n,r){var o=e();f(n,null,null,r).then(function(e){var t={imageType:"Jpeg",captureSize:{},images:[{name:"280x375",width:280,height:375,dpi:96,requestId:"?requestId="+i.generateId()},{name:"400x400",width:400,height:400,dpi:96,requestId:"?requestId="+i.generateId()},{name:"fallback",width:1024,height:768,dpi:96,requestId:"?requestId="+i.generateId()}],payload:e.payload,url:e.qUrl+"export/object/image",pollingUrl:e.qUrl+"export/request/status",host:location.host,prefix:s.basePath};o.resolve(t)},function(){o.reject({status:-1})});return o.promise},enqueueRequest:function n(r,o,s,a,l,u){var c=e();this.cancel(a);var f=this.getStates();l=l||36e5;u=u||3e3;var p=l/u;var h=0;var v=i.generateId();var m=r+"export/"+("story"===s?"story":"object")+"/"+a;m=m+"?requestId="+v;var g=t.getService("$http");var b=t.getService("$interval");var y=null;g({url:m,method:"POST",data:o}).then(function(e){var t=e.data;var n=t&&t.requestId;var i=r+"export/request/status?requestId="+n;var o=function e(){g({url:i,method:"GET"}).then(function(e){var t=e.data;h++;if(h>p){b.cancel(y);c.reject({status:f.TIMEOUT});return}if(t&&t.status){var n=t.status;if("Failed"===n||"Canceled"===n){b.cancel(y);c.reject({status:"Canceled"===n?f.CANCELED:f.FAILED})}else if("Completed"===n){b.cancel(y);c.resolve({status:f.COMPLETED,qUrl:t.qUrl})}}else{b.cancel(y);c.reject({status:f.FAILED})}}).catch(function(e,t){b.cancel(y);c.reject({status:f.FAILED,data:e,httpStatusCode:t})})};y=b(o,u);switch(a){case"image":d.poolPromiseImage=y;break;case"pdf":d.poolPromisePdf=y;break;default:d.poolPromise=y}}).catch(function(e,t){c.reject({status:f.FAILED,data:e,httpStatusCode:t})});t.$rootScope.$on("$routeChangeStart",function(){this.cancel()});return c.promise},cancel:function e(n){var i=[];switch(n){case"image":i.push(this.poolPromiseImage);break;case"pdf":i.push(this.poolPromisePdf);break;default:i.push(this.poolPromise,this.poolPromiseImage,this.poolPromisePdf);break}if(i.length>0){var r=t.getService("$interval");i.forEach(function(e){if(e){r.cancel(e);e=null}})}},getStates:function e(){return{NODATA:-4,CANCELED:-3,TIMEOUT:-2,FAILED:-1,IDLE:0,PENDING:1,COMPLETED:2}},printObject:function e(t,n,i,r,o,s,a){return l.setup().then(function(e){return f(n,r,o,s,t,e.isPersonalMode?null:i).then(function(e){return d.enqueueRequest(e.qUrl,e.payload,e.snapshotType,a,void 0,void 0)})})}};return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t;t=e.extend("SelectionToolbar",{menuButtons:[],init:function e(t,n,i,r,o,s){o=o||[];this.menuButtons=s||[];var a=[];this.backendApi=t;this.selectionsApi=n;this.showMenu=i;this.showLock=r;o&&o.length&&a.push({clazz:"sel-toolbar-separator",buttonClass:"sel-toolbar-icon-separator",isDisabled:function e(){return true}});a.push({name:"Tooltip.CancelSelections",tid:"selection-toolbar.undo",isIcon:false,iconClass:"lui-icon lui-icon--close",buttonClass:"sel-toolbar-cancel",action:function e(){this.selectionsApi.cancel()}});a.push({name:"Tooltip.ConfirmSelections",tid:"selection-toolbar.refresh",iconClass:"lui-icon lui-icon--tick",buttonClass:"sel-toolbar-confirm",action:function e(){this.selectionsApi.confirm()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});this.buttons=o.concat(a)},hasState:function e(t){if(!t)return true;var n=this.backendApi.getDimensionInfos();for(var i=0;i<n.length;++i)for(var r=0;r<t.length;++r)if(n[i].qStateCounts[t[r]]>0)return true;return false}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(413)],r=function(e){function t(e,t,n,i){0===arguments.length?this.set(0,0,0,0):2===arguments.length?this.set(e.x,e.y,t.x,t.y):this.set(e,t,n,i)}t.prototype={toString:function e(){return this.x1+" "+this.y1+" "+this.x2+" "+this.y2},clone:function e(){return new t(this.x1,this.y1,this.x2,this.y2)},set:function e(t,n,i,r){this.x1=t;this.y1=n;this.x2=i;this.y2=r},intersectsLine:function t(n){return e.checkLineSegmentIntersectingLineSegment(this.getPoints(),n.getPoints())},intersectsRect:function e(n){return this.intersectsLine(new t(n.x,n.y,n.x+n.width,n.y))||this.intersectsLine(new t(n.x+n.width,n.y,n.x+n.width,n.y+n.height))||this.intersectsLine(new t(n.x,n.y+n.height,n.x+n.width,n.y+n.height))||this.intersectsLine(new t(n.x,n.y,n.x,n.y+n.height))},getPoints:function e(){var t=[];t.push({x:this.x1,y:this.y1});t.push({x:this.x2,y:this.y2});return t}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(91),n(135),n(213),n(560),n(437)],r=function(e,t,n,i,r){var o=false;function s(e,t){return"ErrorDialog.AppClosed"===e.message||"ProxyError.OnNoEngineAvailable"===e.message||"OnEngineWebsocketFailed"===e.method||e.code===t.LOCERR_APP_NOT_FOUND||e.code===t.LOCERR_APP_CONNECT_FAILED}function a(i){var o=e.getService("qvConfirmDialog").show({message:u(t.get("ErrorDialog.Title"),r.getErrorDescription(i)),okLabel:t.get("Common.Refresh"),cancelLabel:t.get("ErrorDialog.GoToHub.Button"),closeOnEscape:false});o.closed.then(function(e){e?r.refreshPage():location.href=n.buildHubUrl()});return o}function l(n){e.getService("clientSections").get(function(e){e.HubSection_Home?a(n):c(t.get("ErrorDialog.Title"),r.getErrorDescription(n))})}function u(e,t){return'<h2 class="inline-title">'+e+"</h2><span>"+t+"</span>"}function c(n,i){var s=e.getService("qvAlertDialog").show({message:u(n,i),closeLabel:t.get("Common.Refresh"),closeOnEscape:false});s.closed.then(function(){o=false;r.refreshPage()});return s}function f(i,s){var a=n.isSuffixInUse("noData");var l=e.getService("qvAlertDialog").show({message:u(i,s),closeLabel:t.get(a?"Dialog.Button.Open.With.Data":"Dialog.Button.Open.Without.Data"),closeOnEscape:false});l.closed.then(function(){o=false;if(a)n.removePartialSuffix("noData");else{var e=location.href;var t=e.lastIndexOf("/")===e.length-1;var i="noData/true";t||(i="/"+i);n.setUrl(e+i)}r.refreshPage()});return l}function d(n,i,s){var a=u(n,i);var l=e.getService("qvAlertDialog").show({message:a,closeOnEscape:true,keepOpen:s||false});l.closed.then(function(){o=false;e.$rootScope.$broadcast("errorHandlerClosed",a,{name:t.get("Common.Refresh"),callback:r.refreshPage})});return l}function p(n,i){var s=u(n,i);var a=e.getService("qvConfirmDialog").show({message:s,okLabel:t.get("Common.Refresh"),cancelLabel:t.get("Common.Close"),closeOnEscape:true});a.closed.then(function(n){o=false;n?r.refreshPage():e.$rootScope.$broadcast("errorHandlerClosed",s,{name:t.get("Common.Refresh"),callback:r.refreshPage})});return a}function h(e){return o||e.code===r.errors.LOCERR_JSON_RPC_INVALID_PARAMETERS}function v(e,n){if(h(e))return;o=true;t.ready.then(function(){if(s(e,r.errors))l(e);else if(r.isLocErr(e,r.errors))p(t.get("ErrorDialog.Title"),r.getErrorDescription(e));else if(e.code===r.errors.LOCERR_GENERIC_CONNECTION_LOST)c(t.get("ErrorDialog.Title"),r.getErrorDescription(e));else if(e.code===r.errors.LOCERR_PERSONAL_VERSION_EXPIRED){var o=t.get("Info.QlikView.Personal.Upgrade",["<a href='"+i.personalUpgradeUrl+"' target='_blank'>"+i.personalUpgradeBase+"</a>"]);c(t.get("ErrorCode.12001.Sense.Desktop.Expired"),o)}else"ProxyError.OnSessionTimedOut"===e.message?c(t.get("TimeoutDialog.Title"),r.getErrorDescription(e)):e.code===r.errors.LOCERR_APP_ALREADY_OPEN_IN_DIFFERENT_MODE?f(t.get("ErrorDialog.Title"),r.getErrorDescription(e)):e.refreshButton?c(t.get("ErrorDialog.Title"),r.getErrorDescription(e)):d(t.get("ErrorDialog.Title"),r.getErrorDescription(e),n)})}function m(e){var t=e.error;var n=e.keepOpen;var i=t.type;if(h(t))return;o=true;if("refreshDialog"===i)return c(t.title,t.message);if("refreshCloseDialog"===i)return p(t.title,t.message);return d(t.title,t.message,n)}return{showDialog:v,showDialogReact:m,isOpen:function e(){return o}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(94),n(50)],r=function(e,t,n){var i={},r,o,s,a,l;i.ViewMode={grid:0,list:1};i.NavigationMode={sheet:"sheet",bookmark:"bookmark",story:"story"};r=i.ViewMode.grid;o=i.NavigationMode.sheet;l=r;s=false;e.mixin(i);i.notification("ViewModeChanged");i.notification("NavigationModeChanged");i.notification("AddingItemChanged");i.setViewMode=function(e){if(e!==r){r=e;i.ViewModeChanged.emit(r)}};i.setNavigationMode=function(e){if(e!==o){o=e;i.NavigationModeChanged.emit(o)}};i.setAddingItem=function(e){if(e!==s){s=e;i.AddingItemChanged.emit(s)}};i.setDuplicatingItem=function(e){e!==a&&(a=e)};t.StateChanged.bind(function(e){e===t.Views.sheet?i.setNavigationMode(i.NavigationMode.sheet):e===t.Views.story&&i.setNavigationMode(i.NavigationMode.story)});n.ViewChanged.bind(function(e){e&&(l=r)});Object.defineProperties(i,{viewMode:{get:function e(){return r}},navigationMode:{get:function e(){return o}},viewModeBeforeEnterSmallDevice:{get:function e(){return l}},addingItem:{get:function e(){return s}},duplicatingItem:{get:function e(){return a}}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(92)],r=function(e,t){var n=t.extend("ClassificationModel",{spec:null,init:function e(t){this.spec=t},getDataTypes:function t(n,i){var r=this._getFields(n,i);var o=[];o=r.map(function(e){return e.recommendedDataType||e.dataType});return e.uniq(o)},getClassifications:function t(n,i){var r=this._getFields(n,i);var o=r.map(function(e){return e.classifications});o=e.flatten(o);return e.uniq(o)},getDefaultAggregation:function e(t,n){var i=this._getFields(t,n);return i[0].defaultAggregation},_getFields:function t(n,i){var r=[];i.forEach(function(t){var i=e.findWhere(this.spec.datasets,{name:t});if(i){var o=e.findWhere(i.fields,{name:n});o&&r.push(o)}}.bind(this));return r}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(173),n(89),n(93)],r=function(e,t,n){function i(e){return e?t.resolve(e.enigmaModel):n.getApp()}var r={},o=500;r.getLibraryContent=function(e,t){return i().then(function(n){return n.getSnapshotListObject().then(function(n){n.Invalidated&&n.Invalidated.unbind();n.Invalidated.bind(t);return n.getLayout().then(function(t){return t.filter(function(t){var n=true;e&&(n=e===t.qData.sourceObjectId);return!t.qData.isClone&&n})})})})};r.unbindList=function(){return i().then(function(e){return e.getSnapshotListObject().then(function(e){e.Invalidated.unbind()})})};r.getSnapshotCount=function(e){return i().then(function(t){return t.getSnapshotList().then(function(t){var n=0;for(var i=0;i<t.length;i++)t[i].qData.isClone||t[i].qData.sourceObjectId!==e||n++;return n})})};r.create=function(t,n){t&&(t.qInfo={qType:"snapshot"});return i().then(function(i){return i.getSnapshotList().then(function(i){var s=0;for(var a=0;a<i.length;a++)i[a].qData.isClone||s++;var l=s<o;return!!l&&e.create.call(r,t,n).then(function(e){return{limit:l,id:e.id}})})})};r.get=function(t,n){return e.get(t,n)};r.remove=function(t,n){return e.remove(t,n)};r.getEmbedded=function(e){return e.enigmaModel.getSnapshotObject()};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(110),n(91)],r=function(e,t){var n=e.NxLocalizedErrorCode;function i(e){return"ErrorCode."+e}return{getDimensionError:function e(r){var o;o=r===n.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidDimension":r===n.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingDimension":i(r);return t.get(o)},getMeasureError:function e(r){var o;o=r===n.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidMeasure":r===n.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingMeasure":i(r);return t.get(o)},getHyperCubeError:function e(n){var r=i(n);return t.get(r)},getListObjectError:function e(n){var r=i(n);return t.get(r)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(92),n(102),n(164)],r=function(e,t,n,i){var r=e(document),o=[],s="chart-interaction";function a(e){return s+"."+e}function l(e,t){return e.priority-t.priority}function u(e,t){if(e.filter(function(e){return e.target===t.target&&e.container===t.container}).length)return null;t.priority=Number.isNaN(+t.priority)?0:t.priority;e.push(t);e.sort(l);return t}function c(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function f(e,t,n){return e.filter(function(e){return e[n]===t})}var d={tap:{containers:[]},taptwo:{containers:[]},tapthree:{containers:[]},swipe:{containers:[]},swipetwo:{containers:[]},wheelswipe:{containers:[]},rotate:{containers:[]}};var p={mousemove:{containers:[]},mouseleave:{containers:[]},mousewheel:{containers:[]},mouseup:{containers:[]}};function h(e,n,i){var r=e.gesture,o=e.action,s=e.item.targets,a;for(var l=0;l<s.length;l++){a=s[l].target;if(a.active(s[l].data)){a.preventDefault&&("touchmove"===n.type||"touchstart"===n.type||"touchend"===n.type?t.WebkitHack.prevent():n.preventDefault());a[r][o]&&a[r][o].apply(this,[n,i,s[l].data]);if(a.exclusive())break}}}function v(e,t,n){var i=e.gesture,r=e.item.targets,o;for(var s=0;s<r.length;s++){o=r[s].target;if(o.active()){o.preventDefault&&t.preventDefault();o[i].apply(this,[t,n,r[s].data]);if(o.exclusive&&o.exclusive())break}}}function m(e,t){e.handlers.start=function(n,i){h.apply(this,[{gesture:t,action:"start",item:e},n,i])};e.handlers.end=function(n,i){h.apply(this,[{gesture:t,action:"end",item:e},n,i])};if(["swipe","swipetwo","wheelswipe","rotate"].contains(t)){e.handlers.update=function(n,i){h.apply(this,[{gesture:t,action:"update",item:e},n,i])};e.handlers.cancel=function(n,i){h.apply(this,[{gesture:t,action:"cancel",item:e},n,i])}}}function g(e,t){var n={id:a(t),options:{preventDefault:false}};Object.keys(e.handlers).forEach(function(t){n[t]=e.handlers[t]});switch(t){case"swipe":n.options.useMomentum=true;n.options.inertia=.5;case"tap":n.options.touches=1;break;case"swipetwo":n.options.useMomentum=true;n.options.inertia=.5;case"taptwo":n.options.touches=2;break;case"tapthree":n.options.touches=3;break;case"wheelswipe":case"rotate":default:break}return n}function b(e){switch(e){case"taptwo":case"tapthree":return"tap";case"swipetwo":return"swipe";case"tap":case"swipe":case"wheelswipe":case"rotate":default:return e}}function y(e,n){var i=d[n].containers.filter(function(t){return t.container===e.container})[0];if(!i){i={container:e.container,targets:[],handlers:{}};m(i,n);i.unbind=t(e.container)[b(n)](g(i,n));d[n].containers.push(i)}u(i.targets,e);return i}function x(t,n){var i=p[n].containers.filter(function(e){return e.container===t.container})[0];if(!i){i={container:t.container,targets:[],handler:null};i.handler=function(e){v.apply(this,[{gesture:n,item:i},e])};var r=n+"."+s+("mousewheel"===n?" DOMMouseScroll."+s:"");var o=e(t.container);o.on(r,i.handler);i.unbindJqueryEvents=function(){o.off(r,i.handler)}}u(i.targets,t);return i}function _(e){switch(e){case"tap":case"swipe":case"taptwo":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":return"touche";case"mousemove":case"mouseleave":case"mousewheel":case"mouseup":return"jquery";default:break}}var w=n.extend({init:function e(){i.mixin(this);this.notification("ShiftToggle");this.notification("CtrlToggle");this.notification("KeyPressed");this.notification("MouseUp");this.notification("MouseLeave");r.on("keydown."+s,function(e){if(16!==e.which||this.shiftPressed){if(17===e.which&&!this.ctrlPressed){this.ctrlPressed=true;this.CtrlToggle.emit(this.ctrlPressed)}}else{this.shiftPressed=true;this.ShiftToggle.emit(this.shiftPressed)}}.bind(this));r.on("keyup."+s,function(e){if(16===e.which&&this.shiftPressed){this.shiftPressed=false;this.ShiftToggle.emit(this.shiftPressed)}else if(17===e.which&&this.ctrlPressed){this.ctrlPressed=false;this.CtrlToggle.emit(this.ctrlPressed)}this.KeyPressed.emit(e.which)}.bind(this));r.on("mouseup."+s,function(e){this.MouseUp.emit(e)}.bind(this));r.on("mouseleave."+s,function(e){this.MouseLeave.emit(e)}.bind(this));this.shiftPressed=false;this.ctrlPressed=false},addInteraction:function e(t,n,i,r,s){var a=u(o,{target:t,container:n,priority:i,types:{},data:s});if(!a)throw new Error("Duplicate add of interaction, potential leak detected.");r.forEach(function(e){if(!t[e])throw new Error("Interaction reciver does not implement the specified interaction type: "+e);switch(e){case"tap":case"taptwo":case"swipe":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":a.types[e]=y(a,e);break;case"mousewheel":case"mousemove":case"mouseleave":case"mouseup":a.types[e]=x(a,e);break;default:throw new Error("The specified interaction type does not exist: "+e)}})},removeInteraction:function e(n,i){var r=f(o,n,"target");i&&(r=f(r,i,"container"));r&&r.length&&r.forEach(function(e){Object.keys(e.types).forEach(function(n){var i=e.types[n];c(i.targets,e);if(!i.targets.length)if("touche"===_(n)){t(i.container).off("*",a(n));c(d[n].containers,i)}else i.unbindJqueryEvents()});c(o,e)})},removeAllInteraction:function e(){Object.keys(d).forEach(function(e){d[e].containers.forEach(function(n){t(n.container).off("*",a(e))});d[e].containers=[]});o=[]}});var q=new w;return{ShiftToggle:q.ShiftToggle,CtrlToggle:q.CtrlToggle,KeyPressed:q.KeyPressed,MouseUp:q.MouseUp,MouseLeave:q.MouseLeave,addInteraction:q.addInteraction,removeInteraction:q.removeInteraction,removeAllInteraction:q.removeAllInteraction,preventGestures:function e(n){if(!n.gestureHandler)throw new Error("Interaction.js, preventGestures: Called with invalid binder");t.preventGestures(n.gestureHandler)},_unitTestExposure:{toucheHandlers:d}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(92),n(89),n(93),n(90),n(183),n(182)],r=function(e,t,n,i,r,o,s){var a;e.service("classificationService",[function(){var e=t.extend("ClassificationService",{init:function e(){},_errorHandler:function e(t){this._deferredClassificationResult.reject(t)},_getAPI:function e(){a||(a=o.getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,s.getServerNodeId()));return a},_getAppName:function e(){return r.getParameterByName("app")},_waitForLoadComplete:function e(t){var i=new n;this._progressIntervalTimer=setInterval(function(){t.global.getProgress(0).then(function(e){if(e.qFinished){i.resolve(true);clearInterval(this._progressIntervalTimer)}}.bind(this))}.bind(this),1e3);return i.promise},_getClassification:function e(t,i){return t.getAppProperties().then(function(e){if(!this._deferredClassificationResult||e.qLastReloadTime!==this._appLastReload){this._appLastReload=e.qLastReloadTime;this._deferredClassificationResult=new n;this._waitForLoadComplete(t).then(function(){i.apis.model.getClassification({appId:r.getParameterByName("app")}).then(function(e){this._deferredClassificationResult.resolve(e.obj.response)}.bind(this)).catch(this._errorHandler.bind(this))}.bind(this))}return this._deferredClassificationResult.promise}.bind(this))},getClassification:function e(){return this._getAPI().then(function(e){return i.getApp().then(function(t){return this._getClassification(t,e).then(function(e){return e})}.bind(this))}.bind(this)).catch(this._errorHandler.bind(this))}});return new e}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(90),n(48),n(91),n(203)],r=function(e,t,n,i){var r="M4,5.84027778 L4,3 L1.2,3 C1.08954305,3 1,3.08954305 1,3.2 L1,12.8 C1,12.9104569 1.08954305,13 1.2,13 L4,13 L4,6.72152812 C3.36593141,6.95951806 2.69926475,7.31160128 2,7.77777778 C2.66666667,6.94444444 3.33333333,6.29861111 4,5.84027778 Z M5,6.43553932 L5,13 L14.8,13 C14.9104569,13 15,12.9104569 15,12.8 L15,3.2 C15,3.08954305 14.9104569,3 14.8,3 L5,3 L5,5.29340278 C6.96296296,4.49594907 8.92592593,5.32407407 10.8888889,7.77777778 C10.8888889,7.77777778 11.2592593,7.40740741 12,6.66666667 L12,10 L8.66666667,10 C9.40740741,9.25925926 9.77777778,8.88888889 9.77777778,8.88888889 C8.52447243,6.88360034 6.93187984,6.06581715 5,6.43553932 Z M1,2 L15,2 C15.5522847,2 16,2.44771525 16,3 L16,13 C16,13.5522847 15.5522847,14 15,14 L1,14 C0.44771525,14 6.76353751e-17,13.5522847 0,13 L0,3 C-6.76353751e-17,2.44771525 0.44771525,2 1,2 Z";var o=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function s(e,t,n){this.offsetX=e;this.offsetY=t;this.elem=n}s.prototype.update=function(e,t){var n={x:e.pageX+this.offsetX,y:e.pageY+this.offsetY},i=this.elem;t&&t.snapToGrid&&t.snapToGrid.snapFunc(e,t,n,i);if(o){i.style.left=n.x+"px";i.style.top=n.y+"px"}else{var r="translate3d("+n.x+"px, "+n.y+"px, 0)";i.style.transform=r;i.style.webkitTransform=r;i.style.mozTransform=r;i.style.msTransform=r}};s.prototype.end=function(){this.elem.parentNode.removeChild(this.elem)};function a(e,t,n,i,r){if(e[n]&&e[n][t.type])return e[n][t.type].call(null,i,r);if("function"===typeof e[n])return e[n].call(null,i,r)}function l(e,t,n,i){this.info=e;this.handle=t;this.targets=n;this.scrollComponents=i;this.rects=[];this.scrollRects=[];var r=document.body.getBoundingClientRect();this.docRect=r;var o=document.createElement("canvas");this.canvas=o;o.style.position="absolute";o.style.left=(window.pageXOffset||0)+"px";o.style.top=(window.pageYOffset||0)+"px";o.style.zIndex=999;o.width=r.width;o.height=r.height;o.classList.add("drag-and-drop-canvas");document.body.appendChild(o);this.context=o.getContext("2d")}function u(e,t,n,i){if(e.setLineDash){e.setLineDash(i);e.moveTo(f(t.x),f(t.y));e.lineTo(f(n.x),f(n.y));e.stroke()}else{i=i||[2,4];var r=i.length,o=n.x-t.x,s=n.y-t.y,a=Math.sqrt(o*o+s*s),l=a,u=0,c=true,d,p=t.x,h=t.y;o/=a;s/=a;e.moveTo(f(p),f(h));for(u=0;l>=.1&&u<5e3;++u){d=i[u%r];0===d&&(d=.001);d>l&&(d=l);p+=d*o;h+=d*s;e[c?"lineTo":"moveTo"](f(p),f(h));l-=d;c=!c}}}function c(e,t,n){return e.left<=t&&t<=e.right&&e.top<=n&&n<=e.bottom}function f(e){return Math.round(e)}function d(e,t,n,i){n=n||[5];if(e.setLineDash&&!i){e.setLineDash(n);e.strokeRect(f(t.left),f(t.top),f(t.right-t.left),f(t.bottom-t.top))}else{var r=e.lineWidth/2;e.beginPath();var o={x:t.left+r,y:t.top+r},s={x:t.right-r,y:t.top+r},a={x:t.right-r,y:t.bottom-r},l={x:t.left+r,y:t.bottom-r};i.top||u(e,o,s,n);i.right||u(e,s,a,n);i.bottom||u(e,a,l,n);i.left||u(e,l,o,n);e.stroke()}}function p(e,t,n,i,r){var o=e.lineWidth+4;e.beginPath();e.rect(t.left+o,t.top+o,t.right-t.left-2*o,t.bottom-t.top-2*o);e.fillStyle=n?i||r?"rgba(242,242,242,1)":"rgba(242,242,242,0.9)":"rgba(0,0,0,0.05)";e.fill()}function h(e,t,i,o,s){var a=t.right-t.left,l=t.bottom-t.top,u=t.left+a/2,c=t.top+l/2;if(a>40&&l>40){var f="gridcell"!==i&&(o||s)?"DropZone.CreateChart":"DropZone.DropItem",d=n.get(f),p="bold 13px QlikView Sans";e.fillStyle="#404040";e.textAlign="center";if(v(d,p,a)&&l>60){e.save();e.translate(u-8,c-14);e.fill(new Path2D(r));e.restore();e.font=p;e.fillText(d,u,c+18);return}e.save();e.translate(u-8,c+14);e.fill(new Path2D(r));e.restore()}}function v(e,t,n){var r=i.measureTextObject({type:"text",shape:{text:e,font:t,maxWidth:n-12,align:"center",maxNumLines:1}});return!r.truncated}function m(t,n,i){i.rects=[];for(var r=0;r<t.length;++r)a(t[r],n,"start",i);i.rects.sort(function(t,n){return e.compare(n.prio,t.prio)})}l.prototype.start=function(){var e=this.targets;var n=this.info;m(e,n,this);var i=this.scrollComponents;for(var r=0;r<i.length;++r)a(i[r],n,"start",this);t.$rootScope.$apply()};l.prototype.update=function(t){t.preventDefault();var n=t.pageX;var i=t.pageY;this.handle.update(t,this.info);var r;var o;var s=this.scrollRects;var l;var u;for(u=0;u<s.length;++u){r=s[u].targetRect;o=c(r,n,i);if(o){l=s[u];break}}this.scroller&&a(this.scroller,this.info,"leave",l,t);var f=!!l&&a(l,this.info,"enter",l,t);if(f){this.activeRect&&a(this.activeRect,this.info,"leave",this.info);this.context.clearRect(0,0,this.docRect.width,this.docRect.height);this.activeRect=null;this.scroller=l;return}if(this.scroller){m(this.targets,this.info,this);this.scroller=false}var v=this.rects;var g=null;for(u=0;u<v.length;++u){var b=v[u].targetRect;r=e.isFunction(b)?b():b;o=c(r,n,i);if(o){g=v[u];break}}if(g!==this.activeRect){this.activeRect&&a(this.activeRect,this.info,"leave",this.info);var y=this.context;var x=this.docRect;y.clearRect(0,0,x.width,x.height);if(g){y.strokeStyle="#F7A24D";y.lineWidth=2;var _=g.drawRect;if(_){var w=void 0!==g.isEmpty,q=1===g.prio;d(y,_,[5],g.ignoreLines);p(y,_,w,g.isEmpty,q);w&&h(y,_,this.info.type,g.isEmpty,q)}a(g,this.info,"enter",this.info)}}this.activeRect=g};l.prototype.registerDropRect=function(e){e.prio=e.prio||0;this.rects.push(e)};l.prototype.registerScrollRect=function(e){this.scrollRects.push(e)};l.prototype._end=function(){for(var e=0;e<this.targets.length;++e)a(this.targets[e],this.info,"end",this);document.body.removeChild(this.canvas);this.handle.end();this.ended=true;t.$apply(t.$rootScope)};l.prototype.end=function(e){this.activeRect&&a(this.activeRect,this.info,"drop",this.info,e);this._end()};l.prototype.cancel=function(){this._end()};var g=[];var b=[];var y;return{registerScrollComponent:function e(t){var n=b.indexOf(t);-1===n&&b.push(t)},unregisterScrollComponent:function e(t){var n=b.indexOf(t);-1!==n&&b.splice(n,1)},registerDropTarget:function e(t){var n=g.indexOf(t);-1===n&&g.push(t)},unregisterDropTarget:function e(t){var n=g.indexOf(t);-1!==n&&g.splice(n,1)},startDrag:function e(t,n){if(y&&!y.ended)return false;t.style.position="absolute";t.style.left="0";t.style.top="0";t.style.zIndex=9999;document.body.appendChild(t);var i=t.getBoundingClientRect();var r=new s(-i.width/2,-i.height/2,t);var o=g.filter(function(e){return a(e,n,"accept",n)});var u=b.filter(function(){return true});y=new l(n,r,o,u);try{y.start();return y}catch(e){y.cancel();return false}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(384)],r=function(e){return{isContinuousChart:function t(n){if(!n.qHyperCube)return false;var i=this.canBeContinuousChart(n),r=e.isTimeDimension(i,n.qHyperCube.qDimensionInfo[0]),o="linechart"===n.visualization||n.qHyperCube.qMeasureInfo.some(function(e){return e.series&&"line"===e.series.type}),s=false;s=n.dimensionAxis&&n.dimensionAxis.continuousAuto?r&&o:i&&n.preferContinuousAxis;return s},canBeContinuousChart:function e(t){if(!t.qHyperCube||t.qHyperCube.qDimensionInfo.length<1)return false;var n=t.qHyperCube.qDimensionInfo[0].qTags||[];return t.qHyperCube.qDimensionInfo[0].qContinuousAxes&&n.indexOf("$numeric")>=0}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(91)],r=function(e,t,n){var i,r;r="Not supported in this object, need to implement in subclass.";i=e.extend({init:function e(t){t=t||{};this.dimensionDefinition=t.dimensionDefinition||{max:0};this.measureDefinition=t.measureDefinition||{max:0};t.dimensionDefinition&&(this.dimensionProperties=t.dimensionProperties||{});t.measureDefinition&&(this.measureProperties=t.measureProperties||{});t.globalChangeListeners&&(this.globalChangeListeners=t.globalChangeListeners);t.addDimensionLabel&&(this.addDimensionLabel=t.addDimensionLabel);this.app=t.app},setProperties:function e(t){this.properties=t},setGlobalChangeListeners:function e(t){this.globalChangeListeners=t},setLayout:function e(t){this.layout=t},type:function e(){throw new Error("Must override this method")},getDimensions:function e(){return[]},getDimension:function e(t){var n=this.getDimensions(),i=0;for(i;i<n.length;++i)if(n[i].qDef.cId===t)return n[i];return null},minDimensions:function e(){if("function"===typeof this.dimensionDefinition.min)return this.dimensionDefinition.min.call(null,this.properties,this);return this.dimensionDefinition.min||0},maxDimensions:function e(t){t=t||0;if("function"===typeof this.dimensionDefinition.max)return this.dimensionDefinition.max.call(null,this.getMeasures().length-t);return Number.isNaN(+this.dimensionDefinition.max)?1e4:this.dimensionDefinition.max},canAddDimension:function e(){return this.getDimensions().length<this.maxDimensions()},minMeasures:function e(){if("function"===typeof this.measureDefinition.min)return this.measureDefinition.min.call(null,this.properties,this);return this.measureDefinition.min||0},maxMeasures:function e(t){t=t||0;if("function"===typeof this.measureDefinition.max)return this.measureDefinition.max.call(null,this.getDimensions().length-t);return Number.isNaN(+this.measureDefinition.max)?1e4:this.measureDefinition.max},canAddMeasure:function e(){return this.getMeasures().length<this.maxMeasures()},getMeasures:function e(){return[]},getLabels:function e(){return[]},getMeasure:function e(t){var n=this.getMeasures(),i=0;for(i;i<n.length;++i)if(n[i].qDef.cId===t)return n[i];return null},addDimension:function e(){throw r},getSorting:function e(){throw r},addFieldDimension:function e(t,n,i){var r=this.createFieldDimension(t,n,i);return this.addDimension(r)},addLibraryDimension:function e(t,n){var i=this.createLibraryDimension(t,n);return this.addDimension(i)},addMeasure:function e(){throw r},addExpressionMeasure:function e(t,n,i){var r=this.createExpressionMeasure(t,n,i);return this.addMeasure(r)},addLibraryMeasure:function e(t,n){var i=this.createLibraryMeasure(t,n);return this.addMeasure(i)},addAlternativeFieldDimension:function e(t,n,i){var r=this.createFieldDimension(t,n,i);return this.addDimension(r,true)},addAlternativeLibraryDimension:function e(t,n){var i=this.createLibraryDimension(t,n);return this.addDimension(i,true)},addAlternativeExpressionMeasure:function e(t,n,i){var r=this.createExpressionMeasure(t,n,i);return this.addMeasure(r,true)},addAlternativeLibraryMeasure:function e(t,n){var i=this.createLibraryMeasure(t,n);return this.addMeasure(i,true)},replaceDimension:function e(){throw r},replaceMeasure:function e(){throw r},autoSortDimension:function e(){throw r},autoSortMeasure:function e(){throw r},createFieldDimension:function e(n,i,r){var o=t.extend(true,{},this.dimensionProperties||{},r||{});o.qDef||(o.qDef={});o.qOtherTotalSpec||(o.qOtherTotalSpec={});if(n){o.qDef.qFieldDefs=[n];o.qDef.qFieldLabels=i?[i]:[""];o.qDef.qSortCriterias=[{qSortByLoadOrder:1}]}else{o.qDef.qFieldDefs=[];o.qDef.qFieldLabels=[];o.qDef.qSortCriterias=[]}o.qDef.autoSort=true;return o},createLibraryDimension:function e(n,i){var r=t.extend(true,{},this.dimensionProperties||{},i||{});r.qDef||(r.qDef={});r.qOtherTotalSpec||(r.qOtherTotalSpec={});r.qLibraryId=n;r.qDef.qSortCriterias=[{qSortByLoadOrder:1}];r.qDef.autoSort=true;delete r.qDef.qFieldDefs;delete r.qDef.qFieldLabels;return r},createExpressionMeasure:function e(n,i,r){var o=t.extend(true,{},this.measureProperties||{},r||{});o.qDef||(o.qDef={});o.qDef.qNumFormat||(o.qDef.qNumFormat={});o.qDef.qDef=n;o.qDef.qLabel=i;o.qDef.autoSort=true;return o},createLibraryMeasure:function e(n,i){var r=t.extend(true,{},this.measureProperties||{},i||{});r.qDef||(r.qDef={});r.qDef.qNumFormat||(r.qDef.qNumFormat={});r.qLibraryId=n;r.qDef.autoSort=true;delete r.qDef.qDef;delete r.qDef.qLabel;return r},updateGlobalChangeListeners:function e(){this.globalChangeListeners&&(this.globalChangeListeners||[]).forEach(function(e){e&&"function"===typeof e&&e(this.properties,this)}.bind(this))},removeDimension:function e(){throw r},removeMeasure:function e(){throw r},moveDimension:function e(){throw r},moveMeasure:function e(){throw r},changeSorting:function e(){throw r},getAddDimensionLabel:function e(){return this.addDimensionLabel||n.get("Visualization.Requirements.AddDimension")}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(140),n(110),n(132),n(230),n(422),n(91),n(628),n(630),n(631),n(334),n(336),n(158),n(632),n(648),n(649),n(113)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g){var b=i.NxLocalizedErrorCode;var y,x,_={},w;function q(e){this.fieldCache={};this.stateCache={};Object.defineProperties(this,{id:{value:e.id},model:{value:e}});e.session&&Object.defineProperties(this,{global:{value:new f(e.session)},bookmark:{value:new u(e)},variable:{value:new c(e,this)},visualization:{value:new h(this)}});Object.defineProperties(this,{theme:{value:new m(e)}});e.rpcOptions&&e.rpcOptions.qEvent&&(this.qEvent=e.rpcOptions.qEvent);this.getAppLayout()}q.prototype.clearAll=function(e,t){return p.appDoIt(this.model,"clearAll",[e||false,t||"$"])};q.prototype.back=function(){return p.appDoIt(this.model,"back")};q.prototype.forward=function(){return p.appDoIt(this.model,"forward")};q.prototype.lockAll=function(e){return p.appDoIt(this.model,"lockAll",[e||"$"])};q.prototype.unlockAll=function(e){return p.appDoIt(this.model,"unlockAll",[e||"$"])};function C(t,n){var i=n||new e;t.getLayout().then(function(){i.resolve(t)},function(e){i.reject(e)});return i.promise}q.prototype.getObject=function(t,n,i){var o,s,l=this.model;var u=this;if(!n){n=t;t=void 0}o=new e;l.waitForOpen.promise.then(function(){if("CurrentSelections"===n){if(t){var c=i||{};c.currentSelections=true;s=p.showVisualization(t,null,c,l)}r.get(l).then(function(e){e.close=function(){return p.clearElement(t,s)};o.resolve(e)})}else if("AppNavigationBar"===n&&g["ODAG_MASHUP"]){var f=i||{};i.app=l;f.showNavigationToolbar=true;s=p.showVisualization(t,i,f,l);o.resolve()}else l.enigmaModel.getObject(n).then(function(n){return C(n).then(function(n){var r;if(t){r=new e;s=p.showVisualization(t,n,i,l);n.close=function(){n.Closed.emit();return r.promise};n.Closed.once(function(){p.clearElement(t,s).then(function(){r.resolve()})})}C(n,o)})},function(e){e.error&&e.error.code===b.LOCERR_GENERIC_NOT_FOUND&&(e={message:a.get("Object not found"),code:e.error.code});if(u.qEvent&&u.qEvent.hasHandlers("error")){u.qEvent.emit("error",e);e.isHandled=true}else if(y){y(e);e.isHandled=true}o.reject(e)})},function(){o.reject()});return o.promise};q.prototype.getSnapshot=function(e,t){if(!t){t=e;e=void 0}var n=this.model;return n.waitForOpen.promise.then(function(){return o.get(t,n).then(function(t){e&&p.showVisualization(e,t.enigmaModel,{APIType:s,noInteraction:true},n);return t.getLayout().then(function(){return t})})})};q.prototype.getObjectProperties=function(e){var t=this.model;return t.waitForOpen.promise.then(function(){return t.enigmaModel.getObject(e)}).then(function(e){return e.getProperties().then(function(){return e})})};q.prototype.getFullPropertyTree=function(e){var t=this.model;return t.waitForOpen.promise.then(function(){return t.enigmaModel.getObject(e)}).then(function(e){return e.getFullPropertyTree().then(function(t){e.propertyTree=t;return e})})};q.prototype.createGenericObject=function(t,n){var i=this;return i.model.waitForOpen.promise.then(function(){var e=n?function(e){n(e,i)}:function(){};p.setDefaultId(t);return i.model.enigmaModel.getOrCreateSessionObject(t).then(function(t){t.Invalidated.bind(function(){t.getLayout().then(e)});t.close=function(){return i.destroySessionObject(t.id).then(function(){t.emit("closed",t);return t})};t.Closed.bind(function(){i.model.enigmaModel._listCache&&i.model.enigmaModel._listCache[this.id]&&delete i.model.enigmaModel._listCache[this.id]});return t.getLayout().then(function(n){e(n);return t})},function(e){if(y){y(e.error,i);e.error.isHandled=true}})},function(){return e.reject()})};q.prototype.destroySessionObject=function(e){return p.appDoIt(this.model,"destroySessionObject",[e])};q.prototype.createCube=function(e,t){return this.createGenericObject({qHyperCubeDef:e},t)};q.prototype.createList=function(e,t){return this.createGenericObject({qListObjectDef:e},t)};q.prototype.getList=function(e,t){return this.createGenericObject(p.getDefaultListParam(e),t)};q.prototype.getAppObjectList=function(e,t){if(!t){t=e;e="sheet"}return this.getList(e,t)};q.prototype.searchSuggest=function(e,t,n){var i=p.appDoIt(this.model,"searchSuggest",[t,e]).then(function(e){return{qResult:e}});n&&i.then(function(e){n(e)});return i};q.prototype.searchAssociations=function(e,t,n,i){var r=p.appDoIt(this.model,"searchAssociations",[n||{},e,t]).then(function(e){return{qResults:e}});i&&r.then(function(e){i(e)});return r};q.prototype.searchResults=function(e,t,n,i){var r=p.appDoIt(this.model,"searchResults",[n||{},e,t]).then(function(e){return{qResult:e}});i&&r.then(function(e){i(e)});return r};q.prototype.selectAssociations=function(e,t,n){return p.appDoIt(this.model,"selectAssociations",[n||{},t,e])};q.prototype.getAppLayout=function(t){var n=this,i=new e,r=t?function(e){t(e.layout,n)}:function(){};n.model.waitForOpen?n.model.waitForOpen.promise.then(function(){n.model.Invalidated&&n.model.Invalidated.bind(function(){C(n.model).then(r)});C(n.model).then(function(e){r(e);i.resolve(e)})}):C(n.model).then(function(e){r(e);i.resolve(e)});return i.promise};q.prototype.addAlternateState=function(e){return p.appDoIt(this.model,"addAlternateState",[e])};q.prototype.removeAlternateState=function(e){return p.appDoIt(this.model,"removeAlternateState",[e])};q.prototype.doReload=function(e,t,n){this.fieldCache={};return p.appDoIt(this.model,"doReload",[e||0,t||false,n||false])};q.prototype.doSave=function(e){return p.appDoIt(this.model,"doSave",[e])};q.prototype.field=function(e,t){var n=t?e+"/"+t:e;this.fieldCache[n]||(this.fieldCache[n]=new l(this,e,t));return this.fieldCache[n]};q.prototype.table=function(e,t){return new d(this,e,t)};q.setErrorCallback=function(e,t){y=e;x=t};q.prototype.createTable=function(e,t,n){var i=p.createHypercubeDef(e,t,n);return new d(this,this.createGenericObject({qHyperCubeDef:i}))};q.prototype.selectionState=function(e){var t=e||"$";if(!this.stateCache[t]){var n=p.getDefaultListParam("CurrentSelections",{qStateName:t});this.stateCache[t]=new v(this,this.createGenericObject(n),t)}return this.stateCache[t]};q.prototype.getScript=function(){if(this.model.getScript)return this.model.getScript().then(function(e){return{qScript:e}});return this.model.rpc("GetScript")};q.prototype.setScript=function(e){var t=this.model;var n="function"===typeof this.model.setScript?function(e){return t.setScript(e)}:function(e){return t.rpc("SetScript",null,[e])};var i="function"===typeof this.model.checkScriptSyntax?function(){return t.checkScriptSyntax().then(function(e){return{qErrors:e}})}:function(){return t.rpc("CheckScriptSyntax")};function r(e,t){return t.qErrors&&t.qErrors.length>0?t:e}return n(e).then(function(e){return i().then(function(t){return r(e,t)})})};q.currApp=function(e){var t;t=e&&e.backendApi&&e.backendApi.model.session&&(e.backendApi.model.session.currentApp||e.backendApi.model.session.app)?e.backendApi.model.session.currentApp||e.backendApi.model.session.app:e&&e.backendApi&&e.backendApi.model.app?e.backendApi.model.app:n.current;if(!t)return null;w||(w=new q(t));if(w.model===t)return w;return new q(t)};q.openApp=function(i,r){p.initClient();i=i||"";r=r||{};this._qEvent&&(r._qEvent=this._qEvent);var o=p.makeConfig(r),s=n.makeCacheId(i,o),a,l;if(_[s])return _[s];a=y?function(e){y(e||{code:b.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:y;x&&(l=x);var u=n.getSync(i,o,true,a,l);if(u){var c=new q(u);c.close=function(){var t=new e;setTimeout(function(){delete _[s];t.resolve(u.close(false))},200);return t.promise};u.waitForOpen.promise.then(function(){document.addEventListener("onAppStateChanged",function(e){if(e.detail&&e.detail.inForegroundNow){t.getService("$delayedModal").close();u.enigmaModel.session.resume(true)}else if(e.detail&&!e.detail.inForegroundNow){c.fieldCache={};c.stateCache={};u.enigmaModel.session.suspend()}})});_[s]=c}return _[s]};q.sessionApp=function(e){return this.sessionAppFromApp("?transient=",e)};q.sessionAppFromApp=function(t,i){var r;p.initClient();var o=p.makeConfig(i),s=n.makeCacheId(t,o),a;o.identity=o.identity||"sessionapp";o.sessionApp={value:true,appId:t};a=function e(t){if(t&&1002===t.code){t.isHandled=true;return}y&&y({code:b.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})};var l=n.getSync(t,o,true,a,x);if(l){r=new q(l);r.close=function(){var t=new e;setTimeout(function(){delete _[s];t.resolve(l.close(false))},200);return t.promise}}return r};q.table=function(e,t){var n=q.currApp(e);return n.table(e,t)};q.prototype.on=function(e,t){this.qEvent.register({scope:"QApp",name:e,callback:t})};q.prototype.off=function(e){this.qEvent.clear(e)};return q}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(48),n(102),n(653),n(10)],r=function(e,t,n,i){t.service("qvChartTooltipService",["$document","$timeout",function(t,r){var o,s,a=t.find("body"),l=e.element('<div id="qs-chart-tooltip">').appendTo(a);var u,c,f=false;function d(){r.cancel(c);c=null;r.cancel(u);u=null}o={open:function e(t,n,a){f&&s&&s.hide();d();if(!s){var p=t.position;t.position=void 0;s=l.showComponent(i,t);t.position=p}l.attr("dir",t.dir);u=r(function(){n&&(c=r(function(){o.close()},n));f=true;s.show(t)},a)},close:function e(){this.Closed.emit();s&&r(function(){s.hide()});d()},destroy:function e(){f&&s&&s.hide();s=null}};n.create(o,"Closed");return o}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(119),n(717)],r=function(e,t){e.directive("tinyEditor",function(){return{template:t,replace:true,restrict:"E",scope:{value:"=",invalid:"=?",maxLength:"=?",onOpen:"&",onBlur:"&",alwaysExpression:"@?"},link:function e(t){t.editorValue=t.value;t.isExpression=n(t.editorValue);t.$watch("value",function(){if(t.value!==t.editorValue){t.isExpression=n(t.value);t.editorValue=t.value}});t.focused=function(){t.active=true};t.blurred=function(e){t.isExpression=n(t.editorValue);t.active=false;t.onBlur({$event:e})};t.open=function(e){t.onOpen({$event:e})};t.change=function(){t.value=t.editorValue};function n(e){var n="false"!==t.alwaysExpression;if(n)return(e||"").length>0;return"="===(e||"")[0]}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r,o;(function(s){true;!(r=[n(11)],i=s,o="function"===typeof i?i.apply(t,r):i,void 0!==o&&(e.exports=o))})(function(e){e.ui=e.ui||{};var t=e.ui.version="1.12.1";var n=0;var i=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events");i&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData);e.widget=function(t,n,i){var r,o,s;var a={};var l=t.split(".")[0];t=t.split(".")[1];var u=l+"-"+t;if(!i){i=n;n=e.Widget}e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i)));e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)};e[l]=e[l]||{};r=e[l][t];o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)};e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]});s=new n;s.options=e.widget.extend({},s.options);e.each(i,function(t,i){if(!e.isFunction(i)){a[t]=i;return}a[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t=this._super;var n=this._superApply;var o;this._super=e;this._superApply=r;o=i.apply(this,arguments);this._super=t;this._superApply=n;return o}}()});o.prototype=e.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:u});if(r){e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)});delete r._childConstructors}else n._childConstructors.push(o);e.widget.bridge(t,o);return o};e.widget.extend=function(t){var n=i.call(arguments,1);var r=0;var o=n.length;var s;var a;for(;r<o;r++)for(s in n[r]){a=n[r][s];n[r].hasOwnProperty(s)&&void 0!==a&&(e.isPlainObject(a)?t[s]=e.isPlainObject(t[s])?e.widget.extend({},t[s],a):e.widget.extend({},a):t[s]=a)}return t};e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"===typeof o;var a=i.call(arguments,1);var l=this;if(s)this.length||"instance"!==o?this.each(function(){var n;var i=e.data(this,r);if("instance"===o){l=i;return false}if(!i)return e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'");if(!e.isFunction(i[o])||"_"===o.charAt(0))return e.error("no such method '"+o+"' for "+t+" widget instance");n=i[o].apply(i,a);if(n!==i&&void 0!==n){l=n&&n.jquery?l.pushStack(n.get()):n;return false}}):l=void 0;else{a.length&&(o=e.widget.extend.apply(null,[o].concat(a)));this.each(function(){var t=e.data(this,r);if(t){t.option(o||{});t._init&&t._init()}else e.data(this,r,new n(o,this))})}return l}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0];this.element=e(i);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=e();this.hoverable=e();this.focusable=e();this.classesElementLookup={};if(i!==this){e.data(i,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){e.target===i&&this.destroy()}});this.document=e(i.style?i.ownerDocument:i.document||i);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy();e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i=t;var r;var o;var s;if(0===arguments.length)return e.widget.extend({},this.options);if("string"===typeof t){i={};r=t.split(".");t=r.shift();if(r.length){o=i[t]=e.widget.extend({},this.options[t]);for(s=0;s<r.length-1;s++){o[r[s]]=o[r[s]]||{};o=o[r[s]]}t=r.pop();if(1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];i[t]=n}}this._setOptions(i);return this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){"classes"===e&&this._setOptionClasses(t);this.options[e]=t;"disabled"===e&&this._setOptionDisabled(t);return this},_setOptionClasses:function(t){var n,i,r;for(n in t){r=this.classesElementLookup[n];if(t[n]===this.options.classes[n]||!r||!r.length)continue;i=e(r.get());this._removeClass(r,n);i.addClass(this._classes({element:i,keys:n,classes:t,add:true}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e);if(e){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(t){var n=[];var i=this;t=e.extend({element:this.element,classes:this.options.classes||{}},t);function r(r,o){var s,a;for(a=0;a<r.length;a++){s=i.classesElementLookup[r[a]]||e();s=t.add?e(e.unique(s.get().concat(t.element.get()))):e(s.not(t.element).get());i.classesElementLookup[r[a]]=s;n.push(r[a]);o&&t.classes[r[a]]&&n.push(t.classes[r[a]])}}this._on(t.element,{remove:"_untrackClassesElement"});t.keys&&r(t.keys.match(/\S+/g)||[],true);t.extra&&r(t.extra.match(/\S+/g)||[]);return n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,false)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,true)},_toggleClass:function(e,t,n,i){i="boolean"===typeof i?i:n;var r="string"===typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};o.element.toggleClass(this._classes(o),i);return this},_on:function(t,n,i){var r;var o=this;if("boolean"!==typeof t){i=n;n=t;t=false}if(i){n=r=e(n);this.bindings=this.bindings.add(n)}else{i=n;n=this.element;r=this.widget()}e.each(i,function(i,s){function a(){if(!t&&(true===o.options.disabled||e(this).hasClass("ui-state-disabled")))return;return("string"===typeof s?o[s]:s).apply(o,arguments)}"string"!==typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/);var u=l[1]+o.eventNamespace;var c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(n).off(n);this.bindings=e(this.bindings.not(t).get());this.focusable=e(this.focusable.not(t).get());this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"===typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o;var s=this.options[t];i=i||{};n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();n.target=this.element[0];o=n.originalEvent;if(o)for(r in o)r in n||(n[r]=o[r]);this.element.trigger(n,i);return!(e.isFunction(s)&&false===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"===typeof r&&(r={effect:r});var s;var a=r?true===r||"number"===typeof r?n:r.effect||n:t;r=r||{};"number"===typeof r&&(r={duration:r});s=!e.isEmptyObject(r);r.complete=o;r.delay&&i.delay(r.delay);s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t]();o&&o.call(i[0]);n()})}});var r=e.widget;(function(){var t,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,u=e.fn.position;function c(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function f(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];if(9===n.nodeType)return{width:t.width(),height:t.height(),offset:{top:0,left:0}};if(e.isWindow(n))return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}};if(n.preventDefault)return{width:0,height:0,offset:{top:n.pageY,left:n.pageX}};return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var n,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];e("body").append(r);n=o.offsetWidth;r.css("overflow","scroll");i=o.offsetWidth;n===i&&(i=r[0].clientWidth);r.remove();return t=n-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of)return u.apply(this,arguments);t=e.extend({},t);var l,p,h,v,m,g,b=e(t.of),y=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(y),_=(t.collision||"flip").split(" "),w={};g=d(b);b[0].preventDefault&&(t.at="left top");p=g.width;h=g.height;v=g.offset;m=e.extend({},v);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,i;1===e.length&&(e=r.test(e[0])?e.concat(["center"]):o.test(e[0])?["center"].concat(e):["center","center"]);e[0]=r.test(e[0])?e[0]:"center";e[1]=o.test(e[1])?e[1]:"center";n=s.exec(e[0]);i=s.exec(e[1]);w[this]=[n?n[0]:0,i?i[0]:0];t[this]=[a.exec(e[0])[0],a.exec(e[1])[0]]});1===_.length&&(_[1]=_[0]);"right"===t.at[0]?m.left+=p:"center"===t.at[0]&&(m.left+=p/2);"bottom"===t.at[1]?m.top+=h:"center"===t.at[1]&&(m.top+=h/2);l=c(w.at,p,h);m.left+=l[0];m.top+=l[1];return this.each(function(){var r,o,s=e(this),a=s.outerWidth(),u=s.outerHeight(),d=f(this,"marginLeft"),g=f(this,"marginTop"),q=a+d+f(this,"marginRight")+x.width,C=u+g+f(this,"marginBottom")+x.height,S=e.extend({},m),E=c(w.my,s.outerWidth(),s.outerHeight());"right"===t.my[0]?S.left-=a:"center"===t.my[0]&&(S.left-=a/2);"bottom"===t.my[1]?S.top-=u:"center"===t.my[1]&&(S.top-=u/2);S.left+=E[0];S.top+=E[1];r={marginLeft:d,marginTop:g};e.each(["left","top"],function(n,i){e.ui.position[_[n]]&&e.ui.position[_[n]][i](S,{targetWidth:p,targetHeight:h,elemWidth:a,elemHeight:u,collisionPosition:r,collisionWidth:q,collisionHeight:C,offset:[l[0]+E[0],l[1]+E[1]],my:t.my,at:t.at,within:y,elem:s})});t.using&&(o=function(e){var r=v.left-S.left,o=r+p-a,l=v.top-S.top,c=l+h-u,f={target:{element:b,left:v.left,top:v.top,width:p,height:h},element:{element:s,left:S.left,top:S.top,width:a,height:u},horizontal:o<0?"left":r>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};p<a&&i(r+o)<p&&(f.horizontal="center");h<u&&i(l+c)<h&&(f.vertical="middle");n(i(r),i(o))>n(i(l),i(c))?f.important="horizontal":f.important="vertical";t.using.call(this,e,f)});s.offset(e.extend(S,{using:o}))})};e.ui.position={fit:{left:function(e,t){var i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,a=r-s,l=s+t.collisionWidth-o-r,u;if(t.collisionWidth>o)if(a>0&&l<=0){u=e.left+a+t.collisionWidth-o-r;e.left+=a-u}else e.left=l>0&&a<=0?r:a>l?r+o-t.collisionWidth:r;else a>0?e.left+=a:l>0?e.left-=l:e.left=n(e.left-s,e.left)},top:function(e,t){var i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,a=r-s,l=s+t.collisionHeight-o-r,u;if(t.collisionHeight>o)if(a>0&&l<=0){u=e.top+a+t.collisionHeight-o-r;e.top+=a-u}else e.top=l>0&&a<=0?r:a>l?r+o-t.collisionHeight:r;else a>0?e.top+=a:l>0?e.top-=l:e.top=n(e.top-s,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,o=n.width,s=n.isWindow?n.scrollLeft:n.offset.left,a=e.left-t.collisionPosition.marginLeft,l=a-s,u=a+t.collisionWidth-o-s,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0],p,h;if(l<0){p=e.left+c+f+d+t.collisionWidth-o-r;(p<0||p<i(l))&&(e.left+=c+f+d)}else if(u>0){h=e.left-t.collisionPosition.marginLeft+c+f+d-s;(h>0||i(h)<u)&&(e.left+=c+f+d)}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,o=n.height,s=n.isWindow?n.scrollTop:n.offset.top,a=e.top-t.collisionPosition.marginTop,l=a-s,u=a+t.collisionHeight-o-s,c="top"===t.my[1],f=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1],h,v;if(l<0){v=e.top+f+d+p+t.collisionHeight-o-r;(v<0||v<i(l))&&(e.top+=f+d+p)}else if(u>0){h=e.top-t.collisionPosition.marginTop+f+d+p-s;(h>0||i(h)<u)&&(e.top+=f+d+p)}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}}})();var o=e.ui.position;var s=e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}});var a=e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var l="ui-effects-",u="ui-effects-style",c="ui-effects-animated",f=e;e.effects={effect:{}};(function(e,t){var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},l=o.support={},u=e("<p>")[0],c,f=e.each;u.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=u.style.backgroundColor.indexOf("rgba")>-1;f(s,function(e,t){t.cache="_"+e;t.props.alpha={idx:3,type:"percent",def:1}});function d(e,t,n){var i=a[t.type]||{};if(null==e)return n||!t.def?null:t.def;e=i.floor?~~e:parseFloat(e);if(isNaN(e))return t.def;if(i.mod)return(e+i.mod)%i.mod;return 0>e?0:i.max<e?i.max:e}function p(t){var n=o(),i=n._rgba=[];t=t.toLowerCase();f(r,function(e,r){var o,a=r.re.exec(t),l=a&&r.parse(a),u=r.space||"rgba";if(l){o=n[u](l);n[s[u].cache]=o[s[u].cache];i=n._rgba=o._rgba;return false}});if(i.length){"0,0,0,0"===i.join()&&e.extend(i,c.transparent);return n}return c[t]}o.fn=e.extend(o.prototype,{parse:function(n,i,r,a){if(n===t){this._rgba=[null,null,null,null];return this}if(n.jquery||n.nodeType){n=e(n).css(i);i=t}var l=this,u=e.type(n),h=this._rgba=[];if(i!==t){n=[n,i,r,a];u="array"}if("string"===u)return this.parse(p(n)||c._default);if("array"===u){f(s.rgba.props,function(e,t){h[t.idx]=d(n[t.idx],t)});return this}if("object"===u){f(s,n instanceof o?function(e,t){n[t.cache]&&(l[t.cache]=n[t.cache].slice())}:function(t,i){var r=i.cache;f(i.props,function(e,t){if(!l[r]&&i.to){if("alpha"===e||null==n[e])return;l[r]=i.to(l._rgba)}l[r][t.idx]=d(n[e],t,true)});if(l[r]&&e.inArray(null,l[r].slice(0,3))<0){l[r][3]=1;i.from&&(l._rgba=i.from(l[r]))}});return this}},is:function(e){var t=o(e),n=true,i=this;f(s,function(e,r){var o,s=t[r.cache];if(s){o=i[r.cache]||r.to&&r.to(i._rgba)||[];f(r.props,function(e,t){if(null!=s[t.idx]){n=s[t.idx]===o[t.idx];return n}})}return n});return n},_space:function(){var e=[],t=this;f(s,function(n,i){t[i.cache]&&e.push(n)});return e.pop()},transition:function(e,t){var n=o(e),i=n._space(),r=s[i],l=0===this.alpha()?o("transparent"):this,u=l[r.cache]||r.to(l._rgba),c=u.slice();n=n[r.cache];f(r.props,function(e,i){var r=i.idx,o=u[r],s=n[r],l=a[i.type]||{};if(null===s)return;if(null===o)c[r]=s;else{l.mod&&(s-o>l.mod/2?o+=l.mod:o-s>l.mod/2&&(o-=l.mod));c[r]=d((s-o)*t+o,i)}});return this[i](c)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(t)._rgba;return o(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});if(1===n[3]){n.pop();t="rgb("}return t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){null==e&&(e=t>2?1:0);t&&t<3&&(e=Math.round(100*e)+"%");return e});if(1===n[3]){n.pop();t="hsl("}return t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();t&&n.push(~~(255*i));return"#"+e.map(n,function(e){e=(e||0).toString(16);return 1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});o.fn.parse.prototype=o.fn;function h(e,t,n){n=(n+1)%1;if(6*n<1)return e+(t-e)*n*6;if(2*n<1)return t;if(3*n<2)return e+(t-e)*(2/3-n)*6;return e}s.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=e[3],o=Math.max(t,n,i),s=Math.min(t,n,i),a=o-s,l=o+s,u=.5*l,c,f;c=s===o?0:t===o?60*(n-i)/a+360:n===o?60*(i-t)/a+120:60*(t-n)/a+240;f=0===a?0:u<=.5?a/l:a/(2-l);return[Math.round(c)%360,f,u,null==r?1:r]};s.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*h(s,o,t+1/3)),Math.round(255*h(s,o,t)),Math.round(255*h(s,o,t-1/3)),r]};f(s,function(n,r){var s=r.props,a=r.cache,l=r.to,u=r.from;o.fn[n]=function(n){l&&!this[a]&&(this[a]=l(this._rgba));if(n===t)return this[a].slice();var i,r=e.type(n),c="array"===r||"object"===r?n:arguments,p=this[a].slice();f(s,function(e,t){var n=c["object"===r?e:t.idx];null==n&&(n=p[t.idx]);p[t.idx]=d(n,t)});if(u){i=o(u(p));i[a]=p;return i}return o(p)};f(s,function(t,r){if(o.fn[t])return;o.fn[t]=function(o){var s=e.type(o),a="alpha"===t?this._hsla?"hsla":"rgba":n,l=this[a](),u=l[r.idx],c;if("undefined"===s)return u;if("function"===s){o=o.call(this,u);s=e.type(o)}if(null==o&&r.empty)return this;if("string"===s){c=i.exec(o);c&&(o=u+parseFloat(c[2])*("+"===c[1]?1:-1))}l[r.idx]=o;return this[a](l)}})});o.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,i){var r,s,a="";if("transparent"!==i&&("string"!==e.type(i)||(r=p(i)))){i=o(r||i);if(!l.rgba&&1!==i._rgba[3]){s="backgroundColor"===n?t.parentNode:t;while((""===a||"transparent"===a)&&s&&s.style)try{a=e.css(s,"backgroundColor");s=s.parentNode}catch(e){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{t.style[n]=i}catch(e){}}};e.fx.step[n]=function(t){if(!t.colorInit){t.start=o(t.elem,n);t.end=o(t.end);t.colorInit=true}e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})};o.hook(n);e.cssHooks.borderColor={expand:function(e){var t={};f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e});return t}};c=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(f);(function(){var t=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr){f.style(e.elem,n,e.end);e.setAttr=true}}});function i(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]]){i=r.length;while(i--){n=r[i];"string"===typeof r[n]&&(o[e.camelCase(n)]=r[n])}}else for(n in r)"string"===typeof r[n]&&(o[n]=r[n]);return o}function r(t,i){var r={},o,s;for(o in i){s=i[o];t[o]!==s&&(n[o]||!e.fx.step[o]&&isNaN(parseFloat(s))||(r[o]=s))}return r}e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});e.effects.animateClass=function(n,o,s,a){var l=e.speed(o,s,a);return this.queue(function(){var o=e(this),s=o.attr("class")||"",a,u=l.children?o.find("*").addBack():o;u=u.map(function(){var t=e(this);return{el:t,start:i(this)}});a=function(){e.each(t,function(e,t){n[t]&&o[t+"Class"](n[t])})};a();u=u.map(function(){this.end=i(this.el[0]);this.diff=r(this.start,this.end);return this});o.attr("class",s);u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:false,complete:function(){n.resolve(t)}});this.el.animate(this.diff,i);return n.promise()});e.when.apply(e,u.get()).done(function(){a();e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})});l.complete.call(o[0])})})};e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,s){return"boolean"===typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})})();(function(){e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(c)||t(n)}}(e.expr.filters.animated));false!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){var n=0,i=t.length;for(;n<i;n++)null!==t[n]&&e.data(l+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i=0,r=t.length;for(;i<r;i++)if(null!==t[i]){n=e.data(l+t[i]);e.css(t[i],n)}},setMode:function(e,t){"toggle"===t&&(t=e.is(":hidden")?"show":"hide");return t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(true),height:t.outerHeight(true),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}t.wrap(i);(t[0]===o||e.contains(t[0],o))&&e(o).trigger("focus");i=t.parent();if("static"===t.css("position")){i.css({position:"relative"});t.css({position:"relative"})}else{e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")});e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i);isNaN(parseInt(n[i],10))&&(n[i]="auto")});t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}t.css(r);return i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;if(t.parent().is(".ui-effects-wrapper")){t.parent().replaceWith(t);(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")}return t}});e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){if(!i){i=n;n="effect"}e.effects.effect[t]=i;e.effects.effect[t].mode=n;return i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n)));e.dequeue()},saveStyle:function(e){e.data(u,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(u)||"";e.removeData(u)},mode:function(e,t){var n=e.is(":hidden");"toggle"===t&&(t=n?"show":"hide");(n?"hide"===t:"show"===t)&&(t="none");return t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),r=t.position();t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight());if(/^(static|relative)/.test(i)){i="absolute";n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder");t.data(l+"placeholder",n)}t.css({position:i,left:r.left,top:r.top});return n},removePlaceholder:function(e){var t=l+"placeholder",n=e.data(t);if(n){n.remove();e.removeData(t)}},cleanUp:function(t){e.effects.restoreStyle(t);e.effects.removePlaceholder(t)},setTransition:function(t,n,i,r){r=r||{};e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])});return r}});function t(t,n,i,r){if(e.isPlainObject(t)){n=t;t=t.effect}t={effect:t};null==n&&(n={});if(e.isFunction(n)){r=n;i=null;n={}}if("number"===typeof n||e.fx.speeds[n]){r=i;i=n;n={}}if(e.isFunction(i)){r=i;i=null}n&&e.extend(t,n);i=i||n.duration;t.duration=e.fx.off?0:"number"===typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default;t.complete=r||n.complete;return t}function n(t){if(!t||"number"===typeof t||e.fx.speeds[t])return true;if("string"===typeof t&&!e.effects.effect[t])return true;if(e.isFunction(t))return true;if("object"===typeof t&&!t.effect)return true;return false}e.fn.extend({effect:function(){var n=t.apply(this,arguments),i=e.effects.effect[n.effect],r=i.mode,o=n.queue,s=o||"fx",a=n.complete,l=n.mode,u=[],f=function(t){var n=e(this),i=e.effects.mode(n,l)||r;n.data(c,true);u.push(i);r&&("show"===i||i===r&&"hide"===i)&&n.show();r&&"none"===i||e.effects.saveStyle(n);e.isFunction(t)&&t()};if(e.fx.off||!i)return l?this[l](n.duration,a):this.each(function(){a&&a.call(this)});function d(t){var o=e(this);function s(){o.removeData(c);e.effects.cleanUp(o);"hide"===n.mode&&o.hide();f()}function f(){e.isFunction(a)&&a.call(o[0]);e.isFunction(t)&&t()}n.mode=u.shift();if(false===e.uiBackCompat||r)if("none"===n.mode){o[l]();f()}else i.call(o[0],n,s);else if(o.is(":hidden")?"hide"===l:"show"===l){o[l]();f()}else i.call(o[0],n,f)}return false===o?this.each(f).each(d):this.queue(s,f).queue(s,d)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);r.mode="show";return this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);r.mode="hide";return this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"===typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);r.mode="toggle";return this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])});return i},cssClip:function(e){if(e)return this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)");return i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),s=e("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},f=i.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:f.top-a,left:f.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){d.remove();e.isFunction(n)&&n()})}});function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(e)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}e.fx.step.clip=function(t){if(!t.clipInit){t.start=e(t.elem).cssClip();"string"===typeof t.end&&(t.end=i(t.end,t.elem));t.clipInit=true}e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}})();(function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}});e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}});e.each(t,function(t,n){e.easing["easeIn"+t]=n;e.easing["easeOut"+t]=function(e){return 1-n(1-e)};e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})})();var d=e.effects;var p=e.effects.define("blind","hide",function(t,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),o=t.direction||"up",s=r.cssClip(),a={clip:e.extend({},s)},l=e.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]];if("show"===t.mode){r.cssClip(a.clip);l&&l.css(e.effects.clipToBox(a));a.clip=s}l&&l.animate(e.effects.clipToBox(a),t.duration,t.easing);r.animate(a,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var h=e.effects.define("bounce",function(t,n){var i,r,o,s=e(this),a=t.mode,l="hide"===a,u="show"===a,c=t.direction||"up",f=t.distance,d=t.times||5,p=2*d+(u||l?1:0),h=t.duration/p,v=t.easing,m="up"===c||"down"===c?"top":"left",g="up"===c||"left"===c,b=0,y=s.queue().length;e.effects.createPlaceholder(s);o=s.css(m);f||(f=s["top"===m?"outerHeight":"outerWidth"]()/3);if(u){r={opacity:1};r[m]=o;s.css("opacity",0).css(m,g?2*-f:2*f).animate(r,h,v)}l&&(f/=Math.pow(2,d-1));r={};r[m]=o;for(;b<d;b++){i={};i[m]=(g?"-=":"+=")+f;s.animate(i,h,v).animate(r,h,v);f=l?2*f:f/2}if(l){i={opacity:0};i[m]=(g?"-=":"+=")+f;s.animate(i,h,v)}s.queue(n);e.effects.unshift(s,y,p+1)});var v=e.effects.define("clip","hide",function(t,n){var i,r={},o=e(this),s=t.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=o.cssClip();r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left};e.effects.createPlaceholder(o);if("show"===t.mode){o.cssClip(r.clip);r.clip=i}o.animate(r,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var m=e.effects.define("drop","hide",function(t,n){var i,r=e(this),o=t.mode,s="show"===o,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a?"-=":"+=",c="+="===u?"-=":"+=",f={opacity:0};e.effects.createPlaceholder(r);i=t.distance||r["top"===l?"outerHeight":"outerWidth"](true)/2;f[l]=u+i;if(s){r.css(f);f[l]=c+i;f.opacity=1}r.animate(f,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var g=e.effects.define("explode","hide",function(t,n){var i,r,o,s,a,l,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=u,f=e(this),d=t.mode,p="show"===d,h=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/c),m=Math.ceil(f.outerHeight()/u),g=[];function b(){g.push(this);g.length===u*c&&y()}for(i=0;i<u;i++){s=h.top+i*m;l=i-(u-1)/2;for(r=0;r<c;r++){o=h.left+r*v;a=r-(c-1)/2;f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:m,left:o+(p?a*v:0),top:s+(p?l*m:0),opacity:p?0:1}).animate({left:o+(p?0:a*v),top:s+(p?0:l*m),opacity:p?1:0},t.duration||500,t.easing,b)}}function y(){f.css({visibility:"visible"});e(g).remove();n()}});var b=e.effects.define("fade","toggle",function(t,n){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:false,duration:t.duration,easing:t.easing,complete:n})});var y=e.effects.define("fold","hide",function(t,n){var i=e(this),r=t.mode,o="show"===r,s="hide"===r,a=t.size||15,l=/([0-9]+)%/.exec(a),u=!!t.horizFirst,c=u?["right","bottom"]:["bottom","right"],f=t.duration/2,d=e.effects.createPlaceholder(i),p=i.cssClip(),h={clip:e.extend({},p)},v={clip:e.extend({},p)},m=[p[c[0]],p[c[1]]],g=i.queue().length;l&&(a=parseInt(l[1],10)/100*m[s?0:1]);h.clip[c[0]]=a;v.clip[c[0]]=a;v.clip[c[1]]=0;if(o){i.cssClip(v.clip);d&&d.css(e.effects.clipToBox(v));v.clip=p}i.queue(function(n){d&&d.animate(e.effects.clipToBox(h),f,t.easing).animate(e.effects.clipToBox(v),f,t.easing);n()}).animate(h,f,t.easing).animate(v,f,t.easing).queue(n);e.effects.unshift(i,g,4)});var x=e.effects.define("highlight","show",function(t,n){var i=e(this),r={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(r.opacity=0);e.effects.saveStyle(i);i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var _=e.effects.define("size",function(t,n){var i,r,o,s=e(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.mode,f="effect"!==c,d=t.scale||"both",p=t.origin||["middle","center"],h=s.css("position"),v=s.position(),m=e.effects.scaledDimensions(s),g=t.from||m,b=t.to||e.effects.scaledDimensions(s,0);e.effects.createPlaceholder(s);if("show"===c){o=g;g=b;b=o}r={from:{y:g.height/m.height,x:g.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}};if("box"===d||"both"===d){if(r.from.y!==r.to.y){g=e.effects.setTransition(s,l,r.from.y,g);b=e.effects.setTransition(s,l,r.to.y,b)}if(r.from.x!==r.to.x){g=e.effects.setTransition(s,u,r.from.x,g);b=e.effects.setTransition(s,u,r.to.x,b)}}if(("content"===d||"both"===d)&&r.from.y!==r.to.y){g=e.effects.setTransition(s,a,r.from.y,g);b=e.effects.setTransition(s,a,r.to.y,b)}if(p){i=e.effects.getBaseline(p,m);g.top=(m.outerHeight-g.outerHeight)*i.y+v.top;g.left=(m.outerWidth-g.outerWidth)*i.x+v.left;b.top=(m.outerHeight-b.outerHeight)*i.y+v.top;b.left=(m.outerWidth-b.outerWidth)*i.x+v.left}s.css(g);if("content"===d||"both"===d){l=l.concat(["marginTop","marginBottom"]).concat(a);u=u.concat(["marginLeft","marginRight"]);s.find("*[width]").each(function(){var n=e(this),i=e.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};if(r.from.y!==r.to.y){o=e.effects.setTransition(n,l,r.from.y,o);s=e.effects.setTransition(n,l,r.to.y,s)}if(r.from.x!==r.to.x){o=e.effects.setTransition(n,u,r.from.x,o);s=e.effects.setTransition(n,u,r.to.x,s)}f&&e.effects.saveStyle(n);n.css(o);n.animate(s,t.duration,t.easing,function(){f&&e.effects.restoreStyle(n)})})}s.animate(b,{queue:false,duration:t.duration,easing:t.easing,complete:function(){var t=s.offset();0===b.opacity&&s.css("opacity",g.opacity);if(!f){s.css("position","static"===h?"relative":h).offset(t);e.effects.saveStyle(s)}n()}})});var w=e.effects.define("scale",function(t,n){var i=e(this),r=t.mode,o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==r?0:100),s=e.extend(true,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,o,t.direction||"both"),origin:t.origin||["middle","center"]},t);if(t.fade){s.from.opacity=1;s.to.opacity=0}e.effects.effect.size.call(this,s,n)});var q=e.effects.define("puff","hide",function(t,n){var i=e.extend(true,{},t,{fade:true,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,n)});var C=e.effects.define("pulsate","show",function(t,n){var i=e(this),r=t.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(t.times||5)+(a?1:0),u=t.duration/l,c=0,f=1,d=i.queue().length;if(o||!i.is(":visible")){i.css("opacity",0).show();c=1}for(;f<l;f++){i.animate({opacity:c},u,t.easing);c=1-c}i.animate({opacity:c},u,t.easing);i.queue(n);e.effects.unshift(i,d,l+1)});var S=e.effects.define("shake",function(t,n){var i=1,r=e(this),o=t.direction||"left",s=t.distance||20,a=t.times||3,l=2*a+1,u=Math.round(t.duration/l),c="up"===o||"down"===o?"top":"left",f="up"===o||"left"===o,d={},p={},h={},v=r.queue().length;e.effects.createPlaceholder(r);d[c]=(f?"-=":"+=")+s;p[c]=(f?"+=":"-=")+2*s;h[c]=(f?"-=":"+=")+2*s;r.animate(d,u,t.easing);for(;i<a;i++)r.animate(p,u,t.easing).animate(h,u,t.easing);r.animate(p,u,t.easing).animate(d,u/2,t.easing).queue(n);e.effects.unshift(r,v,l+1)});var E=e.effects.define("slide","show",function(t,n){var i,r,o=e(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,f=t.distance||o["top"===u?"outerHeight":"outerWidth"](true),d={};e.effects.createPlaceholder(o);i=o.cssClip();r=o.position()[u];d[u]=(c?-1:1)*f+r;d.clip=o.cssClip();d.clip[s[l][1]]=d.clip[s[l][0]];if("show"===a){o.cssClip(d.clip);o.css(u,d[u]);d.clip=i;d[u]=r}o.animate(d,{queue:false,duration:t.duration,easing:t.easing,complete:n})});var d;false!==e.uiBackCompat&&(d=e.effects.define("transfer",function(t,n){e(this).transfer(t,n)}));var D=d;e.ui.focusable=function(t,n){var i,r,o,s,a,l=t.nodeName.toLowerCase();if("area"===l){i=t.parentNode;r=i.name;if(!t.href||!r||"map"!==i.nodeName.toLowerCase())return false;o=e("img[usemap='#"+r+"']");return o.length>0&&o.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(l)){s=!t.disabled;if(s){a=e(t).closest("fieldset")[0];a&&(s=!a.disabled)}}else s="a"===l&&t.href||n;return s&&e(t).is(":visible")&&O(e(t))};function O(e){var t=e.css("visibility");while("inherit"===t){e=e.parent();t=e.css("visibility")}return"hidden"!==t}e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});var A=e.ui.focusable;var L=e.fn.form=function(){return"string"===typeof this[0].form?this.closest("form"):e(this[0].form)};var I=e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length)return;var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler);e.push(this);this.form.data("ui-form-reset-instances",e)},_unbindFormResetHandler:function(){if(!this.form.length)return;var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1);t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}};if("1.7"===e.fn.jquery.substring(0,3)){e.each(["Width","Height"],function(t,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function s(t,n,r,o){e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0;r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0);o&&(n-=parseFloat(e.css(t,"margin"+this))||0)});return n}e.fn["inner"+n]=function(t){if(void 0===t)return o["inner"+n].call(this);return this.each(function(){e(this).css(r,s(this,t)+"px")})};e.fn["outer"+n]=function(t,i){if("number"!==typeof t)return o["outer"+n].call(this,t);return this.each(function(){e(this).css(r,s(this,t,true,i)+"px")})}});e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}var T=e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var k=e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}();var P=e.fn.labels=function(){var t,n,i,r,o;if(this[0].labels&&this[0].labels.length)return this.pushStack(this[0].labels);r=this.eq(0).parents("label");i=this.attr("id");if(i){t=this.eq(0).parents().last();o=t.add(t.length?t.siblings():this.siblings());n="label[for='"+e.ui.escapeSelector(i)+"']";r=r.add(o.find(n).addBack(n))}return this.pushStack(r)};var M=e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);if(i&&"static"===t.css("position"))return false;return r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)};var R=e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}});var N=e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}});var F=e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");t.collapsible||false!==t.active&&null!=t.active||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,i=this.options.icons;if(i){t=e("<span>");this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header);t.prependTo(this.headers);n=this.active.children(".ui-accordion-header-icon");this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){if("active"===e){this._activate(t);return}if("event"===e){this.options.event&&this._off(this.headers,this.options.event);this._setupEvents(t)}this._super(e,t);"collapsible"!==e||t||false!==this.options.active||this._activate(0);if("icons"===e){this._destroyIcons();t&&this._createIcons()}},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",e);this._toggleClass(null,"ui-state-disabled",!!e);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(t.altKey||t.ctrlKey)return;var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=false;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1];break}if(o){e(t.target).attr("tabIndex",-1);e(o).attr("tabIndex",0);e(o).trigger("focus");t.preventDefault()}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels();if(false===t.active&&true===t.collapsible||!this.headers.length){t.active=false;this.active=e()}else if(false===t.active)this._activate(0);else if(this.active.length&&!e.contains(this.element[0],this.active[0]))if(this.headers.length===this.headers.find(".ui-state-disabled").length){t.active=false;this.active=e()}else this._activate(Math.max(0,t.active-1));else t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(t){this._off(e.not(this.headers));this._off(t.not(this.panels))}},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r);i.attr("aria-labelledby",n)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(n.event);if("fill"===i){t=r.height();this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");if("absolute"===i||"fixed"===i)return;t-=n.outerHeight(true)});this.headers.each(function(){t-=e(this).outerHeight(true)});this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else if("auto"===i){t=0;this.headers.next().each(function(){var n=e(this).is(":visible");n||e(this).show();t=Math.max(t,e(this).css("height","").height());n||e(this).hide()}).height(t)}},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0])return;n=n||this.active[0];this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return"number"===typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,n);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var n,i,r=this.options,o=this.active,s=e(t.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,u=l?e():s.next(),c=o.next(),f={oldHeader:o,oldPanel:c,newHeader:l?e():s,newPanel:u};t.preventDefault();if(a&&!r.collapsible||false===this._trigger("beforeActivate",t,f))return;r.active=!l&&this.headers.index(s);this.active=a?e():s;this._toggle(f);this._removeClass(o,"ui-accordion-header-active","ui-state-active");if(r.icons){n=o.children(".ui-accordion-header-icon");this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)}if(!a){this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active");if(r.icons){i=s.children(".ui-accordion-header-icon");this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)}this._addClass(s.next(),"ui-accordion-content-active")}},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=n;this.prevHide=i;if(this.options.animate)this._animate(n,i,t);else{i.hide();n.show();this._toggleComplete(t)}i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1);n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,s=this,a=0,l=e.css("box-sizing"),u=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},f=u&&c.down||c,d=function(){s._toggleComplete(n)};"number"===typeof f&&(o=f);"string"===typeof f&&(r=f);r=r||f.easing||c.easing;o=o||f.duration||c.duration;if(!t.length)return e.animate(this.showProps,o,r,d);if(!e.length)return t.animate(this.hideProps,o,r,d);i=e.show().outerHeight();t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}});e.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(e,n){n.now=Math.round(e);if("height"!==n.prop)"content-box"===l&&(a+=n.now);else if("content"!==s.options.heightStyle){n.now=Math.round(i-t.outerHeight()-a);a=0}}})},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,e)}});var j=e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}t||(t=e.body);t.nodeName||(t=e.body);return t};var V=e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);var i=e(e.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&n.not(".ui-state-disabled").length){this.select(t);t.isPropagationStopped()||(this.mouseHandled=true);if(n.has(".ui-menu").length)this.expand(t);else if(!this.element.is(":focus")&&i.closest(".ui-menu").length){this.element.trigger("focus",[true]);this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)}}},"mouseenter .ui-menu-item":function(t){if(this.previousFilter)return;var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);if(n[0]!==i[0])return;this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){var n=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e);this.mouseHandled=false}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();n.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,i,r,o,s=true;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=false;i=this.previousFilter||"";o=false;r=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode);clearTimeout(this.filterTimer);r===i?o=true:r=i+r;n=this._filterMenuItems(r);n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n;if(!n.length){r=String.fromCharCode(t.keyCode);n=this._filterMenuItems(r)}if(n.length){this.focus(t,n);this.previousFilter=r;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",true);s._addClass(i,"ui-menu-icon","ui-icon "+a);n.attr("aria-haspopup","true").prepend(i);t.attr("aria-labelledby",n.attr("id"))});this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front");t=l.add(this.element);n=t.find(this.options.items);n.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")});r=n.not(".ui-menu-item, .ui-menu-divider");o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper");n.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",String(e));this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type);this._scrollIntoView(t);this.active=t.first();i=this.active.children(".ui-menu-item-wrapper");this._addClass(i,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",i.attr("id"));r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);n=t.children(".ui-menu");n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n);this.activeMenu=t.parent();this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;if(this._hasScroll()){n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0;i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0;r=t.offset().top-this.activeMenu.offset().top-n-i;o=this.activeMenu.scrollTop();s=this.activeMenu.height();a=t.outerHeight();r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a)}},blur:function(e,t){t||clearTimeout(this.timer);if(!this.active)return;this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",e,{item:this.active});this.active=null},_startOpening:function(e){clearTimeout(this.timer);if("true"!==e.attr("aria-hidden"))return;this.timer=this._delay(function(){this._close();this._open(e)},this.delay)},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer);this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element);this._close(i);this.blur(t);this._removeClass(i.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element);e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(t&&t.length){this._close();this.focus(e,t)}},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(t&&t.length){this._open(t.parent());this._delay(function(){this.focus(e,t)})}},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0));i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]());this.focus(n,i)},nextPage:function(t){var n,i,r;if(!this.active){this.next(t);return}if(this.isLastItem())return;if(this._hasScroll()){i=this.active.offset().top;r=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){n=e(this);return n.offset().top-i-r<0});this.focus(t,n)}else this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())},previousPage:function(t){var n,i,r;if(!this.active){this.next(t);return}if(this.isFirstItem())return;if(this._hasScroll()){i=this.active.offset().top;r=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){n=e(this);return n.offset().top-i+r>0});this.focus(t,n)}else this.focus(t,this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,true);this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}});e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element);this.valueMethod=this.element[o||s?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly")){t=true;i=true;n=true;return}t=false;i=false;n=false;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=true;this._move("previousPage",r);break;case o.PAGE_DOWN:t=true;this._move("nextPage",r);break;case o.UP:t=true;this._keyEvent("previous",r);break;case o.DOWN:t=true;this._keyEvent("next",r);break;case o.ENTER:if(this.menu.active){t=true;r.preventDefault();this.menu.select(r)}break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:if(this.menu.element.is(":visible")){this.isMultiLine||this._value(this.term);this.close(r);r.preventDefault()}break;default:n=true;this._searchTimeout(r);break}},keypress:function(i){if(t){t=false;this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault();return}if(n)return;var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i);break}},input:function(e){if(i){i=false;e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(e);this._change(e)}});this._initSource();this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var i,r;if(this.isNewMenu){this.isNewMenu=false;if(t.originalEvent&&/^mouse/.test(t.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});return}}r=n.item.data("ui-autocomplete-item");false!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value);i=n.item.attr("aria-label")||r.value;if(i&&e.trim(i).length){this.liveRegion.children().hide();e("<div>").text(i).appendTo(this.liveRegion)}},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;if(this.element[0]!==e.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=r;this._delay(function(){this.previous=r;this.selectedItem=i})}false!==this._trigger("select",t,{item:i})&&this._value(i.value);this.term=this._value();this.close(t);this.selectedItem=i}});this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t);"source"===e&&this._initSource();"appendTo"===e&&this.menu.element.appendTo(this._appendTo());"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0));t&&t[0]||(t=this.element.closest(".ui-front, dialog"));t.length||(t=this.document[0].body);return t},_initSource:function(){var t,n,i=this;if(e.isArray(this.options.source)){t=this.options.source;this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}}else if("string"===typeof this.options.source){n=this.options.source;this.source=function(t,r){i.xhr&&i.xhr.abort();i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}}else this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(!t||t&&!n&&!i){this.selectedItem=null;this.search(null,e)}},this.options.delay)},search:function(e,t){e=null!=e?e:this._value();this.term=this._value();if(e.length<this.options.minLength)return this.close(t);if(false===this._trigger("search",t))return;return this._search(e)},_search:function(e){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e));this._trigger("response",null,{content:e});if(!this.options.disabled&&e&&e.length&&!this.cancelSearch){this._suggest(e);this._trigger("open")}else this._close()},close:function(e){this.cancelSearch=true;this._close(e)},_close:function(e){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",e)}},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){if(t.length&&t[0].label&&t[0].value)return t;return e.map(t,function(t){if("string"===typeof t)return{label:t,value:t};return e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t);this.isNewMenu=true;this.menu.refresh();n.show();this._resizeMenu();n.position(e.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this.isMultiLine||this._value(this.term);this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,t);t.preventDefault()}},_isContentEditable:function(e){if(!e.length)return false;var t=e.prop("contentEditable");if("inherit"===t)return this._isContentEditable(e.parent());return"true"===t}});e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}});e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults;this.liveRegion.children().hide();e("<div>").text(n).appendTo(this.liveRegion)}});var H=e.ui.autocomplete;var B=/ui-corner-([a-z]){2,6}/g;var $=e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(i,r){var o;var s={};if(!r)return;if("controlgroupLabel"===i){o=t.element.find(r);o.each(function(){var t=e(this);if(t.children(".ui-controlgroup-label-contents").length)return;t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")});t._addClass(o,null,"ui-widget ui-widget-content ui-state-default");n=n.concat(o.get());return}if(!e.fn[i])return;s=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}};t.element.find(r).each(function(){var r=e(this);var o=r[i]("instance");var a=e.widget.extend({},s);if("button"===i&&r.parent(".ui-spinner").length)return;o||(o=r[i]()[i]("instance"));o&&(a.classes=t._resolveClassesValues(a.classes,o));r[i](a);var l=r[i]("widget");e.data(l[0],"ui-controlgroup-data",o||r[i]("instance"));n.push(l[0])})});this.childWidgets=e(e.unique(n));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this),i=n.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(e,t){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,n);this._addClass(e,null,i)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction;var i={classes:{}};i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e];return i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");t.classes["ui-spinner-up"]="";t.classes["ui-spinner-down"]="";return t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,n){var i={};e.each(t,function(r){var o=n.options.classes[r]||"";o=e.trim(o.replace(B,""));i[r]=(o+" "+t[r]).replace(/\s+/g," ")});return i},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(e,t);if("disabled"===e){this._callChildMethod(t?"disable":"enable");return}this.refresh()},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();t=this.childWidgets;this.options.onlyVisible&&(t=t.filter(":visible"));if(t.length){e.each(["first","last"],function(e,i){var r=t[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===t.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r);r.element[r.widgetName](o)}else n._updateCornerClass(t[i](),i)});this._callChildMethod("refresh")}}});e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n;var i=this;var r=this._super()||{};this._readType();n=this.element.labels();this.label=e(n[n.length-1]);this.label.length||e.error("No label found for checkboxradio widget");this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML});this.originalLabel&&(r.label=this.originalLabel);t=this.element[0].disabled;null!=t&&(r.disabled=t);return r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();if(e){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");this.icon&&this._addClass(this.icon,null,"ui-state-hover")}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t;var n=this.element[0].name;var i="input[name='"+e.ui.escapeSelector(n)+"']";if(!n)return e([]);t=this.form.length?e(this.form[0].elements).filter(i):e(i).filter(function(){return 0===e(this).form().length});return t.not(this.element)},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t);"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(e,t){if("label"===e&&!t)return;this._super(e,t);if("disabled"===e){this._toggleClass(this.label,null,"ui-state-disabled",t);this.element[0].disabled=t;return}this.refresh()},_updateIcon:function(t){var n="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=e("<span>");this.iconSpace=e("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if("checkbox"===this.type){n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")}else n+="ui-icon-blank";this._addClass(this.icon,"ui-checkboxradio-icon",n);t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked");this.icon.prependTo(this.label).after(this.iconSpace)}else if(void 0!==this.icon){this.icon.remove();this.iconSpace.remove();delete this.icon}},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0]));this.iconSpace&&(e=e.not(this.iconSpace[0]));e.remove();this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e);null!==this.options.label&&this._updateLabel();t!==this.options.disabled&&this._setOptions({disabled:t})}}]);var U=e.ui.checkboxradio;e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var e,t=this._super()||{};this.isInput=this.element.is("input");e=this.element[0].disabled;null!=e&&(t.disabled=e);this.originalLabel=this.isInput?this.element.val():this.element.html();this.originalLabel&&(t.label=this.originalLabel);return t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=true);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||false);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(t){if(t.keyCode===e.ui.keyCode.SPACE){t.preventDefault();this.element[0].click?this.element[0].click():this.element.trigger("click")}}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip()}},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;if(this.icon)i&&this._removeClass(this.icon,null,this.options.icon);else{this.icon=e("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");this.options.showLabel||this._addClass("ui-button-icon-only")}i&&this._addClass(this.icon,null,n);this._attachIcon(r);if(o){this._addClass(this.icon,null,"ui-widget-icon-block");this.iconSpace&&this.iconSpace.remove()}else{if(!this.iconSpace){this.iconSpace=e("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space")}this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(r)}},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=true);this._super(e)},_setOption:function(e,t){if("icon"===e)if(t)this._updateIcon(e,t);else if(this.icon){this.icon.remove();this.iconSpace&&this.iconSpace.remove()}"iconPosition"===e&&this._updateIcon(e,t);if("showLabel"===e){this._toggleClass("ui-button-icon-only",null,!t);this._updateTooltip()}if("label"===e)if(this.isInput)this.element.val(t);else{this.element.html(t);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition)}}this._super(e,t);if("disabled"===e){this._toggleClass(null,"ui-state-disabled",t);this.element[0].disabled=t;t&&this.element.blur()}},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e});this._updateTooltip()}});if(false!==e.uiBackCompat){e.widget("ui.button",e.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);if(this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary)this.options.icon&&(this.options.icons.primary=this.options.icon);else if(this.options.icons.primary)this.options.icon=this.options.icons.primary;else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end"}this._super()},_setOption:function(e,t){if("text"===e){this._super("showLabel",t);return}"showLabel"===e&&(this.options.text=t);"icon"===e&&(this.options.icons.primary=t);if("icons"===e)if(t.primary){this._super("icon",t.primary);this._super("iconPosition","beginning")}else if(t.secondary){this._super("icon",t.secondary);this._super("iconPosition","end")}this._superApply(arguments)}});e.fn.button=function(t){return function(){if(!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type"))return t.apply(this,arguments);e.ui.checkboxradio||e.error("Checkboxradio widget missing");if(0===arguments.length)return this.checkboxradio({icon:false});return this.checkboxradio.apply(this,arguments)}}(e.fn.button);e.fn.buttonset=function(){e.ui.controlgroup||e.error("Controlgroup widget missing");if("option"===arguments[0]&&"items"===arguments[1]&&arguments[2])return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);if("option"===arguments[0]&&"items"===arguments[1])return this.controlgroup.apply(this,[arguments[0],"items.button"]);"object"===typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items});return this.controlgroup.apply(this,arguments)}}var z=e.ui.button;e.extend(e.ui,{datepicker:{version:"1.12.1"}});var G;function W(e){var t,n;while(e.length&&e[0]!==document){t=e.css("position");if("absolute"===t||"relative"===t||"fixed"===t){n=parseInt(e.css("zIndex"),10);if(!isNaN(n)&&0!==n)return n}e=e.parent()}return 0}function Y(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.regional.en=e.extend(true,{},this.regional[""]);this.regional["en-US"]=e.extend(true,{},this.regional.en);this.dpDiv=X(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(Y.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){Q(this._defaults,e||{});return this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase();r="div"===i||"span"===i;if(!t.id){this.uuid+=1;t.id="dp"+this.uuid}o=this._newInst(e(t),r);o.settings=e.extend({},n||{});"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?X(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]);n.trigger=e([]);if(i.hasClass(this.markerClassName))return;this._attachments(i,n);i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(n);e.data(t,"datepicker",n);n.settings.disabled&&this._disableDatepicker(t)},_attachments:function(t,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove();if(s){n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>");t[a?"before":"after"](n.append)}t.off("focus",this._showDatepicker);n.trigger&&n.trigger.remove();i=this._get(n,"showOn");"focus"!==i&&"both"!==i||t.on("focus",this._showDatepicker);if("button"===i||"both"===i){r=this._get(n,"buttonText");o=this._get(n,"buttonImage");n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r));t[a?"before":"after"](n.trigger);n.trigger.on("click",function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0])e.datepicker._hideDatepicker();else if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(t[0])}else e.datepicker._showDatepicker(t[0]);return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),s=this._get(e,"dateFormat");if(s.match(/[DM]/)){t=function(e){n=0;i=0;for(r=0;r<e.length;r++)if(e[r].length>n){n=e[r].length;i=r}return i};o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort")));o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())}e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);if(i.hasClass(this.markerClassName))return;i.addClass(this.markerClassName).append(n.dpDiv);e.data(t,"datepicker",n);this._setDate(n,this._getDefaultDate(n),true);this._updateDatepicker(n);this._updateAlternate(n);n.settings.disabled&&this._disableDatepicker(t);n.dpDiv.css("display","block")},_dialogDatepicker:function(t,n,i,r,o){var s,a,l,u,c,f=this._dialogInst;if(!f){this.uuid+=1;s="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);e("body").append(this._dialogInput);f=this._dialogInst=this._newInst(this._dialogInput,false);f.settings={};e.data(this._dialogInput[0],"datepicker",f)}Q(f.settings,r||{});n=n&&n.constructor===Date?this._formatDate(f,n):n;this._dialogInput.val(n);this._pos=o?o.length?o:[o.pageX,o.pageY]:null;if(!this._pos){a=document.documentElement.clientWidth;l=document.documentElement.clientHeight;u=document.documentElement.scrollLeft||document.body.scrollLeft;c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+u,l/2-150+c]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");f.settings.onSelect=i;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);e.blockUI&&e.blockUI(this.dpDiv);e.data(this._dialogInput[0],"datepicker",f);return this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");if(!i.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();e.removeData(t,"datepicker");if("input"===n){r.append.remove();r.trigger.remove();i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty();G===r&&(G=null)},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");if(!r.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();if("input"===n){t.disabled=false;o.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if("div"===n||"span"===n){i=r.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");if(!r.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();if("input"===n){t.disabled=true;o.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if("div"===n||"span"===n){i=r.children("."+this._inlineClass);i.children().addClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e});this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e)return false;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return true;return false},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,o,s,a,l=this._getInst(t);if(2===arguments.length&&"string"===typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):l?"all"===n?e.extend({},l.settings):this._get(l,n):null;r=n||{};if("string"===typeof n){r={};r[n]=i}if(l){this._curInst===l&&this._hideDatepicker();o=this._getDateDatepicker(t,true);s=this._getMinMaxDate(l,"min");a=this._getMinMaxDate(l,"max");Q(l.settings,r);null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,s));null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,a));"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t));this._attachments(e(t),l);this._autoSize(l);this._setDate(l,o);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);if(n){this._setDate(n,t);this._updateDatepicker(n);this._updateAlternate(n)}},_getDateDatepicker:function(e,t){var n=this._getInst(e);n&&!n.inline&&this._setDateFromField(n,t);return n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),s=true,a=o.dpDiv.is(".ui-datepicker-rtl");o._keyEvent=true;if(e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker();s=false;break;case 13:r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv);r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]);n=e.datepicker._get(o,"onSelect");if(n){i=e.datepicker._formatDate(o);n.apply(o.input?o.input[0]:null,[i,o])}else e.datepicker._hideDatepicker();return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target);s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target);s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D");s=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D");s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D");s=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D");s=t.ctrlKey||t.metaKey;break;default:s=false}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=false;if(s){t.preventDefault();t.stopPropagation()}},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput")){n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat"));i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1}},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i));if(n){e.datepicker._setDateFromField(i);e.datepicker._updateAlternate(i);e.datepicker._updateDatepicker(i)}}catch(e){}return true},_showDatepicker:function(t){t=t.target||t;"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]);if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)return;var n,i,r,o,s,a,l;n=e.datepicker._getInst(t);if(e.datepicker._curInst&&e.datepicker._curInst!==n){e.datepicker._curInst.dpDiv.stop(true,true);n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}i=e.datepicker._get(n,"beforeShow");r=i?i.apply(t,[t,n]):{};if(false===r)return;Q(n.settings,r);n.lastVal=null;e.datepicker._lastInput=t;e.datepicker._setDateFromField(n);e.datepicker._inDialog&&(t.value="");if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(t);e.datepicker._pos[1]+=t.offsetHeight}o=false;e(t).parents().each(function(){o|="fixed"===e(this).css("position");return!o});s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(n);s=e.datepicker._checkOffset(n,s,o);n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!n.inline){a=e.datepicker._get(n,"showAnim");l=e.datepicker._get(n,"duration");n.dpDiv.css("z-index",W(e(t))+1);e.datepicker._datepickerShowing=true;e.effects&&e.effects.effect[a]?n.dpDiv.show(a,e.datepicker._get(n,"showOptions"),l):n.dpDiv[a||"show"](a?l:null);e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus");e.datepicker._curInst=n}},_updateDatepicker:function(t){this.maxRows=4;G=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],o=17,s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&K.apply(s.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em");t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus");if(t.yearshtml){n=t.yearshtml;setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);n=t.yearshtml=null},0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());n.left-=this._get(t,"isRTL")?r-s:0;n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0;n.top-=i&&n.top===t.input.offset().top+a?e(document).scrollTop():0;n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0);n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0);return n},_findPos:function(t){var n,i=this._getInst(t),r=this._get(i,"isRTL");while(t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t)))t=t[r?"previousSibling":"nextSibling"];n=e(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,s=this._curInst;if(!s||t&&s!==e.data(t,"datepicker"))return;if(this._datepickerShowing){n=this._get(s,"showAnim");i=this._get(s,"duration");r=function(){e.datepicker._tidyDialog(s)};e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r);n||r();this._datepickerShowing=false;o=this._get(s,"onClose");o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst)return;var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0]))return;this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i);this._updateDatepicker(o)},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);if(this._get(r,"gotoCurrent")&&r.currentDay){r.selectedDay=r.currentDay;r.drawMonth=r.selectedMonth=r.currentMonth;r.drawYear=r.selectedYear=r.currentYear}else{n=new Date;r.selectedDay=n.getDate();r.drawMonth=r.selectedMonth=n.getMonth();r.drawYear=r.selectedYear=n.getFullYear()}this._notifyChange(r);this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10);this._notifyChange(o);this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,s=e(t);if(e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0]))return;o=this._getInst(s[0]);o.selectedDay=o.currentDay=e("a",r).html();o.selectedMonth=o.currentMonth=n;o.selectedYear=o.currentYear=i;this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o);o.input&&o.input.val(n);this._updateAlternate(o);i=this._get(o,"onSelect");i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change");if(o.inline)this._updateDatepicker(o);else{this._hideDatepicker();this._lastInput=o.input[0];"object"!==typeof o.input[0]&&o.input.trigger("focus");this._lastInput=null}},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");if(o){n=this._get(t,"altFormat")||this._get(t,"dateFormat");i=this._getDate(t);r=this.formatDate(n,i,this._getFormatConfig(t));e(o).val(r)}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";n="object"===typeof n?n.toString():n+"";if(""===n)return null;var r,o,s,a=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!==typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,v=-1,m=-1,g=-1,b=false,y,x=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;n&&r++;return n},_=function(e){var t=x(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(a).match(o);if(!s)throw"Missing number at position "+a;a+=s[0].length;return parseInt(s[0],10)},w=function(t,i,r){var o=-1,s=e.map(x(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(s,function(e,t){var i=t[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase()){o=t[0];a+=i.length;return false}});if(-1!==o)return o+1;throw"Unknown name at position "+a},q=function(){if(n.charAt(a)!==t.charAt(r))throw"Unexpected literal at position "+a;a++};for(r=0;r<t.length;r++)if(b)"'"!==t.charAt(r)||x("'")?q():b=false;else switch(t.charAt(r)){case"d":m=_("d");break;case"D":w("D",c,f);break;case"o":g=_("o");break;case"m":v=_("m");break;case"M":v=w("M",d,p);break;case"y":h=_("y");break;case"@":y=new Date(_("@"));h=y.getFullYear();v=y.getMonth()+1;m=y.getDate();break;case"!":y=new Date((_("!")-this._ticksTo1970)/1e4);h=y.getFullYear();v=y.getMonth()+1;m=y.getDate();break;case"'":x("'")?q():b=true;break;default:q()}if(a<n.length){s=n.substr(a);if(!/^\s+/.test(s))throw"Extra/unparsed characters found in date: "+s}-1===h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=u?0:-100));if(g>-1){v=1;m=g;do{o=this._getDaysInMonth(h,v-1);if(m<=o)break;v++;m-=o}while(true)}y=this._daylightSavingAdjust(new Date(h,v-1,m));if(y.getFullYear()!==h||y.getMonth()+1!==v||y.getDate()!==m)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;n&&i++;return n},u=function(e,t,n){var i=""+t;if(l(e))while(i.length<n)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},f="",d=false;if(t)for(i=0;i<e.length;i++)if(d)"'"!==e.charAt(i)||l("'")?f+=e.charAt(i):d=false;else switch(e.charAt(i)){case"d":f+=u("d",t.getDate(),2);break;case"D":f+=c("D",t.getDay(),r,o);break;case"o":f+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=u("m",t.getMonth()+1,2);break;case"M":f+=c("M",t.getMonth(),s,a);break;case"y":f+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":f+=t.getTime();break;case"!":f+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?f+="'":d=true;break;default:f+=e.charAt(i)}return f},_possibleChars:function(e){var t,n="",i=false,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;i&&t++;return i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=false;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=true;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal)return;var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(n,i,s)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear();e.currentDay=i?o.getDate():0;e.currentMonth=i?o.getMonth():0;e.currentYear=i?o.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;t.setDate(t.getDate()+e);return t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);while(l){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10);s=Math.min(s,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10);s=Math.min(s,e.datepicker._getDaysInMonth(r,o));break}l=a.exec(n)}return new Date(r,o,s)},s=null==n||""===n?i:"string"===typeof n?o(n):"number"===typeof n?isNaN(n)?i:r(n):new Date(n.getTime());s=s&&"Invalid Date"===s.toString()?i:s;if(s){s.setHours(0);s.setMinutes(0);s.setSeconds(0);s.setMilliseconds(0)}return this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){if(!e)return null;e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth();e.drawYear=e.selectedYear=e.currentYear=s.getFullYear();r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e);this._adjustInstDate(e);e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(i,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(i,this,"Y");return false}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g,b,y,x,_,w,q,C,S,E,D,O,A,L,I,T,k,P,M,R,N,F,j,V=new Date,H=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),B=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),G=this._getNumberOfMonths(e),W=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),X=1!==G[0]||1!==G[1],K=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-W,ee=e.drawYear;if(J<0){J+=12;ee--}if(Z){t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-G[0]*G[1]+1,Z.getDate()));t=Q&&t<Q?Q:t;while(this._daylightSavingAdjust(new Date(ee,J,1))>t){J--;if(J<0){J=11;ee--}}}e.drawMonth=J;e.drawYear=ee;n=this._get(e,"prevText");n=z?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J-Y,1)),this._getFormatConfig(e)):n;i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>";r=this._get(e,"nextText");r=z?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,J+Y,1)),this._getFormatConfig(e)):r;o=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>";s=this._get(e,"currentText");a=this._get(e,"gotoCurrent")&&e.currentDay?K:H;s=z?this.formatDate(s,a,this._getFormatConfig(e)):s;l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>";u=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(B?"":l)+"</div>":"";c=parseInt(this._get(e,"firstDay"),10);c=isNaN(c)?0:c;f=this._get(e,"showWeek");d=this._get(e,"dayNames");p=this._get(e,"dayNamesMin");h=this._get(e,"monthNames");v=this._get(e,"monthNamesShort");m=this._get(e,"beforeShowDay");g=this._get(e,"showOtherMonths");b=this._get(e,"selectOtherMonths");y=this._getDefaultDate(e);x="";for(w=0;w<G[0];w++){q="";this.maxRows=4;for(C=0;C<G[1];C++){S=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay));E=" ui-corner-all";D="";if(X){D+="<div class='ui-datepicker-group";if(G[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first";E=" ui-corner-"+(B?"right":"left");break;case G[1]-1:D+=" ui-datepicker-group-last";E=" ui-corner-"+(B?"left":"right");break;default:D+=" ui-datepicker-group-middle";E="";break}D+="'>"}D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===w?B?o:i:"")+(/all|right/.test(E)&&0===w?B?i:o:"")+this._generateMonthYearHeader(e,J,ee,Q,Z,w>0||C>0,h,v)+"</div><table class='ui-datepicker-calendar'><thead><tr>";O=f?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(_=0;_<7;_++){A=(_+c)%7;O+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[A]+"'>"+p[A]+"</span></th>"}D+=O+"</tr></thead><tbody>";L=this._getDaysInMonth(ee,J);ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,L));I=(this._getFirstDayOfMonth(ee,J)-c+7)%7;T=Math.ceil((I+L)/7);k=X&&this.maxRows>T?this.maxRows:T;this.maxRows=k;P=this._daylightSavingAdjust(new Date(ee,J,1-I));for(M=0;M<k;M++){D+="<tr>";R=f?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"";for(_=0;_<7;_++){N=m?m.apply(e.input?e.input[0]:null,[P]):[true,""];F=P.getMonth()!==J;j=F&&!b||!N[0]||Q&&P<Q||Z&&P>Z;R+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===S.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===P.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+N[1]+(P.getTime()===K.getTime()?" "+this._currentClass:"")+(P.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(F&&!g||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":j?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===H.getTime()?" ui-state-highlight":"")+(P.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}D+=R+"</tr>"}J++;if(J>11){J=0;ee++}D+="</tbody></table>"+(X?"</div>"+(G[0]>0&&C===G[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");q+=D}x+=q}x+=u;e._keyEvent=false;return x},_generateMonthYearHeader:function(e,t,n,i,r,o,s,a){var l,u,c,f,d,p,h,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(o||!m)x+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{l=i&&i.getFullYear()===n;u=r&&r.getFullYear()===n;x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(x+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+a[c]+"</option>");x+="</select>"}b||(y+=x+(o||!(m&&g)?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(o||!g)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{f=this._get(e,"yearRange").split(":");d=(new Date).getFullYear();p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t};h=p(f[0]);v=Math.max(h,p(f[1]||""));h=i?Math.max(h,i.getFullYear()):h;v=r?Math.min(v,r.getFullYear()):v;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;h<=v;h++)e.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";e.yearshtml+="</select>";y+=e.yearshtml;e.yearshtml=null}}y+=this._get(e,"yearSuffix");b&&(y+=(o||!(m&&g)?"&#xa0;":"")+x);y+="</div>";return y},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=s.getDate();e.drawMonth=e.selectedMonth=s.getMonth();e.drawYear=e.selectedYear=s.getFullYear();"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"===typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth()));return this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");if(l){n=l.split(":");i=(new Date).getFullYear();s=parseInt(n[0],10);a=parseInt(n[1],10);n[0].match(/[+\-].*/)&&(s+=i);n[1].match(/[+\-].*/)&&(a+=i)}return(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");t="string"!==typeof t?t:(new Date).getFullYear()%100+parseInt(t,10);return{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var r=t?"object"===typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}});function X(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,K)}function K(){if(!e.datepicker._isDisabledDatepicker(G.inline?G.dpDiv.parent()[0]:G.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover")}}function Q(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.fn.datepicker=function(t){if(!this.length)return this;if(!e.datepicker.initialized){e(document).on("mousedown",e.datepicker._checkExternalClick);e.datepicker.initialized=true}0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);if("string"===typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t))return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n));if("option"===t&&2===arguments.length&&"string"===typeof arguments[1])return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n));return this.each(function(){"string"===typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})};e.datepicker=new Y;e.datepicker.initialized=false;e.datepicker.uuid=(new Date).getTime();e.datepicker.version="1.12.1";var Z=e.datepicker;var J=e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var ee=false;e(document).on("mouseup",function(){ee=false});var te=e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(true===e.data(n.target,t.widgetName+".preventClickEvent")){e.removeData(n.target,t.widgetName+".preventClickEvent");n.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(ee)return;this._mouseMoved=false;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!==typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;if(!i||r||!this._mouseCapture(t))return true;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=false!==this._mouseStart(t);if(!this._mouseStarted){t.preventDefault();return true}}true===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return n._mouseMove(e)};this._mouseUpDelegate=function(e){return n._mouseUp(e)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();ee=true;return true},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=true;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}(t.which||t.button)&&(this._mouseMoved=true);if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=false!==this._mouseStart(this._mouseDownEvent,t);this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",true);this._mouseStop(t)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;ee=false;t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var ne=e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i){o.plugins[r]=o.plugins[r]||[];o.plugins[r].push([n,i[r]])}},call:function(e,t,n,i){var r,o=e.plugins[t];if(!o)return;if(!i&&(!e.element[0].parentNode||11===e.element[0].parentNode.nodeType))return;for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var ie=e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(e,t){this._super(e,t);if("handle"===e){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;if(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)return false;this.handle=this._getHandle(t);if(!this.handle)return false;this._blurActiveElement(t);this._blockFrames(true===n.iframeFix?"iframe":n.iframeFix);return true},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]),i=e(t.target);if(i.closest(n).length)return;e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;this.helper=this._createHelper(t);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();e.ui.ddmanager&&(e.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(t);this.originalPosition=this.position=this._generatePosition(t,false);this.originalPageX=t.pageX;this.originalPageY=t.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this._setContainment();if(false===this._trigger("start",t)){this._clear();return false}this._cacheHelperProportions();e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this._mouseDrag(t,true);e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t);return true},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(t,true);this.positionAbs=this._convertPositionTo("absolute");if(!n){var i=this._uiHash();if(false===this._trigger("drag",t,i)){this._mouseUp(new e.Event("mouseup",t));return false}this.position=i.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);return false},_mouseStop:function(t){var n=this,i=false;e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t));if(this.dropped){i=this.dropped;this.dropped=false}"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||true===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){false!==n._trigger("stop",t)&&n._clear()}):false!==this._trigger("stop",t)&&this._clear();return false},_mouseUp:function(t){this._unblockFrames();e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t);this.handleElement.is(t.target)&&this.element.trigger("focus");return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear();return this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo);i&&r[0]===this.element[0]&&this._setPositionRelative();r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute");return r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"===typeof t&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];if("absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0});return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];this.relativeContainer=null;if(!r.containment){this.containment=null;return}if("window"===r.containment){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if("document"===r.containment){this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}"parent"===r.containment&&(r.containment=this.helper[0].parentNode);n=e(r.containment);i=n[0];if(!i)return;t=/(scroll|auto)/.test(n.css("overflow"));this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=n},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});if(t){if(this.containment){if(this.relativeContainer){i=this.relativeContainer.offset();n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else n=this.containment;e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left);e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top);e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left);e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)}if(s.grid){r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY;u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r;o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX;l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o}"y"===s.axis&&(l=this.originalPageX);"x"===s.axis&&(u=this.originalPageY)}return{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){i=i||this._uiHash();e.ui.plugin.call(this,t,[n,i,this],true);if(/^(drag|start|stop)/.test(t)){this.positionAbs=this._convertPositionTo("absolute");i.offset=this.positionAbs}return e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[];e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");if(n&&!n.options.disabled){i.sortables.push(n);n.refreshPositions();n._trigger("activate",t,r)}})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=false;e.each(i.sortables,function(){var e=this;if(e.isOver){e.isOver=0;i.cancelHelperRemoval=true;e.cancelHelperRemoval=false;e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")};e._mouseStop(t);e.options.helper=e.options._helper}else{e.cancelHelperRemoval=true;e._trigger("deactivate",t,r)}})},drag:function(t,n,i){e.each(i.sortables,function(){var r=false,o=this;o.positionAbs=i.positionAbs;o.helperProportions=i.helperProportions;o.offset.click=i.offset.click;if(o._intersectsWith(o.containerCache)){r=true;e.each(i.sortables,function(){this.positionAbs=i.positionAbs;this.helperProportions=i.helperProportions;this.offset.click=i.offset.click;this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=false);return r})}if(r){if(!o.isOver){o.isOver=1;i._parent=n.helper.parent();o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",true);o.options._helper=o.options.helper;o.options.helper=function(){return n.helper[0]};t.target=o.currentItem[0];o._mouseCapture(t,true);o._mouseStart(t,true,true);o.offset.click.top=i.offset.click.top;o.offset.click.left=i.offset.click.left;o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left;o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top;i._trigger("toSortable",t);i.dropped=o.element;e.each(i.sortables,function(){this.refreshPositions()});i.currentItem=i.element;o.fromOutside=i}if(o.currentItem){o._mouseDrag(t);n.position=o.position}}else if(o.isOver){o.isOver=0;o.cancelHelperRemoval=true;o.options._revert=o.options.revert;o.options.revert=false;o._trigger("out",t,o._uiHash(o));o._mouseStop(t,true);o.options.revert=o.options._revert;o.options.helper=o.options._helper;o.placeholder&&o.placeholder.remove();n.helper.appendTo(i._parent);i._refreshOffsets(t);n.position=i._generatePosition(t,true);i._trigger("fromSortable",t);i.dropped=false;e.each(i.sortables,function(){this.refreshPositions()})}})}});e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor"));r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}});e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity"));r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}});e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(false));n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=false,s=i.scrollParentNotHidden[0],a=i.document[0];if(s!==a&&"HTML"!==s.tagName){r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed));r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))}else{r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed)));r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))}false!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}});e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[];e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,s,a,l,u,c,f,d,p,h=i.options,v=h.snapTolerance,m=n.offset.left,g=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--){l=i.snapElements[d].left-i.margins.left;u=l+i.snapElements[d].width;c=i.snapElements[d].top-i.margins.top;f=c+i.snapElements[d].height;if(g<l-v||m>u+v||y<c-v||b>f+v||!e.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)){i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item}));i.snapElements[d].snapping=false;continue}if("inner"!==h.snapMode){r=Math.abs(c-y)<=v;o=Math.abs(f-b)<=v;s=Math.abs(l-g)<=v;a=Math.abs(u-m)<=v;r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top);o&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top);s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left);a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)}p=r||o||s||a;if("outer"!==h.snapMode){r=Math.abs(c-b)<=v;o=Math.abs(f-y)<=v;s=Math.abs(l-m)<=v;a=Math.abs(u-g)<=v;r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top);o&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top);s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left);a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)}!i.snapElements[d].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[d].item}));i.snapElements[d].snapping=r||o||s||a||p}}});e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!s.length)return;r=parseInt(e(s[0]).css("zIndex"),10)||0;e(s).each(function(t){e(this).css("zIndex",r+t)});this.css("zIndex",r+s.length)}});e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex"));r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}});var re=e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return false;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=false;if(t[i]>0)return true;t[i]=1;r=t[i]>0;t[i]=0;return r},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable");e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(t);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(t);this._proportionallyResize()}this._setupHandles();n.autoHide&&e(this.element).on("mouseenter",function(){if(n.disabled)return;i._removeClass("ui-resizable-autohide");i._handles.show()}).on("mouseleave",function(){if(n.disabled)return;if(!i.resizing){i._addClass("ui-resizable-autohide");i._handles.hide()}});this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){n(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);n(this.originalElement);return this},_setOption:function(e,t){this._super(e,t);switch(e){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var t=this.options,n,i,r,o,s,a=this;this.handles=t.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=e();if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");r=this.handles.split(",");this.handles={};for(i=0;i<r.length;i++){n=e.trim(r[i]);o="ui-resizable-"+n;s=e("<div>");this._addClass(s,"ui-resizable-handle "+o);s.css({zIndex:t.zIndex});this.handles[n]=".ui-resizable-"+n;this.element.append(s)}}this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles){if(this.handles[n].constructor===String)this.handles[n]=this.element.children(this.handles[n]).first().show();else if(this.handles[n].jquery||this.handles[n].nodeType){this.handles[n]=e(this.handles[n]);this._on(this.handles[n],{mousedown:a._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){i=e(this.handles[n],this.element);o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(r,o);this._proportionallyResize()}this._handles=this._handles.add(this.handles[n])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!a.resizing){this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i));a.axis=s&&s[1]?s[1]:"se"}});if(t.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,r=false;for(n in this.handles){i=e(this.handles[n])[0];(i===t.target||e.contains(i,t.target))&&(r=true)}return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,s=this.element;this.resizing=true;this._renderProxy();n=this._num(this.helper.css("left"));i=this._num(this.helper.css("top"));if(o.containment){n+=e(o.containment).scrollLeft()||0;i+=e(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:n,top:i};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()};this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()};this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()};this.originalPosition={left:n,top:i};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio="number"===typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor","auto"===r?this.axis+"-resize":r);this._addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,s=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[o];this._updatePrevProperties();if(!l)return false;n=l.apply(this,[t,s,a]);this._updateVirtualBoundaries(t.shiftKey);(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t));n=this._respectSize(n,t);this._updateCache(n);this._propagate("resize",t);i=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();if(!e.isEmptyObject(i)){this._updatePrevProperties();this._trigger("resize",t,this.ui());this._applyChanges()}return false},_mouseStop:function(t){this.resizing=false;var n,i,r,o,s,a,l,u=this.options,c=this;if(this._helper){n=this._proportionallyResizeElements;i=n.length&&/textarea/i.test(n[0].nodeName);r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height;o=i?0:c.sizeDiff.width;s={width:c.helper.width()-o,height:c.helper.height()-r};a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null;l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;u.animate||this.element.css(e.extend(s,{top:l,left:a}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!u.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",t);this._helper&&this.helper.remove();return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px");this.helper.css(e);return e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity};if(this._aspectRatio||e){t=o.minHeight*this.aspectRatio;i=o.minWidth/this.aspectRatio;n=o.maxHeight*this.aspectRatio;r=o.maxWidth/this.aspectRatio;t>o.minWidth&&(o.minWidth=t);i>o.minHeight&&(o.minHeight=i);n<o.maxWidth&&(o.maxWidth=n);r<o.maxHeight&&(o.maxHeight=r)}this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset();this._isNumber(e.left)&&(this.position.left=e.left);this._isNumber(e.top)&&(this.position.top=e.top);this._isNumber(e.height)&&(this.size.height=e.height);this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio);if("sw"===i){e.left=t.left+(n.width-e.width);e.top=null}if("nw"===i){e.top=t.top+(n.height-e.height);e.left=t.left+(n.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);o&&(e.width=t.minWidth);s&&(e.height=t.minHeight);i&&(e.width=t.maxWidth);r&&(e.height=t.maxHeight);o&&u&&(e.left=a-t.minWidth);i&&u&&(e.left=a-t.maxWidth);s&&c&&(e.top=l-t.minHeight);r&&c&&(e.top=l-t.maxHeight);e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null;return e},_getPaddingPlusBorderDimensions:function(e){var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;t<4;t++){n[t]=parseFloat(i[t])||0;n[t]+=parseFloat(r[t])||0}return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var e,t=0,n=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++){e=this._proportionallyResizeElements[t];this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e));e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]);"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height});n._updateCache(i);n._propagate("resize",t)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,s,a,l=e(this).resizable("instance"),u=l.options,c=l.element,f=u.containment,d=f instanceof e?f.get(0):/parent/.test(f)?c.parent().get(0):f;if(!d)return;l.containerElement=e(d);if(/document/.test(f)||f===document){l.containerOffset={left:0,top:0};l.containerPosition={left:0,top:0};l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{t=e(d);n=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))});l.containerOffset=t.offset();l.containerPosition=t.position();l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]};i=l.containerOffset;r=l.containerSize.height;o=l.containerSize.width;s=l._hasScroll(d,"left")?d.scrollWidth:o;a=l._hasScroll(d)?d.scrollHeight:r;l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}}},resize:function(t){var n,i,r,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,f={top:0,left:0},d=s.containerElement,p=true;d[0]!==document&&/static/.test(d.css("position"))&&(f=l);if(u.left<(s._helper?l.left:0)){s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-f.left);if(c){s.size.height=s.size.width/s.aspectRatio;p=false}s.position.left=a.helper?l.left:0}if(u.top<(s._helper?l.top:0)){s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top);if(c){s.size.width=s.size.height*s.aspectRatio;p=false}s.position.top=s._helper?l.top:0}r=s.containerElement.get(0)===s.element.parent().get(0);o=/relative|absolute/.test(s.containerElement.css("position"));if(r&&o){s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top}else{s.offset.left=s.element.offset().left;s.offset.top=s.element.offset().top}n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-f.left:s.offset.left-l.left));i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-f.top:s.offset.top-l.top));if(n+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-n;if(c){s.size.height=s.size.width/s.aspectRatio;p=false}}if(i+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-i;if(c){s.size.width=s.size.height*s.aspectRatio;p=false}}if(!p){s.position.left=s.prevPosition.left;s.position.top=s.prevPosition.top;s.size.width=s.prevSize.width;s.size.height=s.prevSize.height}},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:u});t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:u})}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(r[t]=n||null)});t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");false!==e.uiBackCompat&&"string"===typeof t.options.ghost&&t.ghost.addClass(this.options.ghost);t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"===typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,f=Math.round((r.width-o.width)/u)*u,d=Math.round((r.height-o.height)/c)*c,p=o.width+f,h=o.height+d,v=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<h,g=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>h;i.grid=l;g&&(p+=u);b&&(h+=c);v&&(p-=u);m&&(h-=c);if(/^(se|s|e)$/.test(a)){n.size.width=p;n.size.height=h}else if(/^(ne)$/.test(a)){n.size.width=p;n.size.height=h;n.position.top=s.top-d}else if(/^(sw)$/.test(a)){n.size.width=p;n.size.height=h;n.position.left=s.left-f}else{(h-c<=0||p-u<=0)&&(t=n._getPaddingPlusBorderDimensions(this));if(h-c>0){n.size.height=h;n.position.top=s.top-d}else{h=c-t.height;n.size.height=h;n.position.top=s.top+o.height-h}if(p-u>0){n.size.width=p;n.position.left=s.left-f}else{p=u-t.width;n.size.width=p;n.position.left=s.left+o.width-p}}}});var oe=e.ui.resizable;e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=false);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&e.fn.draggable&&this._makeDraggable();this.options.resizable&&e.fn.resizable&&this._makeResizable();this._isOpen=false;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;if(t&&(t.jquery||t.nodeType))return e(t);return this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);e=t.parent.children().eq(t.index);e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;if(!this._isOpen||false===this._trigger("beforeClose",t))return;this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0]));this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=false,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);if(o>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",o+1);i=true}i&&!n&&this._trigger("focus",t);return i},open:function(){var t=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=true;this.opener=e(e.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1);this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]"));e.length||(e=this.element.find(":tabbable"));e.length||(e=this.uiDialogButtonPane.find(":tabbable"));e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable"));e.length||(e=this.uiDialog);e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault();n.call(this);this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE){t.preventDefault();this.close(t);return}if(t.keyCode!==e.ui.keyCode.TAB||t.isDefaultPrevented())return;var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");if(t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey){if((t.target===i[0]||t.target===this.uiDialog[0])&&t.shiftKey){this._delay(function(){r.trigger("focus")});t.preventDefault()}}else{this._delay(function(){i.trigger("focus")});t.preventDefault()}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault();this.close(e)}});t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(t,"ui-dialog-title");this._title(t);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(e.isEmptyObject(n)||e.isArray(n)&&!n.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i;i=e.extend({type:"button"},i);r=i.click;o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text};delete i.click;delete i.icon;delete i.iconPosition;delete i.showLabel;delete i.icons;"boolean"===typeof i.text&&delete i.text;e("<button></button>",i).button(o).appendTo(t.uiButtonSet).on("click",function(){r.apply(t.element[0],arguments)})});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var t=this,n=this.options;function i(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t._addClass(e(this),"ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",n,i(r))},drag:function(e,n){t._trigger("drag",e,i(n))},stop:function(r,o){var s=o.offset.left-t.document.scrollLeft(),a=o.offset.top-t.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:t.window};t._removeClass(e(this),"ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var t=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"===typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){t._addClass(e(this),"ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",n,s(i))},resize:function(e,n){t._trigger("resize",e,s(n))},stop:function(i,r){var o=t.uiDialog.offset(),a=o.left-t.document.scrollLeft(),l=o.top-t.document.scrollTop();n.height=t.uiDialog.height();n.width=t.uiDialog.width();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window};t._removeClass(e(this),"ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");if(!e){e=[];this.document.data("ui-dialog-instances",e)}return e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show();this.uiDialog.position(this.options.position);e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=false,r={};e.each(t,function(e,t){n._setOption(e,t);e in n.sizeRelatedOptions&&(i=true);e in n.resizableRelatedOptions&&(r[e]=t)});if(i){this._size();this._position()}this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var i,r,o=this.uiDialog;if("disabled"===t)return;this._super(t,n);"appendTo"===t&&this.uiDialog.appendTo(this._appendTo());"buttons"===t&&this._createButtons();"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()});if("draggable"===t){i=o.is(":data(ui-draggable)");i&&!n&&o.draggable("destroy");!i&&n&&this._makeDraggable()}"position"===t&&this._position();if("resizable"===t){r=o.is(":data(ui-resizable)");r&&!n&&o.resizable("destroy");r&&"string"===typeof n&&o.resizable("option","handles",n);r||false===n||this._makeResizable()}"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});i.minWidth>i.width&&(i.width=i.minWidth);e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight();t=Math.max(0,i.minHeight-e);n="number"===typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none";"auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(t){if(e(t.target).closest(".ui-dialog").length)return true;return!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal)return;var t=true;this._delay(function(){t=false});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){if(t)return;if(!this._allowInteraction(e)){e.preventDefault();this._trackingInstances()[0]._focusTabbable()}}});this.overlay=e("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal)return;if(this.overlay){var e=this.document.data("ui-dialog-overlays")-1;if(e)this.document.data("ui-dialog-overlays",e);else{this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays")}this.overlay.remove();this.overlay=null}}});false!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t);this._superApply(arguments)}});var se=e.ui.dialog;e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=false;this.isout=true;this.accept=e.isFunction(i)?i:function(e){return e.is(i)};this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]};this._addToManager(n.scope);n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[];e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){var t=0;for(;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i);this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass();n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass();n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this._addHoverClass();this._trigger("over",t,this.ui(n))}},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this._removeHoverClass();this._trigger("out",t,this.ui(n))}},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=false;if(!i||(i.currentItem||i.element)[0]===this.element[0])return false;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&ae(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)){r=true;return false}});if(r)return false;if(this.accept.call(this.element[0],i.currentItem||i.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",t,this.ui(i));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var ae=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,r){if(!n.offset)return false;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,f=u+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return u<=o&&a<=f&&c<=s&&l<=d;case"intersect":return u<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<f&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<d;case"pointer":return e(r.pageY,c,n.proportions().height)&&e(r.pageX,u,n.proportions().width);case"touch":return(s>=c&&s<=d||l>=c&&l<=d||s<c&&l>d)&&(o>=u&&o<=f||a>=u&&a<=f||o<u&&a>f);default:return false}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<o.length;i++){if(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))continue;for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display");if(!o[i].visible)continue;"mousedown"===s&&o[i]._activate.call(o[i],n);o[i].offset=o[i].element.offset();o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight})}},drop:function(t,n){var i=false;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&ae(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,n)}});return i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n);e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var i,r,o,s=ae(t,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;if(!a)return;if(this.options.greedy){r=this.options.scope;o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r});if(o.length){i=e(o[0]).droppable("instance");i.greedyChild="isover"===a}}if(i&&"isover"===a){i.isover=false;i.isout=true;i._out.call(i,n)}this[a]=true;this["isout"===a?"isover":"isout"]=false;this["isover"===a?"_over":"_out"].call(this,n);if(i&&"isout"===a){i.isout=false;i.isover=true;i._over.call(i,n)}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable");t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};false!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});var le=e.ui.droppable;var ue=e.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=e("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e);this._refreshValue()},_constrainedValue:function(e){void 0===e&&(e=this.options.value);this.indeterminate=false===e;"number"!==typeof e&&(e=0);return!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value;this._super(e);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t));this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this.element.attr("aria-disabled",e);this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=e("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==t){this.oldValue=t;this._trigger("change")}t===this.options.max&&this._trigger("complete")}});var ce=e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){t.elementPos=e(t.element[0]).offset();t.selectees=e(t.options.filter,t.element[0]);t._addClass(t.selectees,"ui-selectee");t.selectees.each(function(){var n=e(this),i=n.offset(),r={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:false,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=e("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY];this.elementPos=e(this.element[0]).offset();if(this.options.disabled)return;this.selectees=e(i.filter,this.element[0]);this._trigger("start",t);e(i.appendTo).append(this.helper);this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0});i.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=true;if(!t.metaKey&&!t.ctrlKey){n._removeClass(i.$element,"ui-selected");i.selected=false;n._addClass(i.$element,"ui-unselecting");i.unselecting=true;n._trigger("unselecting",t,{unselecting:i.element})}});e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");if(r){i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected");n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting");r.unselecting=!i;r.selecting=i;r.selected=i;i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element});return false}})},_mouseDrag:function(t){this.dragged=true;if(this.options.disabled)return;var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;if(o>a){n=a;a=o;o=n}if(s>l){n=l;l=s;s=n}this.helper.css({left:o,top:s,width:a-o,height:l-s});this.selectees.each(function(){var n=e.data(this,"selectable-item"),u=false,c={};if(!n||n.element===i.element[0])return;c.left=n.left+i.elementPos.left;c.right=n.right+i.elementPos.left;c.top=n.top+i.elementPos.top;c.bottom=n.bottom+i.elementPos.top;"touch"===r.tolerance?u=!(c.left>a||c.right<o||c.top>l||c.bottom<s):"fit"===r.tolerance&&(u=c.left>o&&c.right<a&&c.top>s&&c.bottom<l);if(u){if(n.selected){i._removeClass(n.$element,"ui-selected");n.selected=false}if(n.unselecting){i._removeClass(n.$element,"ui-unselecting");n.unselecting=false}if(!n.selecting){i._addClass(n.$element,"ui-selecting");n.selecting=true;i._trigger("selecting",t,{selecting:n.element})}}else{if(n.selecting)if((t.metaKey||t.ctrlKey)&&n.startselected){i._removeClass(n.$element,"ui-selecting");n.selecting=false;i._addClass(n.$element,"ui-selected");n.selected=true}else{i._removeClass(n.$element,"ui-selecting");n.selecting=false;if(n.startselected){i._addClass(n.$element,"ui-unselecting");n.unselecting=true}i._trigger("unselecting",t,{unselecting:n.element})}if(n.selected&&!t.metaKey&&!t.ctrlKey&&!n.startselected){i._removeClass(n.$element,"ui-selected");n.selected=false;i._addClass(n.$element,"ui-unselecting");n.unselecting=true;i._trigger("unselecting",t,{unselecting:n.element})}}});return false},_mouseStop:function(t){var n=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting");i.unselecting=false;i.startselected=false;n._trigger("unselected",t,{unselected:i.element})});e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected");i.selecting=false;i.selected=true;i.startselected=true;n._trigger("selected",t,{selected:i.element})});this._trigger("stop",t);this.helper.remove();return false}});var fe=e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=e()},_drawButton:function(){var t,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(e){this.button.focus();e.preventDefault()}});this.element.hide();this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");t=e("<span>").appendTo(this.button);this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(i).appendTo(this.button);false!==this.options.width&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=e("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault();t._setSelection();t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");if(null!=t.focusIndex&&i.index!==t.focusIndex){t._trigger("focus",e,{item:i});t.isOpen||t._select(i,e)}t.focusIndex=i.index;t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty();this._parseOptions(t);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!t.length)return;e=this._getSelectedItem();this.menuInstance.focus(null,e);this._setAria(e.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(e){if(this.options.disabled)return;if(this._rendered){this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem())}else this._refreshMenu();if(!this.menuItems.length)return;this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",e)},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){if(!this.isOpen)return;this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",e)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");this._setText(n,t.label);this._addClass(n,"ui-selectmenu-text");return n},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,o){var s;if(o.optgroup!==r){s=e("<li>",{text:o.optgroup});i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));s.appendTo(t);r=o.optgroup}i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>"),r=e("<div>",{title:n.element.attr("title")});n.disabled&&this._addClass(i,null,"ui-state-disabled");this._setText(r,n.label);return i.append(r).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";if(this.isOpen)n=this.menuItems.eq(this.focusIndex).parent("li");else{n=this.menuItems.eq(this.element[0].selectedIndex).parent("li");r+=":not(.ui-state-disabled)"}i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0);i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;if(!this.range)return;if(window.getSelection){e=window.getSelection();e.removeAllRanges();e.addRange(this.range)}else this.range.select();this.button.focus()},_documentClick:{mousedown:function(t){if(!this.isOpen)return;e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t)}},_buttonEvents:{mousedown:function(){var e;if(window.getSelection){e=window.getSelection();e.rangeCount&&(this.range=e.getRangeAt(0))}else this.range=document.selection.createRange()},click:function(e){this._setSelection();this._toggle(e)},keydown:function(t){var n=true;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t);n=false;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);n=false}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e));this._setAria(e);this._trigger("select",t,{item:e});e.index!==n&&this._trigger("change",t,{item:e});this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t);"appendTo"===e&&this.menuWrap.appendTo(this._appendTo());"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e);this.menuInstance.option("disabled",e);this.button.attr("aria-disabled",e);this._toggleClass(this.button,null,"ui-state-disabled",e);this.element.prop("disabled",e);if(e){this.button.attr("tabindex",-1);this.close()}else this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0));t&&t[0]||(t=this.element.closest(".ui-front, dialog"));t.length||(t=this.document[0].body);return t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(false===e){this.button.css("width","");return}if(null===e){e=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();e.disabled=this.element.prop("disabled");return e},_parseOptions:function(t){var n=this,i=[];t.each(function(t,r){i.push(n._parseOption(e(r),t))});this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);var de=e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];n=i.values&&i.values.length||1;if(r.length>n){r.slice(n).remove();r=r.slice(0,n)}for(t=r.length;t<n;t++)s.push(o);this.handles=r.add(e(s.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;if(t.range){true===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]);if(this.range&&this.range.length){this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}else{this.range=e("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)}else{this.range&&this.range.remove();this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,s,a,l,u,c=this,f=this.options;if(f.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();n={x:t.pageX,y:t.pageY};i=this._normValueFromMouse(n);r=this._valueMax()-this._valueMin()+1;this.handles.each(function(t){var n=Math.abs(i-c.values(t));if(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===f.min)){r=n;o=e(this);s=t}});a=this._start(t,s);if(false===a)return false;this._mouseSliding=true;this._handleIndex=s;this._addClass(o,null,"ui-state-active");o.trigger("focus");l=o.offset();u=!e(t.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(t,s,i);this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);this._slide(e,this._handleIndex,n);return false},_mouseStop:function(e){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;if("horizontal"===this.orientation){t=this.elementSize.width;n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{t=this.elementSize.height;n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}i=n/t;i>1&&(i=1);i<0&&(i=0);"vertical"===this.orientation&&(i=1-i);r=this._valueMax()-this._valueMin();o=this._valueMin()+i*r;return this._trimAlignValue(o)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};if(this._hasMultipleValues()){i.value=void 0!==t?t:this.values(e);i.values=n||this.values()}return i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r,o=this.value(),s=this.values();if(this._hasMultipleValues()){r=this.values(t?0:1);o=this.values(t);2===this.options.values.length&&true===this.options.range&&(n=0===t?Math.min(r,n):Math.max(r,n));s[t]=n}if(n===o)return;i=this._trigger("slide",e,this._uiHash(t,n,s));if(false===i)return;this._hasMultipleValues()?this.values(t,n):this.value(n)},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=t;this._trigger("change",e,this._uiHash(t))}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,n){var i,r,o;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n);this._refreshValue();this._change(null,t);return}if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();i=this.options.values;r=arguments[0];for(o=0;o<i.length;o+=1){i[o]=this._trimAlignValue(r[o]);this._change(null,o)}this._refreshValue()},_setOption:function(t,n){var i,r=0;if("range"===t&&true===this.options.range)if("min"===n){this.options.value=this._values(0);this.options.values=null}else if("max"===n){this.options.value=this._values(this.options.values.length-1);this.options.values=null}e.isArray(this.options.values)&&(r=this.options.values.length);this._super(t,n);switch(t){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(n);this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=r-1;i>=0;i--)this._change(null,i);this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(e){this._super(e);this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var t,n,i;if(arguments.length){t=this.options.values[e];t=this._trimAlignValue(t);return t}if(this._hasMultipleValues()){n=this.options.values.slice();for(i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;2*Math.abs(n)>=t&&(i+=n>0?t:-t);return parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.round((e-t)/n)*n;e=i+t;e>this.options.max&&(e-=n);this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min)));return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""});"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};if(this._hasMultipleValues())this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100;c["horizontal"===l.orientation?"left":"bottom"]=n+"%";e(this).stop(1,1)[u?"animate":"css"](c,a.animate);if(true===l.options.range)if("horizontal"===l.orientation){0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate);1===i&&l.range[u?"animate":"css"]({width:n-t+"%"},{queue:false,duration:a.animate})}else{0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate);1===i&&l.range[u?"animate":"css"]({height:n-t+"%"},{queue:false,duration:a.animate})}t=n});else{i=this.value();r=this._valueMin();o=this._valueMax();n=o!==r?(i-r)/(o-r)*100:0;c["horizontal"===this.orientation?"left":"bottom"]=n+"%";this.handle.stop(1,1)[u?"animate":"css"](c,a.animate);"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate);"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate);"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate);"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate)}},_handleEvents:{keydown:function(t){var n,i,r,o,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(e(t.target),null,"ui-state-active");n=this._start(t,s);if(false===n)return}break}o=this.options.step;i=r=this._hasMultipleValues()?this.values(s):this.value();switch(t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o);break}this._slide(t,s,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(t,n);this._change(t,n);this._removeClass(e(t.target),null,"ui-state-active")}}}});var pe=e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(e,t){this._super(e,t);"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=false,o=this;if(this.reverting)return false;if(this.options.disabled||"static"===this.options.type)return false;this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,o.widgetName+"-item")===o){i=e(this);return false}});e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target));if(!i)return false;if(this.options.handle&&!n){e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=true)});if(!r)return false}this.currentItem=i;this._removeCurrentsFromItems();return true},_mouseStart:function(t,n,i){var r,o,s=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();s.containment&&this._setContainment();if(s.cursor&&"auto"!==s.cursor){o=this.document.find("body");this.storedCursor=o.css("cursor");o.css("cursor",s.cursor);this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)}if(s.opacity){this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity"));this.helper.css("opacity",s.opacity)}if(s.zIndex){this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex"));this.helper.css("zIndex",s.zIndex)}this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",t,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));e.ui.ddmanager&&(e.ui.ddmanager.current=this);e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(t);return true},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=false;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName){this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed);this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)}else{t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed));t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))}false!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(n=this.items.length-1;n>=0;n--){i=this.items[n];r=i.item[0];o=this._intersectsWithPointer(i);if(!o)continue;if(i.instance!==this.currentContainer)continue;if(r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){this.direction=1===o?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i);this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=true;e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return false},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null}));if("original"===this.options.helper){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove();e.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))});!i.length&&t.key&&i.push(t.key+"=");return i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];t=t||{};n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")});return i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||i+u>a&&i+u<l,d="y"===this.options.axis||t+c>o&&t+c<s,p=f&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),o=i&&r;if(!o)return false;t=this._getDragVerticalDirection();n=this._getDragHorizontalDirection();return this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1)},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--){r=e(l[n],this.document[0]);for(i=r.length-1;i>=0;i--){o=e.data(r[i],this.widgetFullName);o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o])}}a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function u(){s.push(this)}for(n=a.length-1;n>=0;n--)a[n][0].each(u);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return false;return true})},_refreshItems:function(t){this.items=[];this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--){r=e(d[n],this.document[0]);for(i=r.length-1;i>=0;i--){o=e.data(r[i],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){f.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]);this.containers.push(o)}}}for(n=f.length-1;n>=0;n--){s=f[n][1];a=f[n][0];for(i=0,u=a.length;i<u;i++){l=e(a[i]);l.data(this.widgetName+"-item",s);c.push({item:l,instance:s,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item));this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--){i=this.items[n];if(i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0])continue;r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;if(!t){i.width=r.outerWidth();i.height=r.outerHeight()}o=r.offset();i.left=o.left;i.top=o.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left;this.containers[n].containerCache.top=o.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;if(!i.placeholder||i.placeholder.constructor===String){n=i.placeholder;i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper");"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src"));n||r.css("visibility","hidden");return r},update:function(e,r){if(n&&!i.forcePlaceholderSize)return;r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10));r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,s,a,l,u,c,f,d=null,p=null;for(n=this.containers.length-1;n>=0;n--){if(e.contains(this.currentItem[0],this.containers[n].element[0]))continue;if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n];p=n}else if(this.containers[n].containerCache.over){this.containers[n]._trigger("out",t,this._uiHash(this));this.containers[n].containerCache.over=0}}if(!d)return;if(1===this.containers.length){if(!this.containers[p].containerCache.over){this.containers[p]._trigger("over",t,this._uiHash(this));this.containers[p].containerCache.over=1}}else{r=1e4;o=null;c=d.floating||this._isFloating(this.currentItem);s=c?"left":"top";a=c?"width":"height";f=c?"pageX":"pageY";for(i=this.items.length-1;i>=0;i--){if(!e.contains(this.containers[p].element[0],this.items[i].item[0]))continue;if(this.items[i].item[0]===this.currentItem[0])continue;l=this.items[i].item.offset()[s];u=false;t[f]-l>this.items[i][a]/2&&(u=true);if(Math.abs(t[f]-l)<r){r=Math.abs(t[f]-l);o=this.items[i];this.direction=u?"up":"down"}}if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p]){if(!this.currentContainer.containerCache.over){this.containers[p]._trigger("over",t,this._uiHash());this.currentContainer.containerCache.over=1}return}o?this._rearrange(t,o,null,true):this._rearrange(t,null,this.containers[p].element,true);this._trigger("change",t,this._uiHash());this.containers[p]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[p];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[p]._trigger("over",t,this._uiHash(this));this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]);i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width());i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height());return i},_adjustOffsetFromHelper:function(t){"string"===typeof t&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if("absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0});return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode);"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if(!/^(document|window|parent)$/.test(r.containment)){t=e(r.containment)[0];n=e(r.containment).offset();i="hidden"!==e(t).css("overflow");this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());if(this.originalPosition){if(this.containment){t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left);t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top);t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left);t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)}if(r.grid){n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1];s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n;i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0];o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=false;var n,i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())});if(this!==this.currentContainer&&!t){i.push(function(e){this._trigger("remove",e,this._uiHash())});i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}function r(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}for(n=this.containers.length-1;n>=0;n--){t||i.push(r("deactivate",this,this.containers[n]));if(this.containers[n].containerCache.over){i.push(r("out",this,this.containers[n]));this.containers[n].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=false;t||this._trigger("beforeStop",e,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null}if(!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){false===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}});function he(e){return function(){var t=this.element.val();e.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super();var n=this.element;e.each(["min","max","step"],function(e,i){var r=n.attr(i);null!=r&&r.length&&(t[i]=r)});return t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(!t)return;if(!this.spinning&&!this._start(e))return false;this._spin((t>0?1:-1)*this.options.step,e);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100);e.preventDefault()},"mousedown .ui-spinner-button":function(t){var n;n=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function i(){var t=this.element[0]===e.ui.safeActiveElement(this.document[0]);if(!t){this.element.trigger("focus");this.previous=n;this._delay(function(){this.previous=n})}}t.preventDefault();i.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;i.call(this)});if(false===this._start(t))return;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(!e(t.currentTarget).hasClass("ui-state-active"))return;if(false===this._start(t))return false;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:false});this.buttons.last().button({icon:this.options.icons.down,showLabel:false});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:this._repeat(null,1,t);return true;case i.DOWN:this._repeat(null,-1,t);return true;case i.PAGE_UP:this._repeat(null,n.page,t);return true;case i.PAGE_DOWN:this._repeat(null,-n.page,t);return true}return false},_start:function(e){if(!this.spinning&&false===this._trigger("start",e))return false;this.counter||(this.counter=1);this.spinning=true;return true},_repeat:function(e,t,n){e=e||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,n)},e);this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1);n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||false!==this._trigger("spin",t,{value:n})){this._value(n);this.counter++}},_increment:function(t){var n=this.options.incremental;if(n)return e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1);return 1},_precision:function(){var e=this._precisionOf(this.options.step);null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min)));return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;t=null!==i.min?i.min:0;n=e-t;n=Math.round(n/i.step)*i.step;e=t+n;e=parseFloat(e.toFixed(this._precision()));if(null!==i.max&&e>i.max)return i.max;if(null!==i.min&&e<i.min)return i.min;return e},_stop:function(e){if(!this.spinning)return;clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",e)},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e){n=this._parse(this.element.val());this.options[e]=t;this.element.val(this._format(n));return}"max"!==e&&"min"!==e&&"step"!==e||"string"===typeof t&&(t=this._parse(t));if("icons"===e){i=this.buttons.first().find(".ui-icon");this._removeClass(i,null,this.options.icons.up);this._addClass(i,null,t.up);r=this.buttons.last().find(".ui-icon");this._removeClass(r,null,this.options.icons.down);this._addClass(r,null,t.down)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e);this.element.prop("disabled",!!e);this.buttons.button(e?"disable":"enable")},_setOptions:he(function(e){this._super(e)}),_parse:function(e){"string"===typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e);return""===e||isNaN(e)?null:e},_format:function(e){if(""===e)return"";return window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();if(null===e)return false;return e===this._adjustValue(e)},_value:function(e,t){var n;if(""!==e){n=this._parse(e);if(null!==n){t||(n=this._adjustValue(n));e=this._format(n)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:he(function(e){this._stepUp(e)}),_stepUp:function(e){if(this._start()){this._spin((e||1)*this.options.step);this._stop()}},stepDown:he(function(e){this._stepDown(e)}),_stepDown:function(e){if(this._start()){this._spin((e||1)*-this.options.step);this._stop()}},pageUp:he(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:he(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());he(this._value).call(this,e)},widget:function(){return this.uiSpinner}});false!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var ve=e.ui.spinner;e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;n=t.href.replace(e,"");i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,n.collapsible);this._processTabs();n.active=this._initialActive();e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort());false!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e();this._refresh();this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);if(null===t){i&&this.tabs.each(function(n,r){if(e(r).attr("aria-controls")===i){t=n;return false}});null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active")));null!==t&&-1!==t||(t=!!this.tabs.length&&0)}if(false!==t){t=this.tabs.index(this.tabs.eq(t));-1===t&&(t=!n&&0)}!n&&false===t&&this.anchors.length&&(t=0);return t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=true;if(this._handlePageNav(t))return;switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=false;i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:t.preventDefault();clearTimeout(this.activating);this._activate(i);return;case e.ui.keyCode.ENTER:t.preventDefault();clearTimeout(this.activating);this._activate(i!==this.options.active&&i);return;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,r);if(!t.ctrlKey&&!t.metaKey){n.attr("aria-selected","false");this.tabs.eq(i).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",i)},this.delay)}},_panelKeydown:function(t){if(this._handlePageNav(t))return;if(t.ctrlKey&&t.keyCode===e.ui.keyCode.UP){t.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(t){if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(t,n){var i=this.tabs.length-1;function r(){t>i&&(t=0);t<0&&(t=i);return t}while(-1!==e.inArray(r(),this.options.disabled))t=n?t+1:t-1;return t},_focusNextTab:function(e,t){e=this._findNextTab(e,t);this.tabs.eq(e).trigger("focus");return e},_setOption:function(e,t){if("active"===e){this._activate(t);return}this._super(e,t);if("collapsible"===e){this._toggleClass("ui-tabs-collapsible",null,t);t||false!==this.options.active||this._activate(0)}"event"===e&&this._setupEvents(t);"heightStyle"===e&&this._setupHeightStyle(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)});this._processTabs();if(false!==t.active&&this.anchors.length)if(this.active.length&&!e.contains(this.tablist[0],this.active[0]))if(this.tabs.length===t.disabled.length){t.active=false;this.active=e()}else this._activate(this._findNextTab(Math.max(0,t.active-1),false));else t.active=this.tabs.index(this.active);else{t.active=false;this.active=e()}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(this.active.length){this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}else this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=e();this.anchors.each(function(n,i){var r,o,s,a=e(i).uniqueId().attr("id"),l=e(i).closest("li"),u=l.attr("aria-controls");if(t._isLocal(i)){r=i.hash;s=r.substring(1);o=t.element.find(t._sanitizeSelector(r))}else{s=l.attr("aria-controls")||e({}).uniqueId()[0].id;r="#"+s;o=t.element.find(r);if(!o.length){o=t._createPanel(s);o.insertAfter(t.panels[n-1]||t.tablist)}o.attr("aria-live","polite")}o.length&&(t.panels=t.panels.add(o));u&&l.data("ui-tabs-aria-controls",u);l.attr({"aria-controls":s,"aria-labelledby":a});o.attr("aria-labelledby",a)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(n){this._off(n.not(this.tabs));this._off(i.not(this.anchors));this._off(r.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",true)},_setOptionDisabled:function(t){var n,i,r;e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=true):t=false);for(r=0;i=this.tabs[r];r++){n=e(i);if(true===t||-1!==e.inArray(r,t)){n.attr("aria-disabled","true");this._addClass(n,null,"ui-state-disabled")}else{n.removeAttr("aria-disabled");this._removeClass(n,null,"ui-state-disabled")}}this.options.disabled=t;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,true===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(e){e.preventDefault()}});this._on(this.anchors,n);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();if("fill"===t){n=i.height();n-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");if("absolute"===i||"fixed"===i)return;n-=t.outerHeight(true)});this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(true)});this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else if("auto"===t){n=0;this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n)}},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?e():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:u,newTab:a?e():o,newPanel:l};t.preventDefault();if(o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||false===this._trigger("beforeActivate",t,c))return;n.active=!a&&this.tabs.index(o);this.active=s?e():o;this.xhr&&this.xhr.abort();u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier.");l.length&&this.load(this.tabs.index(o),t);this._toggle(t,c)},_toggle:function(t,n){var i=this,r=n.newPanel,o=n.oldPanel;this.running=true;function s(){i.running=false;i._trigger("activate",t,n)}function a(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(r.length&&i.options.show)i._show(r,i.options.show,s);else{r.show();s()}}if(o.length&&this.options.hide)this._hide(o,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active");a()});else{this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o.hide();a()}o.attr("aria-hidden","true");n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr("aria-hidden","false");n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);if(i[0]===this.active[0])return;i.length||(i=this.active);n=i.find(".ui-tabs-anchor")[0];this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return false===t?e():this.tabs.eq(t)},_getIndex:function(t){"string"===typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']")));return t},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;if(false===n)return;if(void 0===t)n=false;else{t=this._getIndex(t);n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})}this._setOptionDisabled(n)},disable:function(t){var n=this.options.disabled;if(true===n)return;if(void 0===t)n=true;else{t=this._getIndex(t);if(-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(e,t){"abort"===t&&i.panels.stop(false,true);i._removeClass(r,"ui-tabs-loading");s.removeAttr("aria-busy");e===i.xhr&&delete i.xhr};if(this._isLocal(o[0]))return;this.xhr=e.ajax(this._ajaxSettings(o,n,a));if(this.xhr&&"canceled"!==this.xhr.statusText){this._addClass(r,"ui-tabs-loading");s.attr("aria-busy","true");this.xhr.done(function(e,t,r){setTimeout(function(){s.html(e);i._trigger("load",n,a);l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})}},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}});false!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});var me=e.ui.tabs;e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n);t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=e.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n);"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0];t.close(r,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))});this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);if(!i.length||i.data("ui-tooltip-id"))return;i.attr("title")&&i.data("ui-tooltip-title",i.attr("title"));i.data("ui-tooltip-open",true);t&&"mouseover"===t.type&&i.parents().each(function(){var t=e(this),i;if(t.data("ui-tooltip-open")){i=e.Event("blur");i.target=i.currentTarget=this;n.close(i,true)}if(t.attr("title")){t.uniqueId();n.parents[this.id]={element:this,title:t.attr("title")};t.attr("title","")}});this._registerCloseHandlers(t,i);this._updateContent(i,t)},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;if("string"===typeof i||i.nodeType||i.jquery)return this._open(t,e,i);n=i.call(e[0],function(n){r._delay(function(){if(!e.data("ui-tooltip-open"))return;t&&(t.type=o);this._open(t,e,n)})});n&&this._open(t,e,n)},_open:function(t,n,i){var r,o,s,a,l=e.extend({},this.options.position);if(!i)return;r=this._find(n);if(r){r.tooltip.find(".ui-tooltip-content").html(i);return}n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title"));r=this._tooltip(n);o=r.tooltip;this._addDescribedBy(n,o.attr("id"));o.find(".ui-tooltip-content").html(i);this.liveRegion.children().hide();a=e("<div>").html(o.find(".ui-tooltip-content").html());a.removeAttr("name").find("[name]").removeAttr("name");a.removeAttr("id").find("[id]").removeAttr("id");a.appendTo(this.liveRegion);function u(e){l.of=e;if(o.is(":hidden"))return;o.position(l)}if(this.options.track&&t&&/^mouse/.test(t.type)){this._on(this.document,{mousemove:u});u(t)}else o.position(e.extend({of:n},this.options.position));o.hide();this._show(o,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){if(o.is(":visible")){u(l.of);clearInterval(s)}},e.fx.interval));this._trigger("open",t,{tooltip:o})},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0];this.close(i,true)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)});t&&"mouseover"!==t.type||(i.mouseleave="close");t&&"focusin"!==t.type||(i.focusout="close");this._on(true,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);if(!o){r.removeData("ui-tooltip-open");return}n=o.tooltip;if(o.closing)return;clearInterval(this.delayedShow);r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title"));this._removeDescribedBy(r);o.hiding=true;n.stop(true);this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))});r.removeData("ui-tooltip-open");this._off(r,"mouseleave focusout keyup");r[0]!==this.element[0]&&this._off(r,"remove");this._off(this.document,"mousemove");t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title);delete i.parents[t]});o.closing=true;this._trigger("close",t,{tooltip:n});o.hiding||(o.closing=false)},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),r=n.uniqueId().attr("id");this._addClass(i,"ui-tooltip-content");this._addClass(n,"ui-tooltip","ui-widget ui-widget-content");n.appendTo(this._appendTo(t));return this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");t.length||(t=this.document[0].body);return t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0];t.close(r,true);e("#"+n).remove();if(o.data("ui-tooltip-title")){o.attr("title")||o.attr("title",o.data("ui-tooltip-title"));o.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});false!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass);return e}});var ge=e.ui.tooltip})},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(92)],r=function(e,t){var n;n=t.extend({getRowCount:function e(){return 0},getFirstElementIndex:function e(){return-1},getLastElementIndex:function e(){return-1},getIndexOf:function e(t){return t.getIndex()},onVirtualScroll:function t(){return e.resolve()},onGotoNextBlock:function t(){return e.resolve()},onGotoPreviousBlock:function t(){return e.resolve()},onInitialNativeScroll:function t(){return e.resolve()}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(48),n(355),n(776),n(777),n(96),n(99),n(356),n(778)],r=function(e,t,n,i,r,s,a){t.directive("qvScrollArea",["$document",function(t){return{restrict:"E",transclude:true,template:i,replace:true,scope:{scrollbarSize:"=?",nonMouseViewportScrolling:"=?",direction:"=?"},require:"qvScrollArea",controller:n,link:function n(i,r,l,u){function c(e,t){var n=i.viewportRect.left,r=i.viewportRect.top,o=i.viewportRect.left+i.viewportRect.width,s=i.viewportRect.top+i.viewportRect.height;return e>=n&&e<=o&&t>=r&&t<=s}"number"!==typeof i.scrollbarSize&&(i.scrollbarSize=8);i.direction||(i.direction="ltr");i.$watch("scrollbarX.enabled",function(e){true===e&&r.css("overflow-x","hidden")});i.$watch("scrollbarY.enabled",function(e){true===e&&r.css("overflow-y","hidden")});i.namespace=".scroll-area-"+i.$id;function f(){r.off(i.namespace);t.off(i.namespace);s(r[0]).off("*",i.namespace)}i.on=function(){r.on("wheel"+i.namespace,function(e){e.preventDefault();var t=e.originalEvent,n=t.shiftKey?t.deltaY:t.deltaX,i=t.shiftKey?t.deltaX:t.deltaY,r=u.getScrollAmount(n,i,t.deltaMode);u.scroll(r.deltaX,r.deltaY,false,false);if(!a.treatAsDesktop()){u.setMouseTrackSize();u.fadeInScrollbars();u.fadeOutScrollbarsDelayed()}u.digest()});t.on("keydown"+i.namespace,function(t){var n=0,r=0,o,s,a=e(t.target),l=a.is("input")||a.is("textarea");if(i.hover&&!l){switch(t.keyCode){case 33:r=1;o=u.DELTA_MODE.PAGE;break;case 34:r=-1;o=u.DELTA_MODE.PAGE;break;case 36:r=1;o=u.DELTA_MODE.AREA;break;case 35:r=-1;o=u.DELTA_MODE.AREA;break;case 38:r=1;o=u.DELTA_MODE.LINE;break;case 40:r=-1;o=u.DELTA_MODE.LINE;break;case 39:n=-1;o=u.DELTA_MODE.LINE;break;case 37:n=1;o=u.DELTA_MODE.LINE;break;default:return}s=u.getScrollAmount(n,r,o);u.scroll(-s.deltaX,-s.deltaY,false,false);u.digest()}});r.on("mouseenter"+i.namespace+"pointerenter"+i.namespace,function(e){i.isMouse=a.isMouse(e.originalEvent);if(i.isMouse){i.hover=true;if(a.treatAsDesktop()){u.setMouseTrackSize();u.fadeInScrollbars()}u.digest()}else e.preventDefault()});r.on("mouseleave"+i.namespace+"pointerleave"+i.namespace,function(e){i.isMouse=a.isMouse(e.originalEvent);if(i.isMouse){i.hover=false;a.treatAsDesktop()&&u.fadeOutScrollbars()}});if("object"===o(i.nonMouseViewportScrolling)){"number"!==typeof i.nonMouseViewportScrolling.scrollbarSize&&(i.nonMouseViewportScrolling.scrollbarSize=36);"string"!==typeof i.nonMouseViewportScrolling.className&&(i.nonMouseViewportScrolling.className="show-non-mouse-scrollbars");s(r[0]).swipe({id:i.namespace,options:{radiusThreshold:0,useMomentum:true,inertia:.7,preventDefault:true},start:function e(t,n){if(a.isMouse(t)){this.cancel();return}if(!c(n.pagePoints[0].x-this.rect.x,n.pagePoints[0].y-this.rect.y)){this.cancel();return}u.setMouse(false);u.setNonMouseTrackSize();u.scrollStart();u.fadeInScrollbars();u.digest()},update:function e(t,n){var r=i.scrollbarX.getScrollDelta(n)[0],o=i.scrollbarY.getScrollDelta(n)[1];u.scroll(-1*r,-1*o,false,true);u.digest()},end:function e(){u.scrollEnd();u.fadeOutScrollbars();u.digest()}})}return f};i.$on("$destroy",function(){f()})}}}]);t.directive("qvScrollbar",["qvScrollAreaService",function(e){return{restrict:"E",require:["^qvScrollArea","qvScrollbar"],scope:{data:"=",interactive:"=",viewportRect:"="},template:r,replace:true,controller:function e(){},link:function t(n,i,r,o){var s=o[0],l=o[1];if("vertical"===n.data.direction){n.data.classList.push("vertical");s.addScrollbarYCtrl(l)}else{n.data.classList.push("horizontal");s.addScrollbarXCtrl(l)}function u(e){i[e?"addClass":"removeClass"]("fade")}l.allowFade=function(){return!n.data.active};l.fadeIn=function(){return u(true)};l.fadeOut=function(){return u(false)};n.thumbStyle={};n.$watch("data.thumb",function(){e.setThumbStyle(n.thumbStyle,n.data)},true);n.$watch("data.vPage",function(){e.setThumbStyle(n.thumbStyle,n.data)});n.$watch("data.vLength",function(){e.setThumbStyle(n.thumbStyle,n.data)});n.$watch("data.enabled",function(e){s.isMouseOver()&&e&&l.fadeIn()});n.setThumbStyle=e.setThumbStyle.bind(null,n.thumbStyle,n.data);n.trackHitAreaStyle={};n.$watch("data.trackSize",function(t){if(void 0===t)return;e.setTrackHitAreaStyle(n.trackHitAreaStyle,n.data,t)});n.start=function(e){s.setMouse(e);if(!n.data.active&&!a.treatAsDesktop()){e?s.setMouseTrackSize():s.setNonMouseTrackSize();s.fadeInScrollbars()}n.data.active=true;s.scrollStart()};n.update=function(e,t){s.scroll(e,t,false,true)};n.end=function(e){var t=n.data,i=0,r=t.vLength-t.vViewportLength;t.vPos<i?t.vPos=i:t.vPos>r&&(t.vPos=r);n.data.active=false;s.scrollEnd();e?s.fadeOutScrollbarsDelayed():s.fadeOutScrollbars()};n.on=function(){n.hitAreaOff=n.hitAreaOn();n.thumbOff=n.thumbOn();return function(){n.hitAreaOff();n.thumbOff()}};n.$watch("interactive",function(e){e?n.off=n.on():n.off&&n.off()})}}}]);t.directive("qvScrollbarThumb",[function(){return{restrict:"E",template:"<div></div>",replace:true,require:"^qvScrollArea",link:function e(t,n,i,r){t.thumbOn=function(){s(n[0]).tap({start:function e(n){s.preventGestures(this.gestureHandler);t.start(a.isMouse(n));r.digest()}}).swipe({options:{radiusThreshold:0},update:function e(n,i){t.update.apply(t,t.data.getScrollDelta(i));r.digest()},end:function e(){t.end();r.digest()}});return function(){s(n[0]).off()}};t.$on("$destroy",function(){s(n[0]).off()})}}}]);t.directive("qvScrollbarTrackHitArea",[function(){return{restrict:"E",replace:true,template:"<div></div>",require:"^qvScrollArea",link:function e(t,n,i,r){function o(e,n){var i=t.data.thumb.size,o=t.data.thumb.pos,s=0,a=0,l,u,c,f,d;switch(t.data.direction){case"vertical":u=e.pagePoints[0].y-n.y<o;c=e.pagePoints[0].y-n.y>o+i;if(c){l=r.getScrollAmount(0,-1,r.DELTA_MODE.PAGE);s=0;a=-l.deltaY}else if(u){l=r.getScrollAmount(0,1,r.DELTA_MODE.PAGE);s=0;a=-l.deltaY}break;case"horizontal":f=e.pagePoints[0].x-n.x<o;d=e.pagePoints[0].x-n.x>o+i;if(f){l=r.getScrollAmount(1,0,r.DELTA_MODE.PAGE);s=-l.deltaX;a=0}else if(d){l=r.getScrollAmount(-1,0,r.DELTA_MODE.PAGE);s=-l.deltaX;a=0}break}r.scroll(s,a)}function l(e,n){switch(t.data.direction){case"vertical":t.update(0,(e.pagePoints[0].y-n.y-(t.data.thumb.pos+t.data.thumb.size/2))*(1/t.data.scaleFactor));break;case"horizontal":t.update((e.pagePoints[0].x-n.x-(t.data.thumb.pos+t.data.thumb.size/2))*(1/t.data.scaleFactor),0);break;default:throw new Error("not implemented")}}t.hitAreaOn=function(){s(n[0]).tap({start:function e(n,i){s.preventGestures(this.gestureHandler);t.start(a.isMouse(n));t.setThumbStyle();a.isMouse(n)?o(i,this.rect):l(i,this.rect);r.digest()},end:function e(){t.end(true);r.digest()}}).swipe({options:{radiusThreshold:0},start:function e(n,i){if(a.isMouse(n)){this.cancel();return}t.update.apply(t,t.data.getScrollDelta(i));r.digest()},update:function e(n,i){t.update.apply(t,t.data.getScrollDelta(i));r.digest()},end:function e(){t.end(true);r.digest()}});return function(){s(n[0]).off()}};t.$on("$destroy",function(){s(n[0]).off()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(90),n(91),n(48),n(162),n(230),n(89),n(94),n(114),n(634)],r=function(e,t,n,i,r,s,a,l,u){var c=1e3,f=null;function d(e){var t=!f||f!==e;if(t){f=e;setTimeout(function(){f=null},c)}return t}function p(e,t,n){var i=new a,r=e.layout,o=r.qInfo.qId;if(d(o))return h(r,e,true,n).then(function(e){delete e.qInfo;return v(t,e)});i.reject();return i.promise}function h(n,i,o,s,u){var c=new a,f=new Date,d=o?t.extend(true,{},n):n;b(i,d,u).then(function(){r.getProperties().then(function(r){d.snapshotData={object:{size:i.objectSize},rtl:void 0!==r.rtl&&r.rtl};i.setSnapshotData(d,s||{}).then(function(){if(o){d.qInfo.qId=t.generateId();d.visualizationType=n.qInfo.qType;d.sourceObjectId=n.qInfo.qId;d.sheetId=l.model?l.model.id:"";d.timestamp=f.getTime();d.isClone=false;d.qMetaDef={title:n.title};d.supportExport=i.supportExport();delete d.qExtendsId;var r=e(".qv-panel-sheet");d.snapshotData.parent={h:r.length?r.height():e(window).height(),w:r.length?r.width():e(window).width()}}else{d.snapshotData.object.origDataPages=i.model.layout.snapshotData.object.origDataPages;d.snapshotData.content&&(d.snapshotData.content.chartData=t.extend(true,{},i.model.layout.snapshotData.content.chartData))}c.resolve(d)})})});return c.promise}function v(e,t){var r=new a;s.create(t).then(function(t){if(t.limit){m(e.find(".qv-object"));r.resolve(t.id)}else i.getService("qvAlertDialog").show({title:n.get("Storytelling.Snapshot.MaxLimitReached.Title"),message:n.get("Storytelling.Snapshot.MaxLimitReached.Text"),closeLabel:n.get("Common.OK")})});return r.promise}function m(t){t.prepend(e('<div class="qv-snapshot-tool-flash '+u.direction+'" />').bind("oanimationend animationend webkitAnimationEnd",function(){e(this).remove()}))}function g(e){return s.getSnapshotCount(e)}function b(e,n,i){var r=[],s=[],l=new a;"undefined"===typeof i&&(i=true);n.qExtendsId&&"text-image"===n.visualization?e.model.app.getObject(n.qExtendsId).then(function(e){e.getProperties().then(function(e){u(e)})}):e.model.getProperties().then(function(e){u(e)});function u(e){f(r,"qStaticContentUrl",n,i);f(s,"qStaticContentUrlDef",e);c();l.resolve(n)}function c(){r.forEach(function(e,n){t.extend(true,e,s[n])})}function f(e,t,n,i){for(var r in n)if(n.hasOwnProperty(r)&&"qHyperCube"!==r&&"qHyperCubeDef"!==r)if(r===t){if(i){delete n[r];n.qStaticContentUrlDef={}}e.push(n.qStaticContentUrlDef)}else"object"===o(n[r])&&f(e,t,n[r],i)}return l.promise}function y(e,t){var i=JSON.stringify({data:e,appLocaleInfo:t||{},language:n.language});return i}return{createSnapshot:p,getNumberOfSnapshots:g,prepSnapshotData:h,prepareStaticContent:b,formatSnapshotForRendering:y}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(197),n(285),n(251)],r=function(e,t,n){var i="DATAMODELVIEWER_GLOBAL_CONFIGRATION_INTERNAL_TABLE_VIEW";var r="dmv.islocked",o="dmv.internaltableview",s="dmv.tablesizedata",a="dmv.lastUsedResizeMode",l;function u(){return p(r)}function c(){return p(o)}function f(){return p(s)}function d(){return p(a)}function p(e){if(!l)throw new Error('Cannot create key for "'+e+'", as I have not yet gotten a hashed app id.');return e+"."+l}function h(t){var n=u();e.set(n,{value:t})}function v(){var t=u();return!!e.contains(t)&&e.get(t).value}function m(n){var r=c();e.set(r,{value:n});t.notifyAll(i,n)}function g(t){var n=f();e.set(n,{value:t})}function b(t){var n=d();e.set(n,{value:t})}function y(t){var n=d();return!!e.contains(n)&&t===e.get(n).value}function x(){var t=f();var n=e.get(t).value;return n}function _(){var t=f();return e.contains(t)}function w(){var t=c();return!e.contains(t)||e.get(t).value}function q(e){l=n.sha256(e);t.notifyAll(i,w())}function C(e){t.addObserver(i,e)}return{setIsLocked:h,isLocked:v,setIsInternalTableView:m,setTableSizeData:g,setLastUsedResizeMode:b,isLastUsedResizeMode:y,getTableSizeData:x,hasTableSizeData:_,isInternalTableView:w,setAppID:q,onInternalTableViewChange:C,STORAGE_KEY_IS_LOCKED:r,STORAGE_KEY_IS_INTERNAL_TABLE_VIEW:o,STORAGE_KEY_TABLE_SIZE_DATA:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(11),n(48),n(96),n(127),n(99),n(780)],r=function(e,t,n,i,r,o,s){var a=e.extend("DefaultSortableList",{init:function e(n,i){this.options=t.extend(true,{gesture:{name:"swipe",options:{radiusThreshold:2,preventDefault:false}},direction:"",scrollSelector:"",listSelector:"",containerSelector:"",listKey:"",itemSelector:"[ng-repeat]",itemDragSelector:"[ng-repeat]",itemGhostSelector:"",isOuterScroll:false,suppressDragStyle:[],suppressEnd:function e(){return false},itemKey:"$index",zIndex:1},n||{});this.ctrl=i},onBegin:function e(){},onEnter:function e(){},onEnterList:function e(){},onMove:function e(){},onMoveToList:function e(){},onCancel:function e(){},onEnd:function e(){},allowDrag:function e(t){if(s.isMouse(t))return!!n(t.target).closest(this.options.itemSelector).length;return!!n(t.target).closest(this.options.itemDragSelector).length},allowScroll:function e(t){return!this.allowDrag(t)},allowEnter:function e(){return true},allowEnterList:function e(){return true},allowAutoScroll:function e(){return true},onAutoScroll:function e(t){t()},getGesture:function e(){return this.options.gesture},getDirection:function e(){return this.options.direction},getScrollSensitivity:function e(t){return s.isMouse(t)?15:25},getScrollSpeed:function e(t){return s.isMouse(t)?15:25}});i.directive("qvSortableList",["qvSortableListDragService",function(e){return{restrict:"A",controller:function e(){},link:function t(i,s,l,u){var c=i.$watch(l.qvSortableList,function(t){c();if(t instanceof a)t.ctrl=u;else{var l=a.extend(t||{});t=new l(t&&t.options,u)}var f=s.closest(t.options.scrollSelector);f.length||(f=s);var d;var p=e.$new(t.options);var h;var v;var m;var g="sortable-list-"+i.$id;var b;var y={id:g,options:{preventDefault:false},start:function i(r,s){d=void 0;if(o.isInput(r.target)||!e.isChild(f[0],r.target))return;if(!t.allowDrag(r))return;d=n(r.target).closest(t.options.itemGhostSelector||t.options.itemSelector);if(0===d.length){d=void 0;return}var a;if(t.options.containerSelector){var l=d.closest(t.options.containerSelector);l.length&&(a=l)}p.direction=t.getDirection();h=t.getScrollSpeed(r);v=t.getScrollSensitivity(r);e.startOffset(f,p,d,s.pagePoints[0],t.options.isOuterScroll,a);e.startData(f,p,d,t.options.itemKey)},end:function e(){d=void 0}};var x={id:g,start:function n(o){if(!d){this.cancel();return}o.preventDefault();r.WebkitHack.prevent();t.onBegin(p.fromItem,p.clientRect);i.$digest();e.start(f,p,d)},update:function n(r,o){if(!d){this.cancel();return}function s(){if(t.allowEnter(p.enterItem,p.fromItem)){p.toItem=p.enterItem;p.toList=void 0;t.onEnter(p.enterItem,p.enterItemAction);i.$digest()}}function a(){if(t.allowEnterList(p.enterList,p.fromItem)){p.toItem=void 0;p.toList=p.enterList;t.onEnterList(p.enterList);i.$digest()}}function n(){e.update(f,p,d,o.swipe);e.updateDragCoordinates(p,void 0!==o.clientX?o.clientX:o.pagePoints[0].x,void 0!==o.clientY?o.clientY:o.pagePoints[0].y,t.options.boundingRect);e.updateData(f,p,d,t.options.listSelector,t.options.listKey,t.options.itemSelector,t.options.itemKey,s,a)}if(r.touches&&r.touches[0]){o.clientX=r.touches[0].clientX;o.clientY=r.touches[0].clientY}else{o.clientX=r.clientX;o.clientY=r.clientY}n();if(t.allowAutoScroll()){var l=e.autoScroll.bind(this,f[0],p.scroll.clientRect,p.scroll.width,p.scroll.height,p,n,h,v);t.onAutoScroll(l,p.enterList,p.enterItem,function(t,i,r,o){e.autoScroll(t,i,r,o,p,n,h,v)})}},end:function n(r,o){e.end(p,d);t.options.suppressEnd(o)||(void 0!==p.toItem?t.onMove(p.fromItem,p.toItem):void 0!==p.toList?t.onMoveToList(p.fromItem,p.toList):t.onCancel(p.fromItem));i.$digest();t.onEnd(p.fromItem);d=void 0},cancel:function n(){if(!d)return;e.end(p,d);t.onCancel(p.fromItem);d=void 0;"$digest"!==i.$root.$$phase&&i.$digest()}};m=t.options.gesture;x.options=m.options;function _(){d=void 0;r(s[0])[m.name](x).tap(y);r(f[0]).tap({id:"sortable-list-tap-"+i.$id,options:{preventDefault:false},start:function e(i){if(!t.allowScroll(i)&&!o.isInput(i.target)){var r=n(i.target).hasClass("slider")||n(i.target).parent().hasClass("slider");r||i.preventDefault()}}});return function(){r(f[0]).off("*","sortable-list-tap-"+i.$id);r(s[0]).off("*",g)}}i.$on("$destroy",function(){r(f[0]).off("*","sortable-list-tap-"+i.$id);r(s[0]).off("*",g)});u.on=function(){b||(b=_())};u.off=function(){if(b){b();b=void 0}};u.cancel=function(){x.cancel()};u.on()})}}}]);return a}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(378)],r=function(e){function t(t){if(void 0===t)throw new Error("String is undefined.");if(0===t.length)throw new Error("String is empty.");var n=e(t);return n}return{sha256:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(109)],r=function(e){var t={},n={},i=5e3,r=0,o=Math.floor;function s(e,t){return function(){var n=function e(){},i,r;n.prototype=e.prototype;i=new n;r=e.apply(i,t);return Object(r)===r?r:i}}function a(){r++}function l(){var o,l,u,c;if(arguments.length<3)"string"===typeof arguments[0]?o=arguments[0]:"number"===typeof arguments[0]&&arguments[0]>=0&&(o=arguments[0]+"");else if(arguments.length>=3){o=arguments[0];for(u=0;u>arguments.length;u++)o+=","+arguments[u]}if(o&&t[o])return t[o];c=s(e,arguments)();l=c.isInvalid()?"INVALID":c._r+","+c._g+","+c._b+","+c._a;if(n[l])c=n[l];else{if(r>=i)return c;n[l]=c;a()}o&&(t[o]=c);return c}function u(t,l,u){var c,f;var d=o(t._r+(l._r-t._r)*u),p=o(t._g+(l._g-t._g)*u),h=o(t._b+(l._b-t._b)*u),v=o(t._a+(l._a-t._a)*u);c=d+","+p+","+h+","+v;if(n[c])f=n[c];else{f=s(e,[d,p,h,v])();if(r>=i)return f;n[c]=f;a()}return f}function c(){t={};n={};r=0}return{retriveColor:l,retriveBlend:u,clear:c}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(102),n(89),n(93),n(110)],r=function(e,t,n,i,r){var o=r.NxLocalizedErrorCode;var s=null;var a=[];var l=1e3;var u=/(?!^GetHyperCube|^GetListObject)(^Get)/i;function c(e,t,n,i){e.Send.emit(n);n.outKey=-1;var r=t.send(n);e.dfdCache[n.id]=i;e.reqCache[n.id]=n;i.id=n.id;i.promise.requestId=r.requestId;return i.promise}function f(e){var n=this;t.mixin(n);n.notification("Open");n.notification("Close");n.notification("Send");n.notification("Data");n.notification("Error");n.notification("ClosedHandles");n.notification("ChangedHandles");n.notification("Notification");n.notification("Warning");n.changeHandlers={};n.cacheName=e.cacheName;n.dfdCache={};n.reqCache={};n.modelCache={};n.options=e;n.socket={url:""}}f.prototype={open:function e(){return this.enigmaPromise},onError:function e(t){var n=this;Object.keys(n.dfdCache).forEach(function(e){t.error={err:t,isHandled:true};n.dfdCache[e].reject(t)});n.Error.emit(t)},_cleanup:function e(){var n=this;if(!n.Close)return;n.Close.emit();for(var i in n.modelCache)n.modelCache[i].then(function(e){e.close(true)});t.release(n)},onClose:function e(){var t=this;if(t._isClosed)return;delete f.__cache[t.cacheName];f.useTimeoutOnClose?setTimeout(t._cleanup.bind(t),l):t._cleanup();t._isClosed=true},onData:function e(t){var n=this;var i=n.dfdCache[t.id];t.change&&n.handleChanged(t);t.close&&n.handleClosed(t);f.debounceApply(function(){if(t.handle&&!n.changeHandlers[t.handle]&&i)i.reject("No model mapped to handle");else if(t.result){n.Data.emit(t);t.warnings&&n.Warning.emit(t);i&&i.resolve(t)}else if(t.params){n.Notification.emit(t);i&&i.resolve(t)}else if(t.suspend){n.rpc({method:"Resume",params:[],handle:t.suspend[0]});i&&i.resolve(t)}else if(t.error){var e=n.reqCache[t.id];if(e)if(t.error.code===o.LOCERR_GENERIC_ABORTED&&u.test(e.method)){t.error.isHandled=true;c(n,n.__enigmaSession,e,i)}else{i&&i.reject(t);n.Error.emit(t)}}delete n.dfdCache[t.id];delete n.reqCache[t.id]})},handleChanged:function e(t){var n=this;t.change.forEach(function(e){var t=n.changeHandlers[e];t&&t.forEach(function(e){e()})});n.ChangedHandles.emit(t.change)},handleClosed:function e(t){var n=this;Object.keys(n.modelCache).forEach(function(e){n.modelCache[e].then(function(e){t.close.indexOf(e.handle)>-1&&e.close(true)})});n.ClosedHandles.emit(t.close)},close:function e(){var t=this;t.enigmaPromise.then(function(){t.__enigmaSession.close()})},suspend:function e(){var t=this;t.enigmaPromise.then(function(){t.__enigmaSession.suspendResume.suspend()})},resume:function e(t){var n=this;return n.enigmaPromise.then(function(){return n.__enigmaSession.suspendResume.resume(t)})},rpc:function e(t,i){var r=this;i||(i=new n);if(r.__enigmaSession)return c(r,r.__enigmaSession,t,i);return r.enigmaPromise.then(function(){return c(r,r.__enigmaSession,t,i)})},onChange:function e(t,n){this.changeHandlers[t]||(this.changeHandlers[t]=[]);this.changeHandlers[t].push(n)},getRequest:function e(t){return this.reqCache[t]||null}};f.useTimeoutOnClose=true;f.__cache={};f.createInput=function(e,t){t=t||{};t.appName=e;t.cacheName=f.buildUrl(t);return t};f.debounceApply=function(t){clearTimeout(s);a.push(t);s=setTimeout(function(){e.$apply(e.$rootScope,function(){for(var e=0;e<a.length;e++)try{a[e]()}catch(e){}a.length=0})})};function d(e,t,n,i){n.open().then(function(){e[t](i)})}function p(e){var t=e.__enigmaSession;t.on("suspended",function(t){"network"===t.initiator&&e.close()});t.on("closed",function(n){d(e,"onClose",t,n)});t.rpc.on("error-socket",function(n){d(e,"onError",t,n)});t.rpc.on("message",function(n){d(e,"onData",t,n)});t.rpc.on("notification",function(n){d(e,"onData",t,n)})}f.get=function(e,t){e=e||"";var n=f.createInput(e,t);var r;function o(e){r.__enigmaApp=e.app||e;r.__enigmaGlobal=e.global||e;r.__enigmaSession=(e.app||e.global||e).session;p(r)}r=new f(n);f.__cache[n.cacheName]=r;if(e&&"?transient="!==e&&!t.sessionApp)r.enigmaPromise=i.get(e,t).then(o);else if(t.sessionApp&&t.sessionApp.value&&t.sessionApp.appId){t.route="app/"+encodeURIComponent(t.sessionApp.appId);r.enigmaPromise=i.getSessionApp(t.sessionApp.appId,t).then(o)}else{"?transient="===e&&(t.route="app/"+encodeURIComponent(e));r.enigmaPromise=i.getGlobal(t).then(o)}return r};f.getIfCached=function(e,t){var n=f.createInput(e,t);return f.__cache[n.cacheName]};f.buildUrl=function(e){var t="",n=e.host,i="string"===typeof e.port?e.port:e.isSecure?443:4848;t+=e.isSecure?"wss":"ws";t+="://";t+=n||"localhost";if(e.port){t+=":";t+=i}t+=e.prefix||"/";e.subpath&&(t+=e.subpath+"/");e.route?t+=e.route:t+="app/"+encodeURIComponent(e.appName);e.identity&&(t+="/identity/"+encodeURIComponent(e.identity));t+="?reloadUri="+(e.reloadURI||"");return t};return f}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t=e.extend({init:function e(){},tap:{},taptwo:{},tapthree:{},swipe:{},swipetwo:{},rotate:{},mousemove:{},mouseleave:{},mousewheel:{},wheelswipe:{},exclusive:function e(){return false},active:function e(){return true}});return{extend:function n(){return 2===arguments.length?t.extend.call(e,arguments[0],arguments[1]):new(t.extend(arguments[0]))}}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return function(e,t){e.$root&&e.$root.$$phase?t&&t():e.$apply(t)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(989)],r=function(e){return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(2)],r=function(e){var t={};t.getJson=function(t){return e.get(t,{responseType:"json"}).then(function(e){if(e.data)return e.data;console.warn("Theme parsing error for theme: "+t);return{}}).catch(function(e){console.warn("Couldn't get theme: "+t+". Error: "+e);return{}})};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(2)],r=function(e,t){var n=function e(){};var i=function e(n){return t.request(n).then(function(e){var t=e.data;return t.data}).catch(function(e){throw e.data})};n.getTenantId=function t(){var n=e("#appFrame");if(n.length)return n.attr("tenantId");try{var i=e("#appFrame",window.parent.document);if(i.length)return i.attr("tenantId")}catch(e){}return""};n.getTenantIdUrlParameter=function(){var e=n.getTenantId();return e?"?tenantId="+e:""};n.getConfig=function(e){var t=n.getTenantIdUrlParameter();return{method:"GET",url:"/api/v1/"+e+t}};n.getCloudExtensions=function(){var e=n.getConfig("extensions");return i(e)};n.getCloudThemes=function(){var e=n.getConfig("themes");return i(e)};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){function t(t){var n=e.getService("qvAlertDialog");return n.show({title:t.title,message:t.message,closeOnEscape:false})}return{show:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(608)],r=function(e,t){e.directive("qvSpinner",function(){return{replace:true,template:t,restrict:"E",scope:{show:"=",showDelay:"=?",showForAtLeast:"=?",spinnerWidth:"@?",spinnerHeight:"@?",centerInParent:"=?"},controller:["$scope","$timeout",function(e,t){var n;var i;e.internalShow=false;function r(){e.showDelay?n=t(function(){o(e.showForAtLeast)},e.showDelay):o(e.showForAtLeast)}function o(n){e.internalShow=true;i=t(function(){},n)}function s(){n&&t.cancel(n);i&&i.then(function(){e.internalShow=false})}e.$watch("show",function(e){e?r():s()})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(92),n(104)],r=function(e,t){var n,i=new t(0,0,0,0),r=new t(0,0,0,0);n=e.extend("CubeSlicer",{init:function e(){this.pages=[]},get:function e(t){return t.map(function(e){return this.getPage(e)}.bind(this))},getPage:function e(n){var o,s,a=[],l;for(s=0;s<this.pages.length;s++){o=this.pages[s].qArea;i.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);r.set(o.qLeft,o.qTop,o.qWidth,o.qHeight);l=r.intersection(i,true);a.push({coverage:l?l.clone():new t(0,0,0,0),idx:s});if(o.qLeft<=n.qLeft&&o.qLeft+o.qWidth>=n.qLeft+n.qWidth&&o.qTop<=n.qTop&&o.qTop+o.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[s])}a.sort(function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height});if(a[0].coverage.height>0&&a[0].coverage.width>0)return this._extract(n,this.pages[a[0].idx]);return{qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0},qMatrix:[]}},destroy:function e(){this.clear()},isEmpty:function e(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function e(){this.pages=[]},store:function e(t){this.pages=t},containsArea:function e(t){var n;for(var i=0;i<this.pages.length;i++){n=this.pages[i].qArea;if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return true}return false},contains:function e(t){if(!this.pages||!this.pages.length)return false;return 0===t.filter(function(e){return!this.containsArea(e)}.bind(this)).length},_extract:function e(t,n){i.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);r.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var o=i.intersection(r,true),s,a,l;if(!o)return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qMatrix:[]};l=Math.max(0,t.qTop-n.qArea.qTop);a=Math.max(0,t.qLeft-n.qArea.qLeft);s=n.qMatrix.slice(l,l+o.height).map(function(e){return e.slice(a,a+o.width)});return{qArea:{qTop:o.y,qLeft:o.x,qWidth:o.width,qHeight:o.height},qMatrix:s}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(343)],r=function(e){var t=e.extend({init:function e(t,n){this._super(t.cache,n);this._selectedShapes=[];this.handler=t;this.options=n;this.components=n.components||{}},release:function e(){this._super();this.components={};this._selectedShapes=[];this.handler=null},resetSelectedShapes:function e(){this._selectedShapes.length=0},getSelectedShapes:function e(){return this._selectedShapes},toggleSelectedShape:function e(t){var n=this._selectedShapes.indexOf(t);-1!==n?this._selectedShapes.splice(n,1):this._selectedShapes.push(t)},setActiveMode:function e(t){this._activeMode=t},getActiveMode:function e(){return this._activeMode},register:function e(t,n){this.handler.register(t,n)},deregister:function e(t,n){this.handler.deregister(t,n)},getActiveDimensions:function e(){return this.activeComponent.getSelectionIndices()},toggle:function e(){},toggleRect:function e(){},start:function e(){},update:function e(){},end:function e(){},cancel:function e(){},move:function e(){},leave:function e(){},getTransformedPoint:function e(t,n){return this._super(t,n,this.handler.containerRect)},getPagePoint:function e(t,n,i){return this._super(t,n,i,this.handler.containerRect)},shapeFromPoint:function e(t){return this.shapesFrom.shapeFromPoint(t)},shapesFromPoints:function e(t){return this.shapesFrom.shapesFromPoints(t)},shapesFromLines:function e(t){return this.shapesFrom.shapesFromLines(t)},shapesFromPolygon:function e(t){return this.shapesFrom.shapesFromPolygon(t)},shapesFromRect:function e(t,n){return this.shapesFrom.shapesFromRect(t,n)},shapesFromRectForDirection:function e(t,n,i){return this.shapesFrom.shapesFromRectForDirection(t,n,i)},shapesFromRange:function e(t,n,i,r){return this.shapesFrom.shapesFromRange(t,n,i,r)},shapesFromDimensionValue:function e(t){return this.shapesFrom.shapesFromDimensionValue(t)},groupedItemsFromShapes:function e(t){return this.shapesFrom.groupedItemsFromShapes(t)},shapesFromIndex:function e(t,n){return this.shapesFrom.shapesFromIndex(t,n)},ToggleFlag:{select:1,deselect:2,auto:4,replace:8},toggleSelection:function e(t,n){var i=this.handler._disableSelections,r=this.ToggleFlag,o=this.handler.ToggleShape,s=this.handler.ToggleShapes,a=this.toggleSelectedShape.bind(this),l;n=n||r.auto;function u(e){var r=t.filter(e);r.forEach(function(e){if(!i){e.selected=!e.selected;a(e);o.emit(e,n)}});r.length>0&&s.emit(t,n)}if(n&r.select)u(function(e){return!e.selected});else if(n&r.deselect)u(function(e){return e.selected});else if(n&r.auto)u(function(){return true});else if(n&r.replace){l=t;t=this.handler.cache.data;u(function(e){return e.selected});t=l;u(function(){return true})}},clearSelection:function e(){var t=this.handler.Clear,n=this.handler.cache.data,i=this.ToggleFlag.deselect;this.toggleSelection(n,i);t.emit()}});t.defaultOptions={};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(120),n(328),n(89),n(181),n(49)],r=function(e,t,n,i,r,o){var s={};function a(e,t,n){return e.bounds?e.bounds:r.getBounds(e,t,n)}function l(e,t,n){var i={};if(e.bounds){var o=e.bounds;i=r.getInfluenceOnGrid(o,t,n);i.bounds={x:o.x,y:o.y,width:o.width,height:o.height}}else{i.row=e.row;i.col=e.col;i.rowspan=e.rowspan;i.colspan=e.colspan;i.bounds=a(i,t,n)}return i}function u(e,t){var n=[];for(var i=0;i<t;i++){n[i]=[];for(var r=0;r<e;r++)n[i][r]=1}return n}function c(e,t){var n,i;var r,o;r=t.row+t.rowspan;o=t.col+t.colspan;for(n=t.row;n<r;n++)for(i=t.col;i<o;i++)e[n]&&(e[n][i]=0)}function f(e,t){var n;if(!t)return null;for(n=0;n<t.length;++n)if(t[n].id===e)return t[n];return null}function d(e){return e.getLayout().then(function(e){var t=s.updateGridCells(e.columns,e.rows,[],e.cells);return s.getOptimalGridCell(t)})}s.addToSheet=function(e,t){return d(e).then(function(n){var i={cell:n,init:t,template:t.qInfo.qType};return e.addObject(i).then(function(){return e})})};s.getOptimalGridCell=function(e){e.sort(function(e,t){if(e.isEmpty&&!t.isEmpty)return-1;if(t.isEmpty&&!e.isEmpty)return 1;var n=e.pos.colspan*e.pos.rowspan;var i=t.pos.colspan*t.pos.rowspan;if(n>i)return-1;if(n<i)return 1;return 0});var t=e[0]||null;if(t&&!t.isEmpty)if(t.pos.colspan>1||t.pos.rowspan>1){var n=t.pos.colspan>t.pos.rowspan?"right":"bottom";t={isEmpty:true,pos:{pos:t.pos,split:n}}}else t=null;return t};s.updateGridCells=function(e,t,n,i,r,s){var a=i;var d=o.getFlag("DROP_ZONES");var p=[];var h=u(e,t);r=r||t;var v;var m;if(d){v=s?Math.round(r/2):r;m=s?v:Math.round(v/2)}function g(n){var i=l(n,e,t);c(h,i,t,e);var r={};r.pos=i;r.isEmpty=true;r.navMenu={};p.push(r)}function b(i){var r=l(i,e,t);c(h,r,t,e);var o=f(i.name,n);if(!o){o={};o.id=i.name;o.navMenu={};o.options={id:i.name,isVisible:true,isZoomed:false,isActive:false}}o.pos=r;o.isEmpty=false;p.push(o)}function y(n,i,o,s){n=n||0;o=o||0;i=i||t;s=s||e;var a;var l;var u=s;var c=[];var f;var p;var v;while(u-- >o){l=0;a=i;c[u]=[];while(a-- >n)if(h[a][u])c[u][a]=++l;else{l=0;c[u][a]=null}}v=null;p=0;function m(e,t,n){var i=e;while(f.length>0){var o=f[f.length-1];if(o.rowSpan===n)return;if(o.rowSpan<n)break;f.pop();i=o.col;var s=e-o.col;var a=o.rowSpan*s;if(a>p){p=a;v={col:o.col,row:t,colspan:s,rowspan:o.rowSpan}}}n>0&&n&&f.push({col:i,rowSpan:d?n:Math.min(n,r)})}f=[];for(a=n;a<i;++a){for(u=o;u<s;++u){if(null===c[u][a]){m(u,a,0);continue}m(u,a,c[u][a])}m(u,a,0)}return v}function x(){var n=1,i;if(d){var r=Math.ceil(t/m);var o=Math.ceil(e/v);for(var s=0;s<r;++s)for(var l=0;l<o;++l)while(true){i=y(m*s,Math.min(m*(s+1),t),v*l,Math.min(v*(l+1),e));if(!i)break;i.priority=n++;a.push(i);g(i)}}else while(true){i=y();if(!i)break;i.priority=n++;a.push(i);g(i)}}function _(e){e.sort(function(e,t){e=e.pos;t=t.pos;return e.row-t.row}).sort(function(e,t){e=e.pos;t=t.pos;if(e.row===t.row)return e.col-t.col;return e.row-t.row})}a.forEach(b);_(p);x();return p};e.service("qvObjectPlacementService",[function(){var e={addObjectToSheet:function e(n,r,o){if(!n)return i.reject();if(!r&&o)return s.addToSheet(o,n);if(r)return t.get(r).then(function(e){return s.addToSheet(e,n)})},addToNewSheet:function e(r){return t.getList().then(function(e){if(!r)return i.reject();return e.getLayout().then(function(e){var t=0;e.forEach(function(e){!e.qMeta.published&&e.qData.rank>t&&(t=e.qData.rank)});return n.addSheet(t+1).then(function(e){return s.addToSheet(e,r)})})})},getOptimalCell:function e(t){return s.getOptimalGridCell(t)},updateGridCells:function e(t,n,i,r,o,a){return s.updateGridCells(t,n,i,r,o,a)},getCellAlignment:function e(t,n,i,r){return a(t,n,i,r)}};return e}]);return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(93),n(715),n(191),n(107),n(150)],r=function(e,t,n,i,r,o,s){t.directive("qvExpressionInput",function(){return{restrict:"E",scope:{expression:"=",isValidExpression:"=",labelTranslation:"@"},template:i,link:function t(i){n.getApp().then(function(t){var n;i.onExpressionChange=l;i.shouldForceEditInExpressionEditor=u;i.onExpressionActivate=c;i.openExpressionDialog=f;i.maxLength=o.name;i.labelTranslation=i.labelTranslation||"metadata.labelExpression";n=new r.ExpressionValidator(t);l();var a=function e(t){i.isValidExpression=t.valid};n.Update.bind(a);i.$on("$destroy",function(){n.Update.unbind(a)});function l(){i.isExpression=d(i.expression);n.validate(i.expression)}function u(){return i.expression&&i.expression.length>o.name}function c(t){if(!u())return;e(t.target).blur();f()}function f(){var e={expr:i.expression,title:i.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};s.show(e).then(function(e){i.expression=e;l()})}function d(e){return(e||"").length>0}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(768),n(134),n(150),n(93),n(354),n(148),n(790),n(144)],r=function(e,t,n,i,r,o,s,a,l,u){var c=s.dimensionTypes,f=l.create(a);function d(e,t){return e.localeCompare(t)}function p(){return o.getApp().then(function(e){return e.getFieldList().then(function(e){var n,i,r;e=t.extend(true,[],e);e=a.removeMeasureAndDetailsFields(e);e.sort(function(e,t){return e.qName.localeCompare(t.qName)});e=u.expand(e);r=[];for(n=0;n<e.length;++n){var o=e[n];for(i=0;i<o.qSrcTables.length;++i)-1===r.indexOf(o.qSrcTables[i])&&r.push(o.qSrcTables[i]);f.addIconMetaData(o)}r.sort(d);return{fields:e,tables:r}})})}function h(e,t,n){r.show({expr:n,title:n?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then(function(n){e(t,n)})}function v(e,i){p().then(function(r){var o=!e.qInfo.qId;function a(t){var n=s.dimensionTypes,r="drilldown",o="single";e.qMetaDef={title:t.name,description:t.description,tags:t.tags};e.qDim.title=t.name;e.qDim.qGrouping=t.type===r?n.drilldown:n.single;e.qDim.qFieldDefs=t.expr;e.qDim.qLabelExpression=t.labelExpression;e.qDim.descriptionExpression=t.descriptionExpression;e.qDim.coloring||(e.qDim.coloring={});e.qDim.baseColor&&delete e.qDim.baseColor;if(t.colorsChanged){e.qDim.coloring.colorMapRef=e.qInfo.qId;e.qDim.coloring.changeHash=Math.random()+""}t.baseColor&&"none"!==t.baseColor.color?e.qDim.coloring.baseColor=t.baseColor:delete e.qDim.coloring.baseColor;t.type===o?e.qDim.qFieldLabels=[t.name]:e.qDim.qFieldLabels=[];i()}var l=t.extend(true,{},e);l.name=e.qMetaDef.title;l.description=e.qMetaDef.description;l.tags=e.qMetaDef.tags;o?n.add({dimension:l,tableData:r,expressionInterface:h,callback:a}):n.edit({dimension:l,tableData:r,expressionInterface:h,callback:a})})}function m(){return{add:function t(n,r){function o(){return i.create(s).then(function(t){e.$rootScope.$emit("clearUndo");r&&r(t)})}var s={qInfo:{qType:"dimension"},qDim:{qGrouping:c.single,qFieldDefs:[]},qMetaDef:{title:"",description:"",tags:[]}};if(n){s.qMetaDef.title=n;s.qDim.qFieldDefs.push(n)}v(s,o)},edit:function t(n,r){i.get(n).then(function(t){t.getProperties().then(function(n){v(n,function(){var i=n.qDim.coloring;i.baseColor&&i.baseColor.color&&"none"===i.baseColor.color&&delete i.baseColor;return t.setProperties(n).then(function(t){e.$rootScope.$emit("clearUndo");r&&r(t)})})})})}}}return m}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(243)],r=function(e,t){var n;n=t.extend({init:function e(t){this.list=[];this.scrollApi=t},getRowCount:function e(){return this.scrollApi.items?this.scrollApi.items.length:0},getFirstElementIndex:function e(){return this.list.indexOf(this.scrollApi.items[0])},getLastElementIndex:function e(){return this.list.indexOf(this.scrollApi.items[this.scrollApi.items.length-1])},getItems:function e(t,n){return this.list.slice(Math.max(0,t),t+n)},setItems:function e(t,n){this.scrollApi.items=this.getItems(t,n)},setList:function e(t,n){this.list=t;this.scrollApi.setTotalRows(this.list.length);var i=this.getRowCount();var r=n&&i>0?this.getFirstElementIndex():0;if(this.scrollApi.virtualScrollEnabled){this.setItems(r,this.scrollApi.settings.viewportRowCount);this.scrollApi.setVirtualSize(n)}else if(n){i=Math.min(t.length-r,Math.max(this.getRowCount(),this.scrollApi.settings.blockSize));this.setItems(r,i);this.scrollApi.updateLoadingButtons()}else{this.setItems(r,this.scrollApi.settings.viewportRowCount+1);this.scrollApi.resetNativeScroll()()}},resize:function t(){this.scrollApi.updateViewport();var n=this.getRowCount();var i=n>0?this.getFirstElementIndex():0;0!==i&&i+this.scrollApi.settings.viewportRowCount>n&&(i=Math.max(0,n-this.scrollApi.settings.viewportRowCount));if(this.scrollApi.virtualScrollEnabled){this.setItems(i,this.scrollApi.settings.viewportRowCount);return this.scrollApi.setVirtualSize(true)}if(0===i&&n<this.scrollApi.settings.blockSize){this.setItems(i,this.scrollApi.settings.viewportRowCount+1);this.scrollApi.resetNativeScroll()();return e.resolve()}return e.resolve()},onVirtualScroll:function t(n,i){this.setItems(n,i);return e.resolve()},onInitialNativeScroll:function t(n,i){this.setItems(0,n+i);return e.resolve()},onGotoNextBlock:function t(n,i){var r=this.scrollApi.settings.keepItemsCount+this.scrollApi.settings.viewportRowCount;this.setItems(n-r,i+r);return e.resolve()},onGotoPreviousBlock:function t(n,i){var r=this.scrollApi.settings.keepItemsCount+this.scrollApi.settings.viewportRowCount;this.setItems(n,i+r);return e.resolve()}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(117),n(170),n(89),n(110)],r=function(e,t,n,i,r){var o;var s;var a;var l=61;function u(n){if(o)return i.resolve(o);var a=new i;var l=200;var u=30;var c=e(".table-container").width()-l;var f=e(".table-container").height()-u+e("#datamodelviewer_footer").height();var d={qcx:c,qcy:f};var p={qcx:0,qcy:0};var h=30;var v=n;var m=false;t.currentApp.getTablesAndKeys(d,p,h,v,m).then(function(e){o=e;s=e;return a.resolve(e)},function(e){e.code===r.LOCERR_RELOAD_IN_PROGRESS&&(e.isHandled=true);return a.resolve(s)});return a.promise}function c(e){if(a){e(a);return}t.currentApp.getLooselyCoupledVector().then(function(t){a=t;e(t)})}function f(e,i){if(!i)throw new Error("Table name is empty.");var r=-1;var o=l;var s=e;var a=n.decodeTableName(i);return t.currentApp.getTableData(r,o,s,a)}function d(){return t.currentApp.getViewDlgSaveInfo()}function p(e){return t.currentApp.setViewDlgSaveInfo(e)}function h(){o=void 0;a=void 0}function v(e,n){return t.currentApp.assignDerivedFieldFor(e,n)}function m(){return t.currentApp.getAppLayout().then(function(e){return!!e.qLayout.qHasData})}return{getTablesAndKeys:u,getLooselyCoupledVector:c,getTableData:f,getTablePositions:d,setTablePositions:p,clearAllCaches:h,setDerivedField:v,hasAppGotData:m}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){function t(t,n){n=n?n+".":"";return e.getValue(t,n+"qHyperCube.qDimensionInfo.length")>1}function n(t,n){n=n?n+".":"";return e.getValue(t,n+"qHyperCube.qMeasureInfo.length")>1}function i(e,n){if(!t(e,n))return 1;return o(e,n)}function r(t,n){n=n?n+".":"";return e.getValue(t,n+"qHyperCube.qSize.qcy")}function o(t,n){n=n?n+".":"";if(e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.length"))return e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.0.qSubNodes.length",0)+e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.0.qDown",0)+e.getValue(t,n+"qHyperCube.qStackedDataPages.0.qData.0.qUp",0);var i=e.getValue(t,n+"qHyperCube.qEffectiveInterColumnSortOrder.0");var r=e.getValue(t,n+"qHyperCube.qDimensionInfo."+i);return l(r)}function s(e,n){if(!t(e,n))return r(e,n);return o(e,n)}function a(t,n){if(!t)return null;t=n?e.getValue(t,n):t;return t&&t.qHyperCube?t.qHyperCube:null}function l(e){return e.qCardinalities.qHypercubeCardinal}return{getHyperCube:a,hasSecondDimension:t,hasSecondMeasure:n,getStackedCubeSizeOf2Dims:o,getStackedCubeSizeOfMax2Dims:s,getOuterDimensionSizeOfMax2Dims:i,getDimensionSize:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(115)],r=function(e){return{getChartType:t,getExtensionType:n,getInitialProperties:i};function t(t){return e.getType(t)}function n(e){return t(e).getExtensionType()}function i(e){return t(e).getInitialProperties()}}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i;!(i=function(){var e={};function t(t){var n=e[t];if(!n){n=[];e[t]=n}return n}function n(e,n){if(!e)throw new Error("Key is not defined.");if("string"!==typeof e)throw new Error("Key has to a String.");if(!n)throw new Error("No observer was defined.");if("function"!==typeof n)throw new Error("Observer is not a function.");var i=t(e);i.push(n)}function i(e,n,i){if(!e)throw new Error("Key is not defined.");if("string"!==typeof e)throw new Error("Key has to a String.");var r=t(e);r.forEach(function(e){e(n,i)})}function r(e,n){if(!e)throw new Error("Key is not defined.");if(!n)throw new Error("Observer is not defined.");var i=t(e);var r=i.indexOf(n);if(-1===r)throw new Error('Unknown observer for the key "'+e+'".');i.splice(r,1)}return{addObserver:n,notifyAll:i,removeObserver:r}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(117),n(381),n(89)],r=function(e,t,n){var i={};function r(e){var t={};var n={keywords:[],keywordsAsLowerCase:[],functions:[],functionsAndCategories:[],notFunctions:[],bnfEntries:[],mapping:{}};function i(e){return e.replace(/\s+/g," ").replace(/\s+(\)|\]|,)/g,"$1").replace(/(\(|\[|,)\s+/g,"$1")}function r(){e.forEach(s);var t=[{qStr:"must_include",qBnfLiteral:true}];t.forEach(s)}function o(){n.functions.length<1&&r();function e(e,t){return{text:t,type:e}}var t=n.notFunctions.map(e.bind(null,"keyword"));var i=n.functions.map(e.bind(null,"function"));n.autocompleteList=t.concat(i)}function s(e){if(true===e.qBnfLiteral){-1===n.keywords.indexOf(e.qStr)&&n.keywords.push(e.qStr);if(e.qStr){n.keywordsAsLowerCase.push(e.qStr.toLowerCase());n.mapping[e.qStr.toLowerCase()]=e.qNbr;if(!e.qAggrFunc&&!e.qQvFunc){if(!e.qFieldFlag){-1===n.notFunctions.indexOf(e.qStr)&&n.notFunctions.push(e.qStr);t[e.qStr.toLowerCase()]="keyword"}}else{-1===n.functions.indexOf(e.qStr)&&n.functions.push(e.qStr);t[e.qStr.toLowerCase()]="function";n.functionsAndCategories.push({fglist:e.qFGList,func:e.qStr})}}}}function a(t){t=parseInt(t,10);if(n.bnfEntries[t])return n.bnfEntries[t];var i=e.filter(function(e){return parseInt(e.qNbr,10)===t});n.bnfEntries[t]=i[0];return i[0]||false}function l(e){n.keywords.length<1&&r();e=e.toLowerCase();var t=n.mapping[e];return a(t)}function u(e){var t="",n=a(e);e>=0&&e<=56?t=n.qStr||"":n&&(t=n.qStr||n.qName);return t}function c(e){if(e&&!e.signature){e.qBnf&&e.qBnf.length>0?e.signature=e.qBnf.map(u).join(" ").trim():e.qPNbr&&(e.signature=c(a(e.qPNbr)));e.signature=i(e.signature)}return e.signature||""}function f(){n.keywords.length<1&&r();return n.keywords}function d(){n.keywordsAsLowerCase.length<1&&r();return n.keywordsAsLowerCase}function p(){n.autocompleteList||o();return n.autocompleteList}function h(e){var t=l(e);return false!==t?c(t):""}function v(){return e.filter(function(e){return e.qHelpId&&e.qHelpId>0}).map(function(e){return e.qStr})}function m(e){return"function"===t[e.toLowerCase()]}function g(){return false}function b(){return false}function y(e){return!!t[e.toLowerCase()]}function x(){n.functions.length<1&&r();return n.functions}function _(){return n.functionsAndCategories}r();return{getBnfEntry:a,getLiteralString:u,getAllKeywords:f,getAllKeywordsAsLowerCase:d,getAutocompleteList:p,getKeywordsWithHelp:v,getSignatureFromKeyword:h,getFunctionTip:h,isFunction:m,isField:g,isKeyword:y,isVariable:b,getAllFunctions:x,getAllFunctionsAndCategories:_}}function o(i,o){var s="BNF_CACHE_DATA_"+i;var a="BNF_HASH_"+i;o=o||e;return o.global.getBaseBNFHash(i).then(function(e){var l=e.qBnfHash;var u=new n;var c=localStorage.getItem(a);var f=c===l;var d=f?localStorage.getItem(s):void 0;if(d)try{var p=JSON.parse(t.decompressFromUTF16(d));u.resolve(r(p));return u.promise}catch(e){}o.global.getBaseBNF(i).then(function(e){var n=e.qBnfDefs;localStorage.setItem(s,t.compressToUTF16(JSON.stringify(n)));localStorage.setItem(a,e.qBnfHash);u.resolve(r(n))});return u.promise})}function s(i){var r="BNF_STRING_CACHE_DATA_"+i;var o="BNF_STRING_HASH_"+i;return e.global.getBaseBNFHash(i).then(function(s){var a=s.qBnfHash;var l=new n;var u=localStorage.getItem(o);var c=u===a;var f=c?localStorage.getItem(r):void 0;if(f)try{var d=JSON.parse(t.decompressFromUTF16(f));l.resolve(d);return l.promise}catch(e){}e.global.getBaseBNFString(i).then(function(e){var n=e.qBnfStr;localStorage.setItem(r,t.compressToUTF16(JSON.stringify(n)));localStorage.setItem(o,e.qBnfHash);l.resolve(n)});return l.promise})}function a(e,t){i[e]||(i[e]=o(e,t));return i[e]}function l(e){return s(e)}function u(){return a("S")}function c(e){return a("E",e)}function f(){return l("S")}return{createBnfModel:r,getReloadScriptBnfModel:u,getExpressionBnfModel:c,getScriptBnf:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(95),n(94),n(131),n(673)],r=function(e,t,n,i,r){e.service("qvSheetService",function(){var o;var s=e.getService("$cacheFactory"),a=s("pp-sheet");return{set:function e(t){o=t},get:function e(){return o},destroy:function e(){o=null},setSheetAsSelectedObj:function e(){var o=n.model;var s={id:o.id,type:"sheetCell",canCopy:function e(){return false},canCut:function e(){return false},canRemove:function e(){return false},remove:function e(){return},paste:function e(){t.publish("/activeSheet/pasteObject",null)},getAllPropertyPanelContent:function e(){return o.getProperties().then(function(e){return o.getLayout().then(function(t){var n={properties:e,layout:t,definition:r,type:"sheet",model:o,iconName:"sheet",titleRef:"qMeta.title",cache:a};return n})})}};return i.setSelectedObject(s)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(198)],r=function(e){var t;t=e.extend("Listbox",{init:function e(t){this._super(t,"/qListObjectDef",{width:1});this.cacheCube.setMethodName("getListObjectData")},select:function e(t,n,i){return this.model.selectListObjectValues(this.path,n,i)},selectAll:function e(){return this.model.selectListObjectAll(this.path)},selectPossible:function e(){return this.model.selectListObjectPossible(this.path)},selectAlternative:function e(){return this.model.selectListObjectAlternative(this.path)},selectExcluded:function e(){return this.model.selectListObjectExcluded(this.path)},search:function e(t){return this.model.searchListObjectFor(this.path,t)},abortSearch:function e(){return this.model.abortListObjectSearch(this.path)},confirmSearch:function e(t){return this.model.acceptListObjectSearch(this.path,t)},updateCache:function e(t){this.cacheCube.set(t.qListObject.qDataPages);this.cacheCube.setCubeSize(t.qListObject.qSize)},setInitialData:function e(t){this.cacheCube.set(t.qListObject.qDataPages)},getData:function e(t){return this.cacheCube.getData(t)},getDataPage:function e(t){return this.getData([t]).then(function(e){return e[0]})},getSize:function e(){return this.model.layout.qListObject.qSize},lock:function e(){return this.model.lock(this.path)},unlock:function e(){return this.model.unlock(this.path)},isLocked:function e(){return!(!this.model.layout||!this.model.layout.qListObject)&&!!this.model.layout.qListObject.qDimensionInfo.qLocked},isDrillDown:function e(){return!(!this.model.layout||!this.model.layout.qListObject)&&"H"===this.model.layout.qListObject.qDimensionInfo.qGrouping},getDimensionInfos:function e(){if(this.model.layout&&this.model.layout.qListObject)return[this.model.layout.qListObject.qDimensionInfo];return[]}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,function(e,t){e.exports='<div class="qv-block-ui" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="qv-loader-container" ng-class="ngClasses">\n\t\t<div class="qv-loader"></div>\n\t</div>\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(719),n(348),n(297)],r=function(e,t,n,i,r){var o,s,a=r.popupComponent,l={name:"default",colors:["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"]};function u(e,t){if(void 0!==e){if(void 0!==e.index&&-1!==e.index&&t[e.index])return t[e.index];if(void 0!==e.color)return e.color?e.color:"none";return e||"none"}}function c(e,t){if("none"===t){e.addClass("transparent");e.css("background-color","transparent")}else{e.css("background-color",t);e.removeClass("transparent")}}function f(){return"inverse"}function d(n,i,r,f,d,p){if(s&&s.element===i){o&&o.close();o=null;s=null;return}s={model:d,element:i,previewBox:f,scope:n};var h=n.palettes;var v=n.palette||l;var m=false!==n.$eval(r.extended);var g=t.getService("luiPopover");var b=n.$eval(r.recentColorsFlag)||false;var y=n.$eval(r.dock)||"top";var x;function _(e,t){t.$setViewValue(e);n.onChange&&n.onChange();if(f){var i="undefined"!==typeof v.colors?u(t.$viewValue,v.colors):u(t.$viewValue,v);c(f,i)}}var w;var q;var C=t.getService("$timeout");var S=t.getService("qvGlyphService"),E=S.getDefaultGlyphs();E.forEach(function(e){e.cssClass=S.getIconClass(e.icon)});o=g.show({template:a.template,controller:a.controller,input:{$palettes:h,$palette:v,$glyphPalette:E,$useGlyph:n.$eval(r.useGlyph)||false,$disableNone:n.$eval(r.disableNone)||false,$defaultColor:"undefined"!==typeof v.colors?u(d.$viewValue,v.colors):u(d.$viewValue,v),$inputViewValue:d.$viewValue,$extended:m,$recentColorsFlag:b,onColorChange:function e(t,n,i,r,o){q=t?{color:i,index:n,icon:o,cssClass:S.getIconClass(o)}:{color:i,index:n,palette:r,icon:o,cssClass:S.getIconClass(o)};_(q,d)}},alignTo:i[0],variant:p,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:y,autoFocus:false});o.closing.then(function(t){n.onClose&&n.onClose(t);var r;if(t){x=t;r=e(t.target).closest(i[0]).length>0}if(w){C.cancel(w);_(q,d);w=null}r||(s=null)});o.closed.then(function(){x&&x.target.classList.contains("color-scale-container")&&(s=null)});n.onOpen&&n.onOpen(o)}t.directive("qvColorPickerCustomNew",function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},link:function e(t,i,r,a){t.callback&&(t.callback.close=function(){o&&o.close()});t.$parent&&(t.$parent.onClick=function(){var e=f();d(t,i,r,null,a,e)});function l(){o&&o.close()}n.on("start",l);t.$on("$destroy",function(){o&&s&&s.element===i&&o.close();n.off("start",l)})}}});t.directive("qvColorPickerButtonNew",function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},template:i,link:function e(t,i,r,a){var p=t.palette||l,h="undefined"!==typeof p.colors?u(a.$viewValue,p.colors):u(a.$viewValue,p),v=i.find(".qv-color-picker-preview");t.onClick=function(){var e=f();d(t,i,r,v,a,e)};t.callback&&(t.callback.close=function(){o&&o.close()});function m(){o&&o.close()}t.variantClass=r.variant?"lui-button--"+r.variant:"";n.on("start",m);t.$watch("palette",function(){p=t.palette||l;a.$render()});a.$render=function(){if(void 0===a.$viewValue)return;h="undefined"!==typeof p.colors?u(a.$viewValue,p.colors):u(a.$viewValue,p);c(v,h)};t.$on("$destroy",function(){o&&s&&s.element===i&&o.close();n.off("start",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvGlyphService",[function(){var e=["","m","ï","R","S","T","U","P","Q","è","¢","©"],t=[{key:"m",value:"lui-icon--tick"},{key:"ï",value:"lui-icon--star"},{key:"R",value:"lui-icon--triangle-top"},{key:"S",value:"lui-icon--triangle-bottom"},{key:"T",value:"lui-icon--triangle-left"},{key:"U",value:"lui-icon--triangle-right"},{key:"P",value:"lui-icon--plus"},{key:"Q",value:"lui-icon--minus"},{key:"è",value:"lui-icon--warning-triangle"},{key:"¢",value:"lui-icon--hand"},{key:"©",value:"lui-icon--flag"}],n=t.length;var i={getIconClass:function e(i){var r,o=null;if(void 0!==i&&null!==i)if(0===i.length)o="";else for(r=0;r<n;r++)if(t[r].key===i){o=t[r].value;break}return o},getDefaultGlyphs:function t(){return e.map(function(e){return{icon:e}})}};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(725),n(726)],r=function(e,t,n,i,r){var o,s,a=r.popupComponent,l=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"],u=[{icon:""},{icon:"m"},{icon:"ï"},{icon:"R"},{icon:"S"},{icon:"T"},{icon:"U"},{icon:"P"},{icon:"Q"},{icon:"è"},{icon:"¢"},{icon:"©"}];function c(e,t){if(t[e])return t[e];return e||"none"}function f(e,t){if("none"===t){e.addClass("transparent");e.css("background-color","transparent")}else{e.css("background-color",t);e.removeClass("transparent")}}function d(){return"inverse"}function p(n,i,r,d,p,h){if(s&&s.element===i){o&&o.close();o=null;s=null;return}s={model:p,element:i,previewBox:d,scope:n};var v=n.$eval(r.palette)||l;var m=n.$eval(r.extended)||false;var g=t.getService("luiPopover");var b=n.$eval(r.actualColor)||false;var y=n.$eval(r.dock)||"top";var x;function _(e,t,i){i.$setViewValue(e);n.onChange&&n.onChange();d&&f(d,t)}var w;var q;var C;var S=t.getService("$timeout");o=g.show({template:a.template,controller:a.controller,input:{$palette:v,$glyphPalette:u,$useGlyph:n.$eval(r.useGlyph)||false,$disableNone:n.$eval(r.disableNone)||false,$defaultColor:c(p.$viewValue,v),$inputViewValue:p.$viewValue,$extended:m,onColorChange:function e(t,n,i,r){w&&S.cancel(w);q=t?{color:b?i:n,icon:r}:b?i:n;C=i;w=S(function(){_(q,C,p);w=null},300)}},alignTo:i[0],variant:h,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:y,autoFocus:false});o.closing.then(function(t){n.onClose&&n.onClose(t);var r;if(t){x=t;r=e(t.target).closest(i[0]).length>0}if(w){S.cancel(w);_(q,C,p);w=null}r||(s=null)});o.closed.then(function(){x&&x.target.classList.contains("color-scale-container")&&(s=null)});n.onOpen&&n.onOpen(o)}t.directive("qvColorPickerCustom",function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"="},link:function e(t,i,r,a){t.callback&&(t.callback.close=function(){o&&o.close()});t.$parent&&(t.$parent.onClick=function(){var e=d();p(t,i,r,null,a,e)});function l(){o&&o.close()}n.on("start",l);t.$on("$destroy",function(){o&&s&&s.element===i&&o.close();n.off("start",l)})}}});t.directive("qvColorPickerButton",function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"="},template:i,link:function e(t,i,r,a){var u=t.$eval(r.palette)||l,h=c(a.$viewValue,u),v=i.find(".qv-color-picker-preview");t.onClick=function(){var e=d();p(t,i,r,v,a,e)};t.callback&&(t.callback.close=function(){o&&o.close()});function m(){o&&o.close()}t.variantClass=r.variant?"lui-button--"+r.variant:"";n.on("start",m);a.$render=function(){if(void 0===a.$viewValue)return;h=c(a.$viewValue,u);f(v,h)};t.$on("$destroy",function(){o&&s&&s.element===i&&o.close();n.off("start",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(104)],r=function(e,t){function n(n,i){var r,o,s=e("body").outerHeight();r=i.y+i.height/2-n.height/2;r=r<0?0:r;s-r-n.height<0&&(r=s-n.height);o=i.x+i.width;return new t(o,r,n.width,n.height)}function i(n,i){var r,o,s=e("body").outerWidth();o=i.x+i.width/2-n.width/2;o=o<0?0:o;s-o-n.width<0&&(o=s-n.width);r=i.y+i.height;return new t(o,r,n.width,n.height)}function r(n,i){var r,o,s=e("body").outerHeight();r=i.y+i.height/2-n.height/2;r=r<0?0:r;s-r-n.height<0&&(r=s-n.height);o=i.x-n.width;return new t(o,r,n.width,n.height)}function o(n,i){var r,o,s=e("body").outerWidth();o=i.x+i.width/2-n.width/2;o=o<0?0:o;s-o-n.width<0&&(o=s-n.width);r=i.y-n.height;return new t(o,r,n.width,n.height)}function s(e){var n;var i=window.scrollX?window.scrollX:document.documentElement.scrollLeft?document.documentElement.scrollLeft:0;var r=window.scrollY?window.scrollY:document.documentElement.scrollTop?document.documentElement.scrollTop:0;if(e[0]===window)n=new t(i,r,e.outerWidth(),e.outerHeight());else{var o=e[0].getBoundingClientRect();n=new t(o.left+i,o.top+r,o.width,o.height)}return n}function a(e,t,s){var a,l={top:o,right:n,bottom:i,left:r};a=l[s]||n;return a.call({},e,t)}function l(e){var t="bottom,bottomLeft,bottomRight,centerLeft,center,centerRight,topLeft,top,topRight,topLeft,left,right".split(",");if(-1===t.indexOf(e))throw new Error("Not a valid docking position. Try "+t.join(" ,")+".")}function u(e,t,n){if("right"===e)return t.getRight()-n.getRight();if("left"===e)return n.x-t.x;if("top"===e)return n.y-t.y;if("bottom"===e)return t.getBottom()-n.getBottom();return 0}function c(e){var t={top:"bottom",right:"left",bottom:"top",left:"right"};return t[e]}function f(e){return"flip"===e||"flipfit"===e}function d(e){return"fit"===e||"flipfit"===e}function p(e){var t={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"};return t[e]}function h(e){var t={vertical:["top","bottom"],horizontal:["left","right"]};return t[e]}function v(e){var t={horizontal:"vertical",vertical:"horizontal"};return t[e]}function m(e){var t=e.collision.split(" "),n={horizontal:t[0],vertical:t[1]||t[0]},i=p(e.position),r=v(i);return{flipPrimary:f(n[i]),fitPrimary:d(n[i]),fitSecondary:d(n[r])}}function g(e,t,n){var i,r;for(i=0;i<t.length;i++){r=t[i];if("left"===r&&e.x<n.x){e.x=n.x;break}if("right"===r&&e.getRight()>n.getRight()){e.x=n.getRight()-e.width;break}if("top"===r&&e.y<n.y){e.y=n.y;break}if("bottom"===r&&e.getBottom()>n.getBottom()){e.y=n.getBottom()-e.height;break}}return e}function b(e,t,n,i,r,o){if(!n)return e.map(function(e,n){var i=t[n]||t[0];return{align:e,x:i.x,y:i.y}});var s=t[0].x,a=t[0].y;var l=function e(t){var n=t?t.length/2:0,o=new Array(n),l,u,c,f;for(l=0;l<n;l++){u=t[2*l+1];c=u*s+(1-u)*i;f=u*a+(1-u)*r;o[l]={align:t[2*l],x:c,y:f}}return o};var u=e[0]+(e[1]?"-"+e[1]:"");var c=1,f=.7,d=.5,p=o>.5?0:.5-o,h=o>.5?.5:.7-.4*o;switch(u){case"top":if(s>=i)return l(["top",c,"top",f,"top",d,"right",f,"right",d,"left",d,"left",f,"bottom",p,"bottom",h]);return l(["top",c,"top",f,"top",d,"left",f,"left",d,"right",d,"right",f,"bottom",p,"bottom",h]);case"top-right":return l(["top",c,"top",f,"top",d,"right",f,"right",d,"left",d,"left",f,"bottom",p,"bottom",h]);case"top-left":return l(["top",c,"top",f,"top",d,"left",f,"left",d,"right",d,"right",f,"bottom",p,"bottom",h]);case"bottom":if(s>=i)return l(["bottom",c,"bottom",f,"bottom",d,"right",f,"right",d,"left",d,"left",f,"top",p,"top",h]);return l(["bottom",c,"bottom",f,"bottom",d,"left",f,"left",d,"right",d,"right",f,"top",p,"top",h]);case"bottom-right":return l(["bottom",c,"bottom",f,"bottom",d,"right",f,"right",d,"left",d,"left",f,"top",p,"top",h]);case"bottom-left":return l(["bottom",c,"bottom",f,"bottom",d,"left",f,"left",d,"right",d,"right",f,"top",p,"top",h]);case"left":if(a<=r)return l(["left",c,"left",f,"left",d,"top",f,"top",d,"bottom",d,"bottom",f,"right",d,"right",f]);return l(["left",c,"left",f,"left",d,"bottom",f,"bottom",d,"top",d,"top",f,"right",d,"right",f]);case"left-top":return l(["left",c,"left",f,"left",d,"top",f,"top",d,"bottom",d,"bottom",f,"right",d,"right",f]);case"left-bottom":return l(["left",c,"left",f,"left",d,"bottom",f,"bottom",d,"top",d,"top",f,"right",d,"right",f]);case"right":if(a<=r)return l(["right",c,"right",f,"right",d,"top",f,"top",d,"bottom",d,"bottom",f,"left",d,"left",f]);return l(["right",c,"right",f,"right",d,"bottom",f,"bottom",d,"top",d,"top",f,"left",d,"left",f]);case"right-top":return l(["right",c,"right",f,"right",d,"top",f,"top",d,"bottom",d,"bottom",f,"left",d,"left",f]);case"right-bottom":return l(["right",c,"right",f,"right",d,"bottom",f,"bottom",d,"top",d,"top",f,"left",d,"left",f])}}var y={align:function t(n,i,r){r=r||{position:"right",collision:"none"};r.position=r.position||"right";r.collision=r.collision||"none";if(n&&i){var o=s(e(window)),l=s(n),f=s(i),d=m(r),b=a(l,f,r.position),y;y=function e(t){var n=a(l,f,c(r.position)),i=u(r.position,t,o),s=u(c(r.position),n,o);return s<i};if(d.flipPrimary&&u(r.position,b,o)>0&&y(b)){b=a(l,f,c(r.position));r.position=c(r.position)}d.fitPrimary&&(b=g(b,[r.position],o));d.fitSecondary&&(b=g(b,h(v(p(r.position))),o));r.limits&&b.y<r.limits.top&&(b.y=r.limits.top);n.offset({top:b.y,left:b.x})}return r.position},alignToCoordinate:function t(n,i,r,o,s){l(o);var a,u;o=o||"top";a=function e(t,i,r){var o=i,s=r;switch(t){case"topRight":s=r-n.outerHeight();break;case"top":o=i-n.outerWidth()/2;s=r-n.outerHeight();break;case"topLeft":o=i-n.outerWidth();s=r-n.outerHeight();break;case"right":case"centerRight":s=r-n.outerHeight()/2;break;case"center":o=i-n.outerWidth()/2;s=r-n.outerHeight()/2;break;case"left":case"centerLeft":o=i-n.outerWidth();s=r-n.outerHeight()/2;break;case"bottom":o=i-n.outerWidth()/2;break;case"bottomLeft":o=i-n.outerWidth();break;case"bottomRight":o=i;s=r;break}return{x:o,y:s}};u=a(o,i,r);var c,f={},d={},p,h,v;c=e(window);p=10;d.x=c.outerWidth()-n.outerWidth()-p;f.x=p;d.y=c.outerHeight()-n.outerHeight()-p;f.y=p;var m=function e(t,n){return n[t]>d[t]?n[t]-d[t]:n[t]<f[t]?f[t]-n[t]:0};if(s){h=m("x",u);v=m("y",u);var g=a(s,i,r);if(h>m("x",g)||v>m("y",g)){u=g;o=s}}u.x=Math.max(f.x,Math.min(d.x,u.x));u.y=Math.max(f.y,Math.min(d.y,u.y));n.offset({left:u.x,top:u.y});return o},alignToBestCoordinate:function t(n,i,r,o,a,u,c){var f=e(window);var d=s(f);l(r[0]);i=i instanceof Array?i:[i];var p=i[0].x-d.x,h=i[0].y-d.y;n.offset({left:0,top:0});n.width("auto");n.height("auto");var v=f.outerWidth(),m=f.outerHeight(),g=n.outerWidth(),y=n.outerHeight();var x={},_={};c=void 0===c?5:c;var w=(void 0===u?5:u)+c;_.x=v-g-w;x.x=w;_.y=m-y-w;x.y=w;if(v<g+2*w){g=v-2*w;n.width(g);_.x=x.x}if(m<y+2*w){y=m-2*w;n.height(y);_.y=x.y}r=r||["top"];var q=function e(t,n,i){var r=n,o=i;switch(t){case"topRight":o=i-y;break;case"top":r=n-g/2;o=i-y;break;case"topLeft":r=n-g;o=i-y;break;case"right":case"centerRight":o=i-y/2;break;case"center":r=n-g/2;o=i-y/2;break;case"left":case"centerLeft":r=n-g;o=i-y/2;break;case"bottom":r=n-g/2;break;case"bottomLeft":r=n-g;break;case"bottomRight":r=n;o=i;break}return{x:r,y:o}};var C=function e(t,n){return n[t]>_[t]?n[t]-_[t]:n[t]<x[t]?n[t]-x[t]:0};var S,E,D=p,O=h,A,L,I,T,k,P,M,R,N;if(a){L=o.shape.cx+o.targetToPageTranslation.x-d.x;I=o.shape.cy+o.targetToPageTranslation.y-d.y;T=o.shape.innerRadius;k=o.shape.radius;P=0;if(T>0){P=T/k;L+=P*(p-L);I+=P*(h-I)}}N=b(r,i,a,L,I,P);var F=function e(){for(S=0;S<N.length;S++){E=N[S].align;D=N[S].x-d.x;O=N[S].y-d.y;A=q(E,D,O);M=C("x",A);R=C("y",A);if(0!==M||0!==R)if(0!==R||"top"!==E&&"bottom"!==E){if(0===M&&("left"===E||"right"===E)){A.y-=R;R=0}}else{A.x-=M;M=0}if(0===M&&0===R)return}if(0!==M||0!==R){E=N[0].align;D=N[0].x-d.x;O=N[0].y-d.y;A=q(E,D,O);M=C("x",A);R=C("y",A);A.x-=M;A.y-=R}};F();A&&n.offset({left:A.x+d.x,top:A.y+d.y});return{position:E,x:D+d.x,y:O+d.y}}};y.getScrolledRect=s;return y}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(49)],r=function(e,t){var n=function e(){return t.getFlag("AOSHARE")};var i={alphabetical:0,publishedDate:1};function r(e,t){return e.qData.rank-t.qData.rank}function o(e,t,n){t.aoItems.init(t.AppOverviewState);if(e.is.sheet){e.translations.navigatorHeader="Common.Sheets";n(e,"sheet")&&t.aoItems.initSheet(e,t.commonFunctions.sortArrayByRank)}else if(e.is.story){e.translations.navigatorHeader="Common.Stories";n(e,"story")&&t.aoItems.initStories(e,t.commonFunctions.sortArrayByRank)}else e.is.bookmark&&(e.translations.navigatorHeader="Common.Bookmarks")}function s(e,t){var n=false;"sheet"===t?n=!e.approvedSheets.length&&!e.privateSheets.length:"story"===t&&(n=!e.approvedStories.length&&!e.privateStories.length);return n}function a(t){var i=n();var r={sheets:i?"AppOverview.Content.PublicSheets":"AppOverview.Content.ApprovedSheets",stories:i?"AppOverview.Content.PublicStories":"AppOverview.Content.ApprovedStories"};t.translations.addNew=t.is.sheet?"AppOverview.Toolbar.CreateNewSheet":"AppOverview.Toolbar.CreateNewStory";t.translations.navigatorHeader=t.is.sheet?"Common.Sheets":"Common.Stories";t.translations.approvedHeader=e.get(t.is.sheet?r.sheets:r.stories);t.translations.myWorkHeader=e.get(t.is.sheet?"AppOverview.Content.MySheets":"AppOverview.Content.MyStories");t.translations.myPublishedHeader=e.get(t.is.sheet?"AppOverview.Content.MyPublishedSheets":"AppOverview.Content.MyPublishedStories");t.translations.communityHeader=e.get(t.is.sheet?"AppOverview.Content.CommunitySheets":"AppOverview.Content.CommunityStories");t.translations.sharingHelp=e.get(t.is.sheet?"AppOverview.SharingSheet.Help":"AppOverview.SharingStory.Help");t.translations.sharingHelpDesc=e.get(t.is.sheet?"AppOverview.SharingSheet.Help.Description":"AppOverview.SharingStory.Help.Description");t.translations.numberOfItems=function(n){return e.get(t.is.sheet?"Accessibility.SheetSection.NumberOfSheets":"Accessibility.StorySection.NumberOfStories",n)}}function l(e,t){e.shownav=true;e.navigationmode=t.navigationMode;e.hasData=true;e.addingItem=false;e.is={};e.exp={};e.features={sharing:function e(){return n()}};e.funcs={};e.translations={};e.is.smallAppView=false;e.is.appReadOnly=false;e.is.grid=t.viewMode===t.ViewMode.grid;e.is.navigator=false;e.is.smalldevice=false;e.is.sheet="sheet"===t.navigationMode;e.is.story="story"===t.navigationMode;e.is.bookmark="bookmark"===t.navigationMode;a(e);e.exp.readonly=false;e.exp.sections=[];e.exp.isAscending=true;e.exp.hasBookmarks=false;e.exp.canCreateBookmark=false;e.exp.isOpenedByClick=true;e.approvedSheets=[];e.privateSheets=[];e.myPublishedSheets=[];e.communitySheets=[];e.approvedStories=[];e.privateStories=[];e.myPublishedStories=[];e.communityStories=[]}function u(e,t,n){t.AppOverviewState.setAddingItem(false);t.AppOverviewState.setDuplicatingItem(false);e.is.sheet=n===t.AppOverviewState.NavigationMode.sheet;e.is.story=n===t.AppOverviewState.NavigationMode.story;e.is.bookmark=n===t.AppOverviewState.NavigationMode.bookmark;a(e)}function c(t,n){var i=t.sort(function t(n,i){n=n.qData.labelExpression||n.qData.title;i=i.qData.labelExpression||i.qData.title;return n.localeCompare(i,e.language)});if(n)return i.reverse();return i}function f(t,n,i){var r=t.sort(function t(i,r){if(n){i=i.qMeta[n];r=r.qMeta[n]}return i.localeCompare(r,e.language)});if(i)return r.reverse();return r}function d(e,t,n){var i=e.sort(function e(n,i){if(t){var r=new Date(n.qMeta[t]),o=new Date(i.qMeta[t]);return r<o?1:r>o?-1:0}});if(n)return i.reverse();return i}function p(e,t){var n=new Date(e.qMeta.publishTime);var i=new Date(t.qMeta.publishTime);return n<i?1:n>i?-1:0}function h(e,t){return e.qData.rank-t.qData.rank}function v(t){return function(n,i){if(0===t){n=n.qData.labelExpression||n.qData.title;i=i.qData.labelExpression||i.qData.title;return n.localeCompare(i,e.language)}return p(n,i)}}function m(e){var t=void 0===e?{}:e;var n=t.userId?t.userId:null;var i=t.userDirectory?t.userDirectory:null;return{userId:n,userDirectory:i}}function g(e,t){var n=t.hasOwnProperty("userId")&&t.hasOwnProperty("userDirectory");return n&&t.userId===e.userId&&t.userDirectory===e.userDirectory}function b(e){return!n()&&e.qMeta.published&&!e.qMeta.approved}function y(e){return!e.qMeta.published}function x(e){return e.qMeta.published&&(e.qMeta.approved||n())}function _(e){return function(t){var n=m(t.qMeta.owner);return b(t)&&g(e,n)}}function w(e){return function(t){var n=m(t.qMeta.owner);return b(t)&&!g(e,n)}}return{sortArrayByRank:r,setNewAppOverViewMode:o,hasToGet:s,setDefaultScopeVar:l,setNewScopeValOnNavigationChange:u,SortFilterOptions:i,sortAlphabetically:f,sortSheetsAlphabetically:c,sortByPublishedDate:d,sortPublishedTime:p,sortByRank:h,sortCommunity:v,filterPrivate:y,filterApproved:x,filterMyPublishedCommunity:_,filterCommunity:w}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){t.directive("qvaApplyStyle",function(){return{restrict:"A",link:function t(n,i,r){n.$watch(r.qvaApplyStyle,function t(n){"string"===e.type(n)&&i.attr("style",n)},false)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{ENTER_BEFORE:{value:0},ENTER_AFTER:{value:1},ENTER_SWAP:{value:2},TYPEFLAG_PLACEHOLDER:{value:16},TYPEFLAG_LOCKED:{value:32}});return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";var i,r;!(i=[n(197)],r=function(e){var t=e.get("deviceType",{value:"auto"}).value;return{deviceType:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(94),n(90),n(181),n(50)],r=function(e,t,n,i){var r=47;var o=10;var s=54;return{objIndex:function e(t,i){var r,o;var s=-1;for(r=0;r<t.cells.length;++r){o=t.cells[r];if(n.compareBounds(o.bounds,i.bounds))return r;o.col===i.col&&o.row===i.row&&(s=r)}return s},getObject:function e(t,n,i){var r=this.objIndex(t,n);if(-1===r){if(i)return null;throw new Error("invalid pos")}return t.cells[r]},moveObject:function e(t,i,r){t.col=i.col;t.row=i.row;t.colspan=i.colspan;t.rowspan=i.rowspan;t.bounds=i.bounds?i.bounds:n.getBounds(i,r.columns,r.rows)},setObject:function e(t,n,i,r){var o=this.getObject(t,n,true);var s=o?o.name:null;if(o){o.name=i;o.type=r}else t.cells.push({name:i,type:r,col:n.col,row:n.row,colspan:n.colspan,rowspan:n.rowspan,bounds:n.bounds});return s},splitPos:function e(t,i,r,o){var s=t.bounds||n.getBounds(t,r,o);var a=n.getAligmentToGrid(s,r,o);var l={col:a.col,row:a.row,colspan:a.colspan,rowspan:a.rowspan};var u={col:a.col,row:a.row,colspan:a.colspan,rowspan:a.rowspan};var c=n.splitBounds(s,i,a.colspan,a.rowspan);l.bounds=c.near;u.bounds=c.far;if("left"===i||"right"===i){var f=Math.ceil(t.colspan/2);l.colspan-=f;u.col+=t.colspan-f;u.colspan=f}if("top"===i||"bottom"===i){var d=Math.ceil(t.rowspan/2);l.rowspan-=d;u.row+=t.rowspan-d;u.rowspan=d}if("top"===i||"left"===i){var p=l;l=u;u=p}return{pos1:l,pos2:u}},swapObjects:function e(t,i,r){var o=this.getObject(t,i),s=this.getObject(t,r,true);this.moveObject(o,n.alignToGrid(t,r),t);s&&this.moveObject(s,n.alignToGrid(t,i),t)},splitCell:function e(t,i,r){var o=this.getObject(t,i,false);n.alignToGrid(t,o);if(!o||(o.colspan!==i.colspan||o.rowspan!==i.rowspan)&&!n.compareBounds(o.bounds,i.bounds))return false;var s=this.splitPos(o,r,t.columns,t.rows);delete s.pos1.bounds;delete s.pos2.bounds;this.moveObject(o,s.pos1,t);return s.pos2},ifSplit:function e(t,i,r,o){var s=n.getAligmentToGrid(i.pos.bounds,r,o);if(0===s.rowspan||0===s.colspan)return false;if("vertical"===t){if(i.pos.bounds.height>=2/o*100)return true}else if("horizontal"===t&&i.pos.bounds.width>=2/r*100)return true;return false},findCellForId:function e(t,n){return n.filter(function(e){return e.name===t})[0]},addChildrenToObject:function e(n,i){for(var r=0;r<i.length;r++){var o=i[r];o.qInfo.qId=t.generateId();n.qChildren.push({qChildren:[],qProperty:o})}},updatePermissionStyle:function t(n,r){var o=r||i;!n.hasUpdatePermission&&e.isInEditMode()?n.permissionStyle={overflow:"hidden"}:o.isSmallDevice&&n.mobileGrid&&!n.zoomCell?n.permissionStyle={overflow:"auto"}:n.permissionStyle={overflow:"visible"}},getExtendedSheetSize:function e(t,n){var i=n&&t.layoutOptions&&t.layoutOptions.extendable?s:o;return{height:"calc("+t.height+"% - "+i+"px)"}},getCustomSheetSize:function e(t,n){var i=4,s=5,a=t.pxHeight-o-r-i,l=t.pxWidth-o-i,u=n/2-a/2,c=u>s?"calc(50% - "+a/2+"px)":s+"px";return{height:a+"px",width:l+"px",top:c}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){return{OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM:18,MIN_TABLE_RESIZE_WIDTH:150,TABLE_MINIMIZE_HEIGHT:28}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e="small";var t="LIST";var n={12:"small",15:"medium",18:"large",small:12,medium:15,large:18};var i={width:1280,height:1024};var r={min:{width:300,height:300},max:{width:4e3,height:4e3}};function o(t){e=t}function s(){return e}function a(e){t=e}function l(){return t}function u(e){return n[e]}function c(e){e.pxHeight=e.pxHeight||i.height;var t=e.pxHeight/i.height;return Math.ceil(u(e.gridResolution)*t)}function f(e){e.pxWidth=e.pxWidth||i.width;var t=e.pxWidth/i.width;return Math.ceil(u(e.gridResolution)*t)}function d(e,t){var n=Math.min(r.max.height,e);var i=Math.min(r.max.width,t);n=Math.max(r.min.height,n);i=Math.max(r.min.width,i);return{pxHeight:n,pxWidth:i}}return{setPreferredGridSize:o,getPreferredGridSize:s,setPreferredMobileLayout:a,getPreferredMobileLayout:l,getResolutionFor:u,getCustomRows:c,getCustomCols:f,checkSheetPixelLimits:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(92),n(156),n(445),n(332),n(90),n(48),n(498),n(420),n(386),n(669)],r=function(e,t,n,i,r,s,a,l,u){var c;function f(e,t){var i=r.extend(true,{},n,t);i.libraryInfo=e.getLibraryInfo();return i}function d(e){return a.loadExtension(e).then(function(t){return f(e,t)})}s.componentDirective("qvaIncludeObject",{model:"=",ext:"=",options:"="});c=e.extend("ExtensionType",{init:function e(t){var n=t.type;this.type=n;this.path=t.path;this.libraryInfo=i.getLibraryInfo(n);this.components=t.components||[]},getLibraryInfo:function e(){return this.libraryInfo},getIconName:function e(){return this.libraryInfo.icon},getIconChar:function e(){return this.libraryInfo.iconChar||"g"},getIconPath:function e(){return this.libraryInfo.iconPath||"M14.5,9 L13,9 L13,3.3 C13,3.1 12.9,3 12.7,3 L8,3 L8,1.5 C8,0.7 7.3,0 6.5,0 C5.7,0 5,0.7 5,1.5 L5,3 L0.3,3 C0.1,3 0,3.1 0,3.3 L0,9 L1.5,9 C2.3,9 3,9.7 3,10.5 C3,11.3 2.3,12 1.5,12 L0,12 L0,15.7 C0,15.9 0.1,16 0.3,16 L5,16 L5,14.5 C5,13.7 5.7,13 6.5,13 C7.3,13 8,13.7 8,14.5 L8,16 L12.7,16 C12.9,16 13,15.9 13,15.7 L13,12 L14.5,12 C15.3,12 16,11.3 16,10.5 C16,9.7 15.3,9 14.5,9 Z"},getModelCtor:function e(){return d(this).then(function(e){return e.Model})},getInitialProperties:function e(n){var i=this;return d(i).then(function(e){var o=r.extend(true,{qInfo:{qType:i.type},visualization:i.type},e.initialProperties,n);if(e.libraryInfo.isThirdParty){e.libraryInfo.version&&!o.version&&(o.version=e.libraryInfo.version);o.extensionMeta=r.extend(true,{},e.libraryInfo)}return t.mapProperties(e.definition,o,i.type)}).catch(function(){return{qInfo:{qType:i.type},visualization:i.type}})},load:function e(){return d(this).then(function(e){e=r.extend(true,{},e);if(e.View)for(var t in l)if(l.hasOwnProperty(t)&&!o(e.View[t]===l[t]))throw new Error("extension.View property is missing DefaultView "+t);"undefined"===typeof e.View&&(e.View=l);"undefined"===typeof e.controller&&(e.controller=u);return e})},getExtensionType:function e(){return d(this)}});return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(89),n(95)],r=function(e,t,i){var r="webkitAnimationEnd oanimationend msAnimationEnd animationend";function o(e,t,n,i){this.app=e;this.model=t;this.toggled=false;this.element=n;this.options=i;this.sourceClass="qv-view-original";this.tableClass="qv-view-data-table"}o.prototype.getSourceElement=function(){var e;e="string"===typeof this.element?document.getElementById(this.element).querySelector(".qv-object-wrapper"):this.element[0]?this.element[0].querySelector(".qv-object-wrapper"):this.element.querySelector(".qv-object-wrapper");return e};o.prototype.show=function(){var i=this;if(this.showIsAnimating)return t.resolve(i.toggled);this.showIsAnimating=true;var o=n(239);return new o(i.app).visualization.create("table",i.model,{totals:{show:false}}).then(function(e){var n=new t;var r;i.options?i.options.onRendered=function(){n.resolve()}:i.options={onRendered:function e(){n.resolve()}};i.sourceElement=i.getSourceElement();var o=i.sourceElement.parentElement;i.qvis=e;i.originalObjectId=i.model.id;i.tableElement=document.createElement("div");i.tableElement.classList.add(i.tableClass);o.insertBefore(i.tableElement,i.sourceElement);r=e.show(i.tableElement,i.options);return t.all([r,n.promise]).then(function(e){i.scope=e[0]})}).then(function(){var n=new t;i.sourceElement.classList.remove("chart-fade-in");i.sourceElement.classList.add("chart-fade-out");e.element(i.sourceElement).on(r,function(){e.element(i.sourceElement).off();i.sourceElement.classList.add(i.sourceClass);i.tableElement.classList.add("table-fade-in");i.toggled=true;i.showIsAnimating=false;n.resolve(i.toggled)});return n.promise})};o.prototype.getObject=function(){if(this.scope)return this.scope.object};o.prototype.hide=function(){var n=this;var o=new t;if(this.hideIsAnimating)return t.resolve(n.toggled);this.hideIsAnimating=true;n.tableElement.classList.remove("table-fade-in");n.tableElement.classList.add("table-fade-out");e.element(n.tableElement).on(r,function(){e.element(n.tableElement).off();n.sourceElement.classList.remove(n.sourceClass);n.sourceElement.classList.remove("chart-fade-out");n.sourceElement.classList.add("chart-fade-in");n.qvis.close();n.tableElement.parentNode.removeChild(n.tableElement);n.toggled=false;n.hideIsAnimating=false;e.element(n.sourceElement).on(r,function(){i.publish("/ui/object/resize."+n.originalObjectId)});o.resolve(n.toggled)});return o.promise};o.prototype.toggle=function(){return this.toggled?this.hide():this.show()};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.create=function(e,t){return n(t).then(function(t){return t.createMasterObject(e)})};i.remove=function(e,t){return n(t).then(function(t){return t.destroyObject(e)})};i.get=function(e,t){return n(t).then(function(t){return t.getObject(e)})};i.getList=function(e){return n(e).then(function(e){return e.getMasterObjectListObject()})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(10),n(48),n(97),n(121),n(191),n(150),n(90),n(127),n(99),n(242)],r=function(e,t,n,i,r,s,a,l,u,c){n.directive("ppSortable",[function(){return{scope:"=",link:function t(n,i,r){n.$watch(r.ppSortable,function(t){if(!t)return;var r;t=l.extend({},{handle:"[pp-sortable-handle]",start:function e(t,n){n.item.data("startPos",n.item.index())},scrollSpeed:c.treatAsDesktop()?25:60,distance:c.treatAsDesktop()?10:0,items:"> :not(.locked)",cancel:".locked",update:function e(i,r){var o=r.item.index(),s=r.item.data("startPos");n.$apply(function(){t.onMove(s,o)})},stop:function e(){c.treatAsDesktop()||i.sortable("option","disabled",true)}},t);r=i.closest(".pp-section");r.length&&(t.containment=r);i.sortable(t);c.treatAsDesktop()||i.sortable("option","disabled",true);n.enableTouchDrag=function(){var t;i.sortable("option","disabled",false);t=e.Event(window.event,{type:"mousedown"});t.which=1;t.pageX=window.event.pageX;t.pageY=window.event.pageY;t.target=window.event.target;e.ui.mouse.prototype._touchStart.call(i.data("ui-sortable"),t)}})}}}]);n.directive("ppSlider",[function(){return{require:"?ngModel",link:function e(i,r,o,s){var a=false;i.$watch(o.ppSlider,function(e){if(!e)return;if(e.range){e=l.extend({},{min:0,max:10,step:1,values:s.$modelValue,stop:function e(t,r){n.$apply(i,function(){s.$setViewValue(r.values)})}},e);a||i.$watchCollection(function(){return s.$modelValue},function(e,n){t.equals(e,n)||r.slider("values",e)})}else{e=e.values?l.extend({},{min:0,max:10,step:1,values:s.$modelValue,stop:function e(t,r){n.$apply(i,function(){s.$setViewValue(r.values)})}},e):l.extend({},{min:0,max:10,step:1,value:s.$modelValue,stop:function e(t,r){n.$apply(i,function(){s.$setViewValue(r.value)})}},e);a||i.$watch(function(){return s.$modelValue},function(e,t){e!==t&&(Array.isArray(e)?r.slider("values",e):r.slider("value",e))})}a&&r.slider("destroy");r.slider(e);a=true})}}}]);n.directive("ppPlaceholder",function(){return{link:function e(t,n,i){function r(){var e=t.$eval(i.ppPlaceholder);var r=t.$eval(i.ppPlaceholderSuppressEqual);r&&"="===e[0]&&(e=e.substr(1));n.attr("placeholder",e)}n.on("focus",function(){n.attr("placeholder","")});n.on("blur",function(){r()});t.$watch(i.ppPlaceholder,function(){r()})}}});n.directive("ppHeaderWithSwitch",function(){return{scope:{definition:"=",data:"=",args:"="}}});n.directive("ppAccordion",function(){return{template:"<div ng-transclude></div>",transclude:true,scope:{ppAccordion:"=",definition:"=",args:"="},controller:["$scope","$element","$timeout",function(t,n,r){var o=t.args.cache;var s=null;var a="accordion_path";t.definition.cacheKey&&(a=a+"_"+t.definition.cacheKey);function l(){s=r(function(){n.accordion("refresh");s=null})}function u(e){var n=-1;e=e.split(".")[0];Object.keys(t.definition.items||{}).filter(function(e){var n=t.definition.items[e];return false!==n.show}).forEach(function(t,i){if(t===e){n=i;return false}});return n}this.loadit=function(r){var s=o.get(a),f=void 0!==t.definition.defaultActiveTabIndex?t.definition.defaultActiveTabIndex:-1;s&&(f=u(s));if(r===t.ppAccordion.length-1){n.accordion({header:".pp-section-header",active:f,heightStyle:"fill",animate:!!c.treatAsDesktop()&&"swing",activate:function n(i,r){var s=e(r.newPanel).attr("x-path");o.put(a,s);t.$broadcast("ppAccordionNewPath",s)}});i.on("end",l)}};t.$on("pp-open-path",function(e,t){var i=u(t);i>=0&&n.accordion("option","active",i)});t.$on("$destroy",function(){if(s){r.cancel(s);s=null}i.off("end",l)})}]}});n.directive("ppAccordionItem",function(){return{require:"^ppAccordion",link:function e(t,n,i,r){r.loadit(t.$index)}}});function f(e){if("ValueExpr"===e||"ValueExpression"===e)return s.Modes.NumberOrExpression;return s.Modes.Expression}n.directive("ppInputValidator",["$parse",function(e){return{require:"ngModel",link:function t(n,i,o,a){var u=null,c=n.definition,d=o.expressionType;function p(e,t){if(c&&"function"===typeof c.isExpression)return c.isExpression(e);if(void 0===e)return false;if("always"===c.expression)return true;switch(t){case"StringExpression":return 0===e.indexOf("=");case"ValueExpression":return"string"===typeof e&&0===e.indexOf("=");case"StringExpr":return 0===e.indexOf("=");case"ValueExpr":return true;case"dimension":return true;case"measure":return true;default:return false}}function h(t){o.ppValidationOnResult?e(o.ppValidationOnResult)(n,{isValid:t}):n.invalid=!t}function v(e){h(e.valid)}if(d){var m=n.args?n.args.app:n.app;u=new s.ExpressionValidator(m,f(d));u.Update.bind(v)}function g(e){if("measure"===d)if(""===e)h(true);else{var t=n.args?n.args.handler.getLabels():[];u.validate(e,t)}else if("dimension"===d)if(""===e)h(false);else{e&&"="!==e[0]&&(e="="+l.escapeField(e));u.validate(e)}else u.validate(e)}function b(e){p(e,d)?g(e):h(r.validateType(e,c,n.data,n.args))}n.$on("datachanged",function(){b(a.$modelValue)});n.$on("pp-revalidate",function(){b(a.$modelValue)});n.$watch(function(){return a.$modelValue},function(e){b(e)});n.$on("$destroy",function(){u&&u.Update.unbind(v)})}}}]);function d(e){e=e||"";return"="===e[0]?e:"="+e}n.directive("ppExpressionEditor",["$parse","$timeout",function(n,i){return{link:function r(s,c,p){function h(e,t){if(void 0===e)return false;switch(t){case"StringExpression":return"object"===o(e);case"ValueExpression":return"object"===o(e);case"StringExpr":return"object"===o(e)&&0===e.qv.indexOf("=");case"ValueExpr":return"object"===o(e);case"dimension":return true;case"measure":return true;default:return false}}function v(e){return"'"!==e[0]&&"'"!==e[e.length-1]&&-1===e.indexOf("(")&&-1===e.indexOf(")")&&!l.isNumeric(e)}function m(){var e=n(p.ppExpressionEditor)(s),i=p.expressionType,r=f(i),u=e,c=[];var m=h(e,i);"object"===o(e)&&("StringExpression"===i?e=d(e.qStringExpression.qExpr):"ValueExpression"===i?e=d(e.qValueExpression.qExpr):"StringExpr"===i?e=e.qv:"ValueExpr"===i&&(e=e.qv));if("dimension"===i&&e.length)"="!==e[0]&&(e="="+l.escapeField(e));else if("measure"===i)c=s.args?s.args.handler.getLabels():[];else if(!m&&("StringExpr"===i||"StringExpression"===i)){"StringExpr"===i&&e.qv&&(e=e.qv);e&&v(e)&&(e="='"+e.replace(/'/g,"''")+"'")}a.show({expr:e,title:e?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title",allowEmpty:true,mode:r,labels:c,app:s.args?s.args.app:s.app,stateName:s.args&&s.args.layout?s.args.layout.qStateName:void 0}).then(function(e){if("ValueExpression"===i&&e.length)e={qValueExpression:{qExpr:e}};else if("StringExpression"===i&&e.length)e={qStringExpression:{qExpr:e}};else if("ValueExpr"===i)e={qv:e};else if("StringExpr"===i){"="!==e[0]&&(e="="+e);e={qv:e}}else"dimension"===i&&e.length&&"="!==e[0]&&(e="="+e);if(p.ppExpressionEditorOnApply)n(p.ppExpressionEditorOnApply)(s,{value:e});else if(!t.equals(u,e)){s.value=e;s.change()}},function(){})}c.on("keypress.pp-expression",function(t){13!==t.which&&32!==t.which||e(t.target).trigger("qv-activate")});c.on("qv-activate.pp-expression",function(){var t=null,r;if(p.editorDisabled){t=n(p.editorDisabled)(s);if(t)return}if(u.isInput(document.activeElement)){r=e(document.activeElement);r.on("blur.pp-expression",function(){i(function(){m()});r.off("blur.pp-expression")});r.blur()}else m()});s.$on("$destroy",function(){c.off(".pp-expression")})}}}]);n.directive("ppScrollableAutoContent",function(){var t=".property-content";return{link:function n(i){i.$watch(function(){return i.isAutoChart},function(e){r(e)});function r(n){var i=e(t);i.length&&i.css({"overflow-y":n?"auto":"hidden"})}i.$on("$destroy",function(){r(false)})}}});n.directive("ppDiDraggableHover",function(){var e=".pp-nm-di__header",t="hovered";return{link:function n(i,r){var o=r.closest(e);if(!o.length)return;r.hover(function(){o.addClass(t)},function(){o.removeClass(t)})}}});n.componentDirective("includePpComponent",{definition:"=",data:"=",args:"="});return{}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var t=/^[^\\/:*\t?"<>|]+$/,n=true;e.length&&(n=t.test(e));return n}function t(e){return 0===e.length||0===e.replace(/\n|\t|\s|\u200B|\uFEFF|\xA0/g,"").length}return{allowedChars:e,emptyTitle:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(91)],r=function(e,t,n){return{show:function i(r){var o=new t;e.getService("qvConfirmDialog").show({title:r.header?n.get(r.header):null,message:n.get(r.text),icon:void 0!==r.icon?r.icon:"cogwheel",okLabel:r.confirm?n.get(r.confirm):null}).closed.then(function(e){e?o.resolve():o.reject()});return o.promise}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(91),n(359),n(102)],r=function(e,t,n,i){var r=[],o={},s="";var a=[{id:"chart",name:"Widget.Type.chart",icon:"line-chart"},{id:"table",name:"Widget.Type.table",icon:"table"},{id:"kpi",name:"Widget.Type.kpi",icon:"kpi"},{id:"navigation",name:"Widget.Type.navigation",icon:"compass"},{id:"other",name:"Widget.Type.other"}];function l(e){var t=null;r.forEach(function(n,i){e.id===n.id&&(t=i)});null===t?r.push(e):r[t]=e;o[e.id]=e}var u=function e(t,n,i,r,o,s,a,l,u){this._version=0;s||(s={});Object.defineProperties(this,{libid:{value:t},id:{value:n},name:{value:i,writable:true},description:{value:r,writable:true},author:{value:o,writable:true},meta:{value:s,writable:true},dummy:{value:true===u?"true":null},html:{get:function e(){return this._html},set:function e(t){this._html=t;this._version++}},css:{get:function e(){return this._css},set:function e(t){this._css=t;this._version++}},properties:{value:a,writable:true},dependencies:{value:l,writable:true},version:{get:function e(){return this._version}},isLoaded:{get:function e(){return void 0!==this._html}}})};u.getIcon=function(e){var t;a.forEach(function(n){n.id===e&&n.icon&&(t=n.icon)});return t||"widget"};u.prototype.load=function(e){this.loadDfd&&!e||(this.loadDfd=n.loadWidget(this));return this.loadDfd};u.prototype.save=function(){var e=this;return n.saveTemplate(this).then(function(){u.Updated.emit(r);return e})};u.prototype.copy=function(e){return u.add({libid:e.libid||this.libid,id:e.id||this.id,name:e.name||this.name,description:e.description||""===e.description?e.description:this.description,author:e.author||this.author,meta:e.meta||this.meta,html:e.html||this.html,css:e.css||this.css,properties:e.properties||this.properties})};u.prototype.delete=function(){var e=n.deleteTemplate(this),t=this;r.forEach(function(e,n){e.id===t.id&&r.splice(n,1)});o&&o[t.id]&&delete o[t.id];e.then(function(){u.Updated.emit(r)});return e};u.prototype.move=function(e){var t=this;var i=this.copy({libid:e});return i.save().then(function(){return t.delete().then(function(){return n.reloadCachedLibraries().then(function(){return i})})})};u.getTemplateListFromLibrary=function(t){var i=[];var o=new e;r.length=0;n.getWidgetListFromLibrary(t).then(function(t){t.forEach(function(e){i.push(u.get(e.id,true,e.libid))});e.all(i).then(function(){o.resolve(r)})});return o.promise};u.getTemplateList=function(t){var i=[];if(!s||t){s=new e;n.getWidgetList(t).then(function(t){t.forEach(function(e){i.push(u.get(e.id,true,e.libid))});e.all(i).then(function(){s.resolve(r)})})}return s.promise};u.getLoaded=function(e){return o[e]};u.resetWidgetsProperties=function(e){o[e].propertiesObj&&o[e].propertiesObj.lastSavedProperties&&(o[e].properties=o[e].propertiesObj.lastSavedProperties)};u.get=function(i,r,s){if(i.indexOf("/")>-1){var a=i.split("/");s=a[0];i=a[1]}var c=new e;if(o[i]){var f=o[i];f.isLoaded||r?c.resolve(f):f.load().then(function(){c.resolve(f)},function(e){c.reject(e)})}else{if(!s){var d=n.getLibForId(i);s=d?d.id:void 0}s?n.getTemplate(s,i).then(function(e){e.properties||(e.properties={});var n=new u(s,i,e.name||t.get("Widget.NoName"),e.description||"",e.author||"",e.meta||{},e.properties,e.dependencies||{});n.lastModified=e.lastModified;l(n);n.isLoaded||r?c.resolve(n):n.load().then(function(){c.resolve(n)},function(e){n.err=e;c.resolve(n)})}).catch(function(){var e=new u(s,i);c.resolve(e)}):c.reject(t.get("Error.NoLibraryForWidget",i))}return c.promise};u.add=function(e){if(!e.id||!e.libid)return false;var t=new u(e.libid,e.id,e.name||"",e.description||"",e.author||"",e.meta,e.properties,e.dependencies||{},e.dummy);t.html=e.html||"";t.css=e.css||"";l(t);n.addTemplate(t);u.Updated.emit(r);return t};i.create(u,"Updated");u.types=a;return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(813),n(320),n(360),n(361)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(816)],r=function(e,t){var n;function i(t,n,i){return e.Event(t,{pageX:i.pagePoints[0].x,pageY:i.pagePoints[0].y,ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey,originalEvent:n,gestureData:i})}t(document.body).tap({options:{preventDefault:false},start:function t(i){n=e(i.target)},end:function e(t,r){var o=i("qv-activate",t,r);0===n.closest(":disabled").length&&n.trigger(o);n=null}});var r=t.Gesture.augment(function(e){this.defaults={precedence:6};this.start=function(e,t){this.binder.start.call(this,e,t)};function t(){e.apply(this,arguments)}return t});t.gestures.add("press",r);t(document.body).press({start:function t(n,r){var o=i("qv-press",n,r);e(n.target).trigger(o)}});e.addOutsideEvent("qv-press","qv-outside","touchstart","touchend")}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(429),n(224),n(430),n(478),n(479),n(480),n(481),n(482)],r=function(e,t,n,i,r,o,s,a,l,u){function c(e,t){e=e.toLowerCase()||"image";t=t.toLowerCase();var c=t+"-"+e;function f(){var e;switch(c){case"sheet-pdf":case"object-pdf":e=a;break;case"sheet-image":case"object-image":e=s;break;case"story-ppt":e=l;break;case"story-pdf":e=u;break;default:e=s}return e}var d={template:f(),controller:["$scope","$timeout",function(t,s){t.exportType=e;t.states=i.getStates();t.state=t.states.IDLE;var a={CurrentSize:"0",BestFitPreserveAspectRatio:"1",BestFitNoPreserveAspectRatio:"2"};t.print={fitCriteria:a.CurrentSize};if(t.input.object){var l=t.input.object.model.id;var u={id:l,model:t.input.object.model,options:{id:l,isVisible:true,isOnGrid:false,isZoomed:false}};t.obj=u}switch(c){case"sheet-pdf":case"object-pdf":case"story-pdf":t.sizes=r.sizes;t.layouts=r.layouts;t.selectedSize=t.sizes[1];t.print.dpi=200;t.selectedLayout=t.layouts[1];t.minDpi=72;t.maxDpi=300;s(function(){t.onPrintLayout(t.selectedLayout)});break;case"sheet-image":case"object-image":t.availableFormats=["Jpeg","Png"];t.print.width=t.input.currentWidth;t.print.height=t.input.currentHeight;t.print.dpi=t.input.currentDpi;t.print.format="Png";t.imageCustomSize=false;break;case"story-ppt":t.availablePptDpi=[96,150,220];t.print.dpi=t.availablePptDpi[2];t.print.currentWidth=t.input.currentWidth;t.print.currentHeight=t.input.currentHeight;t.print.currentDpi=t.input.currentDpi;t.formats=o.formats;t.selectedFormat=t.formats[3];s(function(){t.onPptFormatChange(t.selectedFormat)});break}var f=n.create(t);t.confirm=f.confirm;t.onImageCustomSize=f.onImageCustomSize;t.onSizeChange=f.onSizeChange;t.onPrintLayout=f.onPrintLayout;t.onPptFormatChange=f.onPptFormatChange}]};return d}function f(){var e=document.createElement("div");e.style.width="1in";var t=document.getElementsByTagName("body")[0];t.appendChild(e);var n=document.defaultView.getComputedStyle(e,null).getPropertyValue("width");t.removeChild(e);var i=n&&Math.round(parseFloat(n));i=i||96;return i>300?300:i}function d(e,n,r,o,s,a){var l="Print."+n+".Title";var u=f();var d=c(n,r);var p=t.getService("luiDialog").show({controller:d.controller,template:d.template,input:{title:l,object:e,sourceType:"object",exportType:n,currentWidth:o,currentHeight:s,currentDpi:u}});p.closed.then(function(){i.cancel();a&&a()});return p}function p(n,r,o){var s="Print."+r+".Title";var a;a="story"===o.toLowerCase()?n&&n.inStoryPlayState()?e("#qv-storytelling .qv-story-slide-active"):e("#qv-storytelling .qv-grid-story"):n.model&&n.model.isCustomSize()?e("#grid"):e(".qvt-sheet > .sheet-grid");var l=Math.round(a.width()||960);var u=Math.round(a.height()||720);var d=f();var p=c(r,o);var h=t.getService("luiDialog").show({controller:p.controller,template:p.template,input:{title:s,object:n,exportType:r,currentWidth:l,currentHeight:u,currentDpi:d}});h.closed.then(function(){i.cancel()})}return{showForObject:d,showForGlobalMenu:p,getScreenDpi:f}}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=[{resource:"sheet",canCreate:true},{resource:"bookmark",canCreate:true},{resource:"story",canCreate:true},{resource:"searchhistory",canCreate:true},{resource:"dimension",canCreate:true},{resource:"measure",canCreate:true},{resource:"masterobject",canCreate:true},{resource:"snapshot",canCreate:true}];var t=true;function n(e,n){e.length||(e=["update","publish","export","exportdata","changeowner","delete"]);t&&(e=[]);n=n||{};n.update=-1!==e.indexOf("update");n.publish=-1!==e.indexOf("publish");n.export=-1!==e.indexOf("export");n.exportData=-1!==e.indexOf("exportdata");n.changeOwner=-1!==e.indexOf("changeowner");n.remove=-1!==e.indexOf("delete");return n}function i(e,n){n=n||{};for(var i in n)delete n[i];if(t)return n;e.forEach(function(e){e.canCreate&&(n["create"+e.resource[0].toUpperCase()+e.resource.substring(1)]=true)});return n}function r(r,o){var s={};r.permissions||Object.defineProperty(r,"permissions",{configurable:false,enumerable:false,get:function a(){if(r){if(o){t=r.qReadOnly;i(r.create||e,s)}n(r.privileges||r.qMeta&&r.qMeta.privileges||[],s)}return s}});return r}return{mapToLayout:r,parse:n,parseCreate:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){!function(t,n){e.exports=n()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=166)}([function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function i(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}function r(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===s.indexOf(t))throw new o('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=i(t.styleAliases||null),-1===a.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var o=n(41),s=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],a=["scalar","sequence","mapping"];e.exports=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(75)("wks"),r=n(47),o=n(2).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},function(e,t,n){var i=n(2),r=n(0),o=n(19),s=n(15),a=n(17),l=function(e,t,n){var u,c,f,d=e&l.F,p=e&l.G,h=e&l.S,v=e&l.P,m=e&l.B,g=e&l.W,b=p?r:r[t]||(r[t]={}),y=b.prototype,x=p?i:h?i[t]:(i[t]||{}).prototype;p&&(n=t);for(u in n)(c=!d&&x&&void 0!==x[u])&&a(b,u)||(f=c?x[u]:n[u],b[u]=p&&"function"!=typeof x[u]?n[u]:m&&c?o(f,i):g&&x[u]==f?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((b.virtual||(b.virtual={}))[u]=f,e&l.R&&y&&!y[u]&&s(y,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var i=n(8),r=n(112),o=n(70),s=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(5);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(116),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){e.exports={default:n(264),__esModule:!0}},function(e,t,n){e.exports=!n(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports={default:n(168),__esModule:!0}},function(e,t,n){var i=n(7),r=n(30);e.exports=n(12)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(270),o=i(r),s=n(272),a=i(s),l="function"==typeof a.default&&"symbol"==typeof o.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};t.default="function"==typeof a.default&&"symbol"===l(o.default)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":l(e)}},function(e,t,n){var i=n(29);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){function i(e,t){var n=o(e,t);return r(n)?n:void 0}var r=n(184),o=n(189);e.exports=i},function(e,t,n){function i(e){return null==e?void 0===e?l:a:u&&u in Object(e)?o(e):s(e)}var r=n(23),o=n(185),s=n(186),a="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=i},function(e,t,n){var i=n(71),r=n(72);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(9),r=i.Symbol;e.exports=r},function(e,t,n){function i(e){return s(e)?r(e):o(e)}var r=n(120),o=n(208),s=n(36);e.exports=i},function(e,t){e.exports={}},function(e,t,n){"use strict";function i(e){return void 0===e||null===e}function r(e){return"object"==typeof e&&null!==e}function o(e){return Array.isArray(e)?e:i(e)?[]:[e]}function s(e,t){var n,i,r,o;if(t)for(o=Object.keys(t),n=0,i=o.length;n<i;n+=1)r=o[n],e[r]=t[r];return e}function a(e,t){var n,i="";for(n=0;n<t;n+=1)i+=e;return i}function l(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}e.exports.isNothing=i,e.exports.isObject=r,e.exports.toArray=o,e.exports.repeat=a,e.exports.isNegativeZero=l,e.exports.extend=s},function(e,t,n){"use strict";function i(e,t,n){var r=[];return e.include.forEach(function(e){n=i(e,t,n)}),e[t].forEach(function(e){n.forEach(function(t,n){t.tag===e.tag&&t.kind===e.kind&&r.push(n)}),n.push(e)}),n.filter(function(e,t){return-1===r.indexOf(t)})}function r(){function e(e){i[e.kind][e.tag]=i.fallback[e.tag]=e}var t,n,i={scalar:{},sequence:{},mapping:{},fallback:{}};for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(e);return i}function o(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=i(this,"implicit",[]),this.compiledExplicit=i(this,"explicit",[]),this.compiledTypeMap=r(this.compiledImplicit,this.compiledExplicit)}var s=n(26),a=n(41),l=n(1);o.DEFAULT=null,o.create=function(){var e,t;switch(arguments.length){case 1:e=o.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new a("Wrong number of arguments for Schema.create function")}if(e=s.toArray(e),t=s.toArray(t),!e.every(function(e){return e instanceof o}))throw new a("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof l}))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:e,explicit:t})},e.exports=o},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(114),r=n(76);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){var i=n(72);e.exports=function(e){return Object(i(e))}},function(e,t,n){function i(e,t,n,i){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var u=t[a],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),s?o(n,u,c):r(n,u,c)}return n}var r=n(54),o=n(118);e.exports=i},function(e,t,n){function i(e){return null!=e&&o(e.length)&&!r(e)}var r=n(115),o=n(84);e.exports=i},function(e,t,n){n(254);for(var i=n(2),r=n(15),o=n(25),s=n(3)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var u=a[l],c=i[u],f=c&&c.prototype;f&&!f[s]&&r(f,s,u),o[u]=o.Array}},function(e,t,n){var i=n(7).f,r=n(17),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var i=n(260)(!0);n(135)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){e.exports=n(268)},function(e,t,n){"use strict";function i(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(e){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!e&&this.mark&&(t+=" "+this.mark.toString()),t},e.exports=i},function(e,t,n){"use strict";var i=n(27);e.exports=new i({include:[n(149)],implicit:[n(302),n(303)],explicit:[n(304),n(308),n(309),n(310)]})},function(e,t,n){"use strict";(function(e){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return s(this,e,t,n)}function s(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,i):"string"==typeof t?c(e,t,n):p(e,t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,i){return a(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}function u(e,t){if(a(t),e=r(e,t<0?0:0|h(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n);e=r(e,i);var s=e.write(t,n);return s!==i&&(e=e.slice(0,s)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function d(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function p(e,t){if(o.isBuffer(t)){var n=0|h(t.length);return e=r(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?r(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function m(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function b(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function y(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=o.from(t,i)),o.isBuffer(t))return 0===t.length?-1:x(e,t,n,i,r);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,i,r){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}var u;if(r){var c=-1;for(u=n;u<a;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*s}else-1!==c&&(u-=u-c),c=-1}else for(n+l>a&&(n=a-l),u=n;u>=0;u--){for(var f=!0,d=0;d<l;d++)if(o(e,u+d)!==o(t,d)){f=!1;break}if(f)return u}return-1}function _(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,i){return Y(U(t,e.length-n),e,n,i)}function q(e,t,n,i){return Y(z(t),e,n,i)}function C(e,t,n,i){return q(e,t,n,i)}function S(e,t,n,i){return Y(W(t),e,n,i)}function E(e,t,n,i){return Y(G(t,e.length-n),e,n,i)}function D(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o=e[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var l,u,c,f;switch(a){case 1:o<128&&(s=o);break;case 2:l=e[r+1],128==(192&l)&&(f=(31&o)<<6|63&l)>127&&(s=f);break;case 3:l=e[r+1],u=e[r+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:l=e[r+1],u=e[r+2],c=e[r+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return A(i)}function A(e){var t=e.length;if(t<=J)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=J));return n}function L(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function I(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function T(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=$(e[o]);return r}function k(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,i,r,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function R(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function F(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,i,r){return r||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,i,23,4),n+4}function V(e,t,n,i,r){return r||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,i,52,8),n+8}function H(e){if(e=B(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function B(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function W(e){return K.toByteArray(H(e))}function Y(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function X(e){return e!==e}var K=n(305),Q=n(306),Z=n(307);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return s(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,s=Math.min(n,i);r<s;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=o.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!o.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,r){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var s=r-i,a=n-t,l=Math.min(s,a),u=this.slice(i,r),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){s=u[f],a=c[f];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},o.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return q(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var i;if(o.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=o.prototype;else{var r=t-e;i=new o(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+e]}return i},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},o.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),Q.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),Q.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),Q.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),Q.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,s=i-n;if(this===e&&n<t&&t<i)for(r=s-1;r>=0;--r)e[r+t]=this[r+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},o.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=o.isBuffer(e)?e:U(new o(e,i).toString()),l=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(80))},function(e,t,n){function i(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=n(60),o=1/0;e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.openapi;return!!t&&(0,x.default)(t,"3")}function o(e){var t=e.swagger;return!!t&&(0,x.default)(t,"2")}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.v2OperationIdCompatibilityMode;return e&&"object"===(void 0===e?"undefined":(0,m.default)(e))?(e.operationId||"").replace(/\s/g,"").length?w(e.operationId):a(t,n,{v2OperationIdCompatibilityMode:r}):null}function a(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).v2OperationIdCompatibilityMode){var n=(t.toLowerCase()+"_"+e).replace(/[\s!@#$%^&*()_+=[{\]};:<>|.\/?,\\'""-]/g,"_");return n=n||e.substring(1)+"_"+t,n.replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return""+_(t)+w(e)}function l(e,t){return _(t)+"-"+e}function u(e,t){return e&&e.paths?c(e,function(e){var n=e.pathName,i=e.method,r=e.operation;if(!r||"object"!==(void 0===r?"undefined":(0,m.default)(r)))return!1;var o=r.operationId;return[s(r,n,i),l(n,i),o].some(function(e){return e&&e===t})}):null}function c(e,t){return f(e,t,!0)||null}function f(e,t,n){if(!e||"object"!==(void 0===e?"undefined":(0,m.default)(e))||!e.paths||"object"!==(0,m.default)(e.paths))return null;var i=e.paths;for(var r in i)for(var o in i[r])if("PARAMETERS"!==o.toUpperCase()){var s=i[r][o];if(s&&"object"===(void 0===s?"undefined":(0,m.default)(s))){var a={spec:e,pathName:r,method:o.toUpperCase(),operation:s},l=t(a);if(n&&l)return a}}}function d(e){var t=e.spec,n=t.paths,i={};if(!n||t.$$normalized)return e;for(var r in n){var o=n[r];if((0,b.default)(o)){var a=o.parameters;for(var l in o)(function(e){var n=o[e];if(!(0,b.default)(n))return"continue";var l=s(n,r,e);if(l){i[l]?i[l].push(n):i[l]=[n];var u=i[l];if(u.length>1)u.forEach(function(e,t){e.__originalOperationId=e.__originalOperationId||e.operationId,e.operationId=""+l+(t+1)});else if(void 0!==n.operationId){var c=u[0];c.__originalOperationId=c.__originalOperationId||n.operationId,c.operationId=l}}if("parameters"!==e){var f=[],d={};for(var p in t)"produces"!==p&&"consumes"!==p&&"security"!==p||(d[p]=t[p],f.push(d));if(a&&(d.parameters=a,f.push(d)),f.length){var v=!0,m=!1,g=void 0;try{for(var y,x=(0,h.default)(f);!(v=(y=x.next()).done);v=!0){var _=y.value;for(var w in _)if(n[w]){if("parameters"===w){var q=!0,C=!1,S=void 0;try{for(var E,D=(0,h.default)(_[w]);!(q=(E=D.next()).done);q=!0)!function(){var e=E.value;n[w].some(function(t){return t.name&&t.name===e.name||t.$ref&&t.$ref===e.$ref||t.$$ref&&t.$$ref===e.$$ref||t===e})||n[w].push(e)}()}catch(e){C=!0,S=e}finally{try{!q&&D.return&&D.return()}finally{if(C)throw S}}}}else n[w]=_[w]}}catch(e){m=!0,g=e}finally{try{!v&&x.return&&x.return()}finally{if(m)throw g}}}}})(l)}}return t.$$normalized=!0,e}Object.defineProperty(t,"__esModule",{value:!0});var p=n(96),h=i(p),v=n(18),m=i(v);t.isOAS3=r,t.isSwagger2=o,t.opId=s,t.idFromPathMethod=a,t.legacyIdFromPathMethod=l,t.getOperationRaw=u,t.findOperation=c,t.eachOperation=f,t.normalizeSwagger=d;var g=n(10),b=i(g),y=n(131),x=i(y),_=function(e){return String.prototype.toLowerCase.call(e)},w=function(e){return e.replace(/[^\w]/gi,"_")}},function(e,t,n){var i=n(73),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(174),o=n(175),s=n(176),a=n(177),l=n(178);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,e.exports=i},function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(51);e.exports=i},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var i=n(20),r=i(Object,"create");e.exports=r},function(e,t,n){function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(198);e.exports=i},function(e,t,n){function i(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}var r=n(118),o=n(51),s=Object.prototype,a=s.hasOwnProperty;e.exports=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i)}var i=Object.prototype;e.exports=n},function(e,t,n){var i=n(219),r=n(79),o=n(220),s=n(221),a=n(222),l=n(21),u=n(117),c=u(i),f=u(r),d=u(o),p=u(s),h=u(a),v=l;(i&&"[object DataView]"!=v(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=v(new r)||o&&"[object Promise]"!=v(o.resolve())||s&&"[object Set]"!=v(new s)||a&&"[object WeakMap]"!=v(new a))&&(v=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var i=n(54),r=n(35),o=n(235),s=n(36),a=n(57),l=n(24),u=Object.prototype,c=u.hasOwnProperty,f=o(function(e,t){if(a(t)||s(t))return void r(t,l(t),e);for(var n in t)c.call(t,n)&&i(e,n,t[n])});e.exports=f},function(e,t,n){function i(e){return"symbol"==typeof e||o(e)&&r(e)==s}var r=n(21),o=n(13),s="[object Symbol]";e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t&&(0===t.indexOf("application/json")||t.indexOf("+json")>0)?JSON.parse(e):D.default.safeLoad(e)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.loadSpec,o=void 0!==i&&i,a={ok:e.ok,url:e.url||t,status:e.status,statusText:e.statusText,headers:s(e.headers)},l=a.headers["content-type"],u=o||I(l);return(u?e.text:e.blob||e.buffer).call(e).then(function(e){if(a.text=e,a.data=e,u)try{var t=r(e,l);a.body=t,a.obj=t}catch(e){a.parseError=e}return a})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return"function"==typeof e.forEach?(e.forEach(function(e,n){void 0!==t[n]?(t[n]=Array.isArray(t[n])?t[n]:[t[n]],t[n].push(e)):t[n]=e}),t):t}function a(e,t){return t||"undefined"==typeof navigator||(t=navigator),t&&"ReactNative"===t.product?!(!e||"object"!==(void 0===e?"undefined":(0,_.default)(e))||"string"!=typeof e.uri):"undefined"!=typeof File?e instanceof File:null!==e&&"object"===(void 0===e?"undefined":(0,_.default)(e))&&"function"==typeof e.pipe}function l(e,t){var n=e.collectionFormat,i=e.allowEmptyValue,r="object"===(void 0===e?"undefined":(0,_.default)(e))?e.value:e,o={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};if(void 0===r&&i)return"";if(a(r)||"boolean"==typeof r)return r;var s=encodeURIComponent;return t&&(s=(0,A.default)(r)?function(e){return e}:function(e){return(0,g.default)(e)}),"object"!==(void 0===r?"undefined":(0,_.default)(r))||Array.isArray(r)?Array.isArray(r)?Array.isArray(r)&&!n?r.map(s).join(","):"multi"===n?r.map(s):r.map(s).join(o[n]):s(r):""}function u(e){var t=(0,v.default)(e).reduce(function(t,n){var i=e[n],r=!!i.skipEncoding,o=r?n:encodeURIComponent(n),s=function(e){return e&&"object"===(void 0===e?"undefined":(0,_.default)(e))}(i)&&!Array.isArray(i);return t[o]=l(s?i:{value:i},r),t},{});return S.default.stringify(t,{encode:!1,indices:!1})||""}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,i=void 0===t?"":t,r=e.query,o=e.form;if(o){var s=(0,v.default)(o).some(function(e){return a(o[e].value)}),c=e.headers["content-type"]||e.headers["Content-Type"];if(s||/multipart\/form-data/i.test(c)){var f=n(316);e.body=new f,(0,v.default)(o).forEach(function(t){e.body.append(t,l(o[t],!0))})}else e.body=u(o);delete e.form}if(r){var d=i.split("?"),h=(0,p.default)(d,2),m=h[0],g=h[1],b="";if(g){var y=S.default.parse(g);(0,v.default)(r).forEach(function(e){return delete y[e]}),b=S.default.stringify(y,{encode:!0})}var x=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter(function(e){return e}).join("&");return i?"?"+i:""}(b,u(r));e.url=m+x,delete e.query}return e}function f(e,t,n){return n=n||function(e){return e},t=t||function(e){return e},function(i){return"string"==typeof i&&(i={url:i}),L.mergeInQueryOrForm(i),i=t(i),n(e(i))}}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldDownloadAsText=t.self=void 0;var d=n(251),p=i(d),h=n(11),v=i(h),m=n(62),g=i(m),b=n(40),y=i(b),x=n(18),_=i(x),w=n(101),q=i(w);t.serializeRes=o,t.serializeHeaders=s,t.isFile=a,t.encodeFormOrQuery=u,t.mergeInQueryOrForm=c,t.makeHttp=f,n(288);var C=n(289),S=i(C),E=n(148),D=i(E),O=n(315),A=i(O),L=t.self={serializeRes:o,mergeInQueryOrForm:c};t.default=function(){function e(e){return t.apply(this,arguments)}var t=(0,q.default)(y.default.mark(function e(t){var n,i,r,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===(void 0===t?"undefined":(0,_.default)(t))&&(s=t,t=s.url),s.headers=s.headers||{},L.mergeInQueryOrForm(s),!s.requestInterceptor){e.next=10;break}return e.next=6,s.requestInterceptor(s);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=s;case 9:s=e.t0;case 10:return n=s.headers["content-type"]||s.headers["Content-Type"],/multipart\/form-data/i.test(n)&&(delete s.headers["content-type"],delete s.headers["Content-Type"]),i=void 0,e.prev=13,e.next=16,(s.userFetch||fetch)(s.url,s);case 16:return i=e.sent,e.next=19,L.serializeRes(i,t,s);case 19:if(i=e.sent,!s.responseInterceptor){e.next=27;break}return e.next=23,s.responseInterceptor(i);case 23:if(e.t1=e.sent,e.t1){e.next=26;break}e.t1=i;case 26:i=e.t1;case 27:e.next=37;break;case 29:if(e.prev=29,e.t2=e.catch(13),i){e.next=33;break}throw e.t2;case 33:throw r=new Error(i.statusText),r.statusCode=r.status=i.status,r.responseError=e.t2,r;case 37:if(i.ok){e.next=42;break}throw o=new Error(i.statusText),o.statusCode=o.status=i.status,o.response=i,o;case 42:return e.abrupt("return",i);case 43:case"end":return e.stop()}},e,this,[[13,29]])}));return e}();var I=t.shouldDownloadAsText=function(){return/(json|xml|yaml|text)\b/.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},function(e,t,n){e.exports={default:n(267),__esModule:!0}},function(e,t,n){var i=n(47)("meta"),r=n(5),o=n(17),s=n(7).f,a=0,l=Object.isExtensible||function(){return!0},u=!n(16)(function(){return l(Object.preventExtensions({}))}),c=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[i].i},d=function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[i].w},p=function(e){return u&&h.NEED&&l(e)&&!o(e,i)&&c(e),e},h=e.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var i=n(19),r=n(139),o=n(140),s=n(8),a=n(46),l=n(97),u={},c={},t=e.exports=function(e,t,n,f,d){var p,h,v,m,g=d?function(){return e}:l(e),b=i(n,f,t?2:1),y=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=a(e.length);p>y;y++)if((m=t?b(s(h=e[y])[0],h[1]):b(e[y]))===u||m===c)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=r(v,b,h.value,t))===u||m===c)return m};t.BREAK=u,t.RETURN=c},function(e,t,n){"use strict";var i=n(27);e.exports=i.DEFAULT=new i({include:[n(42)],explicit:[n(311),n(312),n(313)]})},function(e,t,n){function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}var r=n(107);e.exports=i},function(e,t,n){function i(e,t){return r(e)?e:o(e,t)?[e]:s(a(e))}var r=n(6),o=n(108),s=n(339),a=n(134);e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(n=n||{},t=(0,$.default)({},t,{path:t.path&&o(t.path)}),"merge"===t.op){var i=k(e,t.path);(0,$.default)(i,t.value),z.default.applyPatch(e,[a(t.path,i)])}else if("mergeDeep"===t.op){var r=k(e,t.path);for(var s in t.value){var l=t.value[s],u=Array.isArray(l);if(u){var c=r[s]||[];r[s]=c.concat(l)}else if(q(l)&&!u){var f=(0,$.default)({},r[s]);for(var d in l){if(Object.prototype.hasOwnProperty.call(f,d)){f=(0,X.default)((0,Q.default)({},f),l);break}(0,$.default)(f,(0,H.default)({},d,l[d]))}r[s]=f}else r[s]=l}}else if("add"===t.op&&""===t.path&&q(t.value)){var p=(0,j.default)(t.value).reduce(function(e,n){return e.push({op:"add",path:"/"+o(n),value:t.value[n]}),e},[]);z.default.applyPatch(e,p)}else if("replace"===t.op&&""===t.path){var h=t.value;n.allowMetaPatches&&t.meta&&L(t)&&(Array.isArray(t.value)||q(t.value))&&(h=(0,$.default)({},h,t.meta)),e=h}else if(z.default.applyPatch(e,[t]),n.allowMetaPatches&&t.meta&&L(t)&&(Array.isArray(t.value)||q(t.value))){var v=k(e,t.path),m=(0,$.default)({},v,t.meta);z.default.applyPatch(e,[a(t.path,m)])}return e}function o(e){return Array.isArray(e)?e.length<1?"":"/"+e.map(function(e){return(e+"").replace(/~/g,"~0").replace(/\//g,"~1")}).join("/"):e}function s(e,t){return{op:"add",path:e,value:t}}function a(e,t,n){return{op:"replace",path:e,value:t,meta:n}}function l(e,t){return{op:"remove",path:e}}function u(e,t){return{type:"mutation",op:"merge",path:e,value:t}}function c(e,t){return{type:"mutation",op:"mergeDeep",path:e,value:t}}function f(e,t){return{type:"context",path:e,value:t}}function d(e,t){try{return h(e,m,t)}catch(e){return e}}function p(e,t){try{return h(e,v,t)}catch(e){return e}}function h(e,t,n){return w(_(e.filter(L).map(function(e){return t(e.value,n,e.path)})||[]))}function v(e,t,n){return n=n||[],Array.isArray(e)?e.map(function(e,i){return v(e,t,n.concat(i))}):q(e)?(0,j.default)(e).map(function(i){return v(e[i],t,n.concat(i))}):t(e,n[n.length-1],n)}function m(e,t,n){n=n||[];var i=[];if(n.length>0){var r=t(e,n[n.length-1],n);r&&(i=i.concat(r))}if(Array.isArray(e)){var o=e.map(function(e,i){return m(e,t,n.concat(i))});o&&(i=i.concat(o))}else if(q(e)){var s=(0,j.default)(e).map(function(i){return m(e[i],t,n.concat(i))});s&&(i=i.concat(s))}return _(i)}function g(e,t){if(!Array.isArray(t))return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function b(e,t){return t.reduce(function(e,t){return void 0!==t&&e?e[t]:e},e)}function y(e){return w(_(x(e)))}function x(e){return Array.isArray(e)?e:[e]}function _(e){var t;return(t=[]).concat.apply(t,(0,N.default)(e.map(function(e){return Array.isArray(e)?_(e):e})))}function w(e){return e.filter(function(e){return void 0!==e})}function q(e){return e&&"object"===(void 0===e?"undefined":(0,M.default)(e))}function C(e){return q(e)&&S(e.then)}function S(e){return e&&"function"==typeof e}function E(e){return e instanceof Error}function D(e){if(T(e)){var t=e.op;return"add"===t||"remove"===t||"replace"===t}return!1}function O(e){return W.default.isGeneratorFunction(e)}function A(e){return D(e)||T(e)&&"mutation"===e.type}function L(e){return A(e)&&("add"===e.op||"replace"===e.op||"merge"===e.op||"mergeDeep"===e.op)}function I(e){return T(e)&&"context"===e.type}function T(e){return e&&"object"===(void 0===e?"undefined":(0,M.default)(e))}function k(e,t){try{return z.default.getValueByPointer(e,t)}catch(e){return console.error(e),{}}}Object.defineProperty(t,"__esModule",{value:!0});var P=n(18),M=i(P),R=n(349),N=i(R),F=n(11),j=i(F),V=n(354),H=i(V),B=n(14),$=i(B),U=n(355),z=i(U),G=n(40),W=i(G),Y=n(358),X=i(Y),K=n(359),Q=i(K);t.default={add:s,replace:a,remove:l,merge:u,mergeDeep:c,context:f,getIn:b,applyPatch:r,parentPathMatch:g,flatten:_,fullyNormalizeArray:y,normalizeArray:x,isPromise:C,forEachNew:d,forEachNewPrimitive:p,isJsonPatch:D,isContextPatch:I,isPatch:T,isMutation:A,isAdditiveMutation:L,isGenerator:O,isFunction:S,isObject:q,isError:E},e.exports=t.default},function(e,t,n){var i=n(5),r=n(2).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(5);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(75)("keys"),r=n(47);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(0),r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(33)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){function i(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(49),o=n(179),s=n(180),a=n(181),l=n(182),u=n(183);i.prototype.clear=o,i.prototype.delete=s,i.prototype.get=a,i.prototype.has=l,i.prototype.set=u,e.exports=i},function(e,t,n){var i=n(20),r=n(9),o=i(r,"Map");e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(190),o=n(197),s=n(199),a=n(200),l=n(201);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,e.exports=i},function(e,t,n){var i=n(205),r=n(13),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var i=n(9),r=n(206),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o,l=a?i.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;e.exports=c}).call(t,n(55)(e))},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}var i=9007199254740991;e.exports=n},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var i=n(116),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r,a=s&&i.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l}).call(t,n(55)(e))},function(e,t,n){var i=n(216),r=n(124),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),i(a(e),function(t){return s.call(e,t)}))}:r;e.exports=l},function(e,t){function n(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}e.exports=n},function(e,t,n){var i=n(122),r=i(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}var r=n(128);e.exports=i},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&u.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function o(e){return u.isString(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)}function s(e,t){return r(e,!1,!0).resolve(t)}function a(e,t){return e?r(e,!1,!0).resolveObject(t):t}var l=n(246),u=n(247);t.parse=r,t.resolve=s,t.resolveObject=a,t.format=o,t.Url=i;var c=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(h),m=["%","/","?",";","#"].concat(v),g=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},q=n(248);i.prototype.parse=function(e,t,n){if(!u.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),r=-1!==i&&i<e.indexOf("#")?"?":"#",o=e.split(r),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(r);var a=e;if(a=a.trim(),!n&&1===e.split("#").length){var f=d.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?q.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=c.exec(a);if(p){p=p[0];var h=p.toLowerCase();this.protocol=h,a=a.substr(p.length)}if(n||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===a.substr(0,2);!C||p&&_[p]||(a=a.substr(2),this.slashes=!0)}if(!_[p]&&(C||p&&!w[p])){for(var S=-1,E=0;E<g.length;E++){var D=a.indexOf(g[E]);-1!==D&&(-1===S||D<S)&&(S=D)}var O,A;A=-1===S?a.lastIndexOf("@"):a.lastIndexOf("@",S),-1!==A&&(O=a.slice(0,A),a=a.slice(A+1),this.auth=decodeURIComponent(O)),S=-1;for(var E=0;E<m.length;E++){var D=a.indexOf(m[E]);-1!==D&&(-1===S||D<S)&&(S=D)}-1===S&&(S=a.length),this.host=a.slice(0,S),a=a.slice(S),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var I=this.hostname.split(/\./),E=0,T=I.length;E<T;E++){var k=I[E];if(k&&!k.match(b)){for(var P="",M=0,R=k.length;M<R;M++)k.charCodeAt(M)>127?P+="x":P+=k[M];if(!P.match(b)){var N=I.slice(0,E),F=I.slice(E+1),j=k.match(y);j&&(N.push(j[1]),F.unshift(j[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=l.toASCII(this.hostname));var V=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+V,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[h])for(var E=0,T=v.length;E<T;E++){var B=v[E];if(-1!==a.indexOf(B)){var $=encodeURIComponent(B);$===B&&($=escape(B)),a=a.split(B).join($)}}var U=a.indexOf("#");-1!==U&&(this.hash=a.substr(U),a=a.slice(0,U));var z=a.indexOf("?");if(-1!==z?(this.search=a.substr(z),this.query=a.substr(z+1),t&&(this.query=q.parse(this.query)),a=a.slice(0,z)):t&&(this.search="",this.query={}),a&&(this.pathname=a),w[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",G=this.search||"";this.path=V+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=q.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||w[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+r+n+s+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(u.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var c=a[l];"protocol"!==c&&(n[c]=e[c])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!w[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=b||g||n.host&&e.pathname,x=y,q=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],C=n.protocol&&!w[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(""===q[0]?q[0]=n.host:q.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),y=y&&(""===h[0]||""===q[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,q=h;else if(h.length)q||(q=[]),q.pop(),q=q.concat(h),n.search=e.search,n.query=e.query;else if(!u.isNullOrUndefined(e.search)){if(C){n.hostname=n.host=q.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=e.search,n.query=e.query,u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!q.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=q.slice(-1)[0],D=(n.host||e.host||q.length>1)&&("."===E||".."===E)||""===E,O=0,A=q.length;A>=0;A--)E=q[A],"."===E?q.splice(A,1):".."===E?(q.splice(A,1),O++):O&&(q.splice(A,1),O--);if(!y&&!x)for(;O--;O)q.unshift("..");!y||""===q[0]||q[0]&&"/"===q[0].charAt(0)||q.unshift(""),D&&"/"!==q.join("/").substr(-1)&&q.push("");var L=""===q[0]||q[0]&&"/"===q[0].charAt(0);if(C){n.hostname=n.host=L?"":q.length?q.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return y=y||n.host&&q.length,y&&!L&&q.unshift(""),q.length?n.pathname=q.join("/"):(n.pathname=null,n.path=null),u.isNull(n.pathname)&&u.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){e.exports=n(15)},function(e,t,n){var i=n(8),r=n(258),o=n(76),s=n(74)("IE_PROTO"),a=function(){},l=function(){var e,t=n(69)("iframe"),i=o.length;for(t.style.display="none",n(136).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(32),r=n(3)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){e.exports={default:n(262),__esModule:!0}},function(e,t,n){var i=n(95),r=n(3)("iterator"),o=n(25);e.exports=n(0).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){t.f=n(3)},function(e,t,n){var i=n(2),r=n(0),o=n(33),s=n(98),a=n(7).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=n(102),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){return function(){var t=e.apply(this,arguments);return new r.default(function(e,n){function i(o,s){try{var a=t[o](s),l=a.value}catch(e){return void n(e)}if(!a.done)return r.default.resolve(l).then(function(e){i("next",e)},function(e){i("throw",e)});e(l)}return i("next")})}}},function(e,t,n){e.exports={default:n(280),__esModule:!0}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=n(29);e.exports.f=function(e){return new i(e)}},function(e,t,n){var i=n(15);e.exports=function(e,t,n){for(var r in t)n&&e[r]?e[r]=t[r]:i(e,r,t[r]);return e}},function(e,t,n){"use strict";var i=n(27);e.exports=new i({explicit:[n(295),n(296),n(297)]})},function(e,t,n){function i(e,t){t=r(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}var r=n(67),o=n(44);e.exports=i},function(e,t,n){function i(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}var r=n(6),o=n(60),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=i},function(e,t){function n(e,t){return d.call(e,t)}function i(e){if(Array.isArray(e)){for(var t=new Array(e.length),i=0;i<t.length;i++)t[i]=""+i;return t}if(Object.keys)return Object.keys(e);var t=[];for(var r in e)n(e,r)&&t.push(r);return t}function r(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function o(e){for(var t,n=0,i=e.length;n<i;){t=e.charCodeAt(n);if(!(t>=48&&t<=57))return!1;n++}return!0}function s(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function a(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l(e,t){var i;for(var r in e)if(n(e,r)){if(e[r]===t)return s(r)+"/";if("object"==typeof e[r]&&""!=(i=l(e[r],t)))return s(r)+"/"+i}return""}function u(e,t){if(e===t)return"/";var n=l(e,t);if(""===n)throw new Error("Object not found in root");return"/"+n}function c(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(c(e[t]))return!0}else if("object"==typeof e)for(var r=i(e),o=r.length,t=0;t<o;t++)if(c(e[r[t]]))return!0;return!1}var f=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},d=Object.prototype.hasOwnProperty;t.hasOwnProperty=n,t._objectKeys=i,t._deepClone=r,t.isInteger=o,t.escapePathComponent=s,t.unescapePathComponent=a,t._getPathRecursive=l,t.getPath=u,t.hasUndefined=c;var p=function(e){function t(t,n,i,r,o){e.call(this,t),this.message=t,this.name=n,this.index=i,this.operation=r,this.tree=o}return f(t,e),t}(Error);t.PatchError=p},function(e,t,n){var i=n(19),r=n(71),o=n(34),s=n(46),a=n(364);e.exports=function(e,t){var n=1==e,l=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,p=t||a;return function(t,a,h){for(var v,m,g=o(t),b=r(g),y=i(a,h,3),x=s(b.length),_=0,w=n?p(t,x):l?p(t,0):void 0;x>_;_++)if((d||_ in b)&&(v=b[_],m=y(v,_,g),e))if(n)w[_]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:w.push(v)}else if(c)return!1;return f?-1:u||c?c:w}}},function(e,t,n){(function(t){!function(){"use strict";function n(e){var n;return n=e instanceof t?e:new t(e.toString(),"binary"),n.toString("base64")}e.exports=n}()}).call(t,n(43).Buffer)},function(e,t,n){e.exports=!n(12)&&!n(16)(function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(31),r=n(77),o=n(48),s=n(34),a=n(71),l=Object.assign;e.exports=!l||n(16)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=s(e),l=arguments.length,u=1,c=r.f,f=o.f;l>u;)for(var d,p=a(arguments[u++]),h=c?i(p).concat(c(p)):i(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:l},function(e,t,n){var i=n(17),r=n(22),o=n(170)(!1),s=n(74)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){function i(e){if(!o(e))return!1;var t=r(e);return t==a||t==l||t==s||t==u}var r=n(21),o=n(10),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(80))},function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var i=Function.prototype,r=i.toString;e.exports=n},function(e,t,n){function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var r=n(119);e.exports=i},function(e,t,n){var i=n(20),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,n){function i(e,t){var n=s(e),i=!n&&o(e),c=!n&&!i&&a(e),d=!n&&!i&&!c&&u(e),p=n||i||c||d,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!f.call(e,m)||p&&("length"==m||c&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||l(m,v))||h.push(m);return h}var r=n(204),o=n(82),s=n(6),a=n(83),l=n(56),u=n(121),c=Object.prototype,f=c.hasOwnProperty;e.exports=i},function(e,t,n){var i=n(207),r=n(85),o=n(86),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){function i(e){return s(e)?r(e,!0):o(e)}var r=n(120),o=n(211),s=n(36);e.exports=i},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var i=n(88),r=n(89),o=n(87),s=n(124),a=Object.getOwnPropertySymbols,l=a?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:s;e.exports=l},function(e,t,n){function i(e){return r(e,s,o)}var r=n(127),o=n(87),s=n(24);e.exports=i},function(e,t,n){function i(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}var r=n(88),o=n(6);e.exports=i},function(e,t,n){var i=n(9),r=i.Uint8Array;e.exports=r},function(e,t,n){function i(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=o(i.length-t,0),l=Array(a);++s<a;)l[s]=i[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=i[s];return u[t]=n(l),r(e,this,u)}}var r=n(237),o=Math.max;e.exports=i},function(e,t,n){var i=n(238),r=n(240),o=r(i);e.exports=o},function(e,t,n){function i(e,t,n){return e=a(e),n=null==n?0:r(s(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}var r=n(242),o=n(132),s=n(133),a=n(134);e.exports=i},function(e,t,n){function i(e){if("string"==typeof e)return e;if(s(e))return o(e,i)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=n(23),o=n(243),s=n(6),a=n(60),l=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=i},function(e,t,n){function i(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(244);e.exports=i},function(e,t,n){function i(e){return null==e?"":r(e)}var r=n(132);e.exports=i},function(e,t,n){"use strict";var i=n(33),r=n(4),o=n(93),s=n(15),a=n(25),l=n(257),u=n(38),c=n(259),f=n(3)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,m,g){l(n,t,h);var b,y,x,_=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",q="values"==v,C=!1,S=e.prototype,E=S[f]||S["@@iterator"]||v&&S[v],D=E||_(v),O=v?q?_("entries"):D:void 0,A="Array"==t&&S.entries||E;if(A&&(x=c(A.call(new e)))!==Object.prototype&&x.next&&(u(x,w,!0),i||"function"==typeof x[f]||s(x,f,p)),q&&E&&"values"!==E.name&&(C=!0,D=function(){return E.call(this)}),i&&!g||!d&&!C&&S[f]||s(S,f,D),a[t]=D,a[w]=p,v)if(b={values:q?D:_("values"),keys:m?D:_("keys"),entries:O},g)for(y in b)y in S||o(S,y,b[y]);else r(r.P+r.F*(d||C),t,b);return b}},function(e,t,n){var i=n(2).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(32);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(114),r=n(76).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(8);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(25),r=n(3)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(8),r=n(29),o=n(3)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[o])?t:r(n)}},function(e,t,n){var i,r,o,s=n(19),a=n(282),l=n(136),u=n(69),c=n(2),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,v=c.Dispatch,m=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){a("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete g[e]},"process"==n(32)(f)?i=function(e){f.nextTick(s(b,e,1))}:v&&v.now?i=function(e){v.now(s(b,e,1))}:h?(r=new h,o=r.port2,r.port1.onmessage=y,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):i="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(8),r=n(5),o=n(104);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(3)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var i=[],r=0;r<t.length;++r)void 0!==t[r]&&i.push(t[r]);n.obj[n.prop]=i}}return t},s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n},a=function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=s(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],n,r):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,r):t[o]=s,t},o)},l=function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},u=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},c=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],s=r.obj[r.prop],a=Object.keys(s),l=0;l<a.length;++l){var u=a[l],c=s[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:s,prop:u}),n.push(c))}return o(t)},d=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},p=function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:s,assign:l,compact:f,decode:u,encode:c,isBuffer:p,isRegExp:d,merge:a}},function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";var i=n(292);e.exports=i},function(e,t,n){"use strict";var i=n(27);e.exports=new i({include:[n(150)]})},function(e,t,n){"use strict";var i=n(27);e.exports=new i({include:[n(106)],implicit:[n(298),n(299),n(300),n(301)]})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.requestInterceptor,i=t.responseInterceptor,r=e.withCredentials?"include":"same-origin";return function(t){return e({url:t,loadSpec:!0,requestInterceptor:n,responseInterceptor:i,headers:{Accept:"application/json"},credentials:r}).then(function(e){return e.body})}}function o(){p.plugins.refs.clearCache()}function s(e){function t(e){var t=this;w&&(p.plugins.refs.docCache[w]=e),p.plugins.refs.fetchJSON=r(_,{requestInterceptor:b,responseInterceptor:y});var n=[p.plugins.refs];return"function"==typeof g&&n.push(p.plugins.parameters),"function"==typeof m&&n.push(p.plugins.properties),"strict"!==s&&n.push(p.plugins.allOf),(0,h.default)({spec:e,context:{baseDoc:w},plugins:n,allowMetaPatches:u,pathDiscriminator:f,parameterMacro:g,modelPropertyMacro:m}).then(x?function(){var e=(0,c.default)(l.default.mark(function e(n){return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}():v.normalizeSwagger)}var n=e.fetch,i=e.spec,o=e.url,s=e.mode,a=e.allowMetaPatches,u=void 0===a||a,f=e.pathDiscriminator,m=e.modelPropertyMacro,g=e.parameterMacro,b=e.requestInterceptor,y=e.responseInterceptor,x=e.skipNormalization,_=e.http,w=e.baseDoc;return w=w||o,_=n||_||d.default,i?t(i):r(_,{requestInterceptor:b,responseInterceptor:y})(w).then(t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(40),l=i(a),u=n(101),c=i(u);t.makeFetchJSON=r,t.clearCache=o,t.default=s;var f=n(61),d=i(f),p=n(317),h=i(p),v=n(45)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(154),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){e.exports={default:n(321),__esModule:!0}},function(e,t,n){function i(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):l(e)}var r=n(325),o=n(338),s=n(91),a=n(6),l=n(344);e.exports=i},function(e,t,n){function i(e,t,n,s,a){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:r(e,t,n,s,i,a))}var r=n(327),o=n(13);e.exports=i},function(e,t,n){function i(e,t,n,i,u,c){var f=n&a,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var v=-1,m=!0,g=n&l?new r:void 0;for(c.set(e,t),c.set(t,e);++v<d;){var b=e[v],y=t[v];if(i)var x=f?i(y,b,v,t,e,c):i(b,y,v,e,t,c);if(void 0!==x){if(x)continue;m=!1;break}if(g){if(!o(t,function(e,t){if(!s(g,t)&&(b===e||u(b,e,n,i,c)))return g.push(t)})){m=!1;break}}else if(b!==y&&!u(b,y,n,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}var r=n(328),o=n(331),s=n(332),a=1,l=2;e.exports=i},function(e,t,n){function i(e){return e===e&&!r(e)}var r=n(10);e.exports=i},function(e,t){function n(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}e.exports=n},function(e,t,n){function i(e,t){return null!=e&&o(e,t,r)}var r=n(342),o=n(343);e.exports=i},function(e,t,n){function i(e){return null===e||void 0===e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])}function o(e,t,n){var o,c;if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=s.call(e),t=s.call(t),u(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var f=a(e),d=a(t)}catch(e){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),o=f.length-1;o>=0;o--)if(f[o]!=d[o])return!1;for(o=f.length-1;o>=0;o--)if(c=f[o],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var s=Array.prototype.slice,a=n(356),l=n(357),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t,n){function i(e,t){if(""==t)return e;var n={op:"_get",path:t};return r(e,n),n.value}function r(e,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!0),r&&("function"==typeof r?r(n,0,e,n.path):a(n,0)),""===n.path){var s={newDocument:e};if("add"===n.op)return s.newDocument=n.value,s;if("replace"===n.op)return s.newDocument=n.value,s.removed=e,s;if("move"===n.op||"copy"===n.op)return s.newDocument=i(e,n.from),"move"===n.op&&(s.removed=e),s;if("test"===n.op){if(s.test=f(e,n.value),!1===s.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return s.newDocument=e,s}if("remove"===n.op)return s.removed=e,s.newDocument=null,s;if("_get"===n.op)return n.value=e,s;if(r)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",0,n,e);return s}o||(e=d._deepClone(e));var l=n.path||"",u=l.split("/"),c=e,v=1,m=u.length,g=void 0,b=void 0,y=void 0;for(y="function"==typeof r?r:a;;){if(b=u[v],r&&void 0===g&&(void 0===c[b]?g=u.slice(0,v).join("/"):v==m-1&&(g=n.path),void 0!==g&&y(n,0,e,g)),v++,Array.isArray(c)){if("-"===b)b=c.length;else{if(r&&!d.isInteger(b))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",0,n.path,n);d.isInteger(b)&&(b=~~b)}if(v>=m){if(r&&"add"===n.op&&b>c.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",0,n.path,n);var s=h[n.op].call(n,c,b,e);if(!1===s.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return s}}else if(b&&-1!=b.indexOf("~")&&(b=d.unescapePathComponent(b)),v>=m){var s=p[n.op].call(n,c,b,e);if(!1===s.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return s}c=c[b]}}function o(e,n,i,o){if(void 0===o&&(o=!0),i&&!Array.isArray(n))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");o||(e=d._deepClone(e));for(var s=new Array(n.length),a=0,l=n.length;a<l;a++)s[a]=r(e,n[a],i),e=s[a].newDocument;return s.newDocument=e,s}function s(e,n){var i=r(e,n);if(!1===i.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",0,n,e);return i.newDocument}function a(e,n,i,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",n,e,i);if(!p[e.op])throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",n,e,i);if("string"!=typeof e.path)throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",n,e,i);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",n,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",n,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",n,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&d.hasUndefined(e.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",n,e,i);if(i)if("add"==e.op){var o=e.path.split("/").length,s=r.split("/").length;if(o!==s+1&&o!==s)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",n,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",n,e,i)}else if("move"===e.op||"copy"===e.op){var a={op:"_get",path:e.from,value:void 0},u=l([a],i);if(u&&"OPERATION_PATH_UNRESOLVABLE"===u.name)throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",n,e,i)}}function l(e,n,i){try{if(!Array.isArray(e))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(n)o(d._deepClone(n),d._deepClone(e),i||!0);else{i=i||a;for(var r=0;r<e.length;r++)i(e[r],r,n,void 0)}}catch(e){if(e instanceof t.JsonPatchError)return e;throw e}}var u={strict:!0},c=n(161),f=function(e,t){return c(e,t,u)},d=n(109);t.JsonPatchError=d.PatchError,t.deepClone=d._deepClone;var p={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var i=e[t];return delete e[t],{newDocument:n,removed:i}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:function(e,t,n){var o=i(n,this.path);o&&(o=d._deepClone(o));var s=r(n,{op:"remove",path:this.from}).removed;return r(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:o}},copy:function(e,t,n){var o=i(n,this.from);return r(n,{op:"add",path:this.path,value:d._deepClone(o)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:f(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},h={add:function(e,t,n){return d.isInteger(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:p.move,copy:p.copy,test:p.test,_get:p._get};t.getValueByPointer=i,t.applyOperation=r,t.applyPatch=o,t.applyReducer=s,t.validator=a,t.validate=l},function(e,t,n){var i=n(5);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";function i(e,t){function n(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack;for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];this.message=n[0],t&&t.apply(this,n)}return n.prototype=new Error,n.prototype.name=e,n.prototype.constructor=n,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e[e.length-1],n=e[e.length-2],i=e.join("/");return r.indexOf(t)>-1&&-1===o.indexOf(n)||s.indexOf(i)>-1||a.some(function(e){return i.indexOf(e)>-1})}Object.defineProperty(t,"__esModule",{value:!0}),t.isFreelyNamed=i;var r=["properties"],o=["properties"],s=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],a=["schema/example"]},function(e,t,n){e.exports=n(167)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e?n.url=e:n=e,!(this instanceof r))return new r(n);(0,u.default)(this,n);var i=this.resolve().then(function(){return t.disableInterfaces||(0,u.default)(t,r.makeApisTagOperation(t)),t});return i.client=this,i}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),s=i(o),a=n(172),l=(i(a),n(59)),u=i(l),c=n(131),f=i(c),d=n(92),p=i(d),h=n(61),v=i(h),m=n(151),g=i(m),b=n(378),y=i(b),x=n(379),_=n(388),w=n(45);r.http=v.default,r.makeHttp=h.makeHttp.bind(null,r.http),r.resolve=g.default,r.resolveSubtree=y.default,r.execute=_.execute,r.serializeRes=h.serializeRes,r.serializeHeaders=h.serializeHeaders,r.clearCache=m.clearCache,r.parameterBuilders=_.PARAMETER_BUILDERS,r.makeApisTagOperation=x.makeApisTagOperation,r.buildRequest=_.buildRequest,r.helpers={opId:w.opId},r.prototype={http:v.default,execute:function(e){return this.applyDefaults(),r.execute((0,s.default)({spec:this.spec,http:this.http,securities:{authorized:this.authorizations},contextUrl:"string"==typeof this.url?this.url:void 0},e))},resolve:function(){var e=this;return r.resolve({spec:this.spec,url:this.url,allowMetaPatches:this.allowMetaPatches,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null}).then(function(t){return e.originalSpec=e.spec,e.spec=t.spec,e.errors=t.errors,e})}},r.prototype.applyDefaults=function(){var e=this.spec,t=this.url;if(t&&(0,f.default)(t,"http")){var n=p.default.parse(t);e.host||(e.host=n.host),e.schemes||(e.schemes=[n.protocol.replace(":","")]),e.basePath||(e.basePath="/")}},t.default=r,e.exports=t.default},function(e,t,n){n(169),e.exports=n(0).Object.assign},function(e,t,n){var i=n(4);i(i.S+i.F,"Object",{assign:n(113)})},function(e,t,n){var i=n(22),r=n(46),o=n(171);e.exports=function(e){return function(t,n,s){var a,l=i(t),u=r(l.length),c=o(s,u);if(e&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(73),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){function i(e){return r(e,o|s)}var r=n(173),o=1,s=4;e.exports=i},function(e,t,n){function i(e,t,n,k,P,M){var R,N=t&S,F=t&E,j=t&D;if(n&&(R=P?n(e,k,P,M):n(e)),void 0!==R)return R;if(!w(e))return e;var V=y(e);if(V){if(R=m(e),!N)return c(e,R)}else{var H=v(e),B=H==A||H==L;if(x(e))return u(e,N);if(H==I||H==O||B&&!P){if(R=F||B?{}:b(e),!N)return F?d(e,l(R,e)):f(e,a(R,e))}else{if(!T[H])return P?e:{};R=g(e,H,N)}}M||(M=new r);var $=M.get(e);if($)return $;if(M.set(e,R),q(e))return e.forEach(function(r){R.add(i(r,t,n,r,e,M))}),R;if(_(e))return e.forEach(function(r,o){R.set(o,i(r,t,n,o,e,M))}),R;var U=j?F?h:p:F?keysIn:C,z=V?void 0:U(e);return o(z||e,function(r,o){z&&(o=r,r=e[o]),s(R,o,i(r,t,n,o,e,M))}),R}var r=n(78),o=n(202),s=n(54),a=n(203),l=n(210),u=n(213),c=n(214),f=n(215),d=n(217),p=n(126),h=n(218),v=n(58),m=n(223),g=n(224),b=n(229),y=n(6),x=n(83),_=n(231),w=n(10),q=n(233),C=n(24),S=1,E=2,D=4,O="[object Arguments]",A="[object Function]",L="[object GeneratorFunction]",I="[object Object]",T={};T[O]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[I]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[A]=T["[object WeakMap]"]=!1,e.exports=i},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():s.call(t,n,1),--this.size,!0)}var r=n(50),o=Array.prototype,s=o.splice;e.exports=i},function(e,t,n){function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(50);e.exports=i},function(e,t,n){function i(e){return r(this.__data__,e)>-1}var r=n(50);e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}var r=n(50);e.exports=i},function(e,t,n){function i(){this.__data__=new r,this.size=0}var r=n(49);e.exports=i},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function i(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<a-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(i)}return n.set(e,t),this.size=n.size,this}var r=n(49),o=n(79),s=n(81),a=200;e.exports=i},function(e,t,n){function i(e){return!(!s(e)||o(e))&&(r(e)?h:u).test(a(e))}var r=n(115),o=n(187),s=n(10),a=n(117),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,d=c.toString,p=f.hasOwnProperty,h=RegExp("^"+d.call(p).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t,n){function i(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[l]=n:delete e[l]),r}var r=n(23),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,l=r?r.toStringTag:void 0;e.exports=i},function(e,t){function n(e){return r.call(e)}var i=Object.prototype,r=i.toString;e.exports=n},function(e,t,n){function i(e){return!!o&&o in e}var r=n(188),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=i},function(e,t,n){var i=n(9),r=i["__core-js_shared__"];e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function i(){this.size=0,this.__data__={hash:new r,map:new(s||o),string:new r}}var r=n(191),o=n(49),s=n(79);e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(192),o=n(193),s=n(194),a=n(195),l=n(196);i.prototype.clear=r,i.prototype.delete=o,i.prototype.get=s,i.prototype.has=a,i.prototype.set=l,e.exports=i},function(e,t,n){function i(){this.__data__=r?r(null):{},this.size=0}var r=n(52);e.exports=i},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function i(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}var r=n(52),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=n(52),o=Object.prototype,s=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}var r=n(52),o="__lodash_hash_undefined__";e.exports=i},function(e,t,n){function i(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(53);e.exports=i},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function i(e){return r(this,e).get(e)}var r=n(53);e.exports=i},function(e,t,n){function i(e){return r(this,e).has(e)}var r=n(53);e.exports=i},function(e,t,n){function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}var r=n(53);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){function i(e,t){return e&&r(t,o(t),e)}var r=n(35),o=n(24);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}e.exports=n},function(e,t,n){function i(e){return o(e)&&r(e)==s}var r=n(21),o=n(13),s="[object Arguments]";e.exports=i},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function i(e){return s(e)&&o(e.length)&&!!a[r(e)]}var r=n(21),o=n(84),s=n(13),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=i},function(e,t,n){function i(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(57),o=n(209),s=Object.prototype,a=s.hasOwnProperty;e.exports=i},function(e,t,n){var i=n(122),r=i(Object.keys,Object);e.exports=r},function(e,t,n){function i(e,t){return e&&r(t,o(t),e)}var r=n(35),o=n(123);e.exports=i},function(e,t,n){function i(e){if(!r(e))return s(e);var t=o(e),n=[];for(var i in e)("constructor"!=i||!t&&l.call(e,i))&&n.push(i);return n}var r=n(10),o=n(57),s=n(212),a=Object.prototype,l=a.hasOwnProperty;e.exports=i},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){(function(e){function i(e,t){if(t)return e.slice();var n=e.length,i=u?u(n):new e.constructor(n);return e.copy(i),i}var r=n(9),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o,l=a?r.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=i}).call(t,n(55)(e))},function(e,t){function n(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function i(e,t){return r(e,o(e),t)}var r=n(35),o=n(87);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}e.exports=n},function(e,t,n){function i(e,t){return r(e,o(e),t)}var r=n(35),o=n(125);e.exports=i},function(e,t,n){function i(e){return r(e,s,o)}var r=n(127),o=n(125),s=n(123);e.exports=i},function(e,t,n){var i=n(20),r=n(9),o=i(r,"DataView");e.exports=o},function(e,t,n){var i=n(20),r=n(9),o=i(r,"Promise");e.exports=o},function(e,t,n){var i=n(20),r=n(9),o=i(r,"Set");e.exports=o},function(e,t,n){var i=n(20),r=n(9),o=i(r,"WeakMap");e.exports=o},function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var i=Object.prototype,r=i.hasOwnProperty;e.exports=n},function(e,t,n){function i(e,t,n){var i=e.constructor;switch(t){case g:return r(e);case u:case c:return new i(+e);case b:return o(e,n);case y:case x:case _:case w:case q:case C:case S:case E:case D:return l(e,n);case f:return new i;case d:case v:return new i(e);case p:return s(e);case h:return new i;case m:return a(e)}}var r=n(90),o=n(225),s=n(226),a=n(227),l=n(228),u="[object Boolean]",c="[object Date]",f="[object Map]",d="[object Number]",p="[object RegExp]",h="[object Set]",v="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",q="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]";e.exports=i},function(e,t,n){function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var r=n(90);e.exports=i},function(e,t){function n(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}var i=/\w*$/;e.exports=n},function(e,t,n){function i(e){return s?Object(s.call(e)):{}}var r=n(23),o=r?r.prototype:void 0,s=o?o.valueOf:void 0;e.exports=i},function(e,t,n){function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var r=n(90);e.exports=i},function(e,t,n){function i(e){return"function"!=typeof e.constructor||s(e)?{}:r(o(e))}var r=n(230),o=n(89),s=n(57);e.exports=i},function(e,t,n){var i=n(10),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t,n){var i=n(232),r=n(85),o=n(86),s=o&&o.isMap,a=s?r(s):i;e.exports=a},function(e,t,n){function i(e){return o(e)&&r(e)==s}var r=n(58),o=n(13),s="[object Map]";e.exports=i},function(e,t,n){var i=n(234),r=n(85),o=n(86),s=o&&o.isSet,a=s?r(s):i;e.exports=a},function(e,t,n){function i(e){return o(e)&&r(e)==s}var r=n(58),o=n(13),s="[object Set]";e.exports=i},function(e,t,n){function i(e){return r(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var l=n[i];l&&e(t,l,i,s)}return t})}var r=n(236),o=n(241);e.exports=i},function(e,t,n){function i(e,t){return s(o(e,t,r),e+"")}var r=n(91),o=n(129),s=n(130);e.exports=i},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var i=n(239),r=n(119),o=n(91),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=s},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var s=o(),a=r-(s-n);if(n=s,a>0){if(++t>=i)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var i=800,r=16,o=Date.now;e.exports=n},function(e,t,n){function i(e,t,n){if(!a(n))return!1;var i=typeof t;return!!("number"==i?o(n)&&s(t,n.length):"string"==i&&t in n)&&r(n[t],e)}var r=n(51),o=n(36),s=n(56),a=n(10);e.exports=i},function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}e.exports=n},function(e,t,n){function i(e){if(!e)return 0===e?e:0;if((e=r(e))===o||e===-o)return(e<0?-1:1)*s;return e===e?e:0}var r=n(245),o=1/0,s=1.7976931348623157e308;e.exports=i},function(e,t,n){function i(e){if("number"==typeof e)return e;if(o(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):l.test(e)?s:+e}var r=n(10),o=n(60),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;e.exports=i},function(e,t,n){(function(e,i){var r;!function(o){function s(e){throw RangeError(T[e])}function a(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function l(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(I,"."),i+a(e.split("."),t).join(".")}function u(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<o?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=M(e>>>10&1023|55296),e=56320|1023&e),t+M(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var i=0;for(e=n?P(e/S):e>>1,e+=P(e/t);e>k*q>>1;i+=_)e=P(e/k);return P(i+(k+1)*e/(e+C))}function h(e){var t,n,i,r,o,a,l,u,d,h,v=[],m=e.length,g=0,b=D,y=E;for(n=e.lastIndexOf(O),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&s("not-basic"),v.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(o=g,a=1,l=_;r>=m&&s("invalid-input"),u=f(e.charCodeAt(r++)),(u>=_||u>P((x-g)/a))&&s("overflow"),g+=u*a,d=l<=y?w:l>=y+q?q:l-y,!(u<d);l+=_)h=_-d,a>P(x/h)&&s("overflow"),a*=h;t=v.length+1,y=p(g-o,t,0==o),P(g/t)>x-b&&s("overflow"),b+=P(g/t),g%=t,v.splice(g++,0,b)}return c(v)}function v(e){var t,n,i,r,o,a,l,c,f,h,v,m,g,b,y,C=[];for(e=u(e),m=e.length,t=D,n=0,o=E,a=0;a<m;++a)(v=e[a])<128&&C.push(M(v));for(i=r=C.length,r&&C.push(O);i<m;){for(l=x,a=0;a<m;++a)(v=e[a])>=t&&v<l&&(l=v);for(g=i+1,l-t>P((x-n)/g)&&s("overflow"),n+=(l-t)*g,t=l,a=0;a<m;++a)if(v=e[a],v<t&&++n>x&&s("overflow"),v==t){for(c=n,f=_;h=f<=o?w:f>=o+q?q:f-o,!(c<h);f+=_)y=c-h,b=_-h,C.push(M(d(h+y%b,0))),c=P(y/b);C.push(M(d(c,0))),o=p(n,g,i==r),n=0,++i}++n,++t}return C.join("")}function m(e){return l(e,function(e){return A.test(e)?h(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return L.test(e)?"xn--"+v(e):e})}var b=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof i&&i);var y,x=2147483647,_=36,w=1,q=26,C=38,S=700,E=72,D=128,O="-",A=/^xn--/,L=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=_-w,P=Math.floor,M=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:u,encode:c},decode:h,encode:v,toASCII:g,toUnicode:m},void 0!==(r=function(){return y}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(55)(e),n(80))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(249),t.encode=t.stringify=n(250)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f,d,p,h,v=e[c].replace(a,"%20"),m=v.indexOf(n);m>=0?(f=v.substr(0,m),d=v.substr(m+1)):(f=v,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),i(s,p)?r(s[p])?s[p].push(h):s[p]=[s[p],h]:s[p]=h}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(s(e),function(s){var a=encodeURIComponent(r(s))+n;return o(e[s])?i(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[s]))}).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(252),o=i(r),s=n(96),a=i(s);t.default=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,l=(0,a.default)(e);!(i=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,o.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={default:n(253),__esModule:!0}},function(e,t,n){n(37),n(39),e.exports=n(261)},function(e,t,n){"use strict";var i=n(255),r=n(256),o=n(25),s=n(22);e.exports=n(135)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i=n(94),r=n(30),o=n(38),s={};n(15)(s,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(7),r=n(8),o=n(31);e.exports=n(12)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},function(e,t,n){var i=n(17),r=n(34),o=n(74)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){var i=n(73),r=n(72);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),u=a.length;return l<0||l>=u?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}}},function(e,t,n){var i=n(95),r=n(3)("iterator"),o=n(25);e.exports=n(0).isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||o.hasOwnProperty(i(t))}},function(e,t,n){n(37),n(39),e.exports=n(263)},function(e,t,n){var i=n(8),r=n(97);e.exports=n(0).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){n(265),e.exports=n(0).Object.keys},function(e,t,n){var i=n(34),r=n(31);n(266)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(4),r=n(0),o=n(16);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(0),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){var i=function(){return this}()||Function("return this")(),r=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,o=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(269),r)i.regeneratorRuntime=o;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,i){var o=t&&t.prototype instanceof r?t:r,s=Object.create(o.prototype),a=new p(i||[]);return s._invoke=u(e,n,a),s}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,r,o,s){var a=i(e[n],e,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&b.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)}):Promise.resolve(u).then(function(e){l.value=e,o(l)},s)}s(a.arg)}function n(e,n){function i(){return new Promise(function(i,r){t(e,n,i,r)})}return r=r?r.then(i,i):i()}var r;this._invoke=n}function u(e,t,n){var r=S;return function(o,s){if(r===D)throw new Error("Generator is already running");if(r===O){if("throw"===o)throw s;return v()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=c(a,n);if(l){if(l===A)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=D;var u=i(e,t,n);if("normal"===u.type){if(r=n.done?O:E,u.arg===A)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=O,n.method="throw",n.arg=u.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,c(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,A;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,A):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[x];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return i.next=i}}return{next:v}}function v(){return{value:m,done:!0}}var m,g=Object.prototype,b=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},x=y.iterator||"@@iterator",_=y.asyncIterator||"@@asyncIterator",w=y.toStringTag||"@@toStringTag",q="object"==typeof e,C=t.regeneratorRuntime;if(C)return void(q&&(e.exports=C));C=t.regeneratorRuntime=q?e.exports:{},C.wrap=n;var S="suspendedStart",E="suspendedYield",D="executing",O="completed",A={},L={};L[x]=function(){return this};var I=Object.getPrototypeOf,T=I&&I(I(h([])));T&&T!==g&&b.call(T,x)&&(L=T);var k=s.prototype=r.prototype=Object.create(L);o.prototype=k.constructor=s,s.constructor=o,s[w]=o.displayName="GeneratorFunction",C.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},C.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(k),e},C.awrap=function(e){return{__await:e}},a(l.prototype),l.prototype[_]=function(){return this},C.AsyncIterator=l,C.async=function(e,t,i,r){var o=new l(n(e,t,i,r));return C.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},a(k),k[w]="Generator",k[x]=function(){return this},k.toString=function(){return"[object Generator]"},C.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},C.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,i&&(n.method="next",n.arg=m),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=b.call(r,"catchLoc"),a=b.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&b.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,A):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),A}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports={default:n(271),__esModule:!0}},function(e,t,n){n(39),n(37),e.exports=n(98).f("iterator")},function(e,t,n){e.exports={default:n(273),__esModule:!0}},function(e,t,n){n(274),n(100),n(278),n(279),e.exports=n(0).Symbol},function(e,t,n){"use strict";var i=n(2),r=n(17),o=n(12),s=n(4),a=n(93),l=n(63).KEY,u=n(16),c=n(75),f=n(38),d=n(47),p=n(3),h=n(98),v=n(99),m=n(275),g=n(137),b=n(8),y=n(5),x=n(22),_=n(70),w=n(30),q=n(94),C=n(276),S=n(277),E=n(7),D=n(31),O=S.f,A=E.f,L=C.f,I=i.Symbol,T=i.JSON,k=T&&T.stringify,P=p("_hidden"),M=p("toPrimitive"),R={}.propertyIsEnumerable,N=c("symbol-registry"),F=c("symbols"),j=c("op-symbols"),V=Object.prototype,H="function"==typeof I,B=i.QObject,$=!B||!B.prototype||!B.prototype.findChild,U=o&&u(function(){return 7!=q(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=O(V,t);i&&delete V[t],A(e,t,n),i&&e!==V&&A(V,t,i)}:A,z=function(e){var t=F[e]=q(I.prototype);return t._k=e,t},G=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},W=function(e,t,n){return e===V&&W(j,t,n),b(e),t=_(t,!0),b(n),r(F,t)?(n.enumerable?(r(e,P)&&e[P][t]&&(e[P][t]=!1),n=q(n,{enumerable:w(0,!1)})):(r(e,P)||A(e,P,w(1,{})),e[P][t]=!0),U(e,t,n)):A(e,t,n)},Y=function(e,t){b(e);for(var n,i=m(t=x(t)),r=0,o=i.length;o>r;)W(e,n=i[r++],t[n]);return e},X=function(e,t){return void 0===t?q(e):Y(q(e),t)},K=function(e){var t=R.call(this,e=_(e,!0));return!(this===V&&r(F,e)&&!r(j,e))&&(!(t||!r(this,e)||!r(F,e)||r(this,P)&&this[P][e])||t)},Q=function(e,t){if(e=x(e),t=_(t,!0),e!==V||!r(F,t)||r(j,t)){var n=O(e,t);return!n||!r(F,t)||r(e,P)&&e[P][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=L(x(e)),i=[],o=0;n.length>o;)r(F,t=n[o++])||t==P||t==l||i.push(t);return i},J=function(e){for(var t,n=e===V,i=L(n?j:x(e)),o=[],s=0;i.length>s;)!r(F,t=i[s++])||n&&!r(V,t)||o.push(F[t]);return o};H||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(j,n),r(this,P)&&r(this[P],e)&&(this[P][e]=!1),U(this,e,w(1,n))};return o&&$&&U(V,e,{configurable:!0,set:t}),z(e)},a(I.prototype,"toString",function(){return this._k}),S.f=Q,E.f=W,n(138).f=C.f=Z,n(48).f=K,n(77).f=J,o&&!n(33)&&a(V,"propertyIsEnumerable",K,!0),h.f=function(e){return z(p(e))}),s(s.G+s.W+s.F*!H,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=D(p.store),ie=0;ne.length>ie;)v(ne[ie++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return r(N,e+="")?N[e]:N[e]=I(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),s(s.S+s.F*!H,"Object",{create:X,defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),T&&s(s.S+s.F*(!H||u(function(){var e=I();return"[null]"!=k([e])||"{}"!=k({a:e})||"{}"!=k(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(y(t)||void 0!==e)&&!G(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),i[1]=t,k.apply(T,i)}}),I.prototype[M]||n(15)(I.prototype,M,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(e,t,n){var i=n(31),r=n(77),o=n(48);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),l=o.f,u=0;a.length>u;)l.call(e,s=a[u++])&&t.push(s);return t}},function(e,t,n){var i=n(22),r=n(138).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(i(e))}},function(e,t,n){var i=n(48),r=n(30),o=n(22),s=n(70),a=n(17),l=n(112),u=Object.getOwnPropertyDescriptor;t.f=n(12)?u:function(e,t){if(e=o(e),t=s(t,!0),l)try{return u(e,t)}catch(e){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){n(99)("asyncIterator")},function(e,t,n){n(99)("observable")},function(e,t,n){n(100),n(39),n(37),n(281),n(286),n(287),e.exports=n(0).Promise},function(e,t,n){"use strict";var i,r,o,s,a=n(33),l=n(2),u=n(19),c=n(95),f=n(4),d=n(5),p=n(29),h=n(103),v=n(64),m=n(141),g=n(142).set,b=n(283)(),y=n(104),x=n(143),_=n(284),w=n(144),q=l.TypeError,C=l.process,S=C&&C.versions,E=S&&S.v8||"",D=l.Promise,O="process"==c(C),A=function(){},L=r=y.f,I=!!function(){try{var e=D.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(A,A)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==E.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),T=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(t){var n,o,s,a=r?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{a?(r||(2==e._h&&R(e),e._h=1),!0===a?n=i:(c&&c.enter(),n=a(i),c&&(c.exit(),s=!0)),n===t.promise?u(q("Promise-chain cycle")):(o=T(n))?o.call(n,l,u):l(n)):u(i)}catch(e){c&&!s&&c.exit(),u(e)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){g.call(l,function(){var t,n,i,r=e._v,o=M(e);if(o&&(t=x(function(){O?C.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=O||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(e){g.call(l,function(){var t;O?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw q("Promise can't be resolved itself");(t=T(e))?b(function(){var i={_w:n,_d:!1};try{t.call(e,u(F,i,1),u(N,i,1))}catch(e){N.call(i,e)}}):(n._v=e,n._s=1,k(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};I||(D=function(e){h(this,D,"Promise","_h"),p(e),i.call(this);try{e(u(F,this,1),u(N,this,1))}catch(e){N.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(105)(D.prototype,{then:function(e,t){var n=L(m(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=u(F,e,1),this.reject=u(N,e,1)},y.f=L=function(e){return e===D||e===s?new o(e):r(e)}),f(f.G+f.W+f.F*!I,{Promise:D}),n(38)(D,"Promise"),n(285)("Promise"),s=n(0).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!I),"Promise",{resolve:function(e){return w(a&&this===s?D:this,e)}}),f(f.S+f.F*!(I&&n(145)(function(e){D.all(e).catch(A)})),"Promise",{all:function(e){var t=this,n=L(t),i=n.resolve,r=n.reject,o=x(function(){var n=[],o=0,s=1;v(e,!1,function(e){var a=o++,l=!1;n.push(void 0),s++,t.resolve(e).then(function(e){l||(l=!0,n[a]=e,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=L(t),i=n.reject,r=x(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(2),r=n(142).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(32)(s);e.exports=function(){var e,t,n,u=function(){var i,r;for(l&&(i=s.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var f=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){var i=n(2),r=i.navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var i=n(2),r=n(0),o=n(7),s=n(12),a=n(3)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:i[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var i=n(4),r=n(0),o=n(2),s=n(141),a=n(144);i(i.P+i.R,"Promise",{finally:function(e){var t=s(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(4),r=n(104),o=n(143);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&y(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function v(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];this.map[e]=r?r+","+i:i},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=n(i)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];m.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,i){var r=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";var i=n(290),r=n(291),o=n(147);e.exports={formats:o,parse:r,stringify:i}},function(e,t,n){"use strict";var i=n(146),r=n(147),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,n,r,o,s,l,u,c,f,d,p,h){var v=t;if("function"==typeof u)v=u(n,v);else if(v instanceof Date)v=d(v);else if(null===v){if(o)return l&&!h?l(n,a.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||i.isBuffer(v)){if(l)return[p(h?n:l(n,a.encoder))+"="+p(l(v,a.encoder))];return[p(n)+"="+p(String(v))]}var m=[];if(void 0===v)return m;var g;if(Array.isArray(u))g=u;else{var b=Object.keys(v);g=c?b.sort(c):b}for(var y=0;y<g.length;++y){var x=g[y];s&&null===v[x]||(m=Array.isArray(v)?m.concat(e(v[x],r(n,x),r,o,s,l,u,c,f,d,p,h)):m.concat(e(v[x],n+(f?"."+x:"["+x+"]"),r,o,s,l,u,c,f,d,p,h)))}return m};e.exports=function(e,t){var n=e,s=t?i.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===s.delimiter?a.delimiter:s.delimiter,c="boolean"==typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,f="boolean"==typeof s.skipNulls?s.skipNulls:a.skipNulls,d="boolean"==typeof s.encode?s.encode:a.encode,p="function"==typeof s.encoder?s.encoder:a.encoder,h="function"==typeof s.sort?s.sort:null,v=void 0!==s.allowDots&&s.allowDots,m="function"==typeof s.serializeDate?s.serializeDate:a.serializeDate,g="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if(void 0===s.format)s.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,s.format))throw new TypeError("Unknown format option provided.");var b,y,x=r.formatters[s.format];"function"==typeof s.filter?(y=s.filter,n=y("",n)):Array.isArray(s.filter)&&(y=s.filter,b=y);var _=[];if("object"!=typeof n||null===n)return"";var w;w=s.arrayFormat in o?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var q=o[w];b||(b=Object.keys(n)),h&&b.sort(h);for(var C=0;C<b.length;++C){var S=b[C];f&&null===n[S]||(_=_.concat(l(n[S],S,q,c,f,d?p:null,y,h,v,m,x,g)))}var E=_.join(u),D=!0===s.addQueryPrefix?"?":"";return E.length>0?D+E:""}},function(e,t,n){"use strict";var i=n(146),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t){for(var n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,s),l=0;l<a.length;++l){var u,c,f=a[l],d=f.indexOf("]="),p=-1===d?f.indexOf("="):d+1;-1===p?(u=t.decoder(f,o.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,p),o.decoder),c=t.decoder(f.slice(p+1),o.decoder)),r.call(n,u)?n[u]=[].concat(n[u]).concat(c):n[u]=c}return n},a=function(e,t,n){for(var i=t,r=e.length-1;r>=0;--r){var o,s=e[r];if("[]"===s)o=[],o=o.concat(i);else{o=n.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(a,10);!isNaN(l)&&s!==a&&String(l)===a&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(o=[],o[l]=i):o[a]=i}i=o}return i},l=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=o.exec(i),u=l?i.slice(0,l.index):i,c=[];if(u){if(!n.plainObjects&&r.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var f=0;null!==(l=s.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&r.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+i.slice(l.index)+"]"),a(c,t,n)}};e.exports=function(e,t){var n=t?i.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?s(e,n):e,a=n.plainObjects?Object.create(null):{},u=Object.keys(r),c=0;c<u.length;++c){var f=u[c],d=l(f,r[f],n);a=i.merge(a,d,n)}return i.compact(a)}},function(e,t,n){"use strict";function i(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var r=n(293),o=n(314);e.exports.Type=n(1),e.exports.Schema=n(27),e.exports.FAILSAFE_SCHEMA=n(106),e.exports.JSON_SCHEMA=n(150),e.exports.CORE_SCHEMA=n(149),e.exports.DEFAULT_SAFE_SCHEMA=n(42),e.exports.DEFAULT_FULL_SCHEMA=n(65),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.safeLoad=r.safeLoad,e.exports.safeLoadAll=r.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=n(41),e.exports.MINIMAL_SCHEMA=n(106),e.exports.SAFE_SCHEMA=n(42),e.exports.DEFAULT_SCHEMA=n(65),e.exports.scan=i("scan"),e.exports.parse=i("parse"),e.exports.compose=i("compose"),e.exports.addConstructor=i("addConstructor")},function(e,t,n){"use strict";function i(e){return 10===e||13===e}function r(e){return 9===e||32===e}function o(e){return 9===e||32===e||10===e||13===e}function s(e){return 44===e||91===e||93===e||123===e||125===e}function a(e){var t;return 48<=e&&e<=57?e-48:(t=32|e,97<=t&&t<=102?t-97+10:-1)}function l(e){return 120===e?2:117===e?4:85===e?8:0}function u(e){return 48<=e&&e<=57?e-48:-1}function c(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e?"\t":9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function f(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}function d(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||U,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function p(e,t){return new H(t,new B(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function h(e,t){throw p(e,t)}function v(e,t){e.onWarning&&e.onWarning.call(null,p(e,t))}function m(e,t,n,i){var r,o,s,a;if(t<n){if(a=e.input.slice(t,n),i)for(r=0,o=a.length;r<o;r+=1)9===(s=a.charCodeAt(r))||32<=s&&s<=1114111||h(e,"expected valid JSON character");else J.test(a)&&h(e,"the stream contains non-printable characters");e.result+=a}}function g(e,t,n,i){var r,o,s,a;for(V.isObject(n)||h(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),s=0,a=r.length;s<a;s+=1)o=r[s],z.call(t,o)||(t[o]=n[o],i[o]=!0)}function b(e,t,n,i,r,o,s,a){var l,u;if(r=String(r),null===t&&(t={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)g(e,t,o[l],n);else g(e,t,o,n);else e.json||z.call(n,r)||!z.call(t,r)||(e.line=s||e.line,e.position=a||e.position,h(e,"duplicated mapping key")),t[r]=o,delete n[r];return t}function y(e){var t;t=e.input.charCodeAt(e.position),10===t?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):h(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function x(e,t,n){for(var o=0,s=e.input.charCodeAt(e.position);0!==s;){for(;r(s);)s=e.input.charCodeAt(++e.position);if(t&&35===s)do{s=e.input.charCodeAt(++e.position)}while(10!==s&&13!==s&&0!==s);if(!i(s))break;for(y(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position)}return-1!==n&&0!==o&&e.lineIndent<n&&v(e,"deficient indentation"),o}function _(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!o(t)))}function w(e,t){1===t?e.result+=" ":t>1&&(e.result+=V.repeat("\n",t-1))}function q(e,t,n){var a,l,u,c,f,d,p,h,v,g=e.kind,b=e.result;if(v=e.input.charCodeAt(e.position),o(v)||s(v)||35===v||38===v||42===v||33===v||124===v||62===v||39===v||34===v||37===v||64===v||96===v)return!1;if((63===v||45===v)&&(l=e.input.charCodeAt(e.position+1),o(l)||n&&s(l)))return!1;for(e.kind="scalar",e.result="",u=c=e.position,f=!1;0!==v;){if(58===v){if(l=e.input.charCodeAt(e.position+1),o(l)||n&&s(l))break}else if(35===v){if(a=e.input.charCodeAt(e.position-1),o(a))break}else{if(e.position===e.lineStart&&_(e)||n&&s(v))break;if(i(v)){if(d=e.line,p=e.lineStart,h=e.lineIndent,x(e,!1,-1),e.lineIndent>=t){f=!0,v=e.input.charCodeAt(e.position);continue}e.position=c,e.line=d,e.lineStart=p,e.lineIndent=h;break}}f&&(m(e,u,c,!1),w(e,e.line-d),u=c=e.position,f=!1),r(v)||(c=e.position+1),v=e.input.charCodeAt(++e.position)}return m(e,u,c,!1),!!e.result||(e.kind=g,e.result=b,!1)}function C(e,t){var n,r,o;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=o=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(m(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,o=e.position}else i(n)?(m(e,r,o,!0),w(e,x(e,!1,t)),r=o=e.position):e.position===e.lineStart&&_(e)?h(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);h(e,"unexpected end of the stream within a single quoted scalar")}function S(e,t){var n,r,o,s,u,c;if(34!==(c=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(c=e.input.charCodeAt(e.position));){if(34===c)return m(e,n,e.position,!0),e.position++,!0;if(92===c){if(m(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),i(c))x(e,!1,t);else if(c<256&&re[c])e.result+=oe[c],e.position++;else if((u=l(c))>0){for(o=u,s=0;o>0;o--)c=e.input.charCodeAt(++e.position),(u=a(c))>=0?s=(s<<4)+u:h(e,"expected hexadecimal character");e.result+=f(s),e.position++}else h(e,"unknown escape sequence");n=r=e.position}else i(c)?(m(e,n,r,!0),w(e,x(e,!1,t)),n=r=e.position):e.position===e.lineStart&&_(e)?h(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}h(e,"unexpected end of the stream within a double quoted scalar")}function E(e,t){var n,i,r,s,a,l,u,c,f,d,p,v=!0,m=e.tag,g=e.anchor,y={};if(91===(p=e.input.charCodeAt(e.position)))s=93,u=!1,i=[];else{if(123!==p)return!1;s=125,u=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),p=e.input.charCodeAt(++e.position);0!==p;){if(x(e,!0,t),(p=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=m,e.anchor=g,e.kind=u?"mapping":"sequence",e.result=i,!0;v||h(e,"missed comma between flow collection entries"),f=c=d=null,a=l=!1,63===p&&(r=e.input.charCodeAt(e.position+1),o(r)&&(a=l=!0,e.position++,x(e,!0,t))),n=e.line,k(e,t,G,!1,!0),f=e.tag,c=e.result,x(e,!0,t),p=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==p||(a=!0,p=e.input.charCodeAt(++e.position),x(e,!0,t),k(e,t,G,!1,!0),d=e.result),u?b(e,i,y,f,c,d):a?i.push(b(e,null,y,f,c,d)):i.push(c),x(e,!0,t),p=e.input.charCodeAt(e.position),44===p?(v=!0,p=e.input.charCodeAt(++e.position)):v=!1}h(e,"unexpected end of the stream within a flow collection")}function D(e,t){var n,o,s,a,l=K,c=!1,f=!1,d=t,p=0,v=!1;if(124===(a=e.input.charCodeAt(e.position)))o=!1;else{if(62!==a)return!1;o=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)K===l?l=43===a?Z:Q:h(e,"repeat of a chomping mode identifier");else{if(!((s=u(a))>=0))break;0===s?h(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):f?h(e,"repeat of an indentation width identifier"):(d=t+s-1,f=!0)}if(r(a)){do{a=e.input.charCodeAt(++e.position)}while(r(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!i(a)&&0!==a)}for(;0!==a;){for(y(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!f||e.lineIndent<d)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!f&&e.lineIndent>d&&(d=e.lineIndent),i(a))p++;else{if(e.lineIndent<d){l===Z?e.result+=V.repeat("\n",c?1+p:p):l===K&&c&&(e.result+="\n");break}for(o?r(a)?(v=!0,e.result+=V.repeat("\n",c?1+p:p)):v?(v=!1,e.result+=V.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=V.repeat("\n",p):e.result+=V.repeat("\n",c?1+p:p),c=!0,f=!0,p=0,n=e.position;!i(a)&&0!==a;)a=e.input.charCodeAt(++e.position);m(e,n,e.position,!1)}}return!0}function O(e,t){var n,i,r,s=e.tag,a=e.anchor,l=[],u=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=l),r=e.input.charCodeAt(e.position);0!==r&&45===r&&(i=e.input.charCodeAt(e.position+1),o(i));)if(u=!0,e.position++,x(e,!0,-1)&&e.lineIndent<=t)l.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,k(e,t,Y,!1,!0),l.push(e.result),x(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)h(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!u&&(e.tag=s,e.anchor=a,e.kind="sequence",e.result=l,!0)}function A(e,t,n){var i,s,a,l,u,c=e.tag,f=e.anchor,d={},p={},v=null,m=null,g=null,y=!1,_=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),u=e.input.charCodeAt(e.position);0!==u;){if(i=e.input.charCodeAt(e.position+1),a=e.line,l=e.position,63!==u&&58!==u||!o(i)){if(!k(e,n,W,!1,!0))break;if(e.line===a){for(u=e.input.charCodeAt(e.position);r(u);)u=e.input.charCodeAt(++e.position);if(58===u)u=e.input.charCodeAt(++e.position),o(u)||h(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(b(e,d,p,v,m,null),v=m=g=null),_=!0,y=!1,s=!1,v=e.tag,m=e.result;else{if(!_)return e.tag=c,e.anchor=f,!0;h(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!_)return e.tag=c,e.anchor=f,!0;h(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(y&&(b(e,d,p,v,m,null),v=m=g=null),_=!0,y=!0,s=!0):y?(y=!1,s=!0):h(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=i;if((e.line===a||e.lineIndent>t)&&(k(e,t,X,!0,s)&&(y?m=e.result:g=e.result),y||(b(e,d,p,v,m,g,a,l),v=m=g=null),x(e,!0,-1),u=e.input.charCodeAt(e.position)),e.lineIndent>t&&0!==u)h(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&b(e,d,p,v,m,null),_&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=d),_}function L(e){var t,n,i,r,s=!1,a=!1;if(33!==(r=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&h(e,"duplication of a tag property"),r=e.input.charCodeAt(++e.position),60===r?(s=!0,r=e.input.charCodeAt(++e.position)):33===r?(a=!0,n="!!",r=e.input.charCodeAt(++e.position)):n="!",t=e.position,s){do{r=e.input.charCodeAt(++e.position)}while(0!==r&&62!==r);e.position<e.length?(i=e.input.slice(t,e.position),r=e.input.charCodeAt(++e.position)):h(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==r&&!o(r);)33===r&&(a?h(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),ne.test(n)||h(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),r=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),te.test(i)&&h(e,"tag suffix cannot contain flow indicator characters")}return i&&!ie.test(i)&&h(e,"tag name cannot contain such characters: "+i),s?e.tag=i:z.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:h(e,'undeclared tag handle "'+n+'"'),!0}function I(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&h(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!o(n)&&!s(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function T(e){var t,n,i;if(42!==(i=e.input.charCodeAt(e.position)))return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!o(i)&&!s(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&h(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),e.anchorMap.hasOwnProperty(n)||h(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],x(e,!0,-1),!0}function k(e,t,n,i,r){var o,s,a,l,u,c,f,d,p=1,v=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=X===n||Y===n,i&&x(e,!0,-1)&&(v=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;L(e)||I(e);)x(e,!0,-1)?(v=!0,a=o,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):a=!1;if(a&&(a=v||r),1!==p&&X!==n||(f=G===n||W===n?t:t+1,d=e.position-e.lineStart,1===p?a&&(O(e,d)||A(e,d,f))||E(e,f)?m=!0:(s&&D(e,f)||C(e,f)||S(e,f)?m=!0:T(e)?(m=!0,null===e.tag&&null===e.anchor||h(e,"alias node should not have any properties")):q(e,f,G===n)&&(m=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(m=a&&O(e,d))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(l=0,u=e.implicitTypes.length;l<u;l+=1)if(c=e.implicitTypes[l],c.resolve(e.result)){e.result=c.construct(e.result),e.tag=c.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else z.call(e.typeMap[e.kind||"fallback"],e.tag)?(c=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&c.kind!==e.kind&&h(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+c.kind+'", not "'+e.kind+'"'),c.resolve(e.result)?(e.result=c.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):h(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):h(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function P(e){var t,n,s,a,l=e.position,u=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(a=e.input.charCodeAt(e.position))&&(x(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==a));){for(u=!0,a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!o(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(t,e.position),s=[],n.length<1&&h(e,"directive name must not be less than one character in length");0!==a;){for(;r(a);)a=e.input.charCodeAt(++e.position);if(35===a){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&!i(a));break}if(i(a))break;for(t=e.position;0!==a&&!o(a);)a=e.input.charCodeAt(++e.position);s.push(e.input.slice(t,e.position))}0!==a&&y(e),z.call(ae,n)?ae[n](e,n,s):v(e,'unknown document directive "'+n+'"')}if(x(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,x(e,!0,-1)):u&&h(e,"directives end mark is expected"),k(e,e.lineIndent-1,X,!1,!0),x(e,!0,-1),e.checkLineBreaks&&ee.test(e.input.slice(l,e.position))&&v(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&_(e))return void(46===e.input.charCodeAt(e.position)&&(e.position+=3,x(e,!0,-1)));e.position<e.length-1&&h(e,"end of the stream or a document separator is expected")}function M(e,t){e=String(e),t=t||{},0!==e.length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new d(e,t);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)P(n);return n.documents}function R(e,t,n){var i,r,o=M(e,n);if("function"!=typeof t)return o;for(i=0,r=o.length;i<r;i+=1)t(o[i])}function N(e,t){var n=M(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new H("expected a single document in the stream, but found more")}}function F(e,t,n){if("function"!=typeof t)return R(e,V.extend({schema:$},n));R(e,t,V.extend({schema:$},n))}function j(e,t){return N(e,V.extend({schema:$},t))}for(var V=n(26),H=n(41),B=n(294),$=n(42),U=n(65),z=Object.prototype.hasOwnProperty,G=1,W=2,Y=3,X=4,K=1,Q=2,Z=3,J=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ee=/[\x85\u2028\u2029]/,te=/[,\[\]\{\}]/,ne=/^(?:!|!!|![a-z\-]+!)$/i,ie=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,re=new Array(256),oe=new Array(256),se=0;se<256;se++)re[se]=c(se)?1:0,oe[se]=c(se);var ae={YAML:function(e,t,n){var i,r,o;null!==e.version&&h(e,"duplication of %YAML directive"),1!==n.length&&h(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===i&&h(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),o=parseInt(i[2],10),1!==r&&h(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=o<2,1!==o&&2!==o&&v(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,r;2!==n.length&&h(e,"TAG directive accepts exactly two arguments"),i=n[0],r=n[1],ne.test(i)||h(e,"ill-formed tag handle (first argument) of the TAG directive"),z.call(e.tagMap,i)&&h(e,'there is a previously declared suffix for "'+i+'" tag handle'),ie.test(r)||h(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[i]=r}};e.exports.loadAll=R,e.exports.load=N,e.exports.safeLoadAll=F,e.exports.safeLoad=j},function(e,t,n){"use strict";function i(e,t,n,i,r){this.name=e,this.buffer=t,this.position=n,this.line=i,this.column=r}var r=n(26);i.prototype.getSnippet=function(e,t){var n,i,o,s,a;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if((s+=1)-this.position>t/2-1){o=" ... ",s-=5;break}return a=this.buffer.slice(i,s),r.repeat(" ",e)+n+a+o+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},i.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet())&&(n+=":\n"+t),n},e.exports=i},function(e,t,n){"use strict";var i=n(1);e.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},function(e,t,n){"use strict";var i=n(1);e.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},function(e,t,n){"use strict";var i=n(1);e.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function r(){return null}function o(e){return null===e}var s=n(1);e.exports=new s("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:r,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function r(e){return"true"===e||"True"===e||"TRUE"===e}function o(e){return"[object Boolean]"===Object.prototype.toString.call(e)}var s=n(1);e.exports=new s("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:r,predicate:o,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},function(e,t,n){"use strict";function i(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function r(e){return 48<=e&&e<=55}function o(e){return 48<=e&&e<=57}function s(e){if(null===e)return!1;var t,n=e.length,s=0,a=!1;if(!n)return!1;if(t=e[s],"-"!==t&&"+"!==t||(t=e[++s]),"0"===t){if(s+1===n)return!0;if("b"===(t=e[++s])){for(s++;s<n;s++)if("_"!==(t=e[s])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(s++;s<n;s++)if("_"!==(t=e[s])){if(!i(e.charCodeAt(s)))return!1;a=!0}return a&&"_"!==t}for(;s<n;s++)if("_"!==(t=e[s])){if(!r(e.charCodeAt(s)))return!1;a=!0}return a&&"_"!==t}if("_"===t)return!1;for(;s<n;s++)if("_"!==(t=e[s])){if(":"===t)break;if(!o(e.charCodeAt(s)))return!1;a=!0}return!(!a||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(e.slice(s)))}function a(e){var t,n,i=e,r=1,o=[];return-1!==i.indexOf("_")&&(i=i.replace(/_/g,"")),t=i[0],"-"!==t&&"+"!==t||("-"===t&&(r=-1),i=i.slice(1),t=i[0]),"0"===i?0:"0"===t?"b"===i[1]?r*parseInt(i.slice(2),2):"x"===i[1]?r*parseInt(i,16):r*parseInt(i,8):-1!==i.indexOf(":")?(i.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),i=0,n=1,o.forEach(function(e){i+=e*n,n*=60}),r*i):r*parseInt(i,10)}function l(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!u.isNegativeZero(e)}var u=n(26),c=n(1);e.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:s,construct:a,predicate:l,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(e,t,n){"use strict";function i(e){return null!==e&&!(!u.test(e)||"_"===e[e.length-1])}function r(e){var t,n,i,r;return t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,r=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(e){r.unshift(parseFloat(e,10))}),t=0,i=1,r.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseFloat(t,10)}function o(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(a.isNegativeZero(e))return"-0.0";return n=e.toString(10),c.test(n)?n.replace("e",".e"):n}function s(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||a.isNegativeZero(e))}var a=n(26),l=n(1),u=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),c=/^[-+]?[0-9]+e/;e.exports=new l("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:r,predicate:s,represent:o,defaultStyle:"lowercase"})},function(e,t,n){"use strict";function i(e){return null!==e&&(null!==a.exec(e)||null!==l.exec(e))}function r(e){var t,n,i,r,o,s,u,c,f,d,p=0,h=null;if(t=a.exec(e),null===t&&(t=l.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(o=+t[4],s=+t[5],u=+t[6],t[7]){for(p=t[7].slice(0,3);p.length<3;)p+="0";p=+p}return t[9]&&(c=+t[10],f=+(t[11]||0),h=6e4*(60*c+f),"-"===t[9]&&(h=-h)),d=new Date(Date.UTC(n,i,r,o,s,u,p)),h&&d.setTime(d.getTime()-h),d}function o(e){return e.toISOString()}var s=n(1),a=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),l=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new s("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:r,instanceOf:Date,represent:o})},function(e,t,n){"use strict";function i(e){return"<<"===e||null===e}var r=n(1);e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;var t,n,i=0,r=e.length,o=u;for(n=0;n<r;n++)if(!((t=o.indexOf(e.charAt(n)))>64)){if(t<0)return!1;i+=6}return i%8==0}function r(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,o=u,s=0,l=[];for(t=0;t<r;t++)t%4==0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(255&s)),s=s<<6|o.indexOf(i.charAt(t));return n=r%4*6,0===n?(l.push(s>>16&255),l.push(s>>8&255),l.push(255&s)):18===n?(l.push(s>>10&255),l.push(s>>2&255)):12===n&&l.push(s>>4&255),a?a.from?a.from(l):new a(l):l}function o(e){var t,n,i="",r=0,o=e.length,s=u;for(t=0;t<o;t++)t%3==0&&t&&(i+=s[r>>18&63],i+=s[r>>12&63],i+=s[r>>6&63],i+=s[63&r]),r=(r<<8)+e[t];return n=o%3,0===n?(i+=s[r>>18&63],i+=s[r>>12&63],i+=s[r>>6&63],i+=s[63&r]):2===n?(i+=s[r>>10&63],i+=s[r>>4&63],i+=s[r<<2&63],i+=s[64]):1===n&&(i+=s[r>>2&63],i+=s[r<<4&63],i+=s[64],i+=s[64]),i}function s(e){return a&&a.isBuffer(e)}var a;try{a=n(43).Buffer}catch(e){}var l=n(1),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new l("tag:yaml.org,2002:binary",{kind:"scalar",resolve:i,construct:r,predicate:s,represent:o})},function(e,t,n){"use strict";function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function o(e,t,n){return 3*(t+n)/4-n}function s(e){for(var t,n=i(e),r=n[0],s=n[1],a=new d(o(e,r,s)),l=0,u=s>0?r-4:r,c=0;c<u;c+=4)t=f[e.charCodeAt(c)]<<18|f[e.charCodeAt(c+1)]<<12|f[e.charCodeAt(c+2)]<<6|f[e.charCodeAt(c+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===s&&(t=f[e.charCodeAt(c)]<<2|f[e.charCodeAt(c+1)]>>4,a[l++]=255&t),1===s&&(t=f[e.charCodeAt(c)]<<10|f[e.charCodeAt(c+1)]<<4|f[e.charCodeAt(c+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function l(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(a(i));return r.join("")}function u(e){for(var t,n=e.length,i=n%3,r=[],o=0,s=n-i;o<s;o+=16383)r.push(l(e,o,o+16383>s?s:o+16383));return 1===i?(t=e[n-1],r.push(c[t>>2]+c[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),r.join("")}t.byteLength=r,t.toByteArray=s,t.fromByteArray=u;for(var c=[],f=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,v=p.length;h<v;++h)c[h]=p[h],f[p.charCodeAt(h)]=h;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?r-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+f],f+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=u}return(p?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,f=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,h=i?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*l-1)*Math.pow(2,r),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,r),s=0));r>=8;e[n+p]=255&a,p+=h,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;e[n+p]=255&s,p+=h,s/=256,u-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n,i,r,o,l=[],u=e;for(t=0,n=u.length;t<n;t+=1){if(i=u[t],o=!1,"[object Object]"!==a.call(i))return!1;for(r in i)if(s.call(i,r)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==l.indexOf(r))return!1;l.push(r)}return!0}function r(e){return null!==e?e:[]}var o=n(1),s=Object.prototype.hasOwnProperty,a=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:r})},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n,i,r,o,a=e;for(o=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(i=a[t],"[object Object]"!==s.call(i))return!1;if(r=Object.keys(i),1!==r.length)return!1;o[t]=[r[0],i[r[0]]]}return!0}function r(e){if(null===e)return[];var t,n,i,r,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)i=s[t],r=Object.keys(i),o[t]=[r[0],i[r[0]]];return o}var o=n(1),s=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:i,construct:r})},function(e,t,n){"use strict";function i(e){if(null===e)return!0;var t,n=e;for(t in n)if(s.call(n,t)&&null!==n[t])return!1;return!0}function r(e){return null!==e?e:{}}var o=n(1),s=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:i,construct:r})},function(e,t,n){"use strict";function i(){return!0}function r(){}function o(){return""}function s(e){return void 0===e}var a=n(1);e.exports=new a("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:i,construct:r,predicate:s,represent:o})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;if(0===e.length)return!1;var t=e,n=/\/([gim]*)$/.exec(e),i="";if("/"===t[0]){if(n&&(i=n[1]),i.length>3)return!1;if("/"!==t[t.length-i.length-1])return!1}return!0}function r(e){var t=e,n=/\/([gim]*)$/.exec(e),i="";return"/"===t[0]&&(n&&(i=n[1]),t=t.slice(1,t.length-i.length-1)),new RegExp(t,i)}function o(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function s(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var a=n(1);e.exports=new a("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:i,construct:r,predicate:s,represent:o})},function(e,t,n){"use strict";function i(e){if(null===e)return!1;try{var t="("+e+")",n=a.parse(t,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(e){return!1}}function r(e){var t,n="("+e+")",i=a.parse(n,{range:!0}),r=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(e){r.push(e.name)}),t=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(r,n.slice(t[0]+1,t[1]-1)):new Function(r,"return "+n.slice(t[0],t[1]))}function o(e){return e.toString()}function s(e){return"[object Function]"===Object.prototype.toString.call(e)}var a;"undefined"!=typeof window&&(a=window.esprima);var l=n(1);e.exports=new l("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:i,construct:r,predicate:s,represent:o})},function(e,t,n){"use strict";function i(e,t){var n,i,r,o,s,a,l;if(null===t)return{};for(n={},i=Object.keys(t),r=0,o=i.length;r<o;r+=1)s=i[r],a=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),l=e.compiledTypeMap.fallback[s],l&&R.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[s]=a;return n}function r(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else{if(!(e<=4294967295))throw new T("code point within a string may not be greater than 0xFFFFFFFF");n="U",i=8}return"\\"+n+I.repeat("0",i-t.length)+t}function o(e){this.schema=e.schema||k,this.indent=Math.max(1,e.indent||2),this.skipInvalid=e.skipInvalid||!1,this.flowLevel=I.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=i(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function s(e,t){for(var n,i=I.repeat(" ",t),r=0,o=-1,s="",a=e.length;r<a;)o=e.indexOf("\n",r),-1===o?(n=e.slice(r),r=a):(n=e.slice(r,o+1),r=o+1),n.length&&"\n"!==n&&(s+=i),s+=n;return s}function a(e,t){return"\n"+I.repeat(" ",e.indent*t)}function l(e,t){var n,i,r;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(r=e.implicitTypes[n],r.resolve(t))return!0;return!1}function u(e){return e===j||e===N}function c(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function f(e){return c(e)&&65279!==e&&e!==W&&e!==J&&e!==ee&&e!==ne&&e!==re&&e!==X&&e!==B}function d(e){return c(e)&&65279!==e&&!u(e)&&e!==Y&&e!==Q&&e!==X&&e!==W&&e!==J&&e!==ee&&e!==ne&&e!==re&&e!==B&&e!==U&&e!==G&&e!==V&&e!==ie&&e!==K&&e!==z&&e!==H&&e!==$&&e!==Z&&e!==te}function p(e){return/^\n* /.test(e)}function h(e,t,n,i,r){var o,s,a=!1,l=!1,h=-1!==i,v=-1,m=d(e.charCodeAt(0))&&!u(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(s=e.charCodeAt(o),!c(s))return fe;m=m&&f(s)}else{for(o=0;o<e.length;o++){if((s=e.charCodeAt(o))===F)a=!0,h&&(l=l||o-v-1>i&&" "!==e[v+1],v=o);else if(!c(s))return fe;m=m&&f(s)}l=l||h&&o-v-1>i&&" "!==e[v+1]}return a||l?n>9&&p(e)?fe:l?ce:ue:m&&!r(e)?ae:le}function v(e,t,n,i){e.dump=function(){function r(t){return l(e,t)}if(0===t.length)return"''";if(!e.noCompatMode&&-1!==se.indexOf(t))return"'"+t+"'";var o=e.indent*Math.max(1,n),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),u=i||e.flowLevel>-1&&n>=e.flowLevel;switch(h(t,u,e.indent,a,r)){case ae:return t;case le:return"'"+t.replace(/'/g,"''")+"'";case ue:return"|"+m(t,e.indent)+g(s(t,o));case ce:return">"+m(t,e.indent)+g(s(b(t,a),o));case fe:return'"'+x(t)+'"';default:throw new T("impossible error: invalid scalar style")}}()}function m(e,t){var n=p(e)?String(t):"",i="\n"===e[e.length-1];return n+(!i||"\n"!==e[e.length-2]&&"\n"!==e?i?"":"-":"+")+"\n"}function g(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function b(e,t){for(var n,i,r=/(\n+)([^\n]*)/g,o=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,r.lastIndex=n,y(e.slice(0,n),t)}(),s="\n"===e[0]||" "===e[0];i=r.exec(e);){var a=i[1],l=i[2];n=" "===l[0],o+=a+(s||n||""===l?"":"\n")+y(l,t),s=n}return o}function y(e,t){if(""===e||" "===e[0])return e;for(var n,i,r=/ [^ ]/g,o=0,s=0,a=0,l="";n=r.exec(e);)a=n.index,a-o>t&&(i=s>o?s:a,l+="\n"+e.slice(o,i),o=i+1),s=a;return l+="\n",e.length-o>t&&s>o?l+=e.slice(o,s)+"\n"+e.slice(s+1):l+=e.slice(o),l.slice(1)}function x(e){for(var t,n,i,o="",s=0;s<e.length;s++)t=e.charCodeAt(s),t>=55296&&t<=56319&&(n=e.charCodeAt(s+1))>=56320&&n<=57343?(o+=r(1024*(t-55296)+n-56320+65536),s++):(i=oe[t],o+=!i&&c(t)?e[s]:i||r(t));return o}function _(e,t,n){var i,r,o="",s=e.tag;for(i=0,r=n.length;i<r;i+=1)E(e,t,n[i],!1,!1)&&(0!==i&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}function w(e,t,n,i){var r,o,s="",l=e.tag;for(r=0,o=n.length;r<o;r+=1)E(e,t+1,n[r],!0,!0)&&(i&&0===r||(s+=a(e,t)),e.dump&&F===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=l,e.dump=s||"[]"}function q(e,t,n){var i,r,o,s,a,l="",u=e.tag,c=Object.keys(n);for(i=0,r=c.length;i<r;i+=1)a=e.condenseFlow?'"':"",0!==i&&(a+=", "),o=c[i],s=n[o],E(e,t,o,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),E(e,t,s,!1,!1)&&(a+=e.dump,l+=a));e.tag=u,e.dump="{"+l+"}"}function C(e,t,n,i){var r,o,s,l,u,c,f="",d=e.tag,p=Object.keys(n);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new T("sortKeys must be a boolean or a function");for(r=0,o=p.length;r<o;r+=1)c="",i&&0===r||(c+=a(e,t)),s=p[r],l=n[s],E(e,t+1,s,!0,!0,!0)&&(u=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024,u&&(e.dump&&F===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,u&&(c+=a(e,t)),E(e,t+1,l,!0,u)&&(e.dump&&F===e.dump.charCodeAt(0)?c+=":":c+=": ",c+=e.dump,f+=c));e.tag=d,e.dump=f||"{}"}function S(e,t,n){var i,r,o,s,a,l;for(r=n?e.explicitTypes:e.implicitTypes,o=0,s=r.length;o<s;o+=1)if(a=r[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(e.tag=n?a.tag:"?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===M.call(a.represent))i=a.represent(t,l);else{if(!R.call(a.represent,l))throw new T("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');i=a.represent[l](t,l)}e.dump=i}return!0}return!1}function E(e,t,n,i,r,o){e.tag=null,e.dump=n,S(e,n,!1)||S(e,n,!0);var s=M.call(e.dump);i&&(i=e.flowLevel<0||e.flowLevel>t);var a,l,u="[object Object]"===s||"[object Array]"===s;if(u&&(a=e.duplicates.indexOf(n),l=-1!==a),(null!==e.tag&&"?"!==e.tag||l||2!==e.indent&&t>0)&&(r=!1),l&&e.usedDuplicates[a])e.dump="*ref_"+a;else{if(u&&l&&!e.usedDuplicates[a]&&(e.usedDuplicates[a]=!0),"[object Object]"===s)i&&0!==Object.keys(e.dump).length?(C(e,t,e.dump,r),l&&(e.dump="&ref_"+a+e.dump)):(q(e,t,e.dump),l&&(e.dump="&ref_"+a+" "+e.dump));else if("[object Array]"===s)i&&0!==e.dump.length?(w(e,t,e.dump,r),l&&(e.dump="&ref_"+a+e.dump)):(_(e,t,e.dump),l&&(e.dump="&ref_"+a+" "+e.dump));else{if("[object String]"!==s){if(e.skipInvalid)return!1;throw new T("unacceptable kind of an object to dump "+s)}"?"!==e.tag&&v(e,e.dump,t,o)}null!==e.tag&&"?"!==e.tag&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function D(e,t){var n,i,r=[],o=[];for(O(e,r,o),n=0,i=o.length;n<i;n+=1)t.duplicates.push(r[o[n]]);t.usedDuplicates=new Array(i)}function O(e,t,n){var i,r,o;if(null!==e&&"object"==typeof e)if(-1!==(r=t.indexOf(e)))-1===n.indexOf(r)&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,o=e.length;r<o;r+=1)O(e[r],t,n);else for(i=Object.keys(e),r=0,o=i.length;r<o;r+=1)O(e[i[r]],t,n)}function A(e,t){t=t||{};var n=new o(t);return n.noRefs||D(e,n),E(n,0,e,!0,!0)?n.dump+"\n":""}function L(e,t){return A(e,I.extend({schema:P},t))}var I=n(26),T=n(41),k=n(65),P=n(42),M=Object.prototype.toString,R=Object.prototype.hasOwnProperty,N=9,F=10,j=32,V=33,H=34,B=35,$=37,U=38,z=39,G=42,W=44,Y=45,X=58,K=62,Q=63,Z=64,J=91,ee=93,te=96,ne=123,ie=124,re=125,oe={};oe[0]="\\0",oe[7]="\\a",oe[8]="\\b",oe[9]="\\t",oe[10]="\\n",oe[11]="\\v",oe[12]="\\f",oe[13]="\\r",oe[27]="\\e",oe[34]='\\"',oe[92]="\\\\",oe[133]="\\N",oe[160]="\\_",oe[8232]="\\L",oe[8233]="\\P";var se=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ae=1,le=2,ue=3,ce=4,fe=5;e.exports.dump=A,e.exports.safeDump=L},function(e,t,n){function i(e){return"string"==typeof e||!o(e)&&s(e)&&r(e)==a}var r=n(21),o=n(6),s=n(13),a="[object String]";e.exports=i},function(e,t){e.exports=FormData},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return new j(e).dispatch()}Object.defineProperty(t,"__esModule",{value:!0}),t.plugins=t.SpecMap=void 0;var o=n(62),s=i(o),a=n(18),l=i(a),u=n(102),c=i(u),f=n(40),d=i(f),p=n(11),h=i(p),v=n(96),m=i(v),g=n(318),b=i(g),y=n(14),x=i(y),_=n(152),w=i(_),q=n(153),C=i(q);t.default=r;var S=n(323),E=i(S),D=n(68),O=i(D),A=n(360),L=i(A),I=n(374),T=i(I),k=n(375),P=i(k),M=n(376),R=i(M),N=n(377),F=i(N),j=function(){function e(t){(0,w.default)(this,e),(0,x.default)(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new F.default,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:(0,x.default)((0,b.default)(this),O.default),allowMetaPatches:!1},t),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=this.plugins.map(this.wrapPlugin.bind(this)).filter(O.default.isFunction),this.patches.push(O.default.add([],this.spec)),this.patches.push(O.default.context([],this.context)),this.updatePatches(this.patches)}return(0,C.default)(e,[{key:"debug",value:function(e){if(this.debugLevel===e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console).log.apply(t,i)}}},{key:"verbose",value:function(e){if("verbose"===this.debugLevel){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console).log.apply(t,["["+e+"]   "].concat(i))}}},{key:"wrapPlugin",value:function(e,t){var n=this.pathDiscriminator,i=null,r=void 0;return e[this.pluginProp]?(i=e,r=e[this.pluginProp]):O.default.isFunction(e)?r=e:O.default.isObject(e)&&(r=function(e){var t=function(e,t){return!Array.isArray(e)||e.every(function(e,n){return e===t[n]})};return d.default.mark(function i(r,o){var s,a,l,u,c,f,p,v,g;return d.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:g=function i(r,l,u){var c,f,p,v,g,b,y,x,_,w,q,C,S,E,D,A;return d.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(O.default.isObject(r)){s.next=6;break}if(e.key!==l[l.length-1]){s.next=4;break}return s.next=4,e.plugin(r,e.key,l,o);case 4:s.next=48;break;case 6:c=l.length-1,f=l[c],p=l.indexOf("properties"),v="properties"===f&&c===p,g=o.allowMetaPatches&&a[r.$$ref],b=!0,y=!1,x=void 0,s.prev=14,_=(0,m.default)((0,h.default)(r));case 16:if(b=(w=_.next()).done){s.next=34;break}if(q=w.value,C=r[q],S=l.concat(q),E=O.default.isObject(C),D=r.$$ref,g){s.next=26;break}if(!E){s.next=26;break}return o.allowMetaPatches&&D&&(a[D]=!0),s.delegateYield(i(C,S,u),"t0",26);case 26:if(v||q!==e.key){s.next=31;break}if(A=t(n,l),n&&!A){s.next=31;break}return s.next=31,e.plugin(C,q,S,o,u);case 31:b=!0,s.next=16;break;case 34:s.next=40;break;case 36:s.prev=36,s.t1=s.catch(14),y=!0,x=s.t1;case 40:s.prev=40,s.prev=41,!b&&_.return&&_.return();case 43:if(s.prev=43,!y){s.next=46;break}throw x;case 46:return s.finish(43);case 47:return s.finish(40);case 48:case"end":return s.stop()}},s,this,[[14,36,40,48],[41,,43,47]])},s=d.default.mark(g),a={},l=!0,u=!1,c=void 0,i.prev=6,f=(0,m.default)(r.filter(O.default.isAdditiveMutation));case 8:if(l=(p=f.next()).done){i.next=14;break}return v=p.value,i.delegateYield(g(v.value,v.path,v),"t0",11);case 11:l=!0,i.next=8;break;case 14:i.next=20;break;case 16:i.prev=16,i.t1=i.catch(6),u=!0,c=i.t1;case 20:i.prev=20,i.prev=21,!l&&f.return&&f.return();case 23:if(i.prev=23,!u){i.next=26;break}throw c;case 26:return i.finish(23);case 27:return i.finish(20);case 28:case"end":return i.stop()}},i,this,[[6,16,20,28],[21,,23,27]])})}(e)),(0,x.default)(r.bind(i),{pluginName:e.name||t,isGenerator:O.default.isGenerator(r)})}},{key:"nextPlugin",value:function(){var e=this;return(0,E.default)(this.wrappedPlugins,function(t){return e.getMutationsForPlugin(t).length>0})}},{key:"nextPromisedPatch",value:function(){if(this.promisedPatches.length>0)return c.default.race(this.promisedPatches.map(function(e){return e.value}))}},{key:"getPluginHistory",value:function(e){var t=this.getPluginName(e);return this.pluginHistory[t]||[]}},{key:"getPluginRunCount",value:function(e){return this.getPluginHistory(e).length}},{key:"getPluginHistoryTip",value:function(e){var t=this.getPluginHistory(e);return t&&t[t.length-1]||{}}},{key:"getPluginMutationIndex",value:function(e){var t=this.getPluginHistoryTip(e).mutationIndex;return"number"!=typeof t?-1:t}},{key:"getPluginName",value:function(e){return e.pluginName}},{key:"updatePluginHistory",value:function(e,t){var n=this.getPluginName(e);(this.pluginHistory[n]=this.pluginHistory[n]||[]).push(t)}},{key:"updatePatches",value:function(e,t){var n=this;O.default.normalizeArray(e).forEach(function(e){if(e instanceof Error)return void n.errors.push(e);try{if(!O.default.isObject(e))return void n.debug("updatePatches","Got a non-object patch",e);if(n.showDebug&&n.allPatches.push(e),O.default.isPromise(e.value))return n.promisedPatches.push(e),void n.promisedPatchThen(e);if(O.default.isContextPatch(e))return void n.setContext(e.path,e.value);if(O.default.isMutation(e))return void n.updateMutations(e)}catch(e){console.error(e),n.errors.push(e)}})}},{key:"updateMutations",value:function(e){"object"===(0,l.default)(e.value)&&!Array.isArray(e.value)&&this.allowMetaPatches&&(e.value=(0,x.default)({},e.value));var t=O.default.applyPatch(this.state,e,{allowMetaPatches:this.allowMetaPatches});t&&(this.mutations.push(e),this.state=t)}},{key:"removePromisedPatch",value:function(e){var t=this.promisedPatches.indexOf(e);if(t<0)return void this.debug("Tried to remove a promisedPatch that isn't there!");this.promisedPatches.splice(t,1)}},{key:"promisedPatchThen",value:function(e){var t=this;return e.value=e.value.then(function(n){var i=(0,x.default)({},e,{value:n});t.removePromisedPatch(e),t.updatePatches(i)}).catch(function(n){t.removePromisedPatch(e),t.updatePatches(n)})}},{key:"getMutations",value:function(e,t){return e=e||0,"number"!=typeof t&&(t=this.mutations.length),this.mutations.slice(e,t)}},{key:"getCurrentMutations",value:function(){return this.getMutationsForPlugin(this.getCurrentPlugin())}},{key:"getMutationsForPlugin",value:function(e){var t=this.getPluginMutationIndex(e);return this.getMutations(t+1)}},{key:"getCurrentPlugin",value:function(){return this.currentPlugin}},{key:"getPatchesOfType",value:function(e,t){return e.filter(t)}},{key:"getLib",value:function(){return this.libMethods}},{key:"_get",value:function(e){return O.default.getIn(this.state,e)}},{key:"_getContext",value:function(e){return this.contextTree.get(e)}},{key:"setContext",value:function(e,t){return this.contextTree.set(e,t)}},{key:"_hasRun",value:function(e){return this.getPluginRunCount(this.getCurrentPlugin())>(e||0)}},{key:"_clone",value:function(e){return JSON.parse((0,s.default)(e))}},{key:"dispatch",value:function(){function e(e){e&&(e=O.default.fullyNormalizeArray(e),n.updatePatches(e,i))}var t=this,n=this,i=this.nextPlugin();if(!i){var r=this.nextPromisedPatch();if(r)return r.then(function(){return t.dispatch()}).catch(function(){return t.dispatch()});var o={spec:this.state,errors:this.errors};return this.showDebug&&(o.patches=this.allPatches),c.default.resolve(o)}if(n.pluginCount=n.pluginCount||{},n.pluginCount[i]=(n.pluginCount[i]||0)+1,n.pluginCount[i]>100)return c.default.resolve({spec:n.state,errors:n.errors.concat(new Error("We've reached a hard limit of 100 plugin runs"))});if(i!==this.currentPlugin&&this.promisedPatches.length){var s=this.promisedPatches.map(function(e){return e.value});return c.default.all(s.map(function(e){return e.then(Function,Function)})).then(function(){return t.dispatch()})}return function(){n.currentPlugin=i;var t=n.getCurrentMutations(),r=n.mutations.length-1;try{if(i.isGenerator){var o=!0,s=!1,a=void 0;try{for(var l,u=(0,m.default)(i(t,n.getLib()));!(o=(l=u.next()).done);o=!0)e(l.value)}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}}else e(i(t,n.getLib()))}catch(t){console.error(t),e([(0,x.default)((0,b.default)(t),{plugin:i})])}finally{n.updatePluginHistory(i,{mutationIndex:r})}return n.dispatch()}()}}]),e}(),V={refs:L.default,allOf:T.default,parameters:P.default,properties:R.default};t.SpecMap=j,t.plugins=V},function(e,t,n){e.exports={default:n(319),__esModule:!0}},function(e,t,n){n(320);var i=n(0).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){var i=n(4);i(i.S,"Object",{create:n(94)})},function(e,t,n){n(322);var i=n(0).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(4);i(i.S+i.F*!n(12),"Object",{defineProperty:n(7).f})},function(e,t,n){var i=n(324),r=n(347),o=i(r);e.exports=o},function(e,t,n){function i(e){return function(t,n,i){var a=Object(t);if(!o(t)){var l=r(n,3);t=s(t),n=function(e){return l(a[e],e,a)}}var u=e(t,n,i);return u>-1?a[l?t[u]:u]:void 0}}var r=n(155),o=n(36),s=n(24);e.exports=i},function(e,t,n){function i(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(326),o=n(337),s=n(159);e.exports=i},function(e,t,n){function i(e,t,n,i){var l=n.length,u=l,c=!i;if(null==e)return!u;for(e=Object(e);l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){f=n[l];var d=f[0],p=e[d],h=f[1];if(c&&f[2]){if(void 0===p&&!(d in e))return!1}else{var v=new r;if(i)var m=i(p,h,d,e,t,v);if(!(void 0===m?o(h,p,s|a,i,v):m))return!1}}return!0}var r=n(78),o=n(156),s=1,a=2;e.exports=i},function(e,t,n){function i(e,t,n,i,m,b){var y=u(e),x=u(t),_=y?h:l(e),w=x?h:l(t);_=_==p?v:_,w=w==p?v:w;var q=_==v,C=w==v,S=_==w;if(S&&c(e)){if(!c(t))return!1;y=!0,q=!1}if(S&&!q)return b||(b=new r),y||f(e)?o(e,t,n,i,m,b):s(e,t,_,n,i,m,b);if(!(n&d)){var E=q&&g.call(e,"__wrapped__"),D=C&&g.call(t,"__wrapped__");if(E||D){var O=E?e.value():e,A=D?t.value():t;return b||(b=new r),m(O,A,n,i,b)}}return!!S&&(b||(b=new r),a(e,t,n,i,m,b))}var r=n(78),o=n(157),s=n(333),a=n(336),l=n(58),u=n(6),c=n(83),f=n(121),d=1,p="[object Arguments]",h="[object Array]",v="[object Object]",m=Object.prototype,g=m.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(81),o=n(329),s=n(330);i.prototype.add=i.prototype.push=o,i.prototype.has=s,e.exports=i},function(e,t){function n(e){return this.__data__.set(e,i),this}var i="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function i(e,t,n,i,r,q,S){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!q(new o(e),new o(t)));case d:case p:case m:return s(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case v:var E=l;case b:var D=i&c;if(E||(E=u),e.size!=t.size&&!D)return!1;var O=S.get(e);if(O)return O==t;i|=f,S.set(e,t);var A=a(E(e),E(t),i,r,q,S);return S.delete(e),A;case x:if(C)return C.call(e)==C.call(t)}return!1}var r=n(23),o=n(128),s=n(51),a=n(157),l=n(334),u=n(335),c=1,f=2,d="[object Boolean]",p="[object Date]",h="[object Error]",v="[object Map]",m="[object Number]",g="[object RegExp]",b="[object Set]",y="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",q=r?r.prototype:void 0,C=q?q.valueOf:void 0;e.exports=i},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function i(e,t,n,i,s,l){var u=n&o,c=r(e),f=c.length;if(f!=r(t).length&&!u)return!1;for(var d=f;d--;){var p=c[d];if(!(u?p in t:a.call(t,p)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var v=!0;l.set(e,t),l.set(t,e);for(var m=u;++d<f;){p=c[d];var g=e[p],b=t[p];if(i)var y=u?i(b,g,p,t,e,l):i(g,b,p,e,t,l);if(!(void 0===y?g===b||s(g,b,n,i,l):y)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return l.delete(e),l.delete(t),v}var r=n(126),o=1,s=Object.prototype,a=s.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){for(var t=o(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}var r=n(158),o=n(24);e.exports=i},function(e,t,n){function i(e,t){return a(e)&&l(t)?u(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?s(n,e):r(t,i,f|d)}}var r=n(156),o=n(66),s=n(160),a=n(108),l=n(158),u=n(159),c=n(44),f=1,d=2;e.exports=i},function(e,t,n){var i=n(340),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function i(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var r=n(341),o=500;e.exports=i},function(e,t,n){function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(i.Cache||r),n}var r=n(81),o="Expected a function";i.Cache=r,e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function i(e,t,n){t=r(t,e);for(var i=-1,c=t.length,f=!1;++i<c;){var d=u(t[i]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++i!=c?f:!!(c=null==e?0:e.length)&&l(c)&&a(d,c)&&(s(e)||o(e))}var r=n(67),o=n(82),s=n(6),a=n(56),l=n(84),u=n(44);e.exports=i},function(e,t,n){function i(e){return s(e)?r(a(e)):o(e)}var r=n(345),o=n(346),s=n(108),a=n(44);e.exports=i},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function i(e){return function(t){return r(t,e)}}var r=n(107);e.exports=i},function(e,t,n){function i(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var l=null==n?0:s(n);return l<0&&(l=a(i+l,0)),r(e,o(t,3),l)}var r=n(348),o=n(155),s=n(133),a=Math.max;e.exports=i},function(e,t){function n(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t,n){"use strict";t.__esModule=!0;var i=n(350),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,r.default)(e)}},function(e,t,n){e.exports={default:n(351),__esModule:!0}},function(e,t,n){n(39),n(352),e.exports=n(0).Array.from},function(e,t,n){"use strict";var i=n(19),r=n(4),o=n(34),s=n(139),a=n(140),l=n(46),u=n(353),c=n(97);r(r.S+r.F*!n(145)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,b=c(d);if(m&&(v=i(v,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&a(b))for(t=l(d.length),n=new p(t);t>g;g++)u(n,g,m?v(d[g],g):d[g]);else for(f=b.call(d),n=new p;!(r=f.next()).done;g++)u(n,g,m?s(f,v,[r.value,g],!0):r.value);return n.length=g,n}})},function(e,t,n){"use strict";var i=n(7),r=n(30);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(154),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){function i(e){for(var t=0,n=v.length;t<n;t++)if(v[t].obj===e)return v[t]}function r(e,t){for(var n=0,i=e.observers.length;n<i;n++)if(e.observers[n].callback===t)return e.observers[n].observer}function o(e,t){for(var n=0,i=e.observers.length;n<i;n++)if(e.observers[n].observer===t)return void e.observers.splice(n,1)}function s(e,t){t.unobserve()}function a(e,t){var n,s=[],a=i(e);if(a?n=r(a,t):(a=new m(e),v.push(a)),n)return n;if(n={},a.value=f._deepClone(e),t){n.callback=t,n.next=null;var u=function(){l(n)},c=function(){clearTimeout(n.next),n.next=setTimeout(u)};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mouseup",c),window.addEventListener("keyup",c),window.addEventListener("mousedown",c),window.addEventListener("keydown",c),window.addEventListener("change",c)):(document.documentElement.attachEvent("onmouseup",c),document.documentElement.attachEvent("onkeyup",c),document.documentElement.attachEvent("onmousedown",c),document.documentElement.attachEvent("onkeydown",c),document.documentElement.attachEvent("onchange",c)))}return n.patches=s,n.object=e,n.unobserve=function(){l(n),clearTimeout(n.next),o(a,n),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mouseup",c),window.removeEventListener("keyup",c),window.removeEventListener("mousedown",c),window.removeEventListener("keydown",c)):(document.documentElement.detachEvent("onmouseup",c),document.documentElement.detachEvent("onkeyup",c),document.documentElement.detachEvent("onmousedown",c),document.documentElement.detachEvent("onkeydown",c)))},a.observers.push(new g(t,n)),n}function l(e){for(var t,n=0,i=v.length;n<i;n++)if(v[n].obj===e.object){t=v[n];break}u(t.value,e.object,e.patches,""),e.patches.length&&d.applyPatch(t.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function u(e,t,n,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var r=f._objectKeys(t),o=f._objectKeys(e),s=!1,a=o.length-1;a>=0;a--){var l=o[a],c=e[l];if(!f.hasOwnProperty(t,l)||void 0===t[l]&&void 0!==c&&!1===Array.isArray(t))n.push({op:"remove",path:i+"/"+f.escapePathComponent(l)}),s=!0;else{var d=t[l];"object"==typeof c&&null!=c&&"object"==typeof d&&null!=d?u(c,d,n,i+"/"+f.escapePathComponent(l)):c!==d&&(!0,n.push({op:"replace",path:i+"/"+f.escapePathComponent(l),value:f._deepClone(d)}))}}if(s||r.length!=o.length)for(var a=0;a<r.length;a++){var l=r[a];f.hasOwnProperty(e,l)||void 0===t[l]||n.push({op:"add",path:i+"/"+f.escapePathComponent(l),value:f._deepClone(t[l])})}}}function c(e,t){var n=[];return u(e,t,n,""),n}var f=(n(161),n(109)),d=n(162),p=n(162);t.applyOperation=p.applyOperation,t.applyPatch=p.applyPatch,t.applyReducer=p.applyReducer,t.getValueByPointer=p.getValueByPointer,t.validate=p.validate,t.validator=p.validator;var h=n(109);t.JsonPatchError=h.PatchError,t.deepClone=h._deepClone,t.escapePathComponent=h.escapePathComponent,t.unescapePathComponent=h.unescapePathComponent;var v=[],m=function(){function e(e){this.observers=[],this.obj=e}return e}(),g=function(){function e(e,t){this.callback=e,this.observer=t}return e}();t.unobserve=s,t.observe=a,t.generate=l,t.compare=c},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:i,t.supported=n,t.unsupported=i},function(e,t,n){"use strict";(function(t){function n(e){return e instanceof t||e instanceof Date||e instanceof RegExp}function i(e){if(e instanceof t){var n=t.alloc?t.alloc(e.length):new t(e.length);return e.copy(n),n}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}function r(e){var t=[];return e.forEach(function(e,o){"object"==typeof e&&null!==e?Array.isArray(e)?t[o]=r(e):n(e)?t[o]=i(e):t[o]=s({},e):t[o]=e}),t}function o(e,t){return"__proto__"===t?void 0:e[t]}var s=e.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var e,t,a=arguments[0],l=Array.prototype.slice.call(arguments,1);return l.forEach(function(l){"object"!=typeof l||null===l||Array.isArray(l)||Object.keys(l).forEach(function(u){return t=o(a,u),e=o(l,u),e===a?void 0:"object"!=typeof e||null===e?void(a[u]=e):Array.isArray(e)?void(a[u]=r(e)):n(e)?void(a[u]=i(e)):"object"!=typeof t||null===t||Array.isArray(t)?void(a[u]=s({},e)):void(a[u]=s(t,e))})}),a}}).call(t,n(43).Buffer)},function(e,t,n){"use strict";function i(e){return null===e?"null":void 0===e?"undefined":"object"===(void 0===e?"undefined":l(e))?Array.isArray(e)?"array":"object":void 0===e?"undefined":l(e)}function r(e){return"object"===i(e)?s(e):"array"===i(e)?o(e):e}function o(e){return e.map(r)}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));return t}function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={arrayBehaviour:n.arrayBehaviour||"replace"},l=t.map(function(e){return e||{}}),u=e||{},c=0;c<l.length;c++)for(var f=l[c],d=Object.keys(f),p=0;p<d.length;p++){var h=d[p],v=f[h],m=i(v),g=i(u[h]);if("object"===m)if("undefined"!==g){var b="object"===g?u[h]:{};u[h]=a({},[b,s(v)],r)}else u[h]=s(v);else if("array"===m)if("array"===g){var y=o(v);u[h]="merge"===r.arrayBehaviour?u[h].concat(y):y}else u[h]=o(v);else u[h]=v}return u}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a(e,n)},e.exports.noMutate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a({},t)},e.exports.withOptions=function(e,t,n){return a(e,t,n)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!H.test(e)){if(!t)throw new B("Tried to resolve a relative URL, without having a basePath. path: '"+e+"' basePath: '"+t+"'");return M.default.resolve(t,e)}return e}function o(e,t){var n=void 0;return n=e&&e.response&&e.response.body?e.response.body.code+" "+e.response.body.message:e.message,new B("Could not resolve reference: "+n,t,e)}function s(e){return(e+"").split("#")}function a(e,t){var n=$[e];if(n&&!N.default.isPromise(n))try{var i=f(t,n);return(0,O.default)(C.default.resolve(i),{__value:i})}catch(e){return C.default.reject(e)}return u(e).then(function(e){return f(t,e)})}function l(e){void 0!==e?delete $[e]:(0,w.default)($).forEach(function(e){delete $[e]})}function u(e){var t=$[e];return t?N.default.isPromise(t)?t:C.default.resolve(t):($[e]=G.fetchJSON(e).then(function(t){return $[e]=t,t}),$[e])}function c(e){return(0,A.fetch)(e,{headers:{Accept:"application/json, application/yaml"},loadSpec:!0}).then(function(e){return e.text()}).then(function(e){return I.default.safeLoad(e)})}function f(e,t){var n=d(e);if(n.length<1)return t;var i=N.default.getIn(t,n);if(void 0===i)throw new B("Could not resolve pointer: "+e+" does not exist in document",{pointer:e});return i}function d(e){if("string"!=typeof e)throw new TypeError("Expected a string, got a "+(void 0===e?"undefined":(0,x.default)(e)));return"/"===e[0]&&(e=e.substr(1)),""===e?[]:e.split("/").map(p)}function p(e){return"string"!=typeof e?e:k.default.unescape(e.replace(/~1/g,"/").replace(/~0/g,"~"))}function h(e){return k.default.escape(e.replace(/~/g,"~0").replace(/\//g,"~1"))}function v(e){return 0===e.length?"":"/"+e.map(h).join("/")}function m(e,t){if(W(t))return!0;var n=e.charAt(t.length),i=t.slice(-1);return 0===e.indexOf(t)&&(!n||"/"===n||"#"===n)&&"#"!==i}function g(e,t,n,i){var r=U.get(i);r||(r={},U.set(i,r));var o=v(n),s=(t||"<specmap-base>")+"#"+e;if(t==i.contextTree.get([]).baseDoc&&m(o,e))return!0;var a="";if(n.some(function(e){return a=a+"/"+h(e),r[a]&&r[a].some(function(e){return m(e,s)||m(s,e)})}))return!0;r[o]=(r[o]||[]).concat(s)}function b(e,t){function n(e){return N.default.isObject(e)&&(i.indexOf(e)>=0||(0,w.default)(e).some(function(t){return n(e[t])}))}var i=[e];return t.path.reduce(function(e,t){return i.push(e[t]),e[t]},e),n(t.value)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(18),x=i(y),_=n(11),w=i(_),q=n(102),C=i(q),S=n(361),E=i(S),D=n(14),O=i(D),A=n(372),L=n(148),I=i(L),T=n(373),k=i(T),P=n(92),M=i(P),R=n(68),N=i(R),F=n(164),j=i(F),V=n(165),H=new RegExp("^([a-z]+://|//)","i"),B=(0,j.default)("JSONRefError",function(e,t,n){this.originalError=n,(0,O.default)(this,t||{})}),$={},U=new E.default,z={key:"$ref",plugin:function(e,t,n,i){var l=n.slice(0,-1);if(!(0,V.isFreelyNamed)(l)){var u=i.getContext(n).baseDoc;if("string"!=typeof e)return new B("$ref: must be a string (JSON-Ref)",{$ref:e,baseDoc:u,fullPath:n});var c=s(e),f=c[0],p=c[1]||"",h=void 0;try{h=u||f?r(f,u):null}catch(t){return o(t,{pointer:p,$ref:e,basePath:h,fullPath:n})}var v=void 0,m=void 0;if(!g(p,h,l,i)){if(null==h?(m=d(p),void 0===(v=i.get(m))&&(v=new B("Could not resolve reference: "+e,{pointer:p,$ref:e,baseDoc:u,fullPath:n}))):(v=a(h,p),v=null!=v.__value?v.__value:v.catch(function(t){throw o(t,{pointer:p,$ref:e,baseDoc:u,fullPath:n})})),v instanceof Error)return[N.default.remove(n),v];var y=N.default.replace(l,v,{$$ref:e});if(h&&h!==u)return[y,N.default.context(l,{baseDoc:h})];try{if(!b(i.state,y))return y}catch(e){return null}}}}},G=(0,O.default)(z,{docCache:$,absoluteify:r,clearCache:l,JSONRefError:B,wrapError:o,getDoc:u,split:s,extractFromDoc:a,fetchJSON:c,extract:f,jsonPointerToArray:d,unescapeJsonPointerToken:p});t.default=G;var W=function(e){return!e||"/"===e||"#"===e};e.exports=t.default},function(e,t,n){e.exports={default:n(362),__esModule:!0}},function(e,t,n){n(100),n(37),n(363),n(368),n(370),e.exports=n(0).WeakMap},function(e,t,n){"use strict";var i,r=n(110)(0),o=n(93),s=n(63),a=n(113),l=n(366),u=n(5),c=n(16),f=n(163),d=s.getWeak,p=Object.isExtensible,h=l.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(u(e)){var t=d(e);return!0===t?h(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(f(this,"WeakMap"),e,t)}},b=e.exports=n(367)("WeakMap",m,g,l,!0,!0);c(function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)})&&(i=l.getConstructor(m,"WeakMap"),a(i.prototype,g),s.NEED=!0,r(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];o(t,e,function(t,r){if(u(t)&&!p(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){var i=n(365);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(5),r=n(137),o=n(3)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(105),r=n(63).getWeak,o=n(8),s=n(5),a=n(103),l=n(64),u=n(110),c=n(17),f=n(163),d=u(5),p=u(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var u=e(function(e,i){a(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=i&&l(i,n,e[o],e)});return i(u.prototype,{delete:function(e){if(!s(e))return!1;var n=r(e);return!0===n?v(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=r(e);return!0===n?v(f(this,t)).has(e):n&&c(n,this._i)}}),u},def:function(e,t,n){var i=r(o(t),!0);return!0===i?v(e).set(t,n):i[e._i]=n,e},ufstore:v}},function(e,t,n){"use strict";var i=n(2),r=n(4),o=n(63),s=n(16),a=n(15),l=n(105),u=n(64),c=n(103),f=n(5),d=n(38),p=n(7).f,h=n(110)(0),v=n(12);e.exports=function(e,t,n,m,g,b){var y=i[e],x=y,_=g?"set":"add",w=x&&x.prototype,q={};return v&&"function"==typeof x&&(b||w.forEach&&!s(function(){(new x).entries().next()}))?(x=t(function(t,n){c(t,x,e,"_c"),t._c=new y,void 0!=n&&u(n,g,t[_],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!b||"clear"!=e)&&a(x.prototype,e,function(n,i){if(c(this,x,e),!t&&b&&!f(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r})}),b||p(x.prototype,"size",{get:function(){return this._c.size}})):(x=m.getConstructor(t,e,g,_),l(x.prototype,n),o.NEED=!0),d(x,e),q[e]=x,r(r.G+r.W+r.F,q),b||m.setStrong(x,e,g),x}},function(e,t,n){n(369)("WeakMap")},function(e,t,n){"use strict";var i=n(4);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(371)("WeakMap")},function(e,t,n){"use strict";var i=n(4),r=n(29),o=n(19),s=n(64);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,a,l=arguments[1];return r(this),t=void 0!==l,t&&r(l),void 0==e?new this:(n=[],t?(i=0,a=o(l,arguments[2],2),s(e,!1,function(e){n.push(a(e,i++))})):s(e,!1,n.push,n),new this(n))}})}},function(e,t){var n={};!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&y(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!x(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function v(e){var t=new r;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=function(e){return e&&DataView.prototype.isPrototypeOf(e)},x=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};r.prototype.append=function(e,i){e=t(e),i=n(i);var r=this.map[e];this.map[e]=r?r+","+i:i},r.prototype.delete=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,i){this.map[t(e)]=n(i)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},g.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];m.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=p,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,i){var r=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:v(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new m(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}}(void 0!==n?n:this),e.exports=n},function(e,t,n){"use strict";function i(e,t){try{return decodeURIComponent(e)}catch(n){return o.unescapeBuffer(e,t).toString()}}function r(e,t){try{return t(e)}catch(t){return o.unescape(e,!0)}}var o=t,s=n(43).Buffer;o.unescapeBuffer=function(e,t){for(var n,i,r,o=new s(e.length),a=0,l=0,u=0;l<=e.length;l++){var c=l<e.length?e.charCodeAt(l):NaN;switch(a){case 0:switch(c){case 37:n=0,i=0,a=1;break;case 43:t&&(c=32);default:o[u++]=c}break;case 1:if(r=c,c>=48&&c<=57)n=c-48;else if(c>=65&&c<=70)n=c-65+10;else{if(!(c>=97&&c<=102)){o[u++]=37,o[u++]=c,a=0;break}n=c-97+10}a=2;break;case 2:if(a=0,c>=48&&c<=57)i=c-48;else if(c>=65&&c<=70)i=c-65+10;else{if(!(c>=97&&c<=102)){o[u++]=37,o[u++]=r,o[u++]=c;break}i=c-97+10}o[u++]=16*n+i}}return o.slice(0,u-1)},o.unescape=i;for(var a=new Array(256),l=0;l<256;++l)a[l]="%"+((l<16?"0":"")+l.toString(16)).toUpperCase();o.escape=function(e){"string"!=typeof e&&(e+="");for(var t="",n=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);if(!(33===r||45===r||46===r||95===r||126===r||r>=39&&r<=42||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122))if(i-n>0&&(t+=e.slice(n,i)),r<128)n=i+1,t+=a[r];else if(r<2048)n=i+1,t+=a[192|r>>6]+a[128|63&r];else if(r<55296||r>=57344)n=i+1,t+=a[224|r>>12]+a[128|r>>6&63]+a[128|63&r];else{++i;var o;if(!(i<e.length))throw new URIError("URI malformed");o=1023&e.charCodeAt(i),n=i+1,r=65536+((1023&r)<<10|o),t+=a[240|r>>18]+a[128|r>>12&63]+a[128|r>>6&63]+a[128|63&r]}}return 0===n?e:n<e.length?t+e.slice(n):t};var u=function(e){return"string"==typeof e?e:"number"==typeof e&&isFinite(e)?""+e:"boolean"==typeof e?e?"true":"false":""};o.stringify=o.encode=function(e,t,n,i){t=t||"&",n=n||"=";var r=o.escape;if(i&&"function"==typeof i.encodeURIComponent&&(r=i.encodeURIComponent),null!==e&&"object"==typeof e){for(var s=Object.keys(e),a=s.length,l=a-1,c="",f=0;f<a;++f){var d=s[f],p=e[d],h=r(u(d))+n;if(Array.isArray(p)){for(var v=p.length,m=v-1,g=0;g<v;++g)c+=h+r(u(p[g])),g<m&&(c+=t);v&&f<l&&(c+=t)}else c+=h+r(u(p)),f<l&&(c+=t)}return c}return""},o.parse=o.decode=function(e,t,n,s){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;"string"!=typeof t&&(t+="");var l=n.length,u=t.length,c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var f=1/0;c>0&&(f=c);var d=o.unescape;s&&"function"==typeof s.decodeURIComponent&&(d=s.decodeURIComponent);for(var p=d!==i,h=[],v=0,m=0,g=0,b="",y="",x=p,_=p,w=0,q=0;q<e.length;++q){var C=e.charCodeAt(q);if(C!==t.charCodeAt(m)){if(m=0,_||(37===C?w=1:w>0&&(C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102)?3==++w&&(_=!0):w=0),g<l){if(C===n.charCodeAt(g)){if(++g===l){var S=q-g+1;v<S&&(b+=e.slice(v,S)),w=0,v=q+1}continue}g=0,x||(37===C?w=1:w>0&&(C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102)?3==++w&&(x=!0):w=0)}43===C&&(g<l?(q-v>0&&(b+=e.slice(v,q)),b+="%20",x=!0):(q-v>0&&(y+=e.slice(v,q)),y+="%20",_=!0),v=q+1)}else if(++m===u){var S=q-m+1;if(g<l?v<S&&(b+=e.slice(v,S)):v<S&&(y+=e.slice(v,S)),x&&(b=r(b,d)),_&&(y=r(y,d)),-1===h.indexOf(b))a[b]=y,h[h.length]=b;else{var E=a[b];E instanceof Array?E[E.length]=y:a[b]=[E,y]}if(0==--f)break;x=_=p,w=0,b=y="",v=q+1,m=g=0}}if(f>0&&(v<e.length||g>0))if(v<e.length&&(g<l?b+=e.slice(v):m<u&&(y+=e.slice(v))),x&&(b=r(b,d)),_&&(y=r(y,d)),-1===h.indexOf(b))a[b]=y,h[h.length]=b;else{var E=a[b];E instanceof Array?E[E.length]=y:a[b]=[E,y]}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(165);t.default={key:"allOf",plugin:function(e,t,n,i,s){if(!s.meta||!s.meta.$$ref){var a=n.slice(0,-1);if(!(0,o.isFreelyNamed)(a)){if(!Array.isArray(e)){var l=new TypeError("allOf must be an array");return l.fullPath=n,l}var u=!1,c=s.value;a.forEach(function(e){c&&(c=c[e])}),c=(0,r.default)({},c),delete c.allOf;var f=[i.replace(a,{})].concat(e.map(function(e,t){if(!i.isObject(e)){if(u)return null;u=!0;var r=new TypeError("Elements in allOf must be objects");return r.fullPath=n,r}return i.mergeDeep(a,e)}));return f.push(i.mergeDeep(a,c)),c.$$ref||f.push(i.remove([].concat(a,"$$ref"))),f}}}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=i(r),s=n(68),a=i(s);t.default={key:"parameters",plugin:function(e,t,n,i,r){if(Array.isArray(e)&&e.length){var s=(0,o.default)([],e),l=n.slice(0,-1),u=(0,o.default)({},a.default.getIn(i.spec,l));return e.forEach(function(e,t){try{s[t].default=i.parameterMacro(u,e)}catch(e){var r=new Error(e);return r.fullPath=n,r}}),a.default.replace(n,s)}return a.default.replace(n,e)}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=i(r),s=n(68),a=i(s);t.default={key:"properties",plugin:function(e,t,n,i){var r=(0,o.default)({},e);for(var s in e)try{r[s].default=i.modelPropertyMacro(r[s])}catch(e){var l=new Error(e);return l.fullPath=n,l}return a.default.replace(n,r)}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return o({children:{}},e,t)}function o(e,t,n){return e.value=t||{},e.protoValue=n?(0,u.default)({},n.protoValue,e.value):e.value,(0,a.default)(e.children).forEach(function(t){var n=e.children[t];e.children[t]=o(n,n.value,e)}),e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(11),a=i(s),l=n(28),u=i(l),c=n(152),f=i(c),d=n(153),p=i(d),h=function(){function e(t){(0,f.default)(this,e),this.root=r(t||{})}return(0,p.default)(e,[{key:"set",value:function(e,t){var n=this.getParent(e,!0);if(!n)return void o(this.root,t,null);var i=e[e.length-1],s=n.children;if(s[i])return void o(s[i],t,n);s[i]=r(t,n)}},{key:"get",value:function(e){if(e=e||[],e.length<1)return this.root.value;for(var t=this.root,n=void 0,i=void 0,r=0;r<e.length&&(i=e[r],n=t.children,n[i]);r++)t=n[i];return t&&t.protoValue}},{key:"getParent",value:function(e,t){return!e||e.length<1?null:e.length<2?this.root:e.slice(0,-1).reduce(function(e,n){if(!e)return e;var i=e.children;return!i[n]&&t&&(i[n]=r(null,e)),i[n]},this.root)}}]),e}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=i(r),s=n(28),a=i(s),l=n(101),u=i(l),c=n(66),f=i(c),d=n(151),p=i(d),h=n(45);t.default=function(){function e(e,n){return t.apply(this,arguments)}var t=(0,u.default)(o.default.mark(function e(t,n){var i,r,s,l,u,c,d,v,m,g,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=b.returnEntireTree,r=b.baseDoc,s=b.requestInterceptor,l=b.responseInterceptor,u=b.parameterMacro,c=b.modelPropertyMacro,d={pathDiscriminator:n,baseDoc:r,requestInterceptor:s,responseInterceptor:l,parameterMacro:u,modelPropertyMacro:c},v=(0,h.normalizeSwagger)({spec:t}),m=v.spec,e.next=5,(0,p.default)((0,a.default)({},d,{spec:m,allowMetaPatches:!0,skipNormalization:!0}));case 5:return g=e.sent,!i&&Array.isArray(n)&&n.length&&(g.spec=(0,f.default)(g.spec,n)||null),e.abrupt("return",g);case 8:case"end":return e.stop()}},e,this)}));return e}(),e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=t.pathName,i=t.method,r=t.operationId;return function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.execute((0,u.default)({spec:e.spec},(0,f.default)(e,"requestInterceptor","responseInterceptor","userFetch"),{pathName:n,method:i,parameters:t,operationId:r},o))}}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.makeExecute(e),n=v.mapTagOperations({v2OperationIdCompatibilityMode:e.v2OperationIdCompatibilityMode,spec:e.spec,cb:t}),i={};for(var r in n){i[r]={operations:{}};for(var o in n[r])i[r].operations[o]={execute:n[r][o]}}return{apis:i}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v.makeExecute(e);return{apis:v.mapTagOperations({v2OperationIdCompatibilityMode:e.v2OperationIdCompatibilityMode,spec:e.spec,cb:t})}}function a(e){var t=e.spec,n=e.cb,i=void 0===n?p:n,r=e.defaultTag,o=void 0===r?"default":r,s=e.v2OperationIdCompatibilityMode,a={},l={};return(0,d.eachOperation)(t,function(e){var n=e.pathName,r=e.method,u=e.operation;(u.tags?h(u.tags):[o]).forEach(function(e){if("string"==typeof e){var o=l[e]=l[e]||{},c=(0,d.opId)(u,n,r,{v2OperationIdCompatibilityMode:s}),f=i({spec:t,pathName:n,method:r,operation:u,operationId:c});if(a[c])a[c]++,o[""+c+a[c]]=f;else if(void 0!==o[c]){var p=a[c]||1;a[c]=p+1,o[""+c+a[c]]=f;var h=o[c];delete o[c],o[""+c+p]=h}else o[c]=f}})}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.self=void 0;var l=n(28),u=i(l);t.makeExecute=r,t.makeApisTagOperationsOperationExecute=o,t.makeApisTagOperation=s,t.mapTagOperations=a;var c=n(380),f=i(c),d=n(45),p=function(){return null},h=function(e){return Array.isArray(e)?e:[e]},v=t.self={mapTagOperations:a,makeExecute:r}},function(e,t,n){var i=n(381),r=n(384),o=r(function(e,t){return null==e?{}:i(e,t)});e.exports=o},function(e,t,n){function i(e,t){return r(e,t,function(t,n){return o(e,n)})}var r=n(382),o=n(160);e.exports=i},function(e,t,n){function i(e,t,n){for(var i=-1,a=t.length,l={};++i<a;){var u=t[i],c=r(e,u);n(c,u)&&o(l,s(u,e),c)}return l}var r=n(107),o=n(383),s=n(67);e.exports=i},function(e,t,n){function i(e,t,n,i){if(!a(e))return e;t=o(t,e);for(var u=-1,c=t.length,f=c-1,d=e;null!=d&&++u<c;){var p=l(t[u]),h=n;if(u!=f){var v=d[p];h=i?i(v,p,d):void 0,void 0===h&&(h=a(v)?v:s(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}var r=n(54),o=n(67),s=n(56),a=n(10),l=n(44);e.exports=i},function(e,t,n){function i(e){return s(o(e,void 0,r),e+"")}var r=n(385),o=n(129),s=n(130);e.exports=i},function(e,t,n){function i(e){return(null==e?0:e.length)?r(e,1):[]}var r=n(386);e.exports=i},function(e,t,n){function i(e,t,n,s,a){var l=-1,u=e.length;for(n||(n=o),a||(a=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?i(c,t-1,n,s,a):r(a,c):s||(a[a.length]=c)}return a}var r=n(88),o=n(387);e.exports=i},function(e,t,n){function i(e){return s(e)||o(e)||!!(a&&e&&e[a])}var r=n(23),o=n(82),s=n(6),a=r?r.isConcatSpreadable:void 0;e.exports=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.http,n=e.fetch,i=e.spec,r=e.operationId,o=e.pathName,s=e.method,a=e.parameters,l=e.securities,u=(0,m.default)(e,["http","fetch","spec","operationId","pathName","method","parameters","securities"]),c=t||n||P.default;o&&s&&!r&&(r=(0,z.legacyIdFromPathMethod)(o,s));var f=K.buildRequest((0,h.default)({spec:i,operationId:r,parameters:a,securities:l,http:c},u));return f.body&&((0,S.default)(f.body)||(0,D.default)(f.body))&&(f.body=(0,d.default)(f.body)),c(f)}function o(e){var t=e.spec,n=e.operationId,i=(e.securities,e.requestContentType,e.responseContentType),r=e.scheme,o=e.requestInterceptor,a=e.responseInterceptor,l=e.contextUrl,u=e.userFetch,c=(e.requestBody,e.server),f=e.serverVariables,d=e.http,p=e.parameters,v=e.parameterBuilders,m=(0,z.isOAS3)(t);v||(v=m?V.default:F.default);var g=d&&d.withCredentials?"include":"same-origin",y={url:"",credentials:g,headers:{},cookies:{}};o&&(y.requestInterceptor=o),a&&(y.responseInterceptor=a),u&&(y.userFetch=u);var x=(0,z.getOperationRaw)(t,n);if(!x)throw new W("Operation "+n+" not found");var _=x.operation,w=void 0===_?{}:_,q=x.method,C=x.pathName;if(y.url+=s({spec:t,scheme:r,contextUrl:l,server:c,serverVariables:f,pathName:C,method:q}),!n)return delete y.cookies,y;y.url+=C,y.method=(""+q).toUpperCase(),p=p||{};var S=t.paths[C]||{};i&&(y.headers.accept=i);var E=X([].concat(G(w.parameters)).concat(G(S.parameters)));E.forEach(function(e){var n=v[e.in],i=void 0;if("body"===e.in&&e.schema&&e.schema.properties&&(i=p),i=e&&e.name&&p[e.name],void 0===i?i=e&&e.name&&p[e.in+"."+e.name]:Y(e.name,E).length>1&&console.warn("Parameter '"+e.name+"' is ambiguous because the defined spec has more than one parameter with the name: '"+e.name+"' and the passed-in parameter values did not define an 'in' value."),null!==i){if(void 0!==e.default&&void 0===i&&(i=e.default),void 0===i&&e.required&&!e.allowEmptyValue)throw new Error("Required parameter "+e.name+" is not provided");if(m&&e.schema&&"object"===e.schema.type&&"string"==typeof i)try{i=JSON.parse(i)}catch(e){throw new Error("Could not parse object parameter value string as JSON")}n&&n({req:y,parameter:e,value:i,operation:w,spec:t})}});var D=(0,h.default)({},e,{operation:w});if(y=m?(0,B.default)(D,y):(0,U.default)(D,y),y.cookies&&(0,b.default)(y.cookies).length){var O=(0,b.default)(y.cookies).reduce(function(e,t){var n=y.cookies[t];return e+(e?"&":"")+T.default.serialize(t,n)},"");y.headers.Cookie=O}return y.cookies&&delete y.cookies,(0,k.mergeInQueryOrForm)(y),y}function s(e){return(0,z.isOAS3)(e.spec)?a(e):c(e)}function a(e){var t=e.spec,n=e.pathName,i=e.method,r=e.server,o=e.contextUrl,s=e.serverVariables,a=void 0===s?{}:s,c=(0,q.default)(t,["paths",n,(i||"").toLowerCase(),"servers"])||(0,q.default)(t,["paths",n,"servers"])||(0,q.default)(t,["servers"]),f="",d=null;if(r&&c&&c.length){var p=c.map(function(e){return e.url});p.indexOf(r)>-1&&(f=r,d=c[p.indexOf(r)])}(!f&&c&&c.length&&(f=c[0].url,d=c[0]),f.indexOf("{")>-1)&&u(f).forEach(function(e){if(d.variables&&d.variables[e]){var t=d.variables[e],n=a[e]||t.default,i=new RegExp("{"+e+"}","g");f=f.replace(i,n)}});return l(f,o)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=L.default.parse(e),i=L.default.parse(t),r=Q(n.protocol)||Q(i.protocol)||"",o=n.host||i.host,s=n.pathname||"",a=void 0;return a=r&&o?r+"://"+(o+s):s,"/"===a[a.length-1]?a.slice(0,-1):a}function u(e){for(var t=[],n=/{([^}]+)}/g,i=void 0;i=n.exec(e);)t.push(i[1]);return t}function c(e){var t=e.spec,n=e.scheme,i=e.contextUrl,r=void 0===i?"":i,o=L.default.parse(r),s=Array.isArray(t.schemes)?t.schemes[0]:null,a=n||s||Q(o.protocol)||"http",l=t.host||o.host||"",u=t.basePath||"",c=void 0;return c=a&&l?a+"://"+(l+u):u,"/"===c[c.length-1]?c.slice(0,-1):c}Object.defineProperty(t,"__esModule",{value:!0}),t.self=void 0;var f=n(62),d=i(f),p=n(28),h=i(p),v=n(389),m=i(v),g=n(11),b=i(g),y=n(14),x=i(y);t.execute=r,t.buildRequest=o,t.baseUrl=s;var _=n(59),w=(i(_),n(66)),q=i(w),C=n(390),S=i(C),E=n(6),D=i(E),O=n(111),A=(i(O),n(92)),L=i(A),I=n(391),T=i(I),k=n(61),P=i(k),M=n(164),R=i(M),N=n(392),F=i(N),j=n(393),V=i(j),H=n(398),B=i(H),$=n(399),U=i($),z=n(45),G=function(e){return Array.isArray(e)?e:[]},W=(0,R.default)("OperationNotFoundError",function(e,t,n){this.originalError=n,(0,x.default)(this,t||{})}),Y=function(e,t){return t.filter(function(t){return t.name===e})},X=function(e){var t={};e.forEach(function(e){t[e.in]||(t[e.in]={}),t[e.in][e.name]=e});var n=[];return(0,b.default)(t).forEach(function(e){(0,b.default)(t[e]).forEach(function(i){n.push(t[e][i])})}),n},K=t.self={buildRequest:o},Q=function(e){return e?e.replace(/\W/g,""):null}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}},function(e,t,n){function i(e){if(!s(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var r=n(21),o=n(89),s=n(13),a="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=i},function(e,t,n){"use strict";function i(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},r=e.split(l),a=i.decode||s,u=0;u<r.length;u++){var c=r[u],f=c.indexOf("=");if(!(f<0)){var d=c.substr(0,f).trim(),p=c.substr(++f,c.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),void 0==n[d]&&(n[d]=o(p,a))}}return n}function r(e,t,n){var i=n||{},r=i.encode||a;if("function"!=typeof r)throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");var o=r(t);if(o&&!u.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=i.maxAge){var l=i.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");s+="; Max-Age="+Math.floor(l)}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain="+i.domain}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");s+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}return s}function o(e,t){try{return t(e)}catch(t){return e}}t.parse=i,t.serialize=r;var s=decodeURIComponent,a=encodeURIComponent,l=/; */,u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},function(e,t,n){"use strict";function i(e){var t=e.req,n=e.value;t.body=n}function r(e){var t=e.req,n=e.value,i=e.parameter;(n||i.allowEmptyValue)&&(t.form=t.form||{},t.form[i.name]={value:n,allowEmptyValue:i.allowEmptyValue,collectionFormat:i.collectionFormat})}function o(e){var t=e.req,n=e.parameter,i=e.value;t.headers=t.headers||{},void 0!==i&&(t.headers[n.name]=i)}function s(e){var t=e.req,n=e.value,i=e.parameter;t.url=t.url.replace("{"+i.name+"}",encodeURIComponent(n))}function a(e){var t=e.req,n=e.value,i=e.parameter;if(t.query=t.query||{},!1===n&&"boolean"===i.type&&(n="false"),0===n&&["number","integer"].indexOf(i.type)>-1&&(n="0"),n)t.query[i.name]={collectionFormat:i.collectionFormat,value:n};else if(i.allowEmptyValue&&void 0!==n){var r=i.name;t.query[r]=t.query[r]||{},t.query[r].allowEmptyValue=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={body:i,header:o,query:a,path:s,formData:r},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.req,n=e.value,i=e.parameter,r=i.name,o=i.style,s=i.explode,a=(0,p.default)({key:i.name,value:n,style:o||"simple",explode:s||!1,escape:!0});t.url=t.url.replace("{"+r+"}",a)}function o(e){var t=e.req,n=e.value,i=e.parameter;if(t.query=t.query||{},!1===n&&(n="false"),0===n&&(n="0"),n){var r=void 0===n?"undefined":(0,f.default)(n);if("deepObject"===i.style)(0,u.default)(n).forEach(function(e){var r=n[e];t.query[i.name+"["+e+"]"]={value:(0,p.default)({key:e,value:r,style:"deepObject",escape:i.allowReserved?"unsafe":"reserved"}),skipEncoding:!0}});else if("object"!==r||Array.isArray(n)||"form"!==i.style&&i.style||!i.explode&&void 0!==i.explode)t.query[i.name]={value:(0,p.default)({key:i.name,value:n,style:i.style||"form",explode:void 0===i.explode||i.explode,escape:i.allowReserved?"unsafe":"reserved"}),skipEncoding:!0};else{var o=(0,u.default)(n);o.forEach(function(e){var r=n[e];t.query[e]={value:(0,p.default)({key:e,value:r,style:i.style||"form",escape:i.allowReserved?"unsafe":"reserved"}),skipEncoding:!0}})}}else if(i.allowEmptyValue&&void 0!==n){var s=i.name;t.query[s]=t.query[s]||{},t.query[s].allowEmptyValue=!0}}function s(e){var t=e.req,n=e.parameter,i=e.value;t.headers=t.headers||{},h.indexOf(n.name.toLowerCase())>-1||void 0!==i&&(t.headers[n.name]=(0,p.default)({key:n.name,value:i,style:n.style||"simple",explode:void 0!==n.explode&&n.explode,escape:!1}))}function a(e){var t=e.req,n=e.parameter,i=e.value;t.headers=t.headers||{};var r=void 0===i?"undefined":(0,f.default)(i);if("undefined"!==r){var o="object"===r&&!Array.isArray(i)&&n.explode?"":n.name+"=";t.headers.Cookie=o+(0,p.default)({key:n.name,value:i,escape:!1,style:n.style||"form",explode:void 0!==n.explode&&n.explode})}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(11),u=i(l),c=n(18),f=i(c),d=n(394),p=i(d);t.default={path:r,query:o,header:s,cookie:a};var h=["accept","authorization","content-type"];e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.escape,i=arguments[2];return"number"==typeof e&&(e=e.toString()),"string"==typeof e&&e.length&&n?i?JSON.parse(e):(0,v.stringToCharArray)(e).map(function(e){return g(e)?e:m(e)&&"unsafe"===n?e:((0,h.default)(e)||[]).map(function(e){return("0"+e.toString(16).toUpperCase()).slice(-2)}).map(function(e){return"%"+e}).join("")}).join(""):e}function o(e){var t=e.key,n=e.value,i=e.style,o=e.explode,s=e.escape,a=function(e){return r(e,{escape:s})};if("simple"===i)return n.map(function(e){return a(e)}).join(",");if("label"===i)return"."+n.map(function(e){return a(e)}).join(".");if("matrix"===i)return n.map(function(e){return a(e)}).reduce(function(e,n){return!e||o?(e||"")+";"+t+"="+n:e+","+n},"");if("form"===i){var l=o?"&"+t+"=":",";return n.map(function(e){return a(e)}).join(l)}if("spaceDelimited"===i){var u=o?t+"=":"";return n.map(function(e){return a(e)}).join(" "+u)}if("pipeDelimited"===i){var c=o?t+"=":"";return n.map(function(e){return a(e)}).join("|"+c)}}function s(e){var t=e.key,n=e.value,i=e.style,o=e.explode,s=e.escape,a=function(e){return r(e,{escape:s})},l=(0,u.default)(n);return"simple"===i?l.reduce(function(e,t){var i=a(n[t]),r=o?"=":",";return(e?e+",":"")+t+r+i},""):"label"===i?l.reduce(function(e,t){var i=a(n[t]),r=o?"=":".";return(e?e+".":".")+t+r+i},""):"matrix"===i&&o?l.reduce(function(e,t){var i=a(n[t]);return(e?e+";":";")+t+"="+i},""):"matrix"===i?l.reduce(function(e,i){var r=a(n[i]);return(e?e+",":";"+t+"=")+i+","+r},""):"form"===i?l.reduce(function(e,t){var i=a(n[t]);return(e?e+(o?"&":","):"")+t+(o?"=":",")+i},""):void 0}function a(e){var t=e.key,n=e.value,i=e.style,o=e.escape,s=function(e){return r(e,{escape:o})};return"simple"===i?s(n):"label"===i?"."+s(n):"matrix"===i?";"+t+"="+s(n):"form"===i?s(n):"deepObject"===i?s(n):void 0}Object.defineProperty(t,"__esModule",{value:!0});var l=n(11),u=i(l),c=n(18),f=i(c);t.encodeDisallowedCharacters=r,t.default=function(e){var t=e.value;return Array.isArray(t)?o(e):"object"===(void 0===t?"undefined":(0,f.default)(t))?s(e):a(e)};var d=n(395),p=(i(d),n(396)),h=i(p),v=n(397),m=function(e){return":/?#[]@!$&'()*+,;=".indexOf(e)>-1},g=function(e){return/^[a-z0-9\-._~]+$/i.test(e)}},function(e,t,n){"use strict";var i=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})};e.exports=i},function(e,t){e.exports=function(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<e.length){var r=e.charCodeAt(n+1);if(r>=56320&&r<=57343){var o=1024*(i-55296)+r-56320+65536;t.push(240+Math.floor(o/64/64/64),128+Math.floor(o/64/64)%64,128+Math.floor(o/64)%64,128+o%64),n+=1;continue}}i>=2048?t.push(224+Math.floor(i/64/64),128+Math.floor(i/64)%64,128+i%64):i>=128?t.push(192+Math.floor(i/64),128+i%64):t.push(i)}return t}},function(e,t){!function(){function e(e,t){function n(e,t){return i(e,new RegExp(s.source,"g"),t)}function i(e,t,n){if(!r(e))return n;var i=0,o=0;do{var s=t.exec(e);if(null===s)break;if(!(o<n))break;i+=s[0].length,o++}while(null!==s);return i>=e.length?-1:i}function r(e){return a.test(e)}function o(e,n){void 0==e&&(e=["[^]"]),void 0==n&&(n="g");var i=[];return t.forEach(function(e){i.push(e.source)}),i.push(s.source),i=i.concat(e),new RegExp(i.join("|"),n)}e.findCharIndex=function(e,t){if(t>=e.length)return-1;if(!r(e))return t;for(var n=o(),i=0;null!==n.exec(e)&&!(n.lastIndex>t);)i++;return i},e.findByteIndex=function(e,t){return t>=this.length(e)?-1:i(e,o(),t)},e.charAt=function(e,t){var n=this.findByteIndex(e,t);if(n<0||n>=e.length)return"";var i=e.slice(n,n+8),r=a.exec(i);return null===r?i[0]:r[0]},e.charCodeAt=function(e,t){var i=n(e,t);if(i<0)return NaN;var r=e.charCodeAt(i);if(55296<=r&&r<=56319)return 1024*(r-55296)+(e.charCodeAt(i+1)-56320)+65536;return r},e.fromCharCode=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):String.fromCharCode(e)},e.indexOf=function(e,t,n){void 0!==n&&null!==n||(n=0);var i=this.findByteIndex(e,n),r=e.indexOf(t,i);return r<0?-1:this.findCharIndex(e,r)},e.lastIndexOf=function(e,t,n){var i;if(void 0===n||null===n)i=e.lastIndexOf(t);else{var r=this.findByteIndex(e,n);i=e.lastIndexOf(t,r)}return i<0?-1:this.findCharIndex(e,i)},e.slice=function(e,t,n){var i,r=this.findByteIndex(e,t);return r<0&&(r=e.length),void 0===n||null===n?i=e.length:(i=this.findByteIndex(e,n))<0&&(i=e.length),e.slice(r,i)},e.substr=function(e,t,n){return t<0&&(t=this.length(e)+t),void 0===n||null===n?this.slice(e,t):this.slice(e,t,t+n)},e.substring=e.slice,e.length=function(e){return this.findCharIndex(e,e.length-1)+1},e.stringToCodePoints=function(e){for(var t=[],n=0;n<e.length&&(codePoint=this.charCodeAt(e,n),codePoint);n++)t.push(codePoint);return t},e.codePointsToString=function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.fromCharCode(e[n]));return t.join("")},e.stringToBytes=function(e){for(var t=[],n=0;n<e.length;n++){for(var i=e.charCodeAt(n),r=[];i>0;)r.push(255&i),i>>=8;1==r.length&&r.push(0),t=t.concat(r.reverse())}return t},e.bytesToString=function(e){for(var t=[],n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o=i<<8|r;t.push(String.fromCharCode(o))}return t.join("")},e.stringToCharArray=function(e){var t=[],n=o();do{var i=n.exec(e);if(null===i)break;t.push(i[0])}while(null!==i);return t};var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,a=o([],"")}var n;void 0!==t&&null!==t?n=t:"undefined"!=typeof window&&null!==window&&(void 0!==window.UtfString&&null!==window.UtfString||(window.UtfString={}),n=window.UtfString);var i=/\uD83C[\uDDE6-\uDDFF]\uD83C[\uDDE6-\uDDFF]/;n.visual={},e(n,[]),e(n.visual,[i])}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.request,n=e.securities,i=void 0===n?{}:n,r=e.operation,o=void 0===r?{}:r,s=e.spec,a=(0,d.default)({},t),l=i.authorized,u=void 0===l?{}:l,f=o.security||s.security||[],p=u&&!!(0,c.default)(u).length,v=(0,h.default)(s,["components","securitySchemes"])||{};return a.headers=a.headers||{},a.query=a.query||{},(0,c.default)(i).length&&p&&f&&(!Array.isArray(o.security)||o.security.length)?(f.forEach(function(e,t){for(var n in e){var i=u[n],r=v[n];if(i){var o=i.value||i,s=r.type;if(i)if("apiKey"===s)"query"===r.in&&(a.query[r.name]=o),"header"===r.in&&(a.headers[r.name]=o),"cookie"===r.in&&(a.cookies[r.name]=o);else if("http"===s){if("basic"===r.scheme){var l=o.username,c=o.password,f=(0,m.default)(l+":"+c);a.headers.Authorization="Basic "+f}"bearer"===r.scheme&&(a.headers.Authorization="Bearer "+o)}else if("oauth2"===s){var d=i.token||{},p=d.access_token,h=d.token_type;h&&"bearer"!==h.toLowerCase()||(h="Bearer"),a.headers.Authorization=h+" "+p}}}}),a):t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(62),s=i(o),a=n(18),l=i(a),u=n(11),c=i(u);t.default=function(e,t){var n=e.operation,i=e.requestBody,o=e.securities,a=e.spec,u=e.attachContentTypeForEmptyPayload,f=e.requestContentType;t=r({request:t,securities:o,operation:n,spec:a});var d=n.requestBody||{},p=(0,c.default)(d.content||{}),h=f&&p.indexOf(f)>-1;if(i||u){if(f&&h)t.headers["Content-Type"]=f;else if(!f){var v=p[0];v&&(t.headers["Content-Type"]=v,f=v)}}else f&&h&&(t.headers["Content-Type"]=f);return i&&(f?p.indexOf(f)>-1&&("application/x-www-form-urlencoded"===f||0===f.indexOf("multipart/")?"object"===(void 0===i?"undefined":(0,l.default)(i))?(t.form={},(0,c.default)(i).forEach(function(e){var n=i[e],r=void 0,o=void 0;"undefined"!=typeof File&&(o=n instanceof File),"undefined"!=typeof Blob&&(o=o||n instanceof Blob),void 0!==g.Buffer&&(o=o||g.Buffer.isBuffer(n)),r="object"!==(void 0===n?"undefined":(0,l.default)(n))||o?n:Array.isArray(n)?n.toString():(0,s.default)(n),t.form[e]={value:r}})):t.form=i:t.body=i):t.body=i),t},t.applySecurities=r;var f=n(59),d=i(f),p=n(66),h=i(p),v=n(111),m=i(v),g=n(43)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.request,n=e.securities,i=void 0===n?{}:n,r=e.operation,o=void 0===r?{}:r,a=e.spec,u=(0,c.default)({},t),f=i.authorized,d=void 0===f?{}:f,p=i.specSecurity,h=void 0===p?[]:p,v=o.security||h,m=d&&!!(0,s.default)(d).length,g=a.securityDefinitions;return u.headers=u.headers||{},u.query=u.query||{},(0,s.default)(i).length&&m&&v&&(!Array.isArray(o.security)||o.security.length)?(v.forEach(function(e,t){for(var n in e){var i=d[n];if(i){var r=i.token,o=i.value||i,s=g[n],a=s.type,c=s["x-tokenName"]||"access_token",f=r&&r[c],p=r&&r.token_type;if(i)if("apiKey"===a){var h="query"===s.in?"query":"headers";u[h]=u[h]||{},u[h][s.name]=o}else"basic"===a?o.header?u.headers.authorization=o.header:(o.base64=(0,l.default)(o.username+":"+o.password),u.headers.authorization="Basic "+o.base64):"oauth2"===a&&f&&(p=p&&"bearer"!==p.toLowerCase()?p:"Bearer",u.headers.authorization=p+" "+f)}}}),u):t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),s=i(o);t.default=function(e,t){var n=e.spec,i=e.operation,o=e.securities,s=e.requestContentType,a=e.attachContentTypeForEmptyPayload;if(t=r({request:t,securities:o,operation:i,spec:n}),t.body||t.form||a)s?t.headers["Content-Type"]=s:Array.isArray(i.consumes)?t.headers["Content-Type"]=i.consumes[0]:Array.isArray(n.consumes)?t.headers["Content-Type"]=n.consumes[0]:i.parameters&&i.parameters.filter(function(e){return"file"===e.type}).length?t.headers["Content-Type"]="multipart/form-data":i.parameters&&i.parameters.filter(function(e){return"formData"===e.in}).length&&(t.headers["Content-Type"]="application/x-www-form-urlencoded");else if(s){var l=i.parameters&&i.parameters.filter(function(e){return"body"===e.in}).length>0,u=i.parameters&&i.parameters.filter(function(e){return"formData"===e.in}).length>0;(l||u)&&(t.headers["Content-Type"]=s)}return t},t.applySecurities=r;var a=n(111),l=i(a),u=n(59),c=i(u),f=n(61);i(f)}])})},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){var t,n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function s(e,t){for(var n=e.length;n<t;n++)e="0"+e;return e}function a(e,t){var n=e.getHours(),i=e.getDay()-1;if(t){n%=12;n||(n=12)}i<0&&(i=6);return{year:e.getFullYear(),month:e.getMonth(),day:i,date:e.getDate(),h:n,m:e.getMinutes(),s:e.getSeconds(),f:e.getMilliseconds(),t:e.getHours()>=12?"pm":"am"}}function l(e){var t=e.toString().split(".");if(!t[1])return 0;t=Number("0."+t[1]);return t}function u(e){var t=e,n=24*l(t),i=60*l(n),r=60*l(i),o=1e3*l(r);return{d:Math.floor(t),h:Math.floor(n),m:Math.floor(i),s:Math.floor(r),f:Math.round(o)}}function c(e,t){var n=u(e),i=n.d,r=n.h,o=n.m,s=n.s,a=n.f,l=0,c;if(/w+|t+/gi.test(t)){c=new Date(1899,11,30+Math.floor(e),0,0,86400*(e-Math.floor(e)));Number.isNaN(+c.getTime())&&(c=null)}/D+/gi.test(t)||(r+=24*i);/h+/gi.test(t)||(o+=60*r);/m+/gi.test(t)||(s+=60*o);if(/w+/gi.test(t)){l=c?c.getDay()-1:0;l<0&&(l=6)}return{year:0,month:0,day:l,date:i,h:r,m:o,s:s,f:a,t:c?c.getHours()>=12?"pm":"am":""}}function f(e,t){return{"Y+|y+":{Y:Number((t.year+"").slice(-2))+"",YY:s((t.year+"").slice(-2),2),YYY:s((t.year+"").slice(-3),3),def:function e(n){return s(t.year+"",n.length)}},"M+":{M:t.month+1,MM:s(t.month+1+"",2),MMM:e.locale_months_abbr[t.month],def:e.locale_months[t.month]},"W+|w+":{W:t.day,WW:s(t.day+"",2),WWW:e.locale_days_abbr[t.day],def:e.locale_days[t.day]},"D+|d+":{D:t.date,def:function e(n){return s(t.date+"",n.length)}},"h+|H+":{h:t.h,def:function e(n){return s(t.h+"",n.length)}},"m+":{m:t.m,def:function e(n){return s(t.m+"",n.length)}},"s+|S+":{s:t.s,def:function e(n){return s(t.s+"",n.length)}},"f+|F+":{def:function e(n){var i=t.f+"",r=n.length-i.length;if(r>0)for(var o=0;o<r;o++)i+="0";else r<0&&(i=i.slice(0,n.length));return i}},"t{1,2}|T{1,2}":{def:function e(n){var i=t.t;n[0].toUpperCase()===n[0]&&(i=i.toUpperCase());i=i.slice(0,n.length);return i}}}}t=e.extend({init:function e(t,s){var a=t||{};a.qCalendarStrings||(a.qCalendarStrings={qLongDayNames:n,qDayNames:i,qLongMonthNames:r,qMonthNames:o});this.localeInfo=a;this.locale_days=a.qCalendarStrings.qLongDayNames.slice();this.locale_days_abbr=a.qCalendarStrings.qDayNames.slice();this.locale_months=a.qCalendarStrings.qLongMonthNames.slice();this.locale_months_abbr=a.qCalendarStrings.qMonthNames.slice();this.pattern=s},clone:function e(){var n=new t(this.localeInfo,this.pattern);n.subtype=this.subtype;return n},format:function e(t,n){n||(n=this.pattern?this.pattern:"YYYY-MM-DD hh:mm:ss");n=n.replace(/\[.+\]|\[|\]/g,"");var i=/t+/gi.test(n);var r;if(t instanceof Date)r=a(t,i);else{if(t<0){t=-t;n="-"+n}r=c(t,n)}var o=f(this,r);var s=[];for(var l in o)s.push(l);var u=new RegExp(s.join("|"),"g");var d=n.replace(u,function(e){var t;var n;for(n in o){t=new RegExp(n);if(t.test(e))break}if(!t)return"";var i;for(var r in o[n])if(r===e||r.toLowerCase()===e){i=o[n][r];"undefined"===typeof i&&(i=o[n][r.toLowerCase()]);break}"undefined"===typeof i&&(i=o[n].def);"function"===typeof i&&(i=i(e));return i});return d}});t.parseInterval=u;return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(109)],r=function(e,t){function n(e,t,i,r,o){var s=l(t,i,r);if("."===s.charAt(0)){t.shift();return e.apply(null,[n(e,t,i,r,o)].concat(o))}return s}function i(e,t,i,r,o,s){var l=a(""===t?null:t.split("."),o);return n(e,l,i,r,s)}var r={shift:function e(n,i){var r=new t(n);var o=r.isDark()?parseInt(i):-parseInt(i);return new t(r.shiftLuminance(o)).toHex()},fontSize:function e(t,n){var e=parseInt(t);e*=parseInt(n)/100;return Math.ceil(e)+"px"},inherit:function e(t){return t},alpha:function e(n,i){var r="transparent"===n.toLowerCase()?new t("rgba(0,0,0,0)"):new t(n);r.setAlpha(i/100);return r.toRGBA()}};function o(e,t){var n=e;for(var i=0;i<t.length;i++){if(!n[t[i]])return null;n=n[t[i]]}return n}function s(e,t,n){var o=e.substring(1).split("(")[0];var s=/\(\s*([^)]+?)\s*\)/.exec(e);s=s&&s[1]?s[1].split(/\s*,\s*/):[];try{return i(r[o],t,n,this._theme,this._basePathSteps,s)}catch(e){console.warn("Cound not execute function: "+o+", function might not be implemented or arguments are incorrect.")}}function a(e,t){var n=[];var i,r;if(e){var o=e.length;while(o>=0){i=t.slice();r=i.length;while(r>=0){n.push(i.concat(e));i.pop();r--}e.pop();o--}}else{i=t.slice();r=i.length;while(r>=0){n.push(i.concat());i.pop();r--}}return n}function l(e,t,n){for(var i=0;i<e.length;i++){var r=o(n,e[i]);if(null!==r&&r[t])return r[t]}}function u(e,t,n){var i;if(""===e)i=a(null,n);else{var r=e.split(".");i=a(r,n)}return l(i,t,this._theme)}var c=e.extend("ThemeStyleResolver",{init:function e(t,n,i){this._basePath=t;this._basePathSteps=t.split(".");this._theme=i;this._id=n;this.layoutMap={1:"spark",3:"xsmall",7:"small",15:"medium",31:"full",m:"mobile"}},setTheme:function e(t,n){this._theme=n;this._id=t},setBasePath:function e(t){this._basePath=t;this._basePathSteps=t.split(".")},getStyle:function e(t,n,i){var r=void 0===i||i;var o=p(f(this._id,this._basePath,t,n));if(r&&void 0!==o)return o;var a=this._basePathSteps.concat();var l=u.call(this,t,n,a);l&&l.charAt&&"."===l.charAt(0)&&(l=s.call(this,l,t,n));r&&l&&d(f(this._id,this._basePath,t,n),l);return l},scaleFontSize:function e(t,n,i){if("string"===typeof n)switch(n){case"large":n=31;break;case"medium":n=15;break;case"small":n=7;break;case"tiny":n=1;break;default:n=15}var r={spark:1,xsmall:.9,small:.95,full:".discrete"===i?1:1.2};return r[this.layoutMap[n]]?Math.floor(parseInt(t)*r[this.layoutMap[n]])+"px":parseInt(t)+"px"}});function f(){var e="";for(var t=0;t<arguments.length;t++)arguments[t]&&arguments[t].length&&(e+=(""!==e?".":"")+arguments[t]);return e}c._cache={};function d(e,t){c._cache[e]=t}function p(e){return c._cache[e]}c.clearCache=function(){c._cache={}};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(215),n(93),n(120),n(91),n(107),n(90),n(194),n(89),n(228)],r=function(e,t,n,i,r,o,s,a,l){var u={};function c(e,t){return e.getList().then(function(n){return n.getLayout().then(function(n){var i=[],a=false;n.forEach(function(e){if(!e.qMeta.published){i.push(e.qData.title);e.qData.title===t.title&&(a=true)}});var l=s.nextIndex(i,t.title);(1!==l||a)&&(t.title=t.title+" ("+l+")");t.title=o.crop(t.title,r.name);return e.create(t)})})}u.addSheet=function(e){return c(n,{title:i.get("SheetItem.myNewSheet"),rank:e})};u.addStory=function(t){return c(e,{title:i.get("Storytelling.CreateNew"),rank:t})};function f(e,t){var n=a();if(l.duplicatingItem)return n.reject();l.setDuplicatingItem(true);e.clone().then(function(e){e.getProperties().then(function(i){var a={},u=0,c=i.qMetaDef.title;t.getList().then(function(t){t.getLayout().then(function(t){var f=[],d=[];t.forEach(function(e){if(!e.qMeta.published){f.push(e);d.push(e.qData.title)}});f.forEach(function(e){e.qData.rank>u&&(u=e.qData.rank)});var p=s.generateUniqueName(d,c);p=o.crop(p,r.name);l.newRank=u+1;a=o.extend(true,i,{qMetaDef:{title:p},rank:l.newRank});l.setDuplicatingItem(false);e.setProperties(a).then(function(){n.resolve(e)})})})})});return n.promise}function d(e,n){return t.getApp().then(function(t){return e.draft(t).then(function(e){return e.getProperties().then(function(t){var i={},r=0;return n.getList().then(function(n){return n.getLayout().then(function(n){var s=n.filter(function(e){return!e.qMeta.published});s.forEach(function(e){e.qData.rank>r&&(r=e.qData.rank)});i=o.extend(true,t,{rank:r+1});return e.setProperties(i).then(function(){return e.id})})})})})})}u.duplicateSheet=function(e){return f(e,n)};u.duplicateStory=function(t){return f(t,e)};u.draftSheet=function(e){return d(e,n)};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(90),n(93),n(49)],r=function(e,t,n,i){var r={"":e.get("AlternateState.InheritedState"),$:e.get("AlternateState.DefaultState")};function o(e){return{value:e,translation:""===e||"$"?r[e]:e}}function s(e){var n=e.slice();for(var i=0;i<n.length;i++){var r=n[i];n[i]=t.ellipseText(r,80)}return n}var a=function t(n,i){return n.localeCompare(i,e.language)};function l(){return n.getApp().then(function(e){return e.getAppLayout().then(function(e){var t=s(e.qStateNames.sort(a));return["","$"].concat(t).map(o)})})}var u=false;function c(e){return"masterobject"===e.qInfo.qType}return{type:"items",translation:"Common.AlternateStates",items:{alternateState:{ref:"qStateName",type:"string",translation:"AlternateState.SelectState",component:"dropdown",defaultValue:"",options:function e(t){return l().then(function(e){u=e.length>1&&i.getFlag("ALT_STATE_ONE")&&!c(t);return e})},readOnly:function e(){return!u}},allowShowDisclaimner:{component:"text",translation:"AlternateState.MasterItem.Disclaimer",style:"hint",show:function e(t){var n=t.qInfo.qType;return!("masterobject"===n||"sheet"===n)}}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(92),n(102),n(90)],r=function(e,t,n,i){var r,o={enabled:true,delay:50};r=t.extend("Throttle",{init:function e(){this.options={};this.ongoingRequests=[];this.queuedRequests=[];this.recentRequests=[];this.resolvedRequests=[];this._debounceTimer=null;this._latestResolvedRequestedAt=-1;n.mixin(this);this.notification("Send");this.notification("Cancel");this.setOptions({})},destroy:function e(){this.clear();this.recentRequests=[];this.resolvedRequests=[];n.release(this)},setOptions:function e(t){this.options=i.extend(true,{},o,this.options,t);this.enabled=this.options.enabled||false;this.delay=this.options.delay||-1},clear:function e(){clearTimeout(this._debounceTimer);var t;while(this.queuedRequests.length){t=this.queuedRequests.pop();t.dfd.reject()}while(this.ongoingRequests.length){t=this.ongoingRequests.pop();t.dfd.reject()}},queue:function t(n){var i=this.enabled?this.delay:-1,r=Date.now(),o={data:n,dfd:e(),wrapper:e(),requestedAt:r},a=Math.max(this._getAvgResolutionTime(),i),l=i<1,u=this.recentRequests.length<1,c=u||r-this.recentRequests.slice(-1)[0].requestedAt>a,f=r>this._latestResolvedRequestedAt+i;l||u||c||f?s.apply(this,[o,0]):s.apply(this,[o,Math.min(i,1e3)]);this.recentRequests.push(o);this.recentRequests.length>10&&(this.recentRequests=this.recentRequests.slice(-10));return o.dfd.promise},updateResolutionTime:function e(){this._latestResolvedRequestedAt=Date.now()},_getAvgResolutionTime:function e(){var t;if(this.resolvedRequests.length){t=0;this.resolvedRequests.forEach(function(e){t+=e.respondedAt-e.sentAt});t/=this.resolvedRequests.length}return t}});function s(e,t){var n=this;this.queuedRequests.push(e);clearTimeout(this._debounceTimer);t>=10?this._debounceTimer=setTimeout(function(){a.call(n)},t):a.call(n)}function a(){if(this.ongoingRequests.length){this.waitingForResponse=true;return}var e=this.queuedRequests.pop();e&&l.call(this,e);while(this.queuedRequests.length){e=this.queuedRequests.shift();e.dfd.reject()}}function l(e){this.waitingForResponse=false;this.ongoingRequests.push(e);var t=this,n=e.wrapper;e.sentAt=Date.now();n.promise.then(function(){t.ongoingRequests.splice(t.ongoingRequests.indexOf(e),1);e.respondedAt=Date.now();t.resolvedRequests.push({sentAt:e.sentAt,respondedAt:e.respondedAt,requestedAt:e.requestedAt});t.resolvedRequests.length>10&&(t.resolvedRequests=t.resolvedRequests.slice(-10));e.requestedAt>t._latestResolvedRequestedAt?e.dfd.resolve.apply(e.dfd,[].slice.call(arguments)):e.dfd.reject();t._latestResolvedRequestedAt=e.requestedAt},function(){t.ongoingRequests.splice(t.ongoingRequests.indexOf(e),1);e.respondedAt=Date.now();e.dfd.reject.apply(e.dfd,[].slice.call(arguments))}).finally(function(){t.waitingForResponse&&a.call(t)});this.Send.emit(e.data,n)}return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(265),n(104)],r=function(e,t){var n;function i(e,t){var n,i={};for(n in e)"qSubNodes"!==n&&e.hasOwnProperty(n)&&(i[n]=e[n]);t.push(i);return i}function r(e,t,o){var s,a,l,u=[],c=[],f=0,d=0;if(o.length){f=o[0].qUp||0;d=o[o.length-1].qDown||0}for(s=0;s<o.length;++s){a=o[s];a.qSubNodes.length>0&&(c=r(e,t,a.qSubNodes));l=null;if(0===a.qSubNodes.length&&n>=e&&n<=e+t||c.length>0){l=i(a,u);void 0!==l.qUp&&1===u.length&&(l.qUp=f+s);l.qSubNodes=c}0===a.qSubNodes.length&&n++;if(n===e+t){l&&void 0!==l.qDown&&(l.qDown=d+(o.length-1-s));break}}return u}function o(e,t,i){n=0;return r(e,t,i)}var s,a=new t(0,0,0,0),l=new t(0,0,0,0);s=e.extend("PivotCubeSlicer",{init:function e(){this._super();this.requestedAreas=[]},getPage:function e(n){var i,r,o=[],s;for(r=0;r<this.pages.length;r++){i=this.pages[r].qArea;a.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);l.set(i.qLeft,i.qTop,i.qWidth,i.qHeight);s=l.intersection(a,true);o.push({coverage:s?s.clone():new t(0,0,0,0),idx:r});if(i.qLeft<=n.qLeft&&i.qLeft+i.qWidth>=n.qLeft+n.qWidth&&i.qTop<=n.qTop&&i.qTop+i.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[r])}o.sort(function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height});if(o[0].coverage.height>0&&o[0].coverage.width>0)return this._extract(n,this.pages[o[0].idx]);return{qLeft:[],qTop:[],qData:[],qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0}}},_extract:function e(t,n){var i,r;a.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);l.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var s=a.intersection(l,true),u,c,f;if(!s)return{qLeft:[],qTop:[],qData:[],qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0}};f=Math.max(0,t.qTop-n.qArea.qTop);c=Math.max(0,t.qLeft-n.qArea.qLeft);u=n.qData.slice(f,f+s.height).map(function(e){return e.slice(c,c+s.width)});i=o(f,s.height,n.qLeft);r=o(c,s.width,n.qTop);return{qLeft:i,qTop:r,qData:u,qArea:{qTop:s.y,qLeft:s.x,qWidth:s.width,qHeight:s.height}}}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(49)],r=function(e,t){var n={};function i(e){e&&delete n[e]}function r(t,i){if(!t)throw new Error("Missing type: "+t);var r={translationKey:"",icon:"",iconChar:"e",isLibraryItem:true,visible:true};n[t]=e.extend(r,i)}function o(t,n){if(!n.icon)throw new Error("Missing icon for type: "+t);if(!n.iconChar)throw new Error("Missing iconChar for type: "+t);if(!n.iconPath)throw new Error("Missing iconPath for type: "+t);if(false!==n.isLibraryItem&&!n.descriptionKey)throw new Error("Missing descriptionKey for type: "+t);var i={name:t,template:t,author:"Qlik",isThirdParty:false};r(t,e.extend(i,n))}function s(t,n){var i={name:t,description:n.description||"",template:t,icon:"puzzle",iconChar:"puzzle",iconPath:"M14.5,9 L13,9 L13,3.3 C13,3.1 12.9,3 12.7,3 L8,3 L8,1.5 C8,0.7 7.3,0 6.5,0 C5.7,0 5,0.7 5,1.5 L5,3 L0.3,3 C0.1,3 0,3.1 0,3.3 L0,9 L1.5,9 C2.3,9 3,9.7 3,10.5 C3,11.3 2.3,12 1.5,12 L0,12 L0,15.7 C0,15.9 0.1,16 0.3,16 L5,16 L5,14.5 C5,13.7 5.7,13 6.5,13 C7.3,13 8,13.7 8,14.5 L8,16 L12.7,16 C12.9,16 13,15.9 13,15.7 L13,12 L14.5,12 C15.3,12 16,11.3 16,10.5 C16,9.7 15.3,9 14.5,9 Z",isThirdParty:true};var o=e.extend(i,n);"bar-chart-vertical"===o.icon&&(o.icon="bar-chart");r(t,o)}t.getFlag("DISABLE_AUTO_CHART")||o("auto-chart",{descriptionKey:"Template.preview.description.auto-chart",translationKey:"Object.AutoChart",icon:"effects",iconChar:"effects",iconPath:"M-3.26849658e-13,12.4318748 L11.4318748,1 L14.0699997,3.63812494 L2.63812494,15.0699997 L-3.26849658e-13,12.4318748 Z M2.63812494,14.1026872 L4.3968749,12.4318748 L2.63812494,10.6731248 L0.967312479,12.4318748 L2.63812494,14.1026872 Z M11.4318748,5.3968749 L13.1906247,3.63812494 L11.4318748,1.87937498 L9.67312479,3.63812494 L11.4318748,5.3968749 Z M5.62799988,2.93462496 L4.7486249,2.67081246 L5.54006238,2.14318748 L5.54006238,1.175875 L6.24356236,1.70349998 L7.12293735,1.43968749 L6.85912485,2.31906247 L7.38674984,3.11049995 L6.41943736,3.11049995 L5.89181237,3.81399994 L5.62799988,2.93462496 Z M15.5649372,5.13306241 L16.0046247,5.7486249 L15.3011247,5.7486249 L14.8614372,6.36418738 L14.6855622,5.6606874 L13.9820622,5.3968749 L14.5976247,4.95718741 L14.5976247,4.25368743 L15.2131872,4.69337492 L15.9166872,4.42956243 L15.5649372,5.13306241 Z M12.5750622,9.26612482 L12.2233122,10.4093123 L12.9268122,11.3766248 L11.7836247,11.3766248 L11.0801248,12.3439373 L10.7283748,11.2007498 L9.58518729,10.8489998 L10.5524998,10.1454998 L10.5524998,8.91437483 L11.5198123,9.61787481 L12.5750622,9.26612482 Z",visible:false});o("barchart",{descriptionKey:"Template.preview.description.barchart",translationKey:"Object.BarChart",icon:"bar-chart",iconChar:"bar_chart",iconPath:"M1,4 L3,4 C3.55228475,4 4,4.44771525 4,5 L4,15 C4,15.5522847 3.55228475,16 3,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,5 C-6.76353751e-17,4.44771525 0.44771525,4 1,4 Z M7,8 L9,8 C9.55228475,8 10,8.44771525 10,9 L10,15 C10,15.5522847 9.55228475,16 9,16 L7,16 C6.44771525,16 6,15.5522847 6,15 L6,9 C6,8.44771525 6.44771525,8 7,8 Z M13,0 L15,0 C15.5522847,-1.01453063e-16 16,0.44771525 16,1 L16,15 C16,15.5522847 15.5522847,16 15,16 L13,16 C12.4477153,16 12,15.5522847 12,15 L12,1 C12,0.44771525 12.4477153,1.01453063e-16 13,0 Z"});o("combochart",{descriptionKey:"Template.preview.description.combochart",translationKey:"Object.ComboChart",icon:"combo-chart",iconChar:"combo_chart",iconPath:"M3,10 L4,9 L4,16 L1,16 L1,12 L3,10 Z M8,11 L9,10 L9,16 L6,16 L6,9 L8,11 Z M11,8 L14,5 L14,16 L11,16 L11,8 Z M7.85226383,7.10149824 L13.8077922,1.14512991 C14.0012715,0.951623362 14.3149633,0.951623362 14.5084426,1.14512991 L14.8587678,1.49550452 C15.0522471,1.68901107 15.0522471,2.00274718 14.8587678,2.19625374 L7.85226383,9.20374588 L5.04966223,6.40074902 L1.19608505,10.2548697 C1.00260578,10.4483763 0.688913912,10.4483763 0.495434648,10.2548697 L0.145109449,9.9044951 C-0.0483698162,9.71098854 -0.0483698162,9.39725243 0.145109449,9.20374588 L5.04966223,4.29850138 L7.85226383,7.10149824 Z"});t.getFlag("CONTAINER_OBJECT")&&o("container",{descriptionKey:"Template.preview.description.container",translationKey:"Object.Container",icon:"box",iconChar:"box",iconPath:"M16,6 L15,6 L15,5 L1,5 L1,6 L-1.77635684e-15,6 L-1.77635684e-15,2 C-1.84399221e-15,1.44771525 0.44771525,1 1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,6 Z M11,2 L11,4 L15,4 L15,2.4 C15,2.1790861 14.8209139,2 14.6,2 L11,2 Z M6,2 L6,4 L10,4 L10,2 L6,2 Z M1.4,2 C1.1790861,2 1,2.1790861 1,2.4 L1,4 L5,4 L5,2 L1.4,2 Z M16,8 L16,11 L15,11 L15,8 L16,8 Z M16,13 L16,14 C16,14.5522847 15.5522847,15 15,15 L14,15 L14,14 L14.6,14 C14.8209139,14 15,13.8209139 15,13.6 L15,13 L16,13 Z M12,15 L9,15 L9,14 L12,14 L12,15 Z M7,15 L4,15 L4,14 L7,14 L7,15 Z M2,15 L1,15 C0.44771525,15 -6.53651803e-16,14.5522847 -1.70234197e-15,14 L-1.77635684e-15,13 L1,13 L1,13.6 C1,13.8209139 1.1790861,14 1.4,14 L2,14 L2,15 Z M-1.77635684e-15,11 L-1.77635684e-15,8 L1,8 L1,11 L-1.77635684e-15,11 Z"});o("distributionplot",{descriptionKey:"Template.preview.description.distributionplot",translationKey:"Object.DistributionPlot",icon:"distributionplot",iconChar:"distributionplot",iconPath:"M5,5 C3.9,5 3,4.1 3,3 C3,1.9 3.9,1 5,1 L14,1 C15.1,1 16,1.9 16,3 C16,4.1 15.1,5 14,5 L5,5 Z M14,8 C14,9.1 13.1,10 12,10 L2,10 C0.9,10 0,9.1 0,8 C0,6.9 0.9,6 2,6 L12,6 C13.1,6 14,6.9 14,8 Z M14,11 C15.1,11 16,11.9 16,13 C16,14.1 15.1,15 14,15 L6,15 C4.9,15 4,14.1 4,13 C4,11.9 4.9,11 6,11 L14,11 Z M12,2 C11.5,2 11,2.4 11,3 C11,3.6 11.4,4 12,4 C12.6,4 13,3.6 13,3 C13,2.4 12.6,2 12,2 Z M8,2 C7.5,2 7,2.4 7,3 C7,3.6 7.4,4 8,4 C8.6,4 9,3.6 9,3 C9,2.4 8.6,2 8,2 Z M4,9 C4.6,9 5,8.6 5,8 C5,7.4 4.6,7 4,7 C3.4,7 3,7.4 3,8 C3,8.6 3.5,9 4,9 Z M10,9 C10.6,9 11,8.6 11,8 C11,7.4 10.6,7 10,7 C9.4,7 9,7.4 9,8 C9,8.6 9.5,9 10,9 Z M10,14 C10.6,14 11,13.6 11,13 C11,12.4 10.6,12 10,12 C9.4,12 9,12.4 9,13 C9,13.6 9.4,14 10,14 Z"});o("boxplot",{descriptionKey:"Template.preview.description.boxplot",translationKey:"Object.BoxPlot",icon:"boxplot",iconChar:"boxplot",iconPath:"M15,9 L13,9 L13,13 C13,13.5522847 12.5522847,14 12,14 L4,14 C3.44771525,14 3,13.5522847 3,13 L3,9 L1.0625,9 L1.0625,10.46875 C1.0625,10.7621513 0.824651273,11 0.53125,11 C0.237848727,11 9.24109713e-16,10.7621513 8.8817842e-16,10.46875 L8.8817842e-16,5.53125 C8.52247127e-16,5.23784873 0.237848727,5 0.53125,5 C0.824651273,5 1.0625,5.23784873 1.0625,5.53125 L1.0625,7 L3,7 L3,3 C3,2.44771525 3.44771525,2 4,2 L12,2 C12.5522847,2 13,2.44771525 13,3 L13,7 L15,7 L15,5.53125 C15,5.23784873 15.2378487,5 15.53125,5 C15.8246513,5 16.0625,5.23784873 16.0625,5.53125 L16.0625,10.46875 C16.0625,10.7621513 15.8246513,11 15.53125,11 C15.2378487,11 15,10.7621513 15,10.46875 L15,9 Z M12,13 L12,3 L8,3 L8,13 L12,13 Z M7,13 L7,3 L4,3 L4,13 L7,13 Z"});o("filterpane",{descriptionKey:"Template.preview.description.filterpane",translationKey:"Object.FilterPane",icon:"filterpane",iconChar:"filterpane",iconPath:"M11,12.4863156 L8.07008534,8.35945066 C8.01004078,8.27487625 7.97778427,8.17372182 7.97778427,8.07000017 C7.97778427,7.7938578 8.20164189,7.57000017 8.47778427,7.57000017 L15.5221738,7.57000017 C15.6258954,7.57000017 15.7270499,7.60225668 15.8116243,7.66230124 C16.0367902,7.82216033 16.0897318,8.13428476 15.9298727,8.35945066 L13,12.4862565 L13,14.2491542 C13,14.3319207 12.9683969,14.4105936 12.9134166,14.4646953 L11.4134166,15.9407239 C11.3089266,16.0435439 11.1510567,16.030395 11.0608043,15.911355 C11.0215816,15.8596216 11,15.7935423 11,15.7251827 L11,12.4863156 Z M13,6 L12,6 L12,1.5 C12,1.22385763 11.7761424,1 11.5,1 L1.5,1 C1.22385763,1 1,1.22385763 1,1.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L9,15 L9,16 L1,16 C0.44771525,16 6.76353751e-17,15.5522847 0,15 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 L12,0 C12.5522847,-1.01453063e-16 13,0.44771525 13,1 L13,6 Z"});o("gauge",{descriptionKey:"Template.preview.description.gauge",translationKey:"Object.Gauge",icon:"gauge-chart",iconChar:"gauge_chart",iconPath:"M2.63604397,14.9354012 C1.01716423,13.4714713 0,11.3545214 0,9 C0,4.581722 3.581722,1 8,1 C12.418278,1 16,4.581722 16,9 C16,11.3545214 14.9828358,13.4714713 13.363956,14.9354012 C12.9974483,14.298577 12.6309407,13.7270222 12.264433,13.2207366 C13.3374059,12.1367251 14,10.6457411 14,9 C14,5.6862915 11.3137085,3 8,3 C4.6862915,3 2,5.6862915 2,9 C2,10.6457411 2.66259413,12.1367251 3.73556701,13.2207366 C3.36905933,13.7270222 3.00255165,14.298577 2.63604397,14.9354012 Z M8.6785878,7.14391341 L12.0475946,5 L9.90368118,8.36900679 C10.1480944,9.07321165 9.9868748,9.88914692 9.42129812,10.4547236 C8.63472595,11.2412958 7.36391823,11.2457735 6.58286965,10.4647249 C5.80182106,9.68367637 5.80629882,8.41286865 6.592871,7.62629647 C7.15844768,7.06071979 7.97438295,6.89950016 8.6785878,7.14391341 Z"});o("histogram",{descriptionKey:"Template.preview.description.histogram",translationKey:"Object.Histogram",icon:"histogram",iconChar:"histogram",iconPath:"M14,11 L14,8.5 C14,8.22385763 14.2238576,8 14.5,8 L15.5,8 C15.7761424,8 16,8.22385763 16,8.5 L16,15 L14,15 L12,15 L10,15 L8,15 L6,15 L4,15 L2,15 L0,15 L0,6.5 C-3.38176876e-17,6.22385763 0.223857625,6 0.5,6 L2,6 L2,3.5 C2,3.22385763 2.22385763,3 2.5,3 L3.5,3 C3.77614237,3 4,3.22385763 4,3.5 L4,10 L6,10 L6,7.5 C6,7.22385763 6.22385763,7 6.5,7 L8,7 L8,1.5 C8,1.22385763 8.22385763,1 8.5,1 L9.5,1 C9.77614237,1 10,1.22385763 10,1.5 L10,3 L11.5,3 C11.7761424,3 12,3.22385763 12,3.5 L12,11 L14,11 Z"});o("kpi",{descriptionKey:"Template.preview.description.kpi",translationKey:"Object.Kpi",icon:"kpi",iconChar:"kpi",iconPath:"M16,2 L16,14 L14,14 L14,6 L12,6 L12,4 C13.7,4 14,3.2 14,2 L16,2 Z M7.9,5 L10,5 L10,6.5 L7.7,6.5 L7.3,9.5 L9,9.5 L9,11 L7.1,11 L6.7,14 L5.2,14 L5.6,11 L3.4,11 L3,14 L1.5,14 L1.9,11 L0,11 L0,9.5 L2.1,9.5 L2.5,6.5 L1,6.5 L1,5 L2.6,5 L3,2 L4.5,2 L4.1,5 L6.4,5 L6.8,2 L8.3,2 L7.9,5 Z M6.2,6.5 L3.9,6.5 L3.5,9.5 L5.7,9.5 L6.2,6.5 Z"});o("linechart",{descriptionKey:"Template.preview.description.linechart",translationKey:"Object.LineChart",icon:"line-chart",iconChar:"line_chart",iconPath:"M16,15 L16,16 L1.3,16 L0,16 L0,14.7 L0,0 L1,0 L1,13 L5.4,5.7 L9.4,8 L13.2,1.4 C13.5,0.9 14.4,0.8 14.9,1 C15.4,1.3 15.7,2.1 15.4,2.6 L10.4,11.4 L6.4,9.1 L3,15 L16,15 Z"});o("listbox",{descriptionKey:"Template.preview.description.listbox",translationKey:"Object.Listbox",icon:"list",iconChar:"list",iconPath:"M0,1 L16,1 L16,3 L0,3 L0,1 Z M0,7 L0,5 L16,5 L16,7 L0,7 Z M0,11 L0,9 L16,9 L16,11 L0,11 Z M0,15 L0,13 L16,13 L16,15 L0,15 Z",isLibraryItem:false});o("piechart",{descriptionKey:"Template.preview.description.piechart",translationKey:"Object.PieChart",icon:"pie-chart",iconChar:"pie_chart",iconPath:"M7,1 L7,8 L14,8 C14,11.8659932 10.8659932,15 7,15 C3.13400675,15 0,11.8659932 0,8 C0,4.13400675 3.13400675,1 7,1 Z M8,1.15888847e-31 C11.8659932,6.95889291e-16 15,3.13400675 15,7 L8,7 L8,-8.8817842e-16 Z"});o("pivot-table",{descriptionKey:"Template.preview.description.pivot-table",translationKey:"Object.PivotTable",icon:"pivot-table",iconChar:"pivot_table",iconPath:"M1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,14 C16,14.5522847 15.5522847,15 15,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,2 C-6.76353751e-17,1.44771525 0.44771525,1 1,1 Z M3,4 L3,14 L15,14 L15,4 L3,4 Z M1,2 L1,4 L3,4 L3,2 L1,2 Z M4,5 L8,5 L8,7 L4,7 L4,5 Z M9,5 L14,5 L14,7 L9,7 L9,5 Z M4,8 L8,8 L8,10 L4,10 L4,8 Z M9,8 L14,8 L14,10 L9,10 L9,8 Z M4,11 L8,11 L8,13 L4,13 L4,11 Z M9,11 L14,11 L14,13 L9,13 L9,11 Z"});o("map",{descriptionKey:"Template.preview.description.map",translationKey:"Object.Map",icon:"map",iconChar:"map",iconPath:"M2.714544,3.424368 L4.799632,3.010608 L5.381168,2.691824 L6.035584,2.880368 L7.08112,2.822496 L7.439328,2.259456 L7.96168,2.345392 L9.23016,2.226432 L9.579776,1.84112 L10.072688,1.511888 L10.77008,1.616816 L10.837536,1.606624 L13.796464,4.080256 L12.5564,4.215376 L12.236688,4.726016 L12.00464,4.652272 L11.10384,3.840016 L10.798096,2.967216 L10.231872,2.459344 L9.563904,2.328672 L9.548576,2.634384 L10.202944,3.272944 L10.177808,3.630192 L9.870128,3.751888 L9.430976,3.56872 L9.44592,3.214592 L8.86976,2.977664 L8.67848,3.810176 L8.097792,3.941824 L8.155216,4.40624 L8.911808,4.551872 L9.042496,3.809744 L9.667056,3.902032 L9.957392,4.072016 L10.423216,4.072016 L10.742,4.710624 L11.58728,5.568048 L11.525264,5.90136 L10.84376,5.814512 L9.666144,6.409232 L8.818176,7.42632 L8.70784,7.876704 L8.403504,7.876704 L7.836368,7.61536 L7.28552,7.876704 L7.422608,8.457872 L7.662304,8.181504 L8.083744,8.168448 L8.054384,8.690304 L8.403504,8.792528 L8.752144,9.184128 L9.321536,9.024032 L11.30464,9.397632 L11.743728,10.099904 L12.978864,10.624992 L12.179696,12.350704 L11.337168,12.742368 L10.836592,13.734576 L9.798224,14.427856 L9.700144,14.782464 L8.883424,14.937984 L8.818176,14.18096 L9.144224,12.859488 L8.300368,10.752992 L8.679168,9.963632 L7.767216,9.086 L6.585936,8.820976 L6.193856,8.000672 L6.193856,8.487728 L6.02112,8.487728 L5.00312,7.107472 L5.00312,5.973696 L4.091824,4.92544 L2.273872,4.971552 L1.872256,4.708368 L2.38464,4.30224 L2.015568,4.387504 L2.714544,3.424368 Z M9.492,1.472096 L8.81776,1.985408 L8.173776,2.050096 L7.883856,1.861936 L9.026256,1.203056 L9.492,1.472096 Z M7.120064,2.056384 L6.152224,2.310608 L5.686896,2.03832 L6.152224,1.660704 L6.472416,1.794112 L6.891664,1.660704 L7.120064,2.056384 Z M8,0 C3.581728,0 0,3.581712 0,8 C0,12.418272 3.581728,16 8,16 C12.418288,16 16,12.418272 16,8 C16,3.581712 12.418288,0 8,0 Z"});o("scatterplot",{descriptionKey:"Template.preview.description.scatterplot",translationKey:"Object.ScatterPlot",icon:"scatter-chart",iconChar:"scatter_chart",iconPath:"M4,0 C6.2,0 8,1.8 8,4 C8,6.2 6.2,8 4,8 C1.8,8 0,6.2 0,4 C0,1.8 1.8,0 4,0 Z M12.5,5 C14.4,5 16,6.6 16,8.5 C16,10.4 14.4,12 12.5,12 C10.6,12 9,10.4 9,8.5 C9,6.6 10.6,5 12.5,5 Z M5.5,11 C6.9,11 8,12.1 8,13.5 C8,14.9 6.9,16 5.5,16 C4.1,16 3,14.9 3,13.5 C3,12.1 4.1,11 5.5,11 Z"});o("table",{descriptionKey:"Template.preview.description.table",translationKey:"Object.Table",icon:"table",iconChar:"table",iconPath:"M1,1 L15,1 C15.5522847,1 16,1.44771525 16,2 L16,14 C16,14.5522847 15.5522847,15 15,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,2 C-6.76353751e-17,1.44771525 0.44771525,1 1,1 Z M1,4 L1,14 L15,14 L15,4 L1,4 Z M7,5 L10,5 L10,7 L7,7 L7,5 Z M11,5 L14,5 L14,7 L11,7 L11,5 Z M2,5 L6,5 L6,7 L2,7 L2,5 Z M7,8 L10,8 L10,10 L7,10 L7,8 Z M11,8 L14,8 L14,10 L11,10 L11,8 Z M2,8 L6,8 L6,10 L2,10 L2,8 Z M7,11 L10,11 L10,13 L7,13 L7,11 Z M11,11 L14,11 L14,13 L11,13 L11,11 Z M2,11 L6,11 L6,13 L2,13 L2,11 Z"});o("text-image",{descriptionKey:"Template.preview.description.text-image",translationKey:"Object.TextImage",icon:"text",iconChar:"text",iconPath:"M5.52083333,11.9375 L4.5,15 L1,15 L6.425,1 L9.6625,1 L15,15 L11.5,15 L10.4791667,11.9375 L5.52083333,11.9375 Z M6.25,9.75 L9.75,9.75 L8,4.5 L6.25,9.75 Z"});o("treemap",{descriptionKey:"Template.preview.description.treemap",translationKey:"Object.Treemap",icon:"treemap",iconChar:"treemap",iconPath:"M9.3,5 C9.1,5 9,4.9 9,4.7 L9,0.3 C9,0.1 9.1,0 9.3,0 L15.7,0 C15.8,0 16,0.1 16,0.3 L16,4.7 C16,4.9 15.8,5 15.7,5 L9.3,5 Z M11.7,12 C11.9,12 12,12.1 12,12.3 L12,15.7 C12,15.9 11.9,16 11.7,16 L9.3,16 C9.1,16 9,15.9 9,15.7 L9,12.3 C9,12.2 9.1,12 9.3,12 L11.7,12 Z M6.7,0 C6.9,0 7,0.1 7,0.3 L7,7.7 C7,7.9 6.9,8 6.7,8 L0.3,8 C0.1,8 0,7.9 0,7.7 L0,0.3 C0,0.1 0.1,0 0.3,0 L6.7,0 Z M6.7,10 C6.9,10 7,10.1 7,10.3 L7,15.7 C7,15.9 6.9,16 6.7,16 L0.3,16 C0.1,16 0,15.9 0,15.7 L0,10.3 C0,10.1 0.1,10 0.3,10 L6.7,10 Z M15.7,12 C15.9,12 16,12.1 16,12.3 L16,15.7 C16,15.9 15.9,16 15.7,16 L14.3,16 C14.1,16 14,15.9 14,15.7 L14,12.3 C14,12.1 14.1,12 14.3,12 L15.7,12 Z M15.7,7 C15.9,7 16,7.2 16,7.3 L16,9.7 C16,9.9 15.9,10 15.7,10 L9.3,10 C9.1,10 9,9.9 9,9.7 L9,7.3 C9,7.2 9.1,7 9.3,7 L15.7,7 Z"});o("waterfallchart",{descriptionKey:"Template.preview.description.waterfallchart",translationKey:"Object.WaterfallChart",icon:"waterfallchart",iconChar:"waterfallchart",iconPath:"M0.5,1 L2.5,1 C2.77614237,1 3,1.22385763 3,1.5 L3,14.5 C3,14.7761424 2.77614237,15 2.5,15 L0.5,15 C0.223857625,15 3.38176876e-17,14.7761424 0,14.5 L0,1.5 C-3.38176876e-17,1.22385763 0.223857625,1 0.5,1 Z M5,1 L7,1 C7.27614237,1 7.5,1.22385763 7.5,1.5 L7.5,4.5 C7.5,4.77614237 7.27614237,5 7,5 L5,5 C4.72385763,5 4.5,4.77614237 4.5,4.5 L4.5,1.5 C4.5,1.22385763 4.72385763,1 5,1 Z M9,5 L11,5 C11.2761424,5 11.5,5.22385763 11.5,5.5 L11.5,8.5 C11.5,8.77614237 11.2761424,9 11,9 L9,9 C8.72385763,9 8.5,8.77614237 8.5,8.5 L8.5,5.5 C8.5,5.22385763 8.72385763,5 9,5 Z M13.5,9 L15.5,9 C15.7761424,9 16,9.22385763 16,9.5 L16,14.5 C16,14.7761424 15.7761424,15 15.5,15 L13.5,15 C13.2238576,15 13,14.7761424 13,14.5 L13,9.5 C13,9.22385763 13.2238576,9 13.5,9 Z"});o("widget",{translationKey:"Object.Widget",icon:"widget",iconChar:"widget",iconPath:"M1,12.1 L7,16 L7,11.2 L1,7.3 L1,12.1 Z M9,12.1 L9,16 L15,12.1 L15,7.3 L9,11.2 L9,12.1 Z M8,2.1 C9,2.1 9.8,1.6 9.8,1 C9.8,0.5 9,0 8,0 C7,0 6.2,0.5 6.2,1.1 C6.2,1.7 7,2.1 8,2.1 Z M13.5,3.9 L13.5,4.5 C13.5,5.1 12.7,5.6 11.7,5.6 C10.7,5.6 9.9,5.1 9.9,4.5 L9.9,3.4 C10,3.9 10.8,4.4 11.7,4.4 C12.7,4.4 13.5,3.9 13.5,3.3 C13.5,2.7 12.7,2.2 11.7,2.2 C11.4,2.2 11.2,2.2 10.9,2.3 L9.8,1.6 L9.8,2.3 C9.8,2.9 9,3.4 8,3.4 C7,3.4 6.2,2.9 6.2,2.3 L6.2,1.6 L5.1,2.3 C4.8,2.2 4.6,2.2 4.3,2.2 C3.3,2.2 2.5,2.7 2.5,3.3 C2.5,3.9 3.3,4.4 4.3,4.4 C5.3,4.4 6,4 6.1,3.4 L6.1,4.5 C6.1,5.1 5.3,5.6 4.3,5.6 C3.3,5.6 2.5,5.1 2.5,4.5 L2.5,3.9 L1,4.7 L8,9.2 L15,4.7 L13.5,3.9 Z M9.8,6.9 C9.8,7.5 9,7.9 8,7.9 C7,7.9 6.2,7.5 6.2,6.9 L6.2,5.8 L6.2,5.6 C6.2,6.2 7,6.7 8,6.7 C9,6.7 9.8,6.2 9.8,5.6 L9.8,5.8 L9.8,6.9 Z",name:"Widget",description:"Qlik Sense Widget",isLibraryItem:false});return{registerThirdPartyLibraryInfo:s,remove:i,getLibraryInfo:function t(i){return e.extend({},n[i])}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(100),n(327)],r=function(e,t){function n(e,t){this.id=e;Object.defineProperties(this,{id:{value:e},properties:{value:t}})}n.prototype.getStyle=function(e,n,i){var r=new t(e,this.id,this.properties);return r.getStyle(n,i,false)};n.prototype.apply=function(){return e.applyTheme(this.id).then(function(e){return e})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(140),n(110),n(254),n(158)],r=function(e,t,n,i,r){var o=n.NxLocalizedErrorCode;var s,a;function l(e,t,n,i){return e.session.rpc({method:t,handle:-1,params:n||[]}).then(function(e){i&&i(e.result);return e.result})}function u(n,i,r){e.$apply(e.$rootScope,function(){t.getList(n).then(function(e){r&&n.close();i(e)},function(){s&&s({code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"ErrorCode."+o.LOCERR_GENERIC_CONNECTION_LOST})})})}function c(e){r.initClient();if(e instanceof i){this.session=e;this.qEvent=e.options.qEvent}else if(e.app&&e.rpc){var t=i.getIfCached(e.app.id,e.sessionConfig);this.session=t||i.get(e.app.id,e.sessionConfig);this.session.open()}else{this.session=i.get("?transient=",e);this.session.open();this.qEvent=e.qEvent}}c.setErrorCallback=function(e,t){s=e;a=t};c.get=function(e){e=e||{};this._qEvent&&(e._qEvent=this._qEvent);var t=r.makeConfig(e);t.onError=s?function(e){e=e||{};e.code!==o.LOCERR_GENERIC_CONNECTION_LOST&&s(e||{code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:s;return new c(t)};c.getAppList=function(e,t){var n=r.makeConfig(t);n.onError=s?function(e){e=e||{};e.code!==o.LOCERR_GENERIC_CONNECTION_LOST&&s(e||{code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:s;a&&(n.onWarning=a);var l=i.get("?transient=",n);l.open();u(l,e,true)};c.prototype.getAppList=function(e){u(this.session,e,false)};c.prototype.getAuthenticatedUser=function(e){return l(this,"GetAuthenticatedUser",[],e)};c.prototype.isPersonalMode=function(e){return l(this,"IsPersonalMode",[],e)};c.prototype.getQTProduct=function(e){return l(this,"QTProduct",[],e)};c.prototype.getProductVersion=function(e){return l(this,"ProductVersion",[],e)};c.prototype.cancelReload=function(){return l(this,"CancelReload")};c.prototype.getProgress=function(e,t){return l(this,"GetProgress",[e],t)};c.prototype.GetProgress=function(e,t){return this.getProgress(e,t)};c.prototype.on=function(e,t){this.qEvent.register({scope:"QGlobal",name:e,callback:t})};c.prototype.off=function(e){this.qEvent.clear(e)};return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){this.handlers=e||[]}e.prototype.register=function(e){this.handlers[e.name]||(this.handlers[e.name]=[]);this.handlers[e.name].push({scope:e.scope,callback:e.callback})};e.prototype.emit=function(e,t){if(this.handlers[e]){var n=this.handlers[e].filter(function(e){return"root"!==e.scope}).length>0;for(var i in this.handlers[e])(n&&"root"!==this.handlers[e][i].scope||!n)&&this.handlers[e][i].callback(t)}};e.prototype.hasHandlers=function(e){return!!this.handlers[e]};e.prototype.clear=function(e){e?delete this.handlers[e]:this.handlers=[]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(231),n(158)],r=function(e,t,n){function i(e,n,i){Object.defineProperties(this,{qFallbackTitle:{value:e.qFallbackTitle},qSortIndicator:{value:e.qSortIndicator},qReverseSort:{value:e.qReverseSort||false},col:{value:n},isOrderedBy:{value:n===i.qHyperCube.qEffectiveInterColumnSortOrder[0]},isDimension:{value:n<i.qHyperCube.qDimensionInfo.length},selections:{value:[]},parent:{value:i}});this.isDimension?Object.defineProperties(this,{qCardinal:{value:e.qCardinal},qStateCounts:{value:e.qStateCounts},qDimensionInfo:{value:e}}):Object.defineProperties(this,{qMax:{value:e.qMax},qMin:{value:e.qMin},qMeasureInfo:{value:e}});e.qGroupFieldDefs&&e.qGroupFieldDefs.length>0&&Object.defineProperties(this,{field:{value:i.app.field(e.qGroupFieldDefs[e.qGroupPos])}});e.qError&&Object.defineProperties(this,{errorCode:{value:e.qError.qErrorCode},errorMessage:{value:this.isDimension?t.getDimensionError(e.qError.qErrorCode):t.getMeasureError(e.qError.qErrorCode)}})}i.prototype.orderBy=function(){var e=[this.col];this.parent.qHyperCube.qEffectiveInterColumnSortOrder.forEach(function(t){t!==e[0]&&e.push(t)});var t=[{qPath:"/"+this.parent.defPath+"/qInterColumnSortOrder",qOp:"replace",qValue:"["+e.join(",")+"]"}];return this.parent.model.applyPatches(t,true)};i.prototype.reverseOrder=function(){var e=this.col<this.parent.qHyperCube.qDimensionInfo.length;var t=[{qPath:"/"+this.parent.defPath+(e?"/qDimensions/"+this.col:"/qMeasures/"+(this.col-this.parent.qHyperCube.qDimensionInfo.length))+"/qDef/qReverseSort",qOp:"replace",qValue:(!this.qReverseSort).toString()}];return this.parent.model.applyPatches(t,true)};i.prototype.isSelected=function(e){return this.selections.indexOf(e)>-1};i.prototype.toggleSelect=function(e){var t=this.selections.indexOf(e);t<0?this.selections.push(e):this.selections.splice(t,1)};i.prototype.selectRange=function(e,t,n,i){var r={qMeasureIx:this.col-this.parent.qHyperCube.qDimensionInfo.length,qRange:{qMin:e,qMax:t,qMinInclEq:n,qMaxInclEq:i}};return this.parent.model.rangeSelectHyperCubeValues("/"+this.parent.defPath,[r],[],false)};function r(e,t,n,i){Object.defineProperties(this,{qDimensionInfo:{value:t},qText:{value:e.qIsOtherCell?t.othersLabel:e.qText},qElemNumber:{value:e.qElemNumber},qState:{value:e.qState},col:{value:n},selected:{get:function e(){return this.header.isSelected(this.qElemNumber)}},header:{get:function e(){return this.parent.headers[this.col]}},parent:{value:i}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}})}r.prototype.select=function(){this.header.toggleSelect(this.qElemNumber);return this.parent.view&&this.parent.view.selectValues?this.parent.view.selectValues(this.col,[this.qElemNumber],true):this.parent.model.selectHyperCubeValues("/"+this.parent.defPath,this.col,[this.qElemNumber],true)};function o(e,t,n){Object.defineProperties(this,{qMeasureInfo:{value:t},qGrandTotal:{value:n},qText:{value:e.qText}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}})}o.prototype.getPercentOfMax=function(){return Math.round(100*this.qNum/this.qMeasureInfo.qMax*100)/100};o.prototype.getPercent=function(){return Math.round(100*this.qNum/this.qGrandTotal.qNum*100)/100};function s(e,t,n){var i=[],s=[],a=[],l=t.qDimensionInfo.length,u=t.columnOrder;e.forEach(function(e,a){a<l?i.push(new r(e,t.qDimensionInfo[a],a,n)):s.push(new o(e,t.qMeasureInfo[a-l],t.qGrandTotalRow[a-l]))});u?u.forEach(function(e){a.push(e<l?i[e]:s[e-l])}):a=i.concat(s);Object.defineProperties(this,{dimensions:{value:i},measures:{value:s},cells:{value:a}})}function a(t,n,i){e.create(this,"OnData");Object.defineProperties(this,{app:{value:t},path:{value:i||"qHyperCube"},defPath:{get:function e(){return this.path+"Def"}},rows:{value:[]},headers:{value:[]},totals:{value:[]},rowCount:{get:function e(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcy}},colCount:{get:function e(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcx}}});if("function"===typeof n.then){var r=this;n.then(function(e){l(r,e)})}else{var o=n.backendApi?n.backendApi.model:n;l(this,o,n.backendApi?n:void 0)}}function l(e,t,n){Object.defineProperties(e,{model:{value:t},view:{value:n}});u(e);if(e.model&&e.model.Validated){e._OnModelValid=function(){u(e)};e.model.Validated.bind(e._OnModelValid)}}function u(e){!e.qHyperCube&&e.model.layout&&(e.qHyperCube=e.model.layout[e.path]);if(e.model&&e.model.layout&&e.model.layout.qSelectionInfo&&e.model.layout.qSelectionInfo.qInSelections)return;e.headers.length=0;e.totals.length=0;e.rows.length=0;if(e.qHyperCube){var t=e.qHyperCube.qDimensionInfo?e.qHyperCube.qDimensionInfo.length:0,n=e.qHyperCube.columnOrder;e.qHyperCube.qDimensionInfo&&e.qHyperCube.qDimensionInfo.forEach(function(t,r){if(n){var o=n.indexOf(r);e.headers[o]=new i(t,r,e)}else e.headers.push(new i(t,r,e))});e.qHyperCube.qMeasureInfo&&e.qHyperCube.qMeasureInfo.forEach(function(r,o){if(n){var s=n.indexOf(o+t);e.headers[s]=new i(r,o+t,e)}else e.headers.push(new i(r,o+t,e))});e.qHyperCube.qGrandTotalRow&&e.qHyperCube.qGrandTotalRow.forEach(function(t,n){e.totals.push(new o(t,e.qHyperCube.qMeasureInfo[n]))});c(e,e.qHyperCube.qDataPages)}e.OnData.emit()}function c(e,t){t&&t.forEach(function(t){t.qMatrix.forEach(function(t){e.rows.push(new s(t,e.qHyperCube,e))})})}a.prototype.getMoreData=function(){if(this.requestActive)return;if(this.rowCount<=this.rows.length)return;this.requestActive=true;var e=this,t={qTop:this.rows.length,qLeft:0,qWidth:this.colCount,qHeight:50};return e.view?e.view.backendApi.getData([t]).then(function(t){c(e,t);e.requestActive=false;e.OnData.emit()}):e.qHyperCube?e.model.getHyperCubeData("/qHyperCubeDef",[t]).then(function(t){c(e,t);e.requestActive=false;e.OnData.emit()}):null};a.prototype.getColByName=function(e){if(!e)return;var t=e.toUpperCase(),n;this.headers.forEach(function(e,i){e.qFallbackTitle.toUpperCase()===t&&(n=i)});return n};a.prototype.exportData=function(e,t){e=e||{};return this.model.exportData(e.format||"OOXML","/"+this.defPath,e.filename,e.state||"P").then(function(i){var r=this.app.global;var o=r&&r.session.options;o=n.makeConfig(o);var s=o.prefix+i.qUrl.substring(1);e.download&&window.open(s);t&&t(s);return s}.bind(this))};a.prototype.destroy=function(){if(this.model&&this.model.Validated&&this._OnModelValid){this.model.Validated.unbind(this._OnModelValid);delete this._OnModelValid}};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(89),n(247),n(636),n(90)],r=function(e,t,n,i,r,o){var s={template:r,scope:{id:"@",app:"=",object:"=",onDone:"=",size:"=",area:"="},controller:["$scope","$element",function(e,t){var n=l(e.id,e.object,e.area,e.app),i={width:e.size.width,height:e.size.height},r=n.snap;e.data=n.data;e.style={width:i.width+"px",height:i.height+"px"};r.then(function(t){e.onDone(t)});e.$on("$destroy",function(){n.cancel()});t.on("$destroy",function(){e.$destroy()})}]};var a=[];function l(e,r,s,a){var l=t.getService("$timeout"),u=n();var c=false;function d(){c=true;u.reject()}var p={object:{}},h=n.all({model:r&&r.model||a.getObject(e),viewState:r&&r.getViewState?r.getViewState():void 0}).then(function(e){if(c)return{};p.model=e.model;p.options={viewState:e.viewState,components:{scrollArea:{show:true}},onRendered:function e(t){u.resolve({doSnap:!t})}};return l(function(){return p.object.loaded?p.object.loaded.then(function(){var e=p.object;if(!e.supportExport()&&"auto-chart"!==o.getValue(e,"ext.type"))return;return u.promise.then(function(t){if(false===t.doSnap||"auto-chart"===o.getValue(e,"ext.type")&&!e.supportExport())return;var n=f(s,p.object.layout,p.object);return i.prepSnapshotData(p.object.layout,p.object,true,{ignoreReducedData:false},false).then(function(e){return p.object.model.app.getLayout().then(function(t){n.snapshotData=i.formatSnapshotForRendering(e,t.qLocaleInfo);return n})})})}):{}},0,false)});return{data:p,snap:h,cancel:d}}function u(t){var n=a.indexOf(t);n>=0&&a.splice(n,1);var i=e(t).children("div");if(i.scope&&i.scope()){i.scope().$destroy();i.scope().destroyComponent()}e(t).remove()}function c(){var e;while(e=a.pop())u(e)}function f(e,t,n){var i=n.ext&&n.ext.libraryInfo&&n.ext.libraryInfo.isThirdParty;var r={id:t.qInfo.qId,type:t.qInfo.qType,snapshotData:null,area:e,children:[],isExtension:i,title:t.title||""};return r}return{snapshot:function t(r,o,l,c,d,p){var h=n();var v={type:"object",size:o,snapshotData:{}};if(l&&l.loaded&&(l.ext&&l.ext.libraryInfo.isThirdParty||o.width===c.width&&o.height===c.height))return l.loaded.then(function(){v=f(d,l.layout,l);if(!l.supportExport())return v;return i.prepSnapshotData(l.layout,l,true,{ignoreReducedData:false},false).then(function(e){return l.model.app.getLayout().then(function(t){v.snapshotData=i.formatSnapshotForRendering(e,t.qLocaleInfo);return v})})});var m=document.createElement("div");m.className="qv-snapshotter";a.push(m);document.body.appendChild(m);e(m).showComponent(s,{id:r,object:l,size:o,area:d,app:p,onDone:function e(t){h.resolve(t);u(m)}});return h.promise},loadObject:l,cancel:function e(){c()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(89),n(120),n(128),n(337),n(637)],r=function(e,t,n,i,r,o){var s={template:o,scope:{sheetId:"@",sheet:"@",size:"@",onDone:"@",sheetLayout:"@"},controller:["$scope","$timeout","$element",function(e,o,s){var a={area:{left:0,top:0,width:1,height:1}};var l=1e5,u=t(),f,d={},p=e.sheet===i.getModel(),h={width:e.size.width,height:e.size.height},v=e.sheetLayout===c.FULL,m=function t(n){if(false===n)e.onDone(false);else{a.size=h;a.children=n?n.filter(function(e){return e}):[];e.onDone(a)}};e.cells=[];e.style={width:h.width+"px",height:h.height+"px"};e.$on("$destroy",function(){u.reject();o.cancel(f)});s.on("$destroy",function(){e.$destroy()});if(p){var g=i.getGrid()&&i.getGrid().cells||[];g.forEach(function(e){d[e.id]=e.object})}n.get(e.sheetId).then(function(n){n.getLayout().then(function(i){var s=i.columns,c=i.rows,p=[];a.id=i.qInfo.qId;a.type=i.qInfo.qType;a.title=i.labelExpression||i.qMeta.title||"";i.cells.forEach(function(t){var i,o,a,l={left:t.col/s,top:t.row/c,width:t.colspan/s,height:t.rowspan/c};if(d[t.name]&&!d[t.name].ext)return;if(d[t.name]&&d[t.name].ext.libraryInfo.isThirdParty)a=r.snapshot(t.name,{width:h.width*(v?1:l.width),height:h.height*(v?1:l.height)},d[t.name],{},l,n.enigmaModel.app).then(function(e){return e});else{i=r.loadObject(t.name,d[t.name],l,n.enigmaModel.app);o={style:v?{left:0,top:0,width:"100%",height:"100%"}:{left:100*t.col/s+"%",top:100*t.row/c+"%",width:100*t.colspan/s+"%",height:100*t.rowspan/c+"%"},data:i.data};o.data.area=l;a=i.snap.then(function(e){return e});e.cells.push(o)}p.push(a)});if(p.length){t.all(p).then(function(e){u.resolve();o.cancel(f);m(e);return u.promise});f=o(function(){u.reject();m(false)},l)}else m()})},function(){m()})}]};var a=[];function l(t){var n=a.indexOf(t);n>=0&&a.splice(n,1);var i=e(t).children("div");i.scope&&i.scope()&&i.scope().$destroy();e(t).remove()}function u(){var e;while(e=a.pop())l(e)}var c={FULL:"full",GRID:"grid"};return{snapshot:function n(i,r,o,u){var c=t(),f=document.createElement("div");f.className="qv-snapshotter";a.push(f);document.body.appendChild(f);e(f).showComponent(s,{sheetId:i,sheet:o,size:r||{},sheetLayout:u,onDone:function e(t){false===t?c.reject({timedOut:true}):c.resolve(t);l(f)}});return c.promise},cancel:function e(){u()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(93),n(340),n(338),n(173),n(48),n(152),n(247),n(423),n(646),n(452)],r=function(e,t,n,i,r,o,s,a,l,u,c){function f(e,t){return e?r.get(e).then(function(e){return e.apply()},function(){}):n.get(t).then(function(e){return e.getSnapshotObject().then(function(e){e.apply()})})}var d=function e(t,n,r,l,d,p){var h=window.location.protocol+"//"+window.location.host;var v={properties:{origin:h},snapshotData:null};var m={image:function e(t){v.properties.qUrl=t.srcPath.qStaticContentUrl.qUrl;v.properties.resourceUrl=h+t.srcPath.qStaticContentUrl.qUrl},text:function e(t){var n=null;var i=t.style.text;var a=o.getService("$sce");"string"===typeof i&&(n=a.getTrustedHtml(s.toHTML(i)));if("title"===t.visualizationType){var f=c.calculatePrintTitleFontSize(n,r.height-10,1.32);n=u.enrichHtml(n,l,true,f+"px")}else{var p=c.calculatePrintParagraphFontSize(d.height);n=u.enrichHtml(n,l,false,p+"px")}v.properties.html=n;v.properties.color=t.style.color;v.properties.text=i},shape:function e(t){v.properties.dataPath=t.dataPath;v.properties.resourceUrl=h+"/"+t.dataPath;v.properties.color=t.style.color},snapshot:function e(t){false!==t.qEmbeddedSnapshot.supportExport?v.snapshotData=a.formatSnapshotForRendering(t.qEmbeddedSnapshot,p.qLocaleInfo):v.invalid=true},sheet:function e(t,n){var r=t.qInfo.qId;var o=t.selectionState?t.selectionState.init:null;v=f(o,r).then(function(){return i.snapshot(t.sheetId,n)})}};m[t]&&m[t](n,r);return v};function p(e,t,i,r,o){return n.get(e.qInfo.qId).then(function(n){return n.getLayout().then(function(n){return d(e.qData.visualization,n,t,i,r,o)})})}function h(e){var t={"z-index":e["z-index"]};["left","top","width","height"].forEach(function(n){t[n]=parseFloat(e[n])/100});return t}function v(e){return"auto"===e.left?l.getPosition("align-right"):"auto"===e.right?l.getPosition("align-left"):e}function m(n,i,r){var o=r.dpi;return t.getApp().then(function(e){return e.getObject(n)}).then(function(t){return e.all([t.app.getLayout(),t.getLayout()]).then(function(t){var n=t[0];var r=t[1];var s=r.qChildList.qItems;if(!s.length)return[];return e.all(s.map(function(e){var t=e.qData.position;"sheet"===e.qData.visualization&&(t=v(e.qData.position));var r=h(t);var s={width:i.width*r.width,height:i.height*r.height};return p(e,s,o,i,n).then(function(t){if(!t.invalid){var n={id:e.qInfo.qId,type:e.qInfo.qType,visualization:e.qData.visualization,visualizationType:e.qData.visualizationType,snapshotData:t.snapshotData,size:t.size,children:t.children,area:r,properties:t.properties,title:t.title||""};return n}})}))})})}return{snapshot:function e(t,n,i,r){return m(t,n||{},r).then(function(e){return{id:t,type:"slide",area:null,snapshotData:null,children:e.filter(function(e){return!!e})}})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(93)],r=function(e,t,n){function i(e){return e?t.resolve(e.enigmaModel):n.getApp()}var r={};r.get=function(e,t){return i(t).then(function(t){return t.getObject(e)})};r.create=function(t,n){var i={qInfo:{qId:e.generateId(),qType:"slideitem"},qEmbeddedSnapshotDef:{},title:"",sheetId:"",ratio:t.ratio,position:t.position,dataPath:t.dataPath,srcPath:t.srcPath,visualization:t.visualization,visualizationType:t.visualizationType,style:t.style};return n.createChild(e.extend(true,i,t),null)};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(333),n(100)],r=function(e,t){function n(){}n.getThemeList=function(){return t.getAvailableThemes().then(function(e){return e.custom?e.default.concat(e.custom):e.default})};n.prototype.apply=function(e){return t.applyTheme(e).then(function(e){return e})};n.prototype.get=function(n){return t.getThemeJSON(n).then(function(t){return new e(n,t)})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n,i,r,o,s){if(e instanceof Array&&!e[0].pointInside&&!e.pointInside)throw new Error('The shape must implement a "pointInside" function');this.setShape(e);this.selected=!!t;this.value=n;this.parent=i;this.index=r;this.objectShapes={};if(o){this.parent=o.parent;this.node=o;this.rowIndex=o.data.rowIndex;this.label=o.data.qText;this.id=o.data.qElemNo}s&&e&&(this.objectShapes[s]=e instanceof Array?e:[e])}e.prototype={getShapes:function e(t){return(t||0===t)&&this.objectShapes&&this.objectShapes[t]?this.objectShapes[t]:this.shapes?this.shapes:[this.shape]},addShape:function e(t,n){this.objectShapes[t]instanceof Array||(this.objectShapes[t]=[]);this.objectShapes[t].push(n);this.shapes.push(n)},setShape:function e(t){this.shape=t instanceof Array?t[0]:t;this.shapes=t?t instanceof Array?t:[t]:[]},addValue:function e(t){void 0===this.value&&(this.value=[]);this.value instanceof Array||(this.value=[this.value]);this.value.push(t)}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(146),n(651)],r=function(e,t,n,i){function r(e){var t=this.indexOf(e);if(t>=0)return this.splice(t,1);return null}function o(e,t){return Object.keys(t).filter(function(n){return t[n].filter(function(t){return t===e}).length})[0]}var s=t.extend({init:function t(n,r){this.options=e.extend(true,{},{components:{}},r);this._selectedShapes=[];this._cssTransform={scale:1};this.components=this.options.components;this.shapesFrom=new i(n,r)},setActiveComponent:function e(t){this.activeComponent=t;this.shapesFrom.activeComponent=t},initComponent:function e(){throw new Error("base.js: initComponent has to be implemented in subclass")},setComponent:function e(t,n){var i=Array.isArray(n)?n.concat():[n];i.forEach(function(e){var t=o(e,this.components);t&&this.removeComponent(t,e)},this);switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]&&this.components[t].forEach(function(e){-1===i.indexOf(e)&&this.deregister(this,e)},this);i.forEach(function(e){this.components[t]&&-1!==this.components[t].indexOf(e)||this.register(this,e)},this);this.components[t]=i;break;default:throw new Error("Key "+t+" not implemented")}},addComponent:function e(t,n){switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]||(this.components[t]=[]);var i=r.call(this.components[t],n);!i&&this.register(this,n);this.components[t].push(n);break;default:throw new Error('Key " + key + " not implemented')}},removeComponent:function e(t,n){switch(t){case"x":case"y":case"dataArea":case"colorLegend":this.components[t]&&n&&r.call(this.components[t],n);n&&this.components[t]&&this.components[t].length||delete this.components[t];this.deregister(this,n);break;default:throw new Error('Key " + key + " not implemented')}},register:function e(){},deregister:function e(){},getComponent:function e(t,i,r){var o=new n(t-r.x,i-r.y);return Object.keys(this.components).map(function(e){return this.components[e]},this).reduce(function(e,t){return e.concat(t)}).filter(function(e){var t=(e.chartScale||1)*this._cssTransform.scale;return this.getRect(e).pointInside(o.x/t,o.y/t)},this)[0]},getRect:function e(t){return t.rect},getComponentKey:function e(t){return Object.keys(this.components).filter(function(e){return this.components[e].indexOf(t)>=0},this)[0]},getTransformedPoint:function e(t,i,r){var o=this.getRect(this.activeComponent||this.components.dataArea[0]),s=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new n((t-o.x*s*this._cssTransform.scale-r.x)/this._cssTransform.scale,(i-o.y*s*this._cssTransform.scale-r.y)/this._cssTransform.scale)},getPagePoint:function e(t,i,r,o){var s=this.getRect(r||this.activeComponent||this.components.dataArea[0]),a=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new n(t+s.x*a+o.x,i+s.y*a+o.y)},release:function e(){this.activeComponent=null;this.shapesFrom&&this.shapesFrom.release();this.components=null;this.options.components=null;this.shapesFrom=null}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={getLevel:function e(){if(!this||this.parent===this)return;var t=this.parent,n=0;while(t){n+=1;t=t.parent}return n},each:function t(n){var i=this&&this.children,r;if(!i)return;for(r=0;r<i.length;r+=1){if(n&&false===n(i[r],r,i.length-1))return false;if(false===e.each.call(i[r],n))return false}},getLeaves:function t(){if(!this||!this.children)return[];var n=[],i;for(i=0;i<this.children.length;i+=1)this.children[i]&&this.children[i].children&&this.children[i].children.length?n=n.concat(e.getLeaves.call(this.children[i])):n.push(this.children[i]);return n}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(261)],r=function(e,t){var n={list:[],extensionListAvailable:false},i=null;n.getList=function(n){function r(e){t.getCloudExtensions().then(function(t){o.extensionListAvailable=true;o.list=[];for(var n in t){var i=t[n];if(i.attributes){if(i.attributes.name&&i.attributes.loadpath&&i.id){i.attributes.cloud=true;i.attributes.id=i.id;o.list.push({id:i.attributes.qext_filename||i.attributes.name,data:i.attributes,path:"extensions/"+i.attributes.qext_filename+"/"+i.attributes.loadpath})}}else if(i.name&&i.loadpath&&i.id){i.cloud=true;o.list.push({id:i.qextFilename||i.name,data:i,path:"extensions/"+i.qextFilename+"/"+i.loadpath})}}e.resolve(o.list)},function(){o.extensionListAvailable=false;o.list=[];e.resolve(o.list)});return e.promise}var o=this;if(null===i){i=new e;return r(i)}if(n)return r(new e);return i.promise};n.areCloudExtensionsAvailable=function(){var e=this;return this.getList().then(function(){return e.extensionListAvailable})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=/[^\s()"',+$*-<>=&/!{};:@`´[\]]/;var t=/[\s()"',+$*\-<>=&/!{};:@`´[\]]/;return{REGEXP_WORD:e,REGEXP_WORD_SEPARATOR:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(695),n(441)],r=function(e,t){function n(){this.posFrom=null;this.posTo=null;this.query=null;this.marked=[]}function i(i){var r=new n;var o;function s(t,n,r){return e.getSearchCursor(i,t,n,r)}function a(e){b.validQuery=true;var t=false;try{return t?new RegExp(t[1],-1===t[2].indexOf("i")?"":"i"):e}catch(t){b.validQuery=false;return e}}function l(){i.operation(function(){var e;if(!r.query)return;r.query=null;for(e=0;e<r.marked.length;++e)r.marked[e].clear();r.marked.length=0});f()}function u(e,n,u,c){var f=2e3;var d=0;l();if(e){i.operation(function(){r.query=a(e);var l={line:0,ch:0};!n&&o&&o.from()&&(l=o.from());o=s(r.query,{line:0,ch:0},c);d=t.getMaxNumberOfHits(i.getValue(),e,c);if(i.lineCount()<f)while(o.findNext())r.marked.push(i.markText(o.from(),o.to(),{className:"cm-searching"}));r.posTo=i.getCursor();r.posFrom=r.posTo;o=s(r.query,l,c)});u&&p();b.hits=d;return d}b.hits=0;return 0}var c;function f(){c&&c.clear()}function d(){f();c=i.markText(o.from(),o.to(),{className:"cm-current"});i.setCursor(o.to());r.posFrom=o.from();r.posTo=o.to()}function p(e,t){var n=o.find(e);if(n){d();i.scrollIntoView(o.from(),i.getScrollInfo().clientHeight/2)}else t&&t();return n}function h(e){o=s(r.query,{line:0,ch:0},e);return p(false)}function v(e){var t=i.lastLine();var n=i.getLine(t).length;o=s(r.query,{line:t,ch:n},e);return p(true)}function m(e,t,n,i){var s="string"===typeof r.query?t:o.pos.match[0].replace(r.query,t);o.atOccurrence||h(n);o.replace(s);b.hits--;var a=o.find(e);a?d():i&&i()}function g(e,t,n){if(!e)return;var l=0;e=a(e);i.operation(function(){for(o=s(e,void 0,n);o.findNext();){l++;var i="string"===typeof r.query?t:o.pos.match[0].replace(r.query,t);o.replace(i)}});b.hits=0;return l}var b={doSearch:u,clearMarkedSearch:l,doFindNext:p,doFindFirst:h,doFindLast:v,doReplaceAll:g,doReplace:m,hits:0,validQuery:true};return b}return{createSingleCodeareaSearcher:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(720),n(109),n(721),n(723),n(724)],r=function(e,t,n,i){function r(e,t,n){void 0!==e.colors&&(e=e.colors);this._palette=e;this._index=-1;this._shift=n||false;void 0!==t.index&&(this._index=t.index);"none"===t&&(this._index=0);if(""===t){this._index=0;t="none"}if(this._index>=0&&this._index<this._palette.length)this._hex=this._palette[this._index];else if(void 0!==t.color){this._hex=t.color;this._index=e.indexOf(this._hex)}else{if(e[t]){this._hex=e[t];this._index=t}else{this._hex=t;this._index=e.indexOf(this._hex)}"none"===t&&(this._index=0)}this._defaultHSV={h:0,s:100,v:100};this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()}r.prototype._updateHexObj=function(){this._colorUtil=new n(this._hex);if(this._colorUtil.isInvalid())this._hexObj={value:"-"};else{var e=this._hex.substring(1,7);this._hexObj={value:e}}};r.prototype._updateWheelStatus=function(){this._index>=0&&this._index<this._palette.length+this._shift||0==this._index?this._isWheelUsed=false:this._isWheelUsed=true};r.prototype._updateHexToHsv=function(){this._colorUtil=new n(this._hex);this._colorUtil.isInvalid()?this._hsv=this._defaultHSV:this._hsv=this._colorUtil.toHSVComponents()};r.prototype._updateHsvToHex=function(e){this._colorUtil=new n("hsv("+this._hsv.h+","+this._hsv.s+","+this._hsv.v+")");this._colorUtil.isInvalid()&&e.$disableNone&&(this._colorUtil=new n(e.$defaultColor));if(this._colorUtil.isInvalid())this._hexObj="-";else{this._hexObj={value:this._colorUtil.toHex().substring(1,7)};this._hex="#"+this._hexObj.value}this._index=this._palette.indexOf(this._hex)};r.prototype.updateColor=function(e,t){this._colorUtil=new n(e);if(this._colorUtil.isInvalid()){this._hex="none";this._index=0}else{this._hex=e;this._index=t}this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updatePalette=function(e){void 0!==e.colors&&(e=e.colors);this._palette=e;this._index>=e.length&&(this._index=-1);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updateHex=function(e){this._hex=e;this._index=this._palette.indexOf(this._hex);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updateHexUntrusted=function(e){var t="#"+e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);this.updateHex(t)};r.prototype.getHsv=function(){return this._hsv};r.prototype.setHsv=function(e){this._hsv=e;this._updateHsvToHex()};r.prototype.syncHsv=function(){this._updateHsvToHex()};r.prototype.getHex=function(){return this._hex};r.prototype.getHexObj=function(){return this._hexObj};r.prototype.isWheelUsed=function(){return this._isWheelUsed};r.prototype.forceWheelUsed=function(e){this._isWheelUsed=e};r.prototype.isDark=function(){return this._colorUtil.isDark()};r.prototype.getIndex=function(){return this._index};r.prototype.clone=function(){return e.extend(true,{},this)};var o={template:t,controller:["$scope","$element","$timeout",function(e,t,o){var s=e.$inputViewValue;e.currentPalette=e.$palette;e.extended=e.$extended;var a=new r(e.currentPalette,s,e.$disableNone);e.$useGlyph&&(e.glyphIcon=e.$inputViewValue.icon);var l=null;var u;var c=false;Object.defineProperty(e,"hsv",{get:function e(){return a.getHsv()},set:function e(t){a.setHsv(t)}});Object.defineProperty(e,"foreColor",{get:function e(){return a.getHex()}});Object.defineProperty(e,"hex",{get:function e(){return a.getHexObj()},set:function e(){return a.setHexObj()}});Object.defineProperty(e,"isDark",{get:function e(){return a.isDark()}});Object.defineProperty(e,"customColor",{get:function t(){return a.isWheelUsed()&&e.extended},set:function e(t){a.forceWheelUsed(t)}});e.recentColors=i.getPersistentRecentColors();e.setGlyph=function(t,n,i){e.glyphIcon=i.icon;p()};e.onHexChange=h(d);e.colorClicked=h(function(t,n,i){e.$disableNone&&(n+=1);a.updateColor(i,n);p();c=true});e.recentColorClicked=h(function(t,n){if(!e.$disableNone||"none"!==n){a.updateHex(n);p();c=true}});e.onFoldoutClick=function(t){t.preventDefault();e.customColor=!e.customColor};e.onKeyPress=function(t){var n=t.which;13===n&&e.close()};e.getBackgroundStyle=function(e){if("none"!==e)return{"background-color":e}};function f(){return e.recentColors.length>0&&e.extended}e.showRecent=f();function d(e){if(6===e.length){var t="#"+e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);this._colorUtil=new n(t);if(!this._colorUtil.isInvalid()){a.updateHexUntrusted(e);p();c=true}}}function p(){e.onColorChange(e.$useGlyph,a.getIndex(),e.foreColor,e.currentPalette,e.glyphIcon);e.extended&&i.stage(a.getHex())}function h(e){return function(){var t=this,n=arguments;l||(l=o(function(){e.apply(t,n);l=null},100))}}e.hueSatValueChanged=h(function(){a.syncHsv();c=true;u&&o.cancel(u);u=o(function(){p();u=null},300)});e.applyColor=function(){e.extended&&i.commit()};e.$on("$destroy",function(){c&&e.applyColor();t.find(".qv-cp-hex-input").off()})}]};return{popupComponent:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(736),n(737),n(109),n(100),n(302),n(96)],r=function(e,t,n,i,r,o){function s(e,t){var n=[];var i=[];for(var o=0;o<e.length;o++){i=[];0!==o&&t[o-1]?i.push(r.toHex(r.blend(e[o-1],e[o],.5))):i.push(e[o]);0!==o&&o!==e.length-1&&i.push(e[o]);o!==e.length-1&&t[o]?i.push(r.toHex(r.blend(e[o],e[o+1],.5))):i.push(e[o]);n.push(i)}return n}function a(e,t){return e.top>t/2?{x:e.left+e.width/2,y:e.top,dock:"top"}:{x:e.left+e.width/2,y:e.top+e.height,dock:"bottom"}}function l(e,t,n){n=n||100;if(e&&e.length===t-1)return e.map(function(e){return e*n});var i=[];for(var r=1;r<t;r++)i.push(r/t*n);return i}function u(e,t){if(!e||!e.length){e=[];for(var n=0;n<t-1;n++)e.push(0)}return e}function c(e,t,n){var i={};if(0===e){i.width=1===t.length?"100%":100*n[0]+"%";i.left="0%";i.background="linear-gradient(to right, "+t[e][0]+" 0%, "+t[e][1]+" 100%)"}else if(e===n.length){i.width=100*(1-n[e-1])+"%";i.left=100*n[e-1]+"%";i.background="linear-gradient(to right, "+t[e][0]+" 0%, "+t[e][1]+" 100%)"}else{i.width=100*(n[e]-n[e-1])+"%";i.left=100*n[e-1]+"%";i.background="linear-gradient(to right, "+t[e][0]+" 0%, "+t[e][1]+" 50%, "+t[e][2]+" 100%)"}return i}t.directive("qvColorSchemeDisplay",["$timeout",function(t){return{require:"?colors",template:n,replace:true,scope:{colors:"=",limits:"=",types:"=",allowChange:"=",animateChange:"=?"},link:function n(r){var f=-1;Object.defineProperty(r,"value",{get:function e(){return r.colors[f]},set:function e(t){r.colors[f]=t}});r.getLimitPos=function(e){return"calc("+100*e+"% - 1px)"};r.segmentStyles=[];var d;function p(){d||(d=t(function(){r.typs=u(r.types,r.colors.length);r.lims=l(r.limits,r.colors.length,1);r.cols=s(r.colors,r.typs);r.segmentStyles=r.colors.map(function(e,t){return c(t,r.cols,r.lims)});d=null}))}r.$watchCollection("limits",function(){p()});r.$watchCollection("colors",function(){p()});r.$watchCollection("types",function(){p()});r.getSegmentSize=function(e){return 0===e?100*r.lims[1]+"%":100*(r.lims[e]-r.lims[e-1])+"%"};r.onClick=function(t,n){var s=t.target.getBoundingClientRect();f=n;var l=a(s,e(window).outerHeight());0===n&&r.typs[0]?l.x=s.left:n===r.colors.length-1&&r.typs[n-1]&&(l.x=s.left+s.width);i.openColorPicker(l.x,l.y,{palette:o.currentPalette,dock:l.dock,disableNone:true},r)}}}}]);return{getBestPos:a,getLimits:l,getSegmentColors:s,getSegmentStyle:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvRecentGradientsService",[function(){var e=3,t=[];var n={pushTemplate:function n(i){if(!i.name||!i.colors||!i.limits||!i.types||void 0===!i.percentage)throw new Error("invalid template format");t.push(i);t.length>e&&t.splice(0,1)},getTemplates:function e(){return t.slice()},convertAbsLimits:function e(t){var n,i,r;if(0===t.length)return[];if(1===t.length&&0===t[0]){n=-10;i=10}else if(1===t.length||t.every(function(e){return e===t[0]})){n=.9*t[0];i=1.1*t[0]}else{n=null;i=null;t.forEach(function(e){i=null!==i?Math.max(i,e):e;n=null!==n?Math.min(n,e):e});r=i-n;n-=.3*r;i+=.3*r}r=i-n;return t.map(function(e){return(e-n)/r})}};return n}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(140),n(120),n(747),n(133)],r=function(e,t,n,i,r){function o(e){var t={retentionTimeValue:"",retentionTimeUnit:""};if("unlimited"===e){t.retentionTimeValue="";t.retentionTimeUnit="unlimited"}else{var n=i(e);if(n.hours()){t.retentionTimeValue=n.asHours()+"";t.retentionTimeUnit="h"}else{t.retentionTimeValue=n.asDays()+"";t.retentionTimeUnit="d"}}return t}function s(e){var t="P";var n=Math.floor(e/8760);if(n){t=t+n+"Y";e%=8760}if(e){var i=Math.floor(e/24);t=t+i+"D";e%=24}e&&(t=t+"T"+e+"H");return t}e.service("odagLinkDialogService",function(){var e;function i(){return r.getTemplateApps(t)}function a(e){return t.get(e,{},true,function(e){e.isHandled=true}).then(function(e){return n.getList(e,true).then(function(t){return t.getLayout().then(function(t){e.close();return t.map(function(e){return{id:e.qInfo.qId,name:e.qData.labelExpression||e.qData.title}})})})}).catch(function(e){e.isHandled=true;return[]})}function l(){return t.get().then(function(e){return e.getPublishableStreams()})}function u(e,t){var n="P";"unlimited"===t?n=t:"d"===t?n=s(24*Number(e)):"h"===t&&(n=s(Number(e)));return n}e={getTemplateApps:i,getSheetsForApp:a,getPublishableStreams:l,getRetentionTimeServerValue:u,getRetentionTimeDisplayValue:o};return e});return{getRetentionTimeDisplayValue:o,hoursToISO8601Format:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(102),n(48)],r=function(e,t,n){n.componentDirective("qvaAssetsTab",{tab:"=qvaAssetsTab"});return e.extend({init:function e(n){this.component=n.component;this.id=n.id;this.name=n.name;this.longname=n.longname;this.hasTableFilter=n.hasTableFilter;this.haveManageDataButtons=n.haveManageDataButtons;this.button=n.button;t.create(this,"Resize")},resize:function e(t){this.Resize.emit(t)},openSection:function e(){return false}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(764),n(170),n(248),n(279)],r=function(e,t,n,i){var r,o,s;function a(e){void 0===e&&(e=n.isInternalTableView());return i.getTablesAndKeys(e).then(function(e){r=e})}function l(e){if(void 0===e)return;var t=100*Number(e);return t%1===0?t:Number(String(t).substring(0,4))}function u(e){var n,i,r,o,s,a,u,c,f,d,p={};for(n in e.qtr){u=0;c=[];o=e.qtr[n];f=o.qName;o.qName=t.encodeTableName(o.qName);a=[];for(i=0;i<o.qFields.length;i++){s=o.qFields[i];d=[];-1!==s.qTags.indexOf("$key")&&u++;for(r=0;r<s.qTags.length;r++){-1===c.indexOf(s.qTags[r])&&c.push(s.qTags[r]);-1===d.indexOf(s.qTags[r])&&d.push(s.qTags[r])}var h=[];for(var v in s.qOriginalFields){var m=s.qOriginalFields[v];h.push({name:m})}a.push({name:s.qName,originalFields:h,meta:{isPerfectKey:"PERFECT_KEY"===s.qKeyType,density:l(s.qInformationDensity),subsetRatio:l(s.qSubsetRatio),tags:d,hasDuplicates:s.qHasDuplicates,nbrOfTotalDistinctValues:s.qnTotalDistinctValues,nbrOfPresentDistinctValues:s.qnPresentDistinctValues,nbrOfNonNulls:s.qnNonNulls,isKey:-1!==s.qTags.indexOf("$key"),isSynthetic:-1!==s.qTags.indexOf("$synthetic"),comment:s.qComment},derivedFields:s.qDerivedFields})}p[o.qName]={realName:f,top:o.qPos.qy,left:o.qPos.qx,height:0,width:0,autoLayoutX:o.qPos.qx,autoLayoutY:o.qPos.qy,meta:{nbrOfRows:o.qNoOfRows,nbrOfFields:Object.keys(a).length,nbrOfKeys:u,tags:c},fields:a,isDirectDiscovery:!!o.qIsDirectDiscovery,isSynthetic:!!o.qIsSynthetic}}return p}function c(){try{o=u(r);return Promise.resolve(o)}catch(e){return Promise.reject(e)}}function f(){var t=n.isInternalTableView();s=e.convertRawDataToIdealConnectionData(r,t,o)}function d(){if(!o)throw new Error("Cached ideal table data is undefined. Need to reload from engine first.");return o}function p(){if(!s)throw new Error("Cached ideal connection data is undefined. Need to reload from engine first.");return s}function h(e){i.clearAllCaches();r=void 0;o=void 0;s=void 0;return a(e).then(function(){return c()})}function v(e,t){for(var n in s){var i=s[n];if(i.fieldName===t&&-1!==i.tables.indexOf(e))return true}return false}return{getDataModel:d,getConnectionData:p,forceReload:h,doesTableFieldHaveConnection:v,recreateCachedIdealConnectionData:f,formatToPercentageNumber:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={};Object.defineProperties(e,{single:{value:"N",writable:false},drilldown:{value:"H",writable:false}});return{dimensionTypes:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(99),n(356)],r=function(e){var t=["$scope","$element","qvScrollAreaService",function(t,n,i){var r,s,a=[],l=[],u=[],c,f,d={};t.interactiveX=false;t.interactiveY=false;t.virtualSize={width:0,height:0};t.virtualViewport={width:0,height:0};t.scrollbarX=i.createScrollbar();t.scrollbarY=i.createScrollbar();t.viewportRect={top:0,left:0,width:0,height:0};t.hover=false;t.isMouse=true;Object.defineProperties(d,{PIXEL:{value:0},LINE:{value:1},PAGE:{value:2},AREA:{value:10}});Object.defineProperty(this,"DELTA_MODE",{value:d});t.$on("$destroy",function(){clearTimeout(c);clearTimeout(f)});this.setMouse=function(e){t.isMouse=e};this.getScrollAreaRect=function(){var e=n[0].getBoundingClientRect();return{top:0,left:0,width:Math.ceil(e.width),height:Math.ceil(e.height)}};this.addScrollbarXCtrl=function(e){r=e};this.addScrollbarYCtrl=function(e){s=e};this.allowFade=function(){return(void 0===r||r.allowFade())&&(void 0===s||s.allowFade())};this.fadeScrollbarsWithoutDelay=function(){r&&r.fadeOut();s&&s.fadeOut()};this.toggleFadeScrollbars=function(e){clearTimeout(f);clearTimeout(c);if(!e&&!this.allowFade())return;c=setTimeout(function(){var t=e?"fadeIn":"fadeOut";r&&r[t]();s&&s[t]()},e?0:800)};this.fadeInScrollbars=function(){this.toggleFadeScrollbars(true)};this.fadeOutScrollbars=function(){if(e.treatAsDesktop()&&t.hover)return;this.toggleFadeScrollbars(false)};this.fadeOutScrollbarsDelayed=function(){clearTimeout(f);f=setTimeout(function(){this.toggleFadeScrollbars(false)}.bind(this),1e3)};this.setNonMouseTrackSize=function(){if("object"!==o(t.nonMouseViewportScrolling))return;n.addClass(t.nonMouseViewportScrolling.className);this.setTrackSize(t.nonMouseViewportScrolling.scrollbarSize)};this.setMouseTrackSize=function(){"object"===o(t.nonMouseViewportScrolling)&&n.removeClass(t.nonMouseViewportScrolling.className);this.setTrackSize(t.scrollbarSize)};this.setTrackSize=function(e){var n=this.getVirtualPosition();this.setVirtualSize(t.virtualSize,t.virtualViewport,t.viewportRect,e);this.setVirtualScrollPos(n.vPosX,n.vPosY)};this.setupScrollbars=function(e){e=e||8;i.setScrollbarData(t.scrollbarY,"vertical",e,t.virtualSize.height,t.virtualViewport.height,t.viewportRect,t.direction);i.setScrollbarData(t.scrollbarX,"horizontal",e,t.virtualSize.width,t.virtualViewport.width,t.viewportRect,t.direction);if(t.scrollbarX.enabled&&t.scrollbarY.enabled){t.scrollbarX.length-=e;t.scrollbarX.scaleFactor=t.scrollbarX.length/t.virtualSize.width;t.scrollbarX.style.width=t.viewportRect.width-e-2*t.scrollbarX.uiOffset+"px";"rtl"===t.direction&&(t.scrollbarX.style.left=t.viewportRect.left+t.scrollbarX.uiOffset+e+"px");t.scrollbarY.length-=e;t.scrollbarY.scaleFactor=t.scrollbarY.length/t.virtualSize.height;t.scrollbarY.style.height=t.viewportRect.height-e-2*t.scrollbarY.uiOffset+"px"}};this.setVirtualSize=function(e,n,i,r){t.viewportRect=i;t.virtualSize.width=e.width;t.virtualSize.height=e.height;t.virtualViewport.width=n.width;t.virtualViewport.height=n.height;this.setupScrollbars(r)};this.setViewport=function(e){t.viewportRect=e};this.setVirtualViewport=function(e){var n=this.getVirtualPosition();t.virtualViewport.width=e.width;t.virtualViewport.height=e.height;t.scrollbarX.vViewportLength=e.width;t.scrollbarY.vViewportLength=e.height;this.setupScrollbars(t.isMouse?t.scrollbarSize:t.nonMouseViewportScrolling.scrollbarSize);this.setVirtualScrollPos(n.vPosX,n.vPosY)};this.getVirtualSize=function(){return{width:t.virtualSize.width,height:t.virtualSize.height}};this.getVirtualPosition=function(){var e=0,n=this.getMaxPosition();return{vPosX:Math.max(e,Math.min(n.vPosX,t.scrollbarX.vPos)),vPosY:Math.max(e,Math.min(n.vPosY,t.scrollbarY.vPos))}};this.getMaxPosition=function(){var e=0,n=Math.max(e,t.scrollbarX.vLength-t.scrollbarX.vViewportLength),i=Math.max(e,t.scrollbarY.vLength-t.scrollbarY.vViewportLength);return{vPosX:n,vPosY:i}};this.isMouseOver=function(){return t.hover};this.resetScroll=function(){if(void 0===t.scrollbarX.vPos||void 0===t.scrollbarY.vPos)return;0===t.scrollbarX.vPos&&0===t.scrollbarY.vPos||this.scroll(-t.scrollbarX.vPos,-t.scrollbarY.vPos,true,false)};this.setVirtualScrollPos=function(e,n,r){i.setVirtualScrollPos(e,t.scrollbarX,r);i.setVirtualScrollPos(n,t.scrollbarY,r)};this.scroll=function(e,n,r,o){var s,l;s=i.setVirtualScrollPos(e,t.scrollbarX,o);l=i.setVirtualScrollPos(n,t.scrollbarY,o);(0!==s||0!==l||r)&&a.forEach(function(e){e(s,l)})};this.getScrollAmount=function(e,t,n){switch(n){default:return{deltaX:e,deltaY:t}}};this.scrollStart=function(){l.forEach(function(e){e()})};this.scrollEnd=function(){u.forEach(function(e){e()})};this.onScroll=function(e){a.push(e)};this.onScrollStart=function(e){l.push(e)};this.onScrollEnd=function(e){u.push(e)};this.on=function(){if(!(t.interactiveX||t.interactiveY)){t.off=t.on();t.interactiveX=true;t.interactiveY=true}};this.off=function(){if(t.off){t.off();t.interactiveX=false;t.interactiveY=false}};this.setHorizontalScrollInteractive=function(e){t.interactiveX=e};this.setVerticalScrollInteractive=function(e){t.interactiveY=e};this.isVerticalScrollEnabled=function(){return t.scrollbarY.enabled};this.digest=function(){t.$parent.$digest()}}];return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.service("qvScrollAreaService",function(){function e(e){if("rtl"===e.textDirection&&"horizontal"===e.direction){var t=e.showMinAffordance;e.showMinAffordance=e.showMaxAffordance;e.showMaxAffordance=t}}return{createScrollbar:function e(){return{vLength:0,vViewportLength:0,vPos:0,vPage:0,thumb:{},style:{},classList:[],enabled:false,getScrollDelta:function e(t){var n=0,i=0;if(!this.enabled)return[0,0];switch(this.direction){case"vertical":i=t.swipe.curDeltaY*(1/this.scaleFactor);break;case"horizontal":n=("rtl"===this.textDirection?-1:1)*t.swipe.curDeltaX*(1/this.scaleFactor);break;default:throw new Error("not implemented")}return[n,i]},active:false}},setScrollbarData:function t(n,i,r,o,s,a,l){var u=3,c;switch(i){case"vertical":c=a.height;break;case"horizontal":c=a.width;break;default:throw new Error("not implemented")}n.enabled=s<o&&c>0;if(!n.enabled)return;c-=2*u;n.uiOffset=u;n.direction=i;n.vLength=o;n.vViewportLength=s;n.vPos=0;n.vPage=c;n.length=c;n.trackSize=r;n.scaleFactor=c/o;n.thumb.pos=0;n.thumb.size=0;n.thumb.vPos=0;n.showMinAffordance=false;n.showMaxAffordance=true;n.textDirection=l;switch(n.direction){case"vertical":n.style.top=a.top+n.uiOffset+"px";n.style.width=r+"px";n.style.left="rtl"===l?n.uiOffset+"px":a.left+a.width-r-n.uiOffset+"px";n.style.height=a.height-2*n.uiOffset+"px";break;case"horizontal":n.style.height=r+"px";n.style.top=a.top+a.height-r-n.uiOffset+"px";n.style.left=a.left+n.uiOffset+"px";n.style.width=a.width-2*n.uiOffset+"px";break;default:throw new Error("not implemented")}e(n)},setVirtualScrollPos:function t(n,i,r){var o=0,s=i.vLength-i.vViewportLength,a=0,l=i.thumb.vPos;if(!i.enabled)return 0;i.vPos+=n;i.showMinAffordance=false;i.showMaxAffordance=false;if(i.vPos<o){l=o;i.vPos=r?i.vPos:o;i.showMaxAffordance=true}else if(i.vPos>s){l=s;i.vPos=r?i.vPos:s;i.showMinAffordance=true}else{i.vPos!==o&&(i.showMinAffordance=true);i.vPos!==s&&(i.showMaxAffordance=true);l=i.vPos}a=l-i.thumb.vPos;i.thumb.vPos=l;e(i);return a},setThumbStyle:function e(t,n){var i=n.thumb;var r=12;var o=n.scaleFactor;var s=Math.floor(i.vPos*o);var a=Math.floor(n.vViewportLength*o);if(a<r){s-=Math.floor((r-a)/2);a=r}s=Math.max(s,0);s+a>n.length&&(s=n.length-a);i.size=a;i.pos=s;switch(n.direction){case"vertical":t.top=s+"px";t.height=a+"px";break;case"horizontal":if("rtl"===n.textDirection){delete t.left;t.right=s+"px"}else{delete t.right;t.left=s+"px"}t.width=a+"px";break;default:throw new Error("not implemented")}},setTrackHitAreaStyle:function e(t,n,i){if("vertical"===n.direction){t.right=-n.uiOffset+"px";t.width=i+n.uiOffset+"px"}else{t.bottom=-n.uiOffset+"px";t.height=i+n.uiOffset+"px"}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(153),n(49),n(157),n(134)],r=function(e,t,n,i){function r(e){var t={};t.permissions=e.permissions;t.name=e.qData.title;t.secondaryName=e.qData.labelExpression||"";t.type=e.qInfo.qType;t.id=e.qInfo.qId;t.getDropOption=s.bind(null,t);t.tags=e.qData.tags;t.info=e.qData.info;"H"===e.qData.grouping&&(t.icon="drill-down");return t}function o(t){return i.get(t.id).then(function(n){return n.getProperties().then(function(n){var i=e.createLibraryDimension(t.id);e.autoSortDimension(i,t.info);var r=t.name;n.qDim.qLabelExpression&&(r={qStringExpression:{qExpr:n.qDim.qLabelExpression}});return{id:"newObject",args:{template:"filterpane",children:[e.createDefaultListBox(i,r)],init:{}}}})})}function s(e,i,r){if(t.getFlag("DISABLE_AUTO_CHART")||n.isVariableDefined("DISABLE_AUTO_CHART"))return o(e);if(r&&r.shiftKey)return o(e);return{id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[{qLibraryId:e.id}],qInterColumnSortOrder:[0]},showTitles:false}}}}var a={create:function e(t){return t.map(function(e){return r(e)})}};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(801),n(100),n(802),n(174)],r=function(e,t,n,i){function r(r){var o={template:t,controller:["$scope",function(t){t.input=r;t.valueColors=[];r.baseColor&&r.baseColor.color&&(t.color=n.resolveColor(r.baseColor));t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef;var o=e.getService("qvColorMapService");var s=o.getTemplate();o.getColorMap(t.input.qId).then(function(e){if(e){s=e;t.valueColors=i.getColors(s);t.previewColorViewWidth=i.getPreviewColorViewWidth(t.valueColors)}})}],dock:"right",alignTo:r.alignTo[0]};return e.getService("luiPopover").show(o)}return{show:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(48),n(210),n(193)],r=function(e,t,n){var i={},r,o=[];return{saveTemplate:y,getTemplate:_,deleteTemplate:w,addTemplate:C,getWidgetList:l,getWidgetListFromLibrary:u,loadWidget:q,getLibForId:a,loadFile:c,getLibrary:v,saveLibrary:p,deleteLibrary:h,reloadCachedLibraries:b};function s(e){return(e.libid?e.libid:e.id)+"/"+e.id}function a(e){var t=o.filter(function(t){return t.data.widgets&&t.data.widgets.indexOf(e)>-1});t.length>1&&console.log("Duplicate libraries for widget:"+e,t);return t[0]}function l(t){if(!r||t){r=new e;var i=[];n.getList(t).then(function(e){o.length=0;e.forEach(function(e){if("widget-library"===e.data.type){o.push(e);e.data.widgets&&e.data.widgets.forEach(function(t){i.push({libid:e.id,id:t})})}});r.resolve(i)})}return r.promise}function u(t){var i=[];var r=new e;n.getList(false).then(function(e){o.length=0;e.forEach(function(e){if("widget-library"===e.data.type&&e.id===t){o.push(e);e.data.widgets&&e.data.widgets.forEach(function(t){i.push({libid:e.id,id:t})})}});r.resolve(i)});return r.promise}function c(e,n){return t.getService("$contentApi").request({method:"GET",url:"/extensions/"+e+(n?"?"+(new Date).getTime():""),cache:false})}function f(n,i,r){var o=new e;if(r){c(n).then(function(e){var t=e.headers;t("last-modified")!==r?o.reject("File modified by another user"):f(n,i).then(function(){o.resolve()}).catch(function(e){o.reject(e)})});return o.promise}var s=n.split("/");t.getService("$contentApi").request({method:"POST",url:"/qrs/extension/"+s[0]+"/uploadfile?externalpath="+s[1]+"&overwrite=true",data:i}).then(function(){o.resolve()}).catch(function(e){o.reject(e)});return o.promise}function d(n){var i=new e;var r=n.split("/");t.getService("$contentApi").request({method:"DELETE",url:"/qrs/extension/"+r[0]+"/deletecontent?externalpath="+r[1]}).then(function(){i.resolve()}).catch(function(e){i.reject(e)});return i.promise}function p(t){var n=new e;f(s(t)+".qext",JSON.stringify(t.data,null,2)).then(function(){n.resolve()},function(e){n.reject(e)});return n.promise}function h(e){return d(s(e)+".qext")}function v(e){return c(e+"/"+e+".qext",true).then(function(e){return e.data})}function m(t,n){var i=new e;v(t).then(function(e){e.widgets||(e.widgets=[]);e.widgets.push(n);p({id:t,data:e}).then(function(){i.resolve()},function(e){i.reject(e)})});return i.promise}function g(t,n){var i=new e;v(t).then(function(e){if(e.widgets){e.widgets=e.widgets.filter(function(e){return e!==n});p({id:t,data:e}).then(function(){i.resolve()},function(e){i.reject(e)})}else i.reject()});return i.promise}function b(){var t=new e;n.getList(true).then(function(e){o.length=0;e.forEach(function(e){"widget-library"===e.data.type&&o.push(e)});t.resolve()}).catch(function(e){t.reject(e)});return t.promise}function y(t){var n=new e,i=s(t);f(i+".json",JSON.stringify({name:t.name,description:t.description,author:t.author,library:t.libid,meta:t.meta,properties:t.properties,dependencies:t.dependencies},null,2),t.lastModified).then(function(){var e="<style>"+t.css+"</style>\n<div>"+t.html+"</div>";f(i+".html",e).then(function(){t.lastModified?c(i+".json",true).then(function(e){var n=e.headers;t.lastModified=n("last-modified")}).then(function(){n.resolve()}):m(t.libid,t.id).then(function(){c(i+".json",true).then(function(e){var n=e.headers;t.lastModified=n("last-modified")}).then(function(){n.resolve()})})},function(e){n.reject(e)})},function(e){n.reject(e)});return n.promise}function x(t){var n=new e;c(t+".json",true).then(function(e){var t=e.data;var i=e.headers;t.lastModified=i("last-modified");n.resolve(t)}).catch(function(e){n.reject(e)});return n.promise}function _(e,t){var n=e+"/"+t;i[n]||(i[n]=x(n));return i[n]}function w(t){var n=new e,r=s(t);d(r+".json").then(function(){g(t.libid,t.id).then(function(){d(r+".html").then(function(){delete i[r];n.resolve()},function(e){n.reject(e)})},function(e){n.reject(e)})},function(){n.reject()});return n.promise}function q(t){var n=new e,i=s(t);c(i+".html",true).then(function(e){var i=e.data;var r=document.createElement("div");r.innerHTML=i;var o=r.getElementsByTagName("script");var s=o.length;while(s--)o[s].parentNode.removeChild(o[s]);var a=r.getElementsByTagName("style");if(1===a.length){t.css=a[0].innerHTML;var l=r.getElementsByTagName("div");t.html=l[0].innerHTML;n.resolve()}else n.reject("Widget.InvalidTemplate")}).catch(function(){n.reject()});return n.promise}function C(t){var n=s(t);if(!i[n]){var r=new e;i[n]=r.promise;r.resolve(t)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96)],r=function(e,t){function n(t,n,i){return e.Event(t,{pageX:i.pagePoints[0].x,pageY:i.pagePoints[0].y,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,originalEvent:n,gestureData:i})}var i;t(document.body).tap({options:{preventDefault:false},start:function t(n){i=e(n.target)}});t(document.body).swipe({options:{preventDefault:false,radiusThreshold:8},start:function e(t,r){var o=n("qv-swipestart",t,r);i.trigger(o)},update:function e(t,r){var o=n("qv-swipeupdate",t,r);i.trigger(o)},cancel:function t(){var n=e.Event("qv-swipecancel");i.trigger(n)},end:function e(o,s){t.utils.isMouse(o)||r();var a=n("qv-swipe",o,s);i.trigger(a)}});function r(){var e;function t(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",i,true);document.removeEventListener("mouseup",r,true)}function n(e){e.preventDefault();e.stopPropagation()}function i(e){e.preventDefault();e.stopPropagation()}function r(n){n.preventDefault();n.stopPropagation();t();clearTimeout(e)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",i,true);document.addEventListener("mouseup",r,true);e=setTimeout(t,350)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96)],r=function(e,t){var n=t.Gesture.augment(function(n){var i=false;this.defaults={radiusThreshold:10,timeThreshold:510,touches:1,precedence:4,preventDefault:false,which:1,interval:10};this.on=function(e){this.count=0;t(e).longtap({id:this.id,options:{precedence:this.options.precedence,preventDefault:this.options.preventDefault,touches:this.options.touches,which:this.options.which,areaThreshold:this.options.areaThreshold,timeThreshold:this.options.timeThreshold,interval:this.options.interval},start:this.longtapStart.bind(this),update:this.longtapUpdate.bind(this),cancel:this.longtapCancel.bind(this),end:this.longtapEnd.bind(this)}).swipe({id:this.id,options:{precedence:this.options.precedence+1,preventDefault:this.options.preventDefault,radiusThreshold:this.options.radiusThreshold,touches:this.options.touches},start:this.swipeStart.bind(this),update:this.swipeUpdate.bind(this),end:this.swipeEnd.bind(this),cancel:this.swipeCancel.bind(this)})};this.off=function(e){t(e).off("longtap",this.id);t(e).off("swipe",this.id)};this.longtapStart=function(){i=false};this.longtapUpdate=function(e,t){100===t.percentage&&(i=true)};this.longtapEnd=function(){this.binder.cancel()};this.longtapCancel=function(){i||this.binder.cancel()};this.swipeStart=function(t,n){var r=e(t.target).is("input, textarea");i&&!r?this.binder.start(t,n):i&&r&&(i=false)};this.swipeUpdate=function(e,t){i&&this.binder.update(e,t)};this.swipeEnd=function(e,t){if(i){o();this.binder.end(e,t);i=false}};this.swipeCancel=function(){i=false;this.binder.cancel()};function r(){n.apply(this,arguments)}function o(){var e;function t(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",i,true);document.removeEventListener("mouseup",r,true)}function n(e){e.preventDefault();e.stopPropagation()}function i(e){e.preventDefault();e.stopPropagation()}function r(n){n.preventDefault();n.stopPropagation();t();clearTimeout(e)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",i,true);document.addEventListener("mouseup",r,true);e=setTimeout(t,350)}return r});t.gestures.add("longtapswipe",n)}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{isSnapshotData:e};function e(e){return e&&!!e.sourceObjectId}}.apply(t,i),void 0!==r&&(e.exports=r))},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type";var WINDOW="object"===typeof window;var root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=false);var WEB_WORKER=!WINDOW&&"object"===typeof self;var NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"===typeof module&&module.exports;var AMD=(true,__webpack_require__(593));var ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer;var HEX_CHARS="0123456789abcdef".split("");var EXTRA=[-2147483648,8388608,32768,128];var SHIFT=[24,16,8,0];var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var OUTPUT_TYPES=["hex","array","digest","arrayBuffer"];var blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,true).update(n)[e]()}};var createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e));t.create=function(){return new Sha256(e)};t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createOutputMethod(i,e)}return t};var nodeWrap=function(method,is224){var crypto=eval("require('crypto')");var Buffer=eval("require('buffer').Buffer");var algorithm=is224?"sha224":"sha256";var nodeMethod=function(e){if("string"===typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null===e||void 0===e)throw new Error(ERROR);e.constructor===ArrayBuffer&&(e=new Uint8Array(e));return Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};var createHmacOutputMethod=function(e,t){return function(n,i){return new HmacSha256(n,t,true).update(i)[e]()}};var createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)};t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var i=OUTPUT_TYPES[n];t[i]=createHmacOutputMethod(i,e)}return t};function Sha256(e,t){if(t){blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0;this.blocks=blocks}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(e){this.h0=3238371032;this.h1=914150663;this.h2=812702999;this.h3=4144912697;this.h4=4290775857;this.h5=1750603025;this.h6=1694076839;this.h7=3204075428}else{this.h0=1779033703;this.h1=3144134277;this.h2=1013904242;this.h3=2773480762;this.h4=1359893119;this.h5=2600822924;this.h6=528734635;this.h7=1541459225}this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=false;this.first=true;this.is224=e}Sha256.prototype.update=function(e){if(this.finalized)return;var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR);t=true}var i,r=0,o,s=e.length,a=this.blocks;while(r<s){if(this.hashed){this.hashed=false;a[0]=this.block;a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0}if(t)for(o=this.start;r<s&&o<64;++r)a[o>>2]|=e[r]<<SHIFT[3&o++];else for(o=this.start;r<s&&o<64;++r){i=e.charCodeAt(r);if(i<128)a[o>>2]|=i<<SHIFT[3&o++];else if(i<2048){a[o>>2]|=(192|i>>6)<<SHIFT[3&o++];a[o>>2]|=(128|63&i)<<SHIFT[3&o++]}else if(i<55296||i>=57344){a[o>>2]|=(224|i>>12)<<SHIFT[3&o++];a[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++];a[o>>2]|=(128|63&i)<<SHIFT[3&o++]}else{i=65536+((1023&i)<<10|1023&e.charCodeAt(++r));a[o>>2]|=(240|i>>18)<<SHIFT[3&o++];a[o>>2]|=(128|i>>12&63)<<SHIFT[3&o++];a[o>>2]|=(128|i>>6&63)<<SHIFT[3&o++];a[o>>2]|=(128|63&i)<<SHIFT[3&o++]}}this.lastByteIndex=o;this.bytes+=o-this.start;if(o>=64){this.block=a[16];this.start=o-64;this.hash();this.hashed=true}else this.start=o}if(this.bytes>4294967295){this.hBytes+=this.bytes/4294967296<<0;this.bytes=this.bytes%4294967296}return this};Sha256.prototype.finalize=function(){if(this.finalized)return;this.finalized=true;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block;e[t>>2]|=EXTRA[3&t];this.block=e[16];if(t>=56){this.hashed||this.hash();e[0]=this.block;e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0}e[14]=this.hBytes<<3|this.bytes>>>29;e[15]=this.bytes<<3;this.hash()};Sha256.prototype.hash=function(){var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,s=this.h6,a=this.h7,l=this.blocks,u,c,f,d,p,h,v,m,g,b,y;for(u=16;u<64;++u){p=l[u-15];c=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;p=l[u-2];f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;l[u]=l[u-16]+c+l[u-7]+f<<0}y=t&n;for(u=0;u<64;u+=4){if(this.first){if(this.is224){m=300032;p=l[0]-1413257819;a=p-150054599<<0;i=p+24177077<<0}else{m=704751109;p=l[0]-210244248;a=p-1521486534<<0;i=p+143694565<<0}this.first=false}else{c=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10);f=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7);m=e&t;d=m^e&n^y;v=r&o^~r&s;p=a+f+v+K[u]+l[u];h=c+d;a=i+p<<0;i=p+h<<0}c=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10);f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7);g=i&e;d=g^i&t^m;v=a&r^~a&o;p=s+f+v+K[u+1]+l[u+1];h=c+d;s=n+p<<0;n=p+h<<0;c=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10);f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7);b=n&i;d=b^n&e^g;v=s&a^~s&r;p=o+f+v+K[u+2]+l[u+2];h=c+d;o=t+p<<0;t=p+h<<0;c=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10);f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7);y=t&n;d=y^t&i^b;v=o&s^~o&a;p=r+f+v+K[u+3]+l[u+3];h=c+d;r=e+p<<0;e=p+h<<0}this.h0=this.h0+e<<0;this.h1=this.h1+t<<0;this.h2=this.h2+n<<0;this.h3=this.h3+i<<0;this.h4=this.h4+r<<0;this.h5=this.h5+o<<0;this.h6=this.h6+s<<0;this.h7=this.h7+a<<0};Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,s=this.h6,a=this.h7;var l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];this.is224||(l+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]);return l};Sha256.prototype.toString=Sha256.prototype.hex;Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,i=this.h3,r=this.h4,o=this.h5,s=this.h6,a=this.h7;var l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];this.is224||l.push(a>>24&255,a>>16&255,a>>8&255,255&a);return l};Sha256.prototype.array=Sha256.prototype.digest;Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32);var t=new DataView(e);t.setUint32(0,this.h0);t.setUint32(4,this.h1);t.setUint32(8,this.h2);t.setUint32(12,this.h3);t.setUint32(16,this.h4);t.setUint32(20,this.h5);t.setUint32(24,this.h6);this.is224||t.setUint32(28,this.h7);return e};function HmacSha256(e,t,n){var i,r=typeof e;if("string"===r){var o=[],s=e.length,a=0,l;for(i=0;i<s;++i){l=e.charCodeAt(i);if(l<128)o[a++]=l;else if(l<2048){o[a++]=192|l>>6;o[a++]=128|63&l}else if(l<55296||l>=57344){o[a++]=224|l>>12;o[a++]=128|l>>6&63;o[a++]=128|63&l}else{l=65536+((1023&l)<<10|1023&e.charCodeAt(++i));o[a++]=240|l>>18;o[a++]=128|l>>12&63;o[a++]=128|l>>6&63;o[a++]=128|63&l}}e=o}else{if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,true).update(e).array());var u=[],c=[];for(i=0;i<64;++i){var f=e[i]||0;u[i]=92^f;c[i]=54^f}Sha256.call(this,t,n);this.update(c);this.oKeyPad=u;this.inner=true;this.sharedMemory=n}HmacSha256.prototype=new Sha256;HmacSha256.prototype.finalize=function(){Sha256.prototype.finalize.call(this);if(this.inner){this.inner=false;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(e);Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports;exports.sha224=createMethod(true);exports.sha256.hmac=createHmacMethod();exports.sha224.hmac=createHmacMethod(true);if(COMMON_JS)module.exports=exports;else{root.sha256=exports.sha256;root.sha224=exports.sha224;AMD&&!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}})()}).call(this,__webpack_require__(4),__webpack_require__(15))},,,function(e,t,n){var i,r;!(i=[],r=function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(t){if(null==t)return"";var n="";var i,r,o,s,a,l,u;var c=0;t=e.compress(t);while(c<2*t.length){if(c%2==0){i=t.charCodeAt(c/2)>>8;r=255&t.charCodeAt(c/2);o=c/2+1<t.length?t.charCodeAt(c/2+1)>>8:NaN}else{i=255&t.charCodeAt((c-1)/2);if((c+1)/2<t.length){r=t.charCodeAt((c+1)/2)>>8;o=255&t.charCodeAt((c+1)/2)}else r=o=NaN}c+=3;s=i>>2;a=(3&i)<<4|r>>4;l=(15&r)<<2|o>>6;u=63&o;isNaN(r)?l=u=64:isNaN(o)&&(u=64);n=n+e._keyStr.charAt(s)+e._keyStr.charAt(a)+e._keyStr.charAt(l)+e._keyStr.charAt(u)}return n},decompressFromBase64:function(t){if(null==t)return"";var n="",i=0,r,o,s,a,l,u,c,f,d=0,p=e._f;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<t.length){l=e._keyStr.indexOf(t.charAt(d++));u=e._keyStr.indexOf(t.charAt(d++));c=e._keyStr.indexOf(t.charAt(d++));f=e._keyStr.indexOf(t.charAt(d++));o=l<<2|u>>4;s=(15&u)<<4|c>>2;a=(3&c)<<6|f;if(i%2==0){r=o<<8;64!=c&&(n+=p(r|s));64!=f&&(r=a<<8)}else{n+=p(r|o);64!=c&&(r=s<<8);64!=f&&(n+=p(r|a))}i+=3}return e.decompress(n)},compressToUTF16:function(t){if(null==t)return"";var n="",i,r,o,s=0,a=e._f;t=e.compress(t);for(i=0;i<t.length;i++){r=t.charCodeAt(i);switch(s++){case 0:n+=a(32+(r>>1));o=(1&r)<<14;break;case 1:n+=a(o+(r>>2)+32);o=(3&r)<<13;break;case 2:n+=a(o+(r>>3)+32);o=(7&r)<<12;break;case 3:n+=a(o+(r>>4)+32);o=(15&r)<<11;break;case 4:n+=a(o+(r>>5)+32);o=(31&r)<<10;break;case 5:n+=a(o+(r>>6)+32);o=(63&r)<<9;break;case 6:n+=a(o+(r>>7)+32);o=(127&r)<<8;break;case 7:n+=a(o+(r>>8)+32);o=(255&r)<<7;break;case 8:n+=a(o+(r>>9)+32);o=(511&r)<<6;break;case 9:n+=a(o+(r>>10)+32);o=(1023&r)<<5;break;case 10:n+=a(o+(r>>11)+32);o=(2047&r)<<4;break;case 11:n+=a(o+(r>>12)+32);o=(4095&r)<<3;break;case 12:n+=a(o+(r>>13)+32);o=(8191&r)<<2;break;case 13:n+=a(o+(r>>14)+32);o=(16383&r)<<1;break;case 14:n+=a(o+(r>>15)+32,32+(32767&r));s=0;break}}return n+a(o+32)},decompressFromUTF16:function(t){if(null==t)return"";var n="",i,r,o=0,s=0,a=e._f;while(s<t.length){r=t.charCodeAt(s)-32;switch(o++){case 0:i=r<<1;break;case 1:n+=a(i|r>>14);i=(16383&r)<<2;break;case 2:n+=a(i|r>>13);i=(8191&r)<<3;break;case 3:n+=a(i|r>>12);i=(4095&r)<<4;break;case 4:n+=a(i|r>>11);i=(2047&r)<<5;break;case 5:n+=a(i|r>>10);i=(1023&r)<<6;break;case 6:n+=a(i|r>>9);i=(511&r)<<7;break;case 7:n+=a(i|r>>8);i=(255&r)<<8;break;case 8:n+=a(i|r>>7);i=(127&r)<<9;break;case 9:n+=a(i|r>>6);i=(63&r)<<10;break;case 10:n+=a(i|r>>5);i=(31&r)<<11;break;case 11:n+=a(i|r>>4);i=(15&r)<<12;break;case 12:n+=a(i|r>>3);i=(7&r)<<13;break;case 13:n+=a(i|r>>2);i=(3&r)<<14;break;case 14:n+=a(i|r>>1);i=(1&r)<<15;break;case 15:n+=a(i|r);o=0;break}s++}return e.decompress(n)},compress:function(t){if(null==t)return"";var n,i,r={},o={},s="",a="",l="",u=2,c=3,f=2,d="",p=0,h=0,v,m=e._f;for(v=0;v<t.length;v+=1){s=t.charAt(v);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=c++;o[s]=true}a=l+s;if(Object.prototype.hasOwnProperty.call(r,a))l=a;else{if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<f;n++){p<<=1;if(15==h){h=0;d+=m(p);p=0}else h++}i=l.charCodeAt(0);for(n=0;n<8;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}}else{i=1;for(n=0;n<f;n++){p=p<<1|i;if(15==h){h=0;d+=m(p);p=0}else h++;i=0}i=l.charCodeAt(0);for(n=0;n<16;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}delete o[l]}else{i=r[l];for(n=0;n<f;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}r[a]=c++;l=String(s)}}if(""!==l){if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<f;n++){p<<=1;if(15==h){h=0;d+=m(p);p=0}else h++}i=l.charCodeAt(0);for(n=0;n<8;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}}else{i=1;for(n=0;n<f;n++){p=p<<1|i;if(15==h){h=0;d+=m(p);p=0}else h++;i=0}i=l.charCodeAt(0);for(n=0;n<16;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}delete o[l]}else{i=r[l];for(n=0;n<f;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}}i=2;for(n=0;n<f;n++){p=p<<1|1&i;if(15==h){h=0;d+=m(p);p=0}else h++;i>>=1}while(true){p<<=1;if(15==h){d+=m(p);break}h++}return d},decompress:function(t){if(null==t)return"";if(""==t)return null;var n=[],i,r=4,o=4,s=3,a="",l="",u,c,f,d,p,h,v,m=e._f,g={string:t,val:t.charCodeAt(0),position:32768,index:1};for(u=0;u<3;u+=1)n[u]=u;f=0;p=Math.pow(2,2);h=1;while(h!=p){d=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}f|=(d>0?1:0)*h;h<<=1}switch(i=f){case 0:f=0;p=Math.pow(2,8);h=1;while(h!=p){d=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}f|=(d>0?1:0)*h;h<<=1}v=m(f);break;case 1:f=0;p=Math.pow(2,16);h=1;while(h!=p){d=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}f|=(d>0?1:0)*h;h<<=1}v=m(f);break;case 2:return""}n[3]=v;c=l=v;while(true){if(g.index>g.string.length)return"";f=0;p=Math.pow(2,s);h=1;while(h!=p){d=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}f|=(d>0?1:0)*h;h<<=1}switch(v=f){case 0:f=0;p=Math.pow(2,8);h=1;while(h!=p){d=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}f|=(d>0?1:0)*h;h<<=1}n[o++]=m(f);v=o-1;r--;break;case 1:f=0;p=Math.pow(2,16);h=1;while(h!=p){d=g.val&g.position;g.position>>=1;if(0==g.position){g.position=32768;g.val=g.string.charCodeAt(g.index++)}f|=(d>0?1:0)*h;h<<=1}n[o++]=m(f);v=o-1;r--;break;case 2:return l}if(0==r){r=Math.pow(2,s);s++}if(n[v])a=n[v];else{if(v!==o)return null;a=c+c.charAt(0)}l+=a;n[o++]=c+a.charAt(0);r--;c=a;if(0==r){r=Math.pow(2,s);s++}}}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(236),n(96)],r=function(e,t,n){function i(i,r,o){var s=false;var a=null;var l=o.cond||function(){return true};var u=o.onStart||function e(){};var c=o.onStop||function e(){};var f=o.isEnabled||function(){return true};function d(t){return"string"===typeof o.elem?e(o.elem)[0]:"function"===typeof o.elem?o.elem(t):o.elem}function p(t){return"function"===typeof o.info?o.info(e(t.target).scope(),t):o.info}function h(t){e(t.target).off("remove",h);s.cancel();c(t,true)}i.on("qv-press",r,function(e){s=null;var t=p(e);if(!f(t,e)){s=false;return}o.allowScroll||n.utils.touch||e.preventDefault()});i.on("qv-swipe",r,function(t){if(false===s)return;if(true===s){clearTimeout(a);a=null}else if(s){e(t.target).off("remove",h);s.update(t);s.end(t);c(t,false)}s=false});i.on("qv-swipecancel",r,function(t){if(false===s)return;if(true===s){clearTimeout(a);a=null}else if(s){e(t.target).off("remove",h);s.cancel();c(t,true)}s=false});i.on("qv-swipestart qv-swipeupdate",r,function(i){if(false===s)return;if(!s){var r=l(i.gestureData.swipe);if(r){s=true;n.WebkitHack.prevent();a=setTimeout(function(){a=null;e(i.target).on("remove",h);u(i,e(i.target).scope());var n=d(i);var r=p(i);s=t.startDrag(n,r);s&&s.update(i)},0)}else false===r&&(s=false)}if(s){i.preventDefault();true!==s&&s.update(i)}})}return{addDrag:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(101),n(108),n(618),n(619),n(620),n(329),n(444),n(91),n(100),n(107),n(90),n(185),n(49)],r=function(e,t,n,i,r,s,a,l,u,c,f,d,p){var h={sorting:n,axis:i,styling:r};var v=d.getLogicFor("hard","default");function m(t,n){return e.getValue(t,"qDef.qNumFormat.qFmt")===a.getDefaultNumericFormat(t.qDef.qNumFormat,n?n.localeInfo:"")}function g(t){void 0===e.getValue(t,"color.useMeasureGradient")&&e.setValue(t,"color.useMeasureGradient",false);var n=e.getValue(t,"color.auto"),i=e.getValue(t,"color.mode");return!n&&"byMeasure"===i&&"libraryItem"===e.getValue(t,"color.byMeasureDef.type")}h.general={type:"items",translation:"properties.general",grouped:true,items:{showTitles:{translation:"properties.showTitles",type:"boolean",ref:"showTitles",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],snapshot:{tid:"property-showTitles"}},titles:{type:"items",show:function e(t){return false!==t.showTitles},items:{title:{translation:"Common.Title",component:"string",expression:"optional",ref:"title",defaultValue:""},subtitle:{translation:"properties.subtitle",type:"string",expression:"optional",ref:"subtitle",defaultValue:""},footnote:{translation:"properties.footnote",type:"string",expression:"optional",ref:"footnote",defaultValue:""}}},details:{type:"items",show:true,items:{showDetails:{translation:"properties.showDetails",type:"boolean",ref:"showDetails",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Show"},{value:false,translation:"properties.hide"}]},allowShowDetailsMessage:{component:"text",translation:"properties.allowShowDetails",style:"hint"}}}}};h.metadata={type:"items",translation:"properties.metadata",schemaIgnore:true,show:function e(t){return"masterobject"===t.qInfo.qType},grouped:true,items:{name:{translation:"Common.Name",type:"string",ref:"qMetaDef.title",minlength:1,rollbackInvalid:true,show:function e(t){return t.qMetaDef}},labelExpression:{translation:"metadata.labelExpression",type:"string",component:"expression",expressionType:"StringExpression",expression:"always",change:function e(t){var n=f.getValue(t,"labelExpression.qStringExpression.qExpr");n||(t.labelExpression=void 0)},ref:"labelExpression",show:function e(t){return!!t.qMetaDef}},description:{translation:"Common.Description",type:"string",component:"textarea",expression:"optional",change:function e(t,n,i){if("object"===o(i.qMetaDef.description)){i.descriptionExpression=i.qMetaDef.description;i.qMetaDef.description=""}else if("string"===typeof i.descriptionExpression&&i.descriptionExpression){i.qMetaDef.description=i.descriptionExpression;i.descriptionExpression=void 0}},refFn:function e(t){var n="object"===o(t.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},maxlength:c.description,show:function e(t){return t.qMetaDef}},tags:{translation:"Common.Tags",component:"tags",type:"array",ref:"qMetaDef.tags",show:function e(t){return t.qMetaDef}}}};h.settings={type:"items",component:"expandable-items",translation:"Common.Appearance",items:{metadata:h.metadata,general:h.general}};p.getFlag("ALT_STATE_ONE")&&t.inClient()&&(h.settings.items.selections=s);h.addons={type:"items",component:"expandable-items",translation:"properties.addons",items:{}};h.dimensions={type:"array",component:"dimensions",translation:"Common.Dimensions",alternativeTranslation:"properties.alternative.dimensions",ref:"qHyperCubeDef.qDimensions",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.dimensions.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"dimension",ref:"qLibraryId",translation:"Common.Dimension",show:function e(t){return t.qLibraryId}},inlineDimension:{component:"inline-dimension",show:function e(t){return!t.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},nullSuppression:{type:"boolean",ref:"qNullSuppression",defaultValue:false,translation:"properties.dimensions.showNull",inverted:true},dimensionLimits:{type:"items",items:{otherMode:{type:"string",component:"dropdown",ref:"qOtherTotalSpec.qOtherMode",translation:"properties.dimensionLimits.limitation",options:[{value:"OTHER_OFF",translation:"properties.dimensionLimits.none"},{value:"OTHER_COUNTED",translation:"properties.dimensionLimits.fixedNumber"},{value:"OTHER_ABS_LIMITED",translation:"properties.dimensionLimits.exactValue"},{value:"OTHER_REL_LIMITED",translation:"properties.dimensionLimits.relativeValue"}],defaultValue:"OTHER_OFF",readOnly:function e(t,n){return 0===n.getMeasures().length},change:function t(n){var i=e.getValue(n,"qOtherTotalSpec.qOtherMode"),r;if("OTHER_REL_LIMITED"===i){r=e.getValue(n,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"!==r[r.length-1]&&f.isNumeric(r)){n.qOtherTotalSpec.qOtherLimit||e.setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.qOtherTotalSpec.qOtherLimit.qv=r+"%"}}else if("OTHER_ABS_LIMITED"===i){r=e.getValue(n,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"===r[r.length-1]){n.qOtherTotalSpec.qOtherLimit||e.setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.qOtherTotalSpec.qOtherLimit.qv=r.substr(0,r.length-1)}}}},otherSortMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherSortMode",options:[{value:"OTHER_SORT_DESCENDING",translation:"properties.dimensionLimits.fixedNumber.sortDescendingLabel"},{value:"OTHER_SORT_ASCENDING",translation:"properties.dimensionLimits.fixedNumber.sortAscendingLabel"}],defaultValue:"OTHER_SORT_DESCENDING",show:function t(n,i){return"OTHER_COUNTED"===e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},otherCounted:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherCounted",defaultValue:{qv:"10"},show:function t(n,i){return"OTHER_COUNTED"===e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},otherLimitMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherLimitMode",options:[{value:"OTHER_GE_LIMIT",label:">=",tooltipTranslation:"properties.greaterOrEqualTo"},{value:"OTHER_GT_LIMIT",label:">",tooltipTranslation:"properties.greaterThan"},{value:"OTHER_LT_LIMIT",label:"<",tooltipTranslation:"properties.lessThan"},{value:"OTHER_LE_LIMIT",label:"<=",tooltipTranslation:"properties.lessOrEqualTo"}],defaultValue:"OTHER_GE_LIMIT",icon:true,smallIconFont:true,show:function t(n,i){var r=e.getValue(n,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&i.getMeasures().length>0}},otherLimit:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherLimit",defaultValue:{qv:"0"},show:function t(n,i){var r=e.getValue(n,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&i.getMeasures().length>0}},calculatedAgainstMessage:{component:"text",label:function e(t,n){var i=n.getMeasureLayouts()[0];return i?l.get("Properties.DimensionLimits.CalculatedAgainst",i.qFallbackTitle):l.get("Properties.DimensionLimits.NoMeasure")},show:function t(n){var i=e.getValue(n,"qOtherTotalSpec.qOtherMode");return"OTHER_OFF"!==i}}}},others:{type:"items",items:{suppressOther:{type:"boolean",ref:"qOtherTotalSpec.qSuppressOther",translation:"properties.dimensionLimits.showOthers",inverted:true,defaultValue:false,show:function t(n,i){return"OTHER_OFF"!==e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},othersLabel:{type:"string",expression:"optional",ref:"qDef.othersLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function e(){return l.get("properties.dimensionLimits.others")},change:function e(t){if(t.qDef){var n=t.qDef.othersLabel||"";if("object"===o(n)){n=n.qStringExpression&&n.qStringExpression.qExpr||"";t.qOtherLabel={qv:0===n.indexOf("=")?n:"="+n}}else t.qOtherLabel={qv:n}}},show:function t(n,i){return!e.getValue(n,"qOtherTotalSpec.qSuppressOther")&&"OTHER_OFF"!==e.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},othersLabel2:{type:"string",component:"expression",expressionType:"StringExpr",ref:"qOtherLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function e(){return l.get("properties.dimensionLimits.others")},show:false}}}}};h.measures={type:"array",component:"measures",translation:"Common.Measures",ref:"qHyperCubeDef.qMeasures",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.measures.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"measure",ref:"qLibraryId",translation:"Common.Measure",show:function e(t){return t.qLibraryId}},inlineMeasure:{component:"inline-measure",show:function e(t){return!t.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},numberFormatting:{type:"items",items:{numberFormattingType:{type:"string",component:"custom-formatter-dropdown",ref:"qDef.qNumFormat.qType",translation:"properties.numberFormatting",defaultValue:"U",schemaIgnore:true,options:[{value:"U",translation:"Common.Auto"},{value:"F",translation:"properties.numberFormatting.types.number"},{value:"M",translation:"properties.numberFormatting.types.money"},{value:"D",translation:"properties.numberFormatting.types.date"},{value:"IV",translation:"properties.numberFormatting.types.duration"},{value:"R",translation:"Common.Custom"},{value:"OFF",translation:"properties.numberFormatting.types.customFormatting"}],change:function e(t,n,i,r){a.setNumFmtPattern("qType",t.qDef.qNumFormat,r.localeInfo)}},numberFormattingMode:{type:"boolean",component:"switch",ref:"qDef.numFormatFromTemplate",translation:"properties.numberFormatting.formatting",defaultValue:true,options:[{value:true,translation:"properties.numberFormatting.simple"},{value:false,translation:"Common.Custom"}],show:function t(n){return["F","D","TS","T"].contains(e.getValue(n,"qDef.qNumFormat.qType"))}},numberFormattingTemplates:{type:"string",component:"number-formatter-dropdown",ref:"qDef.qNumFormat.qFmt",defaultValue:"#,##0",schemaIgnore:true,show:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");return["F","D","TS","T"].contains(i)&&true===e.getValue(n,"qDef.numFormatFromTemplate",true)}},numDecimals:{type:"integer",ref:"qDef.qNumFormat.qnDec",translation:"properties.numberFormatting.nDec",defaultValue:2,schemaIgnore:true,min:0,max:14,show:false},numPrecisionDigits:{type:"integer",ref:"qDef.qNumFormat.qnDec",translation:"properties.numberFormatting.significantFigures",defaultValue:10,schemaIgnore:true,min:1,max:14,show:false},decimalSep:{type:"string",ref:"qDef.qNumFormat.qDec",translation:"properties.numberFormatting.dec",defaultValue:".",schemaIgnore:true,show:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");return"R"===i},change:function e(t,n,i,r){a.setNumFmtPattern("qDec",t.qDef.qNumFormat,r.localeInfo)},invalid:function t(n){return e.getValue(n,"qDef.qNumFormat.qDec")===e.getValue(n,"qDef.qNumFormat.qThou")},readOnly:function e(t,n,i,r){return!m(t,r)}},thousandSep:{type:"string",ref:"qDef.qNumFormat.qThou",translation:"properties.numberFormatting.thousandSeparator",defaultValue:"",schemaIgnore:true,show:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");return"R"===i},change:function e(t,n,i,r){a.setNumFmtPattern("qThou",t.qDef.qNumFormat,r.localeInfo)},invalid:function t(n){var i=e.getValue(n,"qDef.qNumFormat.qType");if("I"===i)return false;return e.getValue(n,"qDef.qNumFormat.qDec")===e.getValue(n,"qDef.qNumFormat.qThou")},readOnly:function e(t,n,i,r){return!m(t,r)}},format:{type:"string",component:"number-formatter",ref:"qDef.qNumFormat.qFmt",resetTranslation:"properties.numberFormatting.resetPattern",translation:"properties.numberFormatting.formatPattern",defaultValue:"",schemaIgnore:true,show:function e(t){return b(t)},change:function e(t){t.qDef.qNumFormat.qFmt=a.getNormalizedFormat(t.qDef.qNumFormat,t.qDef.qNumFormat.qFmt)},invalid:function e(t,n,i){if(["D","T","TS","IV"].contains(t.qDef.qNumFormat.qType))return false;var r="R"===t.qDef.qNumFormat.qType?t.qDef.qNumFormat.qDec:i.localeInfo["q"+("M"===t.qDef.qNumFormat.qType?"Money":"")+"DecimalSep"],o=new RegExp("(0|#)"+f.escapeRegExp(r)+"0*#*"),s=(t.qDef.qNumFormat.qFmt||"").split(";"),a=s[0].match(o),l=a&&a[0]?a[0].length-2:0,u=s[1]?s[1].match(o):null,c=u&&u[0]?u[0].length-2:0;return l>15||c>15}}}}}};function b(t){var n=e.getValue(t,"qDef.qNumFormat.qType");return["R","M","IV"].contains(n)||"U"!==n&&false===e.getValue(t,"qDef.numFormatFromTemplate",true)}h.reflines={type:"array",ref:"refLine.refLines",translation:"properties.referenceLines",itemTitleRef:"label",allowAdd:true,allowRemove:true,allowMove:true,add:function e(t,n){var i=u.initializeService("object."+u.getMatch(n.visualization||n.qInfo.qType));var r=i.getStyle("referenceLine.label.name","color");var o=u.currentPalette.indexOf(r);t.paletteColor={index:o,color:r}},addTranslation:"properties.referenceLines.add",items:{show:{ref:"show",translation:"Common.Show",type:"boolean",defaultValue:true},label:{ref:"label",translation:"Common.Label",type:"string"},paletteColor:{ref:"paletteColor",translation:"properties.color",type:"object",component:"color-picker",dualOutput:true,show:function t(n){if(!e.getValue(n,"paletteColor")){var i=u.resolveColor(e.getValue(n,"color"));var r={index:-1,color:i};e.setValue(n,"paletteColor",r)}return true}},expressionValue:{ref:"refLineExpr.value",translation:"properties.referenceLines.expression",type:"number",expression:"optional",expressionType:"ValueExpression",defaultValue:0,change:function e(t){var n=t.refLineExpr;"object"===o(n.value)?n.label={qStringExpression:{qExpr:n.value.qValueExpression.qExpr}}:n.label=""+n.value}},expressionLabel:{ref:"refLineExpr.label",translation:"properties.referenceLines.expression",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"0",show:false}}};h.staticCalcCond={type:"items",items:{expr:{ref:"qHyperCubeDef.qCalcCond",type:"string",component:"expression",expressionType:"ValueExpr",translation:"properties.hyperCube.calcCond"},customErrorMessage:{ref:"qHyperCubeDef.customErrorMessage.calcCond",component:"textarea",defaultValue:"",type:"string",placeholderTranslation:"Object.ErrorMessage.CalculationCondition",translation:"properties.hyperCube.calcCondMessage",show:function t(n){var i=e.getValue(n,"qHyperCubeDef.qCalcCond");return i.qv&&""!==i.qv}}}};h.dataHandling={type:"items",translation:"properties.dataHandling",grouped:true,items:{suppressZero:{ref:"qHyperCubeDef.qSuppressZero",defaultValue:false,translation:"properties.hyperCube.showZero",type:"boolean",inverted:true},calcCond:{uses:"staticCalcCond"}}};h.calcCond={component:"calc-cond",ref:"qHyperCubeDef",schemaIgnore:true};h.colorsAndLegend={type:"items",translation:"properties.colorsAndLegend",grouped:true,items:{colors:{type:"items",items:{autoColor:{ref:"color.auto",type:"boolean",translation:"properties.colors",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},colorMode:{ref:"color.mode",type:"string",component:"dropdown",options:v.color.colorMode.options,defaultValue:"primary",show:v.color.colorMode.show,globalChange:function e(t,n){v.color.colorBy.globalChange(t,n,"qHyperCubeDef.")}},colorByDimension:{ref:"color.byDimDef",schemaIgnore:true,translation:"properties.colorBy.selectDimension",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"dimension",show:v.color.colorBy.dimension.show,change:v.color.colorBy.dimension.change},colorByMeasure:{ref:"color.byMeasureDef",schemaIgnore:true,translation:"properties.colorBy.selectMeasure",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"measure",show:v.color.colorBy.measure.show,change:v.color.colorBy.measure.change},colorByLabel:{type:"string",ref:"color.altLabel",schemaIgnore:true,translation:"Common.Label",expression:"optional",show:v.color.colorBy.label.show,change:v.color.colorBy.label.change},baseColors:{type:"items",items:{useBaseColor:{ref:"color.useBaseColors",type:"string",translation:"properties.useLibraryColors",component:"dropdown",show:v.color.baseColor.show,globalChange:function t(n){"byMultiple"===e.getValue(n,"color.mode","")&&"dimension"===e.getValue(n,"color.useBaseColors","")&&e.setValue(n,"color.useBaseColors","measure")},defaultValue:"off",options:function e(t,n){var i=[{value:"off",translation:"Common.None"}];v.color.baseColor.hasMeasureColor(n)&&v.color.baseColor.isSupported(t.visualization)&&i.push({value:"measure",translation:"Common.Measure"});v.color.baseColor.hasDimensionColor(n)&&"byMultiple"!==t.color.mode&&i.push({value:"dimension",translation:"Common.Dimension"});return i}},measureColor:{translation:"properties.libraryColors",component:"measure-color",show:v.color.baseColor.showColors}}},paletteColor:{ref:"color.paletteColor",translation:"properties.color",type:"object",component:"color-picker",readOnly:v.color.paletteColor.readOnly,dualOutput:true,show:v.color.paletteColor.show,defaultValue:v.color.paletteColor.defaultValue},useDimColVal:{ref:"color.useDimColVal",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:v.color.useDimColVal.show},useMeasureGradient:{ref:"color.useMeasureGradient",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:function e(t){return g(t)}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",defaultValue:false,show:v.color.persistentColors.show,readOnly:v.color.persistentColors.readOnly},attributeExpression:{type:"string",component:"expression",expressionType:"measure",schemaIgnore:true,ref:"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0.qExpression",change:v.color.attributeExpression.change,globalChange:v.color.attributeExpression.globalChange,translation:"Common.Expression",show:v.color.attributeExpression.show},expressionIsColor:{ref:"color.expressionIsColor",translation:"properties.expressionIsColor",type:"boolean",defaultValue:true,show:v.color.expressionIsColor.show},expressionLabel:{type:"string",ref:"color.expressionLabel",translation:"Common.Label",change:v.color.expressionLabel.change,show:v.color.expressionLabel.show},colorSchemeMeasure:{ref:"color.measureScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:e.getValue(u,"scales.0.propertyValue","sg"),items:v.helpers.getMeasureSchemeOptions,show:function t(n){return v.color.colorSchemeMeasure.show(n)&&(!g(n)||!e.getValue(n,"color.useMeasureGradient"))}},reverseScheme:{ref:"color.reverseScheme",translation:"properties.reverseColorScheme",type:"boolean",defaultValue:false,show:v.color.reverseScheme.show},colorSchemeDimension:{ref:"color.dimensionScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:e.getValue(u,"dataPalettes.0.propertyValue","12"),items:v.helpers.getDimensionSchemeOptions,show:v.color.colorSchemeDimension.show},customRange:{type:"items",items:{autoMinMax:{ref:"color.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:v.color.customRange.autoMinMax.show},min:{ref:"color.measureMin",translation:"properties.axis.min",expression:"optional",type:"number",show:v.color.customRange.min.show,invalid:v.color.customRange.min.invalid},max:{ref:"color.measureMax",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:v.color.customRange.max.show,invalid:v.color.customRange.max.invalid}},show:v.color.customRange.show}}},legend:{show:v.legend.show,type:"items",items:{show:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]},dock:{type:"string",component:"dropdown",ref:"legend.dock",translation:"properties.legend.position",options:[{value:"auto",translation:"Common.Auto"},{value:"right",translation:"properties.dock.right"},{value:"bottom",translation:"Common.Bottom"},{value:"left",translation:"properties.dock.left"},{value:"top",translation:"Common.Top"}],defaultValue:"auto",show:v.legend.dock.show},showTitle:{ref:"legend.showTitle",translation:"properties.legend.showTitle",type:"boolean",defaultValue:true,show:v.legend.showTitle.show}}}}};h.data={type:"items",component:"hypercube-data",translation:"Common.Data",addTranslation:"Properties.AddData",allowAdd:true,items:{dimensions:h.dimensions,measures:h.measures}};h.layers={component:"layers"};return h}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={hasTimeTag:function e(t){return t&&t.qTags&&t.qTags.some(function(e){return["$date","$timestamp","$time"].indexOf(e)>=0})},isTimeDimension:function e(t,n){if(!n||!t)return false;var i=this.hasTimeTag(n);return!!i||n.qNumFormat&&["D","TS","T"].contains(n.qNumFormat.qType)},maxNumberOfLines:12,maxNumberOfDataPoints:2e3};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n){var i={},r,o,s;switch(e){case"dimension":if(n.qLibraryId){i.type="dimension";i.name=n.qLibraryId;i.id=n.qLibraryId}else{i.type="field";if(t){i.name=n.label||n.qDef;i.id=n.qDef}else{r=n.qDef,o=!!r.qLabelExpression,s=r.qFieldLabels&&r.qFieldLabels[0];i.name=r.qFieldDefs[0];i.label=o?r.qLabelExpression:s?r.qFieldLabels[0]:r.qFieldDefs[0]}}break;case"measure":if(n.qLibraryId){i.type="measure";i.name=n.qLibraryId;i.id=n.qLibraryId}else{i.type="expression";if(t){i.name=n.label||n.qExpression;i.id=n.qExpression}else{r=n.qDef,o=!!r.qLabelExpression,s=!!r.qLabel;i.name=r.qDef;i.label=o?r.qLabelExpression:s?r.qLabel:r.qDef}}break;default:throw new Error("Default-property-logic.js: getColorByDefinition: Illegal input")}return i}return{getColorByDefinition:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(205),n(90),n(89),n(650),n(657),n(142),n(424),n(225),n(103),n(658)],r=function(e,t,n,i,r,o,s,a,l){var u;function c(e,t,i,r){s.begin();return e.updateData(i.layout).then(function(){if(!t.isDestroyed&&r.visible){var o=e.$element;i.ext.hasDefaultTemplate()&&(o=o.children().first());return e.paint(o,i.layout)}return n.resolve()}).finally(s.end).catch(function(e){l.trackEvent(l.customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof e?e:e.message,stack:e.stack,extension:i.object&&i.object.type?i.object.type.type:"undefined",isThirdParty:i.object&&i.object.type&&i.object.type.libraryInfo.isThirdParty})})}u=e.extend({$scope:null,$element:null,api:null,view:null,_create:function e(n,i,o,s,a,l,u,c){s.navigation=false!==s.navigation;var f=this._createView(n,i,o,s,l,u,c);var d=new r;if(a.selections){var p=t.extend(true,{},a.selections,s.selections||{});false!==s.selections&&true!==s._disableSelections&&this._createSelections(f,n,i,p,d)}a.tooltips&&false!==s.tooltips&&this._createTooltip(f,n,i,t.extend(true,{},a.tooltips,s.tooltips||{}),d,s.cssTransform,c);return f},_createView:function e(t,n,i,r,o,s,a){return new i(t,n,r,o,s,a)},_createSelections:function e(t,n,i,r,o){var s=this.selectionService.createSelections(n,i,r,o);t.setSelections(s);return s},_createTooltip:function e(t,n,r,o,s,a,l){var u=new i(r,o,s);u.setCssTransform(a);l.cancel=function(){u.cancel()};t.setTooltips(u)},init:function e(t,n,i){this.$scope=t;this.$element=n;this.selectionService=i;var r=this;var o=this._create(t,n,t.ext.View,t.options,t.ext.options,t.backendApi,t.selectionsApi,t.tooltipApi);this.view=o;o.initialize();this._handleSpecialCaseForSyntaxSugarInExtension(o);o.mounted(n);t.$on("$destroy",function(){if(o){o.beforeDestroy();o.destroy(o);t.options=null;r.view=null;r.isDestroyed=true;o=null}})},_handleSpecialCaseForSyntaxSugarInExtension:function e(t){var n=this.$scope.object.ext,i=["View","constructor","options","init"],r;for(r in n){if(-1!==i.indexOf(r))continue;t[r]&&(t[r]=n[r])}},onPaint:function e(t,i){var r=this.view;var s=this.$scope;var a=this;var l=s.object&&s.object.model;if(!r||r.suppressOnPaint(s.layout)||!l)return n.resolve();o.isModalSelectionModel(l)&&r.selectionsApi&&r.selectionsApi.confirm();r.refreshSelections();r.prePaint(s.layout);return s.ext.options&&s.ext.options.usingDerivedProperties&&!s.backendApi.isSnapshot?l.getEffectiveProperties().then(function(e){return r.updateDerivedProperties(e,s.layout).then(function(e){return e?n.resolve(false):c.call(this,r,a,s,i)})}).catch(function(e){false}):c.call(this,r,a,s,i)},onResize:function e(t,i){var r=this.view;var o=this.$scope;r.refreshSelections();return n.resolve().then(function(){var e=r.$element;o.ext.hasDefaultTemplate()&&(e=e.children().first());return r.resize(e,t,i)}).catch(function(e){false})},setInteractionState:function e(t){this.view&&this.view.setInteractionState(t)},setFreeResize:function e(t){this.view&&this.view.setFreeResize(t)},setDirection:function e(t){this.view&&this.view.setDirection(t)},setBackendApi:function e(t){this.view.setBackendApi(t)},setSnapshotData:function e(t,n){return this.view.setSnapshotData(t,n)},getContextMenu:function e(t,n,i){return this.view.getContextMenu(t,n,i)},getSelectionToolbar:function e(){var t=this.view.getSelectionToolbar();if(Array.isArray(t))return new a(this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[]);return t},getViewState:function e(){return this.view.getViewState()},getPreferredSize:function e(){return this.view.getPreferredSize()}});u.$inject=["$scope","$element","qvDefaultViewSelectionService"];return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(91),n(89),n(314),n(217),n(751),n(388),n(126),n(262),n(90)],r=function(e,t,n,i,r,s,a,l,u,c){function f(e,t){return e.getProperties().then(function(n){return e.destroyAllChildren({qInfo:n.qInfo,qExtendsId:t})})}function d(){a.load().then(function(e){e.openSection(l.sectionIDs.visualization)})}function p(e,t){return e.getProperties().then(function(n){n.qMetaDef={title:t.name,description:t.description,tags:t.tags};"object"===o(t.descriptionExpression)&&(n.descriptionExpression=t.descriptionExpression);t.labelExpression&&(n.labelExpression=t.labelExpression);n.masterVersion=.96;return e.setProperties(n)})}function h(e,t){var n={qInfo:{qType:"masterobject"}};return i.create(n).then(function(n){return n.copyFrom(e.qInfo.qId).then(function(){return p(n,t)}).then(function(){return n})})}function v(t){t.getVisualization().then(function(t){var i=t.model;return n.all({props:i.getProperties(),layout:i.getLayout()}).then(function(t){var n=t.props;var o=t.layout;r.addMetadata({qMetaDef:{title:o.title,description:"",tags:[]},onSave:function t(r){h(n,r).then(function(t){f(i,t.id).then(function(){e.$rootScope.$emit("clearUndo")})});d()}})})})}function m(){u.show({title:t.get("Object.Linked.NoEditDialog.Title"),message:t.get("Object.Linked.NoEditDialog.Message")})}function g(n){var i=t.get("Object.Linked.BreakLinkDialog.Text");var r="<div class='link-object-dialog-content'><div class='link'><span class='link-icon  lui-icon  lui-icon--link'></span></div><div class='text'>"+i+"</div></div>";var o=e.getService("qvConfirmDialog").show({message:r});o.closed.then(function(e){e&&s.breakLink(n)})}function b(e){return"auto-chart"!==e}function y(e){var t=c.getValue(e,"model.properties.qStateName");return null===t||void 0===t||""===t}function x(e,t){var i=!e.object.isInvalid&&"auto-chart"!==e.object.ext.type&&t.permissionToCreate("visualization")&&!e.object.isLink&&b(e.object.type.type);if(!i)return n.resolve(i);if(Object.keys(e.model.properties).length)return n.resolve(y(e));return e.model.getProperties().then(function(){return y(e)})}return{typeSupportsMasterVisualizations:b,canAddToMasterItems:x,addObjectInCellToLibrary:v,showNotEditableDialog:m,showBreakLinkDialog:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(108),n(89),n(752),n(753),n(133),n(192),n(93),n(112),n(157),n(124),n(824),n(318),n(826)],r=function(e,t,n,i,r,o,s,a,l,u,c,f){var d=false;function p(e,t,n){var r=i.createTemplateTab(e);var o=i.createFieldTab(e);var s=i.createMasterItemsTab(e);var a=i.createWidgetTab(e,t,u.load());var l=[o,s,r,a];if(d){var c=i.createODAGTab(e,n);l.push(c)}return l}function h(e,t,n){var r=i.createTemplateTab(e);var o=i.createMasterItemsTab(e);var s=i.createWidgetTab(e,t,u.load());if(d){var a=i.createODAGTab(e,n);return[o,r,s,a]}return[o,r,s]}function v(){var e=[];var n=new t;c.getList().then(function(i){i.forEach(function(t){t.widgetPromises=[];t.data.widgets&&(t.widgetPromises=t.data.widgets.map(function(e){return f.get(e,false,t.id)}));e.push(t)});t.all(i.map(function(e){return b(e,e.widgetPromises)})).then(function(){n.resolve(e)})});return n.promise}function m(e){return r.isODAGAvailable().then(function(t){return t?r.canCreateLink(e):{canCreateLinks:false}})}function g(e){return r.isODAGAvailable().then(function(t){return!!t&&r.canCreateLink(e).then(function(e){return!!e.canCreateLinks||o.getList().then(function(e){return e.getLayout().then(function(e){return e.length>0})})})})}function b(e,n){return t.all(n).then(function(t){e.resolvedWidgets=t})}function y(e){return l.load(e).then(function(){l.isVariableDefined("DISABLE_AUTO_CHART")&&u.removeExtension("auto-chart")})}var x;function _(){return s.getApp().then(function(i){return t.all({loadAppVariables:y(i),appLayout:i.getLayout(),odagLinkPermissions:m(i),canShowODAGAssetsTab:g(i),types:u.load(true)}).then(function(t){var r=t.appLayout;var o=(e.isPersonalModeSync()||!r.published)&&r.permissions.update;d=t.canShowODAGAssetsTab;var s={createOdagLink:t.odagLinkPermissions.canCreateLinks&&r.permissions.update};a.init(r.permissions,s);var l=new n;l.fullMode=o;l.permissionToCreate=a.permissionToCreate;l.widgetLibraries=t.widgetLibraries;var u;u=o?p(l,v(),i):h(l,v(),i);l.setTabs(u);return l})})}function w(){x||(x=_());return x}return{load:w,loadAppVariables:y}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(285)],r=function(e){var t="dmv-zoom-level";var n=.1;var i=2;var r=.2;var o=1;var s=o;function a(e){if("number"!==typeof e)throw new Error('"'+e+'" is not a number.');return Math.floor(10*e)/10}function l(){return a(s)}function u(){s+=n;s>i&&(s=i);v()}function c(){s-=n;s<r&&(s=r);v()}function f(){return s<i}function d(){return s>r}function p(e){s=e;s<r&&(s=r);s>i&&(s=i);v()}function h(n){e.addObserver(t,n)}function v(){e.notifyAll(t,l())}function m(){return l()!==o}return{getCurrentZoomLevel:l,zoomIn:u,zoomOut:c,canZoomOutMore:d,canZoomInMore:f,onZoomLevelChanged:h,setZoomLevel:p,roundToOneDecimal:a,canBeRestored:m,MAX_ZOOM_LEVEL:i,MIN_ZOOM_LEVEL:r,RESTORED_ZOOM_LEVEL:o,INCREMENTAL_STEP:n}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-focus",[]);t.directive("qvaFocus",["$timeout",function(e){return{restrict:"A",link:function t(n,i,r){n.$watch(r.qvaFocus,function(t){true===t&&e(function(){i[0].focus()})},true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(252)],r=function(e,t){var n,i=Math.max,r=Math.min,o=t.retriveColor(13816530);function s(e,t,n){var o;e=r(i(e,1e-12),.999999999999);if(n){var s=0;while(s<n.length&&n[s]<=e)s++;o=n.length-(s+(e-n[s-1])/(n[s]-n[s-1]))}else o=t-e*t;return o}function a(e){e=e||this._startLevel;return r(e,this._colorParts.length-1)}function l(e){e.forEach(function(e){e.forEach(function(e){e.reverse()});e.reverse()})}n=e.extend({init:function e(){this._colorParts=[];this._startLevel=0;this._reverse=false;this._max=1;this._min=0;this._span=1;this._invalidSpan=false},addColorPart:function e(n,r,o){o=o||0;this._startLevel=i(o,this._startLevel);this._colorParts[o]||(this._colorParts[o]=[]);this._colorParts[o].push([t.retriveColor(n),t.retriveColor(r)])},setLimits:function e(t){if(!t){this._limits=null;this._expandedLimits=null;return}this._limits=t;this._expandedLimits=[0].concat(t,[1])},setMaxMinValues:function e(t,n){if(!(t>=n)||Number.isNaN(+t)||Number.isNaN(+n))throw new Error("Incorrect arguments to color-scale->setMaxMinValues");this._max=t;this._min=n;this._span=t-n},setReverse:function e(t){if(this._reverse!==t){this._reverse=t;l(this._colorParts)}},getColor:function e(n,i){var r,l,u,c,f,d,p;var h=0===this._span?.5:(n-this._min)/this._span;if(Number.isNaN(+n)||Number.isNaN(+h))return o;i=a.apply(this,[i]);r=s(h,this._colorParts[i].length,this._expandedLimits);l=Math.floor(r);l=l===r?l-1:l;c=this._colorParts[i][l];f=c[0];d=c[1];if(n===this._min)return d;if(n===this._max)return f;u=r-l;p=t.retriveBlend(f,d,u);return p},getColors:function e(t){var n=[],i;for(i=0;i<t.length;i++)n.push(this.getColor(t[i]));return n},getSegmentIndex:function e(t){var n=a.call(this);var i=s(t,this._colorParts[n].length,this._expandedLimits);var r=Math.floor(i);r=r===i?r-1:r;return r},getLegendParts:function e(t){var n=[],i,r,o;t=a.apply(this,[t]);r=this._colorParts[t].length;for(i=0;i<r;++i){o=this._colorParts[t][i];var s={grad:o,color:o[0],solid:o[0]===o[1],index:i};this._expandedLimits&&(s.limits=[this._expandedLimits[r-i-1],this._expandedLimits[r-i]]);n.push(s)}return n}});n._limitFunction=s;return n}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=function e(t){return window.setTimeout(t,1e3/60)},t=function e(t){return window.clearTimeout(t)},n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e,i=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.msCancelAnimationFrame||t;return{request:n===e?e:n.bind(window),cancel:i===t?t:i.bind(window)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(89),n(446),n(178),n(187)],r=function(e,t,n,i,r){var o={getAggregationForExpression:s,getAggregationForFieldItem:a};return o;function s(t,r,o){if(!t||!e.isString(t))throw new Error("Aggregation-retriever: Expression must be a string");if(!r)throw new Error("Aggregation-retriever: App is required");if(!o||!e.isFunction(o))throw new Error("Aggregation-retriever: FindFieldFn is required");var s=i.getNormalizedExpression(t);if(n.has(s))return l(s);var a=r.getFieldList().then(function(e){var t=o(s,e),n=t?u(t):c();return f(n)});return a}function a(e){if(!e)throw new Error("Aggregation-retriever: FieldItem is required");if(!e.value&&!e.name&&!e.qName)throw new Error("Aggregation-retriever: Either FieldItem.value, FieldItem.name or FieldItem.qName is required");var r=e.value||e.name||e.qName,o=i.getNormalizedExpression(r);if(n.has(o))return l(o);var s=u(e);return t.when(f(s))}function l(e){var i=n.get(e);return t.when(f(i))}function u(e){if(e.defaultAggregation)return e.defaultAggregation;var t=e.qTags||[];return t.indexOf("$numeric")>-1?"Sum":"Count"}function c(){return r.FALLBACK_FUNCTION}function f(e){return i.getFormattedAggregation(e)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(101),n(185),n(216)],r=function(e,t,n){var i=t.getLogicFor("explore","default");var r,o,s,a,l;l={translation:"properties.data",type:"items",component:"hypercube-data",icon:"database",items:{dimensions:{ref:"qHyperCubeDef.qDimensions",alternativeRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",translation:"Common.Dimensions",type:"items"},measures:{ref:"qHyperCubeDef.qMeasures",alternativeRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",translation:"Common.Measures",type:"items"}}};r={translation:"properties.sorting",type:"items",component:"sort",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",icon:"ascending",items:{dimensions:{ref:"qHyperCubeDef.qDimensions",type:"items",items:{sortOptions:{component:"radio-list",type:"number",diffs:["qDef.qSortCriterias.0.qSortByExpression","qDef.qSortCriterias.0.qSortByNumeric","qDef.qSortCriterias.0.qSortByAscii"],options:function e(){return[{value:1,translation:"properties.sorting.ascending"},{value:-1,translation:"properties.sorting.descending"}]},setPropertyValue:function t(n,i){e.setValue(n,"qDef.autoSort",false);e.setValue(n,"qDef.qSortCriterias.0.qSortByExpression",0);e.setValue(n,"qDef.qSortCriterias.0.qSortByNumeric",0);e.setValue(n,"qDef.qSortCriterias.0.qSortByAscii",i)},getValue:function t(n){return 0===e.getValue(n,"qDef.qSortCriterias.0.qSortByExpression",0)&&0===e.getValue(n,"qDef.qSortCriterias.0.qSortByNumeric",0)?e.getValue(n,"qDef.qSortCriterias.0.qSortByAscii",0):0}}}},measures:{ref:"qHyperCubeDef.qMeasures",type:"items",items:{sortOptions:{component:"radio-list",type:"number",ref:"qSortBy.qSortByNumeric",options:function e(){return[{value:1,translation:"properties.sorting.ascending"},{value:-1,translation:"properties.sorting.descending"}]}}}}}};o={component:"items",translation:"properties.colorsAndLegend",icon:"palette",grouped:true,items:{mode:{component:"radio-list",type:"string",options:i.color.colorMode.options,diffs:["color.mode","color.auto"],setPropertyValue:function e(t,n){if("auto"===n)t.color.auto=true;else{t.color.auto=false;t.color.mode=n}i.color.colorBy.globalChange(t,null,"qHyperCubeDef.")},getValue:function e(t){return t.color.auto?"auto":t.color.mode}},dimension:{type:"items",show:function e(t){return!t.color.auto&&"byDimension"===t.color.mode},items:{colorScheme:{translation:"properties.colorScheme",type:"string",component:"item-selection-list",horizontal:true,showLabels:false,ref:"color.dimensionScheme",items:i.helpers.getDimensionSchemeOptions,show:function e(t,r){if(t.color&&"byDimension"===t.color.mode&&t.color.useDimColVal&&i.color.useDimColVal.show(t))return false;if(1===n.getNumDimensions(t)&&n.getNumMeasures(t)<=1){var o=n.getDimensionLayouts(r)[0];return!(o&&o.qCardinal<=12)}return n.getNumMeasures(t)<=1||n.getNumMeasures(t)>12}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",show:function e(t){return n.getNumMeasures(t)<=1&&n.getNumDimensions(t)<=1&&!(t.color&&"byDimension"===t.color.mode&&t.color.useDimColVal&&i.color.useDimColVal.show(t))},readOnly:i.color.persistentColors.readOnly}}},measure:{type:"items",show:function e(t){return!t.color.auto&&"byMeasure"===t.color.mode},items:{sequential:{component:"item-selection-list",translation:"properties.colorScheme",horizontal:true,showLabels:false,show:function e(t){return true!==t.color.useMeasureGradient},type:"string",ref:"color.measureScheme",items:i.helpers.getMeasureSchemeOptions}}},legend:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}],show:function e(t,n){return!t.color.auto&&i.legend.show(t,n)}}}};a={translation:"properties.presentation",type:"items",icon:"view",grouped:true,items:{}};return{data:l,sort:r,color:o,colorsAndLegend:s,presentation:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(104),n(226)],r=function(e,t){function n(t){var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=t?t.length:0,a,l;if(!s)return null;for(l=0;l<s;l++){a=t[l];i=a.x>i?a.x:i;n=a.x<n?a.x:n;o=a.y>o?a.y:o;r=a.y<r?a.y:r}return new e(n,r,i-n,o-r)}function i(){this._numPoints=this.points?this.points.length:0;this._closedPolygon=this._numPoints>1&&this.points[0].x===this.points[this._numPoints-1].x&&this.points[0].y===this.points[this._numPoints-1].y;this._closedPolygon?this._numLines=this._numPoints-1:this._numLines=this._numPoints;this._pointsChanged=true}function r(e){0===arguments.length?this.set([]):this.set(e);this._pointsChanged=true}r.prototype={clone:function e(){var t=this.points.map(function(e){return e.clone()});return new r(t)},set:function e(t){this.points=t;i.call(this)},getPoints:function e(){return this.points},getNumPoints:function e(){return this.points?this.points.length:0},addPoint:function e(t){this.points.push(t);i.call(this)},pointInside:function e(t,n){this.calculateBounds();if(!this._bounds)return false;if(t<this._bounds.x||t>this._bounds.x+this._bounds.width||n<this._bounds.y||n>this._bounds.y+this._bounds.height)return false;var i,r,o,s,a;for(i=false,s=-1,r=this.points.length,o=r-1;++s<r;o=s){if(this.points[s].x===t&&this.points[s].y===n)return true;if(this.points[s].y===this.points[o].y&&this.points[s].y===n&&(t-this.points[s].x)*(t-this.points[o].x)<=0)return true;if(this.points[s].y<n&&n<=this.points[o].y||this.points[o].y<n&&n<=this.points[s].y){a=(this.points[o].x-this.points[s].x)*(n-this.points[s].y)/(this.points[o].y-this.points[s].y)+this.points[s].x;if(t===a)return true;t<a&&(i=!i)}}return i},intersectsLine:function e(n){if(!n)return false;if(this.pointInside(n.x1,n.y1)||this.pointInside(n.x2,n.y2))return true;var i,r;if(0===this._numPoints)return false;if(1===this._numPoints){if(n.intersectsLine(new t(this.points[0].x,this.points[0].y,this.points[0].x,this.points[0].y)))return true;return false}r=this._numPoints-1;for(i=0;i<r;i++)if(n.intersectsLine(new t(this.points[i].x,this.points[i].y,this.points[i+1].x,this.points[i+1].y)))return true;if(!this._closedPolygon&&n.intersectsLine(new t(this.points[r].x,this.points[r].y,this.points[0].x,this.points[0].y)))return true;return false},intersectsLines:function e(t){var n,i=t?t.length:0;for(n=0;n<i;n++)if(this.intersectsLine(t[n]))return true;return false},intersectsRect:function e(n){if(!n)return false;this.calculateBounds();if(!this._bounds)return false;if(n.rectInside(this._bounds))return true;if(!this._bounds.intersectsWith(n))return false;var i,r,o,s,a;i=n.x;r=n.getRight();o=n.y;s=n.getBottom();if(this.pointInside(i,o)||this.pointInside(r,o)||this.pointInside(r,s)||this.pointInside(i,s))return true;a=[new t(i,o,r,o),new t(i,s,r,s),new t(i,o,i,s),new t(r,o,r,s)];return this.intersectsLines(a)},calculateBounds:function e(){if(this._pointsChanged){this._bounds=n(this.points);this._pointsChanged=false}return this._bounds},getBoundingRect:function e(){return this.calculateBounds()},translate:function e(t,n){if(!t&&!n)return;for(var i=0;i<this._numPoints;i++){this.points[i].x+=t;this.points[i].y+=n}this._pointsChanged=true},toString:function e(){var t,n="",i=this._numPoints-1;for(t=0;t<i;t++)n+=this.points[t].toString()+",";n+=this.points[i].toString();return n}};return r}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e,t=1e-12;e={checkPointsCoincident:function e(t,n){if(t.x===n.x&&t.y===n.y)return true;return false},checkPointOnLineSegment2:function n(i,r,o){var s,a,l,u;s=o.x-r.x;a=o.y-r.y;if(0===s){if(0===a)return e.checkPointsCoincident(i,r);if(i.x!==r.x)return false;l=(i.y-r.y)/a;if(l>=0&&l<=1)return true;return false}if(0===a){if(i.y!==r.y)return false;l=(i.x-r.x)/s;if(l>=0&&l<=1)return true;return false}l=(i.x-r.x)/s;u=(i.y-r.y)/a;if(l>=0&&l<=1&&Math.abs(l-u)<t)return true;return false},checkPointOnLineSegment:function t(n,i){return e.checkPointOnLineSegment2(n,i[0],i[1])},checkLineSegmentIntersectingLineSegment2:function t(n,i,r,o){var s,a,l,u,c,f,d,p,h,v,m,g,b;s=i.x-n.x;a=i.y-n.y;l=o.x-r.x;u=o.y-r.y;c=n.x-r.x;f=n.y-r.y;h=u*s-l*a;d=l*f-u*c;p=s*f-a*c;if(0===h){if(0===d&&0===p){if(0===s){if(0===a)return e.checkPointOnLineSegment2(n,r,o);g=(r.y-n.y)/a;b=(o.y-n.y)/a}else{g=(r.x-n.x)/s;b=(o.x-n.x)/s}if(g<0&&b<0||g>1&&b>1)return false;return true}return false}v=d/h;m=p/h;if(v>=0&&v<=1&&m>=0&&m<=1)return true;return false},checkLineSegmentIntersectingLineSegment:function t(n,i){return e.checkLineSegmentIntersectingLineSegment2(n[0],n[1],i[0],i[1])},checkPointInsideRectDefinedByMaxMin:function e(t,n){return t.x>n.minX&&t.x<n.maxX&&t.y>n.minY&&t.y<n.maxY},checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin:function e(t,n){return t.x>=n.minX&&t.x<=n.maxX&&t.y>=n.minY&&t.y<=n.maxY},checkLineSegmentIntersectingRectDefinedByMaxMin:function t(n,i){if(e.checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin(n[0],i)||e.checkPointInsideOrOnBoundaryOfRectDefinedByMaxMin(n[0],i))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.minX,y:i.minY},{x:i.minX,y:i.maxY}]))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.maxX,y:i.minY},{x:i.maxX,y:i.maxY}]))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.minX,y:i.minY},{x:i.maxX,y:i.minY}]))return true;if(e.checkLineSegmentIntersectingLineSegment(n,[{x:i.minX,y:i.maxY},{x:i.maxX,y:i.maxY}]))return true;return false},checkPolylineIntersectingRectDefinedByMaxMin:function t(n,i){var r,o,s,a,l,u,c,f=0,d=1,p=1,h=n?n.length:0;if(0===h)return false;var v=function e(){return s<h};if(n[0].x>n[h-1].x){f=h-1;d=h-2;p=-1;v=function e(){return s>-1}}o=n[f];if(o.x>i.maxX)return false;if(o.x>=i.minX&&o.y>=i.minY&&o.y<=i.maxY)return true;r=o;for(s=d;v();s+=p){o=n[s];if(o.x>=i.minX&&o.x<=i.maxX&&o.y>=i.minY&&o.y<=i.maxY)return true;a=Math.min(r.x,o.x);if(a>i.maxX)return false;l=Math.max(r.x,o.x);if(l<i.minX){r=o;continue}u=Math.min(r.y,o.y);if(u>i.maxY){r=o;continue}c=Math.max(r.y,o.y);if(c<i.minY){r=o;continue}if(e.checkLineSegmentIntersectingRectDefinedByMaxMin([r,o],i))return true;r=o}return false},checkPolylinesIntersectingRectDefinedByMaxMin:function t(n,i){var r,o=n?n.length:0;for(r=0;r<o;r++)if(e.checkPolylineIntersectingRectDefinedByMaxMin(n[r],i))return true;return false},calculateBounds:function e(t){var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=t?t.length:0,a,l,u,c,f;if(0===s)return null;for(u=0;u<s;u++){a=t[u];l=a?a.calculateBounds():void 0;if(!l||Infinity===l.x)continue;c=l.getRight();f=l.getBottom();c>i&&(i=c);l.x<n&&(n=l.x);f>o&&(o=f);l.y<r&&(r=l.y)}return{x:n,y:r,width:i-n,height:o-r}},getLongitudeAdjustment:function e(t){return 360*Math.ceil(-t/360)},getColumnMaxValue:function e(t,n){var i=-Number.MAX_VALUE;t.forEach(function(e){e.forEach(function(e){i=Math.max(i,e[n])})});return i},getColumnMaxMinValues:function e(t,n){var i=-Number.MAX_VALUE,r=Number.MAX_VALUE;t.forEach(function(e){e.forEach(function(e){i=Math.max(i,e[n]);r=Math.min(r,e[n])})});return{min:r,max:i}},isDimensionInsideRange:function t(n,i,r,o){var s=e.getColumnMaxMinValues(n,i);return s.min>r&&s.max<o},getLongitudeAdjustmentForGeoArea:function t(n,i,r,o){var s=n.length;var a,l=[],u=[],c=-Number.MAX_VALUE;for(a=0;a<s;a++){u[a]=e.getColumnMaxValue(n[a],0);c=Math.max(c,u[a])}if(c<179)return false;for(a=0;a<s;a++)l[a]=u[a]<o&&e.isDimensionInsideRange(n[a],1,i,r)?e.getLongitudeAdjustment(u[a]):0;return l}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,,function(e,t,n){"use strict";var i,r;!(i=[n(91),n(237),n(101)],r=function(e,t,n){var i="qHyperCubeDef";function r(e){if(!e||!e.orientation||t.isContinuousChart(e))return true;return"vertical"===e.orientation}function o(e,t){return t?t.getDimensionLayouts():e&&e.qHyperCubeDef?e.qHyperCubeDef.qDimensions.map(function(e){return e.qDef}):[]}function s(e,t){return t?t.getMeasureLayouts():e.qHyperCubeDef.qMeasures.map(function(e){return e.qDef})}function a(t,n){var i,s="y",a=o(t,n).map(function(e){return e&&e.qFallbackTitle?e.qFallbackTitle:""}).join(", ");r(n&&n.layout)&&(s="x");i=a?e.get("properties."+s+"AxisWithInfo",[a]):e.get("properties."+s+"Axis");return i}var l={left:"properties.dock.left",right:"properties.dock.right",bottom:"Common.Bottom",top:"Common.Top"};function u(e,t){return{ref:e+".dock",translation:"Common.Position",type:"string",component:"dropdown",defaultValue:"near",options:function e(n,i,o){var s,a;var u;if(t&&t.direction)u=t.direction;else{var c=r(o.layout);u=c&&t&&!t.major||!c&&t&&t.major?"y":"x"}if("x"===u){s=l.bottom;a=l.top}else{s=o.yMirrorMode?l.right:l.left;a=o.yMirrorMode?l.left:l.right}return[{value:"near",translation:s},{value:"far",translation:a}]},show:function t(n){return n[e]&&"none"!==n[e].show}}}function c(e,t,r){r=r||i;return n.getValue(t.properties,r+".qDimensions",[])[0]===e}return{isVertical:r,getDimensions:o,getMeasures:s,dimensionAxisLabelFn:a,getAxisDockProperties:u,dockStringMap:l,isFirstDimension:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(104)],r=function(e,t){var n,i=new t(0,0,0,0),r=new t(0,0,0,0);n=e.extend("StackedCubeSlicer",{init:function e(){this.pages=[]},get:function e(t){return t.map(function(e){return this.getPage(e)}.bind(this))},getPage:function e(n){var o,s,a=[],l;for(s=0;s<this.pages.length;s++){o=this.pages[s].qArea;i.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);r.set(o.qLeft,o.qTop,o.qWidth,o.qHeight);l=r.intersection(i,true);a.push({coverage:l?l.clone():new t(0,0,0,0),idx:s});if(o.qLeft<=n.qLeft&&o.qLeft+o.qWidth>=n.qLeft+n.qWidth&&o.qTop<=n.qTop&&o.qTop+o.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[s])}a.sort(function(e,t){return t.coverage.width*t.coverage.height-e.coverage.width*e.coverage.height});if(a[0].coverage.height>0&&a[0].coverage.width>0)return this._extract(n,this.pages[a[0].idx]);return{qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0},qData:[]}},destroy:function e(){this.clear()},isEmpty:function e(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function e(){this.pages=[]},store:function e(t){this.pages=t},containsArea:function e(t){var n;for(var i=0;i<this.pages.length;i++){n=this.pages[i].qArea;if(n.qLeft<=t.qLeft&&n.qLeft+n.qWidth>=t.qLeft+t.qWidth&&n.qTop<=t.qTop&&n.qTop+n.qHeight>=t.qTop+t.qHeight)return true}return false},contains:function e(t){if(!this.pages||!this.pages.length)return false;return 0===t.filter(function(e){return!this.containsArea(e)}.bind(this)).length},_extract:function e(t,n){i.set(t.qLeft,t.qTop,t.qWidth,t.qHeight);r.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var o=i.intersection(r,true),s,a;if(!o)return{qArea:{qTop:t.qTop,qLeft:t.qLeft,qWidth:0,qHeight:0},qData:[]};a=Math.max(0,t.qTop-n.qArea.qTop);var l=n.qData[0];var u=l.qSubNodes;s={};for(var c in l)l.hasOwnProperty(c)&&(s[c]="qSubNodes"===c?u.slice(a,a+o.height):l[c]);s.qUp+=a;s.qDown+=n.qArea.qHeight-o.height-a;return{qArea:{qTop:o.y,qLeft:o.x,qWidth:o.width,qHeight:o.height},qData:[s]}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(238),n(153),n(130),n(90)],r=function(e,t,n,i,r){var o=t.extend({init:function e(t){this._super(t)},minDimensions:function e(){return 1},maxDimensions:function e(){return 1},minMeasures:function e(){return 0},maxMeasures:function e(){return 0},autoSortDimension:function e(t){return n.autoSortDimension(t)},getDimensions:function e(){var t=this.properties.qListObjectDef.qDef;if((!t||!t.qFieldDefs||!t.qFieldDefs.length)&&!this.properties.qListObjectDef.qLibraryId)return[];return[this.properties.qListObjectDef]},addDimension:function e(t){var o=this;function s(){o.properties.qListObjectDef=r.extend(true,o.properties.qListObjectDef,t);"function"===typeof o.dimensionDefinition.add&&o.dimensionDefinition.add.call(null,t,o.properties,o)}return t.qLibraryId?this.app.getDimensionList().then(function(e){var r=i.findLibraryDimension(t.qLibraryId,e);r&&n.autoSortDimension(t,r.qData.info);s();return t}):this.app.getFieldList().then(function(e){var r=i.findField(t.qDef.qFieldDefs[0],e);r&&n.autoSortDimension(t,[r]);s();return t})},replaceDimension:function t(i,o){var s=this,a=r.extend(true,this.properties.qListObjectDef,o);n.autoSortDimension(o);if(o.qLibraryId){delete a.qDef.qFieldDefs;delete a.qDef.qFieldLabels}else delete a.qLibraryId;s.properties.qListObjectDef=a;return e.resolve(o)},removeDimension:void 0,getDimensionLayouts:function e(){return[this.getDimensionLayout()]},getDimensionLayout:function e(){return this.layout&&this.layout.qListObject&&this.layout.qListObject.qDimensionInfo?this.layout.qListObject.qDimensionInfo:""},getMeasures:function e(){return this.properties.qListObjectDef.qExpressions},getMeasureLayout:function e(){return this.layout&&this.layout.qListObject&&this.layout.qListObject.qExpressions&&this.layout.qListObject.qExpressions[0]?this.layout.qListObject.qExpressions[0].qExpr:""}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(421),n(89),n(48),n(104),n(342),n(225),n(123),n(101)],r=function(e,t,n,i,r,o,s,a){var l;function u(e){var t=a.getValue(e,"layout.qHyperCube.qDimensionInfo",[]);var n=t.length-1;var i=t[n]||{};var r=i.qIsOneAndOnlyOne||false;n>0&&r&&a.getValue(i,"qCardinalities.qHypercubeCardinal")>1&&(r=false);return r}l=e.extend("DefaultView",{$scope:null,$element:null,containerRect:null,options:null,selections:null,backendApi:null,activeDimensions:[0],selectedShapes:[],init:function e(t,n,i,r){this._super(t,n,i,r);t.selectValues=this.selectValues.bind(this)},on:function e(){this.selections&&this.selections.on();this.tooltips&&this.tooltips.on();this.options&&false===this.options.selections?this.selectionsEnabled=false:this.selectionsEnabled=true;this._on=true},off:function e(){this.selections&&this.selections.off();this.tooltips&&this.tooltips.off();this.selectionsEnabled=false;this._on=false},isOn:function e(){return this._on},suppressOnPaint:function e(t){if(this.$scope.object._forcePaint){this.$scope.object._forcePaint=false;return false}return t.qSelectionInfo&&t.qSelectionInfo.qInSelections},paint:function e(){return t.resolve()},destroy:function e(){this.$scope.selectValues=null;this._super()},initialize:function e(){this.selections&&this.initSelections();if(this.options){Number.isNaN(+this.options.interactionState)||null===this.options.interactionState||this.setInteractionState(this.options.interactionState);this.options.direction&&this.setDirection(this.options.direction)}this.tooltips&&this.initTooltips()},setSelections:function e(t){this.selections=t},initSelections:function e(){if(this.selections){this.selections._disableSelections=this.options._disableSelections;this.selections.types.dataArea.setComponent("dataArea",{rect:new i(0,0,this.$element.width(),this.$element.height())});if(!this.options._disableSelections){this.selections.Select.bind(function(e,t){this.onSelect(e,t)}.bind(this));this.selections.ToggleShape.bind(function(e){var t=this.selectedShapes.indexOf(e);-1!==t?this.selectedShapes.splice(t,1):this.selectedShapes.push(e);this.onToggleShape(e)}.bind(this));this.selections.Deactivated.bind(function(){this.selectedShapes=[]}.bind(this));this.selections.Clear.bind(function(){this.selectedShapes=[]}.bind(this))}}},setTooltips:function e(t){this.tooltips=t},initTooltips:function e(){},refreshSelections:function e(){if(!this.selections)return;this.containerRect=this.$element[0].getBoundingClientRect();this.selections.cache.clear()},onToggleShape:function e(t){t.$element[this.isSelected(t.value)?"addClass":"removeClass"]("selected")},onSelect:function e(t,n){if(!t.length)return;var i=this.selectedShapes.map(function(e){return e.value});i.length>0&&this.activeDimensions.length>0?this.backendApi.select(i,this.activeDimensions,n):1!==t.length||t[0].selected||this.backendApi.clearSelections()},onRangeSelect:function e(){},addToSelectionCache:function e(t,n){if(!this.selections)return;var o=this.containerRect,s=t[0].getBoundingClientRect(),a=new r(new i(s.left-o.left,s.top-o.top,s.right-s.left,s.bottom-s.top),false,n);a.$element=t;this.selections.cache.add(a)},isSelected:function e(t){return this.selectedShapes.filter(function(e){return e.value===t}).length},setSnapshotData:function e(){},getSelectionToolbar:function e(){var t=this;var n=[];if(!u(this.$scope)){n.push({name:"Tooltip.ToggleOnLassoSelection",tid:"selection-toolbar.toggleLasso",isIcon:true,buttonClass:"sel-toolbar-icon-toggle",iconClass:"lui-icon lui-icon--lasso",action:function e(){t.toggleLasso=!t.toggleLasso},isActive:function e(){this.name=t.toggleLasso?"Tooltip.ToggleOffLassoSelection":"Tooltip.ToggleOnLassoSelection";return t.toggleLasso},isDisabled:function e(){if(t.isLassoDisabled&&t.isLassoDisabled())return true;return false}});n.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}})}return new o(this.$scope.backendApi,this.$scope.selectionsApi,false,false,n,[])},selectValues:function e(t,n,i){if(!this.selectionsEnabled)return;var r=this.$scope;if(!r.selectionsApi.active){var s=this;r.selectionsApi.confirm=function(){r.backendApi.endSelections(true);r.selectionsApi.deactivated()};r.selectionsApi.cancel=function(){r.backendApi.endSelections(false);r.selectionsApi.deactivated()};r.selectionsApi.deactivate=function(){this.deactivated()};r.selectionsApi.clear=function(){s.clearSelectedValues(s.$element);r.backendApi.clearSelections();r.selectionsApi.selectionsMade=false;s.selectedArrays={}};this.getSelectionToolbar=function(){var e=[];u(r)||e.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function e(){this.selectionsApi.clear()},isDisabled:function e(){return!this.selectionsApi.selectionsMade}});return new o(this.$scope.backendApi,this.$scope.selectionsApi,false,false,e,[])};r.selectionsApi.activated();this.selectedArrays={}}this.$scope.selectionsApi.selectionsMade=true;this.selectedArrays[t]||(this.selectedArrays[t]=[]);if(i)for(var a=0;a<n.length;a++){var l=this.selectedArrays[t].indexOf(n[a]);-1===l?this.selectedArrays[t].push(n[a]):this.selectedArrays[t].splice(l,1)}else this.selectedArrays[t]=this.selectedArrays[t].concat(n);this.backendApi.selectValues(t,this.selectedArrays[t],false)},clearSelectedValues:function e(t){t.find(".selected").removeClass("selected")},setInteractionState:function e(t){this._interactionState=t;this._inEditState=t===s.EDIT;this._inAnalysisState=t===s.ANALYSIS;this._inAnalysisState&&!this._on?this.on():!this._inAnalysisState&&this._on&&this.off()},setDirection:function e(t){this.$scope.options.direction=t;this.options.direction=t;if(this.selections&&this.selections.options&&this.selections.options.range){this.selections.options.range.rtl="rtl"===t;this.selections.types.range.setDirection(t)}},inAnalysisState:function e(){return this._inAnalysisState},inEditState:function e(){return this._inEditState},getPreferredSize:function e(){}});Object.defineProperties(l.prototype,{toggleLasso:{set:function e(t){if(this.selections){this.selections.lassoEnabled=t;n.$apply(n.$rootScope,function(){this.options.lassoEnabled=t}.bind(this))}},get:function e(){return this.selections&&this.selections.lassoEnabled}}});return l}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(627),n(313),n(89)],r=function(e,t,n){var i=e.extend({init:function e(t,n,i,r){this.$scope=t;this.$element=n;this.options=i;this.backendApi=r},prePaint:function e(){},setFreeResize:function e(t){this.options.freeResize=t},setBackendApi:function e(t){this._dataView=void 0;this.backendApi=t},updateDerivedProperties:function e(){return n.resolve(false)},setInteractionState:function e(t){this.options.interactionState=t},setDirection:function e(t){this.options.direction=t},getContextMenu:function e(t,n,i){if(this._dataView&&this._dataView.toggled){var r=this._dataView.getObject();if(r)return r.getContextMenu(n,i)}},getViewState:function e(){return{}},getPreferredSize:function e(){},getDataViewObject:function e(){if(this._dataView)return this._dataView.getObject()},initDataView:function e(n){var i=this.backendApi.model;this._dataView||(this._dataView=new t(i.app,i,n))},toggleDataView:function e(){return this._dataView.toggle()},destroy:function e(){this._destroyed=true},cancel:function e(){},retry:function e(){}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(198),n(89),n(265),n(331),n(101)],r=function(e,t,n,i,r){var o;function s(e,t,n,i){if(!e)return;t.snapshotData.object.origDataPages||(t.snapshotData.object.origDataPages=t.qHyperCube[i]);for(var r=0;r<n.length;r++){n[r].qHeight=Math.min(t.qHyperCube.qSize.qcy,n[r].qHeight);n[r].qTop=t.snapshotData.object.origDataPages[r].qArea.qTop}t.qHyperCube[i]=e.get(n)}function a(e){if("pivot-table"===e.visualization){this.responseProperty="qPivotDataPages";this.slicer=new i}else{if("table"!==e.visualization)return;this.slicer=new n}var t=e.snapshotData.object.origDataPages;t||(t=e.qHyperCube[this.responseProperty]);this.slicer.store(t.filter(function(e){return e}))}o=e.extend("SnapshotAPI",{init:function e(t){this.responseProperty="qDataPages";a.call(this,t.layout);this._super(t,t.layout.qListObject?"/qListObjectDef":"/qHyperCubeDef")},getData:function e(n){var i=t();if("map"===this.model.layout.visualization){var o=this.dataPath.split("/")[1],a=this.dataPath.split("/"),l=a[a.length-1];"polygon"===this.model.layout.layers[o].type&&"3"===this.model.layout.layers[o].version?i.resolve(this.model.layout.layers[o].geodata.qHyperCube[this.responseProperty]):i.resolve(this.model.layout.layers[o][l][this.responseProperty])}else{s(this.slicer,this.model.layout,n,this.responseProperty);var u=r.getValue(this.model.layout,(this.dataPath+"/"+this.responseProperty).replace(new RegExp("/","g"),"."));i.resolve(u)}return i.promise},getHyperCubeBinnedData:function e(){return t.resolve(this.model.layout.dataPages)},getHyperCubeContinousData:function e(){return t.resolve({qDataPages:this.model.layout.qHyperCube.qDataPages,qAxisData:this.model.layout.qHyperCube.qAxisData})},getSize:function e(){return r.getValue(this.model.layout,this.dataPath.replace(new RegExp("/","g"),".")).qSize},beginSelections:function e(){},endSelections:function e(){},clearSelections:function e(){},isSnapshot:true});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(120),n(143),n(301),n(638)],r=function(e,t,n,i){function r(t,i){e.getList().then(function(e){e.getLayout().then(function(e){var r={approvedSheets:[],myPublishedSheets:[],privateSheets:[],communitySheets:[]};r=o(r,e);r.approvedSheets.sort(n.sortByRank);r.privateSheets.sort(n.sortByRank);n.sortByPublishedDate(r.myPublishedSheets,"publishTime");s(t,r,i)})})}function o(e,i){var r={userId:t.userId,userDirectory:t.userDirectory};i.forEach(function(t){n.filterApproved(t)?e.approvedSheets.push(t):n.filterMyPublishedCommunity(r)(t)?e.myPublishedSheets.push(t):n.filterPrivate(t)?e.privateSheets.push(t):n.filterCommunity(r)(t)&&e.communitySheets.push(t)});return e}function s(e,t,n){Object.keys(t).forEach(function(n){t[n].forEach(function(t){e.sheetId===t.qInfo.qId?t.isActive=true:t.isActive=false})});i.show({title:"SheetDialog.Sheet.SelectSheet",sheets:t,selectSheet:function t(n){e.$emit("sheetSelected",n)},sheetInformation:n?n.sheetInformation:""})}function a(e){var t={width:"94%",height:"98%",left:"1.5%",right:"1.5%",top:"0%","z-index":4};switch(e){case"align-left":t.width="75.5%";t.right="23%";break;case"align-center":t.width="94%";t.right="4,5%";break;case"align-right":t.width="75.5%";t.left="23%";break;default:break}return t}return{onSelectSheet:r,getPosition:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){var t=7500,n,i={pending:0,resetTime:void 0};var r={begin:o,end:s,hasPending:a};return r;function o(){n=n||e.getService("$timeout");i.pending++;i.resetTime&&n.cancel(i.resetTime);i.resetTime=n(l,t)}function s(){if(!i.pending)return;i.pending--}function a(){return i.pending>0}function l(){i.pending=0}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(190),n(1092),n(690),n(691),n(692),n(347),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(705),n(706),n(707),n(708),n(709)],r=function(){}.apply(t,i),void 0!==r&&(e.exports=r))},,,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(224)],r=function(e,t){function n(n){function i(e){n.imageCustomSize=e}function r(e){n.selectedSize=e}function o(e){if(!e||!e.orientation)return;n.selectedLayout=e;n.sizes.forEach(function(t){t.setLabel(e.orientation)})}function s(e){n.export=e;n.print.format=e.format}function a(e){var t=l();if(e.isCustom){n.print.width=Math.round(t.width);n.print.height=Math.round(t.height);return}var i=e.toPixels(t.width);n.print.width=i.w;n.print.height=i.h}function l(){return{width:e("#qv-story-play").is(":visible")?e("#qv-story-play").find(".qv-story-play-slide").first().width():n.input.currentWidth,height:e("#qv-story-play").is(":visible")?e("#qv-story-play").find(".qv-story-play-slide").first().height():n.input.currentHeight,dpi:n.input.currentDpi}}function u(e){if(n.obj&&n.input.object){var i,r,o,s,a;n.print.width<8&&(n.print.width=8);n.print.height<8&&(n.print.height=8);n.print.dpi<n.minDpi&&(n.print.dpi=n.minDpi);n.print.dpi>n.maxDpi&&(n.print.dpi=n.maxDpi);var u=Math.round(n.print.width),d=Math.round(n.print.height);var p=l();a={width:Math.round(p.width),height:Math.round(p.height),dpi:p.dpi};var h=n.imageCustomSize?{width:n.print.width,height:n.print.height,dpi:n.print.dpi}:{width:n.input.currentWidth,height:n.input.currentHeight,dpi:n.input.currentDpi};r={width:Math.round(h.width*(n.input.currentDpi/h.dpi)),height:Math.round(h.height*(n.input.currentDpi/h.dpi))};"image"===e&&(i={imageType:n.print.format,captureSize:h});if("pdf"===e){o=n.selectedSize.toMillimeters();s={right:10,left:10,top:10,bottom:10};i={width:o["portrait"===n.selectedLayout.orientation?"w":"h"],height:o["portrait"===n.selectedLayout.orientation?"h":"w"],dpi:n.print.dpi,fitCriteria:n.print.fitCriteria,margin:s,sourceSize:a}}"ppt"===e&&(i={width:u,height:d,dpi:n.print.dpi,sourceSize:a});n.state=n.states.PENDING;return t.printTree(n.input.object,a,r,i,e).then(function(t){c(t,e)},f)}n.destroyComponent()}function c(e,t){n.printUrl=e.qUrl;n.printFileName=e.fileName;var i=t.charAt(0).toUpperCase()+t.slice(1);n.printUrlTranslationKey="Print."+i+".CompletedLink";n.state=n.states.COMPLETED}function f(e){n.statusCode=e.httpStatusCode;var t=e&&e.status;switch(t){case n.states.CANCELED:case n.states.TIMEOUT:n.state=t;break;default:n.state=n.states.FAILED;break}}return{onImageCustomSize:i,onSizeChange:r,onPrintLayout:o,onFormatChange:s,confirm:u,onPptFormatChange:a}}return{create:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91)],r=function(e){var t="landscape";var n={w:33.1,h:46.8};var i=function e(t,n,i){this.name=t;this.unit=i||"in";this.dimensions=n};i.prototype={toPixels:function e(t){var n,i,r=0;switch(this.unit){case"in":r=t;break;case"pi":r=1;break;case"cm":r=.393701*t;break}n=this.dimensions.w*r;i=this.dimensions.h*r;return{w:Math.round(n),h:Math.round(i)}},toMillimeters:function e(){var t,n,i=0;switch(this.unit){case"in":i=1/.0393701;break;case"cm":i=10;break}t=this.dimensions.w*i;n=this.dimensions.h*i;return{w:Math.floor(t),h:Math.floor(n)}},setLabel:function t(n){var i=this;var r;var o=e.localeDetected&&"en"===e.localeDetected.substring(0,2);var s=o?i.dimensions:i.toMillimeters();var a=s["portrait"===n?"w":"h"],l=s["portrait"===n?"h":"w"];"Print.PaperSize.Letter"===i.name&&(i.name=e.get(i.name));r=o?" ("+a+'" x '+l+'")':" ("+a+" mm x "+l+" mm)";i.label=i.name+r}};function r(e,t){var n,i;if(e<t){n=e;i=t/2}else{n=e/2;i=t}return{w:n>i?i:n,h:i>n?i:n}}var o=[new i("A0",{w:n.w,h:n.h})];for(var s=1;s<8;s++)o.push(new i("A"+s,r(o[s-1].dimensions.w,o[s-1].dimensions.h)));o.push(new i("Print.PaperSize.Letter",{w:8.5,h:11}));for(var a=0;a<3;a++)o.shift();o.forEach(function(e){e.setLabel(t)});var l=[{orientation:"portrait",translationKey:"Print.Portrait"},{orientation:"landscape",translationKey:"Print.Landscape"}];l.forEach(function(t){e.ready.then(function(){t.label=e.get(t.translationKey)})});var u=[{type:"pdf",format:"pdf",label:"PDF"},{type:"image",format:"png",label:"PNG"},{type:"image",format:"jpeg",label:"JPEG"}];return{sizes:o,layouts:l,outputs:u}}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";(function(e){var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(91),n(520)],r=function(e,t,n){var i=e.module("qv.alert-dialog",["leonardo-ui.dialog"]);i.service("qvAlertDialog",["luiDialog",function(e){var i={};i.show=function(i){if("object"!==o(i))throw new Error("options must be an object");return e.show({controller:["$scope",function(e){e.closeLabel=e.input.closeLabel||t.get("Common.Close")}],template:n,input:{message:i.message,title:i.title,closeLabel:i.closeLabel,keepOpen:i.keepOpen},variant:i.variant,closeOnEscape:i.closeOnEscape})};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(2),n(13)],r=function(e,t){var n;var i=function i(){n=e({method:"GET",url:t.apiPath+"v0/features"}).then(function(e){return e.data});return n};return{get:function e(){if(!n)return i();return n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(e){var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(91),n(521)],r=function(e,t,n){var i=e.module("qv.confirm-dialog",["leonardo-ui.dialog"]);i.service("qvConfirmDialog",["luiDialog",function(e){var i={};i.show=function(i){if("object"!==o(i))throw new Error("options must be an object");return e.show({controller:["$scope",function(e){e.okLabel=e.input.okLabel||t.get("Common.OK");e.cancelLabel=e.input.cancelLabel||t.get("Common.Cancel")}],template:n,input:{message:i.message,title:i.title,icon:i.icon,okLabel:i.okLabel,cancelLabel:i.cancelLabel,hideCancelButton:i.hideCancelButton},variant:i.variant,closeOnEscape:i.closeOnEscape})};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){function t(e,t,n,i){switch(t){case"BottomLeft":n-=e.outerWidth();break;case"Bottom":n-=e.outerWidth()/2;break;case"BottomRight":break;case"Left":n-=e.outerWidth();i-=e.outerHeight()/2;break;case"Center":n-=e.outerWidth()/2;i-=e.outerHeight()/2;break;case"Right":i-=e.outerHeight()/2;break;case"Top":i-=e.outerHeight();n-=e.outerWidth()/2;break;case"TopRight":default:i-=e.outerHeight()/2;break}return{left:n,top:i}}function n(t,n){var i=e(window);var r=10;var o=r;var s=i.outerWidth()-t.outerWidth()-r;var a=Math.max(o,Math.min(s,n.left));var l=r;var u=i.outerHeight()-t.outerHeight()-r;var c=Math.max(l,Math.min(u,n.top));return{left:a,top:c}}function i(e,i,r){var o=t(e,i,r.x,r.y);o=n(e,o);e.offset(o);return o}function r(e,t){t=n(e,t);e.offset(t);return t}return{dock:t,limit:n,position:i,reposition:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(108),n(143),n(49),n(193)],r=function(e,t,n,i){var r=["HubSection_Home"],o=null,s;n.onDataReceived.then(function(e){s=e.userDirectory});e.service("clientSections",["$contentApi",function(e){var n={};function a(){var e={};for(var t in r)e[r[t]]=true;n=e;return e}return{getSync:function e(){return Object.assign({},n)},get:function l(u){var c=!!u;u=u||function e(){};if(!t.sessionPromise)return u(a());function f(e){var t={};if(!e.data&&!Array.isArray(e.data))return;for(var i in r)e.data.indexOf(r[i])>-1&&(t[r[i]]=true);n=t;return u(t)}function d(){return(o||(o=e.request({method:"POST",url:"/qrs/systemrule/security/evaluatetransientresources",data:r,cache:true}))).then(f).catch(f)}function p(){return"NONE"!==s?d():u(a())}return t.sessionPromise.then(function(){var e=i.getFlag("HAS_QRS");if(e)return c?p():u(a());u(a())}).catch(function(){return u(a())})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},,,,function(e,t,n){"use strict";var i,r;!(i=[n(118)],r=function(e){var t=2e3;function n(n,i,r){var o=e.occurrencesRE(n,i,r);var s=o>=t?t:o;return s}return{MAX_NBR_OF_HITS:t,getMaxNumberOfHits:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(614),n(50)],r=function(e,t,n){var i=null;function r(){i=null;n.ViewChanged.unbind(o)}function o(){e.getService("cardService").close()}var s={show:function s(a){n.ViewChanged.bind(o);var l={component:t,input:{object:a}},u=[l],c={cardSteps:u,onClose:r};i=a.id;e.getService("cardService").show(c)},isShowing:function e(){return i}};e.service("objectInfoCard",[function(){return s}]);return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(152),n(114),n(616),n(617)],r=function(e,t,n,i,r){function o(e){var t=/(https?:\/\/[^\s<]+)/g;if(e.indexOf("javascript:")>-1)return e;return e.replace(t,'<a href="$1" target="_blank">$1</a>')}return{template:i,scope:{close:"&"},controller:["$scope",function(i){var s=e.getService("$sce");i.direction=n.direction;i.getTrustedHtml=function(e){return e?s.getTrustedHtml(o(t.toHTML(e))):null};r.createObjectInfo(i.input.object).then(function(e){i.object=e})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t;function n(e,t,n,i,r){void 0===n&&(n=r.qDecimalSep);void 0===i&&(i=r.qThousandSep);var o="",s,a,l,u;if("F"===e)if(0===t)o="#"+i+"##0";else{o="#"+i+"##0"+n;for(l=0;l<t;++l)o+="0"}else{for(l=0;l<t;++l)o+="#";if(t>3){u=o.length;s=o.substring(0,u-3);a=o.substr(u-3);o=s+i+a}}return o}return{setNumFmtPattern:function e(n,i,r){var o={type:i.qType||"U",nDec:"qType"===n?("F"===i.qType,2):"R"===i.qType?i.qnDec||10:"number"===typeof i.qnDec?Math.max(0,i.qnDec):2,thousandSep:i.qThou,decimalSep:i.qDec},s;s=this._getSeparators(n,"M"===i.qType,o.decimalSep,o.thousandSep,r);s.decimal!==t&&(o.decimalSep=s.decimal);s.thousand!==t&&(o.thousandSep=s.thousand);i.qType=o.type;i.qnDec=o.nDec;i.qDec=o.decimalSep;i.qThou=o.thousandSep;i.qFmt=this._getPattern(o.type,o.nDec,o.decimalSep,o.thousandSep,r);if(["D","T","TS","IV"].indexOf(o.type)>=0){i.qDec="";i.qThou=""}},_getSeparators:function e(t,n,i,r,o){var s=i,a=r,l="q"+(n?"Money":"");if("qType"===t){a=o[l+"ThousandSep"]||"";s=o[l+"DecimalSep"]||"."}else if("qThou"===t&&void 0===r){a=o[l+"ThousandSep"]||"";s=i||"."}else if("qDec"===t&&(void 0===i||""===i)){s=o[l+"DecimalSep"]||".";a=r||""}return{decimal:s||".",thousand:a||""}},_getPattern:function t(n,i,r,o,s){var a;switch(n){case"U":return"";case"I":return"#"+o+"##0";case"R":case"F":return this.getNDecPattern("F",i,r,o,s);case"M":a=s.qMoneyFmt;s.qMoneyDecimalSep&&(a=a.replace(new RegExp(e.escapeRegExp(s.qMoneyDecimalSep),"g"),r));s.qMoneyThousandSep&&(a=a.replace(new RegExp(e.escapeRegExp(s.qMoneyThousandSep),"g"),o));return a;case"D":return s.qDateFmt;case"T":return s.qTimeFmt;case"TS":return s.qTimestampFmt;case"IV":return"h:mm:ss";default:return""}},getDefaultNumericFormat:function e(t,i){return n("F",2,t.qDec,t.qThou||"",i)},getNDecPattern:n,getNormalizedFormat:function e(t,n){var i=t.qDec+t.qThou;if(/\u00a0/.test(i)&&!/\u0020/.test(i))return n.replace(/\u0020/g," ");return n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(89),n(281),n(621),n(156),n(204),n(419),n(623),n(115),n(130),n(189),n(400),n(110)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p){function h(e,t){var n=i.getHyperCube(e,t);if(n)return n.qDimensionInfo||[];if(e.qChildList){var r=e.qChildList.qItems||[];return r.map(function(){return{}})}var o=!e.qListObject||!e.qListObject.qDimensionInfo||e.qListObject.qDimensionInfo.qError;return o?[]:[e.qListObject.qDimensionInfo]}function v(e,t){var n=i.getHyperCube(e,t);return n&&n.qMeasureInfo||[]}function m(e,t,n){var i,r,o,s,a,l;for(i=0;i<e.data.length;++i){for(r=0;r<e.data[i].dimensions.length;++r){o=e.data[i].dimensions[r];if(o.qLibraryId){a=c.findLibraryDimension(o.qLibraryId,t);a&&(o.title=a.qData.title)}}for(r=0;r<e.data[i].measures.length;++r){s=e.data[i].measures[r];if(s.qLibraryId){l=c.findLibraryMeasure(s.qLibraryId,n);l&&(s.title=l.qData.title)}}for(r=0;r<e.data[i].excludedDimensions.length;++r){o=e.data[i].excludedDimensions[r];if(o.qLibraryId){a=c.findLibraryDimension(o.qLibraryId,t);a&&(o.title=a.qData.title)}}for(r=0;r<e.data[i].excludedMeasures.length;++r){s=e.data[i].excludedMeasures[r];if(s.qLibraryId){l=c.findLibraryMeasure(s.qLibraryId,n);l&&(s.title=l.qData.title)}}}}return{BackendApi:r,template:l,hasDefaultTemplate:function e(){return this.template===l},mapProperties:function e(){this.mappedDefinition=o.mapDefinition(this.definition,this.type);this.globalChangeListeners=o.findGlobalListeners(this.mappedDefinition);var t=this.data&&this.data.dimensions;if(t){t.min="undefined"!==typeof t.min?t.min:1;t.max="undefined"!==typeof t.max?t.max:1e3}else if(!this.data){t=o.findDefinition(this.mappedDefinition,"qHyperCubeDef.qDimensions",true);t||(t=o.findDefinition(this.mappedDefinition,"qListObjectDef",true));t&&(t.obsolete=true)}this.dimensionDefinition=t;var n=this.data&&this.data.measures;if(n){n.min="undefined"!==typeof n.min?n.min:1;n.max="undefined"!==typeof n.max?n.max:1}else if(!this.data){n=o.findDefinition(this.mappedDefinition,"qHyperCubeDef.qMeasures",true);n&&(n.obsolete=true)}this.measureDefinition=n},getDefaultDimensionProperties:function e(){if(this.dimensionDefinition&&this.dimensionDefinition.obsolete)return o.mapProperties(this.dimensionDefinition);if(this.dimensionDefinition)return o.mapProperties(this.mappedDefinition.items.data.items.dimensions)},getDefaultMeasureProperties:function e(){if(this.measureDefinition&&this.measureDefinition.obsolete)return o.mapProperties(this.measureDefinition);if(this.measureDefinition)return o.mapProperties(this.mappedDefinition.items.data.items.measures)},getCreatePropertyHandler:function e(t){var n=this.globalChangeListeners,i,r;if(this.model&&this.model.layout&&this.model.layout.qListObject){i=o.mapProperties(this.dimensionDefinition);return new a({app:t,dimensionDefinition:this.dimensionDefinition,dimensionProperties:i})}i=this.getDefaultDimensionProperties();r=this.getDefaultMeasureProperties();return new s({app:t,dimensionDefinition:this.dimensionDefinition,measureDefinition:this.measureDefinition,dimensionProperties:i,measureProperties:r,globalChangeListeners:n})},mapSoftProperties:function e(){if(!this.softDefinition)return;var t=o.mapDefinition(this.softDefinition,null,d);function n(e){var t=[{diffs:e.ref||e.sortIndexRef?[e.ref||e.sortIndexRef]:e.diffs||[]}];e.items&&Object.keys(e.items).forEach(function(i){t.push({diffs:n(e.items[i])})});e._diffs=t;return t}n(t);this.mappedSoftDefinition=t},hasError:function e(t){var n=t.layout,i=t.ext&&t.ext.options.hyperCubePath?n[t.ext.options.hyperCubePath].qHyperCube:n.qHyperCube;if(i)return!!i.qError;if(n.qListObject)return!!n.qListObject.qError;return false},showRequirements:function e(t){var n=t.ext.dimensionDefinition?t.ext.dimensionDefinition.min:0,i=t.ext.measureDefinition?t.ext.measureDefinition.min:0,r=h(t.layout,t.ext.options.hyperCubePath),o=v(t.layout,t.ext.options.hyperCubePath),s;function a(e){return e.qError&&e.qError.qErrorCode===p.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function l(e){return e&&e.qErrorCode!==p.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function u(e){return e.filter(function(e){return!a(e)}).length}var c=u(r),f=u(o);"function"===typeof n&&(n=n.call(null,f));"function"===typeof i&&(i=i.call(null,c));if(n>0&&c<n)return true;for(s=0;s<r.length;++s)if(l(r[s].qError))return true;if(i>0&&f<i)return true;for(s=0;s<o.length;++s)if(l(o[s].qError))return true;return false},addFieldDimension:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addFieldDimension(n.value,n.trimmedValue).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(t)})})},addLibraryDimension:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addLibraryDimension(n.libraryId).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(t)})})},addLibraryMeasure:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addLibraryMeasure(n.libraryId).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);i.model.setProperties(t)})})},addExpressionMeasure:function t(n,i){return i.model.getProperties().then(function(t){var r=i.getCreatePropertyHandler();r.setProperties(t);return r.addExpressionMeasure(n.value,n.trimmedValue).then(function(n){r.updateGlobalChangeListeners();e.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(t)})})},getDropFieldOptions:function e(t,n,i,r,o){t.Add(i,n,o);t.ReplaceDimensions(i,n,o);t.AddFieldAsMeasure(i,n,o);t.ColorBy(i,n,o);r()},getDropDimensionOptions:function t(n,i,r,o,s){if(i.getDimensions().length<i.minDimensions())i.addLibraryDimension(n.item.id).then(function(t){r.setProperties(i.properties);e.$rootScope.$broadcast("pp-open-path","data."+t.qDef.cId)});else{n.Add(r,i,s);n.ReplaceDimensions(r,i,s);n.ColorBy(r,i,s);o()}},getDropMeasureOptions:function t(n,i,r,o,s){var a=i.getMeasures().length;if(a<i.minMeasures()||0===a&&a<i.maxMeasures())"expression"===n.item.type?i.addExpressionMeasure(n.item.name,"").then(function(t){r.setProperties(i.properties);e.$rootScope.$broadcast("pp-open-path","data."+t.qDef.cId)}):i.addLibraryMeasure(n.item.id).then(function(t){r.setProperties(i.properties);e.$rootScope.$broadcast("pp-open-path","data."+t.qDef.cId)});else{n.Add(r,i,s);n.ReplaceMeasures(r,i,s);n.ColorBy(r,i,s);o()}},getDropStateOptions:function e(t,n,i,r){t.ApplyAlternateState(i,n,t.item.id,"contextMenu.applyState");r()},getDropTemplateOptions:function e(t,n,i,r,o){var s=this,a=u.getType(t.item.template),l=["contextMenu.convertTo",t.item.name];s.type!==a.type?a.getExtensionType().then(function(e){!o.isReadonly&&!i.layout.qHasSoftPatches&&s.exportProperties&&e.importProperties&&t.menu.addItem({translation:l,tid:"convert",select:function n(){s._convert(a,e,t.item)}});r()},function(){r()}):r()},getDropOptions:function e(n,i,r){var o=n.model,s=this,a,l,u;l={field:"getDropFieldOptions",dimension:"getDropDimensionOptions",measure:"getDropMeasureOptions",template:"getDropTemplateOptions",expression:"getDropMeasureOptions",state:"getDropStateOptions"};a=i.item.type;u=l[a];if(u)return o.getProperties().then(function(e){var a=n.getCreatePropertyHandler();var l=t.extend(true,{},e);a.setProperties(l);a.setLayout(n.model&&n.model.layout);return s[u](i,a,o,r,n)});r()},_convert:function e(t,i,r){var o,s,a=this;n.all({initialProperties:t.getInitialProperties(r.init),propertyTree:a.model.getFullPropertyTree()}).then(function(e){try{o=a.exportProperties(e.propertyTree,a.options?a.options.hyperCubePath:void 0);n.all({dimensionList:a.model.app.getDimensionList(),measureList:a.model.app.getMeasureList()}).then(function(t){m(o,t.dimensionList,t.measureList);s=i.importProperties(o,e.initialProperties,i,i.options?i.options.hyperCubePath:void 0);a.model.getLayout().then(function(e){if(e.qHasSoftPatches){a.model.markAsCancelled();a.model.clearSoftPatches().then(function(){a.model.setFullPropertyTree(s).then(function(){a.model.markAsInvalid()})})}else a.model.setFullPropertyTree(s)})})}catch(e){}})},exportProperties:function e(t){if(t.qProperty.qHyperCubeDef)return f.hypercube.exportProperties(t);if(t.qProperty.qListObjectDef)return f.listbox.exportProperties(t);return f.other.exportProperties(t)},importProperties:function e(t,n,i){if(n.qHyperCubeDef)return f.hypercube.importProperties(t,n,i);if(n.qListObjectDef)return f.listbox.importProperties(t,n,i);return f.other.importProperties(t,n,i)},support:{cssScaling:false,sharing:false,colorBy:false,snapshot:false,export:false,exportData:true,viewData:false},options:{},hasNewType:function e(t,n){return t.type!==n}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(54),n(178)],r=function(e,t){var n={},i="";var r={put:o,has:s,get:a};return r;function o(i,r){if(!i||!r||!e.isString(i)||!e.isString(r))return;var o=t.getNormalizedExpression(i),s=r;n[o]=s}function s(i){if(!i||!e.isString(i))return false;var r=t.getNormalizedExpression(i),o=n[r];return!!o}function a(r){if(!r||!e.isString(r))return i;var o=t.getNormalizedExpression(r),s=n[o];return s||i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){e=void 0!==e?e:1;this.data=[];for(var t=0;t<e;++t)this.data.push({dimensions:[],measures:[],excludedDimensions:[],excludedMeasures:[],interColumnSortOrder:[]});this.properties={}}return e}.apply(t,i),void 0!==r&&(e.exports=r))},,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(159),n(114)],r=function(e,t,n){e.directive("qvaDirection",function(){return{restrict:"A",link:function e(i,r,o){function s(){var e,i=o["dirSetting"]?o["dirSetting"]:n.direction,s=o["dirText"];e=s?t.detectTextDirection(s):i;r.attr("dir",e);"rtl"===e?r.addClass("qv-rtl-text"):r.removeClass("qv-rtl-text");"rtl"===i?r.addClass("qv-rtl-layout"):r.removeClass("qv-rtl-layout")}s();o.$observe("dirText",s);o.$observe("dirSetting",s)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(336),n(158),n(89),n(313),n(224),n(10)],r=function(e,t,n,i,r,s){function a(t,i,r){if(i instanceof a)return i;Object.defineProperties(this,{id:{value:i.id},qapp:{value:t},model:{value:i},rendered:{value:new n},support:{value:r,writable:true},_isToggled:{value:false,writable:true}});i.layout.qHyperCube&&Object.defineProperties(this,{table:{value:new e(this.qapp,i),configurable:true}})}a.prototype.setOptions=function(e){var n=[];t.addPatches("/",e,n);return this.model.applyPatches(n,true)};a.prototype.show=function(e,n){n=n||{};var i=this;var r=n.onRendered;n.onRendered=function(e){r&&r(e);i.rendered.resolve(e)};return t.showVisualization(e,this.model.enigmaModel,n,this.model.enigmaModel.app).then(function(t){i._scopes=i._scopes||[];i._scopes.push(t);i._elements=i._elements||[];i._elements.push(e);return t})};a.prototype.close=function(){if(this._scopes){this._scopes.forEach(function(e){e.$destroy()});delete this._scopes}if(this._elements){this._elements.forEach(function(e){t.clearElement(e)});delete this._elements}if(this.table){this.table.destroy();delete this.table}this.model&&this.model._expendable&&this.model.close();return t.Promise.resolve()};a.prototype.resize=function(){t.resize(this.id)};a.prototype.toggleDataView=function(){var e=this;return e.rendered.promise.then(function(){return t.getExtensionSupport(e.model).then(function(n){if(n.viewData){e.dataView||(e.dataView=e._elements.map(function(t){return new i(e.qapp.model,e.model,t,e._scopes[0].options)}));return t.Promise.all(e.dataView.map(function(e){return e.toggle()})).then(function(t){return e._isToggled=t.every(function(e){return e})}).catch(function(){return t.Promise.reject("toggleDataView was not successful")})}return t.Promise.reject("toggleDataView is not supported for this visualization type")})})};function l(e){var t,n,i,r,o,s;if(e&&e.session&&e.session.options||e&&e.enigmaModel&&e.enigmaModel.session&&e.enigmaModel.session.sessionConfig){t=e.session.options||e.enigmaModel.session.sessionConfig;s=void 0!==t.secure?t.secure:t.isSecure;n=s?"https://":"http://";i=t.host||"localhost";r=t.port?":"+t.port:"";o=t.prefix?t.prefix:"/";"/"!==o[o.length-1]&&(o+="/");return{baseUrl:n+i+r,prefix:o}}return{baseUrl:"",prefix:""}}function u(e,t){return-1!==e.indexOf("/printing/export/")?e:t.baseUrl+t.prefix+e.replace("../","")}a.prototype.exportImg=function(e){if(!e||!e.height||!e.width)throw new Error("Image dimensions missing in settings argument.");var t=this;var n="image";var i=l(t.qapp.model);var o="png";e&&e.format&&("jpeg"===e.format.toLowerCase()||"jpg"===e.format.toLowerCase())&&(o="jpeg");var s={imageType:o,captureSize:{dpi:96,height:e.height,width:e.width}};return r.printObject(t.qapp.model,{model:t.model},i.baseUrl,void 0,s.captureSize,s,n).then(function(e){return u(e.qUrl,i)})};function c(e,t){var n=void 0!==t&&t;var i={a3:{height:420,width:297},a4:{height:297,width:210},a5:{height:210,width:148},a6:{height:148,width:105},a7:{height:105,width:74},letter:{height:279.4,width:215.9}};if("object"===o(e)&&e.width&&e.height)return e;if(!i.hasOwnProperty(e.toLowerCase()))return{};return n?{height:i[e.toLowerCase()].width,width:i[e.toLowerCase()].height}:i[e.toLowerCase()]}a.prototype.exportPdf=function(e){var t=this;var n="pdf";var i=l(t.qapp.model);var o=!(!e||!e.orientation||"landscape"!==e.orientation.toLowerCase());var s=e&&e.documentSize?e.documentSize:"a4";var a=c(s,o);var f=e&&-1!==[0,2].indexOf(e.aspectRatio)?e.aspectRatio:2;var d=0!==f?{height:1,width:1}:e.objectSize;var p={dpi:200,fitCriteria:f,height:a.height,width:a.width,sourceSize:{dpi:96,width:d.width,height:d.height}};return r.printObject(t.qapp.model,{model:t.model},i.baseUrl,void 0,void 0,p,n).then(function(e){return u(e.qUrl,i)})};a.prototype.exportData=function(e){var t=this;var n=l(t.qapp.model);var i=e?s.copy(e):{};i.download=false;i.filename&&delete i.filename;return this.table.exportData(i).then(function(e){return n.baseUrl+e})};return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(337),n(338),n(339),n(647)],r=function(e,t,n,i,r){var o={OBJECT:"object",SHEET:"sheet",SLIDE:"slide",STORY:"story"};function s(e,n){var i={left:0,top:0,width:1,height:1};return t.snapshot(e,n.size||{width:600,height:400},n.source,n.sourceSize||{},i)}function a(e,t){return n.snapshot(e,t.size||{width:600,height:400},t.source,t.sheetLayout)}function l(e,t){return i.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize)}function u(e,t){return r.snapshot(e,t.size||{width:600,height:400},t.source,t.sourceSize)}return{snapshot:function e(t,n,i){switch(n){case o.SHEET:return a(t,i||{});case o.STORY:return u(t,i||{});case o.SLIDE:return l(t,i||{});case o.OBJECT:return s(t,i||{})}},cancel:function t(){var n=Array.prototype.slice.call(document.querySelectorAll(".qv-snapshotter")),i;while(i=n.pop()){i=e(i).children("div");i.slice().each(function(t,n){n=e(n);n.scope&&n.scope()&&n.scope().$destroy();n.remove()})}},type:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){function t(e,t,i,r,s){"title"===e?n(t,i,1.32,false):"paragraph"===e&&o(t,i,r,s)}function n(e,t,n,i){var o,s,a,l,u=0,c=t.parents(".qv-story-grid-object"),f=t.find(".story-text-static"),d;d=e.split("<div").length>=e.split("<br").length?r(e,"<div"):r(e,"<br");o=t.height()/n/d;s=t.height()/d;a=t.height()/8/d;t.css({"line-height":Math.floor(s)+"px","font-size":Math.floor(o)});while(Math.ceil(c.outerWidth())<f.outerWidth()&&!i&&"!?}^"!==e&&u<250){l=o--;t.css({"line-height":Math.floor(s)+"px","font-size":Math.floor(l)});u++}t.css({"line-height":Math.floor(s)+"px","font-size":Math.floor(o)});t.find(".qv-media-tool-html").css({"padding-right":a});t.find(".qv-media-tool-editor").css({"padding-right":a})}function i(e,t,n){var i;i=e.split("<div").length>=e.split("<br").length?r(e,"<div"):r(e,"<br");return t/n/i}function r(e,t){var n=0,i=e.split(t),r=e.match(/<br/g),o=e.match(/<div/g);if(r&&"<br"===t){n+=r.length;i&&i[i.length-1].match(/.*?>(?:<\/\w+>)*([^<]+)/g)&&n++}o&&"<div"===t&&(n+=o.length);e.split("<div").length>n&&(n=e.split("<div").length);i.forEach(function(e,t){""===e&&0===t&&(n-=1)});n<1&&(n=1);return n}function o(t,n,i,r){var o,a,l;i.length<1&&(i=e(r?".qv-story-play-slide.qv-story-slide-active":"#selectable"));o=i.height();a=o<200?8e3/o:40;l=o/a;l=parseFloat(l.toFixed(2));l=l<2?2:l;s(n,l)}function s(e,t){e.css({"font-size":t})}function a(e){var t,n;t=e<200?8e3/e:40;n=e/t;n=parseFloat(n.toFixed(2));n=n<2?2:n;return n}return{getRows:r,calculateFontsize:t,calculateFontsizeOnTitle:n,calculateFontsizeOnParagraph:o,calculatePrintTitleFontSize:i,calculatePrintParagraphFontSize:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{getDuration:e};function e(e){var t=3e3,n=7e3,i=3e4,r=e*t;return Math.max(n,Math.min(r,i))}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92)],r=function(e){function t(e){var t=e.getBoundingRect();return Number.isNaN(+t.x+t.y+t.width+t.height)}var n=e.extend({init:function e(t,n,i,r,o,s,a){if(!(!t||t instanceof Array)||!(!n||n instanceof Array)||!(!i||n instanceof Array)||!(!r||i instanceof Array))throw new Error("The dimensions, measures and values input must be undefined or arrays");this.selected=false;this.highlighted=false;this.values=i||[];this.labels=r||[];this.row=o;this.col=s;this.id=a;this.parent=void 0;this.children=[];this._dimensions=t||[];this._measures=n||[];this._attrDims=[];this._attrDimTypes=[];this._objectShapes={};this._shapes=[];this._tooltipShape=void 0;this._tooltipShapeComponent=void 0},get siblings(){return this._parent?this._parent.children:[]},clearShapes:function e(t){t&&this._objectShapes[t]&&(this._objectShapes[t]=[]);this._shapes=[];for(var n in this._objectShapes)this._shapes=this._shapes.concat(this._objectShapes[n])},getShapes:function e(t){return t?this._objectShapes[t]||(this._objectShapes[t]=[]):this._shapes},getShapeBounds:function e(n,i){if(this._calculateTooltipPosition&&n){var r=this.getShapes(n);var o=r.map(function(e){var t=e.getBoundingRect();if(!e.clearModelView){t=t.clone();t.set(t.x*i,t.y*i,t.width*i,t.height*i)}return t});o=o.filter(function(e){return!t(e)});if(o.length){var s=o.reduce(function(e,t){return e.combineWith(t)},o[0]);return s}return null}return null},addShape:function e(t,n,i){if(n instanceof Array&&(!n[0].pointInside||!n[0].getBoundingRect)||!n.pointInside||!n.getBoundingRect)throw new Error("The shape must implement a `pointInside` function");this._objectShapes[t]instanceof Array||(this._objectShapes[t]=[]);this._objectShapes[t].push(n);this._shapes.push(n);if(i){this._tooltipShape=n;this._tooltipShapeComponent=t}},addMeasure:function e(t,n,i){this.values.push(n);this.labels.push(i);this._measures.push(t)},getMeasures:function e(){return this._measures},getMeasuresIndecies:function e(){return this._measures.map(function(e,t){return t})},addDimension:function e(t){this._dimensions.push(t)},getDimensions:function e(){return this._dimensions},addAttributeDimension:function e(t,n,i){this._attrDims.push({value:t,label:n,name:i})},getAttributeDimensions:function e(t){if(this._attrDims.length)return Number.isNaN(+t)?this._attrDims.map(function(e){return e.value}):[this._attrDims[t].value];return null},getValue:function e(t){t=t||0;return this.values[t]},getPreformattedLabel:function e(t){t=t||0;return this.labels[t]},getCombinedElementID:function e(){var t=this,n=[t.id];while(t.parent){t=t.parent;n.push(t.id)}n.reverse();return n.join(",")}});n.prototype.isCacheItem=true;Object.defineProperties(n.prototype,{tooltipShape:{get:function e(){return this._tooltipShape}},calculateTooltipPosition:{set:function e(t){this._calculateTooltipPosition=t},get:function e(){return this._calculateTooltipPosition}},interactPosition:{set:function e(t){this._interactPosition=t},get:function e(){return this._interactPosition}},tooltipShapeComponent:{get:function e(){return this._tooltipShapeComponent}},label:{get:function e(){throw new Error("CacheItem: label: Removed functionality")}},shape:{get:function e(){throw new Error("CacheItem: shape: Removed functionality")}},value:{get:function e(){throw new Error("CacheItem: value: Removed functionality")}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(684)],r=function(e){return{scope:{offset:"=",content:"="},template:e,controller:[function(){}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(97),n(750),n(91)],r=function(e,t,n,i,r){var o={template:i,controller:["$scope","$timeout",function(t,i){t.popupClosing=false;t.input.buttonText=t.input.buttonText?t.input.buttonText:r.get("Common.OK");t.input.title=t.input.title?t.input.title:"";t.input.message=t.input.message?t.input.message:"";function o(e){if(e){t.popupClosing=true;i(function(){t.destroyComponent()},500)}else t.destroyComponent()}t.input.closeAfter&&i(function(){o(true)},t.input.closeAfter);t.onOutsidePopover=function(t){event.stopPropagation();event.preventDefault();e(t.target).closest(".qui-popover-ok-button").length||o()};t.onCloseClicked=function(){o(true)};t.$on("$destroy",function(){n.off("start",s)});function s(){t.destroyComponent()}n.on("start",s)}]};t.service("qvGuidancePopover",["luiPopover",function(e){return{show:function t(n){return e.show({controller:o.controller,template:o.template,alignTo:n.alignTo,input:{input:n,class:n.class?n.class:""}})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(458),n(214)],r=function(e,t,n){var i=false;var r=false;var o;function s(){return n.saveApp().then(function(){if(r){r=false;return s()}})}function a(){var a=e.getService("$timeout");if(!n.isAutoSaveOn()){n.notifyThatNewChangeIsDoneAndSaveIsRequired();return}if(i){r=true;return}a.cancel(o);n.setSaveOngoing(true);o=a(function(){i=true;t.save();s().finally(function(){i=false})},1e3)}return{save:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(248),n(251),n(353),n(170)],r=function(e,t,n,i){var r={};var o;function s(t){o=t;e.hasTableSizeData()&&c()}function a(e){return t.sha256(o+e)}function l(e,t,n){if(!o)throw new Error("Application ID is undefined.");var i=a(e);r[i]={height:t,width:n}}function u(){var t=n.getDataModel();for(var o in t){var s=i.getTableElement(o);var a=s.height();var u=s.width();l(o,a,u)}e.setTableSizeData(r)}function c(){r=e.getTableSizeData()}function f(e){var t=a(e);var n=r[t];return n}function d(){return e.hasTableSizeData()}return{setAppID:s,save:u,getWidthAndHeightForTable:f,hasLocalStorageData:d}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e,t){return e*(1/t)}function t(e,t){return e/t}return{getDimensionBasedOnZoom:e,getZoomLevelBasedOnDimension:t}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(91)],r=function(e){var t=[],n=[{tid:"Print.Ppt.Format.Standard",w:4,h:3},{tid:"Print.Ppt.Format.Widescreen",w:16,h:9},{tid:"Print.Ppt.Format.Widescreen",w:16,h:10},{tid:"Print.Ppt.Format.Custom"}];var i=function e(t,n){this.ratio=t||{};this.isCustom=n||false};i.prototype={toPixels:function e(t){var n=parseInt(t)||960;var i=n/this.ratio.w*this.ratio.h;return{w:Math.round(n),h:Math.round(i)}},setLabel:function t(){var n=this;e.ready.then(function(){var t=e.get(n.ratio.tid);n.label=t;n.ratio.w&&n.ratio.h&&(n.label+=" "+n.ratio.w+":"+n.ratio.h)})}};var r=n.length;for(var o=0;o<r;o++){var s=new i(n[o]);3===o&&(s.isCustom=true);t.push(s)}t.forEach(function(e){e.setLabel("portrait")});return{formats:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog id="print-dialog" tcl="print-image-settings">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="{{input.title}}"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="print-dialog">\n\n\t\t<div class="section">\n\t\t\t<div class="lui-buttongroup">\n\t\t\t\t<button class="lui-button" tid="print-current-size" ng-class="{ \'lui-active\': ! imageCustomSize }" q-translation="Print.Image.CurrentSize" ng-click="onImageCustomSize(false)" ng-disabled="state === states.PENDING"></button>\n\t\t\t\t<button class="lui-button" tid="print-custom-size"  ng-class="{ \'lui-active\': imageCustomSize }" q-translation="Common.Custom" ng-click="onImageCustomSize(true)" ng-disabled="state === states.PENDING"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section" ng-show="! imageCustomSize">\n\t\t\t{{input.currentWidth}} x {{input.currentHeight}} px @ 96 dpi</span>\n\t\t</div>\n\n\t\t<div class="section" ng-show="imageCustomSize">\n\t\t\t<div class="section-title" q-translation="Print.Image.Width"></div>\n\t\t\t<div class="print-image">\n\t\t\t\t<qui-input-number\n\t\t\t\t\t\tqui-tid="print-image-width"\n\t\t\t\t\t\tqui-model="print.width" qui-disabled="state === states.PENDING" qui-min="0" qui-max="2000" qui-with-buttons="true"></qui-input-number>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="section" ng-show="imageCustomSize">\n\t\t\t<div class="section-title" q-translation="Print.Image.Height"></div>\n\t\t\t<div class="print-image">\n\t\t\t\t<qui-input-number\n\t\t\t\t\t\tqui-tid="print-image-height"\n\t\t\t\t\t\tqui-model="print.height" qui-disabled="state === states.PENDING" qui-min="0" qui-max="2000" qui-with-buttons="true"></qui-input-number>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section" ng-show="imageCustomSize">\n\t\t\t<div class="section-title" q-translation="Print.Image.Dpi"></div>\n\t\t\t<div class="print-image">\n\t\t\t\t<qui-input-number\n\t\t\t\t\t\tqui-tid="print-image-dpi"\n\t\t\t\t\t\tqui-model="print.dpi" qui-disabled="state === states.PENDING" qui-min="0" qui-max="300" qui-with-buttons="true"></qui-input-number>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Image.Format"></div>\n\t\t\t<div class="print-image">\n\t\t\t\t<div class="component-wrapper">\n\t\t\t\t\t<lui-select\n\t\t\t\t\t\t\tx-model="print.format"\n\t\t\t\t\t\t\tx-options="f as f for f in availableFormats"\n\t\t\t\t\t\t\tx-disabled="state === states.PENDING"\n\t\t\t\t\t\t\ttid="print-image-selected-format"></lui-select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.PENDING" class="loading-screen">\n\t\t\t<div class="spinner">\n\t\t\t\t<div class="qv-loader"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.COMPLETED">\n\t\t\t<div class="section">\n\t\t\t\t<a ng-if="!usingReportingService" ng-href="{{printUrl}}" target="_blank" q-translation="Print.Image.CompletedLink"></a>\n\t\t\t\t<a ng-if="usingReportingService" ng-href="{{printUrl}}" target="_blank" q-translation="Print.Image.CompletedLink" download="{{printFileName}}"></a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.TIMEOUT">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.TimeoutMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.FAILED">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.GenericMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); close()" name="cancel" q-translation="Common.Cancel" tid="print-cancel"></lui-button>\n\t\t<lui-button ng-click="$event.preventDefault(); confirm(exportType)" name="confirm" autofocus q-translation="Print.Download" ng-disabled="state === states.PENDING" tid="print-export"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<lui-dialog id="print-dialog" tcl="print-pdf-settings">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="{{input.title}}"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="print-dialog">\n\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.PaperSize"></div>\n\t\t\t<div class="component-wrapper">\n\t\t\t\t<lui-select\n\t\t\t\t\t\ttid="print-paper-size"\n\t\t\t\t\t\tx-model="selectedSize"\n\t\t\t\t\t\tx-disabled="state === states.PENDING"\n\t\t\t\t\t\tx-options="size.label for size in sizes"\n\t\t\t\t\t\tx-change="onSizeChange(selectedSize)"\n\t\t\t\t\t\tx-disabled="state === states.PENDING">\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Image.Dpi"></div>\n\t\t\t<div class="print-image">\n\t\t\t\t<qui-input-number\n\t\t\t\t\t\tqui-tid="print-pdf-dpi"\n\t\t\t\t\t\tqui-model="print.dpi"\n\t\t\t\t\t\tqui-disabled="state === states.PENDING"\n\t\t\t\t\t\tqui-min="{{minDpi}}"\n\t\t\t\t\t\tqui-max="{{maxDpi}}"\n\t\t\t\t\t\tqui-with-buttons="true"></qui-input-number>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Layout"></div>\n\t\t\t<div class="lui-buttongroup">\n\t\t\t\t<button class="lui-button"\n\t\t\t\t\t\ttid="print-orientation-portrait"\n\t\t\t\t\t\tng-class="{ \'lui-active\': \'portrait\' === selectedLayout.orientation }"\n\t\t\t\t\t\tq-translation="Print.Portrait"\n\t\t\t\t\t\tng-click="onPrintLayout(layouts[0])"\n\t\t\t\t\t\tng-disabled="state === states.PENDING"></button>\n\t\t\t\t<button class="lui-button"\n\t\t\t\t\t\tid="print-orientation-landscape"\n\t\t\t\t\t\tng-class="{ \'lui-active\': \'landscape\' === selectedLayout.orientation }"\n\t\t\t\t\t\tq-translation="Print.Landscape"\n\t\t\t\t\t\tng-click="onPrintLayout(layouts[1])"\n\t\t\t\t\t\tng-disabled="state === states.PENDING"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Layout.Aspect"></div>\n\t\t\t<lui-radiobutton class="print-dialog-radio-single"\n\t\t\t\t\t\t\t tid="print-aspect-current-size"\n\t\t\t\t\t\t\t x-name="print-aspect"\n\t\t\t\t\t\t\t x-model="print.fitCriteria"\n\t\t\t\t\t\t\t x-value="0"\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t x-disabled="state === states.PENDING">{{ \'Print.Layout.CurrentSize\' | translate }}</lui-radiobutton>\n\t\t\t<lui-radiobutton class="print-dialog-radio-single"\n\t\t\t\t\t\t\t tid="print-aspect-fit-page"\n\t\t\t\t\t\t\t x-name="print-aspect"\n\t\t\t\t\t\t\t x-model="print.fitCriteria"\n\t\t\t\t\t\t\t x-value="2"\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t x-disabled="state === states.PENDING">{{ \'Print.Layout.BestFitNoPreserveAspectRatio\' | translate }}</lui-radiobutton>\n\t\t</div>\n\t\t<div ng-if="state === states.PENDING" class="loading-screen">\n\t\t\t<div class="spinner">\n\t\t\t\t<div class="qv-loader"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.COMPLETED">\n\t\t\t<div class="section">\n\t\t\t\t<a ng-href="{{printUrl}}" target="_blank" q-translation="Print.Pdf.CompletedLink"></a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.TIMEOUT">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.TimeoutMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.FAILED">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.GenericMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); close()" name="cancel" q-translation="Common.Cancel" tid="print-cancel"></lui-button>\n\t\t<lui-button ng-click="$event.preventDefault(); confirm(exportType)" name="confirm" autofocus q-translation="Print.Download" ng-disabled="state === states.PENDING" tid="print-export"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<lui-dialog id="print-dialog" tcl="print-ppt-settings">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="{{input.title}}"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="print-dialog">\n\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Ppt.Format"></div>\n\t\t\t<div class="component-wrapper">\n\t\t\t\t<lui-select\n\t\t\t\t\ttid="print-ppt-selected-size"\n\t\t\t\t\tx-model="selectedFormat"\n\t\t\t\t\tx-options="f.label for f in formats"\n\t\t\t\t\tx-change="onPptFormatChange(selectedFormat)">\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="section" ng-show="selectedFormat.isCustom">\n\t\t\t<div class="section-title" q-translation="Print.Image.Width"></div>\n\t\t\t<qui-input-number\n\t\t\t\tqui-tid="print-ppt-width"\n\t\t\t\tqui-model="print.width" qui-min="0" qui-max="4000" qui-with-buttons="true"></qui-input-number>\n\t\t</div>\n\n\n\t\t<div class="section" ng-show="selectedFormat.isCustom">\n\t\t\t<div class="section-title" q-translation="Print.Image.Height"></div>\n\t\t\t<qui-input-number\n\t\t\t\tqui-tid="print-ppt-height"\n\t\t\t\tqui-model="print.height" qui-min="0" qui-max="4000" qui-with-buttons="true"></qui-input-number>\n\t\t</div>\n\n\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Image.Dpi"></div>\n\t\t\t<div class="print-ppt-dpi">\n\t\t\t\t<div class="component-wrapper">\n\t\t\t\t\t<lui-select\n\t\t\t\t\t\ttid="print-ppt-dpi"\n\t\t\t\t\t\tx-model="print.dpi"\n\t\t\t\t\t\tx-options="d as d for d in availablePptDpi">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="section">\n\t\t\t{{print.width}} x {{print.height}} px @ {{print.dpi}} dpi\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Ppt.CurrentSlideSize"></div>\n\t\t\t<p>\n\t\t\t{{print.currentWidth}} x {{print.currentHeight}} px @ {{print.currentDpi}} dpi\n\t\t\t</p>\n\t\t</div>\n\t\t--\x3e\n\t\t<div ng-if="state === states.PENDING" class="loading-screen">\n\t\t\t<div class="spinner">\n\t\t\t\t<div class="qv-loader"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.COMPLETED">\n\t\t\t<div class="section">\n\t\t\t\t<a ng-href="{{printUrl}}" target="_blank" q-translation="Print.Ppt.CompletedLink"></a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.TIMEOUT">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.TimeoutMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.FAILED">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.GenericMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); close()" name="cancel" q-translation="Common.Cancel" tid="print-cancel"></lui-button>\n\t\t<lui-button ng-click="$event.preventDefault(); confirm(exportType)" name="confirm" autofocus q-translation="Print.Download" ng-disabled="state === states.PENDING"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<lui-dialog id="print-dialog" tcl="print-pdf-settings">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="{{input.title}}"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="print-dialog">\n\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.PaperSize"></div>\n\t\t\t<div class="component-wrapper">\n\t\t\t\t<lui-select\n\t\t\t\t\t\ttid="print-paper-size"\n\t\t\t\t\t\tx-model="selectedSize"\n\t\t\t\t\t\tx-disabled="state === states.PENDING"\n\t\t\t\t\t\tx-options="size.label for size in sizes"\n\t\t\t\t\t\tx-change="onSizeChange(selectedSize)"\n\t\t\t\t\t\tx-disabled="state === states.PENDING">\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Image.Dpi"></div>\n\t\t\t<div class="print-image">\n\t\t\t\t<qui-input-number\n\t\t\t\t\t\tqui-tid="print-pdf-dpi"\n\t\t\t\t\t\tqui-model="print.dpi"\n\t\t\t\t\t\tqui-disabled="state === states.PENDING"\n\t\t\t\t\t\tqui-min="0"\n\t\t\t\t\t\tqui-max="300"\n\t\t\t\t\t\tqui-with-buttons="true"></qui-input-number>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Layout"></div>\n\t\t\t<div class="lui-buttongroup">\n\t\t\t\t<button class="lui-button"\n\t\t\t\t\t\ttid="print-orientation-portrait"\n\t\t\t\t\t\tng-class="{ \'lui-active\': \'portrait\' === selectedLayout.orientation }"\n\t\t\t\t\t\tq-translation="Print.Portrait"\n\t\t\t\t\t\tng-click="onPrintLayout(layouts[0])"\n\t\t\t\t\t\tng-disabled="state === states.PENDING"></button>\n\t\t\t\t<button class="lui-button"\n\t\t\t\t\t\tid="print-orientation-landscape"\n\t\t\t\t\t\tng-class="{ \'lui-active\': \'landscape\' === selectedLayout.orientation }"\n\t\t\t\t\t\tq-translation="Print.Landscape"\n\t\t\t\t\t\tng-click="onPrintLayout(layouts[1])"\n\t\t\t\t\t\tng-disabled="state === states.PENDING"></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="section">\n\t\t\t<div class="section-title" q-translation="Print.Layout.Aspect"></div>\n\t\t\t<lui-radiobutton class="print-dialog-radio-single"\n\t\t\t\t\t\t\t tid="print-aspect-current-size"\n\t\t\t\t\t\t\t x-name="print-aspect"\n\t\t\t\t\t\t\t x-model="print.fitCriteria"\n\t\t\t\t\t\t\t x-value="0"\n\t\t\t\t\t\t\t x-disabled="state === states.PENDING">{{ \'Print.Layout.CurrentSize\' | translate }}</lui-radiobutton>\n\t\t\t<lui-radiobutton class="print-dialog-radio-single"\n\t\t\t\t\t\t\t tid="print-aspect-fit-page"\n\t\t\t\t\t\t\t x-name="print-aspect"\n\t\t\t\t\t\t\t x-model="print.fitCriteria"\n\t\t\t\t\t\t\t x-value="2"\n\t\t\t\t\t\t\t x-disabled="state === states.PENDING">{{ \'Print.Layout.BestFitNoPreserveAspectRatio\' | translate }}</lui-radiobutton>\n\t\t</div>\n\t\t<div ng-if="state === states.PENDING" class="loading-screen">\n\t\t\t<div class="spinner">\n\t\t\t\t<div class="qv-loader"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.COMPLETED">\n\t\t\t<div class="section">\n\t\t\t\t<a ng-href="{{printUrl}}" target="_blank" q-translation="Print.Pdf.CompletedLink"></a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.TIMEOUT">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.TimeoutMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="state === states.FAILED">\n\t\t\t<div class="section">\n\t\t\t\t<p class="dm-p" q-translation="Print.Failed.GenericMessage"></p>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); close()" name="cancel" q-translation="Common.Cancel" tid="print-cancel"></lui-button>\n\t\t<lui-button ng-click="$event.preventDefault(); confirm(exportType)" name="confirm" autofocus q-translation="Print.Download" ng-disabled="state === states.PENDING" tid="print-export"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(110),n(213)],r=function(e,t,n,i,r){var o=false;var s=i.LocalizedWarningCode;var a=[];var l={code:s.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON,id:"ExpireWarningShown",shown:Date.now()<parseInt(localStorage.ExpireWarningShown,10),interval:864e5};var u={code:s.LOCWARN_PERSONAL_RELOAD_REQUIRED,id:"HiddenScriptWarningShown",shown:sessionStorage.HiddenScriptWarningShown};function c(e,t){var n=-1;for(var i=0;i<e.length;i++)if(e[i].code===t){n=i;break}return n}function f(e,t){if(t.shown){var n=c(e,t.code);-1!==n&&e.splice(n,1)}else if(-1!==c(e,t.code)){t.shown=true;t.interval?localStorage.setItem(t.id,Date.now()+t.interval):sessionStorage.setItem(t.id,true)}}function d(){o=true}function p(){o=!!a.length;a.length&&v()}function h(e,n){var i='<h2 class="inline-title">'+e+"</h2><span>"+n+"</span>";var r=t.getService("qvAlertDialog").show({message:i,closeOnEscape:true});r.opened.then(d);r.closing.then(p)}function v(){var e;var t;var i=a.shift();if("undefined"!==typeof i.code&&i.code===s.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON){t=n.get("Info.QlikSenseDesktop.Upgrade.Expiring",["<a href='"+r.personalUpgradeUrl+"' target='_blank'>"+r.personalUpgradeBase+"</a>"]);e=n.get("Info.QlikSenseDesktop.Upgrade.Expiring.Title")}else{e=n.get("WarningDialog.Title");t="undefined"!==typeof i.code?n.get("WarningCode."+i.code):n.get(i.message)}h(e,t)}function m(t){var i=e.extend(true,[],t);f(i,l);f(i,u);if(i.length>0){a.push.apply(a,i);o||n.ready.then(function(){v()})}}return{showDialog:m}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(99)],r=function(e,t){return{configureTouchSupport:function n(){e(document.body.parentElement).addClass("touch-"+(t.treatAsDesktop()?"off":"on"))}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){var i,r;!(i=[n,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.isMeasure=function(e){return this.gMeasures.indexOf(e)>=0},e.isDimension=function(t){return this.gDimensions.indexOf(t)>=0||e.isTemporal(t)||e.isGeographical(t)||this.gIntervals.indexOf(t)>=0||e.gOrdinals.indexOf(t)>=0},e.isTemporal=function(t){return this.gTemporals.indexOf(t)>=0||e.gDays.indexOf(t)>=0},e.isGeographical=function(e){return this.gGeographical.indexOf(e)>=0},e.getGeoClassification=function(t){for(var n=void 0,i=0;i<t.length;i++)if(e.gGeographical.indexOf(t[i])){n=t[i];break}return n},e}();n.gMeasures=["measure","monetary","percentage"],n.gDimensions=["dimension","boolean"],n.gOrdinals=["ordinal","interval"],n.gIntervals=["interval","longitude","latitude","temporal"],n.gTemporals=["date","time","timestamp","year","quarter","month","week","minute","second","hour"],n.gDays=["day","weekDay","monthDay","yearDay"],n.gGeographical=["geographical","postalCode","city","stateProvince","country","geopoint"],t.ClassificationHelper=n}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(89),n(330),n(265),n(418),n(331)],r=function(e,t,n,i,r,o,s){var a,l={mode:"S",enabled:true,debouncing:{enabled:true,delay:50},height:250,width:250,maxTotalArea:1e4};a=e.extend("CacheCube",{init:function e(t,n,a,l){this.model=t;this.responseProperty=n;this.options={};this.cubeHeight=0;this.cubeWidth=0;this.setOptions(l||{});this.setPath(a);"K"===this.options.mode?this.cube=new o:"P"===this.options.mode?this.cube=new s:this.cube=new r;this.throttle=new i;var u=this;this.throttle.Send.bind(function(e,t){var n=u._getDirections(u.throttle.recentRequests.map(function(e){return{top:e.data[0].qTop,left:e.data[0].qLeft}}));var i=u._getAreasToCache(e,n.vertical,n.horizontal);u.cacheData(i,e).then(function(e){u.cube?t.resolve(e):t.reject()},function(){t.reject()})});this._modelBinding=function(){u.clear()};this.model.Invalidated.bind(this._modelBinding)},destroy:function e(){this.cube.destroy();this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle;delete this.cube},setMethodName:function e(t){this.method=t},setPath:function e(t){this.path=t},setCubeSize:function e(t){this.cubeHeight=t.qcy;this.cubeWidth=t.qcx},setOptions:function e(n){if(!n)return;this.options=t.extend(true,{},l,this.options,n);this.cacheHeight=this.options.height;this.cacheWidth=this.options.width;this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function e(){this.cube&&this.cube.clear();this.throttle&&this.throttle.clear()},set:function e(t){this.clear();if(!t||!t.length)return;this.cube.store(t)},cacheData:function e(t,n){var i=function e(t){if(this.cube){this.cube.store(t);return this.cube.get(n)}return t};return"getHyperCubeStackData"===this.method&&this.options.maxStackedValues?this.model[this.method](this.path,t,this.options.maxStackedValues).then(i.bind(this)):this.model[this.method](this.path,t).then(i.bind(this))},getData:function e(t){if(!this.model)return n.reject();if(!this.enabled||!this.cubeHeight||!this.cubeWidth)return this.model[this.method](this.path,t);var i,r,o=[];for(i=0;i<t.length;++i){r=t[i];o.push({qTop:Math.max(Math.floor(r.qTop),0),qLeft:Math.max(r.qLeft,0),qHeight:Math.min(r.qHeight,this.cubeHeight-Math.floor(r.qTop)),qWidth:Math.min(r.qWidth,this.cubeWidth-r.qLeft)})}if(this.cube.contains(o)){this.throttle.updateResolutionTime();return n.resolve(this.cube.get(o))}if(0===o[0].qTop&&this.cube.isEmpty()&&this.throttle.ongoingRequests.length+this.throttle.queuedRequests.length===0){this.throttle.updateResolutionTime();return this.cacheData(o,o)}return this.throttle.queue(o)},_getDirections:function e(t){if(!t||t.length<2)return{vertical:0,horizontal:0};var n=t.slice(-2),i=n[1].top-n[0].top,r=n[1].left-n[0].left;return{vertical:i<0?-1:i>0?1:0,horizontal:r<0?-1:r>0?1:0}},_getAreasToCache:function e(t,n,i){var r,o,s,a,l,u,c,f,d,p=[],h=this.cacheHeight;"undefined"===typeof n&&(n=0);"undefined"===typeof i&&(i=0);this.cacheHeight*this.cacheWidth*t.length>this.options.maxTotalArea&&(h=Math.floor(this.options.maxTotalArea/(t.length*this.cacheWidth)));for(r=0;r<t.length;++r){o=0!==n?Math.floor(.5*Math.max(0,h-t[r].qHeight)):0;s=0!==i?Math.floor(.5*Math.max(0,this.cacheWidth-t[r].qWidth)):0;a=o*n-o;l=s*i-s;u=0!==n?Math.max(0,Math.min(Math.max(t[r].qHeight,h),this.cubeHeight)):t[r].qHeight;c=0!==i?Math.max(0,Math.min(Math.max(t[r].qWidth,this.cacheWidth),this.cubeWidth)):t[r].qWidth;f=Math.max(0,Math.min(t[r].qTop+a,this.cubeHeight-u));d=Math.max(0,Math.min(t[r].qLeft+l,this.cubeWidth-c));p.push({qTop:f,qHeight:u,qLeft:d,qWidth:c})}return p}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loadExtension=g;var i=c(n(49));var r=c(n(58));var o=c(n(625));var s=c(n(626));var a=n(59);var l=c(n(103));var u=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f={};function d(e){switch(e){case"auto-chart":return Promise.all([n.e(5),n.e(13),n.e(38)]).then(n.t.bind(null,1163,7));case"barchart":if(i.default.getFlag("BARCHART"))return(0,o.default)(Promise.all([n.e(4),n.e(19),n.e(72)]).then(n.t.bind(null,1164,7)));return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(39)]).then(n.t.bind(null,1165,7));case"boxplot":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(17),n.e(40)]).then(n.t.bind(null,1173,7));case"combochart":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(41)]).then(n.t.bind(null,1175,7));case"container":return Promise.all([n.e(6),n.e(5),n.e(8),n.e(13),n.e(36)]).then(n.t.bind(null,1178,7));case"distributionplot":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(17),n.e(42)]).then(n.t.bind(null,1181,7));case"filterpane":return Promise.all([n.e(8),n.e(43)]).then(n.t.bind(null,1053,7));case"gauge":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(44)]).then(n.t.bind(null,1054,7));case"histogram":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(45)]).then(n.t.bind(null,1182,7));case"kpi":return n.e(47).then(n.t.bind(null,1055,7));case"linechart":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(48)]).then(n.t.bind(null,1183,7));case"listbox":return n.e(49).then(n.t.bind(null,1184,7));case"map":case"map-chart":return b().then(function(){return Promise.all([n.e(4),n.e(6),n.e(5),n.e(74),n.e(50)]).then(n.t.bind(null,1185,7))});case"piechart":return(0,o.default)(Promise.all([n.e(4),n.e(19),n.e(75)]).then(n.t.bind(null,1188,7)));case"pivot-table":return Promise.all([n.e(8),n.e(15),n.e(18),n.e(51)]).then(n.t.bind(null,1057,7));case"scatterplot":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(9),n.e(52)]).then(n.t.bind(null,1189,7));case"table":return Promise.all([n.e(8),n.e(15),n.e(18),n.e(53)]).then(n.t.bind(null,1059,7));case"text-image":return Promise.all([n.e(76),n.e(54)]).then(n.t.bind(null,1060,7));case"treemap":return Promise.all([n.e(0),n.e(2),n.e(7),n.e(55)]).then(n.t.bind(null,1190,7));case"waterfallchart":return Promise.all([n.e(4),n.e(0),n.e(14),n.e(56)]).then(n.t.bind(null,1191,7));case"widget":return Promise.all([n.e(6),n.e(5),n.e(8),n.e(13),n.e(57)]).then(n.t.bind(null,1192,7));default:return n.e(46).then(n.t.bind(null,391,7))}}function p(e,t){t.forEach(function(t){"js/qlik-require-plugin!"===t?console.error("Error in extension '".concat(e,"': Can not use 'js/qlik' in extensions - use 'qlik' instead.")):(0,s.default)(t)&&console.error("Error in extension '".concat(e,"': Can not use internal module '").concat(t,"'."))})}var h=null;function v(e){h||(h=(0,r.default)().then(function(){return(0,a.loadExtensionAMD)()}).then(function(){window.requirejs.config.call(null,{paths:{extensions:"".concat(u.default.rootPath,"extensions"),mapchart:"".concat(n.p,"extensions/qliktech/mapchart"),"_dashboard-bundle":"".concat(n.p,"_dashboard-bundle"),"_visualization-bundle":"".concat(n.p,"_visualization-bundle")}})},function(e){l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"amd-code-split",message:e&&e.message});throw e}));return h.then(function(){return new Promise(function(t,n){if(f[e]){n(f[e]);return}window.requirejs([e],function(e){e=e.__esModule&&e.default?e.default:e;t(e)},function(t){p(e,t.requireModules);console.error(t);f[e]=t;l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"3rd-party-requirejs",message:t&&t.message||t});n(t)})})})}function m(e){return v(e).then(function(e){return(0,o.default)(Promise.resolve(e))})}function g(e){return new Promise(function(t,n){var i=e.path;if(e.libraryInfo.isThirdParty&&e.libraryInfo.__next)return m(i).then(t,function(e){l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"la-vie-code-split",message:e&&e.message||e});n(e)});if(e.libraryInfo.isThirdParty)return v(i).then(t,n);var r=e.typePath||e.type;return d(r).then(function(e){e=e.__esModule&&e.default?e.default:e;t(e)},function(e){l.default.trackEvent(l.default.customEvents.EXTENSION_LOAD_ERROR,{type:"qlik-extension-code-split",message:e&&e.message});n(e)})})}var b=function e(){return v("mapchart/WebMap5")}},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(90),n(282),n(89)],r=function(e,t,n,i){return{createProperties:a,convertProperties:l};function r(e){if("string"===typeof e)e={qDef:{qDef:e}};else if(e.qType){e.qDef=e.qDef||{};e.qDef.cId=t.generateId()}return e}function o(e){if("string"===typeof e)e={qDef:{qFieldDefs:[e]}};else if(e.qType){e.qDef=e.qDef||{};e.qDef.cId=t.generateId()}return e}function s(e){if("string"===typeof e)return 0===e.indexOf("=");if(e.qType)return"measure"===e.qType;return!!(e.qDef&&e.qDef.qDef||e.qSortBy||e.qAttributeExpressions)}function a(a,l,u,c){return i.all([n.getExtensionType(l),n.getInitialProperties(l)]).then(function(n){var l=new i;var f=n[0];var d=n[1];f.mapProperties();var p=f.getCreatePropertyHandler.call(f,a);p.setProperties(d);if(u){var h=u.slice(0);if(d.qListObjectDef){h.forEach(function(e,t){if(0===t){d.qListObjectDef.qDef||(d.qListObjectDef.qDef={});d.qListObjectDef.qDef.qFieldDefs=[e]}else{d.qListObjectDef.qExpressions||(d.qListObjectDef.qExpressions=[]);d.qListObjectDef.qExpressions.push({qDef:{qDef:e}})}});l.resolve(d)}else if(d.qHyperCubeDef||d.boxplotDef){var v=function t(n){var i;var a;var u;var c=true;if(n.length<=0)return l.resolve(d);i=n.shift();if(s(i)){a=r(i);u=e.extend(c,{},a);p.addMeasure(u,void 0,void 0,true).then(function(i){e.extend(c,i,a);t(n)})}else{a=o(i);u=e.extend(c,{},a);p.addDimension(u).then(function(i){e.extend(c,i,a);t(n)})}};v(h)}else l.resolve(d)}else l.resolve(d);return l.promise.then(function(e){c&&t.extend(true,e,c);var n=f.exportProperties&&f.importProperties;if(n){var i=f.importProperties(f.exportProperties({qProperty:e},f.options.hyperCubePath),e,f,f.options.hyperCubePath).qProperty;return i}return e})})}function l(e,r,o,s){var a=e.getEffectiveProperties();var l=n.getExtensionType(r);var u=n.getExtensionType(o);var c=n.getInitialProperties(r);return i.all([a,u,l,c]).then(function(e){var n={qProperty:e[0]};s&&t.extend(true,n.qProperty,s);var i=e[1];var o=e[2];var a=e[3];var l="table"===r&&"function"===typeof i.exportTableProperties?i.exportTableProperties:i.exportProperties;var u=o.importProperties(l(n),a,o).qProperty;u.qInfo&&u.qInfo.qId&&delete u.qInfo.qId;return u})}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.getCurrentSelections=function(e,t){return n(e).then(function(e){return e.engineApp.getSetAnalysis(t).catch(function(e){e.isHandled=true})})};i.getSelectionsFromBookmarkId=function(e,t,i){return n(e).then(function(e){return e.engineApp.getSetAnalysis(i,t).catch(function(e){e.isHandled=true})})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(738),n(100),n(739),n(48),n(11),n(349),n(315)],r=function(e,t,n,i,r){var o=t.resolveColor(3),s=t.resolveColor(4),a=["$scope",function(e){e.activeIndex=-1;e.colorSchemeLimits=[];e.animate=false;e.inputFocus=false}];i.directive("qvPaletteCreator",["$timeout",function(l){return{template:n,controller:a,replace:true,scope:{colors:"=",percentage:"=",limits:"=",types:"=",maxColors:"=?"},link:function n(a,u){var c=false,f=u.find(".paletteSlider"),d={min:null,max:null},p={colors:null,types:null,limits:null};if("[object Array]"!==Object.prototype.toString.call(a.colors)||"[object Array]"!==Object.prototype.toString.call(a.limits)||"[object Array]"!==Object.prototype.toString.call(a.types)||0===a.colors.length)throw new Error("Invalid array parameters set for Palette Creator component");a.maxColors=a.maxColors||100;function h(){if(a.limits.some(function(e){return e>=1||e<=0})){var e=1/a.colors.length,t=a.colors.length<10?.1:0;a.limits.forEach(function(n,i){a.limits[i]=t+i*e})}}a.onGradient=function(){l(function(){c=true;e.updateSegments(a,u,d,f);l(function(){c=false})})};a.onEnter=function(t,n){var i=parseFloat(a.segments[t].limit);if(Number.isNaN(+i)){a.segments[t].limit=a.limits[t];return}c=true;a.inputFocus=false;a.animate=true;a.percentage&&(i=Math.max(0,Math.min(i,1)));a.segments[t].limit=i;d=e.updateRange(a,l,u,d,f);e.updateSegments(a,u,d,f);l(function(){c=false});l(function(){a.animate=false},200);n.target.blur()};a.onInputFocus=function(){a.inputFocus=true};a.addLimit=function(n){var i,r;if(a.segments.length+1>=a.maxColors)return;c=true;r=a.colors[a.colors.length-1]===o?s:o;if(0===a.segments.length)i=(d.max-d.min)/2;else if(1===a.segments.length)i=a.segments[0].limit-(a.segments[0].limit-d.min)/2;else{var p=a.segments[a.segments.length-1].limit;var h=a.segments[a.segments.length-2].limit;i=p-(p-h)/2}a.segments.push(new e.SegmentLimit(a,parseFloat(i.toFixed(2)),false));a.colors.push(t.resolveColor(r));d=e.updateRange(a,l,u,d,f);e.updateActiveIndex(a,u,f);e.updateSegments(a,u,d,f);n.preventDefault();l(function(){c=false;m()})};a.removeLimit=function(t){c=true;a.segments.splice(t,1);a.colors.splice(t+1,1);e.updateActiveIndex(a,u,f);d=e.updateRange(a,l,u,d,f);e.updateSegments(a,u,d,f);l(function(){c=false;m()})};a.addDisabled=function(){return!a.segments||a.segments.length+1>=a.maxColors};a.$watch("percentage",function(e,t){if(e!==t){e&&h();m(true)}});a.$watch("colors",function(){m()},true);a.$watch("types",function(){m()},true);a.$watch("limits",function(){m()},true);function v(){var t,n,o;c=true;a.segments=a.limits.map(function(t,n){return new e.SegmentLimit(a,t,a.types[n])});d=e.getRange(a);var s={min:d.min,max:d.max,step:e.getSliderStep(d.max,d.min),values:a.segments.map(function(e){return e.limit}),create:function t(){e.updateSelectedHandle(-1,a.activeIndex,f)},stop:function n(){i.$apply(a,function(){var n,i=a.segments.length;for(n=0;n<i;n++)if(a.activeIndex===n&&a.slide){a.segments[n].limit=a.sliderOptions.values[n];a.slide=false;d=e.updateRange(a,l,u,d,f);break}e.updateOutDataArrays(a,d);t=false;l(function(){c=false})})},slide:function r(s,l){o+=l.values[a.activeIndex]-n;if(t&&Math.abs(n-o)<.05*(d.max-d.min))return false;a.slide=true;i.$apply(a,function(){a.segments[a.activeIndex].limit=a.sliderValues[a.activeIndex];e.updateOutDataArrays(a,d);e.updateArrow(a,u,d.max,d.min)})},change:function e(){return false},start:function s(l,p){c=true;i.$apply(a,function(){var i=0,s=p.handle;if(!s||!r(s).hasClass("ui-slider-handle"))return;while(null!=(s=s.previousSibling))i++;if(i!==a.activeIndex){e.updateActiveIndex(a,u,f,i);t=true;n=a.sliderOptions.values[i];o=n}e.updateArrow(a,u,d.max,d.min)})}};e.updateSliderOptions(a,s);e.updateActiveIndex(a,u,f);e.updateSegments(a,u,d,f);p.colors=a.colors.slice();p.types=a.types.slice();p.limits=a.limits.slice();c=false}function m(e){var t=false;if(c)return;if(!e){t||a.segments.length==a.limits.length||(t=true);t||p.colors.length===a.colors.length&&!p.colors.some(function(e,t){return e!==a.colors[t]})||(t=true);t||p.types.length===a.types.length&&!p.types.some(function(e,t){return e!==a.types[t]})||(t=true);t||p.limits.length===a.limits.length&&!p.limits.some(function(e,t){return e!==a.limits[t]})||(t=true)}(t||e)&&v(false)}v(true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(457),n(269),n(217)],r=function(e,t,n,i){function r(i,r){r=r||function(){};e.getApp().then(function(){var e=new n;e.add(i,function(){t.save();r()})})}function o(n,r){r=r||function(){};e.getApp().then(function(e){i.addMeasure(n,e,function(){t.save();r()})})}return{showAddDimensionDialog:r,showAddMeasureDialog:o}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(781)],r=function(e,t,n){t.directive("qvAssetsSearchPanel",function(){return{restrict:"E",replace:true,scope:{query:"=",clearWhen:"=",look:"@"},template:n,link:function t(n,i){n.$watch("rawQuery",function(t){0===e.trim(t).length?""!==n.query&&(n.query=""):n.query=t});n.$watch("clearWhen",function(e){e&&n.onClear()});n.onClear=function(){n.rawQuery=""};var r=i.find("input");r.on("keydown",function(e){if(27===e.which){n.onClear();n.$apply();e.stopPropagation()}else if(13===e.which){e.stopPropagation();r.blur()}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){var t=["showtitles","title","subtitle","footnote"],n="header",i="data",r="sorting",o="settings",s="settings.";var a={};function l(e){if(e&&0===e.indexOf(s))return e.substring(9);return e}function u(e){if(e&&0!==e.indexOf(s))return s+e;return e}function c(e,t){var n=t.length;var i=0;var r=false;if(e){e.forEach(function(e){if(e.ref&&0===e.ref.indexOf(t)){var o=parseInt(e.ref.substring(n));o>i&&(i=o);a[t]&&o===a[t]+1&&(r=true)}});a[t]&&!r||(a[t]=i)}else a[t]=0;a[t]+=1;return t+a[t]}function f(e,t){e&&e.forEach(function(n,i){n["ref"]===t&&e.splice(i,1)})}function d(e,t){var n=-1;e&&e.some(function(e,i){if(e["ref"]===t){n=i;return true}});return n}function p(e){if(e.settings)return e.settings.sort(function(e,t){if(e.order===t.order)return 0;if(!e.order||e.order<t.order)return-1;return 1});return[]}function h(e,t){if(e.settings)return e.settings.filter(function(e){return(e.parent||o)===t}).sort(function(e,t){if(e.order===t.order)return 0;if(!e.order||e.order<t.order)return-1;return 1});return[]}function v(t){var n=e.extend(true,{},t);n.type=n.type||"string";n.label=n.label||n.ref;n.defaultValue=n.defaultValue||"boolean"!==n.type&&"";"string"!==n.type||n.component||(n.expression=n.expression||"optional");"text"===t.component?delete n.ref:n.ref=u(n.ref);return n}function m(e,t){var n={},i=h(e,t);i.forEach(function(e){n[e.ref]=v(e)});return n}function g(e){_(e,n,{ref:o})}function b(e,t){if(t===n)return true;if(t===i)return!y(e)&&!x(e);if(t===r)return(y(e)||x(e))&&true!==e.sorting;return false}function y(e){return void 0!==e.measures&&(e.measures.max>0||void 0===e.measures.max)}function x(e){return void 0!==e.dimensions&&(e.dimensions.max>0||void 0===e.dimensions.max)}function _(e,t,o){switch(t){case i:e.measures={min:1,max:1};break;case n:e.sections=e.sections||[];var s=o||{};s.type=t;s.ref=s.ref||c(e.sections,t);s.label=s.label||"Settings";e.sections.push(s);break;case r:e.sorting=true;break}}function w(e,t,n){if(t===i){delete e.measures;delete e.dimensions;delete e.sorting;return}if(t===r){delete e.sorting;return}"section-header"===t&&h(e,n).forEach(function(t){E(e,t)});f(e.sections,n)}function q(e,n){if(!n||"q"===n.substr(0,1).toLowerCase())return false;if(t.indexOf(n.toLowerCase())>-1)return false;var i=true;e.settings&&e.settings.forEach(function(e){e.ref===n&&(i=false)});return i}function C(e,t,n){t=t.item||t;e.settings||(e.settings=[]);e.sections||g(e);t.parent&&"general"!==t.parent||(t.parent=o);t.ref=t.ref||c(e.settings,"property");t.label=t.label||t.ref.substr(0,1).toUpperCase()+t.ref.substring(1);n||D(e,t);e.settings.push(t)}function S(e,t,n,i,r){t=t.item||t;t.ref=l(t.ref);var o=t.parent===n;"undefined"===typeof t.order&&(t.order=d(e.settings,t.ref));var s=t.order;t.parent=n;E(e,t,o,r);t.order=i-(t.order<i&&o?1:0);o&&D(e,t,false,s);C(e,t,o)}function E(e,t,n,i){t=t.item||t;f(e.settings,l(t.ref));n||D(e,t,true,null,i)}function D(e,t,n,i,r){var o=h(e,r||t.parent);Number.isNaN(+t.order)||t.order>o.length||t.order<0?t.order=o.length:n||"undefined"===typeof i?n?o.forEach(function(e){e.order>t.order&&e.order--}):o.forEach(function(e){e.order>=t.order&&e.order++}):i<t.order?o.forEach(function(e){e.order>i&&e.order<=t.order&&e.order--}):o.forEach(function(e){e.order>=t.order&&e.order<i&&e.order++})}function O(e){var t={};if(e&&e.properties){x(e.properties)&&(t.dimensions=e.properties.dimensions);y(e.properties)&&(t.measures=e.properties.measures)}return t}function A(e){var t={type:"items",component:"accordion",items:{}};if(e&&e.properties){var n=e.properties;if(y(n)||x(n)){t.items.data={uses:i,items:{measures:{disabledRef:""},dimensions:{disabledRef:""}}};n.sorting&&(t.items.sorting={uses:r})}t.items.settings={uses:"settings",items:{}};(!n.sections||n.sections.length<1)&&n.settings&&n.settings.length>0&&g(n);n.sections&&n.sections.length>0&&n.sections.forEach(function(e){t.items.settings.items[e.ref]={ref:e.ref,type:"items",label:e.label,items:m(n,e.ref)}})}return t}return{addScope:u,stripScope:l,canAddSection:b,addSection:_,removeSection:w,addItem:C,removeItem:E,moveItem:S,getData:O,getDefinition:A,isValidRef:q,getSectionItemsArr:h,getSectionsItemsArr:p}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(10),n(11),n(825),n(48)],r=function(e,t,n,i){var r=["js","css","html","json"];var o=["break","do","instanceof","typeof","case","else","new","var","catch","finally","return","void","continue","for","switch","while","debugger","function","this","with","default","if","throw","delete","in","try","class","enum","extends","super","const","export","import","implements","let","private","public","yield","interface","package","protected","static","null","true","false"];function s(e,t){return(new RegExp(t+"=(.+?)(&|$)").exec(e)||[null,null])[1]}function a(e,t){var n=new RegExp(t+"=(.+?)(&|$)","g"),i=[],r;while(r=n.exec(e))i.push(decodeURIComponent(r[1]));return i}function l(e){document.title=e+" | Dev Hub"}function u(e){var n=[];t.forEach(e,function(e,i){t.isObject(e)&&(e.key=i);n.push(e)});return n}function c(e){if(location.hash){var t=new RegExp(e+"{(.*)}","");var n=location.hash.match(t);return!!(n&&n.length>1)&&decodeURIComponent(n[1])}return false}function f(){return window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1)}function d(e){if(e){var t=window.location.href,n=t.indexOf("#");n>0&&(window.location.hash="")}window.location.reload()}function p(e){return m(e)&&e.indexOf(".")<0}function h(e,t,n){var i=v(t,e);i||(i=n.some(function(t){return v(t.items,e)}));return i}function v(e,t){return e.filter(function(e){return e.id.toLowerCase()===t.toLowerCase()}).length>0}function m(e){return!!(e&&e.length&&e.length>0)&&(/^[.0-9a-zA-Z_-]+$/.test(e)&&!/^\./.test(e))}function g(e){var t=/^[$A-Z_][0-9A-Z_$]*$/i;return t.test(e)&&-1===o.indexOf(e)}function b(e){var t=/^[$A-Z_][0-9A-Z_$]*$/i;return t.test(e)}function y(e){return-1!==o.indexOf(e)}function x(t,n,i){return i?e.isInteger(t)&&e.isInteger(n)&&t>=0&&n>=0&&n>=t:e.isInteger(t)&&e.isInteger(n)&&n>=t}function _(e){if(!e)return false;var t=e.lastIndexOf(".");if(t<0)return false;return r.indexOf(e.substr(e.lastIndexOf(".")+1).toLowerCase())>-1}function w(e){var t=/^[a-z]+[a-zA-Z0-9]*\b/g;return t.test(e)}function q(e){var t=/[^A-Z0-9]/i;return t.test(e)}function C(e){return e.substr(e.lastIndexOf(".")+1).toLowerCase()}function S(e){return e.substr(0,e.lastIndexOf("."))}function E(e){return e.replace(/[^a-z0-9]/gi,"-").toLowerCase()}function D(e){var t="";for(var n=0;n<e.length-1;n++)t+="."+e[n]+", ";t+="."+e[e.length-1];return t}var O,A;function L(){if(!A){A=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;n.fn.mutation=function(e,t,n){if(A){t=t||{subtree:false,attributes:true};O=new A(function(t){t.forEach(function(t){n?n(t,e):e(t.target,t.attributeName,t)})});return this.each(function(){O.observe(this,t)})}}}}function I(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return("x"===t?n:3&n|8).toString(16)})}function T(e,t,n){function i(e){e.debounceTimer&&clearTimeout(e.debounceTimer);e.debounceTimer=null}return function(){var r=this,o=arguments,s;i(n);s=setTimeout(function(){e.apply(r,o)},t);n.debounceTimer=s}}return{getURLParameter:s,getURLParameters:a,setBrowserTitle:l,getHashParameter:c,getPrefix:f,reload:d,isInteger:function t(n){return e.isInteger(n)},extend:function e(){return t.extend.apply(null,arguments)},deepCopy:function e(){return t.copy.apply(null,arguments)},isValidExtensionName:p,isExistingExtensionName:h,isValidName:m,isValidFunctionName:g,isJsReservedWord:y,isValidSyntax:b,isValidInterval:x,isValidCamelCase:w,hasInvalidCharacters:q,sanitizeFileName:E,hasValidFileExtension:_,getFileExtension:C,getFileName:S,fileExtensionArrayToString:D,objectToArray:u,addMutationObserver:L,generateId:I,debounce:T,conversions:i,__onlytest__:{_isIdInList:v}}}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,function(e,t,n){var i=n(10);(function(e,t){"use strict";var n=-1!=navigator.appVersion.indexOf("Mac"),i="undefined"!==typeof e.onwheel?"wheel":"undefined"!==typeof e.onmousewheel?"mousewheel":"DOMMouseScroll",r=document.documentElement,o=r.matches?"matches":r.matchesSelector?"matchesSelector":r.webkitMatches?"webkitMatches":r.webkitMatchesSelector?"webkitMatchesSelector":r.msMatches?"msMatches":r.msMatchesSelector?"msMatchesSelector":r.mozMatches?"mozMatches":r.mozMatchesSelector?"mozMatchesSelector":null;var s=t.element.prototype.closest||function(e){var n=this[0].parentNode;while(n!==document.documentElement&&null!=n&&!n[o](e))n=n.parentNode;return n&&n[o](e)?t.element(n):t.element()};t.module("vs-repeat",[]).directive("vsRepeat",["$compile",function(r){return{restrict:"A",scope:true,require:"?^vsRepeat",controller:["$scope",function(e){this.$scrollParent=e.$scrollParent;this.$fillElement=e.$fillElement}],compile:function(o,a){var l=o.children().eq(0),u=l.attr("ng-repeat"),c=l[0].outerHTML,f=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(u),d=f[1],p=f[2],h=f[3],v="$vs_collection",m={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsExcess:"excess"};o.empty();e.getComputedStyle&&"absolute"===e.getComputedStyle(o[0]).position||o.css("position","relative");return{pre:function(o,a,l,u){var f=t.element(c),g=[],b,y="undefined"!==typeof l.vsHorizontal,x,_,w=!l.vsRepeat,q=!!l.vsSizeProperty,C=l.vsScrollParent?s.call(a,l.vsScrollParent):a,S=y?"translateX":"translateY",E=y?"left":"top",D=y?"clientWidth":"clientHeight",O=y?"offsetWidth":"offsetHeight",A=y?"scrollLeft":"scrollTop";if(0===C.length)throw"Specified scroll parent selector did not match any element";o.$scrollParent=C;q&&(o.sizesCumulative=[]);o.elementSize=C[0][D]||50;o.offsetBefore=0;o.offsetAfter=0;o.excess=2;Object.keys(m).forEach(function(e){l[e]&&l.$observe(e,function(t){o[m[e]]=+t;N()})});o.$watchCollection(p,function(e){g=e||[];if(!g||g.length<1){o[v]=[];b=0;F(0);o.sizesCumulative=[0];return}b=g.length;if(q){o.sizes=g.map(function(e){return e[l.vsSizeProperty]});var t=0;o.sizesCumulative=o.sizes.map(function(e){var n=t;t+=e;return n});o.sizesCumulative.push(t)}L();N()});function L(){w&&o.$$postDigest(function(){if(a[0].offsetHeight||a[0].offsetWidth){var e=a.children(),t=0;while(t<e.length){if(null!=e[t].attributes["ng-repeat"]){if(e[t][O]){o.elementSize=e[t][O];N();w=false;o.$root&&!o.$root.$$phase&&o.$apply()}break}t++}}else var n=o.$watch(function(){if(a[0].offsetHeight||a[0].offsetWidth){n();L()}})})}f.attr("ng-repeat",d+" in "+v+(h?" "+h:"")).addClass("vs-repeat-repeated-element");var I=q?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)";"undefined"!==typeof document.documentElement.style.transform?f.attr("ng-style",'{ "transform": "'+S+'(" + '+I+' + "px)"}'):"undefined"!==typeof document.documentElement.style.webkitTransform?f.attr("ng-style",'{ "-webkit-transform": "'+S+'(" + '+I+' + "px)"}'):f.attr("ng-style","{"+E+": "+I+' + "px"}');r(f)(o);a.append(f);_=t.element('<div class="vs-repeat-fill-element"></div>').css({position:"relative","min-height":"100%","min-width":"100%"});a.append(_);r(_)(o);o.$fillElement=_;var T={};if(n){x=t.element('<div class="vs-repeat-wheel-helper"></div>').on(i,function(e){e.preventDefault();e.stopPropagation();e.originalEvent&&(e=e.originalEvent);C[0].scrollLeft+=e.deltaX||-e.wheelDeltaX;C[0].scrollTop+=e.deltaY||-e.wheelDeltaY}).on("mousemove",function(e){T.x===e.clientX&&T.y===e.clientY||t.element(this).css("display","none");T={x:e.clientX,y:e.clientY}}).css("display","none");_.append(x)}o.startIndex=0;o.endIndex=0;C.on("scroll",function e(t){H()&&o.$apply()});n&&C.on(i,k);function k(e){var t=e.currentTarget;(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)&&x.css("display","block")}function P(){if("undefined"!==typeof l.vsAutoresize){w=true;L();o.$root&&!o.$root.$$phase&&o.$apply()}H()&&o.$apply()}t.element(e).on("resize",P);o.$on("$destroy",function(){t.element(e).off("resize",P)});o.$on("vsRepeatTrigger",N);o.$on("vsRepeatResize",function(){w=true;L()});var M,R;function N(){M=void 0;R=void 0;H();F(q?o.sizesCumulative[b]:o.elementSize*b);o.$emit("vsRepeatReinitialized")}function F(e){if(y){_.css({width:o.offsetBefore+e+o.offsetAfter+"px",height:"100%"});if(u&&u.$fillElement){var t=u.$fillElement[0].parentNode.querySelector("[ng-repeat]");t&&u.$fillElement.css({width:t.scrollWidth+"px"})}}else{_.css({height:o.offsetBefore+e+o.offsetAfter+"px",width:"100%"});if(u&&u.$fillElement){t=u.$fillElement[0].parentNode.querySelector("[ng-repeat]");t&&u.$fillElement.css({height:t.scrollHeight+"px"})}}}var j;function V(){var e=C[0][D];if(e!==j){N();o.$root&&!o.$root.$$phase&&o.$apply()}j=e}o.$watch(function(){"function"===typeof e.requestAnimationFrame?e.requestAnimationFrame(V):V()});function H(){if(q){o.startIndex=0;while(o.sizesCumulative[o.startIndex]<C[0][A]-o.offsetBefore)o.startIndex++;o.startIndex>0&&o.startIndex--;o.endIndex=o.startIndex;while(o.sizesCumulative[o.endIndex]<C[0][A]-o.offsetBefore+C[0][D])o.endIndex++}else{o.startIndex=Math.max(Math.floor((C[0][A]-o.offsetBefore)/o.elementSize+o.excess/2)-o.excess,0);o.endIndex=Math.min(o.startIndex+Math.ceil(C[0][D]/o.elementSize)+o.excess,b)}var e=o.startIndex!==M||o.endIndex!==R;e&&(o[v]=g.slice(o.startIndex,o.endIndex));M=o.startIndex;R=o.endIndex;return e}}}}}}]);t.element(document.head).append(["<style>.vs-repeat-wheel-helper{position: absolute;top: 0;bottom: 0;left: 0;right: 0;z-index: 99999;background: rgba(0, 0, 0, 0);}.vs-repeat-repeated-element{position: absolute;z-index: 1;}</style>"].join(""))})(window,window.angular)},function(e,t,n){"use strict";(function(e){var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(10),n(516)],r=function(e,t){var n=e.module("qv.mobile-menu",["leonardo-ui.overlay"]);var i=100;var r={opening:0,open:1,closing:2,closed:3};var s={template:t,scope:{variant:"=",removeOverlay:"=",openedDeferred:"=",closedDeferred:"=",id:"=",template:"=",controller:"=",input:"="},controller:["$scope","$timeout",function(e,t){var n=r.opening;var o;var s;var a;var l;e.fade=true;function u(a){if(n===r.closing||n===r.closed)return;n=r.closing;e.fade=true;s=t(function(){o=a;e.removeOverlay()},i)}e.exposedApi.close=u;e.close=u;function c(e){e.stopPropagation();e.preventDefault()}e.onOutside=function(t){c(t);e.close()};e.onInside=function(t){if(t.target.hasAttribute("mm-content-inside-click")){c(t);e.close()}};a=t(function(){e.fade=false;l=t(function(){if(n===r.opening){e.openedDeferred.resolve();n=r.open}else e.openedDeferred.reject()},i)});e.$on("$destroy",function(){n=r.closed;e.closedDeferred.resolve(o);t.cancel(s);t.cancel(a);t.cancel(l)})}]};n.service("qvMobileMenu",["$q","luiOverlay",function(e,t){var n=0;var i={};i.show=function(i){if("object"!==o(i))throw new Error("options must be an object");var r="mobile-menu-"+n++;var a="undefined"===typeof i.closeOnEscape||i.closeOnEscape;var l=e.defer();var u=e.defer();var c=t.show(s,{controller:i.controller||function(){},template:i.template,variant:i.variant,input:i.input,closeOnEscape:a,openedDeferred:l,closedDeferred:u,id:r});return{close:c.close,opened:l.promise,closed:u.promise}};return i}])}.apply(t,i),void 0!==r&&(e.exports=r))}).call(this,n(55)(e))},function(e,t){e.exports='<div id="{{id}}" class="qv-mobile-menu-container" ng-class="{ \'lui-fade\': fade }" tabindex="-1" qva-focus="true"\n\t\t lui-component mm-content-inside-click x-template="template" x-controller="controller" x-close="close" x-variant="variant" x-input="input" qva-outside="onOutside($event)" ng-click="onInside($event)"></div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(518)],r=function(e){function t(n){if(!(this instanceof t))throw new Error("Url needs to be called with the new keyword");if(!n)throw new Error("Url needs a string to operate on");var r=i(n);Object.defineProperties(this,{authorityAndPath:{value:r.authorityAndPath},search:{value:r.search},hash:{value:r.hash},searchParams:{get:function t(){return e.fromSearchString(r.search)}}})}t.encodeAuthorityAndPath=function(e){return encodeURI(e).replace(/%5B/gi,"[").replace(/%5D/gi,"]")};t.encodeSearchParams=function(e){var t="";var i;for(var r=0;r<e.length;r++){i=e[r];t+=0===r?"?":"&";t+=n(i[0]);t+=i[1]?"="+n(i[1]):""}return t};function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";")}return t;function i(e){var t={authorityAndPath:"",search:"",hash:""};var n=e.indexOf("#");if(-1!==n){t.hash=e.substr(n);e=e.substr(0,n)}n=e.indexOf("?");if(-1!==n){t.search=e.substr(n);e=e.substr(0,n)}t.authorityAndPath=e;return t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={fromSearchString:t};return e;function t(e){if(!e)return[];"?"===e[0]&&(e=e.substr(1));var t=[];e.split("&").map(function(e){if(!e)return;var i=e.indexOf("=");var r;var o="";if(-1===i)r=e;else{r=e.slice(0,i);o=e.slice(i+1)}t.push(n(r,o))});return t}function n(e,t){return[i(e),i(t)]}function i(e){try{return decodeURIComponent(e)}catch(t){return e}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(2)],r=function(e){return{load:function t(i,r){var o="".concat(n.p,"translate/").concat(i,"/").concat(r,".json");return e.get(o,{responseType:"json"}).then(function(e){return e.data})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog x-variant="{{::variant}}" class="qv-alert-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{input.title}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body ng-bind-html="input.message"></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button x-variant="{{::variant}}" tid="alert-dialog-close" ng-click="close(true);" qva-focus="true">{{::closeLabel}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<lui-dialog x-variant="{{::variant}}" class="qv-confirm-dialog">\n\t<lui-dialog-header ng-if="input.title">\n\t\t<lui-dialog-title>{{input.title}}</lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body ng-if="input.icon">\n\t\t<div class="message">\n\t\t\t<span ng-if="input.icon" class="message-icon lui-icon lui-icon--{{input.icon}}"></span>\n\t\t\t<div class="body-message">{{input.message}}</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-body ng-if="!input.icon" ng-bind-html="input.message"></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button x-variant="{{::variant}}" ng-if="!input.hideCancelButton" tid="confirm-dialog-cancel" ng-click="close(false);">{{::cancelLabel}}</lui-button>\n\t\t<lui-button x-variant="{{::variant}}" tid="confirm-dialog-ok" ng-click="close(true);" qva-focus="true">{{::okLabel}}</lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(300),n(97),n(436),n(524)],r=function(e,t,n,i){var r={template:i,scope:{menu:"=",options:"=",closingFn:"="},controller:["$scope","$element",function(i,r){var o=null;var s={DOWN:40,UP:38,RIGHT:39,LEFT:37,TAB:9,ESC:27,ENTER:13};function a(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}function l(t){a(i,function(){if(i.options.alignTo)e.align(d(),i.options.alignTo,{collision:i.options.collision||"flip",position:i.options.docking||"top"});else{t=t||o;o=t?n.reposition(d(),t):n.position(d(),i.options.docking,i.options.position)}})}i.focusedItem=0;i.keyDown=function(e){e.preventDefault();e.stopPropagation();var t=e.target.parentElement.getElementsByTagName("li");e.keyCode===s.ESC&&i.close();if(e.keyCode===s.ENTER)if(i.levels.length)0===i.focusedItem?c(true):i.selectItem(e,i.currentItems[i.focusedItem-1],i.options.onCloseFn);else if(i.currentItems[i.focusedItem].items.length>0){f(i.currentItems[i.focusedItem],true);i.focusedItem=0}else i.selectItem(e,i.currentItems[i.focusedItem],i.options.onCloseFn);if(e.keyCode===s.UP&&-1!==i.focusedItem){if(i.focusedItem>0){u(t,i.focusedItem,"-1");i.focusedItem--}u(t,i.focusedItem,"0")}if(e.keyCode===s.DOWN)if(null===i.focusedItem){u(t,0,"-1");i.focusedItem=0}else{if(i.focusedItem<t.length-1){u(t,i.focusedItem,"-1");i.focusedItem++}u(t,i.focusedItem,"0")}if(e.keyCode===s.RIGHT){e.preventDefault();e.stopPropagation();for(var n=0;n<t.length;n++)t[n].setAttribute("tabindex","-1");if(i.currentItems[i.focusedItem].items.length>0){f(i.currentItems[i.focusedItem],true);i.focusedItem=0}}if(e.keyCode===s.LEFT){e.preventDefault();e.stopPropagation();if(i.levels.length){i.focusedItem=0;c(true)}}};function u(e,t,n){e[t].setAttribute("tabindex",n);e[t].focus()}i.levels=[];i.currentItems=i.menu.items;i.options.goBackTitle=i.options.goBackTitle||"Common.Back";function c(e){if(i.levels.length){var t=i.levels.pop();t.items[0].autoFocus=e;i.currentItems=t.items;l(t.offset)}}function f(e,t){var n=e.items;i.levels.focus=t;i.levels.push({items:i.currentItems,offset:o});i.currentItems=n;l()}function d(){return r.children().first()}i.goBack=function(){c()};i.selectItem=function(e,t,n){e.preventDefault();e.stopPropagation();if(t.hasSubmenu())f(t);else{t.select(n);i.close(!!t.suppressOnCloseCall)}};i.close=function(e){"function"===typeof i.menu.onClosing&&i.menu.onClosing.call(null);i.options.onCloseFn&&!e&&i.options.onCloseFn();i.$destroy()};i.exposedApi.close=i.close;t.on("start",i.close);l();"function"===typeof i.menu.onOpen&&i.menu.onOpen.call(null);i.$on("$destroy",function(){t.off("start",i.close);"function"===typeof i.destroyComponent?i.destroyComponent():r.off("*").html("").remove()})}]};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n){this.lastHeight=null;this.document=n||document;this.window=t||window;this.viewport=e||this.document.querySelector("meta[name=viewport]");this.viewportContent=this.viewport.getAttribute("content");this.updateHeight()}e.prototype.clearHeight=function(){this.viewport.setAttribute("content",this.viewportContent)};e.prototype.setHeight=function(e){this.viewport.setAttribute("content",this.viewportContent+", height="+e)};e.prototype.updateHeight=function(){var e=this.window.innerHeight;if(this.lastHeight!==e){this.lastHeight=e;this.setHeight(e);return true}return false};e.prototype.rotate=function(e){var t=function t(){this.updateHeight()&&e()}.bind(this);this.document.activeElement&&this.document.activeElement.blur();this.clearHeight();this.window.setTimeout(t,500);this.window.setTimeout(t,1e3);this.window.setTimeout(t,1500)};e.isNeeded=function(){var e=navigator.userAgent.toLowerCase().indexOf("android")>-1;return e};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-contextmenu" tid="context-menu" qva-outside="close($event)" ng-keydown="keyDown( $event )">\n\t<lui-popover>\n\t\t<ul class="lui-list">\n\t\t\t<li tabindex="0" ng-if="levels.length" class="lui-list__item lui-list__action back-item" qva-focus="levels.focus" qva-activate="goBack();" tcl="context-menu-item">\n\t\t\t\t<i class="lui-list__aside back-icon lui-icon  lui-icon--triangle-left"></i>\n\t\t\t\t<span class="lui-list__text" q-translation="{{options.goBackTitle}}" tid="context-menu-back"></span>\n\t\t\t</li>\n\t\t\t<li ng-repeat="item in currentItems"\n\t\t\t\t\tng-attr-tabindex="{{item.tabIndex}}"\n\t\t\t\tclass="lui-list__item lui-list__action"\n\t\t\t\tng-class="{ \'lui-disabled\': item.disabled, \'qv-contextmenu-has-submenu\': item.hasSubmenu(), \'has-icon\': item.hasIcon(), \'context-divider\': item.divider }"\n\t\t\t\tqva-focus="item.autoFocus"\n\t\t\t\tqva-activate="item.disabled || selectItem($event,item)"\n\t\t\t\ttcl="context-menu-item">\n\n\t\t\t\t<i class="lui-list__aside  item-icon  lui-icon  lui-icon--{{item.icon}}" ng-if="item.hasIcon()"></i>\n\t\t\t\t<span class="lui-list__text" title="{{item.getLabel()}}" tid="{{item.tid}}">{{item.getLabel()}}</span>\n\t\t\t\t<i ng-show="item.hasSubmenu()" class="next-icon lui-list__aside lui-icon lui-icon--triangle-right"></i>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(91)],r=function(e){var t=function e(t){var n=this;Object.keys(t||{}).forEach(function(e){n[e]=t[e]});this.items=this.items||[]};t.prototype.addItem=function(e,n){var i=new t(e);i.tabIndex=0===this.items.length?0:-1;"undefined"===typeof n?this.items.push(i):this.items.splice(n,0,i);return i};t.prototype.hasSubmenu=function(){return this.items.length>0};t.prototype.hasIcon=function(){return!!this.icon};t.prototype.getLabel=function(){function t(t){return Array.isArray(t)?e.get(t[0],t.slice(1).join(",")):e.get(t)}return"function"===typeof this.translation?t(this.translation()):this.translation?t(this.translation):"function"===typeof this.label?this.label():this.label?this.label:"Missing translation/label"};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(527),n(528),n(529),n(530),n(531),n(532),n(394),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547)],r=function(e){e.module("qv.directives",["qv.directives.qva-activate","qv.directives.qva-blur","qv.directives.qva-context-menu","qv.directives.qva-dblclick","qv.directives.qva-delegated-activate","qv.directives.qva-delegated-click","qv.directives.qva-focus","qv.directives.qva-indeterminate","qv.directives.qva-model-onblur","qv.directives.qva-model-onkeyup","qv.directives.qva-mouse-wheel-outside","qv.directives.qva-outside","qv.directives.qva-press","qv.directives.qva-prevent-drag","qv.directives.qva-radial-context-menu","qv.directives.qva-reported-window-size","qv.directives.qva-scroll-into-view","qv.directives.qva-select","qv.directives.qva-select-watch","qv.directives.qva-swipe","qv.directives.qve-highlight","qv.directives.keyboard"])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(11)],r=function(e,t){var n=e.module("qv.directives.qva-activate",[]);n.directive("qvaActivate",["$parse",function(e){return function(n,i,r){var o=e(r.qvaActivate);i.on("qv-activate keypress",function(e){var i="keypress"===e.type&&32===e.which;("keypress"!==e.type||i&&t(e.target).is(":input"))&&n.$apply(function(){o(n,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(258)],r=function(e,t){var n=e.module("qv.directives.qva-blur",[]);n.directive("qvaBlur",["$parse",function(e){return function(n,i,r){var o=e(r.qvaBlur);i.bind("blur",function(e){t(n,function(){o(n,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-context-menu",[]);t.directive("qvaContextMenu",["$parse",function(e){return function(t,n,i){var r=e(i.qvaContextMenu);n.bind("qv-contextmenu",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(96)],r=function(e,t){var n=e.module("qv.directives.qva-dblclick",[]);n.directive("qvaDblclick",["$parse",function(e){return function(n,i,r){var o=e(r.qvaDblclick);var s="qva-dblclick"+n.$id;t(i[0]).doubletap({id:s,options:{timeThreshold:250,preventDefault:false},end:function e(){n.$apply(o)}});n.$on("$destroy",function(){t(i[0]).off("doubletap",s)})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-delegated-activate",[]);t.directive("qvaDelegatedActivate",["$parse",function(e){return function(t,n,i){var r=i["qvaDelegatedActivate"].split(";");for(var o=0;o<r.length;o++){var s=r[o].trim().split("#"),a=s[0],l=e(s[1]);(function(e,i){n.on("qv-activate",a,function(e){t.$apply(function(){i(t,{$event:e})})})})(a,l)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-delegated-click",[]);t.directive("qvaDelegatedClick",["$parse",function(e){return function(t,n,i){var r=i["qvaDelegatedClick"].split(";");for(var o=0;o<r.length;o++){var s=r[o].trim().split("#"),a=s[0],l=e(s[1]);(function(e,i){n.on("click",a,function(e){t.$apply(function(){i(t,{$event:e})})})})(a,l)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-indeterminate",[]);t.directive("qvaIndeterminate",[function(){return function e(t,n,i){var r=i.qvaIndeterminate;n.prop("indeterminate",true===r||"true"===r);t.$watch(i.qvaIndeterminate,function(e){n.prop("indeterminate",true===e||"true"===e)})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-model-onblur",[]);t.directive("qvaModelOnblur",function(){return{restrict:"A",require:"ngModel",priority:1,link:function e(t,n,i,r){if("radio"===i.type||"checkbox"===i.type)return;n.unbind("input keydown change compositionend");n.bind("blur",function(){t.$apply(function(){"undefined"!==typeof i.qvaCancelEditingOnEmpty&&""===n.val().trim()?n.val(r.$modelValue):r.$setViewValue(n.val())})});n.bind("keydown",function(e){if(27===e.which){e.stopPropagation();n.val(r.$modelValue);n.closest("*[tabindex]").focus()}else if(13===e.which){e.stopPropagation();n.closest("*[tabindex]").focus()}})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-model-onkeyup",[]);t.directive("qvaModelOnkeyup",function(){return{require:"ngModel",link:function e(t,n,i,r){n.bind("keyup",function(e){if(27===e.which){e.stopPropagation();r.$rollbackViewValue();n.trigger("blur")}else 13===e.which&&n.trigger("blur");"function"===typeof t.onkeyup&&t.onkeyup(n)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(99)],r=function(e,t){var n=e.module("qv.directives.qva-mouse-wheel-outside",[]);n.directive("qvaMouseWheelOutside",["$parse","$document",function(e,n){return{restrict:"A",link:function i(r,o,s){var a=e(s.qvaMouseWheelOutside),l=t.getMouseWheelEventName(),u;u=function e(t){var n=false,i=t.target;while(i){if(i===o[0]){n=true;break}i=i.parentElement}n?t.preventDefault():r.$apply(function(){a(r,{$event:t})})};n[0].addEventListener(l,u,true);r.$on("$destroy",function(){n[0].removeEventListener(l,u,true)})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(11)],r=function(e,t){var n=e.module("qv.directives.qva-outside",[]);n.directive("qvaOutside",["$parse",function(e){return function(n,i,r){var o=e(r.qvaOutside),s=false,a=false;function l(e){s="allOutside"===t(e.target).attr("qva-outside-ignore-for")||t(e.target).closest('[qva-outside-ignore-for="allOutside"]').length;a=t(e.target).data("overrideignore");if(s&&!a)return;r.qvaOutsideIgnoreFor&&r.qvaOutsideIgnoreFor===t(e.target).closest("[qva-outside-ignore-for]").attr("qva-outside-ignore-for")||n.$apply(function(){o(n,{$event:e})})}i.bind("qv-outside",l);n.$on("$destroy",function(){i.unbind("qv-outside",l)})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-press",[]);t.directive("qvaPress",["$parse",function(e){return function(t,n,i){var r=e(i.qvaPress);n.on("qv-press",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(96)],r=function(e,t){var n=e.module("qv.directives.qva-prevent-drag",[]);n.directive("qvaPreventDrag",function(){return{restrict:"A",link:function e(n,i){i.on("qv-press",function(e){e.preventDefault();t.WebkitHack.prevent()})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-radial-context-menu",[]);t.directive("qvaRadialContextMenu",["$parse",function(e){return function(t,n,i){var r=e(i.qvaRadialContextMenu);n.bind("qv-radial-contextmenu",function(e){t.$apply(function(){r(t,{$event:e})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(258),n(11)],r=function(e,t,n){var i=e.module("qv.directives.qva-reported-window-size",[]);i.directive("qvaReportedWindowSize",function(){return{restrict:"A",link:function e(i,r,o){function s(){t(i.$root,function(){i[o.qvaReportedWindowSize]={width:n(window).width(),height:n(window).height()}})}s();n(window).bind("resize",s);i.$on("$destroy",function(){n(window).unbind("resize",s)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(99)],r=function(e,t){var n=e.module("qv.directives.qva-select",[]);n.directive("qvaSelect",["$timeout",function(e){return{restrict:"A",link:function n(i,r,o){0!==o.qvaSelect.length&&"true"!==o.qvaSelect||t.treatAsDesktop()&&e(function(){r[0].select()},100)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(99)],r=function(e,t){var n=e.module("qv.directives.qva-select-watch",[]);n.directive("qvaSelectWatch",["$timeout",function(e){return{restrict:"A",link:function n(i,r,o){i.$watch(o.qvaSelectWatch,function(n){(""===o.qvaSelectWatch||""!==o.qvaSelectWatch&&true===n)&&t.treatAsDesktop()&&e(function(){r[0].select()})},true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(127)],r=function(e,t){var n=e.module("qv.directives.qva-scroll-into-view",[]);n.directive("qvaScrollIntoView",["$timeout",function(e){return{restrict:"A",link:function n(i,r,o){i.$watch(o.qvaScrollIntoView,function(n){n.scrollSelector&&n.scroll&&e(function(){t.scrollElmentIntoView(r,n.scrollSelector)})},true)}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.directives.qva-swipe",[]);t.directive("qvaSwipe",["$parse",function(e){return function(t,n,i){var r=e(i.qvaSwipe);n.bind("qv-swipe",function(e){t.$apply(function(){r(t,{$event:e,$element:n})})})}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(139),n(90),n(208)],r=function(e,t,n,i){var r=e.module("qv.directives.qve-highlight",[]);function o(){return{scope:{text:"@",query:"="},restrict:"EA",replace:true,link:function e(n,i){n.$watchCollection("[text, query]",function(){var e=t.string(n.query);if(!e){i.text(n.text);return}var r=o.highlightMatches(t.string(n.text),e,"lui-texthighlight",n.text);i.html(r)})}}}o.highlightMatches=function(e,t,n,r){return o.markMatches(e,t,r).map(function(e){return e.match?"<span "+i.encodeForAttr("class",n)+">"+i.encodeForHTML(e.text)+"</span>":i.encodeForHTML(e.text)}).join("")};o.markMatches=function(e,t,i){i=e;var r=[];var o=0;var s=new RegExp(n.escapeRegExp(t),"gi");var a=false;while(!a){var l=s.exec(e);if(!l){o<e.length&&r.push({text:i.substring(o),match:false});a=true;continue}l.index>o&&r.push({text:i.substring(o,l.index),match:false});r.push({text:i.substring(l.index,s.lastIndex),match:true});o=s.lastIndex}return r};r.directive("qveHighlight",o);return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10)],r=function(e,t){var n=t.module("qv.directives.keyboard",[]);function i(t,n,i){return["$parse",function(r){return{restrict:"A",link:function o(s,a,l){var u=r(l[t]),c=function e(t){n&&n!==t.which||setTimeout(function(){t.preventDefault();s.$apply(function(){u(s,{$event:t})})})};e(i||a).bind("keydown",c);s.$on("$destroy",function(){e(i||a).unbind("keydown",c)})}}}]}n.directive("qvGlobalKeydown",i("qvGlobalKeydown",void 0,e("body")));n.directive("qvGlobalEscape",i("qvGlobalEscape",27,e("body")));n.directive("qvGlobalEnter",i("qvGlobalEnter",13,e("body")));n.directive("qvKeydown",i("qvKeydown",void 0));n.directive("qvEscape",i("qvEscape",27));n.directive("qvEnter",i("qvEnter",13))}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(549),n(550)],r=function(e){e.module("qv.filters",["qv.filters.qv-array-slice","qv.filters.qv-to-array"])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.filters.qv-array-slice",[]);t.filter("qvArraySlice",function(){return function(e,t,n){return(e||[]).slice(t,n)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10)],r=function(e){var t=e.module("qv.filters.qv-to-array",[]);t.filter("qvToArray",function(){return function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(91)],r=function(e,t){var n=e.module("qv.locale",[]);n.directive("qPlaceholder",function(){return{restrict:"A",link:function e(n,i,r){var o=false;function s(){i.attr("placeholder",o?"":t.get(r.qPlaceholder))}if(r.ngDisabled){o=true;n.$watch(r.ngDisabled,function(e){o=e;s()})}r.$observe("qPlaceholder",function(){s()})}}});n.directive("qSimpleTranslation",function(){return{restrict:"A",link:function e(n,i,r){function o(e){i.text(t.get(e))}t.ready.then(function(){r.$observe("qTranslation",o)})}}});n.directive("qTranslation",function(){return{restrict:"A",link:function e(n,i,r){function o(e){var n=e.split(","),o,s,a,l=JSON.parse(r.qHtmlTranslationIndexes||"null"),u=l?"html":"text",c=n[0].indexOf("|");s=c>=0&&n.length>=2?"1"===n[1]?n[0].substring(0,c).trim():n[0].substring(c+1).trim():n[0];o=t.get(s);l&&n.push.apply(n,l);for(a=1;a<n.length;a++)o=o.replace("{"+(a-1)+"}",n[a]);i[u](o)}t.ready.then(function(){r.$observe("qTranslation",o);o(r.qTranslation)})}}});n.directive("translate",function(){return function e(n,i,r){function o(e){if(e)if("string"===typeof e){i.attr("data-translation",e);i.removeAttr("data-text")}else{i.attr("data-translation",e.id);i.data("text",{value:e.value})}else{i.removeAttr("data-translation");i.removeAttr("data-text")}t.apply(i[0])}n.$watch(r.translate,o)}});n.directive("qTitleTranslation",function(){return{restrict:"A",link:function e(n,i,r){function o(e){e?i.attr("title",t.get(e)):i.removeAttr("title")}t.ready.then(function(){r.$observe("qTitleTranslation",o);o(r.qTitleTranslation)})}}});n.filter("translate",function(){return function(e){return t.get(e)}});n.filter("translatetoupper",function(){return function(e){return t.get(e).toUpperCase()}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=l(n(10));var r=l(n(553));var o=l(n(554));var s=l(n(555));var a=l(n(91));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}function f(e,t,n){t&&c(e.prototype,t);n&&c(e,n);return e}var d=function(){function e(t,n){u(this,e);this.factory=t;this.data=t.getOptions();this.aboutService=this.data.aboutService;this.sections=this.data.sections;this.activeView=this.sections[0];this.doc=n[0]}f(e,[{key:"scrollToLicence",value:function e(t){"undefined"!==typeof t?this.doc.getElementsByClassName("about-dialog-licences-entry")[t].scrollIntoView(true):this.doc.getElementById("about-dialog-section__licences").scrollTop=0}},{key:"translate",value:function e(t){return a.default.get(t)}},{key:"close",value:function e(){this.factory.close()}},{key:"copy",value:function e(){if(document.execCommand)try{var t=this.get("featuresList").join(", ");var n=this.doc.getElementById("qs-about-copy-input");n.value=t;n.select();document.execCommand("copy")}catch(e){}}},{key:"get",value:function e(t){return this.data[t]}},{key:"getSystemInfo",value:function e(t){return this.get("systemInfo")[t]}},{key:"getText",value:function e(t){return this.get("text")[t]||t}},{key:"getIconClass",value:function e(){return{"lui-icon--arrow-down":this.showVersion,"lui-icon--arrow-right":!this.showVersion}}},{key:"goTo",value:function e(t){this.activeView=t}},{key:"isActive",value:function e(t){return{"lui-active":t===this.activeView}}}]);return e}();d.$inject=["qvAboutFactory","$document"];var p=i.default.module("qv.about-dialog",[o.default,s.default]).component("qvAboutDialog",{template:r.default,bindings:{},controllerAs:"AD",controller:d}).name;t.default=p;e.exports=t.default},function(e,t){e.exports='<lui-dialog qv-id="about-dialog" id="about-dialog">\n  <div class="lui-dialog__header lui-dialog__header--about"></div>\n  <div class="lui-dialog__body lui-dialog__body--about">\n    <div class="about-dialog__viewpanel">\n      <ul class="lui-list about-dialog-sections--normal" data-tid="about-ul-list">\n        <li ng-class="AD.isActive(item)" ng-repeat="item in AD.sections" ng-click="AD.activeView = item" title="{{ ::AD.getText(item) }}"\n          data-tid="qsad-li-{{ ::AD.getText(item) }}" class="lui-list__item lui-list__item--about-dialog">\n          <span class="lui-list__text lui-list__text--about-dialog">{{ ::AD.getText(item) }}</span>\n        </li>\n      </ul>\n\n      <lui-select class="about-dialog-sections about-dialog-sections--small" x-model="AD.activeView">\n        <option ng-repeat="item in AD.sections" value="{{ ::item }}">{{ ::AD.getText(item) }}</option>\n      </lui-select>\n    </div>\n    <div class="about-dialog__contentpanel" ng-switch="AD.activeView">\n      \x3c!-- ABOUT --\x3e\n      <div ng-switch-when="about" data-tid="qsad-section-about" id="about-dialog-section__about">\n        <div class="about-dialog-section__header">\n          <div class="about-dialog-section__about-cont">\n            <img class="about-dialog-logo" ng-src="{{::AD.get(\'logo\')}}" draggable="false"></img>\n            <div class="about-dialog-divider"></div>\n            <div class="about-dialog-product-version" ng-click="AD.showVersion=!AD.showVersion">\n              <p class="about-dialog-product-name" data-tid="about-product-name">\n                {{::AD.getSystemInfo("productName")}} {{::AD.getSystemInfo("releaseLabel")}}\n                <span class="about-dialog-product-toggle-icon lui-icon" ng-class="AD.getIconClass()"></span>\n              </p>\n              <p class="about-dialog-product-id" data-tid="about-product-id">{{::AD.getSystemInfo("senseId")}}</p>\n              <div ng-if="AD.showVersion">\n                <ul class="about-dialog-version">\n                  <li class="about-dialog-version-entry" ng-repeat="info in ::AD.get(\'componentsList\') track by info.component">{{info.component}}\n                    {{info.version}}</li>\n                </ul>\n              </div>\n            </div>\n            <div class="about-dialog-header-licence">{{ ::AD.getText(\'licenceAgreement\') }}</div>\n            <a target="_blank" ng-href="{{ ::AD.get(\'licenceAgreementLink\') }}" class="lui-button lui-button--download">\n              <span>{{ ::AD.getText(\'downloadPdf\') }}</span>\n            </a>\n            <div class="about-dialog__space"></div>\n          </div>\n        </div>\n        <div class="about-dialog-section__footer">\n          <div class="about-copyright">{{ ::AD.getText(\'copyright\') }}</div>\n          <a class="about-link" target="_blank" ng-href="{{::AD.get(\'webPageUrl\')}}">{{::AD.get(\'webPageUrl\')}}</a>\n        </div>\n      </div>\n      \x3c!-- THIRDPARTY --\x3e\n      <div ng-switch-when="thirdParty" data-tid="qsad-section-thirdParty" id="about-dialog-section__licences">\n        <div class="about-dialog-licences__wrapper">\n          <h2 class="about-dialog-licences-h2">{{ ::AD.getText(\'thirdParty\') }}</h2>\n\n          <p class="about-dialog-licences-p">{{ ::AD.getText(\'thirdPartyIntro\') }}</p>\n          <ul class="about-dialog-licences-ul">\n            <li class="about-dialog-licences__link" ng-repeat="licence in ::AD.get(\'thirdPartyList\')" ng-show="::licence.name">\n              <a class="about-dialog-licences__a-style" ng-click="AD.scrollToLicence($index)">{{licence.name}}\n                {{licence.version}}</a>\n            </li>\n          </ul>\n\n          <div class="about-dialog-licences-entry" ng-repeat="licence in ::AD.get(\'thirdPartyList\')" ng-show="::licence.name">\n            <h3 class="about-dialog-licences-entry__h3">{{licence.name}} {{licence.version}}\n              <button class="lui-button lui-button__about-dialog-licence" ng-click="AD.scrollToLicence()">\n                <i class="lui-button__icon  lui-icon  lui-icon--triangle-top"></i>\n              </button>\n            </h3>\n            <a class="about-dialog-licences-entry__a" ng-href="{{licence.url}}" target="_blank">{{licence.licence}}</a>\n            <div class="about-dialog-licences-text"><code class="about-dialog-licences__code">{{licence.text}}</code></div>\n          </div>\n        </div>\n      </div>\n      \x3c!-- FEATURES --\x3e\n      <div ng-switch-when="features" data-tid="qsad-section-features" id="qs-ads-features">\n        <h2 class="qs-ads-features-h2">{{ ::AD.translate(\'About.Features.Title\') }}</h2>\n        <div clasS="qs-ads-features-header">\n          <span ng-if="AD.aboutService">{{ ::AD.translate(\'About.Features.Description\') }}</span>\n          <div ng-if="!AD.aboutService">\n            <div><span>{{ ::AD.translate(\'About.Features.InfoHub.Description\') }}</span></div>\n            <a target="_blank" class="about-link" href="https://infohub.qlikdev.com/dashboard">https://infohub.qlikdev.com/dashboard</a>\n          </div>\n        </div>\n        <ul class="lui-list qs-ads-features-ul" style="cursor: default;" aria-disabled="true" ng-click="AD.copy()">\n          <li class="lui-list__item" ng-repeat="feature in ::AD.get(\'featuresList\')">\n            <span class="lui-list__text">{{feature}}</span>\n          </li>\n        </ul>\n        <div style="position: absolute; top: -100000px">\n            <input id="qs-about-copy-input" value="">\n        </div>\n      </div>\n    </div>\n\n  </div>\n  <div class="lui-dialog__footer lui-dialog__footer--about">\n    <button class="lui-button" data-tid="about-close" qv-focus ng-click="AD.close()">{{ ::AD.getText(\'close\') }}</button>\n  </div>\n</lui-dialog>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=r(n(10));function r(e){return e&&e.__esModule?e:{default:e}}var o=i.default.module("qv.about-dialog.factory",["leonardo-ui"]).factory("qvAboutFactory",["luiDialog","$q","qvAboutRestConnect",function(e,t,n){var i={};var r;var o;var s=function t(){r=e.show({template:"<qv-about-dialog></qv-about-dialog>",closeOnEscape:true});r.closed.then(function(){r=null});return r};i.getOptions=function(){return o||{}};i.show=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r)return;var i=e.text,a=e.logo;var l=function e(){return t.all({thirdPartyList:n.thirdParty(),systemInfo:n.systemInfo(),componentsList:n.components(),licenceAgreementLink:n.licenceAgreementLink(),externalUrls:n.externalUrls()}).then(function(e){var t=e.systemInfo,r=e.componentsList,l=e.thirdPartyList,u=e.licenceAgreementLink,c=e.externalUrls;var f=c.qlikWebPageUrl;o={systemInfo:t,componentsList:r,thirdPartyList:l,licenceAgreementLink:u,featuresList:n.featuresSync(),webPageUrl:f,text:i,logo:a,sections:["about","thirdParty","features"],aboutService:true};return s()})};var u=function e(){o={systemInfo:{},componentsList:{},thirdPartyList:{},licenceAgreementLink:{},featuresList:n.featuresSync(),webPageUrl:"",text:i,logo:a,sections:["features"],aboutService:false};return s()};return n.hasAbout().then(l).catch(u)};i.showSync=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r)return;o=t;r=e.show({template:"<qv-about-dialog></qv-about-dialog>",closeOnEscape:true});r.closed.then(function(){r=null});return r};i.close=function(){if(!r)return;r.close()};return i}]).name;t.default=o;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=s(n(10));var r=s(n(49));var o=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var f=i.default.module("qv.about-dialog.rest-factory",[]).factory("qvAboutRestConnect",["$http",function(e){var t=function e(t){return t.data};var n=function t(n){n.headers=n.headers?n.headers:{};n.headers["x-qlik-capabilities"]="about";n.method="GET";n.cache=true;return e(n)};var i;var s=function e(){if(i)return i;i=n({url:"".concat(o.default.apiPath,"about/v1/language")});return i};var l={hasAbout:s,featuresSync:function e(){var t=r.default.get();return Object.keys(t).reduce(function(e,n){if(t[n])return[].concat(a(e),[n]);return e},[]).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase(),"en")})},components:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/components")}).then(t)},externalUrls:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/externalUrls")}).then(t)},systemInfo:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/systemInfo")}).then(t)},thirdParty:function e(){return n({url:"".concat(o.default.apiPath,"about/v1/thirdParty")}).then(function(e){return t(e).sort(function(e,t){var n=e&&e.name||"";var i=t&&t.name||"";return n.toLocaleUpperCase().localeCompare(i.toLocaleUpperCase())})})},licenceAgreementLink:function e(){return"".concat(o.default.apiPath,"about/v1/licenses/QlikSense.pdf")}};return l}]).name;t.default=f;e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(557)],r=function(e,t){var n=false;e.module("qv.loader",[]).factory("qvLoader",["$compile","$rootScope","$document","$timeout","$q",function(i,r,o,s,a){var l=r.$new(),u=o.find("body"),c,f,d={},p,h;function v(){l.template=t;l.hugeLoader=true;l.bigLoader=false;l.mediumLoader=false;l.normalLoader=false;l.smallLoader=false;l.tinyLoader=false}function m(){for(var e in d){l[e]=null;delete l[e]}v();l.ngClasses&&(l.ngClasses["qv-fade-in"]=false);c&&c.off().remove();c=null;f=null;if(p){p.remove();p=null}}v();p=u.find("#qv-init-ui-blocker");return{show:function t(r){n=true;var o;l.fadeOut=false;s.cancel(h);d=r||{};for(var a in r)l[a]=r[a];l.messageObj=l.messageObj||{};l.messageObj.task||(l.messageObj.task="");l.ngClasses={"qv-loader-huge":l.hugeLoader,"qv-loader-big":l.bigLoader,"qv-loader-medium":l.mediumLoader,"qv-loader-normal":l.normalLoader,"qv-loader-small":l.smallLoader,"qv-loader-tiny":l.tinyLoader,"qv-fade-in":false};o=l.appendTo?l.appendTo:u;f=e.element(l.template);c=i(f)(l).appendTo(o);l.appendTo=null;delete l.appendTo;h=s(function(){l.ngClasses["qv-fade-in"]=true});p&&p.length>0&&p.fadeOut(800,function(){p=null})},setMessageObj:function e(t){l.messageObj.task=t||""},isOpen:function e(){return n},close:function e(t){var i=a.defer();var r=750;s.cancel(h);if(t){l.fadeOut=true;m();n=false;i.resolve()}else s(function(){l.fadeOut=true;h=s(function(){m();n=false;return i.resolve()},r+200)},r);return i.promise}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qs-pong qv-block-ui" ng-class="{\'qv-fade-out\': fadeOut, \'qv-transparent-background\': transparentBackground}" tid="3e1f54">\n\t<div class="qv-animate qv-loader-container qs-pong-loader-logo"  ng-class="ngClasses">\n\t\t<svg enable-background="new 0 0 431.2 126.5" viewBox="0 0 431.2 126.5" xmlns="http://www.w3.org/2000/svg"><path d="m251.8 66.9c-1.9-3.1.6-5.7.6-5.7l22-22.7c2.5-2.6-1.1-2.6-1.1-2.6h-20.5c-3.6 0-6.1 2.6-6.1 2.6l-20.4 21.6c-2.5 2.6-2.5-1-2.5-1v-47.1c0-3.6-3.6-3.6-3.6-3.6h-15.5c-3.5 0-3.5 3.5-3.5 3.5v98.7c0 3.6 3.6 3.6 3.6 3.6h15.4c3.5 0 3.5-3.5 3.5-3.5v-17.4c0-3.6 2.6-6.1 2.6-6.1l7.3-6.8 18.2 30.6c1.8 3.1 5.4 3.1 5.4 3.1h19.5c3.6 0 1.7-3.1 1.7-3.1zm-66.8 43.6v-71.1c0-3.6-3.6-3.6-3.6-3.6h-15.6c-3.6 0-3.6 3.6-3.6 3.6v71.1c0 3.6 3.6 3.6 3.6 3.6h15.6c3.6 0 3.6-3.6 3.6-3.6zm-.6-88.5v-10.2s0-3.5-3.5-3.5h-15.2s-3.5 0-3.5 3.5v10.2s0 3.5 3.5 3.5h15.3s3.4 0 3.4-3.5zm-38.9 88.5v-98.5c0-3.6-3.6-3.6-3.6-3.6h-15.9c-3.6 0-3.6 3.6-3.6 3.6v98.5c0 3.6 3.6 3.6 3.6 3.6h15.9c3.6 0 3.6-3.6 3.6-3.6zm-35.7-4.2s2-2.3-.3-4.3l-12.7-11.1c5.7-8.5 9.1-18.6 9.1-29.6 0-29.2-23.7-52.9-52.9-52.9-29.3-.1-53 23.6-53 52.9 0 29.2 23.7 52.9 52.9 52.9 10.7 0 20.6-3.2 29-8.7l14 12.1s2.3 2 4.3-.3zm-26.3-45c0 16.9-13.7 30.6-30.6 30.6s-30.6-13.7-30.6-30.6 13.7-30.6 30.6-30.6 30.6 13.7 30.6 30.6z" fill="#54565b"/><path d="m428.3 107.4-17-14.3c5.9-9.4 9.4-20.5 9.4-32.4 0-33.5-27.2-60.7-60.7-60.7s-60.7 27.2-60.7 60.7 27.2 60.7 60.7 60.7c13 0 25.1-4.1 35-11.1l18.1 15.2s2.7 2.3 5-.4l10.8-12.8c-.2.1 2.1-2.6-.6-4.9zm-31.1-46.7c0 20.6-16.7 37.3-37.3 37.3s-37.3-16.7-37.3-37.3 16.7-37.3 37.3-37.3 37.3 16.7 37.3 37.3z" fill="#059848"/><g fill="#54565b"><path d="m336 60.7c0-13.2 10.7-23.9 23.9-23.9s23.9 10.7 23.9 23.9-10.7 23.9-23.9 23.9c-13.2.1-23.9-10.6-23.9-23.9z"/><path d="m418 17.9c0-3.7 3-6.6 6.6-6.6 3.7 0 6.6 3 6.6 6.6s-3 6.6-6.6 6.6-6.6-3-6.6-6.6zm6.6-5.7c-3.1 0-5.6 2.5-5.6 5.7s2.4 5.7 5.6 5.7 5.6-2.5 5.6-5.7-2.4-5.7-5.6-5.7zm-1.5 9.7h-.9v-8.1h2.9c1.4 0 2.5.7 2.5 2.2 0 1.3-.7 2.1-1.9 2.2l2.3 3.6h-1.1l-2.1-3.6h-1.6v3.7zm0-4.3h1.8c1.1 0 1.8-.2 1.8-1.5 0-1-.8-1.4-1.8-1.4h-1.8z"/></g></svg>\n\t\t<div class="qv-ping-pong-progress-bar"></div>\n\t</div>\n\t<div class="qv-loader-text" ng-class="ngClasses">\n\t\t<div q-translation="{{messageObj.task}}">&#8203;</div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(559)],r=function(e){e.module("qv.dragoman",["qv.dragoman-date"])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(91),n(50),n(489)],r=function(e,t,n,i){var r="1753-01-01T00:00:00.000Z",o=n.isSmallDevice,s={restrict:"E",replace:true,scope:{date:"=",dateFormat:"@",timeFormat:"@",dateTimeFormat:"@",skeleton:"@",customLangCode:"@",defaultString:"@"},template:'<span class="qv-moment">{{dateToShow}}</span>',link:function e(n){var s=void 0!==n.defaultString?t.get(n.defaultString):"";var a={};var l="undefined"!==typeof n.dateFormat;var u="undefined"!==typeof n.timeFormat;var c="undefined"!==typeof n.dateTimeFormat;var f="undefined"!==typeof n.skeleton;l?a.date=n.dateFormat:u?a.time=n.timeFormat:c?a.datetime=n.dateTimeFormat:f&&(a.skeleton=n.skeleton);l||u||c||f||(a.skeleton=o?"yMd":"yMMMdjm");n.customLangCode&&(a.locale=n.customLangCode);n.dateToShow=n.date===r||"undefined"===typeof n.date?s:i.format.date(n.date,a);n.$watch("date",function(){n.dateToShow=n.date===r||"undefined"===typeof n.date?s:i.format.date(n.date,a)})}};e.module("qv.dragoman-date",[]).directive("drmFormatDate",function(){return s}).filter("drmFormatDateFilter",function(){return i.format.date});return{directive:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(110),n(561),n(213)],r=function(e,t,n,i){var r=Object.assign({},t.NxLocalizedErrorCode,n.NxLocalizedErrorCode);function o(){window.__private__notifyRefresh__?window.parent.postMessage("refresh","*"):setTimeout(function(){location.reload(true)})}function s(e){var t=false;switch(e.code){case r.LOCERR_SERVER_OUT_OF_SESSION_AND_USER_CALS:case r.LOCERR_SERVER_OUT_OF_SESSION_CALS:case r.LOCERR_SERVER_OUT_OF_USAGE_CALS:case r.LOCERR_SERVER_OUT_OF_CALS:case r.LOCERR_SERVER_OUT_OF_NAMED_CALS:case r.LOCERR_SERVER_LICENSE_EXPIRED:t=true;break;default:break}return t}function a(t){return t.code?e.get("ErrorCode."+t.code,t.parameter):e.get(t.message)}function l(e){return e.code===r.LOCERR_PERSONAL_VERSION_EXPIRED}function u(e){return"ProxyError.OnSessionTimedOut"===e.message}function c(t){var n=t.error;var o=t.blockingDialog;var c="closeDialog";var f=e.get(a(n));var d=e.get("ErrorDialog.Title");if(s(n,r))c="refreshCloseDialog";else if(l(n)){d=e.get("ErrorCode.12001.Sense.Desktop.Expired");f=e.get("Info.QlikView.Personal.Upgrade",["<a href='"+i.personalUpgradeUrl+"' target='_blank'>"+i.personalUpgradeBase+"</a>"]);c="refreshDialog"}else if(u(n)){d=e.get("TimeoutDialog.Title");c="refreshDialog"}return{type:o?"refreshDialog":c,title:d,message:f}}function f(e){var t=e.error;var n={type:null,title:null,message:null,code:t.code,error:t};return Object.assign({},n,c(e))}var d={getMessageObject:f,getErrorDescription:a,isLocErr:s,refreshPage:o,errors:r};return d}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{NxLocalizedErrorCode:{LOCERR_JSON_RPC_ENTITY_NOT_FOUND:-32001,LOCERR_JSON_RPC_ACCESS_DENIED:-32002,LOCERR_JSON_RPC_APP_DUPLICATION_FAILED:-32003}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){(function(t,n){e.exports=n()})(this,function(){"use strict";var e={};e.isObject=function e(t){return"object"===typeof t&&null!==t};e.isNumber=function e(t){return"number"===typeof t};e.isUndefined=function e(t){return void 0===t};e.isFunction=function e(t){return"function"===typeof t};function t(){t.init.call(this)}var n=t;t.EventEmitter=t;t.prototype._events=void 0;t.prototype._maxListeners=void 0;t.defaultMaxListeners=10;t.init=function(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0};t.prototype.setMaxListeners=function(t){if(!e.isNumber(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");this._maxListeners=t;return this};t.prototype.emit=function(t){var n,i,r,o,s,a;this._events||(this._events={});if("error"===t&&!this._events.error){n=arguments[1];throw n instanceof Error?n:Error('Uncaught, unspecified "error" event.')}i=this._events[t];if(e.isUndefined(i))return false;if(e.isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=arguments.length;o=new Array(r-1);for(s=1;s<r;s++)o[s-1]=arguments[s];i.apply(this,o)}else if(e.isObject(i)){r=arguments.length;o=new Array(r-1);for(s=1;s<r;s++)o[s-1]=arguments[s];a=i.slice();r=a.length;for(s=0;s<r;s++)a[s].apply(this,o)}return true};t.prototype.addListener=function(n,i){var r;if(!e.isFunction(i))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",n,e.isFunction(i.listener)?i.listener:i);this._events[n]?e.isObject(this._events[n])?this._events[n].push(i):this._events[n]=[this._events[n],i]:this._events[n]=i;if(e.isObject(this._events[n])&&!this._events[n].warned){var r;r=e.isUndefined(this._maxListeners)?t.defaultMaxListeners:this._maxListeners;if(r&&r>0&&this._events[n].length>r){this._events[n].warned=true;e.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length);e.isFunction(console.trace)&&console.trace()}}return this};t.prototype.on=t.prototype.addListener;t.prototype.once=function(t,n){if(!e.isFunction(n))throw TypeError("listener must be a function");var i=false;function r(){this.removeListener(t,r);if(!i){i=true;n.apply(this,arguments)}}r.listener=n;this.on(t,r);return this};t.prototype.removeListener=function(t,n){var i,r,o,s;if(!e.isFunction(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;i=this._events[t];o=i.length;r=-1;if(i===n||e.isFunction(i.listener)&&i.listener===n){delete this._events[t];this._events.removeListener&&this.emit("removeListener",t,n)}else if(e.isObject(i)){for(s=o;s-- >0;)if(i[s]===n||i[s].listener&&i[s].listener===n){r=s;break}if(r<0)return this;if(1===i.length){i.length=0;delete this._events[t]}else i.splice(r,1);this._events.removeListener&&this.emit("removeListener",t,n)}return this};t.prototype.removeAllListeners=function(t){var n,i;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[t]&&delete this._events[t];return this}if(0===arguments.length){for(n in this._events){if("removeListener"===n)continue;this.removeAllListeners(n)}this.removeAllListeners("removeListener");this._events={};return this}i=this._events[t];if(e.isFunction(i))this.removeListener(t,i);else if(Array.isArray(i))while(i.length)this.removeListener(t,i[i.length-1]);delete this._events[t];return this};t.prototype.listeners=function(t){var n;n=this._events&&this._events[t]?e.isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[];return n};t.listenerCount=function(t,n){var i;i=t._events&&t._events[n]?e.isFunction(t._events[n])?1:t._events[n].length:0;return i};var i={mixin:function e(t){Object.keys(n.prototype).forEach(function(e){t[e]=n.prototype[e]});n.init(t)}};var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var l=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0===s)return;return s.call(i)};var u=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var c=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var f=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var d=1e3;var p=4e3;var h=0;var v=function(){function e(t){o(this,e);var n=this;a(n,t);this.Promise=this.config.Promise;this.definition=this.config.definition;i.mixin(n);h+=1;n.id=h;n.rpc.on("socket-error",n.onRpcError.bind(n));n.rpc.on("closed",n.onRpcClosed.bind(n));n.rpc.on("message",n.onRpcMessage.bind(n));n.rpc.on("notification",n.onRpcNotification.bind(n));n.rpc.on("traffic",n.onRpcTraffic.bind(n));n.on("closed",function(){return n.onSessionClosed()})}s(e,[{key:"onRpcError",value:function e(t){if(this.suspendResume.isSuspended)return;this.emit("socket-error",t)}},{key:"onRpcClosed",value:function e(t){var n=this;if(this.suspendResume.isSuspended)return;if(t.code===d||t.code===p)return;this.config.suspendOnClose?this.suspendResume.suspend().then(function(){return n.emit("suspended",{initiator:"network"})}):this.emit("closed",t)}},{key:"onRpcMessage",value:function e(t){var n=this;if(this.suspendResume.isSuspended)return;t.change&&t.change.forEach(function(e){return n.emitHandleChanged(e)});t.close&&t.close.forEach(function(e){return n.emitHandleClosed(e)})}},{key:"onRpcNotification",value:function e(t){this.emit("notification:*",t.method,t.params);this.emit("notification:"+t.method,t.params)}},{key:"onRpcTraffic",value:function e(t,n){this.emit("traffic:*",t,n);this.emit("traffic:"+t,n)}},{key:"onSessionClosed",value:function e(){this.apis.getApis().forEach(function(e){e.api.emit("closed");e.api.removeAllListeners()});this.apis.clear()}},{key:"getObjectApi",value:function e(t){var n=t.handle,i=t.id,r=t.type,o=t.genericType;var s=this.apis.getApi(n);if(s)return s;var a=this.definition.generate(r);s=a(this,n,i,o);this.apis.add(n,s);return s}},{key:"open",value:function e(){var t=this;if(!this.globalPromise){var n={handle:-1,id:"Global",type:"Global",genericType:"Global"};this.globalPromise=this.rpc.open().then(function(){return t.getObjectApi(n)}).then(function(e){t.emit("opened");return e})}return this.globalPromise}},{key:"send",value:function t(n){var i=this;if(this.suspendResume.isSuspended)return this.Promise.reject(new Error("Session suspended"));n.id=this.rpc.createRequestId();var r=this.intercept.executeRequests(this,this.Promise.resolve(n)).then(function(e){var t=a({},i.config.protocol,e);delete t.outKey;var r=i.rpc.send(t);e.retry=function(){return i.send(n)};return i.intercept.executeResponses(i,r,e)});e.addToPromiseChain(r,"requestId",n.id);return r}},{key:"suspend",value:function e(){var t=this;return this.suspendResume.suspend().then(function(){return t.emit("suspended",{initiator:"manual"})})}},{key:"resume",value:function e(t){var n=this;return this.suspendResume.resume(t).then(function(e){n.emit("resumed");return e})}},{key:"close",value:function e(){var t=this;this.globalPromise=void 0;return this.rpc.close().then(function(e){return t.emit("closed",e)})}},{key:"emitHandleChanged",value:function e(t){var n=this.apis.getApi(t);n&&n.emit("changed")}},{key:"emitHandleClosed",value:function e(t){var n=this.apis.getApi(t);if(n){n.emit("closed");n.removeAllListeners()}}}],[{key:"addToPromiseChain",value:function t(n,i,r){n[i]=r;var o=n.then;n.then=function t(){for(var n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];var l=o.apply(this,s);e.addToPromiseChain(l,i,r);return l}}}]);return e}();var m=function(){function e(){o(this,e);this.entries={}}s(e,[{key:"add",value:function e(t,n){t+="";if("undefined"!==typeof this.entries[t])throw new Error("Entry already defined with key "+t);this.entries[t]=n}},{key:"set",value:function e(t,n){t+="";this.entries[t]=n}},{key:"remove",value:function e(t){delete this.entries[t]}},{key:"get",value:function e(t){return this.entries[t]}},{key:"getAll",value:function e(){var t=this;return Object.keys(this.entries).map(function(e){return{key:e,value:t.entries[e]}})}},{key:"getKey",value:function e(t){var n=this;return Object.keys(this.entries).filter(function(e){return n.entries[e]===t})[0]}},{key:"clear",value:function e(){this.entries={}}}]);return e}();var g=Object.prototype.hasOwnProperty;function b(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function y(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(1===i.length&&"object"===r(i[0])&&!Array.isArray(i[0])){var s=Object.keys(i[0]).every(function(e){return g.call(t,e)});s&&(i=Object.keys(t).map(function(e){return i[0][e]||t[e]}))}return e.apply(this,i)}var x=function(){function e(t){o(this,e);this.config=t;this.Promise=t.Promise;this.schema=t.schema;this.mixins=new m;this.types=new m}s(e,[{key:"registerMixin",value:function e(t){var n=this;var i=t.types,r=t.type,o=t.extend,s=t.override,a=t.init;Array.isArray(i)||(i=[i]);r&&i.push(r);var l={extend:o,override:s,init:a};i.forEach(function(e){var t=n.mixins.get(e);t?t.push(l):n.mixins.add(e,[l])})}},{key:"generate",value:function e(t){var n=this.types.get(t);if(n)return n;if(!this.schema.structs[t])throw new Error(t+" not found");var i=this.generateApi(t,this.schema.structs[t]);this.types.add(t,i);return i}},{key:"generateApi",value:function e(t,n){var r=Object.create({});this.generateDefaultApi(r,n);this.mixinType(t,r);this.mixinNamedParamFacade(r,n);return function e(n,o,s,a){var l=this;var u=Object.create(r);i.mixin(u);Object.defineProperties(u,{session:{enumerable:true,value:n},handle:{enumerable:true,value:o,writable:true},id:{enumerable:true,value:s},type:{enumerable:true,value:t},genericType:{enumerable:true,value:a}});var c=this.mixins.get(t)||[];if(a!==t){this.mixinType(a,u);c=c.concat(this.mixins.get(a)||[])}c.forEach(function(e){"function"===typeof e.init&&e.init({config:l.config,api:u})});return u}.bind(this)}},{key:"generateDefaultApi",value:function e(t,n){Object.keys(n).forEach(function(e){var i=n[e].Out;var r=1===i.length?i[0].Name:-1;var o=b(e);t[o]=function t(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return this.session.send({handle:this.handle,method:e,params:i,outKey:r})}})}},{key:"mixinType",value:function e(t,n){var i=this.mixins.get(t);i&&i.forEach(function(e){var i=e.extend,r=void 0===i?{}:i,o=e.override,s=void 0===o?{}:o;Object.keys(s).forEach(function(e){if("function"!==typeof n[e]||"function"!==typeof s[e])throw new Error("No function to override. Type: "+t+" function: "+e);var i=n[e];n[e]=function t(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return s[e].apply(this,[i.bind(this)].concat(r))}});Object.keys(r).forEach(function(e){if("function"===typeof n[e]&&"function"===typeof r[e])throw new Error("Extend is not allowed for this mixin. Type: "+t+" function: "+e);n[e]=r[e]})})}},{key:"mixinNamedParamFacade",value:function e(t,n){Object.keys(n).forEach(function(e){var i=b(e);var r=t[i];var o=n[e].In.reduce(function(e,t){e[t.Name]=t.DefaultValue;return e},{});t[i]=function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return y.apply(this,[r,o].concat(n))}})}}]);return e}();var _=function(){function e(t,n,r){o(this,e);i.mixin(this);this.id=t;this.resolve=n;this.reject=r}s(e,[{key:"resolveWith",value:function e(t){this.resolve(t);this.emit("resolved",this.id)}},{key:"rejectWith",value:function e(t){this.reject(t);this.emit("rejected",this.id)}}]);return e}();var w=function(){function e(t){o(this,e);a(this,t);i.mixin(this);this.resolvers={};this.requestId=0;this.openedPromise=void 0}s(e,[{key:"open",value:function e(){var t=this;var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!n&&this.openedPromise)return this.openedPromise;try{this.socket=this.createSocket(this.url)}catch(e){return this.Promise.reject(e)}this.socket.onopen=this.onOpen.bind(this);this.socket.onclose=this.onClose.bind(this);this.socket.onerror=this.onError.bind(this);this.socket.onmessage=this.onMessage.bind(this);this.openedPromise=new this.Promise(function(e,n){return t.registerResolver("opened",e,n)});this.closedPromise=new this.Promise(function(e,n){return t.registerResolver("closed",e,n)});return this.openedPromise}},{key:"onOpen",value:function e(){var t=this;this.resolvers.opened.resolveWith(function(){return t.closedPromise})}},{key:"onClose",value:function e(t){this.emit("closed",t);this.resolvers.closed.resolveWith(t);this.rejectAllOutstandingResolvers({code:-1,message:"Socket closed"})}},{key:"close",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.socket){this.socket.close(t,n);this.socket=null}return this.closedPromise}},{key:"onError",value:function e(t){this.resolvers.opened?this.resolvers.opened.rejectWith(t):this.emit("socket-error",t);this.rejectAllOutstandingResolvers({code:-1,message:"Socket error"})}},{key:"onMessage",value:function e(t){var n=JSON.parse(t.data);this.emit("traffic","received",n);if("undefined"!==typeof n.id){this.emit("message",n);this.resolvers[n.id].resolveWith(n)}else this.emit(n.params?"notification":"message",n)}},{key:"rejectAllOutstandingResolvers",value:function e(t){var n=this;Object.keys(this.resolvers).forEach(function(e){if("opened"===e||"closed"===e)return;var i=n.resolvers[e];i.rejectWith(t)})}},{key:"unregisterResolver",value:function e(t){var n=this.resolvers[t];n.removeAllListeners();delete this.resolvers[t]}},{key:"registerResolver",value:function e(t,n,i){var r=this;var o=new _(t,n,i);this.resolvers[t]=o;o.on("resolved",function(e){return r.unregisterResolver(e)});o.on("rejected",function(e){return r.unregisterResolver(e)})}},{key:"send",value:function e(t){var n=this;if(!this.socket||this.socket.readyState!==this.socket.OPEN)return this.Promise.reject(new Error("Not connected"));t.id||(t.id=this.createRequestId());t.jsonrpc="2.0";return new this.Promise(function(e,i){n.socket.send(JSON.stringify(t));n.emit("traffic","sent",t);return n.registerResolver(t.id,e,i)})}},{key:"createRequestId",value:function e(){this.requestId+=1;return this.requestId}}]);return e}();var q=5e3;var C=4e3;var S=function(){function e(t){var n=this;o(this,e);a(this,t);this.isSuspended=false;this.rpc.on("traffic",function(e,t){"sent"===e&&"OpenDoc"===t.method&&(n.openDocParams=t.params)})}s(e,[{key:"restoreRpcConnection",value:function e(t){var n=this;return this.reopen(q).then(function(e){if("SESSION_CREATED"===e&&t)return n.Promise.reject(new Error("Not attached"));return n.Promise.resolve()})}},{key:"restoreGlobal",value:function e(t){var n=this.apis.getApisByType("Global").pop();t.push(n.api);return this.Promise.resolve()}},{key:"restoreDoc",value:function e(t,n){var i=this;var r=this.apis.getApisByType("Doc").pop();if(!r)return this.Promise.resolve();return this.rpc.send({method:"GetActiveDoc",handle:-1,params:[]}).then(function(e){if(e.error&&i.openDocParams)return i.rpc.send({method:"OpenDoc",handle:-1,params:i.openDocParams});return e}).then(function(e){if(e.error){t.push(r.api);return i.Promise.resolve()}var o=e.result.qReturn.qHandle;r.api.handle=o;n.push(r.api);return i.Promise.resolve(r.api)})}},{key:"restoreDocObjects",value:function t(n,i,r){var o=this;var s=[];var a=this.apis.getApis().map(function(e){return e.api}).filter(function(e){return"Global"!==e.type&&"Doc"!==e.type});if(!n){a.forEach(function(e){return i.push(e)});return this.Promise.resolve()}a.forEach(function(t){var a=e.buildGetMethodName(t.type);if(a){var l=o.rpc.send({method:a,handle:n.handle,params:[t.id]}).then(function(e){if(e.error||!e.result.qReturn.qHandle)i.push(t);else{t.handle=e.result.qReturn.qHandle;r.push(t)}});s.push(l)}else i.push(t)});return this.Promise.all(s)}},{key:"suspend",value:function e(){this.isSuspended=true;return this.rpc.close(C)}},{key:"resume",value:function e(t){var n=this;var i=[];var r=[];return this.restoreRpcConnection(t).then(function(){return n.restoreGlobal(i)}).then(function(){return n.restoreDoc(r,i)}).then(function(e){return n.restoreDocObjects(e,r,i)}).then(function(){n.isSuspended=false;n.apis.clear();r.forEach(function(e){e.emit("closed");e.removeAllListeners()});i.forEach(function(e){n.apis.add(e.handle,e);"Global"!==e.type&&e.emit("changed")})}).catch(function(e){return n.rpc.close().then(function(){return n.Promise.reject(e)})})}},{key:"reopen",value:function e(t){var n=this;var i=void 0;var r=void 0;var o=false;var s=new this.Promise(function(e){r=e});var a=function e(){o||(i=setTimeout(function(){return r("SESSION_CREATED")},t));return s};var l=function e(t){if("OnConnected"!==t.method)return;clearTimeout(i);r(t.params.qSessionState);o=true};this.rpc.on("notification",l);return this.rpc.open(true).then(a).then(function(e){n.rpc.removeListener("notification",l);return e}).catch(function(e){n.rpc.removeListener("notification",l);return n.Promise.reject(e)})}}],[{key:"buildGetMethodName",value:function e(t){if("Field"===t||"Variable"===t)return null;if("GenericVariable"===t)return"GetVariableById";return t.replace("Generic","Get")}}]);return e}();var E="qSuccess";function D(e,t){var n=e.config.protocol.delta&&-1!==t.outKey&&t.outKey!==E;n&&(t.delta=n);return t}function O(e,t,n){if(n.qHandle&&n.qType)return e.getObjectApi({handle:n.qHandle,type:n.qType,id:n.qGenericId,genericType:n.qGenericType});if(null===n.qHandle&&null===n.qType)return e.config.Promise.reject(new Error("Object not found"));return n}var A=Object.prototype.hasOwnProperty;var L=Object.prototype.toString;var I=function e(t){if("function"===typeof Array.isArray)return Array.isArray(t);return"[object Array]"===L.call(t)};var T=function e(t){if(!t||"[object Object]"!==L.call(t))return false;var n=A.call(t,"constructor");var i=t.constructor&&t.constructor.prototype&&A.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return false;var r;for(r in t);return"undefined"===typeof r||A.call(t,r)};var k=function e(){var t,n,i,r,o,s;var a=arguments[0];var l=1;var u=arguments.length;var c=false;if("boolean"===typeof a){c=a;a=arguments[1]||{};l=2}(null==a||"object"!==typeof a&&"function"!==typeof a)&&(a={});for(;l<u;++l){t=arguments[l];if(null!=t)for(n in t){i=a[n];r=t[n];if(a!==r)if(c&&r&&(T(r)||(o=I(r)))){if(o){o=false;s=i&&I(i)?i:[]}else s=i&&T(i)?i:{};a[n]=e(c,s,r)}else"undefined"!==typeof r&&(a[n]=r)}}return a};var P=k.bind(null,true);var M={};var R=Array.isArray;function N(e){return null!=e&&!Array.isArray(e)&&"object"===("undefined"===typeof e?"undefined":r(e))}function F(e){return"undefined"===typeof e}function j(e){return"function"===typeof e}function V(e){if(e)return P({},{val:e}).val;return e}function H(e,t){return j(e[t])||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function B(e,t){var n="/";var i=t.substring(1).split(n).slice(0,-1);var r=void 0;i.forEach(function(t,n){if(n===i.length)return;r=+t;var o=isNaN(r)?{}:[];e[r||t]=F(e[r||t])?o:e[t];e=e[r||t]});return e}function $(e){Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.configurable&&!H(e,t)&&delete e[t]})}function U(e,t){var n=true;if(N(e)&&N(t)){if(Object.keys(e).length!==Object.keys(t).length)return false;Object.keys(e).forEach(function(i){U(e[i],t[i])||(n=false)});return n}if(R(e)&&R(t)){if(e.length!==t.length)return false;for(var i=0,r=e.length;i<r;i+=1)if(!U(e[i],t[i]))return false;return true}return e===t}function z(e,t,n){var i=[];var r=e.slice();var o=-1;function s(e,t,n){if(e[n]&&F(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var i=0,r=e.length;i<r;i+=1)if(e[i]&&e[i].qInfo.qId===t)return i;return-1}if(U(t,r))return i;if(!F(t[0])&&F(t[0].qInfo)){i.push({op:"replace",path:n,value:t});return i}for(var a=r.length-1;a>=0;a-=1){o=s(t,r[a].qInfo&&r[a].qInfo.qId,a);if(-1===o){i.push({op:"remove",path:n+"/"+a});r.splice(a,1)}else i=i.concat(M.generate(r[a],t[o],n+"/"+a))}for(var l=0,u=t.length;l<u;l+=1){o=s(r,t[l].qInfo&&t[l].qInfo.qId);if(-1===o){i.push({op:"add",path:n+"/"+l,value:t[l]});r.splice(l,0,t[l])}else if(o!==l){i.push({op:"move",path:n+"/"+l,from:n+"/"+o});r.splice(l,0,r.splice(o,1)[0])}}return i}M.generate=function e(t,n,i){i=i||"";var r=[];Object.keys(n).forEach(function(e){var o=V(n[e]);var s=t[e];var a=i+"/"+e;if(U(o,s)||H(n,e))return;F(s)?r.push({op:"add",path:a,value:o}):N(o)&&N(s)?r=r.concat(M.generate(s,o,a)):R(o)&&R(s)?r=r.concat(z(s,o,a)):r.push({op:"replace",path:i+"/"+e,value:o})});Object.keys(t).forEach(function(e){F(n[e])&&!H(t,e)&&r.push({op:"remove",path:i+"/"+e})});return r};M.apply=function e(t,n){n.forEach(function(e){var n=B(t,e.path);var i=e.path.split("/").splice(-1)[0];var r=i&&isNaN(+i)?n[i]:n[+i]||n;var o=e.from?e.from.split("/").splice(-1)[0]:null;if("/"===e.path){n=null;r=t}if("add"===e.op||"replace"===e.op)if(R(n)){"-"===i&&(i=n.length);n.splice(+i,"add"===e.op?0:1,e.value)}else if(R(r)&&R(e.value)){var s;var a=e.value.slice();r.length=0;(s=r).push.apply(s,f(a))}else if(N(r)&&N(e.value)){$(r);P(r,e.value)}else{if(!n)throw new Error("Patchee is not an object we can patch");n[i]=e.value}else if("move"===e.op){var l=B(t,e.from);if(R(n))n.splice(+i,0,l.splice(+o,1)[0]);else{n[i]=l[o];delete l[o]}}else"remove"===e.op&&(R(n)?n.splice(+i,1):delete n[i])})};M.clone=function e(t){return P({},t)};M.createPatch=function e(t,n,i){var r={op:t.toLowerCase(),path:i};"move"===r.op?r.from=n:"undefined"!==typeof n&&(r.value=n);return r};M.updateObject=function e(t,n){if(!Object.keys(t).length){P(t,n);return}M.apply(t,M.generate(t,n))};var G={};var W=function e(t){if(!G[t.id]){var n={};G[t.id]=n;t.on("traffic:received",function(e){return e.close&&e.close.forEach(function(e){return delete n[e]})});t.on("closed",function(){return delete G[t.id]})}};var Y=function e(t,n){W(t);var i=G[t.id];i[n]||(i[n]=new m);return i[n]};var X=function e(t,n,i,o){var s=Y(t,n);var a=s.get(i);"undefined"===typeof a&&(a=Array.isArray(o[0].value)?[]:{});if(o.length){"/"===o[0].path&&"object"!==r(o[0].value)?a=o[0].value:M.apply(a,o);s.set(i,a)}return a};function K(e,t,n){var i=n.delta,r=n.result;if(i){Object.keys(r).forEach(function(n){if(!Array.isArray(r[n]))throw new Error("Unexpected RPC response, expected array of patches");r[n]=X(e,t.handle,t.method+"-"+n,r[n])});return JSON.parse(JSON.stringify(n))}return n}K.sessions=G;function Q(e,t,n){if("undefined"!==typeof n.error){var i=n.error;var r=new Error(i.message);r.code=i.code;r.parameter=i.parameter;return e.config.Promise.reject(r)}return n}var Z="qReturn";function J(e,t,n){"CreateSessionApp"===t.method||"CreateSessionAppFromApp"===t.method?n[Z].qGenericId=n[Z].qGenericId||n.qSessionAppId:"GetInteract"===t.method&&delete n[Z];if(hasOwnProperty.call(n,Z))return n[Z];if(-1!==t.outKey)return n[t.outKey];return n}function ee(e,t,n){return n.result}var te=function(){function e(t){o(this,e);a(this,t);this.request=[{onFulfilled:D}].concat(f(this.request||[]));this.response=[{onFulfilled:Q},{onFulfilled:K},{onFulfilled:ee},{onFulfilled:J}].concat(f(this.response||[]),[{onFulfilled:O}])}s(e,[{key:"executeRequests",value:function e(t,n){var i=this;return this.request.reduce(function(e,n){var r=n.onFulfilled&&n.onFulfilled.bind(i,t);return e.then(r)},n)}},{key:"executeResponses",value:function e(t,n,i){var r=this;return this.response.reduce(function(e,n){return e.then(n.onFulfilled&&n.onFulfilled.bind(r,t,i),n.onRejected&&n.onRejected.bind(r,t,i))},n)}}]);return e}();var ne=function(e){u(t,e);function t(){o(this,t);return c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"add",value:function e(n,i){var r=this;var o={api:i};l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,n.toString(),o);i.on("closed",function(){return r.remove(n)});return o}},{key:"getApi",value:function e(t){var n="undefined"!==typeof t?this.get(t.toString()):void 0;return n&&n.api}},{key:"getApis",value:function e(){return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAll",this).call(this).map(function(e){return{handle:e.key,api:e.value.api}})}},{key:"getApisByType",value:function e(t){return this.getApis().filter(function(e){return e.api.type===t})}}]);return t}(m);var ie=function(){function e(){o(this,e)}s(e,null,[{key:"getSession",value:function e(t){var n=t.createSocket,i=t.Promise,r=t.requestInterceptors,o=t.responseInterceptors,s=t.url;var a=new ne;var l=new te({apis:a,Promise:i,request:r,response:o});var u=new w({createSocket:n,Promise:i,url:s});var c=new S({apis:a,Promise:i,rpc:u});var f=new v({apis:a,config:t,intercept:l,rpc:u,suspendResume:c});return f}},{key:"create",value:function t(n){e.configureDefaults(n);n.mixins.forEach(function(e){n.definition.registerMixin(e)});return e.getSession(n)}},{key:"configureDefaults",value:function e(t){if(!t)throw new Error("You need to supply a configuration.");if(!t.Promise&&"undefined"===typeof Promise)throw new Error("Your environment has no Promise implementation. You must provide a Promise implementation in the config.");"function"!==typeof t.createSocket&&"function"===typeof WebSocket&&(t.createSocket=function(e){return new WebSocket(e)});"undefined"===typeof t.suspendOnClose&&(t.suspendOnClose=false);t.protocol=t.protocol||{};t.protocol.delta="undefined"===typeof t.protocol.delta||t.protocol.delta;t.Promise=t.Promise||Promise;t.mixins=t.mixins||[];t.definition=t.definition||new x(t)}}]);return e}();return ie})},function(e,t,n){"use strict";var i,r;!(i=[n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(587),n(588),n(589),n(590),n(591),n(592),n(594),n(595),n(596)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g,b,y,x,_,w,q,C,S,E,D,O,A,L){return[e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g,b,y,x,_,w,q,C,S,E,D,O,A,L]}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable","Field"],init:function e(t){var n=t.api;n.getAppLayout&&(n.session.app=n);n.app=n.session.app;n.enigmaModel=t.api;n.Promise=t.config.Promise}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{types:"Doc",extend:{getProperties:function e(){return this.getAppProperties()},setProperties:function e(t){return this.setAppProperties(t)},getLayout:function e(){return this.getAppLayout()},getPublishableStreams:function e(){return this.Promise.all([this.getLayout(),this.global.getStreamList()]).then(function(e){return e[1].filter(function(t){return e[0].stream?t.qId===e[0].stream.id&&-1!==t.privileges.indexOf("publish"):-1!==t.privileges.indexOf("publish")})})}},init:function e(t){this.Promise=t.config.Promise;var n=t.api;n.waitForOpen=this.Promise.defer();n.waitForOpen.resolve()}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89)],r=function(e){return{types:"Doc",extend:{abortModalSelection:function e(t){t=void 0===t||t;this.setModalSelection(null);return this.abortModal(t)},switchModalSelection:function t(n,i,r){var o;n=n||null;i=i||"";r=void 0===r||r;o=Array.isArray(i)?i:[i];this.isInModalSelection()&&this.modalSelectionObject.endSelections(r);if(n&&!n.isClosed){this.setModalSelection(n);return n.beginSelections(o)}this.setModalSelection(null);return e.resolve()},setModalSelection:function e(t){this.modalSelectionObject=t},isInModalSelection:function e(){return this.modalSelectionObject&&!this.modalSelectionObject.isClosed}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(110)],r=function(e,t){function n(n){return function i(){var r=[].slice.call(arguments);var o=this._getCache;var s=r.splice(0,1)[0];var a=n+r.join("");if(o[a])return o[a];var l=s.apply(this,r).then(function(e){e.on("closed",function(){delete o[a]});return e}).catch(function(){delete o[a];return e.reject({error:{code:t.NxLocalizedErrorCode.LOCERR_GENERIC_NOT_FOUND}})});o[a]=l;return l}}var i=n("generic-get-");var r=n("variable-get-");var o=n("field-get-");var s={types:"Doc",override:{},init:function e(t){t.api._getCache={}}};["getObject","getBookmark","getDimension","getMeasure","getVariableById"].forEach(function(e){s.override[e]=i});["getVariable","getVariableByName"].forEach(function(e){s.override[e]=r});s.override.getField=o;return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(324)],r=function(e){return{types:"Doc",override:{getContentLibraries:function e(t){return t().then(function(e){return e.qItems})},getLibraryContent:function e(t,n){return t(n).then(function(e){return e.qItems})}},extend:{getOrCreateSessionObject:function e(t){var n=this;var i=t.qInfo.qId;n._listCache[i]||(n._listCache[i]=n.createSessionObject(t));return n._listCache[i]},getListData:function e(t){return this.getListObject(t).then(function(e){return e.getLayout()})},getListObject:function t(n){var i=this;var r=Object.keys(n).filter(function(e){return-1!==e.indexOf("ListDef")})[0];if(!r)throw new Error("Invalid list definition");r&&(r=r.replace(/Def$/g,""));var s=n.qInfo.qId;i._listCache[s]||i.getOrCreateSessionObject(n).then(function(t){var n=t.getLayout.bind(t);t.getLayout=function(){return n().then(function(t){var n=t[r].qItems;n.forEach(function(t){"object"===o(t)&&e.mapToLayout(t)});return t[r].qItems})};return t});return i._listCache[s]}},init:function e(t){t.api._listCache={}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"BookmarkList",qType:"BookmarkList"},qBookmarkListDef:{qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",sheetId:"/sheetId",selectionFields:"/selectionFields",creationDate:"/creationDate"}}};var t={types:"Doc",extend:{getBookmarkList:function t(){return this.getListData(e)},getBookmarkListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"CurrentSelection",qType:"CurrentSelection"},qSelectionObjectDef:{}};var t={types:["Doc"],extend:{getCurrentSelectionObject:function t(){return this.getOrCreateSessionObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n,i){return e.getField(t,i).then(function(e){return e[n]()})}var t={types:["CurrentSelection"],extend:{clearField:function t(n,i){return e(this.app,n,"clear",i)},lockField:function t(n){return e(this.app,n,"lock")},unlockField:function t(n){return e(this.app,n,"unlock")},clearAll:function e(){return this.app.clearAll()},back:function e(){return this.app.back()},forward:function e(){return this.app.forward()}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"DimensionList",qType:"DimensionList"},qDimensionListDef:{qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos",labelExpression:"/qDim/qLabelExpression"}}};var t={types:"Doc",extend:{getDimensionList:function t(){return this.getListData(e)},getDimensionListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"FieldList",qType:"FieldList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true}};var t={qInfo:{qId:"FieldOnTheFlyList",qType:"FieldOnTheFlyList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var n={qInfo:{qId:"FieldOnTheFlyWithHiddenList",qType:"FieldOnTheFlyWithHiddenList"},qFieldListDef:{qShowSystem:false,qShowHidden:true,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var i={types:"Doc",extend:{getFieldList:function t(){return this.getListData(e)},getFieldListObject:function t(){return this.getListObject(e)},getOnTheFlyListObject:function e(){return this.getListObject(t)},getOnTheFlyWithHiddenListObject:function e(){return this.getListObject(n)}}};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={types:["FieldList"],extend:{expand:function e(){return this.getLayout().then(function(e){var t=[];for(var n=0;n<e.length;++n){var i=e[n];t.push(i);if(i.qDerivedFieldData)for(var r=0;r<i.qDerivedFieldData.qDerivedFieldLists.length;++r){var o=i.qDerivedFieldData.qDerivedFieldLists[r];for(var s=0;s<o.qFieldDefs.length;++s){var a=o.qFieldDefs[s];t.push({qName:a.qName,qSrcTables:i.qSrcTables,qTags:a.qTags,isDerived:true,sourceField:i.qName,derivedDefinitionName:o.qDerivedDefinitionName})}}}return t})}}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"MasterObjectList",qType:"MasterObjectList"},qAppObjectListDef:{qType:"masterobject",qData:{name:"/qMetaDef/title",labelExpression:"/labelExpression",visualization:"/visualization",tags:"/qMetaDef/tags"}}};var t={types:"Doc",extend:{getMasterObjectList:function t(){return this.getListData(e)},getMasterObjectListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"MeasureList",qType:"MeasureList"},qMeasureListDef:{qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",labelExpression:"/qMeasure/qLabelExpression"}}};var t={types:"Doc",extend:{getMeasureList:function t(){return this.getListData(e)},getMeasureListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"ODAGAppLinkList",qType:"ODAGAppLinkList"},qAppObjectListDef:{qType:"odagapplink",qData:{odagLinkRef:"/qMetaDef/odagLinkRef",timestamp:"/qMetaDef/timestamp"}}};var t={types:"Doc",extend:{getODAGAppLinkList:function t(){return this.getListData(e)},getODAGAppLinkObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"SheetList",qType:"SheetList"},qAppObjectListDef:{qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",description:"/qMetaDef/description",descriptionExpression:"/descriptionExpression",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}};var t={types:"Doc",extend:{getSheetList:function t(){return this.getListData(e)},getSheetListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"SnapshotList",qType:"SnapshotList"},qBookmarkListDef:{qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}};var t={types:"Doc",extend:{getSnapshotListObject:function t(){return this.getListObject(e)},getSnapshotList:function t(){return this.getListData(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"StoryList",qType:"StoryList"},qAppObjectListDef:{qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}};var t={types:"Doc",extend:{getStoryList:function t(){return this.getListData(e)},getStoryListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"UndoInfo",qType:"UndoInfo"},qUndoInfoDef:{},markers:[]};var t={types:["Doc"],extend:{getUndoInfoObject:function t(){return this.getOrCreateSessionObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89)],r=function(e){var t=true,n=[],i=null,r=false;function o(t){var i=n[n.length-1],r;r=t(i||e.resolve());n.push(r);return r}function s(e){if(r){e.markers.length=0;r=false}}return{types:["UndoInfo"],extend:{undo:function i(){var s=this;function a(i){return i.then(function(){return s.getLayout().then(function(i){if(i.qUndoInfo.qUndoCount>0)return s.app.undo().then(function(){return s.getLayout().then(function(i){t=i.markers.length%2===0;if(!t)return a(e.resolve());n.splice(0,1)})});t=i.markers.length%2===0;t||(r=true);n.splice(0,1)})})}return o(a)},redo:function i(){var s=this;function a(i){return i.then(function(){return s.getLayout().then(function(i){if(i.qUndoInfo.qRedoCount>0){r=false;return s.app.redo().then(function(){return s.getLayout().then(function(){t=i.markers.length%2===0;if(!t)return a(e.resolve());n.splice(0,1)})})}n.splice(0,1)})})}return o(a)},reset:function e(){var t=this;return t.getLayout().then(function(e){if(!e.qUndoInfo.qUndoCount&&!e.qUndoInfo.qRedoCount)return;if(e.markers.length)return t.getProperties().then(function(e){e.markers.length=0;return t.setProperties(e).then(function(){return t.app.clearUndoBuffer()})});return t.app.clearUndoBuffer()})},startGroup:function n(){var o=this;return o.getLayout().then(function(n){return o.getProperties().then(function(a){t=a.markers.length%2===0;if(t||r){i=Date.now();s(a);a.markers.push(n.qUndoInfo.qUndoCount+1);return o.setProperties(a).then(function(){return e.resolve(i)})}return e.resolve(i)})})},endGroup:function n(r){if(!r)throw new Error("Must provide groupId to stop group.");var o=this;return o.getLayout().then(function(n){return o.getProperties().then(function(s){t=s.markers.length%2===0;if(t||r!==i)return e.resolve();i=null;s.markers.push(n.qUndoInfo.qUndoCount+1);return o.setProperties(s)})})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qId:"VariableList",qType:"VariableList"},qVariableListDef:{qType:"variable",qShowReserved:true,qShowConfig:true,qData:{tags:"/tags"}}};var t={types:"Doc",extend:{getVariableList:function t(){return this.getListData(e)},getVariableListObject:function t(){return this.getListObject(e)}}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={types:"GenericObject",override:{exportData:function e(t,n,i,r,o){n=n||"OOXML";i=i||"";r=r||"";o=o||"P";return t(n,i,r,o)}}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(188),n(586),n(324)],r=function(e,t,n,i){return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{setState:function e(t){var i=this.state;this.state=t;if(i===this.state)return;t===n.INVALID?this.Invalidated.emit():t===n.VALID?this.Validated.emit():t===n.VALIDATING?this.Validating.emit():t===n.CLOSED?this.Closed.emit():t===n.CLOSING?this.Closing.emit():t===n.CANCELLED&&this.Cancelled.emit()},markAsInvalid:function e(){this.state=-99;this.setState(n.INVALID)},markAsCancelled:function e(){this.setState(n.CANCELLED)},clearPending:function e(){var t=this;for(var n in t.ongoingRequests)delete t.ongoingRequests[n]}},override:{getLayout:function e(i,r){var o="GetLayout"+this.delta;var s=11e3;var a=this;var l=true===r;if(a.isValid&&a.layout)return a.Promise.resolve(l?a.pureLayout:a.layout);a.isValidating||a.setState(n.VALIDATING);if(a.ongoingRequests[o]){var u=a.ongoingRequests[o];if(r)return u.then(function(){a.getAppLayout&&!a.pureLayout.permissions&&(a.pureLayout.permissions=a.layout.permissions);return a.pureLayout});return u}var c=i().then(function(e){a.isValid||t.updateObject(a.layout,e);if(a.ongoingRequests[o]===c){a.setState(n.VALID);delete a.ongoingRequests[o]}a.pureLayout=e;a.getAppLayout&&(a.pureLayout.permissions=a.layout.permissions);return l?a.pureLayout:a.layout}).catch(function(e){delete a.ongoingRequests[o];e.code===s&&(e.isHandled=true);return a.Promise.reject(e)});a.ongoingRequests[o]=c;return c},getProperties:function e(n){var i="GetPropertiesfalse";var r=this;if(r.isValid&&!r.needCacheProperties)return r.Promise.resolve(r.properties);if(r.ongoingRequests[i])return r.ongoingRequests[i];var o=n().then(function(e){var n=t.generate(r._properties,e);r._properties=e;t.apply(r.properties,n);r.isValid&&(r.needCacheProperties=false);return r.properties});r.ongoingRequests[i]=o;o.catch(function(){}).finally(function(){delete r.ongoingRequests[i]});return o},setProperties:function e(n,i){var r=this;return n(i).then(function(){t.updateObject(r._properties,r.properties)})}},init:function t(r){var o=r.api;e.mixin(o);o.notification("Validated");o.notification("Invalidated");o.notification("Validating");o.notification("Closed");o.notification("Closing");o.notification("Cancelled");o.setState(n.INVALID);o.layout={};o.pureLayout=null;o.properties={};o._properties={};o.needCacheProperties=true;o.ongoingRequests={};i.mapToLayout(o.layout,!!o.getAppLayout);o.on("changed",function(){o.clearPending();o.needCacheProperties=true;o.setState(n.INVALID)});o.on("closed",function(){for(var e in o.ongoingRequests)o.ongoingRequests[e].then&&o.ongoingRequests[e].then(null,function(e){e.isHandled=true});o.setState(n.CLOSED)});o.Cancelled.bind(function(){o.clearPending()});Object.defineProperties(o,{isValid:{get:function e(){return this.state===n.VALID}},isValidating:{get:function e(){return this.state===n.VALIDATING}},isInvalid:{get:function e(){return this.state===n.INVALID}},isClosed:{get:function e(){return this.state===n.CLOSED}},isClosing:{get:function e(){return this.state===n.CLOSING}},isCancelled:{get:function e(){return this.state===n.CANCELLED}}})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(377)],r=function(e){function t(t,n){var i=e.isSnapshotData(n)?t.migrate.snapshot:t.migrate.properties;if("function"!==typeof i)throw new Error("migration function not a function: expected function, got "+o(i));return i(n)}return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{migrate:{properties:function e(t){return t},snapshot:function e(t){return t}}},override:{getProperties:function e(n){var i=this;return n().then(function(e){return t(i,e)})},setProperties:function e(n,i){return n(t(this,i))}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){this.getLayout=function(e){this.requestPromise=e.getLayout().then(function(t){this.requestPromise=null;if(e.isCancelled)return;this.fn(t)}.bind(this)).catch(function(e){false})}.bind(this,e);this.onInvalidated=function(){this.getLayout()}.bind(this);this.api=e;this.fn=null}e.prototype.subscribe=function(e){if("function"!==typeof e)throw new Error("Observer must be a function");if("function"===typeof this.fn)return;this.fn=e;this.api.Invalidated.bind(this.onInvalidated);this.getLayout()};e.prototype.dispose=function(){this.api.Invalidated.unbind(this.onInvalidated)};e.prototype.cancel=function(){if(this.requestPromise){this.api.app.global.cancelRequest(this.requestPromise.requestId);this.api.markAsCancelled();this.requestPromise=null;return true}return false};e.prototype.retry=function(){this.api.isCancelled&&this.getLayout()};return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{layoutSubscribe:function t(n){var i=new e(this);i.subscribe(n);return i}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(188)],r=function(e){function t(e){var t=e.qHyperCubeDef;if(t&&t.qMeasures&&t.qDimensions){var n=t.qDimensions.concat(t.qMeasures);n.forEach(function(e){e.qAttributeExpressions&&e.qAttributeExpressions.forEach(function(e){e.qAttribute=true})})}}return{types:["GenericObject"],override:{setProperties:function e(n,i){t(i);return n(i)},getEffectiveProperties:function t(n){var i=this;return n().then(function(t){i.effectiveProperties=i.effectiveProperties||t;e.updateObject(i.effectiveProperties,t);return i.effectiveProperties})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(90)],r=function(e){return{types:"Doc",override:{createBookmark:function t(n,i){return n(e.extend(true,{},{qInfo:{qType:"bookmark"},qMetaDef:{title:"",description:""},creationDate:(new Date).toISOString()},i))}},extend:{createSheet:function e(t){return this.createObject({qInfo:{qType:"sheet"},qMetaDef:{title:t.title||"",description:t.description||""},rank:void 0!==o(t.rank)?t.rank:-1,thumbnail:{qStaticContentUrlDef:t.thumbnail||null},columns:24,rows:12,cells:[],qChildListDef:{qData:{title:"/title"}}})},createStory:function e(t){return this.createObject({qInfo:{qType:"story"},qMetaDef:{title:t.title||"",description:""},rank:void 0!==o(t.rank)?t.rank:-1,thumbnail:{qStaticContentUrlDef:t.thumbnail||null},qChildListDef:{qData:{title:"/title",rank:"/rank"}}})},createMasterObject:function e(t){t=t||{};return this.createObject({qInfo:{qType:"masterobject"},qMetaDef:{title:t.title||"",description:t.description||"",tags:t.tags||""}})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(143),n(89)],r=function(e,t){var n,i;e.onDataReceived.then(function(e){if("NONE"!==e.userDirectory){n=e.userId;i=e.userDirectory}});return{types:["GenericObject"],override:{publish:function e(n){return this.getLayout().then(function(e){return e.permissions.publish?n():t.reject("Permission denied")})},unPublish:function e(r){return this.getLayout().then(function(e){var o=e.qMeta;var s=o.published&&!o.approved;var a=o.owner.userId===n&&o.owner.userDirectory===i;return s&&a?r():t.reject("Permission denied")})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(309),n(89),n(115),n(181),n(103)],r=function(e,t,n,i,r,o){return{types:"sheet",extend:{edit:function e(t){var n=this;return n.getProperties().then(function(e){t(e);return n.setProperties(e)})},getObject:function e(n,i){return this.getLayout().then(function(e){return t.getObject(e,n,i)})},moveObject:function e(i,r){return this.edit(function(e){var o=t.getObject(e,i);if(r.split){r=t.splitCell(e,r.pos,r.split);if(!r)return n.reject()}t.moveObject(o,r,e)})},swapObjects:function e(n,i){return this.edit(function(e){t.swapObjects(e,n,i)})},addObject:function r(s){var a=this,l=s.template,u=s.cell.pos,c=i.getType(l),f=s.init,d=s.children||[];var p;p=f.qExtendsId?n.resolve(e.extend({qInfo:{qType:l}},f)):c.getInitialProperties(f);return n.all({initProps:p,props:a.getFullPropertyTree()}).then(function(i){var r=i.initProps,s=i.props;if(u.split){u=t.splitCell(s.qProperty,u.pos,u.split);if(!u)return n.reject()}r.qInfo.qId=e.generateId();o.trackEvent(o.customEvents.CHART_CREATED,{chart_type:c.type,chart_id:r.qInfo.qId,chart_isThirdParty:c.libraryInfo?c.libraryInfo.isThirdParty:void 0});var l=t.setObject(s.qProperty,u,r.qInfo.qId,r.qInfo.qType);var f=false;if(l)for(var p=0;p<s.qChildren.length;p++)if(s.qChildren[p].qProperty.qInfo.qId===l){s.qChildren[p].qProperty=r;s.qChildren[p].qChildren=[];t.addChildrenToObject(s.qChildren[p],d);f=true;break}if(!f){var h=s.qChildren.push({qChildren:[],qProperty:r});t.addChildrenToObject(s.qChildren[h-1],d)}return a.setFullPropertyTree(s)})},getObjectById:function e(t){var n,i,r=this.layout.cells;for(n=0;n<r.length;++n){i=r[n];if(t===i.name)return i}return null},removeObject:function e(n){var i=this;return i.getFullPropertyTree().then(function(e){var r=t.objIndex(e.qProperty,n),s=e.qProperty.cells[r].name;if(-1===r)throw new Error("invalid pos");e.qProperty.cells.splice(r,1);for(var a=0;a<e.qChildren.length;a++)if(e.qChildren[a].qProperty.qInfo.qId===s){o.trackEvent(o.customEvents.CHART_DELETED,{chart_type:e.qChildren[a].qProperty.qInfo.qType,chart_id:s,chart_isThirdParty:!!e.qChildren[a].qProperty.extensionMeta});e.qChildren.splice(a,1);break}return i.setFullPropertyTree(e)})},setCloneChildrenInfos:function e(i){var r=this;return n.all([r.getChildInfos(),i.getChildInfos(),i.getProperties()]).then(function(e){var n=e[0];var r=e[1];var o=e[2];n.forEach(function(e,n){var i=t.findCellForId(e.qId,o.cells);i&&(i.name=r[n].qId)});return i.setProperties(o).then(function(){return i})})},clone:function e(){var t=this;return t.app.cloneObject(this.id).then(function(e){return t.app.getObject(e)}).then(function(e){return t.setCloneChildrenInfos(e)})},extendSheet:function e(t){var n=this;return this.getProperties().then(function(e){var i=e.rows;var o=r.calculateExtendedRowsAndHeight(e,t);e.height=o.height;e.rows=o.rows;for(var s=0;s<e.cells.length;s++)e.cells[s].bounds=r.recalculateBounds(e.cells[s],e.columns,i,e.columns,e.rows);return n.setProperties(e).then(function(){return[i,e.rows,e.columns]})})},isCustomSize:function e(){return this.layout&&this.layout.layoutOptions&&"CUSTOM"===this.layout.layoutOptions.sheetMode}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(194),n(107)],r=function(e,t,n){return{types:"sheet",extend:{removeNavPoint:function e(t){var n=this;return this.getProperties().then(function(e){if(!e.navPoints)return;for(var i=0;i<e.navPoints.length;i++){var r=e.navPoints[i];if(r.info.id===t){e.navPoints.splice(i,1);break}}return n.setProperties(e)})},addNavPoint:function i(r){var o={info:{type:"odagNavPoint"},title:"",odagLinkRefID:""};o=e.extend(o,r.data);o.info.id||(o.info.id=e.generateId());var s=this;return this.getProperties().then(function(i){i.navPoints||(i.navPoints=[]);var a=i.navPoints.map(function(e){return e.title});if(a.indexOf(o.title)>-1){var l=t.generateUniqueName(a,o.title);l=e.crop(l,n.name);o.title=l}var u=false;if(r.insertBeforeNavPointID)for(var c=0;c<i.navPoints.length;c++){var f=i.navPoints[c];if(f.info.id===r.insertBeforeNavPointID){i.navPoints.splice(c,0,o);u=true;break}}u||i.navPoints.push(o);return s.setProperties(i)})},getNavPoints:function e(){return this.getProperties().then(function(e){return e.navPoints?e.navPoints:[]})},reorderNavPoints:function e(t){var n=this;return this.getProperties().then(function(e){e.navPoints=t;return n.setProperties(e)})},moveNavPoint:function e(t,n){var i=this;return this.getProperties().then(function(e){if(!t)return;var r=null;var o=null;n||(o=e.navPoints.length-1);for(var s=0;s<e.navPoints.length;s++){var a=e.navPoints[s];a.info.id===t?r=s:n&&a.info.id===n&&(o=s);if(null!==r&&null!==o)break}r<o&&n&&o--;null!==r&&null!==o&&e.navPoints.splice(o,0,e.navPoints.splice(r,1)[0]);return i.setProperties(e)})},removeRefToLinkIDFromNavPoints:function e(t){var n=this;return this.getProperties().then(function(e){var i=e.navPoints?e.navPoints:[];for(var r=0;r<i.length;r++){var o=e.navPoints[r];o.odagLinkRefID===t&&(o.odagLinkRefID="")}return n.setProperties(e)})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){function t(e,t){if(e.qData.rank<t.qData.rank)return-1;if(e.qData.rank>t.qData.rank)return 1;return 0}if(Array.isArray(e)&&e.length>0)return e.sort(t);return e}return{types:"slide",extend:{duplicate:function t(n){var i,r=this;return n.getLayout().then(function(t){var o=e(t.qChildList.qItems.slice());for(var s=0;s<o.length;s++){var a=o[s];if(a.qInfo.qId===r.id){var l=o[s],u=o[s+1];(u||l)&&(i=u&&!l?u.qData.rank-1:!u&&l?l.qData.rank+1:(l.qData.rank+u.qData.rank)/2)}}return n.createSlide({rank:i}).then(function(e){return e.copyFrom(r.id).then(function(){return e.getProperties().then(function(t){t.rank=i;return e.setProperties(t)})})})})}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{types:"story",extend:{clone:function e(){var t=this;return t.app.cloneObject(this.id).then(function(e){return t.app.getObject(e)})},createSlide:function t(n){return this.createChild(e.extend(true,{qInfo:{qId:e.generateId(),qType:"slide"},rank:-1,qChildListDef:{qData:{title:"/title",sheetId:"/sheetId",ratio:"/ratio",position:"/position",dataPath:"/dataPath",srcPath:"/srcPath",visualization:"/visualization",visualizationType:"/visualizationType",style:"/style"}}},n))}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(259)],r=function(e){return e.structs}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(89),n(93),n(49)],r=function(e,t,n,i){var r={};var o={};var s={qInfo:{qType:"appprops"},sheetTitleBgColor:"",sheetTitleGradientColor:"",sheetTitleColor:"",sheetLogoThumbnail:{qStaticContentUrlDef:null},sheetLogoPosition:"",rtl:false,theme:"sense"};var a={qInfo:{qId:"AppPropsList",qType:"AppPropsList"},qAppObjectListDef:{qType:"appprops",qData:{sheetTitleBgColor:"/sheetTitleBgColor",sheetTitleGradientColor:"/sheetTitleGradientColor",sheetTitleColor:"/sheetTitleColor",sheetLogoThumbnail:"/sheetLogoThumbnail",sheetLogoPosition:"/sheetLogoPosition",rtl:"/rtl",theme:"/theme"}}};function l(e){return e.getProperties().then(function(t){return e.global.engineVersion().then(function(e){return t.qSavedInProductVersion===e.qComponentVersion&&!t.qLastReloadTime})})}function u(e){return e?t.resolve(e):n.getApp()}o.create=function(t,n){return u(n).then(function(n){if(i.getFlag("THEME_CARDS"))return l(n).then(function(i){var r=i?{theme:"card"}:{};var o=e.extend(true,{},s,r,t);return n.createObject(o)});var r=e.extend(true,{},s,t);return n.createObject(r)})};o.get=function(e,t){return u(t).then(function(t){return t.getObject(e)})};o.getList=function(e){return u(e).then(function(e){return r[e.id]=r[e.id]||e.getListObject(a)})};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(89),n(91),n(600),n(601),n(602)],r=function(e,t,n,i,r,o){var s;var a=20;var l="Invalid theme id";var u={DEFAULT:"default",QRS:"qrs",RLS:"rls"};var c=e.extend("ThemeLoader",{init:function e(t){this._cachedThemes=null;this.config=t;this.providers={default:i,qrs:r,rls:o};this.THEME_TYPE=u;this.ERROR_THEME_ID=l},getAvailableThemes:function e(){var n=this,i=new t,r=[],o=Object.keys(this.providers),s={default:[],custom:[]};if(this._cachedThemes)return t.resolve(this._cachedThemes);if(!this.config||!this.config.providers)return t.resolve(s);o.forEach(function(e){n.config.providers[e]&&r.push(n.providers[e].getThemeLists())});t.all(r).then(function(e){e.forEach(function(e){s.default=s.default.concat(e.default);s.custom=s.custom.concat(e.custom)});n._sortAlphabetically(s.custom);n._cachedThemes=s;i.resolve(s)});return i.promise},getCustomThemesPage:function e(n){var i,r=this,o;if(s&&s<n)return t.resolve([]);i=new t;this.getAvailableThemes().then(function(e){o=r._getPageFromList(n,e.custom,a);i.resolve(o)});return i.promise},getType:function e(n){var i=this,r=new t;this.getAvailableThemes().then(function(e){var t=Object.keys(e),o,s,a,u=null;while(!u){for(s=0;s<t.length;s++){o=t[s];a=i._getThemeTypeInList(e[o],n);if(a){u=a;break}}break}u?r.resolve(u):r.reject(l)});return r.promise},getRawJson:function e(n){var i=this;if(!n)return t.reject(l);return this.getType(n).then(function(e){return i.providers[e].loadJson(n)}).catch(function(e){return t.reject(e)})},getThemePath:function e(n){var i=this;if(!n)return t.reject(l);return this.getType(n).then(function(e){return i.providers[e].getResourcePath(n)})},getResourceUrlParams:function e(n){var i=this;if(!n)return t.reject(l);return this.getType(n).then(function(e){return i.providers[e].getResourceUrlParams()})},getPagesTotal:function e(){var n=this,i=new t;if(s)return t.resolve(s);this.getAvailableThemes().then(function(e){s=n._calculateNbrOfPages(e.custom,a);i.resolve(s)});return i.promise},_sortAlphabetically:function e(t){return t.sort(function e(t,i){var r="pseudo"===n.language?"en-US":n.language;return t.name.localeCompare(i.name,r)})},_getThemeTypeInList:function e(t,n){var i=null;if(t)for(var r=0;r<t.length;r++)if(t[r].id===n){i=t[r].type;break}return i},_getPageFromList:function e(t,n,i){var r=t||t>0?t:0;var o=r*i;var s=(r+1)*i;n.length<s&&(s=n.length);return n.slice(o,s)},_calculateNbrOfPages:function e(t,n){return Math.ceil(t.length/n)}});return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(89),n(260)],r=function(e,t,i){var r={};var o=n.p+"assets/external/sense-themes-default/default-themes.json";var s=n.p+"assets/external/sense-themes-default/";function a(){return i.getJson(o).then(function(e){return r._resolveDefaultConfiguration(e)})}function l(e){return u(e).then(function(e){var t=r._getJsonPath(e);return i.getJson(t)})}function u(e){return t.resolve(s+encodeURIComponent(e))}function c(){return""}r._resolveDefaultConfiguration=function(e){var n=new t;r._waitForTranslator().then(function(){var t={default:e.default,custom:[]};r._translateNames(t.default);r._setType(t.default);n.resolve(t)});return n.promise};r._waitForTranslator=function(){return e.ready};r._getJsonPath=function(e){return e+"/theme.json"};r._translateNames=function(t){t.forEach(function(t){t.name=e.get(t.name)})};r._setType=function(e){e.forEach(function(e){e.type="default"})};r.getThemeLists=a;r.loadJson=l;r.getResourcePath=u;r.getResourceUrlParams=c;return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(13),n(89),n(260)],r=function(e,t,n,i){var r={};function o(){var e=new n;var t={default:[],custom:[]};r._getExtensionsFromQrs().then(function(n){for(var i in n)r._isThemeExtension(n,i)&&t.custom.push({id:i,name:n[i]["name"],type:"qrs"});e.resolve(t)},function(){e.resolve(t)});return e.promise}function s(e){return a(e).then(function(e){var t=r._getJsonPath(e);return i.getJson(t)})}function a(e){var i=t.rootPath+"extensions/"+encodeURIComponent(e);return n.resolve(i)}function l(){return""}r._getExtensionsFromQrs=function(){return e.getService("$contentApi").getExtensions()};r._isThemeExtension=function(e,t){return e.hasOwnProperty(t)&&e[t]["type"]&&"theme"===e[t]["type"]};r._getJsonPath=function(e){return e+"/theme.json"};r.getThemeLists=o;r.loadJson=s;r.getResourcePath=a;r.getResourceUrlParams=l;return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(261),n(89),n(260)],r=function(e,t,n){var i={};function r(){var e=this,n=new t,r,o={default:[],custom:[]};i._getThemesFromRls().then(function(t){for(var i in t){var s=t[i];if(s.attributes){if(s.attributes.qext_filename&&s.attributes.name&&s.id){r=o[e._getListForSupplier(s.attributes.supplier)];r.push({id:s.attributes.qext_filename,name:s.attributes.name,rlsId:s.id,type:"rls"})}}else if(s.qextFilename&&s.name&&s.id){r=o[e._getListForSupplier(s.supplier)];r.push({id:s.qextFilename,name:s.name,rlsId:s.id,type:"rls"})}}n.resolve(o)},function(){n.resolve(o)});return n.promise}function o(e){return s(e).then(function(e){var t=i._getJsonPath(e);return n.getJson(t)})}function s(e){var n=new t;i.getThemeLists().then(function(t){var r=i._getResourcePathForList(t.default,e);if(r){n.resolve(r);return}r=i._getResourcePathForList(t.custom,e);if(r){n.resolve(r);return}n.resolve(null)});return n.promise}function a(){return e.getTenantIdUrlParameter()}i._getResourcePathForList=function(e,t){var n;e.forEach(function(e){e.id===t&&(n="/api/v1/themes/"+e.rlsId+"/file")});return n};i._getJsonPath=function(e){return e+"/theme.json"+a()};i._getThemesFromRls=function(){return e.getCloudThemes()};i._getListForSupplier=function(e){return e&&"qlik"===e.toLowerCase()?"default":"custom"};i.getThemeLists=r;i.loadJson=o;i.getResourcePath=s;i.getResourceUrlParams=a;return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(11),n(90),n(604)],r=function(e,t,n){var i=["palette","colorSchemes.qualitativeScales","colorSchemes.ordinalScales","scales","palettes.data","palettes.ui"];function r(e,t){for(var n in e)"object"===o(e[n])&&null!==e[n]?r(e[n],t):"string"===typeof e[n]&&"@"===e[n].charAt(0)&&(e[n]=t[e[n]])}function s(e){n.generateScales(e)}function a(e,t){var i;if(e){i=n.validatePalettesOrScales(e);i&&i.length&&i.forEach(function(e){console.warn("Theme parsing error, scale declaration: "+e)})}if(t){i=n.validatePalettesOrScales(t,true);i&&i.length&&i.forEach(function(e){console.warn("Theme parsing error, scale declaration: "+e)})}}function l(e){e.forEach(function(e){if(e.colors)for(var t=0;t<e.colors.length;t++)e.colors[t]&&(e.colors[t]=e.colors[t].toLowerCase())})}var u={};u.injectStyleNode=function(e,t,n){var i=document.createElement("link");var r=n||"";i.setAttribute("rel","stylesheet");i.setAttribute("href",e+"/"+t+r);document.head.appendChild(i);return i};u.injectExtraStyleNodes=function(e,t,n){var i=[];e.customStyles&&e.customStyles.length&&e.customStyles.forEach(function(e){if(e.cssRef&&e.cssRef.length&&"css"===e.cssRef.split(".").pop()){i.push({node:u.injectStyleNode(t,e.cssRef,n),cssClass:e.classRef});e.classRef&&e.classRef.length&&u.toggleCssClass(e.classRef,true)}});return i};u.toggleCssClass=function(t,n){t&&t.length&&e("body").toggleClass(t,n)};u.parseTheme=function(e,n,o){var c={};r(e,e._variables);r(n,n._variables);false===e._inherit?t.extend(true,c,e):t.extend(true,c,n,e);o&&i.forEach(function(n){var i=t.getValue(e,n);void 0!==i&&t.setValue(c,n,i)});c.scales&&s(c.scales);c.palettes&&c.palettes.ui&&l(c.palettes.ui);a(c.scales,c.palettes?c.palettes.data:null);u.toggleCssClass("qv-card",true===e._cards);return c};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(395),n(109)],r=function(e,t){function n(e,t,n){var i=.25+(t+1)/n*.25;var r=.5-i;var o=.5+i;var s=o-r;return r+e/1*s}function i(t,n){var i=[],r=new e;i.push(t[0]);n||i.push(t[0]);var o=1;for(;o<t.length-1;o++){i.push(t[o]);i.push(t[o])}i.push(t[o]);n||i.push(t[o]);for(var s=0;s<i.length;s+=2)r.addColorPart(i[s],i[s+1]);return r}function r(e,i,r){var o=[];for(var s=0;s<i+1;s++){var a;switch(i){case 0:a=e.getColor(.5);break;default:var l=n(1/i*s,i,r);a=e.getColor(l);break}o.push(new t(a).toHex())}return o}function o(e,t,n){var o=i(e,true);var s=r(o,t-1,t);var a=i(s,n);var l=[null];for(var u=0;u<t;u++)l.push(r(a,u,t));return l}function s(e){e.forEach(function(e){if("class"===e.type){var t=o(e.scale,Math.max(e.scale.length,7),false);e.scale=t;e.type="class-pyramid"}})}function a(e,t){var n={};var i=[];e.forEach(function(e,r){t?-1===["pyramid","row"].indexOf(e.type)&&i.push("Improper type for data palette: "+e.name):-1===["class","class-pyramid","gradient"].indexOf(e.type)&&i.push("Improper type for data scale: "+e.name);-1!==["pyramid","class-pyramid"].indexOf(e.type)?Array.isArray(e.scale)&&Array.isArray(e.scale[e.scale.length-1])&&"string"===typeof e.scale[e.scale.length-1][0]||i.push("Improper scale structure for: "+e.name):Array.isArray(e.scale)&&"string"===typeof e.scale[0]||i.push("Improper scale structure for: "+e.name);e.propertyValue||(e.propertyValue="scale"+r);n[e.propertyValue]?i.push("Duplicate property values for: "+e.name):n[e.propertyValue]=true});return i}return{createPyramidFromColors:o,generateScales:s,validatePalettesOrScales:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t){e.exports='<div ng-show="internalShow" class="qv-animate spinner ng-hide" ng-class="{\'center-in-parent\': centerInParent}" ng-style="{\'width\': spinnerWidth, \'height\': spinnerHeight }">\n\t<div class="qv-loader"></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(102),n(92),n(188),n(610),n(110)],r=function(e,t,n,i,r,o){var s=o.NxLocalizedErrorCode;var a=["GetLayout","GetAppLayout","AbortModal","DoSave"];function l(e,t){Array.isArray(t)?i.apply(e,t):i.updateObject(e,t)}var u=n.extend("RPCBase",{init:function e(n){var i=this;t.mixin(i);i.notification("Validated");i.notification("Invalidated");i.notification("Validating");i.notification("Closed");i.notification("Closing");i.notification("Cancelled");i.modelType="RPCBase",i.id=n.id;i.session=n.session;i.handle=n.handle;i.checkCreate=n.checkCreate;i._properties={};i.properties={};i.propertyTree={};i.ongoingRequests={};i.needCacheProperties=true;i._effectiveProperties={};i.effectiveProperties={};i.needCacheEffectiveProperties=true;i.enigmaModel=n.enigmaModel;i.setState(u.States.INVALID);"App"!==i.constructor.name&&i.bindToRPC()},bindToRPC:function e(){var t=this;t.layout=t.enigmaModel.layout;t.session.onChange(t.handle,t.changeHandler.bind(t));t.Cancelled.bind(t.clearPending.bind(t))},changeHandler:function e(){var t=this;t.clearPending();t.needCacheProperties=true;t.needCacheEffectiveProperties=true;t.isCancelled||t.setState(u.States.INVALID)},clearPending:function e(){for(var t in this.ongoingRequests)delete this.ongoingRequests[t]},setState:function e(t){var n=this;var i=n.state;delete this.__layoutRPCId;n.state=t;if(i===n.state)return;t===u.States.INVALID?n.Invalidated.emit():t===u.States.VALID?n.Validated.emit():t===u.States.VALIDATING?n.Validating.emit():t===u.States.CLOSED?n.Closed.emit():t===u.States.CLOSING?n.Closing.emit():t===u.States.CANCELLED&&n.Cancelled.emit()},getLayout:function t(){var n=this;var i="GetLayout";if(n.isValid||n.isCancelled)return e.resolve(n.layout);n.isValidating||n.setState(u.States.VALIDATING);if(n.ongoingRequests[i])return n.ongoingRequests[i];function r(){n.setState(u.States.VALID);return n.layout}var o=n.enigmaModel.getLayout();var s=o.then(r);n.__layoutRPCId=o.reqId;n.ongoingRequests[i]=s;return s},getProperties:function t(n){var r=this,o=false;n=n||"GetProperties";if(r.isValid&&!r.needCacheProperties)return e.resolve(r.properties);if(r.ongoingRequests[n+o])return r.ongoingRequests[n+o];var s=r.rpc(n,"qProp",[],{delta:o}).then(function(e){var t=i.generate(r._properties,e);r._properties=e;i.apply(r.properties,t);r.isValid&&(r.needCacheProperties=false);return r.properties}).catch(function(){});r.ongoingRequests[n+o]=s;return s},getEffectiveProperties:function t(){var n=this,r=false;var o="GetEffectiveProperties";if(n.isValid&&!n.needCacheEffectiveProperties)return e.resolve(n.effectiveProperties);if(n.ongoingRequests[o+r])return n.ongoingRequests[o+r];var s=n.rpc(o,"qProp",[],{delta:r}).then(function(e){var t=i.generate(n._effectiveProperties,e);n._effectiveProperties=e;i.apply(n.effectiveProperties,t);n.isValid&&(n.needCacheEffectiveProperties=false);return n.effectiveProperties});n.ongoingRequests[o+r]=s;return s},hasChanges:function e(){var t=i.generate(this._properties,this.properties);return t.length>0},markAsInvalid:function e(){this.state=-99;this.setState(u.States.INVALID)},markAsCancelled:function e(){this.setState(u.States.CANCELLED)},getFullPropertyTree:function e(t){var n=this,i=false;t=t||"GetFullPropertyTree";return n.rpc(t,"qPropEntry",[],i).then(function(e){n._propertyTree=e;l(n.propertyTree,e);return n.propertyTree})},setProperties:function e(t,n,r){var o=this;n=n||"SetProperties";Array.isArray(t)||(t=[t]);return this.rpc(n,null,t,r).then(function(){i.updateObject(o._properties,o.properties)})},setFullPropertyTree:function e(t,n,i){n=n||"SetFullPropertyTree";Array.isArray(t)||(t=[t]);return this.rpc(n,null,t,i)},save:function t(){return this.hasChanges()?this.setProperties(this.properties):e.resolve()},saveTree:function e(){return this.setFullPropertyTree(this.propertyTree)},getChildInfos:function e(){return this.rpc("GetChildInfos","qInfos",[])},close:function t(n){var i=this;n||(i.rpcOptions.onClose=i.rpcOptions.onClose?i.rpcOptions.onClose:function(){});i.setState(u.States.CLOSING);var o=e.resolve();delete i.session.changeHandlers[i.handle];delete i.session.modelCache[i.id];for(var s in i.ongoingRequests)i.ongoingRequests[s].then&&i.ongoingRequests[s].then(null,function(e){e.error.isHandled=true});return o.then(function(){i.setState(u.States.CLOSED);r.addToQueue(i)})},rpc:function t(n,i,r,o){o=o||{delta:false,raw:false};var l=this;var u=[].slice.call(arguments);if(!l.handle&&"App"===l.constructor.name)return l.waitForOpen.promise.then(function(){return l.rpc.apply(l,u)});var c={method:n,handle:this.handle,params:r||[]};o.delta&&(c.delta=true);if(!l.session||l.isClosing||l.isClosed)return e.reject();var f=l.session.rpc(c).then(function(e){return i?e.result[i]:o.raw?e:e.result}).catch(function(t){if(t.error.code===s.LOCERR_HC_MODAL_OBJECT_ERROR){t.error.isHandled=true;return l.session.currentApp.abortModal().then(function(){return l.rpc.apply(l,u)})}return e.reject(t)});if(a.indexOf(n)>-1){l.ongoingRequests[n+o.delta]=f;f.finally(function(){delete l.ongoingRequests[n+o.delta]})}f.rpcId=c.id;return f}});u.getModel=function(t,n,i){var r=n.modelCache[t],o=this;function s(i){delete n.modelCache[t];return e.reject({error:{code:i&&i.error&&i.error.code,message:"No object with Id "+t+" found",parameter:t}})}if(!t)return e.reject("No ID given to RPCBase#getModel");if(r)return r;r=i().then(function(e){return new o({id:e.id,session:n,handle:e.handle,enigmaModel:e})},s);n.modelCache[t]=r;return r};u.getLayout=function(e,t){return this.get(e,t).then(function(e){return e.getLayout().then(function(e){return e})})};u.getProperties=function(e,t){return this.get(e,t).then(function(e){return e.getProperties().then(function(){return e})})};u.extend=function(e,t){var i=n.extend.call(this,e,t);i.getLayout=u.getLayout;i.getProperties=u.getProperties;i.getModel=u.getModel;return i};Object.defineProperties(u.prototype,{isValid:{get:function e(){return this.state===u.States.VALID}},isValidating:{get:function e(){return this.state===u.States.VALIDATING}},isInvalid:{get:function e(){return this.state===u.States.INVALID}},isClosed:{get:function e(){return this.state===u.States.CLOSED}},isClosing:{get:function e(){return this.state===u.States.CLOSING}},isCancelled:{get:function e(){return this.state===u.States.CANCELLED}}});u.States={VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7};return u}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102),n(199)],r=function(e,t){var n=[];function i(e){return e.Invalidated&&e.Invalidated.observers&&0===e.Invalidated.observers.length}function r(){var e=n.length,r;while(e--){r=n[e];t.RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Checking model (id, handle, model):",r.id,r.handle,r);if(i(r)){o(r);n.splice(e,1)}}}function o(n){t.RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Releasing model (id):",n.id);e.release(n);for(var i in n)delete n[i]}function s(e){n.push(e)}setInterval(r,1e4);return{addToQueue:s}}.apply(t,i),void 0!==r&&(e.exports=r))},,,function(e,t,n){"use strict";var i,r;!(i=[n(11),n(10),n(48),n(89),n(94),n(181),n(50),n(99),n(131),n(95),n(123),n(114),n(311),n(382),n(49),n(309),n(442),n(267),n(287)],r=function(e,t,i,r,o,s,a,l,u,c,f,d,p,h,v,m){var g=t.injector(["ng"]);var b=g.get("$cacheFactory");var y=b("pp-object");var x=2;function _(e,t){var n={id:t.id,type:"gridCell",customObject:t,canCopy:function e(){return!t.object.isInvalid},copy:function e(){c.publish("/activeSheet/copyObject",t)},canCut:function e(){return!t.object.isInvalid},cut:function e(){c.publish("/activeSheet/cutObject",t)},paste:function e(){c.publish("/activeSheet/pasteObject",t)},canRemove:function e(){return true},remove:function n(){e.gridService.removeCell(t)},getAllPropertyPanelContent:function e(){var n=null;return t.getVisualization().then(function(e){n=e.model.id;return e.getPropertyPanelContent().then(function(t){var i=t.type;var o=t.app;return r.all({appLayout:o.getLayout(),properties:e.model.getProperties(),layout:e.model.getLayout()}).then(function(s){if(n!==s.properties.qInfo.qId)return r.resolve(null);return{definition:t.definition,globalChangeListeners:t.globalChangeListeners,type:i.type,ext:t.ext,handler:t.handler,iconName:t.iconName,titleRef:t.titleRef,properties:s.properties,layout:s.layout,localeInfo:s.appLayout.qLocaleInfo,app:o,model:e.model,cache:y}})})})}};return n}function w(e,t){var n=t?1:x;return{width:"calc( "+e.width+"% - "+2*n+"px )",height:"calc( "+e.height+"% - "+2*n+"px )",left:"calc( "+e.x+"% + "+n+"px )",top:"calc( "+e.y+"% + "+n+"px )"}}function q(e){e.getVisualization().then(function(t){t.getPreferredSize().then(function(t){t&&a.isSmallDevice&&(e.style={width:t.w+"px",height:t.h+"px"})})})}function C(e,t,n){var i=100;var r=100;var o=i/t;var s=r/n;e.rectFor=function e(t){if(t.bounds)return{left:t.bounds.x,top:t.bounds.y,width:t.bounds.width,height:t.bounds.height,margin:x};var n=t.colspan*o;var i=t.rowspan*s;var r=t.col*o;var a=t.row*s;return{left:r,top:a,width:n,height:i,margin:x}};var a=[];var l=[];var u;for(u=0;u<t-1;++u){var c=(u+1)*o;l.push({left:c+"%"})}for(u=0;u<n-1;++u){var f=(u+1)*s;a.push({top:f+"%"})}e.cols=t;e.rows=n;e.horizontalLines=a;e.verticalLines=l}function S(t,n){var i=n.layoutOptions||{};t.sheetSize={};m.updatePermissionStyle(t);t.zoomCell||a.isSmallDevice&&!t.mobileGrid||(i.sheetMode&&"RESPONSIVE"!==i.sheetMode||!n.height?"CUSTOM"===i.sheetMode&&(t.sheetSize=m.getCustomSheetSize(n,e("#grid-wrap").height())):t.sheetSize=m.getExtendedSheetSize(n,o.isInEditMode()))}function E(e,t){var n=t.qInfo.qId!==e.lastSheetId;var i=!n&&o.isInEditMode()&&!e.zoomCell&&t.permissions.update;e.lastSheetId=t.qInfo.qId;e.hasUpdatePermission=t.permissions.update;e.isSheet=true;e.isMaster=false;e.sheetTitle=t.labelExpression||t.qMeta&&t.qMeta.title||"";e.sheetId=t.qInfo&&t.qInfo.qId||"";e.isDraft=t.qMeta&&t.qMeta.sourceObject&&t.qMeta.sourceObject.length;e.isDraftOwner=t.qMeta&&t.qMeta.draftObject&&t.qMeta.draftObject.length;var r=e.layout.layoutOptions;e.extend=e.hasUpdatePermission&&r&&r.extendable&&"CUSTOM"!==r.sheetMode;var s=r&&r.mobileLayout;e.mobileGrid=v.getFlag("MOBILE_GRID")&&"GRID"===s&&!(r&&"CUSTOM"===r.sheetMode);var a,l;a=e.cols;l=e.rows;S(e,t);!n&&e.hasUpdatePermission||e.clearActiveCell();n&&(e.cells=[]);C(e,a,l);O(e,t.cells.slice(),i)}function D(t,r,s){return{active:false,visible:false,items:[{translation:"contextMenu.showDetails",tid:"nav-menu-info",cssClasses:"lui-icon lui-icon--info",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){return s.object&&(l.treatAsDesktop()||r.zoomCell)&&!o.isInEditMode()&&!s.object.isInvalid&&s.object.supportObjectInfo()},action:function e(){i.getService("objectInfoCard").show(s.object)}},{translation:"Visualization.Unlink",tid:"nav-menu-link",cssClasses:"lui-icon lui-icon--link",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){return s.object&&(l.treatAsDesktop()||r.zoomCell)&&s.object.isLink&&o.isInEditMode()},action:function e(){s.getVisualization().then(function(e){var t=n(387);t.showBreakLinkDialog(e.model)})}},{translation:"Tooltip.EditObject",tid:"nav-menu-edit",cssClasses:"lui-icon lui-icon--edit",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){if(!v.getFlag("SSA_IN_EDIT"))return false;var t=r.activeCell&&r.activeCell.id===s.id;return s.object&&(l.treatAsDesktop()||r.zoomCell)&&o.isInEditMode()&&!t},action:function e(t){r.toggleActive(s);t&&t.stopPropagation()}},{translation:"Tooltip.StopEdit",tid:"nav-menu-stop-edit",cssClasses:"lui-icon lui-icon--tick green",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){if(!v.getFlag("SSA_IN_EDIT"))return false;var t=r.activeCell&&r.activeCell.id===s.id;return t&&o.isInEditMode()},action:function e(t){r.toggleActive(null);u.resetPropertyPanelToggle();t&&t.stopPropagation()}},{translation:"contextMenu.takeSnapshot",tid:"nav-menu-snapshot",cssClasses:"lui-icon lui-icon--camera",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");s.snapshot.dialogOpen&&t.push("blue");return t.join(" ")},isVisible:function e(){return s.object&&(l.treatAsDesktop()||r.zoomCell)&&!s.object.isInvalid&&!r.zooming&&!o.isInEditMode()&&s.object.supportSnapshot()&&t.permissions.createSnapshot||s.snapshot.isAnnotating},action:function e(){if(s.snapshot.snapshotTimer)return;s.snapshot.snapshotTimer=setTimeout(function(){s.snapshot.snapshotTimer=null},1e3);var t=true;if(s.snapshot.isAnnotating)return;if(r.zoomCell&&s.showExploreMenu){s.toggleExploreMenu();s.object.resize();s.snapshot.take(t)}else r.zoomCell?s.snapshot.take(t,true):s.snapshot.take(t)}},{translation:"Tooltip.ExplorationMenu",tid:"nav-menu-explore",cssClasses:"lui-icon lui-icon--control",dynamicCssClasses:function e(){var t=[];s.object&&s.showExploreMenu&&t.push("active");r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){return s.object&&(l.treatAsDesktop()||r.zoomCell)&&s.object.canShowExploreMenu()&&!o.isInEditMode()&&!r.zooming},action:function e(){if(r.zoomCell){s.toggleExploreMenu();s.object.resize()}else{r.zoom(s);s.toggleExploreMenu(true)}}},{translation:"Tooltip.ZoomOut",tid:"nav-menu-zoom-out",cssClasses:"lui-icon lui-icon--remove big",isVisible:function e(){return r.isSheet&&r.zoomCell===s&&!r.zooming},action:function t(){s.navMenu.visible=false;s.showExploreMenu&&s.toggleExploreMenu(false);e(".embedded-sheet-toolbar").length>0&&e(".embedded-sheet-toolbar").css("display","block");r.zoom(null);r.gridService.restoreSheetScrollState()}},{translation:"Tooltip.ZoomIn",tid:"nav-menu-zoom-in",cssClasses:"lui-icon lui-icon--expand white border",isVisible:function e(){return s.object&&l.treatAsDesktop()&&!r.zoomCell&&!s.object.isInvalid&&!r.zooming},action:function e(t){r.zoom(s);if(o.isInEditMode()&&!s.options.isActive){r.toggleActive(null);u.resetPropertyPanelToggle()}t&&t.stopPropagation()}},{translation:"Common.Move",tid:"nav-menu-move",cssClasses:"lui-icon lui-icon--draggable",dynamicCssClasses:function e(){var t=[];r.zoomCell?t.push("big"):t.push("border","white");return t.join(" ")},isVisible:function e(){if(!v.getFlag("SSA_IN_EDIT"))return false;return o.isInEditMode()&&!r.zoomCell&&(l.treatAsDesktop()||r.activeCell===s)},mounted:function e(t){h.addDrag(t,"",{isEnabled:function e(){var t=r.gridService.isBlocked();var n=s.object&&s.object.preventDrag;return!n&&!t},info:function e(){return{type:"gridcell",cell:s}},onStart:function e(){},elem:"<div class='qv-gridmove-icon'></div>"})}}]}}function O(e,t,n){var i=e.layout||{};var s=i.layoutOptions&&"CUSTOM"===i.layoutOptions.sheetMode;var a=e.placementService.updateGridCells(e.cols,e.rows,e.cells,t,p.getResolutionFor(i.gridResolution),s);e.cells=a;var l;l=v.getFlag("SSA_IN_EDIT")?f.ANALYSIS:o.state===o.States.edit?f.EDIT:f.ANALYSIS;a.forEach(function(t){if(!t.isEmpty){v.getFlag("SSA_IN_EDIT")&&o.isInEditMode()&&(t.resize=T(t,e));if(!t.model){var i=r();t.options.setController=i.resolve;t.options.interactionState=l;t.options.direction=d.direction;t.options._softCancelOnRemove=true;t.options.removeIt=function(){e.gridService.removeCell(t)};if(e.app){e.app.getLayout().then(function(n){t.navMenu=D(n,e,t)});e.app.getObject(t.id).then(function(i){t.model=i;n&&e.toggleActive(t)})}t.getVisualization=function(){return i.promise}}t.options.canSaveSoftProperties=A(e)}});!e.hasUpdatePermission&&e.zoomCell&&o.state===o.States.edit&&e.zoom(null);e.cells=a;e.updateCellsSize()}function A(e){return e.hasUpdatePermission&&!a.isSmallDevice}function L(e,t){this.gridService=e;this.placementService=i.getService("qvObjectPlacementService");this.blocked=false;this.app=t}function I(e,t){return t>=0&&e>t?t:e}function T(e,t){var n=[];var i=["top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"];var r=e.pos.bounds?s.getAligmentToGrid(e.pos.bounds,t.cols,t.rows):e.pos;var o=r.col;var a=o+r.colspan;var l=r.row;var u=l+r.rowspan;var c={left:o,right:t.cols-a,top:l,bottom:t.rows-u};for(var f=0;f<t.cells.length;++f){if(t.cells[f]===e||t.cells[f].isEmpty)continue;var d=t.cells[f].pos.col;var p=d+t.cells[f].pos.colspan;var h=t.cells[f].pos.row;var v=h+t.cells[f].pos.rowspan;if(h<u&&v>l){c.left=I(c.left,o-p);c.right=I(c.right,d-a)}if(d<a&&p>o){c.top=I(c.top,l-v);c.bottom=I(c.bottom,h-u)}}i.forEach(function(e){var t={top:true,bottom:true}[e]||false;var i={left:true,right:true}[e]||false;var o={X:0,Y:0};var s=false;if(i){o.X=c[e];s=r.colspan<=1}else if(t){o.Y=c[e];s=r.rowspan<=1}else{var a=e.split("-");o.Y=c[a[0]];o.X=c[a[1]];s=r.rowspan<=1&&r.colspan<=1}if(0===o.Y&&0===o.X&&s)return;var l={X:r.colspan-1,Y:r.rowspan-1};if(l.X<0&&o.X<=0||l.Y<0&&o.Y<=0)return;l.Y=Math.max(l.Y,0);l.X=Math.max(l.X,0);n.push({dir:e,expand:o,contract:l})});return n}L.prototype.autoCollapse=function(){var e=this;var t=o.getModel();if(t&&t.layout&&t.layout.permissions.update&&t.layout.height&&t.layout.height>100&&t.layout.cells){var n=s.calculateCollapseHeight(t.layout,t.layout.cells);if(n>0)return t.extendSheet(-n).then(function(){e.updateCellsSize()})}return r.resolve()};L.prototype.updateCellsSize=function(){var e=this;S(e,e.layout);for(var t=0;t<e.cells.length;t++)e.setCellSize(e.cells[t],e.cells[t].pos)};L.prototype.setCellSize=function(e,t){if(!this.mobileGrid&&a.isSmallDevice&&e.getVisualization)e.style=q(e);else{t.bounds=this.placementService.getCellAlignment(t,this.cols,this.rows);e.style=w(t.bounds,this.mobileGrid&&a.isSmallDevice)}e.options&&(e.options.canSaveSoftProperties=A(this));e.pos=t};L.prototype.block=function(){this.blocked=true;this.removeResizeHandles()};L.prototype.unblock=function(){this.blocked=false;this.updateActiveCell()};L.prototype.isBlocked=function(){return this.blocked};L.prototype.updateResize=function(e){e.resize=T(e,this)};L.prototype.updateActiveCell=function(){var e=this;if(!e.activeCell)return;if(!o.isInEditMode())return;if(this.blocked)return;var t=e.activeCell.pos.bounds?s.getAligmentToGrid(e.activeCell.pos.bounds,e.cols,e.rows):e.activeCell.pos;var n=t.col;var i=n+t.colspan;var r=t.row;var a=r+t.rowspan;var l={left:n,right:e.cols-i,top:r,bottom:e.rows-a};function u(e,t){t>=0&&l[e]>t&&(l[e]=t)}for(var c=0;c<e.cells.length;++c){if(e.cells[c]===e.activeCell||e.cells[c].isEmpty)continue;var f=e.cells[c].pos.col;var d=f+e.cells[c].pos.colspan;var p=e.cells[c].pos.row;var h=p+e.cells[c].pos.rowspan;if(p<a&&h>r){u("left",n-d);u("right",f-i)}if(f<i&&d>n){u("top",r-h);u("bottom",p-a)}}e.activeCell.updating=false;v.getFlag("SSA_IN_EDIT")||(e.activeCell.resize=T(e.activeCell,e))};L.prototype.removeResizeHandles=function(){this.cells.forEach(function(e){e.resize=null})};L.prototype.clearActiveCell=function(){var e=this;!v.getFlag("SSA_IN_EDIT")&&this.cells&&e.removeResizeHandles();e.activeCell=null};L.prototype.setCellSelected=function(e){if(v.getFlag("SSA_IN_EDIT")&&u.selectedObject&&!(e&&e.id===u.selectedObject.id)&&u.selectedObject.customObject&&u.selectedObject.customObject.object){u.selectedObject.customObject.object.setInteractionState(f.ANALYSIS);u.selectedObject.customObject.object.update()}if(e&&!e.isEmpty){if(!u.selectedObject||"gridCell"!==u.selectedObject.type||u.selectedObject.id!==e.id){u.setSelectedObject(_(this,e));if(v.getFlag("SSA_IN_EDIT")&&u.selectedObject.customObject.object){u.selectedObject.customObject.object.setInteractionState(f.EDIT);u.selectedObject.customObject.object.update()}}}else{var t=i.getService("qvSheetService");t.setSheetAsSelectedObj()}};L.prototype.gridToggleActive=function(){v.getFlag("SSA_IN_EDIT")||this.toggleActive(null)};L.prototype.toggleActive=function(e){var t=this;if(!o.isInEditMode())return;if(!e||e.isEmpty)t.clearActiveCell();else{t.clearActiveCell();t.hasUpdatePermission&&(t.activeCell=e);t.updateActiveCell();u.propertiesOpen=true}t.setCellSelected(e)};L.prototype.setEditMaster=function(e,t){var n=this;var i=[{name:e,type:t,col:0,row:0,colspan:1,rowspan:1}];n.lastSheetId=null;n.isSheet=false;n.isMaster=true;C(n,1,1);n.clearActiveCell();O(n,i,false);n.cells[0].options.interactionState=f.EDIT;n.setCellSelected(n.cells[0]);n.zoom(n.cells[0])};L.prototype.update=function(e){if(!e)return;var t=this;t.layout=e;C(t,e.columns||12,e.rows||7);E(t,e);t.activeCell&&-1===t.cells.indexOf(t.activeCell)&&t.setCellSelected(null);if(t.zoomCell&&-1===t.cells.indexOf(t.zoomCell)){t.zoomCell=null;t.setCellSelected(null);S(t,t.layout)}t.updateActiveCell()};function k(e,t){var n=e.activeCell===t;v.getFlag("SSA_IN_EDIT")&&null!==t&&!n&&e.clearActiveCell()}L.prototype.zoom=function(e){var t=this;if(!t.cells)return;t.cells.forEach(function(t){if(t.options){t.options.isVisible=t===e||!e;t.options.isZoomed=t===e&&!!e}});!v.getFlag("SSA_IN_EDIT")&&o.isInEditMode()&&t.clearActiveCell();k(t,e);if(e){t.zoomCell=e;t.gridService.saveScrollState();e.object&&(e.object.expanded=!!e)}else if(t.zoomCell){t.zoomCell.object&&(t.zoomCell.object.expanded=false);!v.getFlag("SSA_IN_EDIT")&&t.hasUpdatePermission&&o.isInEditMode()&&(t.activeCell=t.zoomCell);t.zoomCell=null;t.updateActiveCell();t.gridService.restoreScrollState()}S(t,t.layout)};L.prototype.highlight=function(e){var t=this;if(!t.cells)return;t.cells.forEach(function(t){t.isHighlighted=t===e||!e})};L.prototype.exploreMenu=function(e,t){e&&e.object&&e.object.hasSoftProperties&&e.toggleExploreMenu(t)};L.prototype.getOptimalCell=function(){return i.getService("qvObjectPlacementService").getOptimalCell(this.cells.slice())};return L}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(114),n(443),n(672)],r=function(e,t,n){return{template:n,scope:{close:"&"},controller:["$scope","$element",function(n,i){n.direction=e.direction;i.find(".content").showComponent(t,{input:n.input})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){(function(n){var i,r;(function(){var o=[];var s=o.slice;var a={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);i.push({callback:t,context:n,ctx:n||this});return this},once:function(e,t,i){if(!u(this,"once",e,[t,i])||!t)return this;var r=this;var o=n.once(function(){r.off(e,o);t.apply(this,arguments)});o._callback=t;return this.on(e,o,i)},off:function(e,t,i){var r,o,s,a,l,c,f,d;if(!this._events||!u(this,"off",e,[t,i]))return this;if(!e&&!t&&!i){this._events={};return this}a=e?[e]:n.keys(this._events);for(l=0,c=a.length;l<c;l++){e=a[l];if(s=this._events[e]){this._events[e]=r=[];if(t||i)for(f=0,d=s.length;f<d;f++){o=s[f];(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o)}r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e];var i=this._events.all;n&&c(n,t);i&&c(i,arguments);return this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"===typeof t&&(n=this);e&&((i={})[e._listenerId]=e);for(var o in i){i[o].off(t,n,this);r&&delete this._listeners[o]}return this}};var l=/\s+/;var u=function(e,t,n,i){if(!n)return true;if("object"===typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return false}if(l.test(n)){var o=n.split(l);for(var s=0,a=o.length;s<a;s++)e[t].apply(e,[o[s]].concat(i));return false}return true};var c=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:while(++i<r)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<r)(n=e[i]).callback.call(n.ctx,o);return;case 2:while(++i<r)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:while(++i<r)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:while(++i<r)(n=e[i]).callback.apply(n.ctx,t)}};var f={listenTo:"on",listenToOnce:"once"};n.each(f,function(e,t){a[t]=function(t,i,r){var o=this._listeners||(this._listeners={});var s=t._listenerId||(t._listenerId=n.uniqueId("l"));o[s]=t;"object"===typeof i&&(r=this);t[e](i,r,this);return this}});a.bind=a.on;a.unbind=a.off;true;!(i=[],r=function(){return a}.apply(t,i),void 0!==r&&(e.exports=r));this.Eventable=a})();e.exports=Eventable}).call(this,n(54))},function(e,t){e.exports='<div class="q-card-content" qva-direction x-dir-setting="{{direction}}">\n\n\t<header ng-if="object.title || object.description">\n\t\t<div class="object-title" ng-if="object.title" qva-direction x-dir-text="{{object.title}}">{{object.title}}</div>\n\t\t<div ng-if="object.description" qva-direction x-dir-text="{{object.description}}" ng-bind-html="getTrustedHtml(object.description)"></div>\n\t</header>\n\n\t<section ng-if="object.dimensions.length">\n\t\t<div class="item-header" qva-direction x-dir-setting="{{direction}}">\n\t\t\t<span q-translation="Common.Dimensions"></span>\n\t\t\t<span class="item-count" dir="ltr">({{ object.dimensions.length }})</span>\n\t\t</div>\n\t\t<div class="item" ng-repeat="dimension in object.dimensions">\n\t\t\t<div class="item-title" qva-direction x-dir-text="{{dimension.title || \'-\'}}"><span class="lui-icon lui-icon--small lui-icon--drill-down" q-title-translation="Tooltip.dimensions.drilldown" ng-if="dimension.isDrilldown"></span>{{ dimension.title || \'-\'}}</div>\n\t\t\t<div class="item-description" ng-if="dimension.description" qva-direction x-dir-text="{{dimension.description}}" ng-bind-html="getTrustedHtml(dimension.description)"></div>\n\t\t</div>\n\t</section>\n\n\t<section ng-if="object.measures.length">\n\t\t<div class="item-header" qva-direction x-dir-setting="{{direction}}">\n\t\t\t<span q-translation="Common.Measures"></span>\n\t\t\t<span class="item-count" dir="ltr">({{ object.measures.length }})</span>\n\t\t</div>\n\t\t<div class="item" ng-repeat="measure in object.measures">\n\t\t\t<div class="item-title" qva-direction x-dir-text="{{measure.title || \'-\'}}">{{ measure.title || \'-\'}}</div>\n\t\t\t<div class="item-description" ng-if="measure.description" qva-direction x-dir-text="{{measure.description}}" ng-bind-html="getTrustedHtml(measure.description)"></div>\n\t\t</div>\n\t</section>\n\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(141),n(90)],r=function(e,t,n){function i(t,n,i){var r="dimension"===n?"getDimension":"getMeasure";var o="dimension"===n?"qDim":"qMeasure";if(!t||!i)return e.resolve();return t.app[r](i).then(function(e){return e.getLayout().then(function(e){return e[o].descriptionExpression||e.qMeta.description})})}function r(e,t,n){return i(e,"dimension",t).then(function(e){var t="H"===n.qGrouping,i=t?n.title:n.qFallbackTitle||n.title;return{title:i,description:e,isDrilldown:t}})}function o(e,t,i){var r=t.layout;var o=n.getValue(r,t.ext.options.hyperCubePath||"",r);var f=n.getValue(i,t.ext.options.hyperCubePath||"",i);return"map"===r.visualization?a(e,r,i):"filterpane"===r.visualization?l(e,r):"table"===r.visualization?u(e,r,i):"pivot-table"===r.visualization?c(e,r,i):o.qHyperCube?s(e,o,f):null}function s(t,n,i){var o,s=[];for(o=0;o<n.qHyperCube.qDimensionInfo.length;o++)s.push(r(t,i.qHyperCubeDef.qDimensions[o].qLibraryId,n.qHyperCube.qDimensionInfo[o]));return e.all(s)}function a(t,n,i){var o,s=[];for(o=0;o<n.layers.length;o++)s.push(r(t,i.layers[o].qHyperCubeDef.qDimensions[0].qLibraryId,n.layers[o].qHyperCube.qDimensionInfo[0]));return e.all(s)}function l(n,i){var o=[];i.qChildList.qItems.forEach(function(i){o.push(t.get(i.qInfo.qId).then(function(t){return e.all({layout:t.getLayout(),properties:t.getProperties()}).then(function(e){return r(n,e.properties.qListObjectDef.qLibraryId,e.layout)})}))});return e.all(o)}function u(t,n,i){var o,s=[],a;for(o=0;o<n.qHyperCube.columnOrder.length;o++){a=n.qHyperCube.columnOrder[o];a<n.qHyperCube.qDimensionInfo.length&&s.push(r(t,i.qHyperCubeDef.qDimensions[a].qLibraryId,n.qHyperCube.qDimensionInfo[a]))}return e.all(s)}function c(t,n,i){var o,s=[],a;for(o=0;o<n.qHyperCube.qEffectiveInterColumnSortOrder.length;o++){a=n.qHyperCube.qEffectiveInterColumnSortOrder[o];a>-1&&s.push(r(t,i.qHyperCubeDef.qDimensions[a].qLibraryId,n.qHyperCube.qDimensionInfo[a]))}return e.all(s)}function f(e,t,n){return i(e,"measure",t).then(function(e){return{title:n,description:e}})}function d(t,i,r){var o=i.layout;var s=n.getValue(o,i.ext.options.hyperCubePath||"",o);var a=n.getValue(r,i.ext.options.hyperCubePath||"",r);return"map"===o.visualization?h(t,o,r):"filterpane"===o.visualization?e.resolve():"table"===o.visualization?v(t,o,r):s.qHyperCube?p(t,s,a):null}function p(t,n,i){var r,o=[];for(r=0;r<n.qHyperCube.qMeasureInfo.length;r++)o.push(f(t,i.qHyperCubeDef.qMeasures[r].qLibraryId,n.qHyperCube.qMeasureInfo[r].qFallbackTitle));return e.all(o)}function h(t,n,i){var r,o,s=[];for(o=0;o<n.layers.length;o++)for(r=0;r<n.layers[o].qHyperCube.qMeasureInfo.length;r++)s.push(f(t,i.layers[r].qHyperCubeDef.qMeasures[0].qLibraryId,n.layers[r].qHyperCube.qMeasureInfo[r].qFallbackTitle));return e.all(s)}function v(t,n,i){var r,o=[],s;for(r=0;r<n.qHyperCube.columnOrder.length;r++){s=n.qHyperCube.columnOrder[r];if(s>=n.qHyperCube.qDimensionInfo.length){s-=n.qHyperCube.qDimensionInfo.length;o.push(f(t,i.qHyperCubeDef.qMeasures[s].qLibraryId,n.qHyperCube.qMeasureInfo[s].qFallbackTitle))}}return e.all(o)}function m(t,n,i){return e.all({title:t.layout.showTitles?t.layout.title:null,description:t.layout.descriptionExpression||i.qMetaDef.description,dimensions:o(n,t,i),measures:d(n,t,i)})}function g(e){return e.layout.qExtendsId?e.model.app.getObject(e.layout.qExtendsId).then(function(t){return t.getProperties().then(function(n){return m(e,t,n)})}):e.model.getEffectiveProperties().then(function(t){return m(e,e.model,t)})}return{createObjectInfo:g}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{type:"array",component:"sorting",translation:"properties.sorting",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",allowMove:true,schemaIgnore:true,items:{dimensions:{type:"items",component:"expandable-items",ref:"qHyperCubeDef.qDimensions",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function e(t,n){if(t.qDef.autoSort)return n.autoSortDimension(t).then(function(){})}},dimension:{component:"sorting-dimension",type:"items",ref:"",sortingItems:{expression:true,frequency:false,numeric:true,ascii:true}}}},measures:{type:"items",component:"expandable-items",grouped:true,ref:"qHyperCubeDef.qMeasures",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function e(t,n){if(t.qDef.autoSort)return n.autoSortMeasure(t).then(function(){})}},measure:{component:"sorting-measure",ref:"",sortingItems:{numeric:true,ascii:true}}}}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(237),n(417)],r=function(e,t,n){var i={type:"items",items:{autoMinMax:{ref:"measureAxis.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},minMax:{type:"string",component:"dropdown",ref:"measureAxis.minMax",options:[{translation:"properties.axis.min",value:"min"},{translation:"Common.Max",value:"max"},{translation:"properties.axis.minMax",value:"minMax"}],defaultValue:"min",show:function e(t){return t.measureAxis&&!t.measureAxis.autoMinMax}},min:{ref:"measureAxis.min",translation:"properties.axis.min",expression:"optional",type:"number",show:function e(t){return t.measureAxis&&["min","minMax"].contains(t.measureAxis.minMax)&&!t.measureAxis.autoMinMax},invalid:function e(t){if(t.measureAxis&&"minMax"===t.measureAxis.minMax)return t.measureAxis.min>=t.measureAxis.max;return false}},max:{ref:"measureAxis.max",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:function e(t){return t.measureAxis&&["max","minMax"].contains(t.measureAxis.minMax)&&!t.measureAxis.autoMinMax},invalid:function e(t){if(t.measureAxis&&"minMax"===t.measureAxis.minMax)return t.measureAxis.min>=t.measureAxis.max;return false}}}};var r=[{value:"all",translation:"properties.axis.show.all"},{value:"labels",translation:"properties.axis.show.labels"},{value:"title",translation:"properties.axis.show.title"},{value:"none",translation:"Common.None"}];var o=[{value:2,translation:"properties.gridLine.wide"},{value:1,translation:"properties.gridLine.medium"},{value:.5,translation:"properties.gridLine.narrow"}];var s={type:"items",items:{show:{type:"string",component:"dropdown",ref:"dimensionAxis.show",translation:"properties.axis.labelsAndTitle",options:r,defaultValue:"all",snapshot:{title:function t(n){return e.get("properties."+this.getXYAxis(n)+"Axis")},getXYAxis:function e(t){return n.isVertical(t)?"x":"y"},group:false,tid:function e(t){return"property-"+this.getXYAxis(t)+"Axis"}}},label:{type:"string",component:"dropdown",ref:"dimensionAxis.label",translation:"properties.axis.labelOrientation",options:[{value:"auto",translation:"Common.Auto"},{value:"horizontal",translation:"Common.Horizontal"},{value:"tilted",translation:"properties.labels.tilted"}],defaultValue:"auto",show:function e(i,r,o){return n.isVertical(o.layout)&&i.dimensionAxis&&["all","labels"].contains(i.dimensionAxis.show)&&!t.isContinuousChart(o.layout)}},dock:n.getAxisDockProperties("dimensionAxis",{major:true})}};return{measureAxis:{type:"items",label:e.get("properties.yAxis"),grouped:true,items:{axis:{type:"items",items:{show:{type:"string",component:"dropdown",ref:"measureAxis.show",translation:"properties.axis.labelsAndTitle",options:r,defaultValue:"all"},dock:n.getAxisDockProperties("measureAxis"),spacing:{ref:"measureAxis.spacing",translation:"properties.axis.scale",type:"number",component:"dropdown",defaultValue:1,options:o,show:function e(t){return t.measureAxis&&"none"!==t.measureAxis.show}}}},minMax:i}},flippableMeasureAxis:{uses:"axis.measureAxis",label:function t(i,r){var t,o="x",s=n.getMeasures(i,r).map(function(e){return e.qFallbackTitle}).join(", ");n.isVertical(r.layout)&&(o="y");t=s?e.get("properties."+o+"AxisWithInfo",[s]):e.get("properties."+o+"Axis");return t},items:{axis:{type:"items",items:{show:{snapshot:{title:function t(n){return e.get("properties."+this.getXYAxis(n)+"Axis")},getXYAxis:function e(t){return n.isVertical(t)?"y":"x"},group:false,tid:function e(t){return"property-"+this.getXYAxis(t)+"Axis"}}},dock:{options:function e(t,i,r){var o,s;if(n.isVertical(i.layout)){o=r.yMirrorMode?"properties.dock.right":"properties.dock.left";s=r.yMirrorMode?"properties.dock.left":"properties.dock.right"}else{o="Common.Bottom";s="Common.Top"}return[{value:"near",translation:o},{value:"far",translation:s}]}}}}}},dimensionAxis:{type:"items",label:n.dimensionAxisLabelFn,grouped:true,items:{continuousGroup:{type:"items",items:{auto:{ref:"dimensionAxis.continuousAuto",translation:"properties.axis.continuous",type:"boolean",component:"switch",defaultValue:true,undefinedValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},preferContinuous:{type:"boolean",ref:"preferContinuousAxis",translation:"properties.axis.preferContinuous",defaultValue:true,undefinedValue:false,show:function e(t){return!t.dimensionAxis.continuousAuto},readOnly:function e(n,i,r){return!t.canBeContinuousChart(r.layout)}},miniChart:{type:"boolean",ref:"showMiniChartForContinuousAxis",translation:"properties.showMiniChart",defaultValue:true,undefinedValue:true,show:function e(n,i,r){return t.isContinuousChart(r.layout)}}}},othersGroup:s}},picasso:{dimensionAxis:{type:"items",label:n.dimensionAxisLabelFn,items:{othersGroup:s}},measureAxis:{type:"items",uses:"axis.flippableMeasureAxis"}}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={strokeWidth:{show:false,ref:"style.strokeWidth",type:"number",expression:"optional",defaultValue:0,translation:"LayerStyleEditor.style.strokeWidth"},strokeColor:{show:false,ref:"style.strokeColor",translation:"LayerStyleEditor.style.strokeColor",type:"object",component:"color-picker",dualOutput:true,defaultValue:function e(){return{index:-1,color:"#205891"}}},width:{show:false,ref:"style.width",type:"number",expression:"optional",defaultValue:.7,translation:"LayerStyleEditor.style.barWidth"}};return{box:{type:"items",components:"items",items:e}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(198)],r=function(e){var t;function n(e,t){if(t){if(e[t]){if(e[t].qHyperCube)return t+".qHyperCube";if(e[t].qListObject)return t+".qListObject"}if(-1!==t.indexOf("Def",t.length-3))return t.slice(0,t.length-3);return t}return e.qHyperCube?"qHyperCube":"qListObject"}t=e.extend("GenericApi",{init:function e(t,i){var r=n(t.layout,i);this._super(t,"/"+r+"Def");this.isHyperCube=-1!==this.dataPath.indexOf("qHyperCube");this.cacheCube.setMethodName(this.isHyperCube?"getHyperCubeData":"getListObjectData")},getBackendApi:function e(n){return new t(this.model,n)},getProperties:function e(){return this.model.getProperties()},setProperties:function e(t){return this.model.setProperties(t)},applyPatches:function e(t,n){return this.model.applyPatches(t,n)},clearSoftPatches:function e(){return this.model.clearSoftPatches()},save:function e(){return this.model.setProperties(this.model.properties)},clearSelections:function e(){return this.model.resetMadeSelections()},updateCache:function e(t){if(t&&t[this.dataPath]){this.cacheCube.set(t[this.dataPath].qDataPages);this.cacheCube.setCubeSize(t[this.dataPath].qSize)}else this.cacheCube.clear()},getData:function e(t){var n=this.cacheCube.getData(t),i=this;n.then(function(e){i.model.layout[i.dataPath].qDataPages.push(e[0])});return n},getDataRow:function e(t){var n=this.model.layout[this.dataPath];if(n){var i=n.qDataPages.length;for(var r=0;r<i;r++){var o=n.qDataPages[r];if(t>=o.qArea.qTop&&t<o.qArea.qTop+o.qArea.qHeight)return o.qMatrix[t-o.qArea.qTop]}}return null},selectValues:function e(t,n,i){if(this.isHyperCube)return this.model.selectHyperCubeValues(this.path,t,n,i);return this.model.selectListObjectValues(this.path,n,i)},select:function e(t,n,i){return this.selectValues(n,t,i)},getReducedData:function e(t,n,i){if(this.isHyperCube)return this.model.getHyperCubeReducedData(this.path,t,n,i||"D1");return null},selectRange:function e(t,n,i){n=!!n;i=i||[];return this.model.rangeSelectHyperCubeValues(this.path,t,i,n)},search:function e(t){if(this.isHyperCube)return null;return this.model.searchListObjectFor(this.path,t)},abortSearch:function e(){if(this.isHyperCube)return null;return this.model.abortListObjectSearch(this.path)},acceptSearch:function e(t){if(this.isHyperCube)return null;return this.model.acceptListObjectSearch(this.path,t)},getPivotData:function e(t){if(this.isHyperCube)return this.model.getHyperCubePivotData(this.path,t);return null},getStackData:function e(t,n){if(this.isHyperCube)return this.model.getHyperCubeStackData(this.path,t,n||1e3);return null},expandTop:function e(t,n,i){return this.model.expandTop(this.path,t,n,i||false)},expandLeft:function e(t,n,i){return this.model.expandLeft(this.path,t,n,i||false)},collapseTop:function e(t,n,i){return this.model.collapseTop(this.path,t,n,i)},collapseLeft:function e(t,n,i){return this.model.collapseLeft(this.path,t,n,i)}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(90),n(330)],r=function(e,t,n){var i,r={enabled:true,debouncing:{enabled:true,delay:50}};i=e.extend({init:function e(t,i,r){this.model=t;this.responseProperty=i;this.options={};this.setOptions({});this.setPath(r);this.throttle=new n;this.throttle.Send.bind(function(e,t){o.model[o.method](o.path,e).then(function(e){t.resolve(e)},function(){t.reject()})});var o=this;this._modelBinding=function(){o.clear()};this.model.Invalidated.bind(this._modelBinding)},setMethodName:function e(t){this.method=t},setPath:function e(t){this.path=t},setOptions:function e(n){this.options=t.extend(true,{},r,this.options,n);this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function e(){this.throttle&&this.throttle.clear()},destroy:function e(){this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle},set:function e(){this.clear()},getData:function e(t){if(!this.enabled)return this.model[this.method](this.path,t);return this.throttle.queue(t)}});return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div style="height: 100%; position: relative;"></div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){return{quarantine:t,unquarantine:n};function t(t){var n=e.getValue(t,"properties.qHyperCubeDef.qMeasures",[]);var i=e.getValue(t,"properties.qHyperCubeDef.qDimensions",[]);n.forEach(r.bind(null,t,"measures"));i.forEach(r.bind(null,t,"dimensions"))}function n(t){var n=e.getValue(t,"qProperty.qHyperCubeDef.qMeasures",[]);var i=e.getValue(t,"qProperty.qHyperCubeDef.qDimensions",[]);n.forEach(o.bind(null,t,"measures"));i.forEach(o.bind(null,t,"dimensions"))}function i(e){return e&&e.qCond&&e.qCond.qv}function r(t,n,r){var o=e.getValue(r,"qDef.cId");var s="qLayoutExclude.quarantine.conditionalShowHide."+n;if(!i(r.qCalcCondition))return;if(!o){o=e.generateId();e.setValue(r,"qDef.cId",o)}e.setValue(t.properties,s+"."+o,r.qCalcCondition);delete r.qCalcCondition}function o(t,n,r){var o=e.getValue(r,"qDef.cId");var s="qProperty.qLayoutExclude.quarantine.conditionalShowHide."+n;if(!o)return;var a=e.getValue(t,s+"."+o);if(i(a)){r.qCalcCondition=a;e.setValue(t,s+"."+o,void 0)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n(448);var i=s(n(49));var r=s(n(100));var o=s(n(333));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e;var t;var n=function e(){};return{getCurrentId:function e(){return r.default.getCurrentTheme()},getApplied:function i(){var s=r.default.getCurrentTheme();if(t&&e===s)return t;n();e=s;t=new Promise(function(e,t){n=t;r.default.getThemeJSON(s).then(function(t){e(new o.default(s,t))})});return t}}}();var l=function e(t){return t.then(function(e){var t=e.default||e;if("function"===typeof t)return t({flags:i.default,theme:a});return t})};t.default=l;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=i;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var t=["jqueryoutside","jqueryui","jqueryuitouch","eventable","sirtrevor","angular-aria","crossroads","signals","d3","element-queries","resize-sensor","jszip","filesaver","sha256","dropzone","handlebars","angular-vs-repeat","bodymovin","hammerjs","angular-leonardo-ui","enigma-sense-utilities","dragoman","sensei-codearea","qlikmetrics","engine-definition","sense-themes-default","guid","pubsub","xsrfplugin","widget.","general.","core.","client.","objects.","storytelling.","scripteditor.","dev-hub.","cm.","@qlik/codemirror","extensions.qliktech","apis/","assets/","chart/","js/","translate/","md-components/"];return t.some(function(t){return 0===e.indexOf(t)})}e.exports=t.default},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(89)],r=function(e,t){var n=e.extend({mounted:function e(){},paint:function e(){return t.resolve()},resize:function e(t,n){return this.paint(t,n)},updateData:function e(){return t.resolve()},beforeDestroy:function e(){}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(102),n(629)],r=function(e,t,n){function i(t,n,i,r,o,s,a){if(!t.waitFor)return e.resolve();return t.waitFor.then(function(){return t.field[n].apply(t.field,[i,r,o,s,a].filter(function(e){return"undefined"!==typeof e}))})}function r(n,i,r){var o=this;o.qapp=n;o.fldname=i;o.statename=r;o.rows=[];if(o.qapp.model.session){t.create(o,"OnData");var s=new e;o.waitFor=s.promise;o.qapp.model.waitForOpen.promise.then(function(){var e=n.model.enigmaModel||n.model;e.getField(i,r||"$").then(function(e){o.field=e;s.resolve()}).catch(function(){})})}}r.prototype.clear=function(){return i(this,"clear")};r.prototype.lock=function(){return i(this,"lock")};r.prototype.unlock=function(){return i(this,"unlock")};r.prototype.clearOther=function(e){return i(this,"clearAllButThis",e||false)};r.prototype.selectAll=function(e){return i(this,"selectAll",e||false)};r.prototype.selectExcluded=function(e){return i(this,"selectExcluded",e||false)};r.prototype.selectAlternative=function(e){return i(this,"selectAlternative",e||false)};r.prototype.selectPossible=function(e){return i(this,"selectPossible",e||false)};r.prototype.toggleSelect=function(e,t){return i(this,"toggleSelect",e,t||false)};r.prototype.selectMatch=function(e,t){return i(this,"select",e,t||false)};r.prototype.select=function(e,t,n){return i(this,"lowLevelSelect",e,t||false,n||false)};r.prototype.selectValues=function(e,t,n){var r=[];e.forEach(function(e){"number"===typeof e?r.push({qIsNumeric:true,qNumber:e}):"string"===typeof e?"undefined"===e?r.push({qText:""}):r.push({qText:e}):r.push(e)});return i(this,"selectValues",r,t||false,n||false)};r.prototype.getData=function(e){if(this.requestActive)return this;this.requestActive=true;var t=this;var i=function i(){t.qapp.createGenericObject({qListObjectDef:{qStateName:t.statename?t.statename:"$",qDef:{qFieldDefs:[t.fldname]},qFrequencyMode:e&&e.freq||"V",qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:e&&e.rows||200,qWidth:1}]}},function(e){t.rows.length=0;e.qListObject.qDataPages.forEach(function(e){e.qMatrix.forEach(function(e){t.rows.push(new n(e[0],t))})});t.rowCount=e.qListObject.qDimensionInfo.qCardinal;t.stateCounts=e.qListObject.qDimensionInfo.qStateCounts;t.requestActive=false;t.genericObject&&t.OnData.emit()}).then(function(e){t.genericObject=e;t.OnData.emit()})};this.genericObject?this.genericObject.close().then(function(){delete t.genericObject;i()}):i();return this};r.prototype.getMoreData=function(){if(this.requestActive)return this;if(this.rowCount<=this.rows.length)return this;this.requestActive=true;var e=this,t={qTop:this.rows.length,qLeft:0,qWidth:1,qHeight:50};e.genericObject?e.genericObject.getListObjectData("/qListObjectDef",[t]).then(function(t){t[0].qMatrix.forEach(function(t){e.rows.push(new n(t[0],e))});e.requestActive=false;e.OnData.emit()}):e.requestActive=false;return this};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t){Object.defineProperties(this,{qText:{value:e.qText},qElemNumber:{value:e.qElemNumber},qState:{value:e.qState},field:{value:t}});Number.isNaN(+e.qNum)||Object.defineProperties(this,{qNum:{value:e.qNum}});e.qFrequency&&Object.defineProperties(this,{qFrequency:{value:e.qFrequency}})}e.prototype.select=function(e,t){return this.field.select([this.qElemNumber],e||false,t||false)};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(173),n(132)],r=function(e,t){function n(e){this.app=e}n.prototype.create=function(n,i,r){var o=this;return o.app.waitForOpen.promise.then(function(){return t.get(o.app).then(function(t){return t.getLayout().then(function(){var s=t.layout.qSelectionObject?t.layout.qSelectionObject.qSelections:null;var a,l={currentSelectFields:[],currentSelectCount:0};if(s&&s.length>0){l.currentSelectCount=s.length;for(a=0;a<s.length;a++)l.currentSelectFields.push(s[a].qField)}var u="";for(a=0;a<l.currentSelectCount;a++){a>0&&(u+=", ");u+=l.currentSelectFields[a]}var c={qMetaDef:{title:n,description:i},selectionFields:u};r&&(c.sheetId=r);return e.create(c,o.app)})})})};n.prototype.apply=function(t){var n=this;return n.app.waitForOpen.promise.then(function(){return e.apply(t,n.app)})};n.prototype.remove=function(t){var n=this;return n.app.waitForOpen.promise.then(function(){return e.remove(t,n.app)})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){return e.waitForOpen.promise.then(function(){return e.enigmaModel})}function t(e,t){this.app=e;this.qapp=t}function n(e){var t="string"===typeof e?{qName:e}:e;t.qInfo=t.qInfo||{};t.qInfo.qType=t.qInfo.qType||"variable";return t}t.prototype.create=function(t){var i=n(t);return e(this.app).then(function(e){return e.createVariableEx(i)})};t.prototype.createSessionVariable=function(t){var i=n(t);return e(this.app).then(function(e){return e.createSessionVariable(i)})};t.prototype.get=function(t){return e(this.app).then(function(e){return e.getVariableById(t)})};t.prototype.getByName=function(t){return e(this.app).then(function(e){return e.getVariableByName(t)})};t.prototype.setStringValue=function(t,n){return e(this.app).then(function(e){return e.getVariableByName(t)}).then(function(e){return e.setStringValue(n).then(function(){return e.getLayout()})})};t.prototype.setNumValue=function(t,n){return e(this.app).then(function(e){return e.getVariableByName(t)}).then(function(e){return e.setNumValue(n).then(function(){return e.getLayout()})})};t.prototype.setContent=function(e,t){console.warn("qlik.app.variable.setContent() is deprecated since 2.1, use setNumValue method or setStringValue method instead.");return this.setStringValue(e,t+"")};t.prototype.getContent=function(e,t){var n=this.qapp;var i=t?function(e){t(e,n)}:function(){};return this.getByName(e).then(function(e){if(!e)return e;return e.getLayout().then(function(e){var t={qContent:{qString:e.qText,qIsNum:!Number.isNaN(+e.qNum)}};i(t,n);return t})})};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(124),n(450),n(158)],r=function(e,t,n){function i(e){this.qapp=e}i.prototype.get=function(i){var r=this;return e.load().then(function(){return r.qapp.getObject(i).then(function(e){return n.getExtensionSupport(e).then(function(n){return new t(r.qapp,e,n)})})})};i.prototype.create=function(i,r,s){var a=this;return e.load().then(function(){var e=r&&r.layout&&(r.layout.visualization||r.layout.qInfo&&r.layout.qInfo.qType);var l="object"===o(r)&&e?n.convertDefinition(r,i,e,s):n.createDefinition(a.qapp,i,r,s);return l.then(function(e){return a.qapp.createGenericObject(e).then(function(e){return n.getExtensionSupport(e).then(function(n){e._expendable=true;return new t(a.qapp,e,n)})})})})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){var e={};Object.defineProperty(e,"empty",{value:"00000000-0000-0000-0000-000000000000",writable:false});e.generateId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})};return e}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(635),n(230),n(97)],r=function(e,t,n,i,r){var o=[],s={endAnnotation:null},a=".qv-object-nav .lui-icon--camera";function l(i,o,a,l){v();s.endAnnotation=o;var c=t.getService("luiPopover"),f;var g=c.show({template:n,controller:["$scope","$element",function(t,n){f=t;t.annotation={text:""};t.active=true;t.focused=false;t.isSaveDisabled=l;t.save=function(){d(g.currentAnnotationId,t.annotation.text);t.close()};t.closeDialog=function(){t.annotation.text="";t.focused=false;u();t.close()};i.on("mouseenter.annotations",function(){p(t)});i.on("mouseleave.annotations",function(){h(t)});n.on("mouseenter.dialog",function(){p(t)});n.on("mouseleave.dialog",function(){h(t)});n.on("click.dialog",function(n){var i=e(n.target);i.is(".lui-textarea")&&(t.focused=true)});r.on("start.storytellingAnnotate",t.closeDialog);t.$on("$destroy",function(){r.off("start.storytellingAnnotate",t.closeDialog);e(document).off("keydown.annotations");n.off("mouseenter.dialog");n.off("mouseleave.dialog");n.off("click.dialog")});function o(){e(document).on("keydown.annotations",function(e){s(e)&&h(t,1)})}function s(e){var t=(e.ctrlKey||e.metaKey)&&!e.altKey;return t&&(37===e.which||39===e.which)}o();a&&h(t)}],alignTo:i[0]});g.closed.then(function(){m();d(g.currentAnnotationId,f.annotation.text,f);f.focused=false;f.close()});return g}function u(t){t||(t=e(a));if(t.length&&s){s.endAnnotation();for(var n=o.length;n>=0;n--)clearTimeout(o.pop());t.off("mouseenter.annotations");t.off("mouseleave.annotations");m()}}function c(e){return i.get(e)}function f(e,t){return e.getProperties().then(function(n){n.qMetaDef.annotation=t;e.setProperties(n)})}function d(t,n){var i=e(a);c(t).then(function(e){f(e,n).then(function(){u(i)})});t||u(i)}function p(e){e.active=true;for(var t=o.length;t>=0;t--)clearTimeout(o.pop())}function h(t,n){var i=e.isNumeric(n)?n:4e3;if(false===t.focused){t.active=false;t.focused=false;o.push(setTimeout(function(){t.$apply(function(){t.closeDialog()})},i))}}function v(){e(a).parents("#grid").append("<div class='annotations-blocker'></div>")}function m(){setTimeout(function(){e("#grid").children(".annotations-blocker").remove()})}t.service("annotationsDialog",function(){return{openDialog:l,closeDialog:u}});return{getSnapshotModel:c,saveAnnotationInModel:f}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover tid="snapshot-annotation">\n\t<lui-popover-header >\n\t\t<lui-popover-title q-translation="Storytelling.Snapshot.AnnotationTitle"></lui-popover-title>\n\t</lui-popover-header>\n\t<lui-popover-body>\n\t\t<div class="form">\n\t\t<textarea class="lui-textarea" maxlength="255" rows="3" ng-model="annotation.text"\n\t\t\t\t  q-placeholder="Storytelling.Snapshot.AnnotationHint"></textarea>\n\t\t</div>\n\t</lui-popover-body>\n\t<lui-popover-footer>\n\t\t<button class="lui-button  lui-button"  ng-click="closeDialog();" q-translation="Common.Cancel" tid="cancel-annotation-btn"></button>\n\t\t<button class="lui-button  lui-button" ng-click="save();"  q-translation="Common.Save" ng-disabled="isSaveDisabled()" tid="save-annotation-btn"></button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t){e.exports='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6); visibility:hidden;" ng-style="style">\n <qv-object ng-if="data" object="data.object" model="data.model" options="data.options"></qv-object>\n</div>'},function(e,t){e.exports='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6);visibility:hidden;" ng-style="style">\n  <div ng-repeat="cell in cells" style="position:absolute;" ng-style="cell.style">\n     <qv-object object="cell.data.object" model="cell.data.model" options="cell.data.options"></qv-object>\n  </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(639),n(640),n(50),n(127),n(49),n(145)],r=function(e,t,n,i,r,o,s){var a={scope:{title:"=",sheets:"=",isSheet:"=",isGrid:"=",confirmDisabled:"=",sheetInformation:"=",selectSheet:"="},controller:["$scope",function(t){t.sections={approved:{show:!!t.sheets.approvedSheets.length,showHeaderLine:true,expand:true},myPublished:{show:!!t.sheets.myPublishedSheets.length,showHeaderLine:true,expand:true},myPrivate:{show:!!t.sheets.privateSheets.length,showHeaderLine:true,expand:true},community:{show:!!t.sheets.communitySheets.length,showHeaderLine:true,expand:true}};t.getBaseTitle=function(){return s.getFlag("AOSHARE")?"AppOverview.Content.PublicSheets":"AppOverview.Content.ApprovedSheets"};t.cancel=function(){t.destroyComponent()};t.sheetClicked=function(e){t.selectSheet(e);t.destroyComponent()};t.isSmallDeviceListner=function(){t.destroyComponent()};t.noSheets=!(t.sheets.approvedSheets.length||t.sheets.myPublishedSheets.length||t.sheets.privateSheets.length||t.sheets.communitySheets.length);t.toggleCollapse=function(n,i){n&&n.preventDefault&&n.preventDefault();t.sections[i].expand=!t.sections[i].expand;n&&t.sections[i].expand&&setTimeout(function(){o.scrollElmentIntoView(e(n.currentTarget).closest("div:not(.qs-tb)").find("ul li").first(),".av-content-container")})};t.$on("$destroy",function(){r.ViewChanged.unbind(t.isSmallDeviceListner)});r.ViewChanged.bind(t.isSmallDeviceListner)}]};t.directive("embeddedSheetItem",function(){return{restrict:"E",replace:true,template:i}});function l(e){var i={title:e.title,sheets:e.sheets,selectSheet:e.selectSheet,isSheet:true,isGrid:true,confirmDisabled:true,sheetInformation:e.sheetInformation};var r=t.getService("luiDialog");return r.show({template:n,controller:a.controller,input:i})}return{show:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog class="qv-appview" id="select-sheet-dialog">\n\t<lui-dialog-header>\n\t\t<lui-popover-title q-translation="SheetDialog.SelectSheet"></lui-popover-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body>\n\t\t<div class="av-container">\n\t\t\t<div class="av-t-c">\n\t\t\t\t<div class="av-content-container">\n\t\t\t\t\t\x3c!-- Show information about sheets if there are any present --\x3e\n\t\t\t\t\t<div ng-if="!noSheets && sheetInformation" class="embedded-info">\n\t\t\t\t\t\t<span class="lui-icon lui-icon--info"></span>\n\t\t\t\t\t\t<span q-translation="{{sheetInformation}}"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t\x3c!-- Show message if no sheets are available --\x3e\n\t\t\t\t\t\t<h2 ng-if="noSheets" class="qv-ao-h2">\n\t\t\t\t\t\t\t<div class="err-text" q-translation="AppOverview.Error.NoSheets"></div>\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<div ng-if="sections.approved.show">\n\t\t\t\t\t\t\t\x3c!-- Approved Header --\x3e\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header approved" tid="ApprovedTitle" ng-click="toggleCollapse($event, \'approved\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.approved.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.approved.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="{{getBaseTitle()}}"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.approvedSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Approved Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-approved qv-grid" ng-if="sections.approved.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.approvedSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.myPublished.show">\n\t\t\t\t\t\t\t\x3c!-- My Published Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line my-published" ng-if="sections.myPublished.showHeaderLine"></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header my-published" tid="MyPublishedTitle" ng-click="toggleCollapse($event, \'myPublished\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.myPublished.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.myPublished.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.MyPublishedSheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.myPublishedSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- My Published Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-my-published qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.myPublished.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.myPublishedSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.myPrivate.show">\n\t\t\t\t\t\t\t\x3c!-- Private Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line private" ng-if="sections.myPrivate.showHeaderLine "></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header private" tid="PrivateTitle" ng-click="toggleCollapse($event, \'myPrivate\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.myPrivate.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\tq-title-translation="{{ sections.myPrivate.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.MySheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.privateSheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Private Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-private qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.myPrivate.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.privateSheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div ng-if="sections.community.show">\n\t\t\t\t\t\t\t\x3c!-- Community Header --\x3e\n\t\t\t\t\t\t\t<div class="section-line community" ng-if="sections.community.showHeaderLine"></div>\n\t\t\t\t\t\t\t<div class="qs-tb">\n\t\t\t\t\t\t\t\t<h1 class="header community" tid="CommunityTitle" ng-click="toggleCollapse($event, \'community\')">\n\t\t\t\t\t\t\t\t\t<span class="{{ sections.community.expand ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }} lui-icon"\n\t\t\t\t\t\t\t\t\t\t  q-title-translation="{{ sections.community.expand ? \'AppOverview.Collapse\' : \'AppOverview.Expand\' }}"></span>\n\t\t\t\t\t\t\t\t\t<span class="section-title" q-translation="AppOverview.Content.CommunitySheets"></span><span tid="nmbInSection" class="qs-font-n"> ({{sheets.communitySheets.length}})</span>\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\x3c!-- Community Sheets --\x3e\n\t\t\t\t\t\t\t<ul class="qv-community qv-grid"\n\t\t\t\t\t\t\t\tng-if="sections.community.expand">\n\t\t\t\t\t\t\t\t<embedded-sheet-item ng-repeat="item in sheets.communitySheets track by item.qInfo.qId"></embedded-sheet-item>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t){e.exports='<li class="qv-content-li" ng-class="{\'qv-active-item\': item.isActive}">\n\t<div class="qv-content-item"\n\t\t ng-click="sheetClicked(item)" tid="sheet.private">\n\t\t<div qv-ao-thumb\n\t\t\t item="item"\n\t\t\t class="qv-thumb-wrap"\n\t\t\t issheet="isSheet"\n\t\t\t thumblayout="item.qData.thumbnail"\n\t\t\t editmode="false"></div>\n\n\t\t<div class="qv-details-wrap">\n\t\t\t<div class="qv-details-name">\n\t\t\t\t<div class="q-ellipsis" title="{{item.qData.labelExpression || item.qData.title}}">{{item.qData.labelExpression || item.qData.title}}</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</li>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(642)],r=function(e,t){e.directive("qvModalDialog",function(){return{scope:{id:"@qvId",confirm:"&qvConfirm",cancel:"&qvCancel"},restrict:"E",transclude:true,replace:true,template:t,link:function e(){}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="modal-container qui-modalbackground-centered" qv-tabbable-container>\n\t<div id="{{id}}"\n\t\t class="modal-frame qui-delayedModal"\n\t\t ng-transclude></div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(644),n(645)],r=function(e,t,n){e.directive("qvConfirmCancelFooter",function(){return{scope:{confirmLabel:"@qvConfirmLabel",confirm:"&qvConfirm",confirmDisabled:"=qvConfirmDisabled",cancel:"&qvCancel",cancelDisabled:"=qvCancelDisabled"},restrict:"E",replace:true,template:function e(i,r){var o=r.hasOwnProperty("light");return o?n:t}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<footer class="dm-footer">\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n'},function(e,t){e.exports='<footer class="dm-footer">\n    <lui-button qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11)],r=function(e){var t=function t(n,i,r,o){var s,a,l,u,c,f,d,p;if(o){c=o.replace(/[^-\d.]/g,"");u=o.replace(/[-\d.]/g,"")}u=u||"pt";c=c||12;r&&-1==n.indexOf("font")&&(n="<font>"+n+"</font>");var h=e(e.parseHTML(n));var v=h.filter("font").add(h.find("font"));var m=h.filter("div").add(h.find("div"));var g="BR";h.each(function(e,t){t.tagName&&t.tagName.toUpperCase()===g.toUpperCase()&&(h[e]=document.createElement("div"))});p=u;f=1;switch(u){case"px":f=.75;p="pt";break}d=c*f;function b(e,t){var n=e.toFixed(2);return n+t}v.each(function(t,n){s=e(n);l=n.getAttribute("size")||"3";a=1;switch(l){case"1":a=.5;break;case"2":a=.8;break;case"3":a=1;break;case"4":a=1.5;break;case"5":a=2;break;case"6":a=3;break}s.css({"font-size":b(d*a,p)});s.removeAttr("size")});m.each(function(t,n){s=e(n);var i=n.getAttribute("align");if(i){s.css({"text-align":"inherit"===i?"left":i});s.removeAttr("align")}else"inherit"===s.css("text-align")&&s.css({"text-align":"left"})});var y="#545352";var x=b(d,p);n=h.wrapAll('<div style="color:'+y+"; font-size:"+x+';">').parent().wrapAll("<div>").parent().html();return n};return{enrichHtml:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(93),n(339),n(173),n(132),n(172)],r=function(e,t,n,i,r,o){function s(i,r,s,a){return t.getApp().then(function(e){return e.getObject(i)}).then(function(t){return t.getLayout().then(function(t){var i=o.sortSlidesByRank(t.qChildList.qItems.slice());if(!i.length)return{layout:t};var l=[];return i.map(function(e){return n.snapshot.bind(this,e.qInfo.qId,r,s,a)}).reduce(function(e,t){return e.then(function(e){e&&l.push(e);return t()})},e.resolve()).then(function(e){l.push(e);return{layout:t,slides:l}})})})}return{snapshot:function e(t,n,o,a){return r.get().then(function(e){return e.getLayout().then(function(e){return i.create({title:"",selectionFields:e.qSelectionObject.qSelections}).then(function(e){return s(t,n||{},o,a).then(function(n){i.apply(e.id).then(function(){i.remove(e.id)});return{id:t,type:"story",snapshot:null,area:null,children:n.slides,title:n.layout.qMeta.title||""}})})})})}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(102)],r=function(e){function t(e,t){Object.defineProperties(this,{fieldName:{value:e.qField},field:{get:function e(){return i(this.parent,this.fieldName)}},qSortIndex:{value:e.qSortIndex},locked:{value:e.qLocked||false},isNumeric:{value:e.qIsNum||false},totalCount:{value:e.qTotal},selectedCount:{value:e.qSelectedCount},qStateCounts:{value:e.qStateCounts},qSelected:{value:e.qSelected},selectedValues:{value:e.qSelectedFieldSelectionInfo},notSelectedValues:{value:e.qNotSelectedFieldSelectionInfo},qSelectionThreshold:{value:e.qSelectionThreshold},qTextSearch:{value:e.qTextSearch},qRangeInfo:{value:e.qRangeInfo},parent:{value:t}})}function n(t,n,i){e.create(this,"OnData");Object.defineProperties(this,{qapp:{value:t},selections:{value:[]},stateName:{value:i||"$"}});var o=this;n.then(function(e){r(o,e);e.Validated.bind(function(){r(o,e)})})}n.prototype.clearAll=function(e){return this.qapp.clearAll(e,this.stateName)};n.prototype.lockAll=function(){return this.qapp.lockAll(this.stateName)};n.prototype.unlockAll=function(){return this.qapp.unlockAll(this.stateName)};function i(e,t){return e.qapp.field(t,e.stateName)}function r(e,n){e.selections.length=0;if(n.layout.qSelectionObject){void 0===e.backCount&&Object.defineProperties(e,{backCount:{get:function e(){return n.layout.qSelectionObject.qBackCount||0}},forwardCount:{get:function e(){return n.layout.qSelectionObject.qForwardCount||0}}});n.layout.qSelectionObject.qSelections.forEach(function(n){e.selections.push(new t(n,e))});e.OnData.emit()}}return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(100),n(341),n(162)],r=function(e,t,n){var i=new t;function r(e){this.app=e}r.prototype.save=function(t){var n=this.app;e.isValidTheme(t).then(function(i){if(!i)throw new Error("Invalid theme id");n.waitForOpen.promise.then(function(){n.getLayout().then(function(n){if(!n.permissions.update)throw new Error("permission denied");e.saveTheme(t)})})})};r.prototype.get=function(e){if(!e)return this.app.waitForOpen.promise.then(function(){return n.getProperties().then(function(e){return i.get(e.theme)})});return i.get(e)};r.prototype.getApplied=function(){return i.get(e.getCurrentTheme())};return r}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(99),n(104),n(146),n(343),n(256),n(232),n(453),n(240)],r=function(e,t,n,i,r,o,s,a,l){var u,c,f,d=7,p=250;function h(e,t){return e.components&&e.components.dataArea&&e.components.dataArea.length&&e.components.dataArea[0].chartFormatter&&(null===e.components.dataArea[0].chartFormatter.measureFormatters||null===e.components.dataArea[0].chartFormatter.measureFormatters[t])}function v(e){var t=e.getBoundingRect();return Number.isNaN(+t.x+t.y+t.width+t.height)}function m(e){return e.getDimensions().join(", ")}function g(e){return e.id+(e.parent?"-"+e.parent.id:"")}function b(){if(c){c=null;f=null}u=null}function y(e,t,n,r){if(n){var o=new i(0,0,n.rect.width,n.rect.height);e=e.intersection(o)}return{positions:[t(e.x+e.width/2,e.y,n,r),t(e.x+e.width,e.y+e.height/2,n,r),t(e.x,e.y+e.height/2,n,r),t(e.x+e.width/2,e.y+e.height,n,r)],directions:["top","right","left","bottom"]}}function x(e,t){var n,i,r,o,s=[],a,l,u;var c={positions:null,directions:null,target:null,component:null};if(this._positionAtMouse||1!==this._cssTransform.scale){n=t||e[0].interactPosition;if(n){i=this.getTransformedPoint(n.x,n.y,this.containerRect);o=e[0].getShapes();s=o.filter(function(e){return e.pointInside(i.x,i.y)});c.target=s.length?s[0]:o[0];c.directions=["top","right","left","bottom"];c.positions=[n]}}else{e.forEach(function(e){var n=null;var l=null;o=e.getShapes();if(e.calculateTooltipPosition&&e.tooltipShape){l=this.components[e.tooltipShapeComponent]?this.components[e.tooltipShapeComponent][0]:void 0;r=e.getShapeBounds(e.tooltipShapeComponent,l&&l.chartScale||1);if(r){c.target=s.length?s[0]:o[0];c.component=l}}else{if(e.tooltipShape&&!v(e.tooltipShape)){s=[e.tooltipShape];c.component=this.components[e.tooltipShapeComponent]?this.components[e.tooltipShapeComponent][0]:void 0}else if(t){i=this.getTransformedPoint(t.x,t.y,this.containerRect);s=o.filter(function(e){return e.pointInside(i.x,i.y)})}c.target=s.length?s[0]:o[0];if(c.target)if(c.target.getRelevantPosition)n=c.target.getRelevantPosition();else{r=c.target.getBoundingRect();if(!c.target.clearModelView&&c.component){u=c.component.chartScale||1;r=r.clone();r.set(r.x*u,r.y*u,r.width*u,r.height*u)}}}if(n){c.positions=[this.getPagePoint(n.pos.x,n.pos.y,c.component,this.containerRect)];c.directions=n.direction}else a=a?r.combineWith(a):r},this);if(a){l=y(a,this.getPagePoint.bind(this),c.component,this.containerRect);c.positions=l.positions;c.directions=l.directions}}return c}function _(e,t){var n=[],i,r=0,o,s,a,l,u,c,f=this.measureFormatters||[];if(e.isCacheItem){u=e.getMeasures();c=e.getMeasuresIndecies(t);o=c.length;for(r;r<o;++r){var d=c[r];s=e.getValue(d);a=s;l=e.getPreformattedLabel(d);f[c[r]]?s="U"!==f[d].type&&l?l:f[d].format(s):s&&l&&h(this,d)?s=l:"NaN"===s&&(s="-");u[d]&&void 0!==s&&n.push({label:u[d],value:s+"",num:a})}}else{o=e.node.children.length;for(r;r<o;++r){s=e.node.children[r].children[0].data.qNum||e.node.children[r].children[0].data.qValue;a=s;l=e.node.children[r].children[0].data.qText;f[r]&&(s="U"!==f[r].type&&l?l:f[r].format(s));n.push({label:e.node.children[r].data.qText,value:s+"",num:a})}}if(this.colorMap){i=this.colorMap.getTooltipContent(e,t.rowIndex);i&&n.splice(0,0,i)}var p=[];n.forEach(function(e){p.some(function(t){return t.label===e.label&&(t.value===e.value||t.num===e.num)})||p.push(e)});return p}function w(e,t){var n=[],i=0,r=0;while(i<d&&r<e.length){n.push({header:m(e[r]),rows:_.call(this,e[r],t)});i+=n[r].rows.length+1;r++}e.length>r&&(n.numberInExcess=e.length-r);n.msrCount=n[0]?n.length*n[0].rows.length:0;return n}function q(e,n,i,r){var o=x.call(this,e,n);if(o.positions&&o.directions){var s=this.getPagePoint(0,0,o.component,this.containerRect);var a=w.call(this,e,o.target);var u=r?null:l.getDuration(a.msrCount);t.getService("qvChartTooltipService").open({target:{shape:o.target,targetToPageTranslation:s},position:o.positions,content:a,direction:o.directions,numberInExcess:a.numberInExcess,hideCallback:b.bind(this),dir:this.yMirrorMode?"rtl":"ltr"},u,i);c=e[0];f=e.map(g).join("")}}function C(e){var t=this.getTransformedPoint(e.x,e.y,this.containerRect);return this.shapesFrom.shapesFromPoints([t])}function S(e){var t=C.call(this,e);return t.map(g).join("")}function E(e){var n=this;this.setActiveComponent(this.getComponent(e.x,e.y,this.containerRect));var i=C.call(n,e);if(i&&i.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;u=t.getService("$timeout")(function(){q.call(n,i,e,null,n._noDuration);u=null},p)}}function D(e,t){var n=this;if(e&&e.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;q.call(n,e,null,t)}}function O(){t.getService("$timeout").cancel(u);u=null;this.prevPoint=null}function A(){if(c){c=null;f=null;t.getService("qvChartTooltipService").close()}u=null}function L(e,t){var n=t?t.length:0,i,r;for(i=0;i<n;i++){r=t[i];if(r&&r.pointInside&&r.pointInside(e.x,e.y))return true}return false}function I(e){var t=e?e.length:0,n=[],i,r,o;for(i=0;i<t;i++){r=e[i]._shapes;if(!o){o=e[i]._interactPosition;o&&(o=this.getTransformedPoint(o.x,o.y,this.containerRect))}o&&L(o,r)&&(n[n.length]=e[i])}n.length||(n=e);return n}var T=o.extend("ChartTooltip",{init:function e(t,n,r){this._super(r,n);this.cache=r;c=null;u=null;this.container=t;this.containerRect=new i(0,0,0,0);this._positionAtMouse=true;this._enabled=true;this._allowNullSelect=true;this.touchTimeout=Number.isNaN(+n.touchTimeout)?10:n.touchTimeout},refreshContainerRect:function e(){this.offset=this.container.offset();var t=this.offset;var n=this.container.width();var i=this.container.height();this.containerRect.set(t.left,t.top,n,i)},on:function e(){if(this._isListening)return;this._isListening=true;var t=this;this._interactionEvents=s.extend({preventDefault:false,mousemove:function e(n){var i=new r(n.pageX,n.pageY);t.refreshContainerRect();t.move(n,i)},mouseleave:function e(n){t.leave(n)},mousewheel:function e(){t.cancel()},swipe:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},swipetwo:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},rotate:{start:function e(){t.cancel()},cancel:function e(){t.cancel()}},active:function e(){return t._enabled&&(c||n.treatAsDesktop())}});this._tapEvents=s.extend({preventDefault:false,tap:{end:function e(n,i){var r=i.pagePoints[0];t.refreshContainerRect();t.setActiveComponent(t.getComponent(r.x,r.y,t.containerRect));var o=C.call(t,r);o.forEach(function(e){e.interactPosition=r});t.updateHighlightedShape(o)}},active:function e(){return t._enabled}});n.treatAsDesktop()&&a.MouseLeave.bind(t._interactionEvents.mouseleave);function i(e){if(n.treatAsDesktop())a.addInteraction(t._interactionEvents,e.container,0,["mousemove","mouseleave","swipe","mousewheel"]);else{a.addInteraction(t._interactionEvents,e.container,0,["swipe","swipetwo","rotate"]);a.addInteraction(t._tapEvents,e.container,0,["tap"])}}this.registerAddedComponent=function(e){i(e)};this.deregisterAddedComponent=function(e){a.removeInteraction(t._interactionEvents,e.container);a.removeInteraction(t._tapEvents,e.container)};Object.keys(this.components).map(function(e){return t.components[e]}).forEach(function(e){e.forEach(function(e){t.registerAddedComponent(e)})})},register:function e(t,n){this.registerAddedComponent&&this.registerAddedComponent(n)},deregister:function e(t,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(n)},off:function e(){this._isListening=false;a.MouseLeave.unbind(this._onMouseLeave);a.removeInteraction(this._interactionEvents);a.removeInteraction(this._tapEvents);this.registerAddedComponent=null;this.deregisterAddedComponent=null},initComponent:function e(t){this.setActiveComponent(this.getComponent(t.x,t.y,this.containerRect))},updateHighlightedShape:function e(t,i){if(t.length>=1){var r,o=true,s=false;r=I.call(this,t);if(!r||!r.length)return;if(!n.treatAsDesktop()){r=r.filter(function(e){return!e.selected});if(r.length)if(c||u){if(r.length>1||r[0]!==c){o=false;s=true}}else{o=false;s=true}if(o){O.call(this);A.call(this)}s&&D.call(this,r,this.touchTimeout)}}else if(!n.treatAsDesktop()&&i){O.call(this);A.call(this)}},getRect:function e(t){if(!t)return new i(0,0,0,0);return t.hasOwnProperty("innerRect")?t.innerRect:t.rect},move:function e(t,i){if(!n.treatAsDesktop()||!this._enabled)return;if(null!==u){if(!this.prevPoint||i.distanceTo(this.prevPoint)>5){O.call(this);E.call(this,i)}}else{this.prevPoint=i;if(c){if(S.call(this,i)!==f){A.call(this);E.call(this,i)}}else E.call(this,i)}},setCssTransform:function e(t){this._cssTransform=t||{scale:1}},leave:function t(n){var i=n.toElement||n.relatedTarget;if(!e(i).hasClass("qvt-chart-tooltip")&&!e(i).parents(".qvt-chart-tooltip").length){O.call(this);A.call(this)}},cancel:function e(){O.call(this);A.call(this)},clearSelection:function e(){O.call(this);A.call(this)},release:function e(){this._super();this.off()}});Object.defineProperties(T.prototype,{enabled:{set:function e(t){this._enabled=t},get:function e(){return this._enabled}}});return T}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(652),n(344)],r=function(e,t,n,i){function r(e){return e?e.selectionIdentifier:null}function o(e,t){if(t){var n=false;t.contains(0)&&(n=e.parent?-2===e.parent.id:-2===e.id);e.parent&&t.contains(1)&&(n=n||-2===e.id);return n}return-2===e.id||e.parent&&-2===e.parent.id}function s(e,t){return e&&e.length?t.filter(function(t){return e.some(function(e){return t.col===e.col&&t.id===e.id})}):[]}var a=t.extend({init:function t(n,i){this.options=e.extend(true,{},{allowNullSelect:false,activeComponent:null},i);this.cache=n;this.allowNullSelect=this.options.allowNullSelect;this.activeComponent=this.options.activeComponent},shapeFromPoint:function e(t){return this.shapesFromPoints([t])[0]},shapesFromPoints:function e(t){var n,i,s,a=this.cache.data,l=this.cache.data.length,u=t.length,c,f,d,p=(this.activeComponent||this.components&&this.components.dataArea)&&(this.activeComponent||this.components.dataArea[0]).chartScale||1,h,v=r(this.activeComponent),m,g,b,y=[];for(m=0;m<l;++m){h=a[m];if(!o(h)||this.allowNullSelect)for(g=0;g<u;++g){n=t[g];i={x:n.x/p,y:n.y/p};f=h.getShapes(r(this.activeComponent));"dataArea"===v&&h.toggleShapes&&(f=f.concat(h.toggleShapes));c=f.length;for(b=0;b<c;++b){d=f[b];s=d.clearModelView?n:i;if(d.pointInside(s.x,s.y)){y.push(h);break}}}}return y},shapesFromLines:function e(t){var n,i=this.cache.data,s=this.cache.data.length,a=t.length,l,u,c,f,d,p,h,v=[];for(d=0;d<s;++d){f=i[d];if(!o(f)||this.allowNullSelect)for(p=0;p<a;++p){n=t[p];u=f.getShapes(r(this.activeComponent));l=u.length;for(h=0;h<l;++h){c=u[h];if(c.intersectsLine(n)){v.push(f);break}}}}return v},shapesFromPolygon:function e(t){var n,i,s=this.cache.data,a=this.cache.data.length,l,u,c,f,d,p,h,v,m=[];for(d=0;d<a;++d){f=s[d];if(!o(f)||this.allowNullSelect){v=false;c=f.getShapes(r(this.activeComponent));u=c.length;for(h=0;h<u;++h){if(v)break;n=c[h].getPoints();l=n.length;for(p=0;p<l;++p){i=n[p];if(t.pointInside(i.x,i.y)){m.push(f);v=true;break}}}}}return m},shapesFromRect:function e(t,n){if(!t)return[];var i=this.cache.data,s=this.cache.data.length,a,l,u,c,f,d,p=[];for(f=0;f<s;++f){c=i[f];if(!o(c)||this.allowNullSelect){l=c.getShapes(n||r(this.activeComponent));a=l.length;for(d=0;d<a;d++){u=l[d];if(u.intersectsRect){if(u.intersectsRect(t)){p.push(c);break}}else if(t.intersectsWith(u)){p.push(c);break}}}}return p},shapesFromRectForDirection:function e(t,n,i){var s=this.cache.data,a=this.cache.data.length,l,u,c,f,d,p,h,v=[],m=0,g=0,b="";switch(n){case"x":m=t.x;g=t.getRight();b="getRight";break;case"y":m=t.y;g=t.getBottom();b="getBottom";break}for(p=0;p<a;++p){l=s[p];if(!o(l)||this.allowNullSelect){c=l.getShapes(i||r(this.activeComponent));u=c.length;for(h=0;h<u;++h){f=c[h];if("cx"in f){if(f["c"+n]>=m&&f["c"+n]<=g){v.push(l);break}}else{d=f.getBoundingRect();if(d[n]>=m&&d[n]<=g){v.push(l);break}if(d[b]()>=m&&d[b]()<=g){v.push(l);break}if(m>=d[n]&&g<=d[b]()){v.push(l);break}}}}}return v},shapesFromRange:function e(t,n,i,r){var s=Math.min(t,n),a=Math.max(t,n),l=this.cache.data,u=this.cache.data.length,c=this.activeComponent&&"function"===typeof this.activeComponent.getType?this.activeComponent.getType().indices:null,f,d,p,h,v,m=[],g;i=false!==i;r=false!==r;g=i&&r?function e(t){return t>=s&&t<=a}:i?function e(t){return t>=s&&t<a}:r?function e(t){return t>s&&t<=a}:function e(t){return t>s&&t<a};for(h=0;h<u;++h){f=l[h];if(!o(f)||this.allowNullSelect){d=f.values instanceof Array?f.values:f.value instanceof Array?f.value:[f.value];c&&c.length&&(d=d.filter(function(e,t){return c.indexOf(t)>=0}));for(v=0;v<d.length;v++){p=d[v];if(g(p)){m.push(f);break}}}}return m},shapesFromDimensionValue:function e(t){var n=this.cache.data,i=this.cache.data.length,r,s,a,l=[];for(s=0;s<i;++s){r=n[s];if(!o(r)||this.allowNullSelect)for(a=0;a<t.length;a++)if(r.id===t[a]){l.push(r);break}}return l},groupedItemsFromShapes:function e(t){var r,o,a,l,u=[];r=void 0!==this.activeComponent.getSelectionIndices?this.activeComponent.getSelectionIndices():[0];o=r[r.length-1];if(t&&t[0]&&t[0].col===o)return s(t,this.cache.data);t.forEach(function(e){l=e.parent;if(void 0!==l){a=i.getLevel.call(l)-(e.isCacheItem?0:1);a===o&&-1===u.indexOf(l)&&t&&u.push(l)}});if(u.length>0){t=[];u.forEach(function(e){t=t.concat(n.getCacheItems.call(e))})}return t},shapesFromIndex:function e(t,n){var i=Math.min(t,n),r=Math.max(t,n),o,s=this.cache.data,a=this.cache.data.length,l,u=[];for(l=0;l<a;++l){o=s[l];void 0!==o.index&&o.index>=i&&o.index<=r&&u.push(o)}return u},_isNull:o,release:function e(){this.cache=null;this.allowNullSelect=null;this.activeComponent=null}});return a}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(t,n){t.forEach(function(t){if(t.isCacheItem)n.push(t);else if(t.data.cacheItem)n.push(t.data.cacheItem);else if(t.cacheItem){n.push(t.cacheItem);if(t.cacheItem.isCacheItem)throw new Error("Using new cache item before its time")}t.children&&t.children.length>0&&e.apply(this,[t.children,n])});return n}var t={getCacheItems:function t(){if(!this.children||!this.children)return[];return e.apply(this,[this.children,[]])}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(654)],r=function(){var e;e={transclude:true,template:'<div qva-chart-tooltip position="position" content="content" direction="direction" visible="visible" template="template" number-in-excess="numberInExcess" target="target" hide-callback="hideCallback" always-on-top="alwaysOnTop" options="options"></div>',controller:["$scope",function(e){e.visible=false;this.hide=function(){e.visible=false};this.show=function(t){e.content=t.content;e.position=t.position;e.direction=t.direction;e.template=t.template;e.numberInExcess=t.numberInExcess;e.alwaysOnTop=t.alwaysOnTop;e.visible=true;e.hideCallback=t.hideCallback;e.target=t.target;e.options={direction:t.dir}}}]};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(48),n(655),n(300),n(97),n(656)],r=function(e,t,n,i,r,o,s){var a=5;var l=5;var u=25;n.directive("qvaChartTooltip",function(){return{template:s,replace:true,scope:{content:"=",position:"=",visible:"=",direction:"=",template:"=",numberInExcess:"=",target:"=",hideCallback:"=",alwaysOnTop:"=",options:"="},link:function s(c,f){var d,p,h=false;d=function e(t){var n=t?"block":"none";f.css("display",n)};c.synchronAlign=function(){var t=f.find(".qv-tooltip"),n=f.find(".chart-tooltip-arrow"),o;d(c.visible);var s=c.direction instanceof Array?c.direction:[c.direction];o=r.alignToBestCoordinate(t,c.position,s,c.target,false,a,l);var p=t.offset(),v=r.getScrolledRect(e(window));switch(o.position){case"right":p.left+=9;o.y=v.y+Math.min(v.height-u,Math.max(u,o.y-v.y));break;case"left":p.left-=9;o.y=v.y+Math.min(v.height-u,Math.max(u,o.y-v.y));break;case"bottom":p.top+=9;o.x=v.x+Math.min(v.width-u,Math.max(u,o.x-v.x));break;default:p.top-=9;o.x=v.x+Math.min(v.width+v.x-u,Math.max(u,o.x-v.x));break}t.offset(p);if(n.length){n.removeClass().addClass("chart-tooltip-arrow").addClass(o.position);i.alignToCoordinate(t,o.x,o.y,o.position,n)}h=false};c.align=function(){p=n.getService("$timeout")(c.synchronAlign)};c.$watch("position",function(e){if(e&&(e instanceof Array||e.x&&e.y)){h=true;c.align()}});c.$watch("visible",function(e){h||d(e)});c.$watch("content",function(e){e||(c.visible=false)});c.hideTooltip=function(e){c.visible=false;c.hideCallback&&c.hideCallback();if(e&&e.stopPropagation){e.stopPropagation();e.preventDefault();t.preventGestures()}};c.$on("$destroy",function(){n.getService("$timeout").cancel(p);o.off("end",c.hideTooltip)});o.on("end",c.hideTooltip)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=Math.floor;function t(e){var t={left:"right",right:"left",top:"bottom",bottom:"top"};return t[e]}function n(e,n,i,r){var o=t(i),s={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}},a=s[o],l=0,u=0,c=0,f=0,d=n[0].getBoundingClientRect(),p=r.outerWidth();if("left"===o||"right"===o){c=parseInt(n.offset().top+d.height*(1-a.height)-e.offset().top-p*(1-a.height),10);"left"===o?u="auto":l="auto";f="auto"}else{l=parseInt(n.offset().left+d.width*(1-a.width)-e.offset().left-p*(1-a.width),10);"bottom"===o?c="auto":f="auto";u="auto"}r.css({left:l,right:u,top:c,bottom:f})}function i(n,i,r,o,s){var a=t(o),l={left:{width:0,height:.5,size:-1},right:{width:1,height:.5,size:1},top:{width:.5,height:0,size:-1},bottom:{width:.5,height:1,size:1}},u=l[a],c,f,d=n[0].getBoundingClientRect(),p=s[0].getBoundingClientRect();if("left"===a||"right"===a){c=u.width*(d.width-p.width)+p.width*u.size-parseInt(n.css("padding-left"));f=r-n.offset().top-p.width*(1-u.height)}else{c=i-n.offset().left-p.width*(1-u.width);f=u.height*(d.height-p.height)+p.height*u.size}s.css({left:e(c),top:e(f)})}function r(e,n,i){var r=t(n),o={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}},s=o[r],a,l,u=e.outerWidth(),c=e.outerHeight(),f=i.outerWidth(),d=i.outerHeight();if("left"===r||"right"===r){a=s.width*(u-f);l=i.offset().top-d*(1-s.height)}else{a=u*(1-s.width)-f*(1-s.width);l=s.height*(c-d)+d}i.css({left:a,top:l})}return{align:n,alignToParent:r,alignToCoordinate:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t<div ng-if="template" ng-include src="template"></div>\n\n\t<div ng-if="!template" qva-direction x-dir-setting="{{options.direction}}" class="qv-tooltip qvt-chart-tooltip" qva-press="hideTooltip($event)" tid="qv-chart-tooltip" ng-class="{\'above\':alwaysOnTop}">\n\t\t<div class="chart-tooltip-arrow"></div>\n\t\t<div class="qv-chart-tooltip-inner">\n\t\t\t<div ng-repeat="item in content" class="qv-chart-tooltip-item">\n\t\t\t\t<div class="qv-chart-tooltip-content">\n\t\t\t\t\t<div qva-direction x-dir-text="{{item.header}}" x-dir-setting="{{options.direction}}" class=\'qv-tp-header\' ng-if="item.header !== undefined">\n\t\t\t\t\t\t<strong>{{item.header}}</strong>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr ng-repeat="row in item.rows" class="qv-tp-row">\n\t\t\t\t\t\t\t<td class=\'qv-tp-item\' ng-if="row.hasOwnProperty(\'label\')">\n\t\t\t\t\t\t\t\t<span qva-direction x-dir-text="{{row.label}}" class="qv-tp-rowPart" ng-class="{\'qv-tp-single\' : (content.length + item.rows.length) <= 3}">{{row.label}}</span>\n\t\t\t\t\t\t\t\t<span>:&nbsp;</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="!row.template" class=\'qv-tp-value\'>\n\t\t\t\t\t\t\t\t<div class="qv-tp-rowPart" dir="ltr">{{row.value}}</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="row.template" class=\'qv-tp-template qv-tp-value\' ng-bind-html="row.template" ng-attr-colspan="{{row.hasOwnProperty(\'label\') && 1 || 2 }}">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-chart-tooltip-excess" ng-if="numberInExcess > 0" q-translation="Object.ChartTooltip.NMore,{{numberInExcess}}">More</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(342),n(454)],r=function(e,t){function n(){this.data=[]}Object.defineProperties(n.prototype,{has:{value:function e(t){return-1!==this.data.indexOf(t)}},add:{value:function n(i){if(!(i instanceof e)&&!(i instanceof t))throw new Error("Invalid cache item!");this.has(i)||this.data.push(i)}},remove:{value:function e(t){var n=this.data.indexOf(t);-1!==n&&this.data.splice(n,1)}},clear:{value:function e(){this.data.length=0}}});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(659)],r=function(e,t){e.service("qvDefaultViewSelectionService",[function(){return{createSelections:function e(n,i,r,o){var s,a;if(!r||!r.dataArea)return;r.range&&(r.range.rtl="rtl"===n.options.direction);r.isPopover=n.options.isPopover;r.selectionsDisabled=n.options.selectionsDisabled||false;s=new t(i,r,o);s.Activated.bind(function(){n.selectionsApi.activated()});s.Deactivated.bind(function(){n.selectionsApi.deactivateSearch&&n.selectionsApi.deactivateSearch()});s.Cancel.bind(function(){n.selectionsApi.cancel()});s.Select.bind(function(){n.selectionsApi.selectionsMade=true});s.SelectRange.bind(function(){n.selectionsApi.selectionsMade=true});s.SelectAttributeDim.bind(function(){n.selectionsApi.selectionsMade=true});s.Confirm.bind(function(){n.backendApi.endSelections(true);n.selectionsApi.deactivated()});s.ResetSelections.bind(function(){n.backendApi.clearSelections()});n.selectionsApi.confirm=function(){s&&s.confirm()};a=n.selectionsApi.deactivated.bind(n.selectionsApi);n.selectionsApi.deactivated=function(){s&&s.deactivate();a()};n.selectionsApi.deactivate=function(){if(s){s.deactivate();this.deactivated()}};n.selectionsApi.clear=function(){s.clearSelection();n.backendApi.clearSelections();n.tooltipApi.cancel();n.selectionsApi.selectionsMade=false};n.selectionsApi.toggleKeyboardAccelerators=function(e){s.toggleKeyboardAccelerators(e)};n.selectionsApi.getKeyAsToggleSelected=function(e){return s.getKeyAsToggleSelected(e)};n.selectionsApi.toggleSearch=function(){n.options.search.toggle()};n.selectionsApi.activate=function(){s.autoActivate()};n.selectionsApi.on=function(){s.on()};n.selectionsApi.off=function(){s.off()};n.$on("$destroy",function(){if(s){s.release();s=null}});return s}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(92),n(102),n(660),n(662),n(667),n(104),n(256),n(232),n(101)],r=function(e,t,n,i,r,o,s,a,l,u){var c,f,d={dataArea:i,range:r,colorLegend:o};function p(t){Object.keys(t).forEach(function(n){n in d&&(this.types[n]=new d[n](this,e.extend(true,{},d[n].defaultOptions,t[n])))},this)}function h(e,t){var n;for(n=0;n<t.length;n++)if(e.contains(t[n]))return true;for(n=0;n<e.length;n++)if(t.contains(e[n]))return true;return false}function v(e){var t=u.getValue(e,"activeComponent.backendApi",{});var n=t.getDimensionInfos&&t.getDimensionInfos()||[];var i=n.length-1;var r=u.getValue(n,i+".qIsOneAndOnlyOne",false);i>0&&r&&u.getValue(n,i+".qCardinalities.qHypercubeCardinal")>1&&(r=false);return r}c=t.extend({init:function t(i,r,o){n.mixin(this);this.notification("Activated");this.notification("Deactivated");this.notification("ToggleShape");this.notification("ToggleShapes");this.notification("SelectWhileLocked");this.notification("SelectWhileSingleSelect");this.notification("Lasso");this.notification("Confirm");this.notification("Cancel");this.notification("Select");this.notification("SelectRange");this.notification("SelectAttributeDim");this.notification("Clear");this.notification("ResetSelections");this.notification("UpdateRanges");this._active=false;this._autoActivated=false;this._isListening=false;this._isScrolling=false;this._isLocked=false;this._shiftPressed=false;this._lassoEnabled=false;this._allowLasso=true;this._enabled=true;this.container=i;this.options=e.extend(true,{},{toggle:true,toggleRect:true,swipe:true,ctrlKeyAsToggleSelected:false},r);this.cache=o;this.containerRect=new s(0,0,0,0);this.types={};this._keyboard=true;p.call(this,this.options)},setContainer:function e(t){this.off();this.container=t;this.on()},refreshContainerRect:function e(){this.offset=this.container.offset();var t=this.offset;var n=this.container.width();var i=this.container.height();this.containerRect.set(t.left,t.top,n,i)},canTypeBeActivated:function e(t){return!(t&&t.activeComponent&&"function"===typeof t.activeComponent.isSelectionLocked?t.activeComponent.isSelectionLocked():this._isLocked)},on:function e(){if(this._isListening)return;this._isListening=true;var t=this,n=this.options,o;this._reset=function(){o=null};this.getActiveType=function(){return t._activeType};this.getActiveMode=function(){return t._activeType?t._activeType.getActiveMode():null};function s(){if(t._activeType&&t._activeType!==o){var e=t._activeType.getActiveDimensions();if(t._activeType.getActiveMode()!==o.getActiveMode()||!h(e,o.getActiveDimensions())){t._activeType.clearSelection();t.ResetSelections.emit()}t._activeType.cancel()}t._activeType=o}function u(){s();n._disableSelectionActivation||t.activate()}function c(){return t._active}function d(){return o&&n.swipe}this._setTypeOnAutoActivate=function(){o=t.types.dataArea};this._activateType=function(e){o=e;s()};this._mouseUp=function(e){1===e.which&&(!t._shiftPressed&&t._drawingWithShift||t._shiftPressed&&t._drawingWithoutShift)&&t.Lasso.emit(!t.lassoEnabled)};this._shiftToggle=function(e){t._shiftPressed=e;if(!t._allowLasso||!t._keyboard||t._drawingWithShift||t._drawingWithoutShift)return;t._active&&t.Lasso.emit(!t.lassoEnabled)};this._keyPressed=function(e){if(!t._keyboard)return;if(!c())return;27===e?t.cancel():13===e&&(o&&o.getIsEditing&&o.getIsEditing()?o.confirmEdit():t.confirm())};l.ShiftToggle.bind(this._shiftToggle);l.KeyPressed.bind(this._keyPressed);l.MouseUp.bind(this._mouseUp);this.types.range&&this.types.range.on&&this.types.range.on();var p=false,m;function g(e,n){f=n;o=e;t.refreshContainerRect();o&&o.initComponent(n)}this._eventHandlers=a.extend({preventDefault:false,tap:{start:function e(t,n,i){g(i,n.pagePoints[0]);document.activeElement&&document.activeElement.blur()},end:function e(i,r){if(!o||o.internal||!n.toggle)return;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}u();l.preventGestures(this);o.toggle.call(o,i,r.pagePoints[0]);o.getSelectedShapes().length>0&&t.Select.emit(o.getSelectedShapes(),t.getKeyAsToggleSelected(i))}},taptwo:{start:function e(){},end:function e(i,r,s){if(!n.toggleRect)return;g(s,r.pagePoints[0]);if(!o||!n.toggle)return;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}u();o.toggleRect.call(o,i,r.pagePoints[0],r.pagePoints[1])}},exclusive:function e(){return t.lassoEnabled},active:function e(){return t._enabled||t._drawingWithShift||t._drawingWithoutShift}});this._swipeHandlers=a.extend({preventDefault:true,swipe:{start:function e(r){if(!d()&&!n._enablePanning)return;t._shiftPressed&&!t._active&&t.allowLasso&&t.Lasso.emit(!t.lassoEnabled);if(!o||o.internal)return;t._drawingWithShift=t._shiftPressed;t._drawingWithoutShift=!t._shiftPressed;if(!t.lassoEnabled&&o.activeComponent&&o instanceof i){this._isPanning=true;return}if(o.activeComponent){this._isPanning=false;p=true;m=this.options.useMomentum;this.options.useMomentum=false;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}if(v(o)){t.SelectWhileSingleSelect.emit();return}u();o.start.call(o,r,f)}},update:function e(i,r){if(!d()&&!n._enablePanning)return;if(!this._isPanning&&p&&o){if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}if(v(o)){t.SelectWhileSingleSelect.emit();return}o.update.call(o,i,r.pagePoints[0])}},end:function e(i,r){if(!d()&&!n._enablePanning)return;t._drawingWithShift=false;t._drawingWithoutShift=false;if(this._isPanning)this._isPanning=false;else if(p&&o){p=false;this.options.useMomentum=m;if(!t.canTypeBeActivated(o)){t.SelectWhileLocked.emit();return}if(v(o)){t.SelectWhileSingleSelect.emit();return}o.end.call(o,i,r)}},cancel:function e(){t._drawingWithShift=false;t._drawingWithoutShift=false;if(!o||!p)return;this.options.useMomentum=m;o.cancel.call(o,true)}},exclusive:function e(){return t.lassoEnabled},active:function e(n){return t._enabled&&(t.lassoEnabled||t._drawingWithShift||t._drawingWithoutShift||n instanceof r)}});function b(e,n){l.addInteraction(t._eventHandlers,e.container,1,["tap","taptwo"],n)}function y(e,n){l.addInteraction(t._swipeHandlers,e.container,1,["swipe"],n)}function x(e){l.removeInteraction(t._swipeHandlers,e.container)}this.registerAddedComponent=function(e,t){if(!e.internal&&!(e instanceof r&&"dataArea"===t.selectionIdentifier)){b(t,e);e instanceof r&&y(t,e)}};this.deregisterAddedComponent=function(e,n){if(!e.internal&&!(e instanceof r&&"dataArea"===n.selectionIdentifier)){l.removeInteraction(t._eventHandlers,n.container);l.removeInteraction(t._swipeHandlers,n.container)}};this.registerLasso=function(){var e=this.types["dataArea"];Object.keys(e.components).map(function(t){return e.components[t]}).forEach(function(t){t.forEach(function(t){y(t,e)})})};this.deregisterLasso=function(){var e=this.types["dataArea"];Object.keys(e.components).map(function(t){return e.components[t]}).forEach(function(e){e.forEach(function(e){x(e)})})};Object.keys(this.types).map(function(e){return this.types[e]},this).forEach(function(e){return Object.keys(e.components).map(function(t){return e.components[t]}).forEach(function(n){n.forEach(function(n){t.registerAddedComponent(e,n)})})})},register:function e(t,n){this.registerAddedComponent&&this.registerAddedComponent(t,n)},deregister:function e(t,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(t,n)},off:function e(){l.ShiftToggle.unbind(this._shiftToggle);l.KeyPressed.unbind(this._keyPressed);l.MouseUp.unbind(this._mouseUp);l.removeInteraction(this._eventHandlers);l.removeInteraction(this._swipeHandlers);this.types.range&&this.types.range.off&&this.types.range.off();this._isListening=false;this.registerAddedComponent=null;this.deregisterAddedComponent=null;this.registerLasso=null;this.deregisterLasso=null},autoActivate:function e(){if(this._autoActivated||!this._isListening)return;this._autoActivated=true;this._setTypeOnAutoActivate();this._activeType=this.types.dataArea;this._activeType.initComponent();this.activate()},activate:function e(t){if(!this._active){this.Activated.emit();this._active=true;this._shiftPressed&&!this.lassoEnabled&&this.Lasso.emit(true)}t&&this._activateType(t)},deactivate:function e(t){if(this._active){this._active=false;this._autoActivated=false;t||this.clearSelection();if(this._activeType){this._activeType.cancel();this._activeType=void 0}this.Deactivated.emit();this._reset()}},confirm:function e(){this._activeType&&this.deactivate(true);this.Confirm.emit()},cancel:function e(){this.deactivate();this.Cancel.emit()},clearSelection:function e(){this._activeType&&this._activeType.clearSelection()},toggleKeyboardAccelerators:function e(t){this._keyboard=t},getKeyAsToggleSelected:function e(t){return!(t.metaKey||t.ctrlKey)},release:function e(){this.off();n.release(this);Object.keys(this.types).forEach(function(e){this.types[e].release()},this)},setLocked:function e(t){this._isLocked=t}});Object.defineProperties(c.prototype,{allowLasso:{set:function e(t){this._allowLasso=t},get:function e(){return this._allowLasso}},lassoEnabled:{set:function e(t){this._lassoEnabled=t&&this.allowLasso;this._lassoEnabled&&this.registerLasso&&this.registerLasso();!this._lassoEnabled&&this.deregisterLasso&&this.deregisterLasso()},get:function e(){return this._lassoEnabled}},enabled:{set:function e(t){this._enabled=t},get:function e(){return this._enabled}}});return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(146),n(401),n(104),n(226),n(266),n(661),n(101)],r=function(e,t,n,i,r,o,s,a){var l,u=e("<div />"),c=u[0],f=e("<canvas />"),d=f[0],p=e("<canvas />"),h=p[0],v=e("<canvas />"),m=v[0],g=d.getContext("2d"),b=h.getContext("2d"),y=m.getContext("2d"),x,_=[],w=false,q=false;c.appendChild(d);c.appendChild(h);c.appendChild(m);c.className="selections-data-area-ui";u.hide();function C(){g.beginPath();g.moveTo(x.x,x.y);g.fillStyle="rgba(0, 152, 69, 1)";g.arc(x.x,x.y,10,0,2*Math.PI,true);g.fill()}function S(e,t,n){var i,r;!n||"x"!==n&&"y"!==n||(t[n]=x[n]);i=(e.x+t.x)/2;r=(e.y+t.y)/2;g.beginPath();g.moveTo(e.x,e.y);g.quadraticCurveTo(i,r,t.x,t.y);g.stroke()}function E(e,t,n,i){i=i||[2,4];var r=i.length,o=n.x-t.x,s=n.y-t.y,a=Math.sqrt(o*o+s*s),l=a,u=0,c=true,f,d=t.x,p=t.y;o/=a;s/=a;e.moveTo(d,p);for(u=0;l>=.1&&u<5e3;++u){f=i[u%r];0===f&&(f=.001);f>l&&(f=l);d+=f*o;p+=f*s;e[c?"lineTo":"moveTo"](d,p);l-=f;c=!c}}function D(e,t){b.clearRect(0,0,h.width,h.height);b.beginPath();E(b,e,t);b.stroke()}function O(){u.hide();f.hide();p.hide();u.detach()}function A(e){var t=a.getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);return a.getValue(t,e+".qIsOneAndOnlyOne",false)}function L(e){if(!e.length)return 0;var t=a.getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);if(1===t.length)return 0;var n;if(1===e.length){var i=e[0].parent&&e[0].parent.children.length;n=1===i||false}else 2===t.length&&(n=t[1].qIsOneAndOnlyOne&&t[1].qCardinalities.qHypercubeCardinal>1||false);var r=n?0:1;return r}l=o.extend("DataAreaSelection",{init:function e(t,n){this._super(t,n);this.setActiveMode("item");this._startIndex=-1;this._endIndex=-1},initComponent:function e(){this.setActiveComponent(this.components.dataArea[0])},refreshCanvas:function e(){this.rect=this.components.dataArea[0].rect;var t={position:"absolute",left:this.rect.x+"px",top:this.rect.y+"px",width:this.rect.width+"px",height:this.rect.height+"px","z-index":20};g.canvas.width=this.rect.width;g.canvas.height=this.rect.height;g.lineWidth=2;g.lineCap="round";g.lineJoin="round";g.strokeStyle="rgba(102,102,102,1)";g.fillStyle="rgba(102,102,102,1)";f.css(t);b.canvas.width=this.rect.width;b.canvas.height=this.rect.height;b.lineWidth=2;b.lineCap="round";b.lineJoin="round";b.strokeStyle="rgba(102,102,102,1)";p.css(t);y.canvas.width=this.rect.width;y.canvas.height=this.rect.height;v.css(t)},toggle:function e(t,n,r){r=void 0!==r?r:this.handler.getKeyAsToggleSelected(t);var o=this.getTransformedPoint(n.x,n.y),s,a=this.options.toggle.callback||this.toggleSelection,l=this.options.indexSelection,u=this.ToggleFlag.auto|this.ToggleFlag.tooltip;s=l?this.shapesFromRectForDirection(new i(o.x,o.y,0,0),"y"):this.shapesFromPoints([o]);s=this.groupedItemsFromShapes(s);var c=A.call(this,L.call(this,s));c?this.cancel(true):r||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);s.forEach(function(e){e.selectionMode="dataArea";e.interactPosition=n});a.call(this,s,u);return s&&s.length>0},toggleRect:function t(n,r,o){if(!r||!o)return;var a,l,u,c,f,d,p,h,v,m=e(this.components.dataArea[0].container),g=m.offset(),b=function e(t){return{x:Math.min(Math.max(t.x,g.left),g.left+m.width()),y:Math.min(Math.max(t.y,g.top),g.top+m.height())}},y,x;r=b(r);o=b(o);y=r;x=o;this.resetSelectedShapes();r=this.getTransformedPoint(r.x,r.y);o=this.getTransformedPoint(o.x,o.y);a=Math.min(r.x,o.x);l=Math.min(r.y,o.y);u=Math.max(1,Math.abs(o.x-r.x));c=Math.max(1,Math.abs(o.y-r.y));f=new i(a,l,u,c);p=this.ToggleFlag.select;h=this.options.indexSelection;v=this.toggleSelection;this.setActiveComponent(this.components.dataArea[0]);d=h?this.shapesFromRectForDirection(f,"y"):this.shapesFromRect(f);d=this.groupedItemsFromShapes(d);d.forEach(function(e){e.selectionMode="dataArea"});v.call(this,d,p);this.getSelectedShapes().length>0&&this.handler.Select.emit(this.getSelectedShapes(),true);s.flash(y,x)},start:function e(n,r){this.handler.getKeyAsToggleSelected(n)||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);var o=this.getTransformedPoint(r.x,r.y),s=this.options.captureInput,a=this.options.indexSelection;if(s){f.show();p.show();u.appendTo(this.handler.container);u.show();this.refreshCanvas()}_.length=0;_.push(o);x=new t(_[0].x,_[0].y);w=false;q=false;if(a){var l=this.shapesFromRectForDirection(new i(x.x,x.y,1,1),"y"),c=l.length&&l[0].index;void 0!==c&&c>=0&&(this._startIndex=c)}s&&C()},update:function e(t,n){var o=this.getTransformedPoint(n.x,n.y),s=this.options,a=s.captureInput,l=s.lassoAutoCloseDistance,u=s.indexSelection,c=t.shiftKey&&s.shiftLockCapture?s.shiftLockAxis:"",f,d=this.ToggleFlag.select,p,v,m,g=-1,y=this.toggleSelection;f=_[_.length-1];_.push(o);a&&S(f,o,c);if(a){w||(w=_.length>2&&x.distanceTo(o)>=l);b.clearRect(0,0,h.width,h.height);if(w)if(x.distanceTo(o)<=l){D(o,x);q=true}else q=false}if(u){m=this.shapesFromRectForDirection(new i(o.x,o.y,1,1),"y");g=m.length?m[0].index:-1;void 0!==g&&g>=0&&(this._endIndex=g);p=this.shapesFromIndex(this._startIndex,this._endIndex);v=this.getSelectedShapes().filter(function(e){return-1===p.indexOf(e)});y.call(this,v,this.ToggleFlag.deselect);y.call(this,p,d)}else{p=this.shapesFromLines([new r(f.x,f.y,o.x,o.y)]);p=this.groupedItemsFromShapes(p);p.forEach(function(e){e.selectionMode="dataArea"});y.call(this,p,d)}},end:function e(t){var i=this.options.captureInput,r=this.options.indexSelection,o,s,a=this.ToggleFlag.select,l=this.toggleSelection;if(r){this._startIndex=-1;this._endIndex=-1}i&&O();if(i&&q){s=new n(_);o=this.shapesFromPolygon(s);o=this.groupedItemsFromShapes(o);o.forEach(function(e){e.selectionMode="dataArea"});l.call(this,o,a)}_.length=0;var u=this.getSelectedShapes();if(u.length>0){var c=A.call(this,L.call(this,u));c&&u.length>1?this.cancel():this.handler.Select.emit(u,this.handler.getKeyAsToggleSelected(t))}},cancel:function e(t){_.length&&O();t&&this.clearSelection();this.setActiveComponent(null)}});l.defaultOptions={captureInput:true,indexSelection:false,shiftLockCapture:false,shiftLockAxis:"x",lassoAutoCloseDistance:50,autoConfirm:false,toggle:{callback:null},interpolation:{pixelPrecision:2}};return l}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(51)],r=function(e,t){var n={template:'<div class ="qv-framer" ng-style="style"></div>',controller:["$scope",function(e){e.style={};e.style.top=e.top;e.style.left=e.left;e.style.height=e.height;e.style.width=e.width;e.closeComponent()}],scope:{top:"=",left:"=",height:"=",width:"=",closeComponent:"="}},i={flash:function i(r,o){var s=e.getService("$timeout"),a=t.show(n,{top:Math.min(r.y,o.y)+"px",left:Math.min(r.x,o.x)+"px",height:Math.max(r.y,o.y)-Math.min(r.y,o.y)+"px",width:Math.max(r.x,o.x)-Math.min(r.x,o.x)+"px",closeComponent:function e(){s(function(){a.destroy();a=null},300)}})}};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(266),n(146),n(104),n(101),n(663)],r=function(e,t,n,i,r,o){var s,a=false,l=Math.min,u=Math.max,c=e("<div />"),f=c[0],d=e('<div qva-range-selection visible="rangeSelectIsVisible" active-component="activeComponent" v-component="vComponent" h-component="hComponent" v-ranges="vRanges" h-ranges="hRanges" h-options="hOptions" v-options="vOptions"/>'),p={x:[],y:[]},h,v,m=15;function g(e){if(e.isCacheItem){var t=e.getDimensions();return t[t.length-1]}return e.parent&&e.parent.data&&e.parent.data.qText?e.parent.data.qText:e.label}function b(e,t){var n=e.indicators||e.getLevels()[0];var i=e.getPlotMax();var r=e.getPlotMin();var o=Number.MAX_VALUE;var s=-1;var a;for(a=0;a<n.values.length;a++){var l=n.values[a];var u=Math.abs(t-l);if(l<r||l>i)continue;if(!(u<o))break;o=u;s=a}if(-1!==a){var c=s;return{value:n.values[s],label:(n.qualifiedLabels||n.labels)[c]}}return null}function y(e,t,n){var i=e.getLevels();var r;for(r=i.length-1;r>=0;--r){var o=i[r];var s=null;var a=null;for(var l=0;l<o.values.length;++l){o.values[l]===t&&(s=(o.qualifiedLabels||o.labels)[l]);o.values[l]===n&&(a=(o.qualifiedLabels||o.labels)[l])}if(s&&a)return{l1:s,l2:a}}return{l1:null,l2:null}}function x(e,t){var n=e.isDiscrete&&e.isDiscrete();var i=e.isDimension&&!n;if(!i)return null;var r=e.getValueOfPosition(t);var o=b(e,r);if(!o)return null;o.newPoint=e.getPositionOfValue(o.value);var s=Math.abs(o.newPoint-t);if(s>m)return null;return o}function _(e,t){var n=this.getComponentKey(this.activeComponent);var i="x"===n?"width":"height";var r=e.rect[n];var o=e.rect[n]+e.rect[i];var s=this.activeComponent.rect;var a=this.getRect(this.activeComponent);var l=a[n]-s[n];var u=l+a[i];if(r===o&&0===r){o=t[n];r=t[n]}var c=null;var f=null;if(p[n].length>1)for(var d=0;d<p[n].length;++d){var h=p[n][d];if(e===h)continue;var v=h.rect[n];var m=h.rect[n]+h.rect[i];m<=r&&(null===c||m>c)&&(c=m);v>=o&&(null===f||v<f)&&(f=v)}l<=r&&(null===c||l>c)&&(c=l);u>=o&&(null===f||u<f)&&(f=u);return{min:c,max:f}}function w(e,t,n,i,r){var o=this.activeComponent,s=this.components.dataArea[0].rect,a=function e(t,i,s){if(r){if(r.switch){var a=n.startVal;n.startVal=n.updateVal;n.updateVal=a}var l=Math.max(Math.min(r.value,o.getPlotMax()),o.getPlotMin());0===r.index&&"horizontal"===s||1===r.index&&"vertical"===s?n.startVal=l:n.updateVal=l}else{n.startVal=o.getValueOfPosition(t);n.updateVal=o.getValueOfPosition(i);n.maxIncluded=!o.isDimension||o.getDataMax()<=n.updateVal}},c=0,f=0,d=0,p=0,h,v,m,b,y,w=o.isDiscrete&&o.isDiscrete(),q=_.call(this,n,e);switch(o.dock){case"top":case"bottom":c=l(e.x,t.x);d=u(e.x,t.x);f=0;p=s.height;if(null!==q.min&&q.min>c){i&&(d+=q.min-c);c=q.min}else{h=x(o,c);if(h){n.startLabel=h.label;c=null===q.min?h.newPoint:Math.max(q.min,h.newPoint)}else n.startLabel=T(o.getValueOfPosition(c),o)}if(null!==q.max&&q.max<d){i&&(c+=q.max-d);d=q.max}else{v=x(o,d);if(v){n.updateLabel=v.label;d=null===q.max?v.newPoint:Math.min(q.max,v.newPoint)}else n.updateLabel=T(o.getValueOfPosition(d),o)}n.rect.set(c,f,d-c,p-f);if(w){m=this.shapesFromRectForDirection(n.rect,"x","dataArea");if(m.length){b=this.options&&this.options.rtl?m[m.length-1]:m[0];y=this.options&&this.options.rtl?m[0]:m[m.length-1];n.startVal=g(b);n.updateVal=g(y)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else a.call(this,c,d,"horizontal");break;case"left":case"right":f=l(e.y,t.y);p=u(e.y,t.y);c=0;d=s.width;if(null!==q.min&&q.min>f){i&&(p+=q.min-f);f=q.min}if(null!==q.max&&q.max<p){i&&(f+=q.max-p);p=q.max}h=x(o,f);if(h){n.startLabel=h.label;f=h.newPoint}else n.startLabel=T(o.getValueOfPosition(f),o);v=x(o,p);if(v){n.updateLabel=v.label;p=v.newPoint}else n.updateLabel=T(o.getValueOfPosition(p),o);n.rect.set(c,f,d-c,p-f);if(w){m=this.shapesFromRectForDirection(n.rect,"y","dataArea");if(m.length){b=m[0];y=m[m.length-1];n.startVal=g(b);n.updateVal=g(y)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else a.call(this,f,p,"vertical");break}}function q(){return this.components.x&&this.components.y&&1===this.components.x.length&&1===this.components.y.length&&!this.components.x[0].isDiscrete()&&!this.components.y[0].isDiscrete()}function C(){h.y=false;h.x=false;if(this._rangeEventWatchers){this._rangeEventWatchers.forEach(function(e){e()});this._rangeEventWatchers=null}c.hide();c.detach();h.rangeSelectIsVisible=false;p={x:[],y:[]}}function S(e,t,n){var i={rect:new r(0,0,0,0),startVal:0,updateVal:0,component:t};n?p[e].push(i):p[e][0]=i;return i}function E(e,t,n){var i=p[e],o="x"===e&&n.yMirrorMode;var s=o?t.end:t.start;var a=o?t.start:t.end;var l=y(n,s,a);var u=l.l1||(o?null:t.label);var c=l.l2||(o?t.label:null);var f=-1;for(var d=0;d<i.length;d++){var h=o?i[d].updateVal<=a&&s<=i[d].startVal:i[d].startVal<=s&&a<=i[d].updateVal;if(h){f=d;break}}if(-1===f)i.push({startVal:s,startLabel:u,updateVal:a,updateLabel:c,component:n,rect:new r(0,0,0,0),maxIncluded:false});else{var v=i[f];i[f]={startVal:v.startVal,startLabel:v.startLabel,updateVal:s,updateLabel:u,component:n,rect:new r(0,0,0,0),maxIncluded:false};i.push({startVal:a,startLabel:c,updateVal:v.updateVal,updateLabel:v.updateLabel,component:n,rect:new r(0,0,0,0),maxIncluded:false})}D(e,n.yMirrorMode)}function D(e,t){var n="x"===e&&t;var i=n?"updateVal":"startVal";var r=n?"startVal":"updateVal";var o=p[e];o.sort(function(e,t){return e[i]<t[i]?-1:e[i]>t[i]?1:0});for(var s=o.length-1;s>=0;--s){if(o[s].startVal===o[s].updateVal){o.splice(s,1);continue}if(s<o.length-1){var a=o[s][r];var l=o[s+1][i];if(a>=l){if(o[s+1][r]>o[s][r]){o[s][r]=o[s+1][r];n?o[s].startLabel=o[s+1].startLabel:o[s].updateLabel=o[s+1].updateLabel}o.splice(s+1,1);s<o.length-1&&++s}}}}function O(e,t,n){e||(e="x");t||(t=0);var i=p[e][t];if(!i){i={rect:new r(0,0,0,0),startVal:0,endVal:0};p[e][t]=i}i.component=n;return i}function A(e,t,n,i){var r=[],o=this._previousShapes?this._previousShapes.slice():[],s,a=this.getActiveMode(),l=p["y"===t?"x":"y"];if("range.discrete"===a){r=this.shapesFromRectForDirection(e.rect,t,"dataArea");r=this.groupedItemsFromShapes(r);r.forEach(function(e){var t=o.indexOf(e);t>=0&&o.splice(t,1);e.selectionMode=a});n.call(this,r,i);this._clearPrev&&n.call(this,o,this.ToggleFlag.deselect);this._shapes=r}else if("range.dimension"===a){if(this.components.dataArea&&this.components.dataArea[0].updateRangeSelection){var u=p[t].map(function(e){return I(e.startVal,e.updateVal,e.maxIncluded)});this.handler.UpdateRanges.emit(u)}}else{if(q.call(this)){s=l.length?e.rect.intersection(l[0].rect):e.rect;this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].getIsReduced()||(r=this.shapesFromRect(s,"dataArea"));this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].updateRangeSelection(s)}else r=this.shapesFromRange(e.startVal,e.updateVal);r.forEach(function(e){e.selectionMode=a});n.call(this,r,i);this._shapes=r}}function L(e,t,n,i){var r=this.getComponentKey(this.activeComponent),o=t,s=this.ToggleFlag.select,a=this.toggleSelection;w.call(this,v,o,e,n,i);var l=this.getActiveMode();"range.measure"===l?this.clearSelection(true):this._shapes&&a.call(this,this._shapes,this.ToggleFlag.deselect);A.call(this,e,r,a,s);this.updateRangeDisplay()}function I(e,t,n){return{min:Math.min(e,t),max:Math.max(e,t),maxIncluded:!!n}}function T(e,t){var n=t.isDiscrete&&t.isDiscrete();return n||!t.isDimension?t.getFormatter().format(e):t.formatValue(e)}function k(e){return o.getValue(e,"qHyperCube.qDimensionInfo.0.qIsOneAndOnlyOne",false)}s=n.extend("RangeSelection",{init:function e(t,n){this._super(t,n);this._shapes=null;this._nrEditing=0;this.setActiveMode("item")},initComponent:function e(t){this.previousComponent=this.activeComponent;this.setActiveComponent(this.getComponent(t.x,t.y));h.activeComponent=this.activeComponent;-1!==this.components.x.indexOf(h.activeComponent)?h.hComponent=h.activeComponent:-1!==this.components.y.indexOf(h.activeComponent)&&(h.vComponent=h.activeComponent)},setDirection:function e(t){this.options.rtl="rtl"===t},refreshContainer:function t(){var n=this.components.dataArea[0].rect,i=e(this.components.dataArea[0].container).position(),o=new r(i.left,i.top,n.width,n.height),s,a=[];["x","y"].forEach(function(e){this.components[e]&&!this.components[e].contains(this.activeComponent)&&(a=a.concat(this.components[e]))}.bind(this));this.activeComponent&&a.push(this.activeComponent);a.forEach(function(t){if(t.isVisible()){s=e(t.container).position();o=o.combineWith(new r(s.left,s.top,t.rect.width,t.rect.height))}},this);this._offset={left:i.left-o.x,top:i.top-o.y};c.css({left:o.x,top:o.y,width:o.width,height:o.height})},resetSelectedShapes:function e(){this._previousSelectedShapes=this._selectedShapes.concat();this._super()},getIsEditing:function e(){return this._editing},confirmEdit:function e(){h.$broadcast("confirmEdit")},getRect:function e(t,n){if(!t)return new r(0,0,0,0);n=n||false;return t.hasOwnProperty("innerRect")&&!n?t.innerRect:t.rect},getExtendedRect:function e(t){if(!t)return new r(0,0,0,0);if(t.hasOwnProperty("extendedRect"))return t.extendedRect;return this.getRect(t)},getTransformedPoint:function e(t,n){var r=this.getRect(this.activeComponent||this.components.dataArea[0],true);return new i(t-r.x-this.handler.containerRect.x,n-r.y-this.handler.containerRect.y)},getComponent:function e(t,n){var r=new i(t-this.handler.containerRect.x,n-this.handler.containerRect.y);return Object.keys(this.components).map(function(e){return this.components[e]},this).reduce(function(e,t){return e.concat(t)}).filter(function(e){return this.getRect(e).pointInside(r.x,r.y)},this)[0]},checkActiveMode:function e(t,n){t.contains(this.handler.getActiveMode())||this.clearSelection(n);this.setActiveMode(t[0])},toggleRect:function e(t,n,i){this.start(t,n);this.update(t,i);this.end(t)},toggle:function e(t,n,i){i=void 0!==i?i:this.handler.getKeyAsToggleSelected(t);var r;i||this.clearSelection();this.resetSelectedShapes();this._editing&&this.confirmEdit();if(this.activeComponent&&"function"===typeof this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()){this.cancel();r=this.getTransformedPoint(n.x,n.y);var o=this.shapesFromPoints([r]),s=this.options.toggle.callback||this.toggleSelection,a=this.ToggleFlag.auto|this.ToggleFlag.tooltip;a=k(this.activeComponent.backendApi.model.layout)?this.ToggleFlag.replace:a;o=this.groupedItemsFromShapes(o);o.forEach(function(e){e.selectionMode="dataArea"});this.checkActiveMode(["item"]);s.call(this,o,a)}else if(this.activeComponent&&this.activeComponent.isDimension){r=this.getTransformedPoint(n.x,n.y);var l=this.activeComponent.getLabelFromPoint(r);if(l){this.checkActiveMode(["range.dimension"]);this.resetSelectedShapes();var u=this.getComponentKey(this.activeComponent);E(u,l,this.activeComponent);A.call(this,null,u,null,null);this.selectRange();this.refreshContainer();this.initWatchers();this.updateRangeProjection();this.updateRangeDisplay()}}},updateRangeDisplay:function e(){h.hRanges=[];h.vRanges=[];h.vRanges=p.y.map(function(e){var t=new i(e.rect.x,e.rect.y);var n=new i(e.rect.x+e.rect.width,e.rect.y+e.rect.height);var r=e.startLabel||(Number.isNaN(+e.startVal)?e.startVal:T(e.startVal,e.component));var o=e.updateLabel||(Number.isNaN(+e.updateVal)?e.updateVal:T(e.updateVal,e.component));e.maxIncluded||(o="<"+o);return{points:[n,t],values:{start:{text:o,value:e.updateVal},end:{text:r,value:e.startVal}}}});h.hRanges=p.x.map(function(e){var t=new i(e.rect.x,e.rect.y);var n=new i(e.rect.x+e.rect.width,e.rect.y+e.rect.height);var r=e.startLabel||(Number.isNaN(+e.startVal)?e.startVal:T(e.startVal,e.component));var o=e.updateLabel||(Number.isNaN(+e.updateVal)?e.updateVal:T(e.updateVal,e.component));e.maxIncluded||(e.component.yMirrorMode?r="<"+r:o="<"+o);return{points:[t,n],values:{start:{text:r,value:e.startVal},end:{text:o,value:e.updateVal}}}});p.y.length>0&&(h.vOptions={rect:this.getRect(p.y[0].component,true).clone(),offset:this._offset.top,padding:p.y[0].component.getPadding(),dock:p.y[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});p.x.length>0&&(h.hOptions={rect:this.getRect(p.x[0].component,true).clone(),offset:this._offset.left,padding:p.x[0].component.getPadding(),dock:p.x[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});if(!h.rangeSelectIsVisible){this.handler.container.append(c);c.show();h.rangeSelectIsVisible=true}h.$digest()},initWatchers:function e(){if(!this._rangeEventWatchers){var t=this;this._rangeEventWatchers=[];this._rangeEventWatchers.push(h.$on("rangeStart",function(){t.resetSelectedShapes();t._shapes=t._previousShapes;t._clearPrev=true}));this._rangeEventWatchers.push(h.$on("rangeUpdate",function(e,n,i,r,o,s){v=n[0];t.components[i].indexOf(t.activeComponent)<0&&t.setActiveComponent(t.components[i][0]);var a=p[i][r];L.call(t,a,n[1],o,s);t._clearPrev=false}));this._rangeEventWatchers.push(h.$on("rangeEditChanged",function(e,n){t._nrEditing=n?t._nrEditing+1:t._nrEditing-1;if(t._nrEditing>1){t.confirmEdit();t._nrEditing=1;e.targetScope.onEditBubble()}t._editing=t._nrEditing>0}));this._rangeEventWatchers.push(h.$on("rangeEnd",function(){t.end();t._clearPrev=false}));this._rangeEventWatchers.push(h.$on("rangeToggle",function(e,n,i){t.toggle(n,i)}))}},start:function e(t,n){if(this.handler._disableSelections)return true;this.resetSelectedShapes();this.refreshContainer();this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()?this.checkActiveMode(["range.discrete","item"]):this.activeComponent.isDimension?this.checkActiveMode(["range.dimension"]):this.checkActiveMode(["range.measure"]);var i=this.getComponentKey(this.activeComponent);if("x"!==i&&"y"!==i)return;this.currentRange=S(i,this.activeComponent,"range.dimension"===this.getActiveMode());this.initWatchers();v=this.getTransformedPoint(n.x,n.y)},update:function e(t,n){if(this.handler._disableSelections)return true;L.call(this,this.currentRange,this.getTransformedPoint(n.x,n.y),false)},updateShapesState:function e(){var t=this.getComponentKey(this.activeComponent),n=O(t,0,this.activeComponent),i=this.getActiveMode(),r=this.ToggleFlag.select,o=[],s=this.toggleSelection;this.clearSelection(true);if(this.activeComponent.isDiscrete&&!this.activeComponent.isDiscrete()){o=this.shapesFromRange(n.startVal,n.updateVal);o.forEach(function(e){e.selectionMode=i});s.call(this,o,r)}this._shapes=o},updateRangeProjection:function e(){var t=this.components.dataArea[0].rect;p.x.forEach(function(e){var n=e.component.getPositionOfValue(e.startVal);var i=e.component.getPositionOfValue(e.updateVal);var r=Math.min(n,i);var o=Math.max(n,i);var s=0;var a=t.height;e.rect.set(r,s,o-r,a-s)});p.y.forEach(function(e){var n=e.component.getPositionOfValue(e.startVal);var i=e.component.getPositionOfValue(e.updateVal);var r=0;var o=t.width;var s=Math.max(n,i);var a=Math.min(n,i);e.rect.set(r,a,o-r,s-a)})},end:function e(){if(this.handler._disableSelections)return true;this.currentRange=null;if("range.dimension"===this.getActiveMode()){var t=this.getComponentKey(this.activeComponent);D(t,this.activeComponent.yMirrorMode);this.updateRangeProjection()}this.updateRangeDisplay();this.selectRange();this._previousShapes=this._shapes;this._shapes=null},cancel:function e(){if(this.handler._disableSelections)return true;this._nrEditing=0;this._editing=false;var t=this.getActiveMode();"range.discrete"===t&&this.setActiveMode("item");this._shapes=null;C.call(this)},clearSelection:function e(t){t=t||false;this._shapes=null;if(t)this._super();else{this._super();C.call(this)}},selectRange:function e(){var t=this.handler.SelectRange,n=[],i=false;if(!this.activeComponent)return;if("range.discrete"===this.getActiveMode()){var r=this._previousSelectedShapes,o=this.getSelectedShapes().concat();r.forEach(function(e){var t=o.indexOf(e);-1===t&&o.push(e)});o.length>0&&this.handler.Select.emit(o);return}p.x.concat(p.y).forEach(function(e){e.component.getType().current.forEach(function(t){n.push({idx:t,type:e.component.getType().type,range:I(e.startVal,e.updateVal,e.maxIncluded)})})});i=!q.call(this);this._editing||t.emit(n,i)},on:function e(){if(!a){var n=t.getService("$compile");var i=t.getService("$rootScope");h=i.$new();f.className="selections-range-ui";c.append(d);c.hide();n(f)(h);a=true;h.rangeSelectIsVisible=false}h.$broadcast("on")},off:function e(){if(!this.activeComponent)return;h.$broadcast("off");this.setActiveComponent(null);C.call(this)}});s.defaultOptions={toggle:{callback:null}};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(96),n(48),n(146),n(664),n(665)],r=function(e,t,n,i){var r=".rangeselection";function o(e,t,i,r){var o=[];o[t]="y"===i?new n(e[t].x,e[t].y+r):new n(e[t].x+r,e[t].y);o[1^t]=e[1^t];return o}function s(e){e.$emit("rangeStart")}function a(e,t,n,i,r){e.$emit("rangeUpdate",t,n,i,r)}function l(e,t){e.$emit("rangeEnd",t)}function u(e,t,n){return t?e[0][n]>e[1][n]?0:1:e[0][n]<e[1][n]?0:1}function c(t,n,i,c){var f,d,p=i?"x":"y",h;e(n).tap({id:r,options:{preventDefault:true},start:function t(){e.preventGestures(this.gestureHandler)}}).swipe({id:r,options:{radiusThreshold:0},start:function n(){d=u(t.range.points,c,p);f=t.range.points;e.preventGestures(this.gestureHandler);s(t)},update:function e(n,r){t.range.points=o(f,d,p,i?r.swipe.deltaX:r.swipe.deltaY);t.$digest();t.range.far=false;t.range.near=false;h=u(t.range.points,c,p)^!i?"far":"near";t.range[h]=true;a(t,t.range.points,p,t.$index,false)},end:function e(){l(t,t.range.points);t.range.near=false;t.range.far=false}})}function f(t,n){if(t.isOn)return;t.isOn=true;var i="hey";e(t.axisCover).tap({id:r,options:{preventDefault:true},start:function t(){e.preventGestures(this.gestureHandler)},end:function e(t,i){n.$emit("rangeToggle",t,i.pagePoints[0])}}).swipe({id:r,options:{preventDefault:true},start:function t(){i=n.range.points;e.preventGestures(this.gestureHandler);s(n);n.range.cover=true},update:function e(r,o){"y"===t.dir?n.range.points=[{x:i[0].x,y:i[0].y+o.swipe.deltaY},{x:i[1].x,y:i[1].y+o.swipe.deltaY}]:n.range.points=[{x:i[0].x+o.swipe.deltaX,y:i[0].y},{x:i[1].x+o.swipe.deltaX,y:i[1].y}];n.$digest();a(n,n.range.points,t.dir,n.$index,true)},end:function e(){l(n,n.range.points);n.range.cover=false}});if(!e.utils.touch){var o="x"===t.dir;c(n,t.farEdge,o,o);c(n,t.nearEdge,o,!o)}}function d(t){e(t.axisCover).off("*",r);e(t.farEdge).off("*",r);e(t.nearEdge).off("*",r);t.isOn=false}t.directive("qvaRangeSelectionRange",function(){return{scope:false,link:function e(t,n,i){var r={isOn:false,dir:i.qvaRangeSelectionRange,axisCover:n.find(".axis-cover")[0],farEdge:n.find(".far-edge")[0],nearEdge:n.find(".near-edge")[0]};f(r,t);t.$on("on",function(){f(r,t)});t.$on("off",function(){d(r)});t.$on("$destroy",function(){d(r)})}}});t.directive("qvaRangeSelection",function(){return{template:i,replace:true,scope:{vOptions:"=",hOptions:"=",vRanges:"=",hRanges:"=",activeComponent:"=",hComponent:"=",vComponent:"=",visible:"="},link:function e(t){t.vRelevantSize=0;t.hRelevantSize=0;t.activeOptions={y:{far:false,near:false,cover:false},x:{far:false,near:false,cover:false}};t.setRangeStyle=function(e,t,n){if(!t||!n)return;t.forEach(function(t){var n=t.points[0],i=t.points[1];t.style="y"===e?{height:Math.abs(n[e]-i[e]),top:Math.min(n[e],i[e])}:{width:Math.abs(n[e]-i[e]),left:Math.min(n[e],i[e])}})};t.$watchCollection("[vRanges, vOptions]",function(e){t.setRangeStyle("y",e[0],e[1])});t.$watchCollection("[hRanges, hOptions]",function(e){t.setRangeStyle("x",e[0],e[1])});t.$watch("hOptions",function(e){e&&t.setRelevantSize("x",e.rect.height)});t.$watch("vOptions",function(e){e&&t.setRelevantSize("y",e.rect.width)});t.setRelevantSize=function(e,n){if("x"===e){t.hRelevantSize={height:n+"px"};t.hWrappperSize={height:"calc(100% - "+n+"px)"}}else{t.vRelevantSize={width:n+"px"};t.vWrappperSize={width:"calc(100% - "+n+"px)"}}}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qvt-range-selection">\n\t<div class="range-vertical-clip" ng-style="{ top: vOptions.offset, height: vOptions.rect.height }" ng-class="{ clip: vOptions.shouldClip }">\n\t\t<div class="range-vertical"\n\t\t\t ng-repeat="range in vRanges track by $index"\n\t\t\t qva-range-selection-range="y"\n\t\t\t ng-class="{\'near\': vOptions.dock == \'left\', \'far\' : vOptions.dock == \'right\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="vRelevantSize" tid="range-vertical-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\t\t\t<div class="far-edge" tid="range-vertical-far" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-vertical-near" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="vWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-near-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="false" data="range.values.start" active="range.far"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-far-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="true" data="range.values.end" active="range.near"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="range-horizontal-clip" ng-style="{ left: hOptions.offset, width: hOptions.rect.width }" ng-class="{ clip: hOptions.shouldClip }">\n\t\t<div class="range-horizontal"\n\t\t\t ng-repeat="range in hRanges track by $index"\n\t\t\t qva-range-selection-range="x"\n\t\t\t ng-class="{\'near\': hOptions.dock == \'bottom\', \'far\' : hOptions.dock == \'top\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="hRelevantSize" tid="range-horizontal-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\n\t\t\t<div class="far-edge" tid="range-horizontal-far" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-horizontal-near" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="hWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-near-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="false" data="range.values.start" active="range.near"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-far-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="true" data="range.values.end" active="range.far"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(96),n(48),n(666)],r=function(e,t,n,i){var r=".rangeselection";function o(e){e.$emit("rangeStart")}function s(e,t){e.editing=t;e.$emit("rangeEditChanged",t)}function a(e,t,n,i,r){e.$emit("rangeUpdate",t,n,i,false,r)}function l(e,t){e.$emit("rangeEnd",t)}function u(){e(this).css("width",6*e(this).val().length+50+"px")}n.directive("qvaRangeSelectionBubble",["$timeout",function(e){return{template:i,replace:true,restrict:"E",scope:{data:"=",active:"=",far:"=",horizontal:"=",activeComponent:"=",handlePoints:"=",visible:"=",rangeIndex:"="},link:function n(i,c){var f=c.find(".range-input"),d=c.find(".range-bubble"),p={},h=false;i.$watch("activeComponent",function(){i.editable=i.activeComponent&&!i.activeComponent.isDimension&&!i.activeComponent.isDiscrete()&&"function"===typeof i.activeComponent.getPositionOfValue;if(i.editable){f.removeClass("non-editable");d.removeClass("non-editable")}else{f.addClass("non-editable");d.addClass("non-editable")}});i.endEditing=function(){i.invalid=false;if(i.editing){s(i,false);f.blur()}};i.$watch("data.value",function(e){if(Number.isNaN(+e)){i.invalid=true;return}i.editing&&i.endEditing();f.val(e)});i.$watch("visible",function(){i.visible||i.endEditing()});i.$on("off",function(){i.endEditing();t(f[0]).off("*",r);t(d[0]).off("*",r);c.off("keyup"+r,"*");h=false});i.onEditBubble=function(){i.editing=true;f.css("width",d.width());i.$digest();f.focus();f[0].setSelectionRange(0,9999);i.$digest();e(function(){u.call(f)})};function v(){if(h)return;h=true;t(f[0]).tap({id:r,options:{preventDefault:false},start:function e(){t.preventGestures(this.gestureHandler)}});t(d[0]).tap({id:r,start:function e(){t.preventGestures(this.gestureHandler)},end:function e(){if(!i.editable||i.editing)return;s(i,true);i.onEditBubble()}}).swipe({id:r,start:function e(){p=[{x:i.handlePoints[0].x,y:i.handlePoints[0].y},{x:i.handlePoints[1].x,y:i.handlePoints[1].y}];t.preventGestures(this.gestureHandler);o(i)},update:function e(t,n){var r=i.far?1:0,o,s,l,u;if(i.horizontal){o=n.swipe.deltaX;s="x"}else{o=n.swipe.deltaY;s="y"}l=p[1^r][s];u=p[r][s]+o;if(0===r&&(i.horizontal&&u>l||!i.horizontal&&u<l)){r=1;l=p[1][s]}else if(1===r&&(i.horizontal&&u<l||!i.horizontal&&u>l)){r=0;l=p[0][s]}i.handlePoints[r][s]=u;i.handlePoints[1^r][s]=l;i.$digest();a(i,i.handlePoints,s,i.rangeIndex)},end:function e(){l(i,i.handlePoints)}});f.keyup(u);i.onEditConfirmed=function(){if(!i.editing)return;var e=f.val(),t={value:parseFloat(e),index:i.far?1:0,switch:false},n=i.activeComponent.getPositionOfValue(t.value),r,o,s=i.handlePoints;if(Number.isNaN(+t.value))i.invalid=true;else{o=i.horizontal?"x":"y";s[t.index][o]=n;if(i.horizontal&&s[1][o]<s[0][o]||!i.horizontal&&s[1][o]>s[0][o]){r=s[1][o];s[1][o]=s[0][o];s[0][o]=r;t.index=t.index?0:1;t.switch=true}i.endEditing();a(i,i.handlePoints,o,i.rangeIndex,t);l(i,i.handlePoints)}i.$digest()};i.$on("confirmEdit",i.onEditConfirmed)}i.$on("on",v);v()}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="bubble-wrapper" ng-class="{\'far\' : far, \'near\' : !far}">\n\t<div ng-show="!editing" qva-direction x-dir-text="{{data.text}}" class="bubble range-bubble" ng-class="{\'active\' : active}">{{data.text}}</div>\n\t<input ng-show="editing" type="text" ng-class="{\'active\' : active, \'invalid\': invalid}" class="bubble range-input"/>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(668)],r=function(e){var t;t=e.extend({setIsEditing:function e(t,n){this._editing=t;this._scope=n},getIsEditing:function e(){return this._editing},confirmEdit:function e(){this._scope.$broadcast("confirmEdit")},selectWhileLocked:function e(t){this.handler.SelectWhileLocked.emit(t)}});t.defaultOptions={captureInput:true,toggle:{callback:null}};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(266),n(104)],r=function(e,t){var n;function i(e,t){var n,i,r=t[0],o=false;for(n=0;n<e.length;n++){i=e[n];if(i.startVal===r.startVal&&i.updateVal===r.updateVal){e.splice(n,1);n--;o=true}}o||(e=e.concat(t));return e}n=e.extend({init:function e(t,n){this._super(t,n);this.internal=true},release:function e(){},initComponent:function e(t,n){document.activeElement&&document.activeElement.blur();if(n)this.setActiveComponent(n);else{this.handler.refreshContainerRect();this.setActiveComponent(this.getComponent(t.x,t.y,this.handler.containerRect))}},getRect:function e(n){if(!n)return new t(0,0,0,0);return n.hasOwnProperty("innerRect")?n.innerRect:n.rect},setComponent:function e(t,n){this._super(t,n);var i=Array.isArray(n)?n.concat():[n];i.forEach(function(e){e.selections=this;this.handler._isListening&&n.on()},this)},addComponent:function e(t,n){this._super(t,n);n.selections=this;this.handler._isListening&&n.on()},removeComponent:function e(t,n){this._super(t,n);n.selections=null;n.off()},updateFromItems:function e(t,n,i,r){var o=this.handler,s=this;if(!o.canTypeBeActivated(this)){o.SelectWhileLocked.emit(i?this.activeComponent.getAttributeDimensionInfo():void 0);return}this.resetSelectedShapes();this.setActiveMode(i?"item"+this.activeComponent.getColorMap().getColorDataInfo().legendPath.replace(/\//g,"."):"item");o.activate(this);i&&o.SelectAttributeDim.emit(r,o.getKeyAsToggleSelected(t));n=n.filter(function(e){return s._allowNullSelect||!s.shapesFrom._isNull(e,s.activeComponent.getSelectionIndices())});if(n.length){var a=this.options.toggle.callback||this.toggleSelection;a.call(this,n);i||o.Select.emit(this.getSelectedShapes(),o.getKeyAsToggleSelected(t))}},rangeStart:function e(t){var n=this.handler;if(!n.canTypeBeActivated(this)){n.SelectWhileLocked.emit();return}this.setActiveMode("range.measure");n.activate(this);t&&this.resetSelectedShapes()},rangeUpdate:function e(t,n){var r=this.handler;if(!r.canTypeBeActivated(this)){r.SelectWhileLocked.emit();return}var o=this.options.toggle.callback||this.toggleSelection,s=[],a,l=this.ToggleFlag.select;this.clearSelection(true);this._rangeObjects&&n&&(t=i(this._rangeObjects,t));for(a=0;a<t.length;a++){var u=t[a];s=s.concat(this.shapesFromRange(u.startVal,u.updateVal,true,u.isMax))}s.forEach(function(e){e.selectionMode="range.measure"});o.call(this,s,l);this._rangeObjects=t;this._shapes=s},rangeEnd:function e(){this.selectRange();this._shapes=null},toggle:function e(){},cancel:function e(){this._rangeObjects=null;this.activeComponent.cancelSelection()},clearSelection:function e(t){this._super();if(!t){this._rangeObjects=null;this.activeComponent.clearSelection()}},selectRange:function e(){var t=this.handler.SelectRange,n,i,r=[];if(!this._rangeObjects)return;for(n=0;n<this._rangeObjects.length;n++){i=this._rangeObjects[n];r.push({idx:i.idx||0,range:{min:Math.min(i.startVal,i.updateVal),max:Math.max(i.startVal,i.updateVal),maxInclEq:!!i.isMax}})}t.emit(r,true)}});n.defaultOptions={};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(48),n(10),n(91),n(106),n(101),n(670)],r=function(e,t,n,i,r,s){function a(e){if("object"===o(e)){e=e.qStringExpression.qExpr;"="!==e[0]&&(e="="+e)}return e}function l(e){if(e&&0===e.indexOf("="))return{qStringExpression:{qExpr:e}};return e}e.directive("qvInlineTitleInput",[function(){return{priority:1,require:"ngModel",link:function t(n,i,r,o){i.unbind("input keydown change compositionend");i.bind("blur",function(){e.$apply(n,function(){o.$setViewValue(i.val());n.doEdit()})});n.$on("$destroy",function(){i.trigger("blur")});i.bind("keydown",function(e){e.stopPropagation();if(27===e.which){i.val(o.$viewValue);i.trigger("blur")}else 13===e.which&&"textarea"!==i[0].nodeName.toLowerCase()&&i.trigger("blur")})}}}]);e.directive("qvInlineTitleEdit",["$timeout",function(e){return{template:s,restrict:"A",scope:{model:"=",propertyPath:"@",layoutPath:"@",emptyTranslation:"@",dirSetting:"@"},priority:1,link:function o(s,u){var c=u.children().first(),f=u.children().eq(1),d=u.children().eq(2);s.editing=false;s.titleProperty="";s.titleValue="";s.addTranslation=n.get(s.emptyTranslation);i(s,"model",function(e){s.displayValue=r.getValue(e,s.layoutPath);s.editing=false});s.doEdit=function(){var e=l(s.titleValue);s.editing&&(t.equals(p,e)?s.editing=false:s.model.getProperties().then(function(t){r.setValue(t,s.propertyPath,e);s.model.setProperties(t);p=e}))};var p;c.add(f).on("qv-activate",function(){s.editing||s.model.getProperties().then(function(t){var n=d.get(0);var i=r.getValue(t,s.propertyPath);var o=a(i);var l=o.length;if(o.indexOf("\n")>-1)return;s.editing=true;s.titleProperty=i;s.titleValue=o;p=s.titleProperty;n.scrollLeft=n.scrollWidth;n.selectionStart=l;n.selectionEnd=l;e(function(){n.focus();n.setSelectionRange(l,l)})})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-show="!editing && displayValue == \'\'" class="qv-inline-edit-button">\n\t<div qva-direction x-dir-setting="{{dirSetting}}" class="add-content" q-title-translation="{{emptyTranslation}}">\n\t\t<span class="lui-icon lui-icon--plus"></span>\n\t\t<span class="add-text" qva-direction x-dir-text="{{addTranslation}}" title="{{addTranslation}}">{{addTranslation}}</span>\n\t</div>\n</div>\n<div qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="!editing && displayValue != \'\'" class="qv-inline-edit-value">{{displayValue}}</div>\n<input qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="editing" class="qv-inline-edit-input" type="text" ng-model="titleValue" qv-inline-title-input maxlength="255"/>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(1090),n(1091),n(49),n(2)],r=function(e,t,i,r){function o(e){var t=n.p+e;return r.get(t,{responseType:"json"}).then(function(e){if(e.data)return e.data;console.warn("Parsing error for extension: "+t);return{}}).catch(function(e){console.warn("Couldn't get bundled extensions qext: "+t+". Error: "+e);return{}})}var s={};s.getDashBundleList=function(){var t=e.content.map(function(e){if("qlik-share-button"===e.id&&!i.getFlag("SHARE_BUTTON_EXTENSION"))return;return o("_dashboard-bundle/"+e.id+"/"+e.id+".qext").then(function(t){t.folder="_dashboard-bundle";return{id:e.id,data:t,path:"_dashboard-bundle/"+e.id+"/"+e.id}})});return t.filter(function(e){return e})};s.getVisBundleList=function(){var e=t.content.map(function(e){if(!i.getFlag("VIZBUN_QCS_SMARTPIVOT")&&"qlik-smart-pivot"===e.id)return;if(!i.getFlag("VIZBUN_QCS_TRELLIS")&&"qlik-trellis-container"===e.id)return;if(!i.getFlag("VIZBUN_QCS_31")&&("qlik-barplus-chart"===e.id||"qlik-bullet-chart"===e.id))return;return o("_visualization-bundle/"+e.id+"/"+e.id+".qext").then(function(t){t.folder="_visualization-bundle";return{id:e.id,data:t,path:"_visualization-bundle/"+e.id+"/"+e.id}})});return e.filter(function(e){return e})};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="q-card-header-container" qva-direction x-dir-setting="{{direction}}">\n\t<div class="q-card-header">\n\t\t<span q-translation="ObjectInfo.Dialog.Header"></span>\n\t</div>\n\t<div>\n\t\t<button class="lui-fade-button close-button" q-title-translation="Common.Close" qva-activate="close()">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--close"></span>\n\t\t</button>\n\t</div>\n</div>\n<div class="content"></div>'},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(113),n(311),n(181),n(49),n(329),n(11),n(674)],r=function(e,t,n,i,r,s){function a(e){var t=e.cells;var i=e.rows;var r=e.columns;t.forEach(function(t){if(!t.bounds){var o={};t.bounds=o;o.y=t.row/i*100;o.x=t.col/r*100;o.width=t.colspan/r*100;o.height=t.rowspan/i*100}n.alignToGrid(e,t)})}function l(e){return e.layoutOptions&&e.layoutOptions.sheetMode?e.layoutOptions.sheetMode:"RESPONSIVE"}function u(e){var n=l(e);if(n&&"RESPONSIVE"!==n){if("CUSTOM"===n){e.rows=t.getCustomRows(e);e.columns=t.getCustomCols(e)}}else{e.height?e.rows=Math.ceil(t.getResolutionFor(e.gridResolution)*e.height/100):e.rows=t.getResolutionFor(e.gridResolution);e.columns=2*t.getResolutionFor(e.gridResolution)}a(e)}var c={type:"items",component:"accordion",defaultActiveTabIndex:0,items:{sheetProps:{type:"items",translation:"properties.sheetProperties",items:{title:{type:"string",ref:"qMetaDef.title",translation:"Common.Title",minlength:1,readOnly:function e(t,n,i){var r=i.layout;return r&&(r.permissions&&!r.permissions.update||r.qMeta&&r.qMeta.sourceObject&&r.qMeta.sourceObject.length>0)},rollbackInvalid:true},labelExpression:{type:"string",ref:"labelExpression",translation:"properties.titleExpression",readOnly:function e(t,n,i){var r=i.layout;return r&&(r.permissions&&!r.permissions.update||r.qMeta&&r.qMeta.sourceObject&&r.qMeta.sourceObject.length>0)},rollbackInvalid:true,expression:"optional",show:e.SHEET_NAME_EXPR},description:{type:"string",component:"textarea",expression:"optional",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},change:function e(t,n,i){if("object"===o(i.qMetaDef.description)){i.descriptionExpression=i.qMetaDef.description;i.qMetaDef.description=""}else if("string"===typeof i.descriptionExpression&&i.descriptionExpression){i.qMetaDef.description=i.descriptionExpression;i.descriptionExpression=void 0}},refFn:function e(t){var n="object"===o(t.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},translation:"Common.Description"},items:{type:"items",grouped:true,items:{thumbnail:{translation:"properties.sheetProperties.thumbnail",type:"string",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},component:"sheet-thumbnail",defaultValue:""},gridSize:{translation:"properties.gridSize",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},type:"string",component:"dropdown",ref:"gridResolution",defaultValue:t.getPreferredGridSize,options:[{value:"small",translation:"properties.gridSmall"},{value:"medium",translation:"properties.gridMedium"},{value:"large",translation:"properties.gridLarge"}],show:function e(n){n.gridResolution||(n.gridResolution=t.getResolutionFor(n.rows));a(n);return true},change:function e(n){t.setPreferredGridSize(n.gridResolution);u(n);a(n);if(i.getFlag("SSA_IN_EDIT")){var r=s("#grid");r.addClass("reveal-gridguides");r.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){s(this).removeClass("reveal-gridguides")})}}},sheetSizeOptions:{type:"items",ref:"grid",items:{layout:{type:"items",items:{LayoutMode:{translation:"properties.layoutMode",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},type:"string",component:"dropdown",ref:"layoutOptions.sheetMode",defaultValue:"RESPONSIVE",options:[{value:"RESPONSIVE",translation:"properties.responsive"},{value:"CUSTOM",translation:"properties.custom"}],change:function e(t){u(t)}},sheetSize:{type:"items",show:function e(t){return"CUSTOM"===l(t)},readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},items:{width:{readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},defaultValue:1280,ref:"pxWidth",type:"integer",translation:"properties.customWidth",change:function e(n){n.pxWidth=t.checkSheetPixelLimits(n.pxHeight,n.pxWidth).pxWidth;u(n)}},height:{readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},defaultValue:1024,ref:"pxHeight",type:"integer",translation:"properties.customHeight",change:function e(n){n.pxHeight=t.checkSheetPixelLimits(n.pxHeight,n.pxWidth).pxHeight;u(n)}}}}}},mobileLayout:{translation:"properties.mobileLayout",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},component:"dropdown",type:"string",ref:"layoutOptions.mobileLayout",defaultValue:"LIST",show:function e(t){return i.getFlag("MOBILE_GRID")&&"CUSTOM"!==l(t)},options:[{value:"LIST",translation:"properties.listView"},{value:"GRID",translation:"properties.gridView"}],change:function e(n){t.setPreferredMobileLayout(n.layoutOptions.mobileLayout)}},ExtendSheet:{translation:"properties.extendSheet",readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update},show:function e(t){return!("CUSTOM"===l(t))},type:"boolean",component:"switch",ref:"layoutOptions.extendable",defaultValue:"false",options:[{value:false,translation:"properties.off"},{value:true,translation:"properties.on"}],change:function e(t){t.height||(t.height=100);t.layoutOptions.sheetMode||(t.layoutOptions.sheetMode="RESPONSIVE");u(t)}}}}}},expandButton:{translation:"Expand sheet",component:"button",action:function e(n,i,r,o){if(n.height){n.height+=50;n.rows=Math.ceil(t.getResolutionFor(n.gridResolution)*n.height/100)}else{n.height=150;n.rows=1.5*t.getResolutionFor(n.gridResolution)}o.$emit("saveProperties",n)},show:function t(){return e.SCROLL_BUTTON},readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update}},CollapseButton:{translation:"Collapse sheet",component:"button",action:function e(n,i,r,o){if(n.height){n.height-=50;n.rows=Math.ceil(t.getResolutionFor(n.gridResolution)*n.height/100)}else{n.height=100;n.rows=t.getResolutionFor(n.gridResolution)}o.$emit("saveProperties",n)},show:function t(){return e.SCROLL_BUTTON},readOnly:function e(t,n,i){var r=i.layout;return r&&r.permissions&&!r.permissions.update}}}}}};i.getFlag("ALT_STATE_ONE")&&(c.items.alternateState=r);return c}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(165),n(121),n(675)],r=function(e,t,n){var i={template:n,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineReadOnly(e,e.args.handler);e.item={qData:e.data,qMeta:{published:e.args.model.layout.qMeta.published}};e.save=function(){e.$emit("saveProperties")};e.$on("thumbnailchanged",function(){e.save()});e.$on("layoutchanged",function(t,n){e.thumbLayout={thumbnail:n.thumbnail}});e.thumbLayout={thumbnail:e.args.model.layout.thumbnail}}]};e.addComponent("sheet-thumbnail",i);return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="pp-component pp-media-component pp-sheet-thumbnail-component" tcl="media">\n\t<div class="label" ng-if="label">{{label}}</div>\n\t<div class="value">\n\t\t<div class="placeholder">\n\t\t\t<div qv-ao-thumb item="item" issheet="true" thumbprop="data.thumbnail" thumblayout="thumbLayout.thumbnail" editmode="!readOnly" thumb-width="221" thumb-height="128" emitchanges="true"></div>\n\t\t</div>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(677),n(94),n(107),n(150),n(166),n(11),n(161),n(100),n(91),n(145),n(268),n(211),n(241),n(209),n(296),n(298),n(730),n(740),n(350)],r=function(e,t,n,i,r,o,s,a,l,u){var c;function f(e){var t=o.validateExpr(e.measure,i),n;n=o.validateMetadataName(e.measure,i);var r=e.measure.validity;return n&&t&&r.labelExpression&&r.description}function d(e){return{name:e.measure.name,description:e.measure.description,tags:e.measure.tags,expr:e.measure.expression,baseColor:e.measure.coloring.baseColor,gradient:e.measure.coloring.gradient,labelExpression:e.measure.labelExpression,descriptionExpression:e.measure.descriptionExpression}}var p={scope:{title:"=",confirmLabel:"=",measure:"="},template:t,controller:["$scope","$timeout",function(t,p){t.theme=l;Object.defineProperty(t,"color",{get:function e(){return t.theme.resolveColor(t.measure.coloring.baseColor)},set:function e(n){var i="undefined"!==typeof n.color?n.color:n;var r="undefined"!==typeof n.index?n.index:t.theme.currentPalette.indexOf(n);t.measure.coloring.baseColor={color:i,index:r}}});t.measure.validity={};t.measure.validity.expression=true;t.measure.validity.description=true;t.measure.validity.name=true;t.measure.validity.labelExpression=true;t.measure.name=a.trimAutoCalendarName(t.measure.name);t.stringLimits=i;t.cancel=function(){t.destroyComponent()};t.confirm=function(){t.measure.updateTags();if(f(t)){c.close();var n=d(t);t.callback(n);if(n.gradient){var i=e.getService("qvRecentGradientsService"),r="absolute"!==n.gradient.limitType,o=n.gradient,s,a=i.getTemplates(),l=a.some(function(e){var t=true;o.limits.length!==e.limits.length&&(t=false);t&&o.colors.forEach(function(n,i){n!==e.colors[i]&&(t=false)});t&&o.limits.forEach(function(n,i){n!==e.limits[i]&&(t=false)});t&&o.breakType.forEach(function(n,i){n!==e.types[i]&&(t=false)});r!==e.percentage&&(t=false);return t});if(!l){s=u.get("library.colors.recent",1);a.map(function(e){return parseInt(e.name.replace(/\D/g,""))||0}).sort(function(e,t){return t-e}).every(function(e){s=u.get("library.colors.recent",e+1);return false});i.pushTemplate({name:s,colors:n.gradient.colors.slice(),limits:r?n.gradient.limits.slice():i.convertAbsLimits(n.gradient.limits),types:n.gradient.breakType.slice(),percentage:r})}}}};n.StateChanged.bind(t.cancel);t.openInExpressionDialog=function(e){e.preventDefault();r.show({expr:t.measure.expression,title:t.measure.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then(function(e){t.measure.expression=e})};t.$watch("measure.expression",function(){t.measure.validity.expression||o.validateExpr(t.measure,i)});t.$watch("measure.name",function(){t.measure.validity.name||o.validateMetadata(t.measure,i)});t.$on("$destroy",function(){n.StateChanged.unbind(t.cancel)});t.simFocus=false;p(function(){s("#measure-dialog-expression-area").on("focus",function(){t.simFocus=true;e.$apply(t)}).on("blur",function(){t.simFocus=false;e.$apply(t)})})}]};function h(t){var n=t.coloring?t.coloring.baseColor:t.baseColor;var i=t.gradient;var r={title:t.title,confirmLabel:t.confirm,measure:{expression:t.expr,name:t.name,labelExpression:t.labelExpression,description:t.description,descriptionExpression:t.descriptionExpression,tags:t.tags,coloring:{baseColor:{color:n&&n.color?n.color:"none",index:n&&n.index?n.index:-1}}},add:t.add,callback:t.callback};i&&(r.measure.coloring.gradient={colors:i.colors.map(function(e){return l.resolveColor(e)}),breakType:i.breakTypes,limitType:i.limitType,limits:i.limits});c=e.getService("luiDialog").show({template:p.template,controller:p.controller,input:r,closeOnOutside:false,showArrow:false});return c}return{show:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<div class="lui-dialog measure-dialog-wrapper" name="measureDialog">\n\t<lui-tab-view class="measure-tab-view">\n\t\t<div class="lui-dialog__header">\n\t\t\t<lui-tabset fill="true">\n\t\t\t\t<lui-tab q-title-translation="{{title}}" q-translation="{{title}}" ref="tab1" tid="create-tab"></lui-tab>\n\t\t\t\t<lui-tab ng-if="!input.add" q-title-translation="library.colors.segmentColors" q-translation="library.colors.segmentColors" ref="tab2" tid="segment-tab"></lui-tab>\n\t\t\t</lui-tabset>\n\t\t</div>\n\t\t<div class="lui-dialog__body">\n\t\t\t<lui-tab-content ref="tab1">\n\t\t\t\t<qv-edit-measure></qv-edit-measure>\n\t\t\t</lui-tab-content>\n\t\t\t<lui-tab-content ref="tab2">\n\t\t\t\t<qv-segment-colors ng-model="measure.coloring.gradient"></qv-segment-colors>\n\t\t\t</lui-tab-content>\n\t\t</div>\n\t</lui-tab-view>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" ng-click="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn"></button>\n\t</div>\n</div>'},function(e,t){e.exports='<lui-dialog id="expression-editor-wrapper">\t\n\t<lui-dialog-header class="expression-editor-toolbar">\n\t\t<span class="expression-editor-toolbar-title" q-translation="{{input.title}}"></span>\n\t\t<div class="expression-editor-toolbar-buttons">\t\t\n\t\t\t<button ng-if="isAdvancedPart3" class="lui-fade-button expression-editor-undo-button" \n\t\t\t\t\tdata-name="undo" ng-disabled="undoDisabled || !codearea.contextApi.canUndo" \n\t\t\t\t\tng-click="onUndo()" q-title-translation="Common.Undo" disabled="disabled" title="Undo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--back"></span>\n\t\t\t</button>\n\t\t\t<button ng-if="isAdvancedPart3" class="lui-fade-button expression-editor-redo-button" \n\t\t\t\t\tdata-name="redo" ng-disabled="redoDisabled || !codearea.contextApi.canRedo" \n\t\t\t\t\tng-click="onRedo()" q-title-translation="Common.Redo" disabled="disabled" title="Redo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--forward"></span>\n\t\t\t</button>\t\t\t\t\t\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button expression-editor-help-button"\n\t\t\t\tdata-name="help-mode"\n\t\t\t\tng-class="{\'lui-active\': controller.helpmodeActive}"\n\t\t\t\tng-click="onHelpmode()"\n\t\t\t\tq-title-translation="Tooltip.HelpMode.Enter">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--help"></span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button"\n\t\t\t\tqva-activate="$event.preventDefault(); close()"\n\t\t\t\tdata-name="close">\n\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--close" q-title-translation="Common.Close"></span>\n\t\t\t</button>\t\t\t\t\n\t\t</div>\t\n\t</lui-dialog-header>\t\n\t<lui-dialog-body class="expression-editor-body" qv-cancel="cancel()" qv-confirm="confirm()">\n\t\t<section id="expression-editor-panel" class="qribby-accordion-pp">\n\t\t\t<div class="qv-expandable-list-wrapper" qv-expandable-list></div>\t\t\t\n\t\t</section>\n\t\t<section id="expression-editor-content">\n\t\t\t<main class="dm-main">\n\t\t\t\t<div id="expression-editor-container">\n\t\t\t\t\t<div id="expression-editor-stage" data-help="Panel.Stage" ng-class="{ invalid: !validity.expression }">\n\t\t\t\t\t\t<qv-codearea\n\t\t\t\t\t\t\t\tdata-show-breakpoint-gutter="true"\n\t\t\t\t\t\t\t\tdata-disabled="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tdata-resize-trigger="resizeCounter"\n\t\t\t\t\t\t\t\tdata-mode="qlikviewReloadScriptMode"\n\t\t\t\t\t\t\t\tclass="expression-dialog-code-mirror"\n\t\t\t\t\t\t\t\tqva-outside-ignore-for="allOutside"\n\t\t\t\t\t\t\t\tqv-codearea-code-container="codearea"\n\t\t\t\t\t\t\t\tqv-codearea-exposed-context-api="codearea.contextApi"\n\t\t\t\t\t\t\t\tqv-codearea-function-tip="functionTipOptions"\n\t\t\t\t\t\t\t\tqv-codearea-limit="stringLimits.expression"\n\t\t\t\t\t\t\t\tqv-codearea-autocomplete="autocompleteOptions"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode-options="helpModeOptions"\n\t\t\t\t\t\t\t\tqva-activate="closePopoverIfOpen($event)"\n\t\t\t\t\t\t></qv-codearea>\n\t\t\t\t\t\t<div class="ee-information-wrapper">\n\t\t\t\t\t\t\t<div class="row-number-fill"></div>\n\t\t\t\t\t\t\t<div class="ee-information">\n\t\t\t\t\t\t\t\t<qv-information-area x-info="info" x-app="input.app" x-mode="input.mode" x-labels="input.labels"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</main>\n\t\t</section>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<button class="lui-button close button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel">Cancel</button>\n\t\t<button class="lui-button confirm button" ng-click="confirm()"  qv-confirm="confirm()" name="confirmButton" q-translation="Common.Apply">Confirm</button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(e,t){e.exports='<div class="expression-editor-section">\n    \x3c!-- TABLE DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-table">\n        <label q-translation="Assets.FieldsTab.Table"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="tables"\n            tid="table-dropdown"\n            title="{{controller.selectedTable.label}}">\n            <div class="label">\n                {{controller.selectedTable.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- FIELD DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-field">\n        <label q-translation="Common.Field"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="fields"\n            tid="field-dropdown"\n            title="{{controller.selectedField.label}}">\n            <div class="label">\n                {{controller.selectedField.label}}\n            </div>\n        </button>\n    </div>\n    \x3c!-- AGGREGATION DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-functions" >\n        <label q-translation="ExpressionEditor.AggregationFunctions"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="commonFunctions"\n            tid="aggregation-dropdown"\n            title="{{controller.selectedCommonFunction.label}}">\n            <div class="label">\n                {{controller.selectedCommonFunction.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- SET EXPRESSION CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-current" ng-if="exposeSetExpression">        \n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                ng-model="controller.currentOption" \n            />            \n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-set"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                    q-translation="ExpressionEditor.SetExpression"\n                    q-title-translation="ExpressionEditor.SetExpression">\n                </span>              \n            </div>           \n        </label>  \n        <span ng-if="( !controller.readOnly() && controller.noSelectionsInObjectState )" \n            q-translation="ExpressionEditor.EmptySelections" text="inline style" style="color:grey">\n        </span>      \n    </div>\n    \x3c!-- DISTINCT CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-distinct">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input" \n                type="checkbox" \n                ng-disabled="controller.readOnly()" \n                ng-model="controller.distinctOption"\n                ng-true-value="\'distinct\'"\n                ng-false-value="\'\'"\n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-distinct"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Distinct"\n                    q-title-translation="ExpressionEditor.Distinct">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- TOTAL CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-total">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly()"\n                ng-model="controller.totalOption"\n                ng-true-value="\'total\'"\n                ng-false-value="\'\'" \n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-total"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Total"\n                    q-title-translation="ExpressionEditor.Total">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- INSERT BUTTON --\x3e\n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n                ng-disabled="!controller.previewText()"\n                type="button"\n                tid="insert-field"\n                ng-click="insertTextHandler($event)"\n                q-title-translation="Tooltip.ExpressionEditor.InsertExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>'},function(e,t){e.exports='<div class="expression-editor-section">\n    \n    <label q-translation="ExpressionEditor.FunctionCategory"></label>\n    <button\n        class="lui-button expression-editor-dropdown" \n        ng-click="openPopover($event)"\n        data-context="functionCategories"\n        title="{{controller.selectedFunctionCategory.label}}">\n        <div class="label">\n            {{controller.selectedFunctionCategory.label}}\n        </div>\n    </button>\n    \n    <div class="expression-editor-function-name">\n        <label q-translation="ExpressionEditor.FunctionName"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="functions"\n            tid="functions-dropdown"\n            title="{{controller.selectedFunction.label}}">\n            <div class="label">\n                {{controller.selectedFunction.label}}\n            </div>\n        </button>\n        <textarea disabled class="expression-editor-function-definition lui-textarea lui-disabled">{{controller.selectedFunctionTip}}</textarea>\n    </div>\n    \n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n            type="button"\n            tid="insert-function"\n            ng-disabled="!controller.previewText()"  \n            ng-click="insertFunctionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertFunction">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div> \n</div>'},function(e,t){e.exports='<div class="expression-editor-section">\n    <div id="expression-editor-toolbar-variables">\n        <label q-translation="ExpressionEditor.VariableList"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="variables"\n            tid="variables-dropdown"\n            title="{{controller.selectedVariable.label}}">\n            <div class="label">\n                {{controller.selectedVariable.label}}\n            </div>\n        </button>\n\n        <div class="expression-editor-system-variables">\n            <label class="lui-checkbox">\n                <input class="lui-checkbox__input" type="checkbox" ng-model="controller.showSystemVars"></input>\n                <div class="lui-checkbox__check-wrap">\n                    <span class="lui-checkbox__check"></span>\n                    <span class="lui-checkbox__check-text label" ng-disabled="readOnly" q-translation="ExpressionEditor.SystemVariables" q-title-translation="ExpressionEditor.SystemVariables"></span>\n                </div>\n            </label>\n        </div>\n        \n        <div class="expression-editor-variable-definition">\n            <label q-translation="ExpressionEditor.Definition"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableDef}}</textarea>\n        </div>\n        \n        <div class="expression-editor-variable-value">\n            <label q-translation="ExpressionEditor.Value"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableVal}}</textarea>\n        </div>\n        \n        <div id="expression-editor-toolbar-insert">\n            <lui-button \n                type="button" \n                ng-click="insertVariableHandler($event)" \n                q-title-translation="Tooltip.ExpressionEditor.InsertVariable" \n                tid="insert-variable">\n                <span q-translation="ExpressionEditor.Insert"></span>\n            </lui-button>\n        </div>\n    </div>\n</div>'},function(e,t){e.exports='<div class="expression-editor-section">\n\n    <div class="expression-editor-toolbar-set-expressions">        \n        <div class="form-element">\n            <lui-radiobutton \n                x-disabled="controller.noSelections" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'0\')" \n                x-value="0"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfCurrentSelection\' | translate }}\n            </lui-radiobutton>\n            <lui-radiobutton \n                x-disabled="!controller.bookmarks.length > 0" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'1\')" \n                x-value="1"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfBookmark\' | translate }}\n            </lui-radiobutton>\n        </div>\n    </div>\n    <div id="expression-editor-toolbar-set-expression-bookmark" \n        ng-if="controller.setExpressionOption==1">\n        <label q-translation="ExpressionEditor.SetExpresions.Bookmark"></label>\n        <button \n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="bookmarks" \n            tid="bookmark-dropdown" \n            title="{{controller.selectedBookmark.label}}">\n            <div class="label">\n                {{controller.selectedBookmark.label}}\n            </div>\n        </button>\n\n    </div>\n    <div id="expression-editor-toolbar-set-expression-states" x-disabled="controller.noSelections && !controller.bookmarks.length > 0" ng-if="controller.showAlternateStates">\n        <label q-translation="ExpressionEditor.SetExpresions.AlternateState"></label>\n        <lui-select x-model="controller.selectedAlternateState">\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==0" ng-repeat="state in controller.currentSelectionsAlternateStates ">{{state.label}}</option>\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==1" ng-repeat="state in controller.selectedBookmark.alternateStates ">{{state.label}}</option>\n        </lui-select>\n    </div>\n    <div id="expression-editor-toolbar-insert">\n        <lui-button \n            type="button" \n            tid="insert-set-expression" \n            ng-disabled="controller.disableSetExpressionInsertButton()" \n            ng-click="insertSetExpressionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertSetExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(132)],r=function(e,t){var n=false;var i=false;var r=false;function o(e){var t=[{label:e,value:""},{label:"Sum",value:"Sum"},{label:"Count",value:"Count"},{label:"Avg",value:"Avg"},{label:"Min",value:"Min"},{label:"Max",value:"Max"},{label:"Median",value:"Median"},{label:"Fractile",value:"Fractile"},{label:"Only",value:"Only"},{label:"Concat",value:"Concat"},{label:"Mode",value:"Mode"},{label:"MinString",value:"MinString"},{label:"MaxString",value:"MaxString"},{label:"FirstSortedValue",value:"FirstSortedValue"}];return t}function s(){var t;t=this.selectedField?this.selectedField.value:"";t=e.escapeField(t);if(this.selectedCommonFunction){if(this.selectedCommonFunction&&""===this.selectedCommonFunction.value)return t;var n=this.distinctOption.length?this.distinctOption+" ":"",i=this.totalOption.length?this.totalOption+" ":"",r=this.currentOption&&""!==this.selections?"{"+this.selections+"} ":"",o=this.selectedCommonFunction.value;return o+"("+r+n+i+t+")"}return t}function a(e){var t=[];e.forEach(function(e){t.push({label:e.qName,value:e.qName})});return t}function l(e,t){var n=t;return e.filter(function(e){t&&(n=t.value);return-1!==e.qSrcTables.indexOf(n)})}function u(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function c(e,t){return e.qName.toLowerCase().localeCompare(t.qName.toLowerCase())}function f(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())}function d(e){var t=[];e.forEach(function(e){t.push({label:e,value:e})});return t}function p(e){var t,n;var i=[];for(t=0;t<e.length;++t)for(n=0;n<e[t].qSrcTables.length;++n)-1===i.indexOf(e[t].qSrcTables[n])&&i.push(e[t].qSrcTables[n]);i.sort(u);i=d(i);return i}function h(e,t,n){var i=n.value;var r=e.allTablesText.value;i!=r&&(t=l(t,n));e.fieldNames=a(t);_(e)}function v(e,t,n){t=t.value;e.functions=[];if(n.hasOwnProperty(t))t&&(e.functions=n[t]);else for(var i in n)n[i].forEach(function(t){-1===e.functions.indexOf(t)&&(e.functions=e.functions.concat(t))});if(e.functions&&e.functions.length>0){e.functions.sort(u);e.functions=d(e.functions);w(e)}}function m(e,t){var n=e.filter(function(e){return t||!e.qIsReserved&&!e.qIsConfig}).sort(c);n.forEach(function(e){e.label=e.qName;e.value=e.qName});return n}function g(e,t){var n=[];e.forEach(function(e){if(e.qFieldItems.length>0){var i=e.qStateName;n.push({label:"$"===i?t.get("AlternateState.DefaultState"):i,value:i})}});return n}function b(e,t){var n=[],i=true;e=e||[];e.forEach(function(e){if(e.qSelectionObject.qSelections.length>0){var r=e.stateName;i=false;n.push({label:"$"===r?t.get("AlternateState.DefaultState"):r,value:r})}});return{states:n,noSelections:i}}function y(e,t){var n=[];e.forEach(function(e){n.push({label:e.qData.title,value:e.qInfo.qId,alternateStates:r?g(e.qData.qBookmark.qStateData,t):[]})});return n.sort(f)}function x(e,t,n){var i=[];t.forEach(function(e){"EXT"!==e&&i.push({value:e,label:n.get("ExpressionEditor.Functions."+e)})});i.sort(function(e,t){return e.label.toLowerCase().localeCompare(t.label.toLowerCase())});i.unshift({value:e,label:n.get("ExpressionEditor.Functions."+e)});return i}function _(e){var t=false;e.fieldNames.forEach(function(n){var i=e.selectedField.label;var r=n.label;if(i==r){var o=e.selectedField;t=true;e.selectedField=o}});t||(e.selectedField=e.fieldNames[0])}function w(e){var t=false;e.functions.forEach(function(n){var i=e.selectedFunction.label;var r=n.label;if(i==r){var o=e.selectedFunction;t=true;e.selectedFunction=o}});t||(e.selectedFunction=e.functions[0])}function q(e){var t=["$Field","$FieldNo","$Fields","$Info","$Rows","$Table"],n=[],i=e.get("ExpressionEditor.FieldsTab.SystemFields");t.forEach(function(e){var t={qName:e,qSrcTables:[i]};n.push(t)});return n}function C(e,t){0!=t.length||e.showSystemVars||(e.selectedVariable="");e.variables.length>0&&-1===e.variables.indexOf(e.selectedVariable)&&(e.selectedVariable=e.variables[0])}function S(e,t){var n=[];switch(e){case"tables":n=t.tableNames;break;case"fields":n=t.fieldNames;break;case"commonFunctions":n=t.commonFunctions;break;case"functionCategories":n=t.functionCategories;break;case"functions":n=t.functions;break;case"variables":n=t.variables;break;case"bookmarks":n=t.bookmarks;break}return n}function E(e,t,n,i){switch(t){case"tables":n.setTableFilter(e);n.selectedTable=e;break;case"fields":n.selectedField=e;break;case"commonFunctions":n.selectedCommonFunction=e;break;case"functionCategories":n.selectedFunctionCategory=e;break;case"functions":n.selectedFunction=e;break;case"variables":n.selectedVariable=e;break;case"bookmarks":n.selectedBookmark=e;break;default:break}i(t)}function D(e){return t.get(e).then(function(e){return e.getLayout().then(function(){return{selectionsInStates:e.layout.selectionsInStates||[]}})})}function O(e){i=e.isAdvancedPart3;n=e.exposeSetExpression;r=e.isAlternateState;var t=e.translator,l=[];var u=e.fields.slice();u.sort(c);e.published||(u=u.concat(q(t)));var f=t.get("Common.All.Tables"),d=t.get("ExpressionEditor.Functions.ALL"),g=t.get("ExpressionEditor.FieldsTab.SelectAggregationHint");var w=e.sections.fields.state,O=e.sections.functions.state,A=e.sections.variables.state;f={label:f,value:f};""==w.table.label&&(w.table=f);if(""==w.aggregfunc.label){w.aggregfunc.label=g;w.aggregfunc.value=""}""==O.functionCategory.label&&(O.functionCategory.label=d);for(var L in e.functions)l.push(L);var I={getData:function e(t){return S(t,I)},setSelectedItem:E,allTablesText:f,commonFunctions:o(g),selectedCommonFunction:w.aggregfunc,readOnly:function e(){return""===I.selectedCommonFunction.value},setTableFilter:function e(t){h(I,u,t)},selectedTable:w.table,tableNames:[f].concat(p(u)),fieldNames:a(u),previewText:s,selectedField:w.field,distinctOption:w.distinctCheckBox,totalOption:w.totalCheckBox,currentOption:!!n&&w.setExpressionCheckBox,selections:"",noSelections:false,noSelectionsInObjectState:false,functions:[],functionCategories:x("ALL",l,t),selectedFunction:O.funct,selectedFunctionTip:"",selectedFunctionCategory:O.functionCategory,setFunctionCategoryFilter:function t(n){v(I,n,e.functions)},variables:m(e.variables,false),selectedVariable:A.variable,variableDef:"",variableVal:"",showSystemVars:A.sysVarsCheckBox,showVariablesFirstTime:A.showVariablesFirstTime,showVariableInfo:function e(t,n){I.variableDef=t;I.variableVal=n},setSysVarsFilter:function t(){var n=e.variables.filter(function(e){return!e.qIsReserved});if(0==n.length&&I.showVariablesFirstTime){A.sysVarsCheckBox=true;I.showSystemVars=true;A.showVariablesFirstTime=false;I.showVariablesFirstTime=false}I.variables=m(e.variables,I.showSystemVars);C(I,n)},setCurrentSelections:function e(t){I.selections=t},isStateInArray:function e(t,n){var i=false;t.forEach(function(e){e.value===n&&(i=true)});return i},setInitialOptionsForSetExpressionSection:function t(n){I.noSelections=n;if(n&&"0"===I.setExpressionOption)if(I.bookmarks.length>0){I.setExpressionOption="1";if(""===I.selectedBookmark){I.selectedBookmark=I.bookmarks[0];r&&""===I.selectedAlternateState&&I.bookmarks[0].alternateStates.length>0&&(I.selectedAlternateState=I.bookmarks[0].alternateStates[0].value)}}else{I.setExpressionOption="";I.setExpressionInsertDisabled=true}else r&&"0"===I.setExpressionOption&&I.currentSelectionsAlternateStates.length>0&&(I.selectedAlternateState=I.isStateInArray(I.currentSelectionsAlternateStates,e.sections.setExpressions.state.selectedAlternateState)?e.sections.setExpressions.state.selectedAlternateState:I.currentSelectionsAlternateStates[0].value)},disableSetExpressionInsertButton:function e(){return r?!I.selectedAlternateState:I.setExpressionInsertDisabled},isAlternateState:r,showAlternateStates:e.showAlternateStates,setExpressionOption:i?e.sections.setExpressions.state.setExpressionOption:"",bookmarks:y(e.bookmarks,t),currentSelectionsAlternateStates:[],selectedBookmark:i?e.sections.setExpressions.state.selectedBookmark:"",selectedAlternateState:r?e.sections.setExpressions.state.selectedAlternateState:"",setExpressionInsertDisabled:false,stateName:e.stateName};D(e.app).then(function(n){var i=e.stateName||"$";I.noSelectionsInObjectState=true;n.selectionsInStates.forEach(function(e){e.stateName===i&&e.qSelectionObject.qSelections.length>0&&(I.noSelectionsInObjectState=false)});if(r){var o=b(n.selectionsInStates,t);I.currentSelectionsAlternateStates=o.states;I.setInitialOptionsForSetExpressionSection(o.noSelections)}else I.setInitialOptionsForSetExpressionSection(I.noSelectionsInObjectState)});_(I);return I}return{create:O}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qui-float qui-offset="offset" qui-resize-on-change="content" class="qv-function-tip-container">\n\t<div class=\'qv-function-tip-view\' ng-show=\'content\'>{{content}}</div>\n</qui-float>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89),n(144),n(286),n(90)],r=function(e,t,n,i){var r=["like","not","and","or","xor","follows","precedes","bitnot","bitand","bitor","bitxor","$","$1","$2","$3","$4","$5","$_1","$_2","$_3","$_4","$_5","total","distinct","nodistinct","all","include","must_include"];function o(e,t){if("field"===e)return{text:t,type:e,value:i.escapeField(t)};return{text:t,type:e}}function s(e){var t=e.bnf;var n=a();var i=e.fields;var s=e.variables;var l=r.map(o.bind(null,"keyword"));var u=Object.keys(s).map(o.bind(null,"variable"));var c=Object.keys(i).map(o.bind(null,"field"));var f=t.getAllFunctions().map(o.bind(null,"function"));var d=l.concat(u,c,f);function p(e){return t.isFunction(e)}function h(e){return t.getFunctionTip(e)}function v(e){return!!n[e.toLowerCase()]||p(e)}function m(e){return!!i[e]}function g(e){return!!s[e]}function b(){return d}var y={getAutocompleteList:b,getFunctionTip:h,getFunctionsAndCategories:t.getAllFunctionsAndCategories,isFunction:p,isField:m,isKeyword:v,isVariable:g};return y}function a(){var e={};for(var t=0;t<r.length;++t){var n=r[t];e[n]=true}return e}function l(e){return e.enigmaModel.getFieldList().then(function(e){e=t.expand(e);var n={};for(var i=0;i<e.length;++i){var r=e[i].qName;n[r]=true}return n})}function u(e){return e.enigmaModel.getVariableList().then(function(e){var t={};for(var n=0;n<e.length;++n){var i=e[n].qName;t[i]=true}return t})}function c(t){return e.all({bnf:n.getExpressionBnfModel(t),fields:l(t),variables:u(t)}).then(s)}return{get:c}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(687),n(97),n(99),n(139),n(218)],r=function(e,t,n,i,r){function o(e,t){if(""===t)return e;return e.filter(function(e){if("undefined"===typeof e)return false;return r.string(e.label.toLowerCase()).indexOf(r.string(t.toLowerCase()))>-1})}var s={template:t,scope:{alignTo:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"="},controller:["$scope",function(t){var r=e.extend([],t.items);t.autoFocus=i.treatAsDesktop();t.search={term:""};t.onEscape=function(){t.search.term="";t.closePopover(t.context)};t.clearSearchTerm=function(){t.search.term=""};t.$watch("search.term",function(e){t.items=o(r,e);t.showClearIcon=""!==e});n.on("start",t.closePopover);t.$on("$destroy",function(){n.off("start",t.closePopover)})}]};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover \n    class="popover-wrapper" \n    style="min-width: 200px;width: 230px;" \n    align-to="alignTo" \n    position="position" \n    collision="\'flipfit\'" \n    on-close-view="closePopover(event)">\n    <object-add-typeahead>\n        <lui-popover-header>\n            <div class="lui-search">\n                <span class="lui-icon  lui-icon--search  lui-search__search-icon"></span>\n                <input class="lui-search__input" maxlength="255" spellcheck="false" type="text" name="new-test" placeholder="{{ \'ExpressionEditor.SearchPopupPlaceholder\' | translate}}" autocomplete="off"\n                    ng-model="search.term" on-escape="onEscape($event)" qva-focus="autoFocus" object-add-typeahead-input/>\n                <button class="lui-search__clear-button" ng-click="clearSearchTerm()">\n                    <span ng-if="showClearIcon" class="lui-icon  lui-icon--small  lui-icon--close"></span>\n                </button>\n            </div>        \n        </lui-popover-header>\n        <div class="content" object-add-typeahead-menu>\n            <ul class="lui-list">\n                <li class="lui-list__item lui-list__action"                    \n                    ng-repeat="item in items" tid="item"\n                    object-add-typeahead-item="item"\n                    on-select="setSelectedItem(item, context, ctrl, closePopover)">\n                    <span qve-highlight text="{{item.label}}" title="{{item.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n                </li>\n            </ul>\n        </div>\n    </object-add-typeahead>\n</lui-popover>'},function(e,t){e.exports="<div ng-transclude></div>"},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){this.container=e.container;this.body=e.body;this.alignAgainst=e.alignAgainst}e.prototype.showTranscluded=function(e){e(function(e){this.container.appendTo(this.body).append(e)}.bind(this))};e.prototype.showContent=function(e){this.container.appendTo(this.body).append(e)};e.prototype.update=function(){var e=this.alignAgainst.offset();this.container.css({top:e.top,left:e.left,width:this.alignAgainst.width(),height:this.alignAgainst.height(),zIndex:1021})};e.prototype.hide=function(){this.container.remove()};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(346),n(190)],r=function(e,t){var n=e.REGEXP_WORD;t.defineMode("qlikviewscript",function(e,t){var i=/[+\-*&=<>]/,r=/[\u0022\u0027\u0060\u00b4[]/;function o(e,t,n){t.tokenize=n;return n(e,t)}function s(e,t){var n;while(null!=(n=e.next()))if(n==t)return false;return false}var a,l;function u(e,t,n){a=e;l=n;return t}function c(e,s){if(e.eatSpace()){a="whitespace";return null}a="any";var l=e.next();if(r.test(l))return o(e,s,d("["===l?"]":l));if(/[[\]{}(),;:]/.test(l))return u(l);if("0"==l&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return u("number","number")}if(/[.\d]/.test(l)){e.match(/^\d*(?:\.\d*)?(?:[eE][+-]?\d+)?/);if(!e.eol()){l=e.peek();if(/[A-z]/.test(l))return"normaltext"}return"number"}if("/"===l){if(e.eat("*"))return o(e,s,p);if(e.eat("/")){e.skipToEnd();return"comment"}e.eatWhile(i);return"operator"}if(i.test(l)){e.eatWhile(i);return u(l,"operator")}if("$"===l&&e.match(/^\(=/,false,true))return u("$");if("$"===l&&e.match(/^\((MUST_INCLUDE|INCLUDE)=/i,false,true))return u("$");if("$"===l&&e.match(/^\(/,false,true)){s.tokenize=v;return u("$(")}e.eatWhile(n);var c=e.current();var f=c.toLowerCase();if("rem"===f)return o(e,s,h);if(t.service.isFunction(f)&&e.match(/(^\s*\()/,false,true))return u("function","keyword",f);if(t.service.isField(c))return u("field","field");if(t.service.isVariable(c))return u("variable","variable");if(t.service.isKeyword(f))return u("keyword","keyword");return"normaltext"}function f(e){return e.substr(1,e.length-2)}function d(e){return function(n,i){if(!s(n,e)){i.tokenize=c;if("'"!==e){var r=f(n.current(),e);if(t.service.isField(r))return u("field","field");if(t.service.isVariable(r))return u("variable","variable")}}return u("string","string")}}function p(e,t){var n=false,i;while(i=e.next()){if("/"==i&&n){t.tokenize=c;break}n="*"==i}return u("comment","comment")}function h(e,t){var n;while(n=e.next())if(";"==n){t.tokenize=c;break}return u("comment","comment")}function v(e,n){a="any";var i=e.next();")"==i&&(n.tokenize=c);if(/[(),]/.test(i))return u(i);e.eatWhile(/[^(),]/);var r=e.current();if(!/^\d/.test(r)&&t.service.isVariable(r))return u("variable","variable");return"normaltext"}function m(e,t,n,i){this.type=e;this.prev=t;this.info=n;this.pos=i}function g(e,t,n,i,r){var o=e.cc;b.state=e;b.stream=r;b.marked=null;b.cc=o;while(true){var s=o.length?o.pop():S;if(s(n,i)){while(o.length&&o[o.length-1].lex)o.pop()();if(b.marked)return b.marked;return t}}}var b={state:null,column:null,marked:null,cc:null};function y(){for(var e=arguments.length-1;e>=0;e--)b.cc.push(arguments[e])}function x(){y.apply(null,arguments);return true}function _(e,t){var n=function n(){var i=b.state;i.lexical=new m(e,i.lexical,t,b.stream.pos)};n.lex=true;return n}function w(){var e=b.state;e.lexical.prev&&(e.lexical=e.lexical.prev)}w.lex=true;function q(e){return function t(n){return n==e?x():";"==e?y():x(t)}}function C(e,t){return function n(i){return i==t?x():y(e,n)}}function S(e){if("function"==e)return x(_("qvfunction",l),q("("),C(S,")"),w);if("("===e)return x(C(S,")"));if("$("===e)return x(q("("),C(S,")"));return x()}return{startState:function e(){return{tokenize:c,lastType:null,cc:[],lexical:new m("block")}},token:function e(t,n){var i=n.tokenize(t,n);if("comment"==a)return i;n.lastType=a;return g(n,i,a,l,t)},lineComment:"//"}});return{REGEXP_WORD:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(51)],r=function(e,t){e.directive("qvCodeareaFunctionTip",function(){return{restrict:"A",require:"qvCodearea",link:function n(i,r,o,s){var a;var l;var u=22;var c=i.$watch(o.qvCodeareaFunctionTip,function(n){function r(){var e=s.codemirror.getCursor();var t=s.codemirror.getTokenAt(e,true);if("comment"!==t.type){var n=0,i=t.state.lexical;while(i&&"qvfunction"!==i.type||0===n&&i.info&&t.string.toLowerCase()===i.info.toLowerCase()){i=i.prev;n++}return i}return}function o(e,t){var n=s.codemirror.getCursor();var i={line:n.line,ch:n.ch};var r,o;while(i.line>=0){r=s.codemirror.getLine(i.line).toLowerCase();o=r.substring(e.pos-t.length,e.pos);if(o===t){i.ch=e.pos-t.length;break}i.line-=1}var a=s.codemirror.charCoords(i);a.top-=s.codemirror.defaultTextHeight()+u;return a}function f(){var i=r();var s=i?i.info:void 0;var l=s?n.service.getFunctionTip(s):void 0;e.$apply(e.$rootScope,function(){d();if(l){var e=o(i,s);m();a=t.show(n.view,{content:l,offset:e})}})}function d(){g();if(a){a.destroy();a=void 0}}function p(){clearTimeout(l);l=setTimeout(f,250)}function h(){d()}var v={Esc:function e(){i.$apply(function(){d()})}};function m(){s.codemirror.addKeyMap(v)}function g(){s.codemirror.removeKeyMap(v)}if(n){s.codemirror.on("blur",h);s.codemirror.on("cursorActivity",p);i.$on("$destroy",function(){s.codemirror.off("blur",h);s.codemirror.off("cursorActivity",p);d()});c()}},true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(51),n(693),n(97),n(346)],r=function(e,t,n,i,r,o){var s=100;var a=o.REGEXP_WORD_SEPARATOR;function l(e){var t=e.getTokenAt(e.getCursor()).type;return"keyword"===t||"field"===t||"variable"===t}function u(e,t,n){if(e.somethingSelected()||l(e)&&!n||t.disabled)return null;var i=t.getHints(e);var r=i.list;if(0===r.length)return null;r.length>s&&(r=r.slice(0,s));var o=e.cursorCoords(false!==t.alignWithWord?i.from:null);return{from:i.from,to:i.to,hints:r,selectedHint:n?n.selectedHint:0,cursorPos:o}}function c(e,n){this.dialogHandle=null;this.dialogOptions={};this.state=null;this.options=n;this.cm=e;this.currentOptions=null;this.once=null;this.closingOnBlur=null;this.bound={cursorActivity:this.cursorActivity.bind(this),pick:this.pick.bind(this),close:this.close.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),choose:this.choose.bind(this),showHint:this.showHint.bind(this)};function i(){return 8}var r=this;this.ourMap={Up:function e(){r.changeActive(r.state.selectedHint-1);t.$rootScope.$apply()},Down:function e(){r.changeActive(r.state.selectedHint+1);t.$rootScope.$apply()},PageUp:function e(){r.changeActive(r.state.selectedHint-i());t.$rootScope.$apply()},PageDown:function e(){r.changeActive(r.state.selectedHint+i());t.$rootScope.$apply()},Home:function e(){r.changeActive(0);t.$rootScope.$apply()},End:function e(){r.changeActive(r.state.hints.length-1);t.$rootScope.$apply()},Enter:this.bound.pick,Tab:this.bound.pick,Esc:this.bound.close}}c.prototype.cursorActivity=function(){var e=t.getService("$timeout");e.cancel(this.once);this.once=null;var n=this.cm.getCursor();n.line!==this.startLine||this.cm.somethingSelected()?this.close():this.once=e(this.bound.showHint,70)};c.prototype.choose=function(e){this.changeActive(e);this.pick()};c.prototype.pick=function(){this.cm.replaceRange(this.state.hints[this.state.selectedHint].value,this.state.from,this.state.to);this.cm.focus();this.close();t.$apply(t.$rootScope)};c.prototype.onBlur=function(){var e=t.getService("$timeout");this.closingOnBlur=e(this.bound.close,300)};c.prototype.onFocus=function(){var e=t.getService("$timeout");e.cancel(this.closingOnBlur);this.closingOnBlur=null};c.prototype.changeActive=function(e){if(!this.state)return;e=Math.max(0,Math.min(e,this.state.hints.length-1));if(this.state.selectedHint===e)return;this.state.selectedHint=e};c.prototype.close=function(){var e=t.getService("$timeout");e.cancel(this.once);e.cancel(this.startTimeout);if(!this.dialogHandle)return;this.dialogHandle.destroy();this.dialogHandle=null;this.cm.removeKeyMap(this.ourMap);this.cm.off("cursorActivity",this.bound.cursorActivity);this.cm.off("blur",this.bound.onBlur);this.cm.off("focus",this.bound.onFocus);this.cm.off("scroll",this.bound.close);this.state=null;t.$apply(t.$rootScope)};c.prototype.open=function(){this.dialogHandle=n.show(this.options.view,this.dialogOptions);this.startLine=this.cm.getCursor().line;this.cm.addKeyMap(this.ourMap);this.cm.on("cursorActivity",this.bound.cursorActivity);this.cm.on("blur",this.bound.onBlur);this.cm.on("focus",this.bound.onFocus);this.cm.on("scroll",this.bound.close)};c.prototype.showHint=function(){var e=this.state;this.state=u(this.cm,this.options,e);if(!this.state){e&&this.close();return}this.state.choose=this.bound.choose;this.dialogOptions.state=this.state;e||this.open()};c.prototype.start=function(){var e=t.getService("$timeout");if(this.state)return;this.startTimeout&&e.cancel(this.startTimeout);this.startTimeout=e(this.bound.showHint,500)};var f={keyword:{translation:"Common.Keyword",allowQuote:false},variable:{translation:"Common.Variable",allowQuote:true},field:{translation:"Common.Field",allowQuote:true},function:{translation:"Common.Function",allowQuote:false}};function d(e){return"["+e.replace(/\]/g,"]]")+"]"}function p(e,t){var n={};var i=[];var r=e.toLowerCase();var o="["===e[0];function s(e){"string"===typeof e&&(e={text:e});var t=e.text;if(o){if(!f[e.type]||!f[e.type].allowQuote)return;t=d(t)}if(!t||0!==t.toLowerCase().indexOf(r))return;if(!n[t]){n[t]={text:e.text,types:[],value:e.value||t};i.push(n[t])}f[e.type]&&n[t].types.push({id:e.type,key:f[e.type].translation})}function l(e,t){var n=e.text.toLowerCase();var i=t.text.toLowerCase();return n===i?0:n>i?1:-1}if(!o&&a.test(e)||/^\d+$/.test(e))return[];if(""!==e){t.forEach(s);i.sort(l)}1===i.length&&e===i[0].value&&(i=[]);return i}function h(e,t){var n=e.getCursor();var i=e.getTokenAt(n);var r=p(i.string,t);return{list:r,from:{line:n.line,ch:i.start},to:{line:n.line,ch:i.end}}}t.directive("qvCodeareaAutocomplete",function(){return{restrict:"A",require:"qvCodearea",link:function t(n,o,s,a){var l=[37,38,39,40,33,34,27];var u=n.$watch(s.qvCodeareaAutocomplete,function(t){function o(e){return h(e,t.service.getAutocompleteList())}function s(){d.start()}function f(t,n){-1===e.inArray(n.which,l)&&s()}var d;if(t){t.view||(t.view=i);t.getHints||(t.getHints=o);d=new c(a.codemirror,t);var p=d.close.bind(d);a.codemirror.on("focus",s);a.codemirror.on("keyup",f);r.on("end",p);n.$on("$destroy",function(){a.codemirror.off("focus",s);a.codemirror.off("keyup",f);r.off("end",p);d.close()});u()}},true)}}});return{getCompletions:p}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(694),n(11)],r=function(e,t){function n(e,t,n){var i=n.bottom+e.height<=t.height;var r=i?n.bottom:n.top-e.height;var o=Math.max(0,n.left+e.width-t.width);var s=n.left-o;return{top:r,left:s}}function i(e,t){e.$$postDigest(function(){e.$$postDigest(t)})}return{scope:{state:"="},template:e,controller:["$scope","$element",function(e,r){var o=r.find(".qv-autocomplete-container");var s=t(window);function a(){var t={width:s.width(),height:s.height()};var i=o[0].getBoundingClientRect();var r=e.state.cursorPos;var a=n(i,t,r);o.css({left:a.left,top:a.top})}e.$watch("state.hints.length",function(){i(e,a)})}]}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-autocomplete-container">\n\t<ul class="codearea-autocomplete-hints">\n\t\t<li ng-repeat="item in state.hints track by item.text"\n\t\t\tqva-scroll-into-view="{ scroll: state.selectedHint == $index, scrollSelector: \'.codearea-autocomplete-hints\' }"\n\t\t\tclass="codearea-autocomplete-hint"\n\t\t\tng-class="{ \'codearea-autocomplete-hint-active\': state.selectedHint == $index }"\n\t\t\tng-mouseover="state.selectedHint = $index;"\n\t\t\tqva-activate="state.choose( $index )">\n\n\t\t\t<div class="codearea-autocomplete-hint-text">{{item.text}}</div>\n\t\t\t<div ng-repeat="type in item.types track by $index"\n\t\t\t\t class="codearea-autocomplete-hint-type {{type.id}}"\n\t\t\t\t q-translation="{{type.key}}"></div>\n\t\t</li>\n\t</ul>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(190)],r=function(e){var t=e.Pos;function n(e,n,i,r){this.atOccurrence=false;this.cm=e;r||"string"!=typeof n||(r=false);i=i?e.clipPos(i):t(0,0);this.pos={from:i,to:i};n||(n="");if("string"!=typeof n){n.global||(n=new RegExp(n.source,n.ignoreCase?"ig":"g"));this.matches=function(i,r){var o,s,a;if(i){n.lastIndex=0;o=e.getLine(r.line).slice(0,r.ch);s=n.exec(o);a=0;while(s){a+=s.index+1;o=o.slice(a);n.lastIndex=0;var l=n.exec(o);if(!l)break;s=l}a--}else{n.lastIndex=r.ch;o=e.getLine(r.line);s=n.exec(o);a=s&&s.index}if(s&&s[0])return{from:t(r.line,a),to:t(r.line,a+s[0].length),match:s}}}else{r||(n=n.toLowerCase());var o=r?function(e){return e}:function(e){return e.toLowerCase()};var s=n.split("\n");1==s.length?n.length?this.matches=function(i,r){var s=o(e.getLine(r.line)),a=n.length,l;if(i?r.ch>=a&&-1!=(l=s.lastIndexOf(n,r.ch-a)):-1!=(l=s.indexOf(n,r.ch)))return{from:t(r.line,l),to:t(r.line,l+a)}}:this.matches=function(){}:this.matches=function(n,i){var r=i.line,a=n?s.length-1:0,l=s[a],u=o(e.getLine(r));var c=n?u.indexOf(l)+l.length:u.lastIndexOf(l);if(n?c>=i.ch||c!=l.length:c<=i.ch||c!=u.length-l.length)return;for(;;){if(n?!r:r==e.lineCount()-1)return;u=o(e.getLine(r+=n?-1:1));l=s[n?--a:++a];if(a>0&&a<s.length-1){if(u!=l)return;continue}var f=n?u.lastIndexOf(l):u.indexOf(l)+l.length;if(n?f!=u.length-l.length:f!=l.length)return;var d=t(i.line,c),p=t(r,f);return{from:n?p:d,to:n?d:p}}}}}n.prototype={findNext:function e(){return this.find(false)},findPrevious:function e(){return this.find(true)},find:function e(n){var i=this,r=this.cm.clipPos(n?this.pos.from:this.pos.to);function o(e){var n=t(e,0);i.pos={from:n,to:n};i.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(n,r)){this.pos.from&&this.pos.to||window.console.log(this.matches,this.pos);this.atOccurrence=true;return this.pos.match||true}if(n){if(!r.line)return o(0);r=t(r.line-1,this.cm.getLine(r.line-1).length)}else{var s=this.cm.lineCount();if(r.line==s-1)return o(s);r=t(r.line+1,0)}}},from:function e(){if(this.atOccurrence)return this.pos.from},to:function e(){if(this.atOccurrence)return this.pos.to},replace:function n(i){if(!this.atOccurrence)return;var r=e.splitLines(i);this.cm.replaceRange(r,this.pos.from,this.pos.to);this.pos.to=t(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}};function i(e,t,i,r){return new n(e,t,i,r)}return{getSearchCursor:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(190),n(1093)],r=function(e,t){var n="\r\n";e.directive("qvCodeareaExposedContextApi",["$parse","$timeout",function(e,i){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function t(n,i,r,o){var s=o[0];var a=o[1];a._connectCodeArea(s);var l=e(r.qvCodeareaExposedContextApi);l.assign(n,a);n.$on("$destroy",function(){l.assign(n,void 0);a._connectCodeArea(void 0)})},controller:function e(){var r;function o(e){r=e}function s(){var e=r.codemirror.getTokenAt(r.codemirror.getCursor());var t=0,n=e.state.lexical;while(n&&"qvfunction"!==n.type||0===t&&n.info&&e.string.toLowerCase()===n.info.toLowerCase()){n=n.prev;t++}return!!n&&n.info}function a(){r.focus()}function l(){r.codemirror.undo()}function u(){r.codemirror.redo()}function c(){t.commands.toggleComment(r.codemirror);a()}function f(){r.codemirror.indentSelection("add");a()}function d(){r.codemirror.indentSelection("subtract");a()}function p(){return r.codemirror.options.readOnly}function h(e){var t=r.codemirror.getDoc().getSelection();var n=e(t);r.codemirror.replaceSelection(n)}function v(e){r.codemirror.setCursor(r.codemirror.getCursor("end"));var t=r.codemirror.getCursor().line,i=r.codemirror.getCursor().ch,o=r.codemirror.getLine(t).length;if(o>0)if(i===o){r.codemirror.setCursor(t,o);r.codemirror.replaceSelection(n)}else{r.codemirror.setCursor(r.codemirror.lineCount(),0);e=n+n+e}r.codemirror.setCursor(r.codemirror.getCursor("end"));r.codemirror.replaceSelection(e);r.focus()}function m(e){r.codemirror.replaceSelection(e,"end");r.focus()}function g(e){i(function(){var t=r.codemirror.lineCount();e<t?r.codemirror.setCursor(e-1,0):r.codemirror.setCursor(t-2,0);r.focus()})}function b(e){return r.codemirror.getCursor(e)}function y(e,t,n){r.codemirror.setCursor(e,t,n)}function x(){return r.codemirror.lineCount()}var _={applyToSelection:h,focus:a,undo:l,redo:u,comment:c,indent:f,outdent:d,insertCode:v,replaceSelection:m,getFunctionNameUnderCursor:s,gotoLine:g,isReadOnly:p,getCursor:b,setCursor:y,lineCount:x,_connectCodeArea:o,codemirror:void 0};Object.defineProperty(_,"canUndo",{get:function e(){return r&&r.codemirror&&r.codemirror.historySize().undo>0},enumerable:true});Object.defineProperty(_,"canRedo",{get:function e(){return r&&r.codemirror&&r.codemirror.historySize().redo>0},enumerable:true});return _}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){function n(e,t){var n=e.length;var i=t.length;var r;var o=Math.min(e.length,t.length);for(r=0;r<o;r++)if(e.charAt(r)!==t.charAt(r))break;if(r===e.length&&r===t.length)return;var s=r;var a;var l;for(r=0;r<o;r++){a=n-r-1;l=i-r-1;if(a<s||l<s)break;if(e.charAt(n-r-1)!==t.charAt(i-r-1))break}var u=n-r-1;var c=i-r-1;return{start:s,targetRange:{from:s,to:u+1},sourceRange:{from:s,to:c+1}}}t.directive("qvCodeareaExposedTouchApi",["$parse","$timeout",function(t,i){return{require:["qvCodearea","qvCodeareaExposedTouchApi"],link:function e(n,r,o,s){var a=s[0];var l=s[1];l._connectCodeArea(a);var u=t(o.qvCodeareaExposedTouchApi);u.assign(n,l);n.$on("$destroy",function(){u.assign(n,void 0);i(function(){l._connectCodeArea(void 0)})})},controller:["$scope",function(t){var r,o;function s(e){r=e}function a(e,t){r.codemirror.scrollTo(t,e)}function l(e){r.setCustomFocusFn(e)}function u(n){function i(){var t=e(r.codemirror.getScrollerElement());n(t.scrollTop(),t.scrollLeft())}r.codemirror.on("scroll",i);t.$on("$destroy",function(){r.codemirror.off("scroll",i);n=void 0})}function c(e){function n(){var t={anchor:r.codemirror.indexFromPos(r.codemirror.getCursor("anchor")),head:r.codemirror.indexFromPos(r.codemirror.getCursor("head"))};e(r.codemirror.getValue(),t)}function i(){o||n()}n();r.codemirror.on("change",i);t.$on("$destroy",function(){r.codemirror.off("change",i);e=void 0})}function f(n){t.$watch(function(){return String(r.codemirror.lineCount()).length},function(){i(function(){var t=e(r.codemirror.getGutterElement()).outerWidth();var i={top:0,left:t,bottom:0,right:0};n(i)})});t.$on("$destroy",function(){n=void 0})}function d(e,t,n){r&&r.codemirror.setSelection(e,t,n)}function p(e,t){var i=r.codemirror.getValue("\n");var s=n(i,t);if(s){var a=t.substring(s.sourceRange.from,s.sourceRange.to);var l=r.codemirror.posFromIndex(s.targetRange.from);var u=r.codemirror.posFromIndex(s.targetRange.to);o=true;r.codemirror.replaceRange(a,l,u);o=false}}function h(){r.cssClasses["qv-codearea-disable-selection"]=true}function v(){r.cssClasses["qv-codearea-disable-selection"]=false}var m={_connectCodeArea:s,scrollTo:a,onScroll:u,setOverlayFocuser:l,replicateSelection:d,replicateContent:p,onNewContent:c,onResize:f,disableSelections:h,restoreSelections:v};return m}]}}]);return{diff:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(347)],r=function(e,t){e.directive("qvCodeareaExposedSearchApi",["$parse",function(e){return{require:"qvCodearea",link:function n(i,r,o,s){var a=e(o.qvCodeareaExposedSearchApi);a.assign(i,t.createSingleCodeareaSearcher(s.codemirror));i.$on("$destroy",function(){a.assign(i,void 0)})},controller:function e(){}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaAccelerators",function(){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function t(n,i,r,o){var s=o[0];var a=o[1];var l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};function u(e,t){return e.keyCode===t.keyCode&&e.ctrlKey===(t.ctrlKey||false)&&e.shiftKey===(t.shiftKey||false)}function c(t,i){var o=n.$eval(r.qvCodeareaAccelerators);for(var s in o){var c=o[s];if(u(i,c)&&(!c.previous||u(l,c.previous))){e.$apply(e.$rootScope,function(){c.fn(a)});l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};i.preventDefault();return}}l={keyCode:i.keyCode,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey}}s.codemirror.on("keydown",c);n.$on("$destroy",function(){s.codemirror.off("keydown",c)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){function n(t){var n=e("<div class='qv-codearea-breakpoint-marker'><span class='lui-icon lui-icon--minus'></span></div>");n.data("breakpoint",t);return n[0]}function i(t,n){if(n.enabled){e(t).addClass("qv-codearea-breakpoint-marker-enabled");e(t).removeClass("qv-codearea-breakpoint-marker-disabled")}else{e(t).addClass("qv-codearea-breakpoint-marker-disabled");e(t).removeClass("qv-codearea-breakpoint-marker-enabled")}}t.directive("qvCodeareaBreakpoints",function(){return{require:"qvCodearea",link:function r(o,s,a,l){var u;function c(e){if(e){u=e;var t=l.codemirror.getDoc().lineCount();for(var r=0;r<t;r++){var o=r+1;var s=e[o];var a=l.codemirror.lineInfo(r).gutterMarkers;var c=a&&a["qv-codearea-breakpoint"];if(s){if(!c){c=n(s);l.codemirror.setGutterMarker(r,"qv-codearea-breakpoint",c)}i(c,s)}else c&&l.codemirror.setGutterMarker(r,"qv-codearea-breakpoint",null)}}}o.$watch(a.qvCodeareaBreakpoints,c);o.$watch(a.qvCodeareaBreakpoints,c,true);function f(e){var t=l.codemirror.getDoc().lineCount();for(var n=e.from.line;n<t;n++){var i=l.codemirror.lineInfo(n).gutterMarkers;if(i&&i["qv-codearea-breakpoint"])return true}return false}function d(e){return e.text.length!==e.removed.length}function p(n,i){!l.supressChangeEvent&&d(i)&&f(i)&&t.$apply(t.$rootScope,function(){var t=u;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=l.codemirror.getDoc().lineCount();for(var r=0;r<i;r++){var o=r+1;var s=l.codemirror.lineInfo(r).gutterMarkers;var a=s&&s["qv-codearea-breakpoint"];if(a){var c=e(a);var f=c.data("breakpoint");f.lineNbr=o;t[o]=f}}})}function h(e,t){l.disabled||o.$apply(function(){var e=t+1;var n=u[e];n?delete u[e]:u[e]={enabled:true,lineNbr:e}})}l.codemirror.on("change",p);l.codemirror.on("gutterClick",h);var v={F9:function e(){h(l.codemirror,l.codemirror.getCursor().line)}};l.codemirror.addKeyMap(v);o.$on("$destroy",function(){l.codemirror.off("change",p);l.codemirror.off("gutterClick",h);l.codemirror.removeKeyMap(v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaDebugLocation",function(){return{require:"qvCodearea",link:function e(t,n,i,r){var o;t.$watch(i.qvCodeareaDebugLocation,function(e){if(e){var t=r.codemirror.lastLine()+1;var n=e.lineNbr;n>t&&(n=t);if(o){r.codemirror.removeLineClass(o,"background","qv-codearea-current-debug-line");r.codemirror.removeLineClass(o,"background","qv-codearea-current-debug-line-error")}if(n>0&&n<=t){r.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line");e.errorMessage&&r.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line-error");r.codemirror.scrollIntoView({line:n-1,ch:0},200);o=r.codemirror.getLineHandle(n-1)}}},true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaErrors",function(){return{require:"qvCodearea",link:function e(t,n,i,r){var o=[];t.$watch(i.qvCodeareaErrors+".content",function(e){if(e){var t;for(t=0;t<o.length;t++)o[t].clear();for(t=0;t<e.length;t++){var n=e[t];var i={line:n.qLineInTab,ch:n.qColInLine},s={line:n.qLineInTab,ch:n.qColInLine+n.qErrLen},a=r.codemirror.markText(i,s,{className:"cm-servererror"});o.push(a)}}},true);t.$on("$destroy",function(){o=[]})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(704)],r=function(e,t){e.directive("qvCodeareaLimit",function(){return{require:"qvCodearea",link:function e(n,i,r,o){function s(e,i){var o=n.$eval(r.qvCodeareaLimit);o&&o>0&&t(e,i,o)}o.codemirror.on("beforeChange",s);n.$on("$destroy",function(){o.codemirror.off("beforeChange",s)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t,n){var i=t.text.join("\n");var r=e.getRange(t.from,t.to).length;var o=i.length;var s=o-r;var a=e.getValue().length;if(a>=n&&0===r)t.cancel();else if(a+s>n){o=Math.max(0,n-a+r);i=i.substr(0,o);t.update(null,null,i.split("\n"))}}return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(163),n(54)],r=function(e,t,n,i){var r,o,s;function a(e,t){var n=[],i,s,a;for(s=0;s<e.length;s++){i=e[s].split(" ");for(a=0;a<i.length;a++)if(i[a].toLowerCase()===t.toLowerCase()){if(!r){r=i.length>1;o=a>0}n.push(e[s])}}return n}function l(e,t,n){if(" "===n.string){var i=e.getTokenAt({ch:n.end+1,line:t.line});if(i.string.length>1)return i}return n}function u(e,t,n,i){var r=i?t.end-(t.string.length+1):t.end+2,o=e.getTokenAt({ch:r,line:n.line});return o}function c(e,t,n,i){var r={left:t.pageX,top:t.pageY};var o=e.coordsChar(r,"window");var s=e.getTokenAt(o);return d(e,s,n,i)}function f(e,t,n,i){var r=e.getTokenAt(e.getCursor());return d(e,r,n,i)}function d(e,t,c,f){r=false;o=false;c=c||"scriptsyntax";var d=n.path+c+".",p=[],h,v,m;if("keyword"!==t.type&&"function"!==t.type)return false;t=l(e,e.getCursor(),t);p=a(i.pluck(f.getAutocompleteList(),"text"),t.string);if(r){v=u(e,t,e.getCursor(),o);m=a(p,v.string);h=m.length>0&&v.string!==t.string?o?v.string+"_"+t.string:t.string+"_"+v.string:t.string}else h=t.string;d+=h;/firefox/.test(window.navigator.userAgent.toLocaleLowerCase())&&s&&s.close();s=window.open(d,"__qlikviewhelp");return true}e.directive("qvCodeareaHelpMode",["$parse",function(e){return{require:"qvCodearea",link:function n(i,r,o,s){var a;var l=i.$watch(o.qvCodeareaHelpModeOptions,function(n){l();function u(t){if(a){t.preventDefault();var r=c(s.codemirror,t,n.syntax,n.service);r&&i.$apply(function(){e(o.qvCodeareaHelpMode).assign(i,false)})}}function d(e,t){if((72===t.keyCode||104===t.keyCode)&&t.ctrlKey){t.preventDefault();f(s.codemirror,t,n.syntax,n.service)}}i.$watch(o.qvCodeareaHelpMode,function(e){a=e;s.cssClasses["qv-codearea-help-mode"]=e});t(r).on("click",u);s.codemirror.on("keydown",d);i.$on("$destroy",function(){t(r).off("click",u);s.codemirror.off("keydown",d)})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaTouchOverlay",function(){return{restrict:"E",replace:true,scope:{codeareaTouchApi:"=",enabled:"=",helpMode:"="},template:'<div class="qv-codearea-touch-overlay-container" ng-style="containerStyle"><textarea class="qv-codearea-touch-overlay" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" wrap="off"></textarea></div>',link:function e(t,n){var i=n.find("textarea");var r=false;t.containerStyle={};function o(e){var n=/iPad|iPhone|iPod/.test(navigator.userAgent);n&&i.css("padding-left","1px");e.disableSelections();t.$on("$destroy",function(){e.restoreSelections()});e.onNewContent(function(e,t){i.val(e);if(i[0]!==document.activeElement)return;if(i[0].selectionStart!==t.anchor||i[0].selectionEnd!==t.head){i[0].selectionStart=t.anchor;i[0].selectionEnd=t.head}});e.setOverlayFocuser(function(){});e.onResize(function(e){t.containerStyle.left=e.left});e.onScroll(function(e,t){i.scrollTop(e);i.scrollLeft(t);document.activeElement===i[0]&&(""===i[0].style.textShadow?i[0].style.textShadow="rgba(0,0,0,0) 0 0 0":i[0].style.textShadow="")});i.on("scroll",function(){e.scrollTo(i.scrollTop(),i.scrollLeft())});i.on("input",function(t){var n=i.val();e.replicateContent(t,n)});function o(e,t){var n=e.substring(0,t).split("\n");var i=n.length-1;var r=n[n.length-1].length;return{line:i,ch:r}}function s(){var t=i.val();var n=i[0].selectionStart;var r=i[0].selectionEnd;var s=o(t,n);var a=o(t,r);e.replicateSelection(s,a,{scroll:false})}var a;var l;function u(){if(!r){if(i[0].selectionStart!==a||i[0].selectionEnd!==l){a=i[0].selectionStart;l=i[0].selectionEnd;s()}setTimeout(u,200)}}setTimeout(u,200)}t.$watch("helpMode",function(e){e?n.hide():n.show()});var s=t.$watch("codeareaTouchApi",function(e){if(e){o(e);s()}});t.$on("$destroy",function(){r=true;i=void 0})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvCodeareaBlockLargePastes",function(){var e=function e(t){if(""===t||Number.isNaN(+t))return 1e6;return t};var t=function e(t){return t.originalEvent.clipboardData?t.originalEvent.clipboardData.getData("text/plain").length:window.clipboardData.getData("Text").length};return{restrict:"A",controller:["$scope","$element","$attrs",function(n,i,r){i.find("textarea").on("paste",function(n){t(n)>e(r.qvCodeareaBlockLargePastes)&&n.preventDefault()});n.$on("$destroy",function(){i.find("textarea").off("paste")})}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48)],r=function(e,t){t.directive("qvCodeareaExposedGutterWidth",["$parse","$timeout",function(t,n){return{require:"qvCodearea",link:function i(r,o,s,a){var l=t(s.qvCodeareaExposedGutterWidth);r.$watch(function(){return String(a.codemirror.lineCount()).length},function(){var t=e(a.codemirror.getGutterElement()).outerWidth();l.assign(r,t);n(function(){var t=e(a.codemirror.getGutterElement()).outerWidth();l.assign(r,t)})});r.$on("$destroy",function(){l.assign(r,void 0)})},controller:function e(){}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(11),n(190)],r=function(e,t,n){var i="CodeMirror-text-in-composition";var r={inclusiveLeft:true,inclusiveRight:true,className:i};function o(e){var t,n,r,o;n=e.getAllMarks();for(r=0,o=n.length;r<o;r++){t=n[r];null!=t&&t.className===i&&t.clear()}return true}var s,a,l,u,c,f,d,p,h,v,m;function g(e,i){var g=i;e.options.enableCompositionMod=true;c=function t(){f&&f();e.display.input.blur();e.display.input.focus()};u=function t(n){d=n.char;f&&f();if(e.display.inCompositionMode){var i=e.getCursor();var r=e.display.compositionHead;var o=e.charCoords(i).left-e.charCoords(r).left;o+=void 0!==d?30:1;e.display.input.style.width=o+"px"}};s=function t(){if(e.options.enableCompositionMod){m.disabled=true;e.display.inCompositionMode=true;h=g.offset();e.display.inputDiv.classList.add("CodeMirror-input-wrapper");e.display.inputDiv.classList.add("in-composition");e.setOption("readOnly",true);e.somethingSelected()&&e.replaceSelection("");e.display.compositionHead=e.getCursor();void 0===d?e.display.input.value="":" "===d&&a({data:" "})}};a=function t(n){var i,o;if(!e.options.enableCompositionMod||!e.display.inCompositionMode)return;var s=e.display.compositionHead;if(e.display.textMarkerInComposition){i=e.display.textMarkerInComposition.find();if(i){e.replaceRange(n.data,s,i.to);e.display.textMarkerInComposition.clear();e.display.textMarkerInComposition=void 0}}else e.replaceRange(n.data,s,s);var a=e.getCursor();o=e.charCoords(a).left-e.charCoords(s).left;void 0===d&&(o+=1);e.display.input.style.width=o+"px";e.display.textMarkerInComposition=e.markText(s,a,r);p()};function b(){var e=window.navigator.userAgent;var t=e.indexOf("MSIE ");return t>0||!!navigator.userAgent.match(/Trident.*rv:11\./)}l=function t(i){var r;if(!e.options.enableCompositionMod||!e.display.inCompositionMode)return;b()?"\b"===d&&a(i):a(i);e.display.inCompositionMode=false;e.display.compositionHead=void 0;null!=(r=e.display.textMarkerInComposition)&&r.clear();e.display.textMarkerInComposition=void 0;e.setOption("readOnly",false);e.display.inputDiv.classList.remove("in-composition");e.display.inputDiv.classList.remove("CodeMirror-input-wrapper");o(e);f=function t(){m.disabled=false;n.off(e.display.input,"input",f);if(!e.display.inCompositionMode){e.display.input.value="";e.display.input.style.width="0px";f=void 0}};n.on(e.display.input,"input",f)};p=function t(){if(e.display.inCompositionMode){var n=e.charCoords(e.display.compositionHead).top-h.top;void 0!==d&&(n-=1);e.display.inputDiv.style.top=n+"px";var i=e.charCoords(e.display.compositionHead).left-h.left;e.display.inputDiv.style.left=i+"px"}};v=function n(i){var r=t(e.display.scroller);r.scrollTop(r.scrollTop()-i.wheelDelta)}}e.directive("qvCodeareaCompositionEvent",function(){return{restrict:"A",require:"qvCodearea",link:function e(i,r,o,d){g(d.codemirror,r);var h=d.codemirror.display.input;var b=i.$watch(o.qvCodeareaAutocomplete,function(e){m=e;b()});b=i.$watch("codeareaTouchApi",function(e){if(e){e.onResize(function(){p()});e.onScroll(function(){p()});b()}});t(window).on("resize",p);n.on(d.codemirror,"mousedown",c);n.on(h,"keydown",u);n.on(h,"compositionstart",s);n.on(h,"compositionupdate",a);n.on(h,"compositionend",l);n.on(h,"mousedown",c);n.on(h,"mousewheel",v);i.$on("$destroy",function(){t(window).off("resize",p);n.off(d.codemirror,"mousedown",c);n.off(h,"compositionstart",s);n.off(h,"keydown",u);n.off(h,"compositionupdate",a);n.off(h,"compositionend",l);n.off(h,"input",f);n.off(h,"mousedown",c);n.off(h,"mousewheel",v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(711)],r=function(e,t){e.directive("qvExpandableList",function(){return{restrict:"A",template:t,controller:["$scope",function(e){e.expandClicked=function(e){e.expanded=!e.expanded;"undefined"!=typeof e.state&&(e.expanded?e.state["sectionExpanded"]=true:e.state["sectionExpanded"]=false)}}]}});e.directive("includeSection",function(){return{restrict:"A",controller:["$scope","$element","$compile",function(e,t,n){t.append(n(e.item.template)(e))}]}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-expandable-list-component" tcl="expandable-list">\n\t<ul class="qv-expandable-list">\n\t\t<li ng-repeat="item in items track by item.key" tid="section {{item.key}}">\n\t\t\t<div class="qv-expandable-list-header" qva-activate="expandClicked(item)" ng-class="{ \'expanded\': item.state.stateExpanded }" tid="{{item.key}}">\n                <i class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t\t<span class="text" q-translation="{{item.translation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="qv-expandable-list-content" ng-if="item.expanded">\n\t\t\t\t<div include-section></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(91),n(713),n(97),n(714),n(191)],r=function(e,t,n,i,r,o,s){t.directive("qvInformationArea",function(){return{scope:{info:"=",app:"=",mode:"="},restrict:"E",replace:true,template:i,link:function t(i,a){i.nbrOfStatements=0;i.exprValidator=null;i.state={expanded:false,autoExpanded:false};var l="validating";var u="valid";var c="invalid";var f=a.find(".text-column"),d=e("#expression-editor-content");function p(){setTimeout(function(){f.css({"max-height":d.height()/2})})}function h(){var e=0;""!==i.info.translatedErrorMgs&&e++;""!==i.info.extraErrorMsg&&e++;""!==i.info.expandedExpr&&e++;e>1&&(i.state.autoExpanded=true);i.nbrOfStatements=e}function v(e){i.info.status=e.valid?u:c;i.info.errorMsg=e.valid?"Common.OK":"Expression.Validation.InvalidExpression";i.info.translatedErrorMgs=n.get(i.info.errorMsg);i.info.extraErrorMsg="";if(e.data)if(e.data.bad.length>0){var t=e.data.bad.map(function(e){return e.name});i.info.errorMsg={id:"Expression.Validation.BadFieldName",value:[t.join(", ")]}}else e.data.error&&(i.info.extraErrorMsg=e.data.error);h()}i.$watch("info.codeArea.content",function(e){i.info.status=l;o.getExpandedExpression(i.app,e).then(function(t){if(null==i.exprValidator){i.exprValidator=new s.ExpressionValidator(i.app,i.mode);i.exprValidator.Update.bind(function(e){v(e)})}i.info.expr=e;i.info.expandedExpr=t.qExpandedExpression;i.info.translatedErrorMgs=n.get(i.info.errorMsg);i.exprValidator.validate(i.info.expandedExpr,i.labels)})});i.expandCollapse=function(){i.state.expanded=!i.state.expanded};p();r.on("end.ee-update-size",p);i.$on("$destroy",function(){r.off("end.ee-update-size",p);i.exprValidator=null})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="ia-wrapper" ng-class="{ \'collapsed\' : state.expanded, \'ia-light\' : nbrOfStatements <= 1 }">\r\n    <div class="icon-column">\r\n        <span class="lui-icon  lui-icon--info" aria-hidden="true"></span>\r\n    </div>\r\n    <div class="text-column">\r\n        <div class="ia-text">\r\n           \r\n            <div class="hint" ng-if="info.translatedErrorMgs !== \'\'">\r\n                <span>{{info.translatedErrorMgs}}</span>\r\n            </div>\r\n            <div class="hint" ng-if="info.extraErrorMsg !== \'\'">\r\n                <span>{{info.extraErrorMsg}}</span>\r\n            </div>\r\n            <div class="evaluated" ng-if="info.expandedExpr !== \'\'">\r\n                {{info.expandedExpr}}\r\n            </div>\r\n               \r\n        </div>\r\n    </div>\r\n    <div class="action-column">\r\n        <span class="lui-icon  lui-icon--arrow-down" \r\n              ng-class="{ \'lui-icon--arrow-down\' : !state.expanded, \'lui-icon--arrow-up\' : state.expanded }" \r\n              aria-hidden="true"\r\n              ng-if="nbrOfStatements > 1"\r\n              ng-click="expandCollapse($event)">\r\n        </span>\r\n    </div>    \r\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(93),n(89)],r=function(e,t){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.getExpandedExpression=function(e,t){return n(e).then(function(e){return e.engineApp.expandExpression(t)}).catch(function(e){console.log("error"+e)})};return i}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="expression-input" tcl="expression-input">\n\t\n\t<label q-translation="{{labelTranslation}}"></label>\n\n\t<div class="lui-input-group">\n\n\t\t<input class="lui-input lui-input-group__item lui-input-group__input"\n\t\t\ttype="text"\n\t\t\tspellcheck="false"\n\t\t\tmaxlength="{{maxLength}}"\n\t\t\tng-class="{ \'lui-invalid\': !isValidExpression, \'force-editor\': shouldForceEditInExpressionEditor() }"\n\t\t\tng-model="expression"\n\t\t\tng-model-options="{ updateOn: \'blur\', allowInvalid: true }"\n\t\t\tng-change="onExpressionChange()"\n\t\t\tqva-activate="onExpressionActivate($event)" \n\t\t\tdata-tid="label-exp-input" />\n\n\t\t<button class="lui-button lui-input-group__item lui-input-group__button" \n\t\t\tq-title-translation="Tooltip.OpenExpressionEditor"\n\t\t\tqva-activate="openExpressionDialog( $event )">\n\n\t\t\t<span class="lui-button__icon lui-icon lui-icon--expression edit-expression" ng-class="{\'active\': isExpression}"></span>\n\t\t</button>\n\t\t\n\t</div>\n\n\t<div ng-if="shouldForceEditInExpressionEditor()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\n</div>'},function(e,t){e.exports='<div class="description-textarea" tcl="description-textarea">\n\n\t<tiny-editor ng-show="enableDescriptionExpression" value="editorValue" on-open="openExpressionDialog( $event )" invalid="!isValid" max-length="maxLength" on-blur="onBlur( $event )" always-expression="{{false}}"></tiny-editor>\n\n\t<textarea ng-show="!enableDescriptionExpression" class="lui-textarea" ng-model="description" maxlength="{{maxLength}}" name="desc" ng-class="{ \'lui-invalid\': !isValid }" tid="description-textarea"></textarea>\n\n</div>'},function(e,t){e.exports='\ufeff<div class="tiny-editor lui-textarea" ng-class="{\'lui-invalid\': invalid, \'lui-focused\': active}">\n\t<div class="textarea-wrapper">\n\t\t<textarea tid="tiny-editor-text" type="text" maxlength="{{maxLength || 8192}}" rows="3" class="wrapped-textarea"\n\t\t\t\t\t\t\tng-trim="false" ng-model="editorValue" ng-change="change()" ng-focus="focused()" ng-blur="blurred()" spellcheck="false">\n\t\t</textarea>\n\t</div>\n\t<button tid="tiny-editor-fx-button"\n\t\t\t\t\tqva-activate="open( $event )"\n\t\t\t\t\tclass="lui-fade-button edit-expression"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t<span class="lui-icon lui-icon--expression" ng-class="{\'active\': isExpression}"></span>\n\t</button>\n\n</div>'},function(e,t){e.exports='<div class="qv-cloud">\n\t<div class="qv-tageditor">\n\t\t<div class="lui-input-group">\n\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input qv-tagText" tid="tag-cloud-input" ng-model="tagInput" type="text" maxlength="31">\n\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" data-tid="tag-button">\n\t\t\t \t<span class="lui-button__icon  lui-icon  lui-icon--plus" q-title-translation="Tooltip.AddTag" ng-click="addTagsAndFocus( $event )"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div tid="tag-cloud-cloud" class="qv-tagCloud" data-value="tags">\n\t\t<span ng-repeat="tag in tags" class="qv-tagItem lui-tag">\n\t\t\t<div class="qv-tagContent">{{tag}}</div>\n\t\t\t <div class="lui-icon lui-icon--remove qv-clearTag" ng-click="removeTagAt( $index )" q-title-translation="Common.Delete"></div>\n\t\t</span>\n\t</div>\n</div>\n'},function(e,t){e.exports='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>'},function(e,t){e.exports='<lui-popover class="qv-cp-popup qv-color-picker-new"\n\t\t\t style="z-index: 1200;"\n\t\t\t ng-style="{\'width\': \'auto\'}"\n\t\t\t collision="\'flipfit\'"\n\t\t\t align-to="$alignToElement"\n\t\t\t on-close-view="closeView(event)"\n\t\t\t tid="color-picker-popup"\n\t\t\t qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex-new">\n\t\t<div class="qv-cp-main-stage-new" >\n\t\t\t<div ng-show="!customColor" class="color-palette">\n\t\t\t\t<ul class="qv-colorpicker-new palette"\n\t\t\t\t\ttid="color-picker-palette">\n\t\t\t\t\t<li ng-repeat="color in currentPalette | filter: ( $disableNone || \'\' ) && \'!none\' "\n\t\t\t\t\t\tng-click="colorClicked($event, $index, color)"\n\t\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\t\tng-class="{\'lui-icon--tick\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div class="custom-color" ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="$useGlyph" style="height: 156px">\n\t\t\t<div class="qv-cp-glyphs-title-new" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs-new">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette"\n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tng-click="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.cssClass === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon lui-icon" ng-class="glyph.cssClass"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<div class="qv-cp-divider-new"></div>\n\n\t<div class="qv-cp-hex-result-new" ng-if="extended || customColor">\n\t\t<div class="qv-cp-preview"\n\t\t\t tid="color-picker-preview"\n\t\t\t ng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t ng-style="getBackgroundStyle(foreColor)"></div>\n\t\t<div class="qv-cp-hex-text">#</div>\n\t\t<input class="qv-cp-hex-input"\n\t\t\t   ng-model="hex.value"\n\t\t\t   ng-change="onHexChange(hex.value)"\n\t\t\t   maxlength="6"\n\t\t\t   tid="{{hex.value}}"\n\t\t\t   ng-keypress="onKeyPress($event)"/>\n\n\t\t<button class="qv-cp-switch lui-button lui-button--inverse"\n\t\t\t\ttid="color-picker-result"\n\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\tng-click="onFoldoutClick($event)"\n\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="qv-colorpicker-recent-wrapper" ng-show="showRecent">\n\t\t<span class="recently-used-text" q-translation="colorpicker.RecentlyUsed"></span>\n\t\t<div>\n\t\t\t<ul class="qv-colorpicker-new recent">\n\t\t\t\t<li ng-repeat="color in recentColors | filter: \'!none\'"\n\t\t\t\t\tng-click="recentColorClicked($event, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}"\n\t\t\t\t\tclass="no-margin">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(722)],r=function(e){function t(t){var n=e.FixedQueue(5,[]);var r;if(i){a(i,n);for(r=t.length-1;r>=1;r--)a(t[r],n)}else for(r=t.length-1;r>=0;r--)n.push(t[r]);return n}var n=r();var i;function r(){return e.FixedQueue(5,[])}function o(){return t(n)}function s(e){a(e,n)}function a(e,t){if("none"!==e){var n=t.indexOf(e);n>-1&&t.splice(n,1);t.push(e)}}function l(e){i=e}function u(){s(i);i=null}return{getPersistentRecentColors:o,initRecentColors:r,persistColor:s,stage:l,commit:u}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(t,n){n=n||[];var i=Array.apply(null,n);i.fixedSize=t;i.push=e.push;i.splice=e.splice;i.unshift=e.unshift;e.trimTail.call(i);return i}e.trimHead=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,0,this.length-this.fixedSize)};e.trimTail=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,this.fixedSize,this.length-this.fixedSize)};e.wrapMethod=function(e,t){var n=function n(){var i=Array.prototype[e];var r=i.apply(this,arguments);t.call(this);return r};return n};e.push=e.wrapMethod("push",e.trimHead);e.splice=e.wrapMethod("splice",e.trimTail);e.unshift=e.wrapMethod("unshift",e.trimTail);return{FixedQueue:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(96)],r=function(e,t){e.directive("hueSatWheelNew",function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat-new"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"/></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(n,i){var r=i.find(".cp-hsw-pointer");var o=i.find(".cp-hsw-overlay");var s=i.find(".cp-hue-sat-wheel");var a=s.width()/2;var l=s.height()/2;var u=0;var c=0;function f(e,t){u=(180*Math.atan2(t,e)/Math.PI+360)%360;c=Math.min(Math.max(0,Math.sqrt(t*t+e*e)/a*100),100);n.hsv.h=u;n.hsv.s=c;n.callback&&n.callback({hue:u,sat:c})}function d(e,t){r.css({left:e,top:t})}function p(){var e=Math.cos(u/180*Math.PI)*(c/100*a);var t=Math.sin(u/180*Math.PI)*(c/100*a);d(e+a,l-t)}function h(e,t){var n=Math.sqrt(e*e+t*t);if(n>a){e=e/n*a;t=t/n*a}return{x:e,y:t}}function v(e){var t=s.offset();var n=h(e.x-a-t.left,2*l-e.y-a+t.top);d(n.x+a,l-n.y);f(n.x,n.y)}var m="cp-hsw";t(s[0]).tap({id:m,end:function e(t,n){v(n.pagePoints[0])}}).swipe({id:m,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){v(n.pagePoints[0])}});n.$watch("hsv.v",function(){o.css("background","rgba(0,0,0, "+(100-n.hsv.v)/100+")")});n.$watch("hsv.h",function(){if(u!==n.hsv.h){u=n.hsv.h%360;p()}});n.$watch("hsv.s",function(){if(c!==n.hsv.s){c=n.hsv.s>100?100:n.hsv.s<0?0:n.hsv.s;p()}});n.$watch("visible",function(){p()});n.$on("$destroy",function(){t(s[0]).off("*",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(109),n(96)],r=function(e,t,n){function i(e,n,i){return new t("hsv("+e+","+n+","+i+")").toRGB()}e.directive("valueSliderNew",function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"/></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,r){var o=r.find(".cp-val-pointer");var s=r.find(".cp-val-slider");var a=100;function l(e){return(e-o.outerWidth()/2)/(s.outerWidth()-o.outerWidth())*100}function u(e){return e/100*(s.outerWidth()-o.outerWidth())+o.outerWidth()/2}function c(e){a=Math.max(Math.min(100,l(e)),0);t.hsv.v=a;t.callback&&t.callback({value:l(e)})}function f(e){o.css({left:e})}function d(e){var t=u(e);f(t)}function p(e){return Math.min(Math.max(e,o.outerWidth()/2),s.outerWidth()-o.outerWidth()/2)}function h(e){var t=s.offset();var n=p(e.x-t.left);f(n);c(n)}var v="cp-hsw";n(r[0]).tap({id:v,end:function e(t,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){h(n.pagePoints[0])}});t.$watchCollection("[hsv.s, hsv.h]",function(){s.css("background-color",i(t.hsv.h,t.hsv.s,100))});t.$watch("hsv.v",function(){if(a!==t.hsv.v){a=t.hsv.v;d(t.hsv.v)}});t.$watch("visible",function(){d(a)});t.$on("$destroy",function(){n(r[0]).off("*",v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(727),n(109),n(728),n(729)],r=function(e,t,n){function i(e,t){if(t[e])return t[e];return e||"none"}function r(e,t,n){if(!e||-1!==n.indexOf(t))return false;return"none"!==t&&!!t}var o={template:t,controller:["$scope","$element","$timeout",function(t,o,s){t.hsv={h:0,s:100,v:100};var a=new n;if(t.$useGlyph){t.foreColor=i(t.$inputViewValue.color,t.$palette);t.glyphIcon=t.$inputViewValue.icon;t.customColor=r(t.$extended,t.$inputViewValue.color,t.$palette)}else{t.foreColor=i(t.$inputViewValue,t.$palette);t.customColor=r(t.$extended,t.$inputViewValue,t.$palette)}t.hex={value:""};t.getBackgroundStyle=function(e){if("none"!==e)return{"background-color":e}};function l(){t.onColorChange(t.$useGlyph,t.index,t.foreColor,t.glyphIcon)}t.setGlyph=function(e,n,i){t.glyphIcon=i.icon;l()};function u(e){a=new n(e);a.isInvalid()&&t.$disableNone&&(a=new n(t.$defaultColor))}function c(e){var n=a.toHex();t.foreColor=a.isInvalid()?"none":n;t.index=e;l();t.isDark=a.isDark()}function f(){a.isInvalid()?t.hex.value="-":t.hex.value=a.toHex().substring(1,7)}function d(){if(!a.isInvalid()){var e=a.toHSVComponents();t.hsv.h=e.h;t.hsv.s=e.s;t.hsv.v=e.v}}var p=null;function h(e){return function(){var t=this,n=arguments;p||(p=s(function(){e.apply(t,n);p=null},100))}}t.hueSatValueChanged=h(function(){u("hsv("+t.hsv.h+","+t.hsv.s+","+t.hsv.v+")");f();c(-1)});function v(e){e="#"+e.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);u(e);d();c(-1)}t.onHexChange=h(v);t.colorClicked=h(function(e,n){if(!t.$disableNone||"none"!==n){u(n);d();f();c(e)}});t.onFoldoutClick=function(e){e.preventDefault();t.customColor=!t.customColor};t.onKeyPress=function(e){var n=e.which;13===n&&t.close()};u(t.foreColor);d();t.isDark=a.isDark();var m=s(function(){e.$apply(t,function(){f()})});t.$on("$destroy",function(){s.cancel(m);o.find(".qv-cp-hex-input").off()})}]};return{popupComponent:o,isCustom:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover class="qv-cp-popup qv-color-picker"\n\t\t\t\t\t  style="min-width: 100px;z-index: 1200;"\n\t\t\t          ng-style="{\'width\': \'auto\'}"\n\t\t\t\t\t  collision="\'flipfit\'"\n\t\t\t\t\t  align-to="$alignToElement"\n\t\t\t\t\t  on-close-view="closeView(event)"\n\t\t\t\t\t  tid="color-picker-popup"\n\t\t\t\t\t  qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex">\n\t\t<div class="qv-cp-main-stage" >\n\t\t\t<ul class="qv-colorpicker"\n\t\t\t\tng-show="!customColor"\n\t\t\t\tng-class="{\'extended\' : $extended}"\n\t\t\t\ttid="color-picker-palette">\n\t\t\t\t<li ng-repeat="color in $palette"\n\t\t\t\t\tqva-activate="colorClicked($index, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tclass="lui-icon"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="$useGlyph">\n\t\t\t<div class="qv-cp-glyphs-title" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette" \n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tqva-activate="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.icon === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon">{{glyph.icon}}</span>\n\t\t\t\t</button>\n\t\t\t\t\x3c!--<li ng-repeat="glyph in $glyphPalette" \n\t\t\t\tqva-activate="setGlyph($event, $index, glyph)" \n\t\t\t\tng-class="{\'selected\': glyphIcon === glyph.icon, \'border\': glyph.icon === \'\'}">{{glyph.icon}}</li>--\x3e\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\t\t<div ng-if="$extended">\n\t\t\t<div class="qv-cp-divider"></div>\n\t\t\t<div class="qv-cp-hex-result">\n\t\t\t\t<div class="qv-cp-preview"\n\t\t\t\t\t\ttid="color-picker-preview"\n\t\t\t\t\t\tng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t\t\t\tng-style="getBackgroundStyle(foreColor)"></div>\n\t\t\t\t<div class="qv-cp-hex-text">#</div>\n\t\t\t\t<input class="qv-cp-hex-input"\n\t\t\t\t\tng-model="hex.value"\n\t\t\t\t\tng-change="onHexChange(hex.value)"\n\t\t\t\t\tmaxlength="7"\n\t\t\t\t\ttid="{{hex.value}}"\n\t\t\t\t\tng-keypress="onKeyPress($event)"/>\n\n\t\t\t\t\t<button class="qv-cp-switch lui-button  lui-button--inverse"\n\t\t\t\t\t\t\ttid="color-picker-result"\n\t\t\t\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\t\t\t\tqva-activate="onFoldoutClick($event)"\n\t\t\t\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(96)],r=function(e,t){e.directive("hueSatWheel",function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"/></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(n,i){var r=i.find(".cp-hsw-pointer");var o=i.find(".cp-hsw-overlay");var s=i.find(".cp-hue-sat-wheel");var a=s.width()/2;var l=s.height()/2;var u=0;var c=0;function f(e,t){u=(180*Math.atan2(t,e)/Math.PI+360)%360;c=Math.min(Math.max(0,Math.sqrt(t*t+e*e)/a*100),100);n.hsv.h=u;n.hsv.s=c;n.callback&&n.callback({hue:u,sat:c})}function d(e,t){r.css({left:e,top:t})}function p(){var e=Math.cos(u/180*Math.PI)*(c/100*a);var t=Math.sin(u/180*Math.PI)*(c/100*a);d(e+a,l-t)}function h(e,t){var n=Math.sqrt(e*e+t*t);if(n>a){e=e/n*a;t=t/n*a}return{x:e,y:t}}function v(e){var t=s.offset();var n=h(e.x-a-t.left,2*l-e.y-a+t.top);d(n.x+a,l-n.y);f(n.x,n.y)}var m="cp-hsw";t(s[0]).tap({id:m,end:function e(t,n){v(n.pagePoints[0])}}).swipe({id:m,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){v(n.pagePoints[0])}});n.$watch("hsv.v",function(){o.css("background","rgba(0,0,0, "+(100-n.hsv.v)/100+")")});n.$watch("hsv.h",function(){if(u!==n.hsv.h){u=n.hsv.h%360;p()}});n.$watch("hsv.s",function(){if(c!==n.hsv.s){c=n.hsv.s>100?100:n.hsv.s<0?0:n.hsv.s;p()}});n.$watch("visible",function(){p()});n.$on("$destroy",function(){t(s[0]).off("*",m)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(109),n(96)],r=function(e,t,n){function i(e,n,i){return new t("hsv("+e+","+n+","+i+")").toRGB()}e.directive("valueSlider",function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"/></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function e(t,r){var o=r.find(".cp-val-pointer");var s=r.find(".cp-val-slider");var a=100;function l(e){return(e-o.outerWidth()/2)/(s.outerWidth()-o.outerWidth())*100}function u(e){return e/100*(s.outerWidth()-o.outerWidth())+o.outerWidth()/2}function c(e){a=Math.max(Math.min(100,l(e)),0);t.hsv.v=a;t.callback&&t.callback({value:l(e)})}function f(e){o.css({left:e})}function d(e){var t=u(e);f(t)}function p(e){return Math.min(Math.max(e,o.outerWidth()/2),s.outerWidth()-o.outerWidth()/2)}function h(e){var t=s.offset();var n=p(e.x-t.left);f(n);c(n)}var v="cp-hsw";n(r[0]).tap({id:v,end:function e(t,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function e(t,n){h(n.pagePoints[0])}});t.$watchCollection("[hsv.s, hsv.h]",function(){s.css("background-color",i(t.hsv.h,t.hsv.s,100))});t.$watch("hsv.v",function(){if(a!==t.hsv.v){a=t.hsv.v;d(t.hsv.v)}});t.$watch("visible",function(){d(a)});t.$on("$destroy",function(){n(r[0]).off("*",v)})}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(731),n(91),n(100),n(732),n(501),n(350)],r=function(e,t,n,i){e.directive("qvSegmentColors",["qvRecentGradientsService",function(e){return{restrict:"E",template:t,replace:true,measure:"=",link:function t(r){function o(){var e=false,t=r.measure.coloring;t.gradient||(e=true);!e&&t.gradient.limits&&t.gradient.limits.length!==r.limits.length&&(e=true);e||t.gradient.colors&&t.gradient.limits&&t.gradient.breakType||(e=true);if(!e){t.gradient.colors.forEach(function(t,n){t!==r.colors[n]&&(e=true)});t.gradient.limits.forEach(function(t,n){t!==r.limits[n]&&(e=true)});t.gradient.breakType.forEach(function(t,n){t!==r.types[n]&&(e=true)})}e||t.gradient.limitType===(r.format?"percent":"absolute")||(e=true);e&&r.enable&&(t.gradient={limits:r.limits.slice(),breakType:r.types.slice(),limitType:r.format?"percent":"absolute",colors:r.colors.slice()})}r.measure.coloring.gradient?r.enable=true:r.enable=false;function s(){var e=r.measure.coloring,t;e.gradient||(e.gradient={limits:r.templates[0].limits,breakType:r.templates[0].types.slice(),limitType:r.templates[0].percentage,colors:r.templates[0].colors.slice()});t="absolute"!==e.gradient.limitType;r.format=t;e.gradient.colors.forEach(function(e,t){r.colors[t]=e});e.gradient.limits.forEach(function(e,t){r.limits[t]=e});e.gradient.breakType.forEach(function(e,t){r.types[t]=e});r.enable||delete r.measure.coloring.gradient}r.$watch("enable",function(){r.enable?o():delete r.measure.coloring.gradient});r.templates=[{colors:[i.resolveColor({index:6}),i.resolveColor({index:10})],name:n.get("library.colors.basicTemplate"),limits:[.5],types:[false],percentage:true}];i.scales.forEach(function(e){var t="gradient"===e.type,i=t?e.scale:e.scale[e.scale.length-1],o=i.length-1,s=1/(o+1),a=[],l;for(l=0;l<o;l++)a.push((l+1)*s);r.templates.push({colors:i.slice(),name:n.get(e.translation),limits:a,types:a.map(function(){return t}),percentage:true})});e.getTemplates().forEach(function(e){r.templates.push(e)});r.colors=[];r.limits=[];r.types=[];r.format=true;s();Object.defineProperty(r,"currentTemplate",{set:function e(t){var n=r.templates[t];r.format=!!n.percentage;r.colors.length=0;r.types.length=0;r.limits.length=0;n.colors.forEach(function(e,t){r.colors[t]=e});n.types.forEach(function(e,t){r.types[t]=e});n.limits.forEach(function(e,t){r.limits[t]=e});o()}});r.$watch("colors",function(){o()},true);r.$watch("limits",function(){o()},true);r.$watch("types",function(){o()},true);r.$watch("format",function(){o()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="segment-colors-wrapper ">\n\n\n\t<div class="segment-colors-row segment-colors-limit-format segment-colors-auto" tid="segment-colors">\n\t\t<p ng-if="false" q-translation="library.colors.applyCustom"></p>\n\t\t<p>\n\t\t\t<span q-translation="library.colors.autoFillSwitch"></span></br>\n\t\t\t<b ng-show="enable" class="qv-dim-dlg-colors-label" q-translation="library.colors.on"></b>\n\t\t\t<b ng-show="!enable" class="qv-dim-dlg-colors-label" q-translation="library.colors.off"></b>\n\t\t</p>\n\t\t<lui-switch x-model="enable"></lui-switch>\n\t</div>\n\t<div class="borderline">\n\t</div>\n\t<div ng-class="{\'overlay\': !enable}">\n\t\t<p q-translation="library.colors.selectTemplate" class="segment-colors-row-text">\n\t\t<div color-drop-down class="segment-color-drop-down segment-colors-row" schemas="templates" ng-model="currentTemplate"></div>\n\t\t<div class="segment-colors-row segment-colors-limit-format" tid="segment-format">\n\t\t\t<p>\n\t\t\t\t<span q-translation="library.colors.limitFormat"></span></br>\n\t\t\t\t<b ng-show="format" class="qv-dim-dlg-colors-label" q-translation="library.colors.PercentageBased" tid="percentage-label"></b>\n\t\t\t\t<b ng-show="!format" class="qv-dim-dlg-colors-label" q-translation="library.colors.FixedValueBased" tid="fixed-value-label"></b>\n\t\t\t</p>\n\t\t\t<lui-switch x-model="format"></lui-switch>\n\t\t</div>\n\t\t<div class="segment-colors-bottom">\n\t\t\t<qv-palette-creator ng-if="colors && colors.length" colors="colors" percentage="format" limits="limits" types="types"></qv-palette-creator>\n\t\t</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(733),n(97),n(734),n(349)],r=function(e,t){e.directive("colorDropDown",function(){var n={borderColor:"#B3B3B3"};var i={borderColor:"#595959"};return{template:t,require:"?ngModel",scope:{schemas:"="},link:function t(r,o,s,a){r.show=false;r.expanded=false;r.selected=0;r.getCurrent=function(e){return r.schemas[e]};r.getCurrentName=function(){return r.schemas[r.currentScheme].name};r.currentShowComponent=null;r.currentScheme=a.$viewValue||0;r.close=function(){r.expanded=false;r.expandedBorder=n};function l(e){r.expanded=e}r.checkExpanded=function(){return true===r.expanded};r.onOpenDropDown=function(){if(r.expanded){r.expanded=false;a.$setViewValue(r.currentScheme);r.close()}else{var t=e.getService("luiPopover");r.expanded=true;r.currentShowComponent=t.show({template:"<color-scheme-popup>",input:{schemas:r.schemas,currentScheme:r.currentScheme,onChange:function e(t){a.$setViewValue(t);r.currentScheme=t},expanded:l,width:o.width()-18+"px"},alignTo:o[0],closeOnEscape:true,closeOnOutside:true,closeOnResize:true,outsideIgnore:"color-drop-down-wrapper",dock:"bottom",autoFocus:true})}};r.$watch("schemas",function(){r.show=true});r.activateHover=function(){r.expandedBorder=i};r.disableHover=function(){r.expanded||(r.expandedBorder=n)}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-class="{\'color-drop-down-wrapper-expanded\': checkExpanded()}" class="lui-popover color-drop-down-wrapper" ng-show="show" ng-style=" {\'border-color\' : expandedBorder.borderColor} " ng-mouseenter="activateHover()" ng-mouseleave="disableHover()">\n\t<div qva-activate="onOpenDropDown($event)" class="color-drop-down-popup-item" qva-outside="close()">\n\t\t<span class="color-drop-down-current-name">{{getCurrentName()}}</span>\n\t\t<div qv-color-scheme-display class="color-scheme-drop-down-list-item-colors" colors="getCurrent(currentScheme).colors"  types="getCurrent(currentScheme).types" limits="getCurrent(currentScheme).limits"></div>\n\t\t<span ng-if="!expanded" class="lui-icon lui-icon--small lui-icon--triangle-bottom" class="color-drop-down-triangle" style="float: right;margin-top: -20px; margin-right: 8px"></span>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(735)],r=function(e,t){e.directive("colorSchemePopup",function(){return{schemas:"=",currentScheme:"=",expanded:"=",width:"=",template:t,link:function e(t){t.pickScheme=function(e){for(var n=0;n<t.schemas.length;n++)if(e===t.schemas[n].name){t.onChange&&t.onChange(n);t.close();t.expanded(false)}};t.getSchemas=function(){var e=[];e.push(t.schemas[t.currentScheme]);for(var n=0;n<t.schemas.length;n++)n!==t.currentScheme&&e.push(t.schemas[n]);return e}}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-popover color-scheme-drop-down-list-wrapper" ng-style="{\'max-width\' : width}">\n\t<ul class="lui-list color-drop-down-popup-list">\n\t\t<li class="lui-list__item lui-list__action color-drop-down-popup-item" ng-repeat="scheme in getSchemas() track by $index" qva-activate="pickScheme(scheme.name)">\n\t\t\t<div class="color-scheme-drop-down-list-name" >\n\t\t\t\t{{scheme.name}}\n\t\t\t\t<div class="color-scheme-drop-down-list-item-colors" qv-color-scheme-display colors="scheme.colors" types="scheme.types" limits="scheme.limits"></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>'},function(e,t){e.exports='<div class="qv-color-scheme-display">\n\t<div class="gradient" >\n\t\t<div class="segment" \n\t\t\t ng-class="{\'animate\': animateChange, \'interactive\': allowChange}"\n\t\t\t ng-repeat="color in colors track by $index" \n\t\t\t qva-activate="allowChange && onClick($event, $index)" \n\t\t\t ng-style="segmentStyles[$index]">\n\t\t</div>\n\t\t<div class="marker" ng-class="{\'animate\': animate}" ng-if="allowChange" ng-repeat="limit in lims track by $index" ng-style="{left: getLimitPos(limit)}"></div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(90),n(48),n(97),n(348),n(297)],r=function(e,t,n,i){var r,o=i.popupComponent,s=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"],a=t.getService("qvGlyphService").getDefaultGlyphs();function l(i,l,u,c,f){var d=e.extend({palette:null,glyphPalette:null,useGlyph:false,disableNone:false,defaultColor:"#4477aa",extended:true,dock:"top",actualColor:true},u);d.palette||(d.palette=s);d.glyphPalette||(d.glyphPalette=a);function p(e,t,n){n.value=e;f&&f()}function h(){r&&r.close()}n.on("start",h);var v;var m;var g;var b=t.getService("luiPopover");var y=t.getService("$timeout");r=b.showToPosition({template:o.template,controller:o.controller,input:{$palette:d.palette,$glyphPalette:d.glyphPalette,$useGlyph:d.useGlyph,$disableNone:d.disableNone,$defaultColor:d.defaultColor,$inputViewValue:c.value,$extended:d.extended,onColorChange:function e(t,n,i,r){v&&y.cancel(v);m=t?{color:d.actualColor?i:n,icon:r}:d.actualColor?i:n;g=i;v=y(function(){p(m,g,c);v=null},300)}},x:i,y:l,variant:"inverse",closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:d.dock,autoFocus:false});r.closed.then(function(){n.off("start",h)})}return{openColorPicker:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(90)],r=function(e){function t(e){e.invalidExpressionIndex=-1;e.segments.forEach(function(t,n){Number.isNaN(+t.limit)&&(e.invalidExpressionIndex=n)});e.hasInvalidExpression=-1!==e.invalidExpressionIndex}function n(e,t,n){if(e===t)return;-1!==e&&n.children().eq(e).removeClass("active-handle");-1!==t&&n.children().eq(t).addClass("active-handle")}function i(e,t,i,r){e.hasInvalidExpression&&(r=e.invalidExpressionIndex);"number"!==typeof r&&(r=e.segments.length-1);n(e.activeIndex,r,i);if(-1!==r&&-1===e.activeIndex){t.find(".limit-options-arrow").removeClass("hidden");t.find(".qv-palette-creator-limit-options").removeClass("hidden")}else if(-1===r){t.find(".limit-options-arrow").addClass("hidden");t.find(".qv-palette-creator-limit-options").addClass("hidden")}e.activeIndex=r}function r(e,n,i,r){t(e);(e.segments.length>0&&r.hasClass("notVisible")||e.segments.length<1&&!r.hasClass("notVisible"))&&r.toggleClass("notVisible");l(e,{min:i.min,max:i.max,step:u(i.max,i.min),values:e.segments.map(function(e){return"NaN"!==e.limit?e.limit:(i.max+i.min)/2})});s(e,n,i.max,i.min);a(e,i)}function o(e,t,n){this.limit=t;this.type=n;Object.defineProperties(this,{percent:{get:function t(){if(e.percentage&&""!==this.limit){if(this.currentInput&&this.currentInput.endsWith("."))return e.inputFocus?this.currentInput:parseFloat(Math.floor(100*this.limit*100)/100)+"%";return e.inputFocus?parseFloat(Math.floor(100*this.limit*100)/100):parseFloat(Math.floor(100*this.limit*100)/100)+"%"}return this.limit},set:function t(n){this.currentInput=n;e.percentage&&!n.endsWith(".")?e.inputFocus?this.limit=""!==n?parseFloat(n/100):"":this.limit=parseFloat(n.replace(/%/g,"")):n.endsWith(".")?this.limit=parseFloat(n/100):this.limit=n}}})}function s(e,t,n,i){if(Number.isNaN(+e.activeIndex)||e.activeIndex<0)return;var r=(e.segments[e.activeIndex].limit-i)/(n-i)*100;r=r<0?0:r;r=r>100?100:r;r+="%";t.find(".limit-options-arrow-fg").css("left",r);t.find(".limit-options-arrow-bg").css("left",r)}function a(e,t){var n=t.max-t.min;e.colorSchemeLimits=[];e.types.length=0;e.limits.length=0;e.segments.map(function(e){return{limit:e.limit,type:e.type}}).sort(function(e,t){if(e.limit!==t.limit)return e.limit<t.limit?-1:1;return 0}).forEach(function(i){e.limits.push(i.limit);e.colorSchemeLimits.push((i.limit-t.min)/n);e.types.push(i.type)})}function l(t,n){t.sliderOptions=e.extend({},t.sliderOptions,n);t.sliderValues=t.sliderOptions.values}function u(e,t){return Number(((e-t)/1e3).toFixed(20))}function c(e){var t,n,i,r=e.segments.length;if(e.percentage){t=0;n=1}else if(0===r){t=0;n=1}else if(1===r&&0===e.segments[0].limit){t=-10;n=10}else if(1===r||e.segments.every(function(t){return t.limit===e.segments[0].limit})){var o=.9*e.segments[0].limit;var s=1.1*e.segments[0].limit;t=Math.min(o,s);n=Math.max(o,s)}else{t=null;n=null;e.segments.forEach(function(e){n=null!==n?Math.max(n,e.limit):e.limit;t=null!==t?Math.min(t,e.limit):e.limit});i=n-t;t-=.3*i;n+=.3*i}return{max:n,min:t}}function f(e,t,n,i,o){var s=c(e);if(s.min!==i.min||s.max!==i.max){e.animate=true;r(e,n,s,o);t(function(){e.animate=false},200)}return s}return{updateOutDataArrays:a,SegmentLimit:o,getSliderStep:u,getRange:c,updateRange:f,updateSliderOptions:l,updateSelectedHandle:n,updateSegments:r,checkInvalidExpressionInLimits:t,updateActiveIndex:i,updateArrow:s}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-palette-creator">\n\t<button ng-if="!hasInvalidExpression && colors.length" class="lui-button  lui-button--block qv-palette-creator-btn" ng-disabled="addDisabled()" ng-click="addLimit($event)" tid="add-limit-button">\n\t\t<span class="lui-button__text" q-translation="properties.colorScaleCreator.addLimit"></span>\n\t</button>\n\t<div class="qv-palette-creator-container">\n\t\t<div>\n\t\t\t<div class="qv-palette-creator-color-scheme">\n\t\t\t\t<qv-color-scheme-display\n\t\t\t\t\tcolors="colors"\n\t\t\t\t\tlimits="colorSchemeLimits"\n\t\t\t\t\ttypes="types"\n\t\t\t\t\tallow-change="!!colorSchemeLimits"\n\t\t\t\t\tanimate-change="animate">\n\t\t\t\t</qv-color-scheme-display>\n\t\t\t</div>\n\n\t\t\t<div class="pp-component pp-slider-component" class="segment-slider" ng-class="{\'notVisible\': segments.length < 1}">\n\t\t\t\t<div class="value">\n\t\t\t\t\t<div class="slider paletteSlider" ng-class="{\'qv-palette-creator-animate\' : animate}" pp-slider="sliderOptions" ng-model="sliderValues"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="hasInvalidExpression" class="invalid-limit-warning invalid-expression-text" q-translation="properties.colorScaleCreator.cantShowSettings">\n\t\t</div>\n\t\t<div class="hidden limit-options-arrow" ng-class="{\'notVisible\': segments.length < 1}">\n\t\t\t<div class="limit-options-arrow-fg" ng-class="{\'no-transition\' : slide}"></div>\n\t\t\t<div class="limit-options-arrow-bg" ng-class="{\'no-transition\' : slide}"></div>\n\t\t</div>\n\n\t\t<div class="qv-palette-creator-limit-options hidden">\n\t\t\t<div ng-repeat="segment in segments track by $index">\n\n\t\t\t\t<div class="lui-input-group" ng-show="$index == activeIndex">\n\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" qv-enter="onEnter($index, $event)" ng-focus="onInputFocus()"\n\t\t\t\t\t qva-blur="onEnter($index, $event)" ng-model="segment.percent" type="text" maxlength="31">\n\t\t\t\t</div>\n\t\t\t\t<lui-checkbox id="qv-palette-creator-gradient" ng-show="$index == activeIndex" x-change="onGradient()" x-model="segment.type" title="{{\'properties.gradient\'|translate}}">{{\'properties.gradient\'|translate}}</lui-checkbox>\n\t\t\t\t<button ng-show="$index == activeIndex" class="lui-button  lui-button--block qv-palette-creator-btn" ng-click="removeLimit($index)" tid="remove-limit-button">\n\t\t\t\t\t<span class="lui-button__text" q-translation="properties.colorScaleCreator.removeLimit"></span>\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--bin  remove-icon" q-title-translation="Common.Delete"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(741)],r=function(e,t){e.directive("qvEditMeasure",[function(){return{restrict:"E",template:t,replace:true}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div>\n\t\x3c!-- Expression --\x3e\n\t<div class="measure-component">\n\t\t<label class="qv-metadatalabel" q-translation="metadata.expression">Expression:</label>\n\t\t<tiny-editor class="measureExpArea" value="measure.expression" on-open="openInExpressionDialog( $event )" invalid="!measure.validity.expression"></tiny-editor>\n\t</div>\n\n\t\x3c!-- Name --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="metadata.name" class="qv-metadatalabel">Name:</label>\n\t\t<input class="lui-input" ng-model="measure.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !measure.validity.name }" data-tid="name-input"/>\n\t</div>\n\n\t\x3c!-- Label expression --\x3e\n\t<div class="measure-component">\n\t\t<qv-expression-input expression="measure.labelExpression" is-valid-expression="measure.validity.labelExpression"></qv-expression-input>\n\t</div>\n\n\t\x3c!-- Description --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="metadata.description" class="qv-metadatalabel">Description:</label>\n\t\t<qv-description-textarea\n\t\t\tdescription="measure.description"\n\t\t\tdescription-expression="measure.descriptionExpression"\n\t\t\tis-valid="measure.validity.description">\n\t\t</qv-description-textarea>\n\t</div>\n\n\t\x3c!-- Measure color --\x3e\n\t<div class="measure-component">\n\t\t<label class="qv-metadatalabel" q-translation="library.colors.measurecolor"></label>\n\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t</div>\n\n\t\x3c!-- Tags --\x3e\n\t<div class="measure-component">\n\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t<qv-tagcloud tags="measure.tags" update="measure.updateTags"></qv-tagcloud>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(743),n(48),n(744),n(94),n(107),n(166),n(113),n(145),n(209),n(268),n(211)],r=function(e,t,n,i,r,o){var s={template:n,controller:["$scope",function(t){function n(){var e=o.validateMetadataName(t.visualization,r);return e&&t.visualization.validity.description&&t.visualization.validity.labelExpression}var s=e.create(t,n);t.stringLimits=r;t.cancel=s.cancel;t.confirm=function(){t.visualization.updateTags();s.save()};i.StateChanged.bind(t.cancel);t.$on("$destroy",function(){i.StateChanged.unbind(t.cancel)});t.$watch("visualization.name",function(){t.visualization.validity.name||o.validateMetadataName(t.visualization,r)})}]};function a(e){var n={title:e.title,confirm:e.confirm,visualization:{name:e.visualization.name,description:e.visualization.description,descriptionExpression:e.visualization.descriptionExpression,labelExpression:e.visualization.labelExpression,tags:e.visualization.tags},onSaveCallback:e.onSaveCallback};return t.getService("luiDialog").show({template:s.template,controller:s.controller,input:n,closeOnOutside:false,showArrow:false,component:s})}return{show:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e,t){if(!e)throw new TypeError("You must pass a scope to this function");if(!t||"function"!==typeof t)throw new TypeError("You must pass a validateForm function to this function");function n(){e.destroyComponent()}function i(){if(t()){var n=o();e.destroyComponent();e.onSaveCallback(n)}}function r(){e.visualization=e.visualization||{};e.visualization.validity={};e.visualization.validity.name=true;e.visualization.validity.description=true;e.visualization.validity.labelExpression=true}function o(){return{name:e.visualization.name,labelExpression:s(e.visualization.labelExpression),description:e.visualization.description,descriptionExpression:e.visualization.descriptionExpression,tags:e.visualization.tags}}function s(e){var t="string"!==typeof e||0===e.length;if(t)return;return{qStringExpression:{qExpr:"="===e[0]?e.substr(1):e}}}e.visualization=e.input.visualization;r();return{cancel:n,save:i,getFormData:o}}return{create:e}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<lui-dialog id="visualization-dialog">\n\t<lui-dialog-header class="dm-header" q-translation="{{input.title}}"></lui-dialog-header>\n\t<lui-dialog-body class="dm-main">\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.name">Name:</label>\n\t\t\t<input class="lui-input" ng-model="visualization.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !visualization.validity.name }" data-tid="name-input"/>\n\t\t</div>\n\t\t<div class="visualization-dialog-item">\n\t\t\t<qv-expression-input expression="visualization.labelExpression" is-valid-expression="visualization.validity.labelExpression"></qv-expression-input>\n\t\t</div>\n\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.description">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdescription="visualization.description"\n\t\t\t\tdescription-expression="visualization.descriptionExpression"\n\t\t\t\tis-valid="visualization.validity.description">\n\t\t\t</qv-description-textarea>\n\t\t</div>\n\t\t<div class="visualization-dialog-item">\n\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="visualization.tags" update="visualization.updateTags"></qv-tagcloud>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer qv-confirm-label="{{input.confirm}}">\n\t\t<lui-button ng-click="cancel()" tid="2f2a4f" q-translation="Common.Cancel" ></lui-button>\n\t\t<lui-button ng-click="confirm()" tid="2f2a56" q-translation="{{input.confirm}}" ></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(e,t,n){"use strict";var i,r;!(i=[n(51),n(48),n(91),n(746),n(94),n(107),n(191),n(150),n(295),n(166),n(89),n(316),n(90),n(49),n(145),n(241),n(209),n(351)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p){var h=null;function v(e,t,n){e.validity[t]=!!e[t]&&!!e[t].trim()&&e[t].length<=n.name;return e.validity[t]}function m(e,t){e.validity[t]=!!e[t]&&d.isInteger(e[t])&&!Number.isNaN(+e[t])&&parseInt(e[t],10)>0;return e.validity[t]}function g(e,t){var n=m(e,t);if(n){var i=e[t];e.validity[t]=Math.log10(i)<9}return e.validity[t]}function b(e,t,n,i){var r=new c;var o=u.validateExpr(e,t);if(o){n.validate(e.expression);r.resolve(true)}else{i();r.resolve(false)}return r.promise}function y(e){var t=false;if(u.validateMetadata(e.odagLink,o))if(f.allowedChars(e.odagLink.name))t=true;else{e.odagLink.validity.name=false;t=false}return t}function x(e){var t="unlimited"===e.odagLink.retentionTimeUnit||m(e.odagLink,"retentionLimit");if(t&&e.odagLink.retentionLimit>99999){e.odagLink.validity.retentionLimit=false;t=false}return t}function _(e){var t=false;var n=y(e);var i=v(e.odagLink,"templateApp",o);var r=g(e.odagLink,"rowEstCount");var s=m(e.odagLink,"genAppLimit");var a=x(e);a&&n&&r&&s&&i&&(t=true);return t}function w(e,t){var n=e.getRetentionTimeServerValue(t.odagLink.retentionLimit,t.odagLink.retentionTimeUnit);return{name:t.odagLink.name,templateApp:t.odagLink.templateApp,tags:t.odagLink.tags,rowEstExpr:t.odagLink.expression,rowEstCount:parseInt(t.odagLink.rowEstCount,10),genAppLimit:parseInt(t.odagLink.genAppLimit,10),retentionLimit:n,defaultViewId:t.odagLink.defaultViewId,publishToStreamId:t.odagLink.publishToStreamId}}var q={scope:{title:"=",app:"=",confirmLabel:"=",odagLink:"=",inEditMode:"=",onConfirmCallback:"="},template:i,controller:["$scope","$element","$timeout","odagLinkDialogService",function(e,i,c,f){e.startSpinnerTimeout=null;var d=t.getService("qvLoader");e.isOdagSaas=p.getFlag("ODAG_SAAS_ENABLED");e.odagLink.validity={};e.odagLink.validity.expression=true;e.odagLink.validity.rowEstCount=true;e.odagLink.validity.genAppLimit=true;e.odagLink.validity.retentionLimit=true;e.odagLink.validity.templateApp=true;e.odagLink.validity.name=true;e.templateApps=[];e.exprValidator=null;e.stringLimits=o;e.retentionTimeUnits=[{id:"unlimited",name:n.get("ODAGLink.Dialog.RetentionTimeUnit.NeverExpires")},{id:"d",name:n.get("ODAGLink.Dialog.RetentionTimeUnit.Days")},{id:"h",name:n.get("ODAGLink.Dialog.RetentionTimeUnit.Hours")}];e.defaultViews=[{id:"",name:n.get("ODAGLink.Dialog.DefaultView.AppOverview")}];e.publishToStreams=[{qId:"",qName:n.get("ODAGLink.Dialog.DefaultPublishTo.MyWork")}];function v(){e.startSpinnerTimeout=c(function(){d.show({template:l,hugeLoader:false,mediumLoader:true,appendTo:i.find("#odag-link-dialog .dm-main")[0]})},0,false);return e.startSpinnerTimeout}function g(){c.cancel(e.startSpinnerTimeout);e.startSpinnerTimeout=null;d.close()}function x(){e.odagLink.validity.expression=false}e.cancel=function(){e.destroyComponent()};e.confirm=function(){v().then(function(){h=_(e);b(e.odagLink,o,e.exprValidator,x).then(function(e){e||g()}).catch(function(){g()})})};f.getTemplateApps().then(function(t){e.templateApps=t;e.templateApps.length&&e.odagLink.validity.templateApp&&(e.odagLink.templateApp||(e.odagLink.templateApp=e.templateApps[0].qDocId))});f.getPublishableStreams().then(function(t){if(t)for(var n=0;n<t.length;n++)e.publishToStreams.push(t[n])});r.StateChanged.bind(e.cancel);function q(t){if(h&&t.valid){var n=w(f,e);if(e.onConfirmCallback)e.onConfirmCallback(n).then(function(){g();e.deferredResult.resolve(n)}).catch(function(){g()});else{g();e.deferredResult.resolve(n)}}else g();t.valid||x()}function C(){e.odagLink.templateApp&&f.getSheetsForApp(e.odagLink.templateApp).then(function(t){if(t)for(var n=0;n<t.length;n++)e.defaultViews.push(t[n])})}e.exprValidator=new s.ExpressionValidator(e.app,s.Modes.Expression);e.exprValidator.Update.bind(q);e.openInExpressionDialog=function(t){t.preventDefault();a.show({expr:e.odagLink.expression,title:e.odagLink.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"}).then(function(t){e.odagLink.expression=t})};e.$watch("odagLink.expression",function(){e.odagLink.validity.expression||u.validateExpr(e.odagLink,o)});e.$watch("odagLink.name",function(){e.odagLink.validity.name||y(e)});e.$watch("odagLink.rowEstCount",function(){e.odagLink.validity.rowEstCount||m(e.odagLink,"rowEstCount")});e.$watch("odagLink.genAppLimit",function(){e.odagLink.validity.genAppLimit||m(e.odagLink,"genAppLimit")});e.$watch("odagLink.retentionLimit",function(){e.odagLink.validity.retentionLimit||m(e.odagLink,"retentionLimit")});e.$watch("odagLink.retentionTimeUnit",function(){"unlimited"===e.odagLink.retentionTimeUnit&&(e.odagLink.retentionLimit="")});e.$watch("odagLink.templateApp",function(t,n){if(t!==n){e.odagLink.defaultViewId="";e.defaultViews.splice(1)}C()});e.$on("$destroy",function(){r.StateChanged.unbind(e.cancel);e.exprValidator.Update.unbind(q)})}]};function C(n){var i={retLimit:"",retentionTimeUnit:""};if(n.retentionLimit){var r=t.getService("odagLinkDialogService");i=r.getRetentionTimeDisplayValue(n.retentionLimit)}else{i.retentionTimeValue="0";i.retentionTimeUnit="unlimited"}var o={title:n.title,app:n.app,confirmLabel:n.confirm,inEditMode:n.inEditMode,onConfirmCallback:n.confirmCallback,odagLink:{expression:n.rowEstExpr,rowEstCount:n.rowEstCount,genAppLimit:n.genAppLimit,retentionLimit:i.retentionTimeValue,retentionTimeUnit:i.retentionTimeUnit,defaultViewId:n.defaultViewId,publishToStreamId:n.publishToStreamId,name:n.name,templateApp:n.templateApp?n.templateApp.id:null,tags:n.tags}};return e.show(q,o)}return{show:C}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<qv-modal-dialog qv-id="odag-link-dialog" qv-cancel="cancel()" qv-confirm="confirm()">\n\t<header class="dm-header" q-translation="{{title}}"></header>\n\t<main class="dm-main">\n\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="metadata.name" class="qv-metadatalabel">Name:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.name" autofocus qva-focus="true" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.name }"/>\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.TemplateApp" class="qv-metadatalabel">Template App:</label>\n\t\t\t<lui-select ng-class="{ \'lui-invalid\': !odagLink.validity.templateApp }" ng-disabled="inEditMode" x-model="odagLink.templateApp" tid="odag-link-templateApp-selector" x-options="templateApp.qDocId as templateApp.qDocName for templateApp in templateApps"></lui-select>\n\t\t</div>\n \t\t<div class="odag-link-component">\n\t\t\t<label q-translation="metadata.expression" class="qv-metadatalabel">Expression:</label>\n\t\t\t<tiny-editor class="rowCountExpArea" value="odagLink.expression" on-open="openInExpressionDialog( $event )"\n\t\t\t\tinvalid="!odagLink.validity.expression"></tiny-editor>\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.MaxRowCount" class="qv-metadatalabel">Max row count:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.rowEstCount" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.rowEstCount }"/>\t\t\n\t\t</div>\n\t\t<div class="odag-link-divider">\n            <div class="odag-link-divider-label" q-translation="ODAGLink.Dialog.Generated.Apps"></div>\n            <div class="odag-link-divider-line"></div>\n        </div>\t\t\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.MaxGenAppsCount2" class="qv-metadatalabel">Maximum number:</label>\n\t\t\t<input class="lui-input" ng-model="odagLink.genAppLimit" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.genAppLimit }"/>\t\n\t\t</div>\t\t\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.RetentionTime" class="qv-metadatalabel">Retention time:</label>\n\t\t\t<div class="odag-retention-time">\n\t\t\t\t<input class="lui-input" ng-disabled="odagLink.retentionTimeUnit === \'unlimited\'"" ng-model="odagLink.retentionLimit" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !odagLink.validity.retentionLimit }"/>\t\n\t\t\t\t<lui-select x-model="odagLink.retentionTimeUnit" tid="odag-link-retentionTimeUnit-selector" x-options="retentionTimeUnit.id as retentionTimeUnit.name for retentionTimeUnit in retentionTimeUnits"></lui-select>\n\t\t\t</div>\t\n\t\t</div>\n\t\t<div class="odag-link-component">\n\t\t\t<label q-translation="ODAGLink.Dialog.DefaultViewWhenOpened" class="qv-metadatalabel">Default view when opened:</label>\t\n\t\t\t<lui-select x-model="odagLink.defaultViewId" tid="odag-link-defaultView-selector" x-options="defaultView.id as defaultView.name for defaultView in defaultViews"></lui-select>\n\t\t</div>\n\t\t<div class="odag-link-component" ng-if="!isOdagSaas">\n\t\t\t<label q-translation="ODAGLink.Dialog.PublishTo" class="qv-metadatalabel">Publish To:</label>\t\n\t\t\t<lui-select x-model="odagLink.publishToStreamId" tid="odag-link-publishTo-selector" x-options="publishToStream.qId as publishToStream.qName for publishToStream in publishToStreams"></lui-select>\n\t\t</div>\n\x3c!--\n\t\t<div class="measure-component">\n\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t<qv-tagcloud tags="odagLink.tags" update="odagLink.updateTags"></qv-tagcloud>\n\t\t</div>\n --\x3e\n\t</main>\n\t<footer class="dm-footer">\n\t    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f"></lui-button>\n\t    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="startSpinnerTimeout !== null" ></lui-button>\n\t</footer>\n\n</qv-modal-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;var t={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"};function n(e){return e<0?Math.ceil(e):Math.floor(e)}function i(e){if(e){var n=e.toLowerCase().replace(/(.)s$/,"$1");e=t[e]||n}return e}function r(e){var t={},n,r;for(r in e)if(e.hasOwnProperty(r)){n=i(r);n&&(t[n]=e[r])}return t}function o(e){var t=r(e),n=t.year||0,i=t.month||0,o=t.week||0,s=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,f=t.millisecond||0;this._input=e;this._milliseconds=+f+1e3*c+6e4*u+36e5*l;this._days=+s+7*o;this._months=+i+12*n;this._data={};a.call(this)}function s(t){var n="number"===typeof t,i={},r=null,s,a;if(n)i.milliseconds=t;else if(!!(r=e.exec(t))){s="-"===r[1]?-1:1;a=function e(t){var n=t&&parseFloat(t.replace(",","."));return(Number.isNaN(+n)?0:n)*s};i={y:a(r[2]),M:a(r[3]),d:a(r[4]),h:a(r[5]),m:a(r[6]),s:a(r[7]),w:a(r[8])}}return new o(i)}function a(){var e=this._milliseconds,t=this._days,i=this._months,r=this._data,o,s,a,l;r.milliseconds=e%1e3;o=n(e/1e3);r.seconds=o%60;s=n(o/60);r.minutes=s%60;a=n(s/60);r.hours=a%24;this.hours=function(){return r.hours};t+=n(a/24);r.days=t%30;this.days=function(){return r.days};i+=n(t/30);r.months=i%12;l=n(i/12);r.years=l;function u(e){return 365*Math.floor(e/12)}this.asHours=function(){var t=this._days+u(this._months);return 24*t+e/36e5};this.asDays=function(){var t=this._days+u(this._months);return t+e/864e5}}return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(92),n(49),n(91),n(262),n(183),n(325)],r=function(e,t,n,i,r){var o;var s=e.extend("ODAGRestService",{init:function e(t,n,i,r){this._host=t;this._port=n;this._isSecured=r;this._proxy=i},_errorHandler:function e(t){if(!t.isHandled){t.isHandled=true;var r=t.response&&t.response.obj&&t.response.obj.message?t.response.obj.message:"";r||t&&(500===t.status?r=n.get("odag.Error.Unreachable"):t.message&&(r=n.get(t.errObj.message)));i.show({title:n.get("odag.Error.Title"),message:r})}throw t},_isODAGAvailableErrorHandler:function e(t){var n=t.statusCode%500;if(n>=0&&n<100)return false;this._errorHandler(t)},_getAPI:function e(){if(!o){var n=t.getFlag("ODAG_SAAS_ENABLED")?"api":"api/odag/v1";var i=t.getFlag("ODAG_SAAS_ENABLED")?"odag/openapi":"openapi";var s=t.getFlag("ODAG_SAAS_ENABLED");o=r.getApi(n,i,this._isSecured,this._host,this._port,this._proxy,s)}return o},_getLinksWithIds:function e(n,i){var r=null;r={linkList:i};return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Link.SyncAppLinkUsages({id:1,selAppId:n},{requestBody:r}).then(function(e){return e.body});return e.apis.Link.SyncAppLinkUsages({selAppId:n,linkUsagePayload:r}).then(function(e){return e.body})}).catch(this._errorHandler)},_getLinks:function e(){return this._getAPI().then(function(e){return e.apis.Link.LinksGet().then(function(e){return e.body})}).catch(this._errorHandler)},_getLink:function e(t){return this._getAPI().then(function(e){return e.apis.Link.LinkGet({linkId:t}).then(function(e){return e.body})}).catch(this._errorHandler)},_isODAGAvailable:function e(){return this._getAPI().then(function(e){if(e.apis.Settings)return!!t.getFlag("ODAG_SAAS_ENABLED")&&e.apis.Settings.IsOdagAvailable().then(function(e){return e.body.available});return e.apis.Global.IsOdagAvailable().then(function(e){return e.body})}).catch(this._isODAGAvailableErrorHandler.bind(this))},_canCreateLink:function e(t){return this._getAPI().then(function(e){var n={};t&&(n.optSelectAppId=t);return e.apis.Link.LinkCanCreate(n).then(function(e){return e.body})},function e(){return{canCreateLinks:false}}).catch(this._errorHandler)},_createLink:function e(n){var i=this;return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Link.LinkCreate({id:n.id},{requestBody:n}).then(function(e){return e.body}).catch(i._errorHandler);return e.apis.Link.LinkCreate({linkPayload:n}).then(function(e){return e.body})}).catch(this._errorHandler)},_deleteLink:function e(n,i){var r={statusSetting:"decommission",modifiedDate:i.data.modifiedDate};return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED")){r.name=i.data.name;r.selectionApp=i.data.selectionApp;return e.apis.Link.LinkUpdate({linkId:n},{linkId:n,requestBody:r}).then(function(e){return e.body})}return e.apis.Link.LinkUpdate({linkId:n,linkPayload:r}).then(function(e){return e.body})}).catch(this._errorHandler)},_updateLink:function e(n,i){var r=this;return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Link.LinkUpdate({linkId:n},{linkId:n,requestBody:i}).then(function(e){return e.body}).catch(r._errorHandler);return e.apis.Link.LinkUpdate({linkId:n,linkPayload:i}).then(function(e){return e.body})}).catch(this._errorHandler)},_renameApp:function e(n,i){return this._getAPI().then(function(e){var r={appName:i};if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Request.RenameApp({requestId:n},{requestId:n,requestBody:r});return e.apis.Request.RenameApp({requestId:n,renameAppPayload:r})}).catch(this._errorHandler)},_deleteApp:function e(t){return this._getAPI().then(function(e){return e.apis.Request.DeleteApp({requestId:t})}).catch(this._errorHandler)},_reloadApp:function e(n,i,r,o,s){var a={};if(i){s&&(a.copyRequest=s);a.actualRowEst=i;a.bindSelectionState=r;a.selectionState=o}return this._getAPI().then(function(e){if(t.getFlag("ODAG_SAAS_ENABLED"))return e.apis.Request.ReloadApp({requestId:n},{requestId:n,requestBody:a});return e.apis.Request.ReloadApp({requestId:n,reloadAppPayload:a})}).catch(this._errorHandler)},_getSelections:function e(t){return this._getAPI().then(function(e){return e.apis.Request.GetSelections({requestId:t}).then(function(e){return e.body})}).catch(this._errorHandler)},_requestAction:function e(t,n,i,r){var o={requestId:t,action:n,ignoreSucceeded:true};void 0!==i&&(o.delGenApp=i);void 0!==r&&(o.autoAck=r);return this._getAPI().then(function(e){return e.apis.Request.RequestAction(o).then(function(e){return e.body})}).catch(this._errorHandler)},_getGeneratedAppsForLink:function e(t,n,i,r,o,s,a){var l={linkId:t};o&&(l.user=o);s&&(l.state=s);a&&(l.pending=a);return this._getAPI().then(function(e){return e.apis.Request.LinkRequestsGet(l).then(function(e){return e.body})}).catch(this._errorHandler)},_generateApp:function e(n,i,r,o,s,a,l){var u={linkId:n,requestPostPayload:{clientContextHandle:r,actualRowEst:s,selectionApp:i,bindSelectionState:a,selectionState:l,sheetname:o}};return this._getAPI().then(function(e){var i;i=t.getFlag("ODAG_SAAS_ENABLED")?e.apis.Request.LinkRequestCreate({linkId:n},{linkId:n,requestBody:u.requestPostPayload}):e.apis.Request.LinkRequestCreate(u);return i.then(function(e){return e.body})}).catch(this._errorHandler)},_getTemplateApps:function e(){var t={appType:"template"};return this._getAPI().then(function(e){return e.apis.Apps.GetApps(t).then(function(e){return e.body})}).catch(this._errorHandler)},getTemplateApps:function e(){return this._getTemplateApps()},getODAGLinksWithIds:function e(t,n){return this._getLinksWithIds(t,n)},getODAGLink:function e(t){return this._getLink(t)},canCreateLink:function e(t){return this._canCreateLink(t)},createODAGLink:function e(t){return this._createLink(t)},deleteODAGLink:function e(t,n){return this._deleteLink(t,n)},updateODAGLink:function e(t,n){return this._updateLink(t,n)},renameApp:function e(t,n){return this._renameApp(t,n)},deleteApp:function e(t){return this._deleteApp(t)},isODAGAvailable:function e(){return this._isODAGAvailable()},reloadApp:function e(t,n,i,r,o){return this._reloadApp(t,n,i,r,o)},getSelections:function e(t){return this._getSelections(t)},generateApp:function e(t,n,i,r,o,s,a){return this._generateApp(t,n,i,r,o,s,a)},getGeneratedAppsForLink:function e(t,n,i,r,o,s,a){return this._getGeneratedAppsForLink(t,n,i,r,o,s,a)},requestAction:function e(t,n,i,r){return this._requestAction(t,n,i,r)}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={qInfo:{qType:"odag-toolbar-navpoint"},qMetaDef:{},qHyperCubeDef:{qDimensions:[],qInitialDataFetch:[{qLeft:0,qTop:0,qWidth:1,qHeight:0}]}};var t={qInfo:{qType:"odag-toolbar-navpoint"},MaxRowCountExpression:{qValueExpression:{qExpr:""}}};return{fieldHyperCubeProperties:e,maxRowExpression:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover position="input.menuOptions.position"\n\t\t\t\t\t  on-close-view="onOutsidePopover(event)"\n\t\t\t\t\t  class= "qv-guidance-popover"\n\t\t\t\t\t  ng-style="{\'opacity\': popupClosing? 0 : 1, \'width\': input.menuOptions.width, \'top\': input.menuOptions.bottom}" \n>\n\t<div tid="dm-gridview-guidance-popover-content" class="qv-guidance-popover-content">\n\t\t<div class="qv-guidance-popover-title">{{input.title}}</div>\n\t\t<div class="qv-guidance-popover-message">{{input.message}}</div>\n\t\t<div class="qv-guidance-popover-button">\n\t\t\t<button \n\t\t\t\ttid="dm-gridview-guidance-popover-ok-button"\n\t\t\t\tclass="lui-button  lui-button--success qui-popover-ok-button" qva-activate="onCloseClicked()">{{input.buttonText}}</button>\n\t\t</div>\n\t</div>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(89)],r=function(e){function t(e){return e.getProperties().then(function(e){return e.qExtendsId})}function n(n){var i=new e;t(n).then(function(e){n.copyFrom(e).then(function(){n.getProperties().then(function(e){delete e.qMetaDef;delete e.descriptionExpression;delete e.labelExpression;n.setProperties(e).then(function(){i.resolve(e)})})})});return i.promise}return{breakLink:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(){this.tabs=null;this.activeTab=null;this.fullMode=true;this.query="";this.table="All";this.tabExpanded=false;this.expandTab=function(e){this.activeTab=e;this.tabExpanded=true}}e.prototype.setTabs=function(e){this.tabs=e};e.prototype.activateTab=function(e){if(e.loading)return;if(this.activeTab&&e.id===this.activeTab.id&&this.tabExpanded){this.tabExpanded=false;this.query=""}else this.expandTab(e)};e.prototype.getActiveTabId=function(){return this.activeTab&&this.tabExpanded?this.activeTab.id:null};e.prototype.openSection=function(e){for(var t=0;t<this.tabs.length;++t){var n=this.tabs[t];var i=n.openSection(e);if(i){this.expandTab(n);return true}}return false};e.prototype.resize=function(e){null!=this.activeTab&&this.activeTab.resize(e)};return e}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(754),n(755),n(757),n(762),n(800),n(803),n(807),n(810),n(817),n(821),n(115),n(91),n(49),n(113)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p){function h(t){var i=new n(t,"charts");var r={id:"assets-tab-template",section:i,name:"Common.Charts",button:{icon:"object",text:"Common.Charts"}};return new e(r)}function v(t){var n=new i(t);var r={id:"assets-tab-field",section:n,name:"Common.Fields",hasTableFilter:true,haveManageDataButtons:p.LIBRARY_DATA_BUTTONS,button:{icon:"database",text:"Common.Fields"}};var o=new e(r);return o}function m(e){var n=[new r(e),new o(e),new s(e)];d.getFlag("ALT_STATE_ONE")&&n.push(new u(e));var i={id:"library",sections:n,name:"Toolbox.Tab.Title.MasterItems",button:{icon:"link",text:"Tooltip.Toolbox.MasterItems"}};return new t(i)}function g(e,i,r){var o="Common.CustomObjects";var s=[];var l=r.then(function(){(d.getFlag("CLOUD_EXTENSIONS")||!d.getFlag("CLOUD_EXTENSIONS")&&!d.getFlag("DISABLE_ONPREM_EXTENSIONS"))&&s.push(new n(e,"extensions"));var t=c.getRegisteredNames();var r={};t.forEach(function(e){var t=c.getType(e).getLibraryInfo();t&&t.bundle&&t.bundle.id&&!r[t.bundle.id]&&(r[t.bundle.id]=t.bundle)});Object.keys(r).forEach(function(t){s.push(new n(e,"extensions",t,r[t]))});return i.then(function(t){t.forEach(function(t){var n=new a(e);n.title=t.data.name;n.name=t.data.name;n.id=t.data.name;n.infoTitle=f.get("AssetsPanel.Widgets.libraryInfoHeading",n.title);n.description=t.data.description;n.onLoadData(t.resolvedWidgets);s.push(n)});return s})});var u={id:"widgets",sectionsPromise:l,name:o,longname:"Common.CustomObjects",button:{icon:"puzzle",text:"Common.Extensions"}};return new t(u)}function b(t,n){var i=new l(t,n);var r={id:"assets-tab-odag",section:i,name:"ODAG.Toolbox.PanelTitle.NavLinks",hasTableFilter:false,button:{icon:"sign-post",text:"ODAG.Toolbox.Title.ODAGToolbar"}};var o=new e(r);return o}return{createWidgetTab:g,createMasterItemsTab:m,createFieldTab:v,createTemplateTab:h,createODAGTab:b}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(352)],r=function(e){var t;t=e.extend({init:function e(t){t.component={template:'<div id="{{tab.id}}" class="assets-tab"><qv-assets-section section="tab.section" /></div>',controller:function e(){}};this._super(t);this.section=t.section},resize:function e(t){this._super(t);this.section.resize(t)},openSection:function e(t){return this.section.id===t}});Object.defineProperty(t.prototype,"hitCount",{get:function e(){return this.section.matchCount?this.section.matchCount:""}});return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(352),n(756),n(102)],r=function(e,t,n,i){function r(t,n){var i=t.tab;t.$evalAsync(function(){var r=n.find("#libAccordion");var o=r.find("header");var s=i.activeIndex;var a,l;r.accordion({fillSpace:true,heightStyle:"fill",animate:!("ontouchstart"in window)&&"swing",active:s,beforeActivate:function n(u,c){s=o.index(c.newHeader);a=c.oldPanel.height();l=c.oldPanel.width();i.sections[s].resize({height:a,width:l});e.$apply(t);r.addClass("animating")},activate:function e(){i.sections[s].resize({height:a,width:l});r.removeClass("animating");var t=r.accordion("option","active");i.activeIndex=t}});function u(){r.accordion("option","active",i.activeIndex)}function c(){r.accordion("refresh");i.activeIndex>-1&&i.sections[i.activeIndex].resize()}i.Activate.bind(u);i.Resize.bind(c);t.$on("$destroy",function(){i.Activate.unbind(u);i.Resize.unbind(c)})})}var o;o=t.extend({init:function e(t){var o=this;t.component={template:n,controller:["$scope","$element",r]};o._super(t);o.activeIndex=-1;if(t.sections){o.sections=t.sections;o.activeIndex=this.sections.length-1}else{o.sections=[];o.loading=true;t.sectionsPromise.then(function(e){o.loading=false;o.sections=e;o.activeIndex=o.sections.length-1})}i.create(o,"Activate")},openSection:function e(t){for(var n=0;n<this.sections.length;++n){var i=this.sections[n].id===t;if(i){this.activeIndex=n;this.Activate.emit(n);return true}}return false}});Object.defineProperty(o.prototype,"hitCount",{get:function e(){var t=0;for(var n=0;n<this.sections.length;++n)t+=this.sections[n].matchCount;return t}});return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div id="{{tab.id}}" class="assets-tab">\n    <section class="qui-toolssectionframe" class="accordion" id="libAccordion">\n        <header ng-repeat-start="section in tab.sections" ng-if="!section.hidden" data-accordion-name="{{section.name}}" tid="accordion-header-{{section.id}}" ng-hide="tab.hiddenHeaders" >\n            <div class="active-marker"></div>\n            <div class="header-content">\n                <div ng-if="section.icon" class="icon {{section.icon}}"></div>\n                <h2 class="section-name" q-translation="{{section.title}}"></h2>\n                <qv-outlined-search-hit-indicator count="section.matchCount"></qv-outlined-search-hit-indicator>\n            </div>\n\t\t</header>\n\t\t\n        <div class="assets-section-items" ng-if="!section.hidden" ng-repeat-end>\n            <qv-assets-section section="section" />\n\t\t</div>\n\n    </section>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(95),n(91),n(2),n(94),n(49),n(126),n(136),n(112),n(149),n(137),n(758),n(759),n(761),n(345),n(89),n(111)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v){return a.extend({init:function e(){this.id=s.sectionIDs.template;this.list=[];this.name="template";this.templateType=arguments.length>1?arguments[1]:"charts";this.bundle=arguments.length>2?arguments[2]:void 0;this.bundleInfo=arguments.length>3?arguments[3]:void 0;"charts"===this.templateType&&(this.title="Common.Charts");if("extensions"===this.templateType){this.id=s.sectionIDs.extensions;this.title="Common.Extensions";this.infoTitle=n.get("Common.ExtensionsInfoTitle");this.description=n.get("Common.ExtensionsDescription");this.hasMetaInfo=true;this.shouldShowCloudExtensionsWarning=false;var t=this;if(!o.getFlag("HIDE_ABOUT_BUTTON")){var r={url:"about/v1/systemInfo",headers:{"x-qlik-capabilities":"about"},method:"GET"};this.bundle||i(r).then(function(e){var n=e.data;n.deploymentType&&"QlikSenseServer"===n.deploymentType&&p.showCloudExtensionWarning().then(function(e){t.shouldShowCloudExtensionsWarning=e})})}this.cloudExtensionWarning=n.get("Object.WarningMessage.Cloud.Extensions.NotAvailable")}if("cloudExtensions"===this.templateType){this.id=s.sectionIDs.cloudExtensions;this.title="Common.CloudExtensions";var a=this;h.areCloudExtensionsAvailable().then(function(e){if(e){a.infoTitle=n.get("Common.AvailCloudExtensionsInfoTitle");o.getFlag("DISABLE_ONPREM_EXTENSIONS")?a.description=n.get("Common.AvailCloudExtensionsDescription"):a.description=n.get("Common.AvailCloudExtensionsDescriptionDesktop")}else{a.infoTitle=n.get("Common.UnavailCloudExtensionsInfoTitle");a.description=n.get("Common.UnavailCloudExtensionsDescription")}});this.hasMetaInfo=true}if(this.bundle&&this.bundleInfo){this.id=this.bundle;this.title=this.bundleInfo.name;this.infoTitle=n.get("AssetsPanel.Widgets.libraryInfoHeading",this.bundleInfo.name);this.description=this.bundleInfo.description}this.tooltip="charts"===this.templateType?"":"Common.Extensions";this._super.apply(this,arguments);this.initPreviewManager()},initLoadData:function e(){f.create(this.templateType).then(this.onLoadData.bind(this))},initPreviewManager:function e(){function i(e){t.publish("/ui/library/addToSheet",{item:e})}function o(e){var t=e.item;var r={query:e.query,name:t.name,description:t.descriptionKey?n.get(t.descriptionKey):t.description,imageUrl:t.previewIconURL,hasImage:!!t.previewIconURL,icon:t.icon,tags:t.tags||[]};r.buttons=[u.buttonAddToSheet(i,e.closePreview,t,l.isAddToSheetMode())];r.close=e.closePreview;u.alignPreview(r,e.$element);return d.show(r)}this.previewManager=u.previewManagerFactory({getSlowInfo:function e(t){var n=new v;var i=document.createElement("IMG");var r=new Image;r.onload=function(){i.src=this.src;i.parentNode&&i.parentNode.removeChild(i);n.resolve()};r.onerror=function(){i.parentNode&&i.parentNode.removeChild(i);n.resolve()};r.src=t.previewIconURL;return n.promise},createPreview:o,itemDialogHandler:c,State:r})},onLoadData:function e(t){this.loading=false;for(var n=0;n<t.length;++n)t[n].id=t[n].template;function i(e){var t=new Date(e);return Number.isNaN(+t)||Date.now()<t}var r=this.bundle;var o=t.filter(function(e){return r?!!e.bundle&&e.bundle.id===r&&i(e.deprecated):!e.bundle});0===o.length&&this.bundle&&(this.hidden=true);this.list=l.localeOrderBy(o,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;return t.filter(function(e){return e.isLibraryItem&&l.librarySearchFn(e,n)})},openContextMenu:function n(i,r){if(!l.isAddToSheetMode())return;var o=e.getService("qvContextMenu").menu();i.selected||l.toggleSelection(i,r);o.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){t.publish("/ui/library/addToSheet",{item:i})}});c.openContextMenu(o,i,r)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(115),n(124),n(89),n(91),n(90)],r=function(e,t,n,i,r){function o(e){return{id:"newObject",args:{template:e.template,init:{}}}}var s={create:function a(l){var u=new n;t.load().then(function(){var t=e.getRegisteredNames();var n=t.map(function(t){var n=r.extend(true,{},e.getType(t).getLibraryInfo());n.getDropOption=o.bind(null,n);s.translateName(n,i.get);s.translateDescription(n,i.get);return n}).filter(function(e){return e.visible&&"visualization"!==e.type&&"charts"===l||"visualization"===e.type&&"extensions"===l&&!e.certified||"visualization"===e.type&&"cloudExtensions"===l&&e.certified});n.forEach(function(e){e.type="template"});u.resolve(n)});return u.promise},translateName:function e(t,n){if(!t)throw new TypeError("No item passed");if("function"!==typeof n)throw new TypeError("No translation function passed");t.translationKey&&(t.name=n(t.translationKey))},translateDescription:function e(t,n){if(!t)throw new TypeError("No item passed");if("function"!==typeof n)throw new TypeError("No translation function passed");t.descriptionKey&&(t.description=n(t.descriptionKey))}};return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(760)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="template-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<div ng-show="input.hasImage" class="template-image-container">\n\t\t\t<img ng-src="{{input.imageUrl}}">\n\t\t</div>\n\t\t<i ng-show="!input.hasImage" class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag}}">{{tag}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(2)],r=function(e){var t=function e(){};var n=function e(t){var n=t.data;if(Array.isArray(n)){var i={};n.forEach(function(e){Object.keys(e.attributes||{}).forEach(function(t){i[t]=e.attributes[t]})});return i}return t};t.getWarnings=function(){var t={method:"GET",url:"api/dbws/deployment-warnings"};return e(t).then(function(e){return n(e.data)}).catch(function(){return{}})};t.showCloudExtensionWarning=function(){return t.getWarnings().then(function(e){return Boolean(e.showCloudExtensionWarning)}).catch(function(){return false})};return t}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(94),n(126),n(136),n(112),n(149),n(137),n(763),n(154),n(106),n(144),n(791),n(148),n(793),n(796),n(229),n(49),n(157),n(142),n(89),n(111),n(233)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g,b,y,x){return r.extend({init:function t(){this.list=[];this.expanded={};this.id=i.sectionIDs.field;this.title="Assets.Section.Fields.Name";this.tid="fields.All";this._super.apply(this,arguments);this.initPreviewManager();this.classificationService=e.getService("classificationService")},bindWatches:function e(){this._super();this.$scope.$watch("assets.table",this.onFilter.bind(this))},initLoadData:function e(){u.getList().then(function(e){this.$scope.listModel=e}.bind(this));c(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var t=this;function i(e){o.addItemToSheetOrVisualization(e)}function r(e){l.addFieldAsDimension(t.assets,e.name)}function u(e){l.addFieldAsMeasure(t.assets,e.name)}function c(e){var t=[];for(var n=0;n<e.length;n++)t.contains(e[n].derivedDefinitionName)||t.push(e[n].derivedDefinitionName);return t}function f(e){return!e.isDerived}function h(e){var t=e.item;var n=this.$scope;t.app=n.listModel.app;var a=t.derivedFields?c(t.derivedFields):void 0;var l=f(t);var h={query:e.query,name:t.name,displayName:t.displayName,sourceField:t.sourceField,calendarTemplateName:t.calendarTemplateName?t.calendarTemplateName:t.derivedDefinitionName,derivedCalendars:a?o.localeOrderBy(a.slice()):[],isDerivedFromDate:t.isDerivedFromDate,isDateField:t.isDateField,tables:t.srcTables?o.localeOrderBy(t.srcTables.slice()):[],typeTranslationKey:p.getTypeTranslationKey(t.tags),alwaysOneSelected:false,isSingleSelectSupported:l};l&&(h.alwaysOneSelected=e.modelInfo.isSingleSelect);h.buttons=[s.buttonAddTo(i,e.closePreview,t,o.getAddToText(),o.isAddToMode())];o.permissionToCreate("dimension")&&h.buttons.push(s.buttonAddDimension(r,e.closePreview,t,true));o.permissionToCreate("measure")&&h.buttons.push(s.buttonAddMeasure(u,e.closePreview,t,true));l&&h.buttons.push(s.buttonFieldSettings(v.show,e.closePreview,t,true));h.close=e.closePreview;s.alignPreview(h,e.$element);return d.show(h)}this.previewManager=s.previewManagerFactory({getSlowInfo:function e(n){var i=new x;var r=t.$scope;var o;o=f(n)?y.isSingleSelect(r.listModel.app,n.name):x.resolve(false);o.then(function(e){i.resolve({isSingleSelect:e})});return i.promise},createPreview:h.bind(this),itemDialogHandler:a,State:n})},onLoadData:function e(t){if(g.getFlag("DISABLE_AUTO_CHART")||b.isVariableDefined("DISABLE_AUTO_CHART")){this.loading=false;t=f.create(t);this.list=o.localeOrderBy(t,function(e){return e.name});this.onFilter()}else this.classificationService.getClassification().then(function(e){var n=e?new m(e):void 0;this.loading=false;t=f.create(t,n);this.list=o.localeOrderBy(t,function(e){return e.name});this.onFilter()}.bind(this),function(){this.loading=false;t=f.create(t);this.list=o.localeOrderBy(t,function(e){return e.name});this.onFilter()}.bind(this))},doFilter:function e(n){var i=this.assets.query;var r=this.assets.table;var s=[];if(i&&""!==i)for(var a=0;a<n.length;a++){var l=t.extend({},n[a]);var u=l.derivedFields;u&&u.length>0&&(l.derivedFields=[]);s.push(l);if(u&&u.length>0)for(var c=0;c<u.length;c++)s.push(u[c])}else s=n;return s.filter(function(e){var t=o.librarySearchFn(e,i);var n="All"===r||-1!==e.srcTables.indexOf(r);return t&&n})},openContextMenu:function t(n,i){n.selected||o.toggleSelection(n,i);var r=e.getService("qvContextMenu").menu({docking:"BottomLeft"}),s=this,u=this.$scope.listModel.app;o.isAddToMode()&&r.addItem({translation:o.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){o.addItemToSheetOrVisualization(n)}});o.permissionToCreate("dimension")&&r.addItem({translation:"contextMenu.addToMasterItems.AsDimension",tid:"add-field-as-dimension",select:function e(){l.addFieldAsDimension(s.assets,n.name)}});o.permissionToCreate("measure")&&r.addItem({translation:"contextMenu.addToMasterItems.AsMeasure",tid:"add-field-as-measure",select:function e(){l.addFieldAsMeasure(s.assets,n.name)}});o.permissionToCreate("measure")&&!n.isDerivedFromDate&&r.addItem({translation:"AssetsPanel.CalendarFlags.GenerateCalendarMeasures",tid:"generate-calenar-measures",select:function t(){var i=e.getService("luiDialog");i.show({controller:h.component.controller,template:h.component.template,input:{selectedField:n,assets:s.assets}})}});n.isDerived||r.addItem({translation:"contextMenu.fieldSettings",tid:"open-field-settings",select:function e(){n.app=u;v.show(n)}});a.openContextMenu(r,n,i)},addItemToSheetOrActiveObject:function e(t,n){n?o.addItemToSheetOrVisualization(t,n):o.addItemToSheetOrVisualization(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;function o(e){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return o(e)}!(i=[n(502),n(126)],r=function(e,t){function n(e){if("object"!==o(e))throw new Error("assets")}function i(e){if("string"!==typeof e)throw new Error("fieldName")}function r(t,r,o,s){n(o);i(s);e[t](s,function(){o.openSection(r)})}return{addFieldAsDimension:r.bind(null,"showAddDimensionDialog",t.sectionIDs.dimension),addFieldAsMeasure:r.bind(null,"showAddMeasureDialog",t.sectionIDs.measure)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(170),n(765),n(767),n(310),n(389),n(459)],r=function(e,t,n,i,r,o,s){function a(e,t,r){if(!e)throw new Error("Raw data is undefined.");if(!r)throw new Error("Cached ideal data is undefined.");var o,s,a=[];for(o in e.qk){s=e.qk[o];var c=s.qTables.length<3?l(r,s):u(r,s);a.push(c)}n.markConnectionAsCircularReferences(t,a);i.appendArms(a);return a}function l(e,n){var i=n.qKeyFields[0];var r=t.encodeTableName(n.qTables[0]);var o=t.encodeTableName(n.qTables[1]);var s=d(e,r);var a=d(e,o);var l={fieldName:i,tables:[r,o],lines:[]};var u=c(e,r,i,a.left);var f=c(e,o,i,s.left);l.lines.push({start:{targetIsToLeft:u.targetIsToLeft,top:u.top,left:u.left},end:{targetIsToLeft:f.targetIsToLeft,top:f.top,left:f.left},startTable:r,endTable:o});return l}function u(e,n){var i=Number.MAX_VALUE,r=Number.MAX_VALUE,o=0,s=0,a=n.qKeyFields[0];var l={fieldName:a,tables:[],lines:[]};var u;for(u in n.qTables){var f=t.encodeTableName(n.qTables[u]);var p=d(e,f);var h=1===t.getTableElement(f).length?t.getFieldElement(f,a).position().top:p.height;l.tables.push(f);i=Math.min(i,p.top);r=Math.min(r,p.left);o=Math.max(o,p.top+h);s=Math.max(s,p.left+p.width)}l.interception={top:i+(o-i)/2,left:r+(s-r)/2};for(u in n.qTables){var v=t.encodeTableName(n.qTables[u]);l.lines.push({start:{targetIsToLeft:c(e,v,a,l.interception.left).targetIsToLeft,top:c(e,v,a,l.interception.left).top,left:c(e,v,a,l.interception.left).left},end:{top:l.interception.top,left:l.interception.left},startTable:v})}return l}function c(n,i,a,l){if("number"!==typeof l)throw new Error("targetLeftPosition is not a number");var u=45;var c=5;var p=t.getTableElement(i);var h=p.find("li[data-name='"+a.replace(/'/g,"\\'")+"']");var v=o.getCurrentZoomLevel();var m=t.getTableHeader(i).outerHeight();var g=d(n,i);var b=t.getTableElementTop(i);var y=t.getTableHeightByTableName(i);var x=f(n,i,l);var _=x?g.left+g.width-c:g.left+c;var w;if(h.offset()){w=h.offset().top-u+e(".table-container").scrollTop();w=s.getDimensionBasedOnZoom(w,v);w+=h.height()/2}else w=0;var q=y<=m;var C=b+m;(w<C||q)&&(w=b+m/2);var S=b+y-r.OFFSET_BETWEEN_TABLE_BOTTOM_AND_UL_BOTTOM;w>S&&(w=S);return{targetIsToLeft:x,top:w,left:_}}function f(e,t,n){if("number"!==typeof n)throw new Error("targetLeftPosition is not a number");var i=d(e,t);return i.left<n}function d(e,n){var i=e[n];if(!i)throw new Error('Cannot find table "'+n+'" for position.');var r=t.getTableElementTop(n);var o=t.getTableElementLeft(n);var s=t.getTableHeightByTableName(n);var a=t.getTableWidthByTableName(n);return{top:r,left:o,height:s,width:a}}return{convertRawDataToIdealConnectionData:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(766)],r=function(e){function t(t,n){e.getTablesWithCircularReferences(t,function(e){for(var t in n){var i=n[t];for(t in i.lines){var r=i.lines[t];-1===e.indexOf(r.startTable)&&-1===e.indexOf(r.endTable)||(r.isCircular=true)}}})}return{markConnectionAsCircularReferences:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(279)],r=function(e){function t(t,n){e.getTablesAndKeys(t).then(function(t){e.getLooselyCoupledVector(function(e){var i=[];for(var r=0;r<t.qtr.length;r++){var o=e.qv[r];if(0!==o){var s=t.qtr[r].qName;i.push(s)}}n(i)})})}return{getTablesWithCircularReferences:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i;!(i=function(){function e(e){var n,i,r,o,s;for(n in e){var a=[];i=e[n];for(r in i.lines){o=i.lines[r];s=t(i,o);a=a.concat(s)}i.lines=i.lines.concat(a)}}function t(e,t){var n=15,i=7,r=5,o,s,a,l,u,c=[];s=t.start.left+(t.start.targetIsToLeft?n:-n);a=s+(t.start.targetIsToLeft?-r:i);l=t.end.left+(t.end.targetIsToLeft?n:-n);u=l+(t.start.targetIsToLeft?r:-i);o={left:t.end.targetIsToLeft?u:a,top:t.end.targetIsToLeft?t.end.top:t.start.top};c.push({isCircular:t.isCircular,isArm:true,start:{top:t.start.top,left:t.start.left},end:{top:t.start.top,left:s},startTable:t.startTable,endTable:t.endTable,connectionPoint:o});t.start.left=s;if(!e.interception){o={left:t.end.targetIsToLeft?a:u,top:t.end.targetIsToLeft?t.start.top:t.end.top};c.push({isCircular:t.isCircular,isArm:true,start:{top:t.end.top,left:t.end.left},end:{top:t.end.top,left:l},startTable:t.startTable,endTable:t.endTable,connectionPoint:o});t.end.left=l}return c}return{appendArms:e}}.call(t,n,t,e),void 0!==i&&(e.exports=i))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(90),n(127),n(769),n(770),n(94),n(771),n(91),n(354),n(107),n(166),n(317),n(125),n(11),n(206),n(179),n(270),n(161),n(100),n(779),n(99),n(249),n(145),n(268),n(211),n(209),n(263),n(503),n(296),n(298),n(782)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g,b,y,x){var _=l.dimensionTypes,w,q="drilldown",C="single",S,E=false;function D(e,t,n){function i(){var e=n.input.dimension.selectedFields[0];!e||""!==e&&e!==n.input.dimension.name||(n.input.dimension.name="")}e===q&&t===C&&(n.add?i():!E&&n.colorModelWrapper.hasColors()?f.show({text:"library.colors.drilldownwarning"}).then(function(){i()}).catch(function(){n.input.dimension.type=C;A(n)}):i());e===C&&1===n.input.dimension.selectedFields.length&&S.validateFieldsInDimension();if(e===C&&n.input.dimension.selectedFields.length>1){E=true;f.show({text:"Dimensions.Dialog.FieldDeleteWarning"}).then(function(){n.input.dimension.type=C;n.input.dimension.selectedFields.length=1;A(n);E=false;n.colorModelWrapper=new y(n.input.dimension);n.colorModelWrapper.initModel()}).catch(function(){E=false});n.input.dimension.type=t}}function O(e,t,n){if(n.input.dimension.type===C&&1===e.length&&S.isFieldInList(e[0],n.input.dimension.allFields)){var i=g.trimAutoCalendarName(e[0]);var r=g.trimAutoCalendarName(t[0]);(1!==t.length||r!==n.input.dimension.name&&n.input.dimension.name)&&(0!==t.length||n.input.dimension.name)||(n.input.dimension.name=i)}else n.input.dimension.type===C&&n.input.dimension.name===t[0]&&S.isFieldInList(n.input.dimension.name,n.input.dimension.allFields)&&(n.input.dimension.name="")}function A(e){e.input.dimension.allFields.forEach(function(t){t.selected=e.input.dimension.selectedFields.contains(t.qName)})}function L(e){e.input.dimension.allFields.forEach(function(t){t.used=t.used||e.input.dimension.selectedFields.contains(t.qName)})}function I(e){e.input.dimension.allFields.forEach(function(e){e.used=false})}function T(e){return{name:e.input.dimension.name,description:e.input.dimension.description,descriptionExpression:e.input.dimension.descriptionExpression,tags:e.input.dimension.tags,expr:e.input.dimension.selectedFields,type:e.input.dimension.type,baseColor:e.input.dimension.qDim.coloring.baseColor,colorsChanged:true,labelExpression:e.input.dimension.labelExpression}}function k(e,t){e.$watch("input.dimension.type",D);e.$watch("input.dimension.selectedFields",O,true);e.$watch("input.dimension.selectedTable",t.filterFields);e.$watch("input.dimension.name",function(){e.input.dimension.validity.name||t.validateNameField()});e.$watch("input.dimension.selectedFields",function(){e.input.dimension.validity.selectedFields||t.validateFieldsInDimension();e.input.dimension.selectedFields.length?e.input.dimension.fieldName=e.input.dimension.selectedFields[0]:e.input.dimension.fieldName=null},true);e.$watch("search.query",function(){t.filterFields()})}var P={template:i,controller:["$scope","qvConfirmDialog",function(e,i){var r=e.input.tableData,l=e.input.dimension;e.scrollDown=0;e.initColorMap=function(t){e.visible=t};e.theme=b;e.input.dimension.qDim.coloring||(e.input.dimension.qDim.coloring={});Object.defineProperty(e,"color",{get:function t(){return e.theme.resolveColor(e.input.dimension.qDim.coloring.baseColor)},set:function t(n){var i="undefined"!==typeof n.color?n.color:n;var r="undefined"!==typeof n.index?n.index:e.theme.currentPalette.indexOf(n);e.input.dimension.qDim.coloring.baseColor={color:i,index:r}}});l.name=g.trimAutoCalendarName(l.name);l.validity={};l.validity.description=true;l.validity.name=true;l.validity.selectedFields=true;l.validity.labelExpression=true;l.selectedFields=l.qDim.qFieldDefs;l.labelExpression=l.qDim.qLabelExpression;l.descriptionExpression=l.qDim.descriptionExpression;l.type=l.qDim.qGrouping===_.drilldown?q:C;l.stringLimits=u;l.allFields=[];w=a.get("Common.All.Tables");e.allTablesStr=w;l.selectedTable=w;if(!e.add&&l.type===C){e.colorModelWrapper=new y(l);e.colorModelWrapper.initModel()}e.showLabelExpression=function(){return l.type===C};e.search={query:""};e.sortableLists={options:{direction:"vertical",itemSelector:"li:not(.empty-expression-placeholder)"},onBegin:function e(t){f(t)},onEnter:function t(n){d.move(l.selectedFields,e.placeholderIndex,n);e.placeholderIndex=n},onMove:function t(n,i){h();if(null===i||e.placeholderIndex===n)return;n<i&&i--;d.move(l.selectedFields,n,i)},onCancel:function e(){h()},allowDrag:function e(t){if(x.isMouse(t))return!!p(t.target).closest(".field-token").length;return!!p(t.target).closest(".icon-handle").length}};e.placeholderIndex=-1;function f(t){e.placeholderIndex=t;l.selectedFields.splice(t,0,"")}function h(){if(-1!==e.placeholderIndex){l.selectedFields.splice(e.placeholderIndex,1);e.placeholderIndex=-1}}e.$root.$evalAsync(function(){S=s.create(e,c,u);k(e,S)});if(r){l.allFields=r.fields;l.filteredFields=r.fields.slice();l.tables=r.tables;l.tables.unshift(w)}e.cancel=function(){l.updateTags();!e.input.add||S.isEmpty()?e.destroyComponent():i.show({message:a.get("Dimensions.Dialog.CloseWarning"),icon:"cogwheel"}).closed.then(function(t){t&&e.destroyComponent()})};o.StateChanged.bind(e.cancel);e.showAddingFeedback=function(){e.adding=true;setTimeout(function(){e.adding=false;e.added=true;e.$apply()},500)};e.hideAddedFeedback=function(){e.added=false};e.getFieldDisplayName=function(t){var n=t.isDerived&&""===e.search.query?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):g.trimAutoCalendarName(t.qName);return n};e.getTrimmedName=function(e){return g.trimAutoCalendarName(e)};e.confirm=function(){l.updateTags();l.expr=l.selectedFields;if(S.validate())if(e.input.add){e.input.callback(T(e));L(e);S.clearDialog();A(e);e.showAddingFeedback();e.color="none"}else if(e.colorModelWrapper){e.input.dimension.selectedFields.length>1&&e.colorModelWrapper.clearColors();e.colorModelWrapper.save().then(function(){e.input.callback(T(e));e.destroyComponent()})}else{e.input.callback(T(e));e.destroyComponent()}};e.selectFieldHandler=function(t,i){i.preventDefault();setTimeout(function(){var r=n.elementFromEventPosition(i);var o=r!==i.target;if(o)return;S.selectFieldHandler(t);A(e);e.$apply()},100)};e.removeItemHandler=function(t){l.selectedFields.splice(t,1);e.expressionColor=false;A(e)};function v(t,n){S.updateFieldExpression(t,n);e.expressionColor=true;A(e)}e.editExpressionHandler=function(n,i){n.preventDefault();var r=e,o=r.input.dimension.selectedFields[i]||"";"="!==o.substr(0,1)&&o.length&&(o="="+t.escapeField(o));r.input.expressionInterface(v,i,o)};A(e);I(e)}]};function M(t){var n={title:t.title,tableData:t.tableData,dimension:t.dimension,expressionInterface:t.expressionInterface,add:t.add,callback:t.callback};var i=e.getService("luiDialog").show({template:P.template,controller:P.controller,input:n,dock:"top",closeOnOutside:false,showArrow:false});return i}function R(e){e.title="Dimensions.Dialog.Add.Title";e.add=true;M(e)}function N(e){e.title="Dimensions.Dialog.Edit.Title";M(e)}e.directive("qvFieldList",["$timeout",function(e){return{template:r,link:function t(n,i){var r={minRowHeight:38,maxRowHeight:38,blockSize:60,keepItemsCount:10};var s=new h(e,r);n.scroll=s;var a=new m(s);n.$evalAsync(function(){var e=i.find(".scroll-area");var t=e.controller("qvScrollArea");var r=new v(e,e,".lui-list__item",".lui-list__item:first",".lui-list__item:last");var l=i.find(".qv-scroll-loader").controller("qvScrollLoader");s.initialize(r,a,t,l).then(function(){s.activate();s.updateViewport();n.$watch("input.dimension.filteredFields",function(e){if(!e)return;a.setList(e)})});n.$on("$destroy",function(){s.destroy();o.StateChanged.unbind(n.cancel)})})}}}]);e.directive("qvScroll",[function(){return{link:function e(t,n){t.$watch("scrollDown",function(e){e&&(n[0].scrollTop=n.find(".empty-expression")[0].parentNode.offsetTop)})}}}]);return{add:R,edit:N}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<div class="lui-dialog" id="dimensions-dialog" data-tid="dim-dialog">\n\t<div class="dimension-dialog-dimvalcol-wrapper dimension-dialog-container">\n\t\t<lui-tab-view>\n\t\t\t<div ng-show="!input.add" class="lui-dialog__header">\n\t\t\t\t<lui-tabset fill="true">\n\t\t\t\t\t<lui-tab q-title-translation="{{input.title}}" q-translation="{{input.title}}" on-tab-selected="initColorMap(false)" ref="tab1"></lui-tab>\n\t\t\t\t\t<lui-tab q-title-translation="library.colors.valuecolors" q-translation="library.colors.valuecolors" on-tab-selected="initColorMap(true)" ng-class="{\'lui-disabled\' : ((input.dimension.type === \'drilldown\' ) || !!input.add)}" ref="tab2" tid="value-col-tab"></lui-tab>\n\t\t\t\t</lui-tabset>\n\t\t\t</div>\n\t\t\t<div ng-if="input.add" class="lui-dialog__header">\n\t\t\t\t<div class="lui-dialog__title dimension-dialog-add-title" q-translation="{{input.title}}"></div>\n\t\t\t</div>\n\t\t\t<div class="lui-dialog__body">\n\t\t\t\t<lui-tab-content ref="tab1">\n\t\t\t\t\t<div data-dimension-type="{{input.dimension.type}}" class="dimension-type-{{input.dimension.type}}" ng-class="{ \'label-expression\': showLabelExpression() }">\n\t\t\t\t\t\t<div class="dimension-dialog-radio">\n\t\t\t\t\t\t\t<lui-radiobutton class="dimension-dialog-radio-single"\n\t\t\t\t\t\t\t\t\t\t\t x-name="dimension-type"\n\t\t\t\t\t\t\t\t\t\t\t x-model="input.dimension.type"\n\t\t\t\t\t\t\t\t\t\t\t x-value="single">\n\t\t\t\t\t\t\t\t{{ \'Common.Single\' | translate }}\n\t\t\t\t\t\t\t</lui-radiobutton>\n\t\t\t\t\t\t\t<lui-radiobutton class="dimension-dialog-radio-drilldown"\n\t\t\t\t\t\t\t\t\t\t\t x-name="dimension-type"\n\t\t\t\t\t\t\t\t\t\t\t x-model="input.dimension.type"\n\t\t\t\t\t\t\t\t\t\t\t x-value="drilldown">\n\t\t\t\t\t\t\t\t{{ \'Dimensions.Dialog.Type.DrillDown\' | translate }}\n\t\t\t\t\t\t\t</lui-radiobutton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id="dimensions-dialog-content">\n\t\t\t\t\t\t\t\x3c!-- Available fields --\x3e\n\t\t\t\t\t\t\t<section id="dimension-dialog-fields" class="field-box">\n\t\t\t\t\t\t\t\t<h1 q-translation="Assets.FieldsTab.Table"></h1>\n\t\t\t\t\t\t\t\t<lui-select x-model="input.dimension.selectedTable" x-options="table for table in input.dimension.tables"></lui-select>\n\t\t\t\t\t\t\t\t<div class="dimension-dialog-search">\n\t\t\t\t\t\t\t\t\t<qv-assets-search-panel query="search.query" look="light" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div qv-field-list class="dimension-dialog-field-list">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\x3c!-- Selected fields --\x3e\n\t\t\t\t\t\t\t<section class="dimension-editor-form">\n\t\t\t\t\t\t\t\t<section id="dimensions-dialog-field-reference" class="field-box">\n\t\t\t\t\t\t\t\t\t<h1 q-translation="Dimensions.Dialog.FieldReference"></h1>\n\t\t\t\t\t\t\t\t\t<ul qv-scroll id="dimensions-dialog-field-tokens"\n\t\t\t\t\t\t\t\t\t\tng-class="{ invalid: !input.dimension.validity.selectedFields }"\n\t\t\t\t\t\t\t\t\t\tqv-sortable-list="sortableLists">\n\t\t\t\t\t\t\t\t\t\t<li ng-repeat="field in input.dimension.selectedFields" data-id="{{field}}" title="{{field}}" ng-class="{ placeholder: $index === placeholderIndex }">\n\t\t\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lui-icon lui-icon--handle" q-title-translation="Common.Move"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{field}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="lui-icon lui-icon--remove remove" ng-click="removeItemHandler($index)" q-title-translation="Common.Delete"></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="expression-input">\n\t\t\t\t\t\t\t\t\t\t\t\t<button class="lui-fade-button" ng-click="editExpressionHandler($event, $index)" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--expression" ng-class="{ \'active\': expressionColor }"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<button class="lui-fade-button empty-expression" ng-click="editExpressionHandler($event)" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--expression"></span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t\x3c!-- Meta data--\x3e\n\t\t\t\t\t\t\t\t<section class="metadata-form">\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Name --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="metadata.name"></label>\n\t\t\t\t\t\t\t\t\t\t<input class="lui-input" type="text" name="metadata-name" maxlength="255" ng-model="input.dimension.name" id="dimensions-dialog-name" ng-class="{ \'lui-invalid\': !input.dimension.validity.name }" data-tid="dim-dialog-name" >\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Label expression --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item" ng-if="showLabelExpression()">\n\t\t\t\t\t\t\t\t\t\t<qv-expression-input class="metadata-item" expression="input.dimension.labelExpression" is-valid-expression="input.dimension.validity.labelExpression" data-tid="dim-dialog-labelexp"></qv-expression-input>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Description --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="metadata.description"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-description-textarea\n\t\t\t\t\t\t\t\t\t\t\t\tdescription="input.dimension.description"\n\t\t\t\t\t\t\t\t\t\t\t\tdescription-expression="input.dimension.descriptionExpression"\n\t\t\t\t\t\t\t\t\t\t\t\tis-valid="input.dimension.validity.description"\n\t\t\t\t\t\t\t\t\t\t\t\tdata-tid="dim-dialog-description">\n\t\t\t\t\t\t\t\t\t\t</qv-description-textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Dimension color --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t\t\t<label class="qv-metadatalabel" q-translation="library.colors.dimensioncolor"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-color-picker-button-new ng-model="color" palette="theme.currentPalette" extended="true" toggle-open="true"></qv-color-picker-button-new>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- Tags --\x3e\n\t\t\t\t\t\t\t\t\t<div class="metadata-item tags">\n\t\t\t\t\t\t\t\t\t\t<label q-translation="metadata.tags" class="qv-taglabel"></label>\n\t\t\t\t\t\t\t\t\t\t<qv-tagcloud tags="input.dimension.tags" update="input.dimension.updateTags"></qv-tagcloud>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t<lui-button ng-if="input.add" ng-click="confirm()" class="add-dimension-button" autofocus q-translation="Dimensions.Dialog.Add.Button" data-tid="add-dim-button"></lui-button>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</lui-tab-content>\n\t\t\t\t<lui-tab-content ref="tab2">\n\t\t\t\t\t<section class="metadata-form">\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<qv-dimension-colors visible="visible" color-model-wrapper="colorModelWrapper"></qv-dimension-colors>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</lui-tab-content>\n\t\t\t</div>\n\t\t</lui-tab-view>\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t<div ng-if="added" qva-outside="hideAddedFeedback()" class="qv-animate dimension-added">\n\t\t\t<i class="lui-icon lui-icon--tick" aria-hidden="false"> </i> <span q-translation="Dimensions.Dialog.DimensionAdded"></span>\n\t\t</div>\n\t\t<lui-button ng-if="input.add" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Done" tid="done"></lui-button>\n\t\t<lui-button ng-if="!input.add" ng-click="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="cancel"></lui-button>\n\t\t<lui-button ng-if="!input.add" ng-click="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="Common.Save" tid="dim-dlg-save-btn"></lui-button>\n\t</div>\n</div>\n'},function(e,t){e.exports='<qv-scroll-area class="scroll-area" ng-class="{ \'native-scroll-enabled\': !scroll.virtualScrollEnabled }">\n\t<qv-scroll-load-button\n\t\t\tng-show="scroll.loadPrevious"\n\t\t\ton-load="scroll.gotoPreviousBlock()"\n\t\t\ttext="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\n\t<ul class="lui-list" ng-class="{ \'align-bottom\': scroll.alignBottomAbsolute }">\n\t\t<li ng-repeat="field in scroll.items"\n\t\t\tng-click="selectFieldHandler(field, $event)"\n\t\t\tclass="lui-list__item lui-list__action"\n\t\t\tng-class="{ \'lui-selected\': field.selected, \'derived-field\': (field.isDerived) }">\n\t\t\t<i ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></i>\n\t\t\t<i ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></i>\n\n\t\t\t<div ng-if="field.dimensionDialogMetaData.icon" class="lui-icon  lui-icon--{{field.dimensionDialogMetaData.icon}} lui-list__aside" q-title-translation="{{::field.dimensionDialogMetaData.iconTooltip}}"></div>\n\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight text="{{::getFieldDisplayName(field)}}" query="search.query" title="{{::getFieldDisplayName(field)}}"></div>\n\t\t\t<div ng-if="field.used" class="lui-icon lui-icon--tick lui-list__aside"></div>\n\t\t</li>\n\t</ul>\n\n\t<div ng-if="!scroll.items.length" class="no-hits">\n\t\t<span ng-if="search.query.length" q-translation="Toolbox.Search.Nohits"></span>\n\t\t<span ng-if="!search.query.length" q-translation="library.noitems"></span>\n\t</div>\n\n\t<qv-scroll-load-button\n\t\t\tng-show="scroll.loadNext"\n\t\t\ton-load="scroll.gotoNextBlock()"\n\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n</qv-scroll-area>\n<qv-scroll-loader></qv-scroll-loader>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(139)],r=function(e,t){var n="single";function i(i,r,o){var s=i.input.dimension;function a(){return r.validateMetadataName(s,o)}function l(){return r.validateFieldsInDimension(s)}function u(){var e=a();var t=l();return e&&t&&s.validity.labelExpression&&s.validity.description}function c(){var e=i.search.query;var n=s.selectedTable;function r(n){return-1!==t.string(n.qName.toLowerCase()).indexOf(t.string(e.toLowerCase()))}n===i.allTablesStr?s.filteredFields=s.allFields.filter(function(e){return r(e)}):s.filteredFields=s.allFields.filter(function(e){return-1!==e.qSrcTables.indexOf(n)&&r(e)})}function f(e,t){var n=0,i=t.length;for(n=0;n<i;n++)if(t[n].qName===e)return true;return false}function d(t,r){r=r.replace(/^=+/,"=");"="!==r.charAt(0)&&(r="="+r);if(void 0!==t)s.selectedFields[t]=r;else{s.selectedFields.push(r);s.type!==n&&e.getService("$timeout")(function(){i.scrollDown+=1})}}function p(t){if(!t||t.selected)return;if(s.type===n)s.selectedFields=[t.qName];else{s.selectedFields.push(t.qName);e.getService("$timeout")(function(){i.scrollDown+=1})}}function h(){s.name="";s.description="";s.tags=[];s.selectedFields=[];delete s.labelExpression}function v(){return""===s.name&&""===s.description&&0===s.tags.length&&0===s.selectedFields.length}return{selectFieldHandler:p,updateFieldExpression:d,isFieldInList:f,clearDialog:h,isEmpty:v,validateNameField:a,validateFieldsInDimension:l,validate:u,filterFields:c}}return{create:function e(t,n,r,o){return new i(t,n,r,o)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";(function(e){var n,i;!(n=[],i=function(){var e={};Object.defineProperties(e,{ZERO:{value:"zero"},POSITIVE:{value:"positive"}});var t;function n(){var t=document.createElement("div");t.style.width="100px";t.style.overflow="hidden";t.style.opacity="0";t.dir="rtl";var n=document.createElement("div");n.style.width="200px";n.innerHTML="t";t.appendChild(n);var i=document.getElementsByTagName("body")[0];i.appendChild(t);var r=t.scrollLeft;i.removeChild(t);return 0===r?e.ZERO:e.POSITIVE}function i(){t||(t=n());return t}var r={getStartType:i};Object.defineProperty(r,"RTL_SCROLL_START",{value:e});return r}.apply(t,n),void 0!==i&&(e.exports=i))}).call(this,n(55)(e))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89)],r=function(e,t){e.directive("qvScrollLoader",["$animateCss","$timeout",function(e,n){return{restrict:"E",replace:true,template:function e(t,n){var i=n.tag||"div";return"<"+i+' ng-style="loaderStyle" class="qv-scroll-loader qv-animate"><qv-rain ng-if="showRain" show="showRain"></qv-rain></'+i+">"},scope:{},controller:function e(){},link:function i(r,o,s,a){var l,u,c,f=!!s.noRain;r.loaderStyle={width:0,height:0};r.showRain=false;a.fadeIn=function(i,s,a){var c=t();d(i,s,a);f||(l=n(function(){r.showRain=true}));u=e(o,{addClass:"fade"});u.start().done(function(){c.resolve()});return c.promise};a.fadeOut=function(){var n=t();r.showRain=false;c=e(o,{removeClass:"fade"});c.start().done(function(){r.loaderStyle.width=0;r.loaderStyle.height=0;r.$apply();n.resolve()});return n.promise};function d(e,t,n){r.loaderStyle.top=e;r.loaderStyle.left=t;r.loaderStyle.width=n.width;r.loaderStyle.height=n.height}r.$on("$destroy",function(){n.cancel(l)})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(775),n(54)],r=function(e,t,n){e.directive("qvScrollLoadButton",[function(){return{restrict:"E",transclude:true,replace:true,template:function e(n,i){var r=i.tag||"div";return t.replace(/^\s*<div/,"<"+r).replace(/<\/div>\s*$/,"</"+r+">")},scope:{onLoad:"&",text:"@",previous:"=",disabled:"=",scrollApi:"=",watchResize:"=",showButton:"="},link:function e(t,i){t.load=function(){t.onLoad()};var r=i.find(".lui-button");function o(){if(!t.scrollApi)return;var e=t.scrollApi.domApi.$scrollContent[0].clientWidth,n=t.scrollApi.settings.width,i=t.scrollApi.domApi.$element[0].scrollLeft,o=e-n;r[0].style.left=i-o/2+"px"}var s=t.$watch("watchResize",function(e){if("function"===typeof e){e(o);s()}});var a=t.$watch("showButton",function(e){if(e){o();t.scrollApi.domApi.$element.scroll(n.debounce(o,40));a()}})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-scroll-data-load-buttons" ng-class="{ previous: previous }">\n\t<div ng-transclude></div>\n\t<button class="lui-button" qva-activate="load()" ng-disabled="disabled">\n\t\t<p q-translation="{{text}}"></p>\n\t</button>\n</div>\n'},function(e,t){e.exports='<div dir={{direction}}>\n\t<div class="scroll-content" ng-transclude></div>\n\t<qv-scroll-area-affordance x-show="scrollbarY.showMinAffordance" x-direction="\'vertical\'" x-dock="\'min\'" ng-if="scrollbarY.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scroll-area-affordance x-show="scrollbarX.showMinAffordance" x-direction="\'horizontal\'" x-dock="\'min\'" ng-if="scrollbarX.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scrollbar x-data="scrollbarY" x-interactive="interactiveY" x-viewport-rect="viewportRect" ng-if="scrollbarY.enabled"></qv-scrollbar>\n\t<qv-scrollbar x-data="scrollbarX" x-interactive="interactiveX" x-viewport-rect="viewportRect" ng-if="scrollbarX.enabled"></qv-scrollbar>\n\t<qv-scroll-area-affordance x-show="scrollbarY.showMaxAffordance" x-direction="\'vertical\'" x-dock="\'max\'" ng-if="scrollbarY.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n\t<qv-scroll-area-affordance x-show="scrollbarX.showMaxAffordance" x-direction="\'horizontal\'" x-dock="\'max\'" ng-if="scrollbarX.enabled" x-viewport-rect="viewportRect"></qv-scroll-area-affordance>\n</div>\n'},function(e,t){e.exports='<div class="scrollbar-animation scrollbar-track"\n\tng-class="data.classList"\n\tng-style="data.style">\n\t<qv-scrollbar-track-hit-area ng-style="trackHitAreaStyle" class="scrollbar-hitarea"></qv-scrollbar-track-hit-area>\n\t<qv-scrollbar-thumb ng-class="{ active: data.active }" class="scrollbar-thumb" ng-style="thumbStyle"></qv-scrollbar-thumb>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48)],r=function(e){e.directive("qvScrollAreaAffordance",function(){return{restrict:"E",template:'<div ng-show="show" class="scroll-affordance" ng-class="[dock,direction]" ng-style="style"></div>',replace:true,require:"^qvScrollArea",scope:{viewportRect:"=",direction:"=",dock:"=",size:"=?",show:"="},link:function e(t){t.size=t.size||18;t.style={};t.updateAffordance=function(){switch(t.direction){case"vertical":t.style.width=t.viewportRect.width+"px";t.style.height=t.size+"px";switch(t.dock){case"min":t.style.left=t.viewportRect.left+"px";t.style.top=t.viewportRect.top+"px";break;case"max":t.style.left=t.viewportRect.left+"px";t.style.top=t.viewportRect.top+t.viewportRect.height-t.size+"px";break;default:throw new Error("Dock "+t.dock+" not supported")}break;case"horizontal":t.style.width=t.size+"px";t.style.height=t.viewportRect.height+"px";switch(t.dock){case"min":t.style.left=t.viewportRect.left+"px";t.style.top=t.viewportRect.top+"px";break;case"max":t.style.left=t.viewportRect.left+t.viewportRect.width-t.size+"px";t.style.top=t.viewportRect.top+"px";break;default:throw new Error("Dock "+t.dock+" not supported")}break;default:throw new Error("Direction "+t.direction+" not supported")}};t.$watch("viewportRect",t.updateAffordance,true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(100),n(92),n(174)],r=function(e,t,n){var i=null,r=null,o=null,s=n.extend({init:function t(n){var s=e.getService("qvColorMapService");i=n.qInfo.qId;r=n;o=s.getTemplate()},initModel:function t(){var n=e.getService("qvColorMapService");return n.getColorMap(i).then(function(e){if(e){o=e;void 0===o.autoFill&&(o.autoFill=!(o.single&&false===o.usePal||o.pal))}})},hasColors:function e(){return o&&!!(o.pal&&o.pal.length&&o.pal!==t.dataPalettes[0].propertyValue)||o&&false===o.autoFill||["nul","oth","single"].some(function(e){return o[e]&&"none"!==o[e].color})||o.colors.some(function(e){return"none"!==e.baseColor.color})},save:function t(){var n=e.getService("qvColorMapService");return this.hasColors()?n.setColorMap(i,o):n.deleteColorMap(i).then(function(){o=n.getTemplate();delete r.qDim.coloring.colorMapRef})},clearColors:function t(){var n=e.getService("qvColorMapService");o=n.getTemplate()}});Object.defineProperties(s.prototype,{dimensionName:{get:function e(){return r.qDim.title}},fieldName:{get:function e(){return r.fieldName}},colors:{get:function e(){return o.colors}},nullColor:{get:function e(){return t.resolveColor(o.nul)},set:function e(n){if(n&&(null===o.nul||o.nul.color!==n.color||o.nul.index!==n.index)){n.color||(o.nul={color:n,index:t.currentPalette.indexOf(n)});n.color&&(o.nul={color:n.color,index:n.index})}}},othersColor:{get:function e(){return t.resolveColor(o.oth)},set:function e(n){if(n&&(null===o.oth||o.oth.color!==n.color||o.oth.index!==n.index)){n.color||(o.oth={color:n,index:t.currentPalette.indexOf(n)});n.color&&(o.oth={color:n.color,index:n.index})}}},singleColor:{get:function e(){return t.resolveColor(o.single)},set:function e(n){if(n&&(null===o.single||o.single.color!==n.color||o.single.index!==n.index)){n.color||(o.single={color:n,index:t.currentPalette.indexOf(n)});n.color&&(o.single={color:n.color,index:n.index})}}},palette:{get:function e(){return o.pal?o.pal:t.dataPalettes[0].propertyValue},set:function e(n){o.pal!==n&&(o.pal=n!==t.dataPalettes[0].propertyValue?n:null);this.usePalette=true}},usePalette:{get:function e(){return null===o.usePal||o.usePal},set:function e(t){o.usePal!==t&&null!==t&&(o.usePal=t)}},autoFill:{get:function e(){return o.autoFill},set:function e(t){o.autoFill=t;if(t){o.pal=null;o.usePal=null;this.singleColor="none"}else{this.usePalette=true;"none"===this.singleColor&&(this.singleColor="#4477aa")}}}});return s}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(303)],r=function(e,t,n){t.service("qvSortableListDragService",[function(){var t;t={$new:function e(t){return{fromItem:void 0,enterItem:void 0,enterList:void 0,toItem:void 0,toList:void 0,offsetX:0,offsetY:0,left:0,top:0,direction:void 0,clientRect:void 0,scroll:{},pageX:0,pageY:0,suppressDragStyle:t.suppressDragStyle||[],zIndex:t.zIndex,enterItemAction:void 0}},startOffset:function e(t,n,i,r,o,s){if(s){var a=i.offset();var l=s.offset();n.left=a.left-l.left;n.top=a.top-l.top}else{var u=i.position();n.left=u.left;n.top=u.top}n.offsetX=n.left-r.x;n.offsetY=n.top-r.y;if(o){n.offsetX=n.offsetX-t[0].scrollLeft;n.offsetY=n.offsetY-t[0].scrollTop}},startData:function e(t,n,i,r){n.scroll.clientRect=t[0].getBoundingClientRect();n.scroll.width=t[0].scrollWidth;n.scroll.height=t[0].scrollHeight;n.clientRect=i[0].getBoundingClientRect();n.minLeft=-n.clientRect.width;n.maxLeft=n.scroll.width;n.minTop=-n.clientRect.height;n.maxTop=n.scroll.height-n.clientRect.height;n.fromItem=i.scope()[r];n.toItem=void 0;n.toList=void 0;n.enterItem=void 0;n.enterList=void 0;n.enterItemAction=void 0},updateDragCoordinates:function e(t,n,i,r){r=r||t.scroll.clientRect;t.pageX=n;t.pageY=i;t.pageX<=r.left?t.pageX=r.left+1:t.pageX>=r.left+r.width&&(t.pageX=r.left+r.width-1);t.pageY<=r.top?t.pageY=r.top+1:t.pageY>=r.top+r.height&&(t.pageY=r.top+r.height-1)},updateEnterItemAction:function e(t,i){var r=i[0].getBoundingClientRect(),o,s,a;switch(t.direction){case"horizontal":o=t.pageX;s=r.left;a=r.width;break;case"vertical":o=t.pageY;s=r.top;a=r.height;break;default:return}o<=s+.5*a?t.enterItemAction=n.ENTER_BEFORE:o>s+.5*a&&(t.enterItemAction=n.ENTER_AFTER)},updateData:function n(i,r,o,s,a,l,u,c,f){var d,p,h,v,m=r.enterItemAction,g=function e(){};function b(e){return e.length&&t.isChild(i[0],e[0])}function y(e){if("function"===typeof a)return a(e);return e.scope()[a]}var x=o[0].style.display;o[0].style.display="none";p=document.elementFromPoint(r.pageX,r.pageY);d=e(p).closest(l);if(b(d))g=function e(n){h=n.scope()[u];t.updateEnterItemAction(r,n);if(r.enterItem!==h||r.enterItem===h&&m!==r.enterItemAction){r.enterList=void 0;r.enterItem=h;c()}};else{d=e(p).closest(s);if(b(d))g=function e(t){v=y(t);if(r.enterList!==v){r.enterList=v;r.enterItem=void 0;f()}};else{r.enterItem=void 0;r.enterList=void 0}}o[0].style.display=x;g(d)},start:function e(t,n,i){i[0].style||(i[0].style="");i[0].style.position="absolute";-1===n.suppressDragStyle.indexOf("width")&&(i[0].style.width=n.clientRect.width+"px");i[0].style.height=n.clientRect.height+"px";i[0].style.pointerEvents="none";i[0].style.left=n.left+"px";i[0].style.top=n.top+"px";i[0].style.zIndex=n.zIndex;i[0].style.boxSizing="border-box"},update:function e(t,n,i,r){var o,s;switch(n.direction){case"horizontal":n.left=r.currentPoint.x+n.offsetX+t[0].scrollLeft;break;case"vertical":n.top=r.currentPoint.y+n.offsetY+t[0].scrollTop;break;default:n.left=r.currentPoint.x+n.offsetX+t[0].scrollLeft;n.top=r.currentPoint.y+n.offsetY+t[0].scrollTop}o=n.left;s=n.top;n.left<n.minLeft?o=n.minLeft:n.left>n.maxLeft&&(o=n.maxLeft);n.top<n.minTop?s=n.minTop:n.top>n.maxTop&&(s=n.maxTop);i[0].style.left=o+"px";i[0].style.top=s+"px"},end:function e(t,n){if(t.stopAutoScrolling){t.stopAutoScrolling();t.stopAutoScrolling=null}n&&n.length&&n[0].removeAttribute("style")},isParent:function e(t,n){return t===n},isChild:function e(n,i){var r=i;if(t.isParent(n,i))return false;while(r){if(r===n)return true;r=r.parentNode}return false},autoScroll:function e(t,n,i,r,o,s,a,l){var u=true,c=0,f=0,d=0,p=0;function h(e,o){c=t.scrollLeft;f=t.scrollTop;if(u){if(e<0&&0===c){u=false;return}if(e>0&&c+parseInt(n.height+.5,10)>=i){u=false;return}if(o<0&&0===f){u=false;return}if(o>0&&f+parseInt(n.height+.5,10)>=r){u=false;return}0!==e&&(t.scrollLeft+=e);0!==o&&(t.scrollTop+=o);s();setTimeout(function(){h(e,o)})}}switch(o.direction){case"horizontal":o.pageX<=n.left+l?d=-a:o.pageX>=n.left+n.width-l&&(d=a);break;case"vertical":o.pageY<=n.top+l?p=-a:o.pageY>=n.top+n.height-l&&(p=a);break;default:o.pageY<=n.top+l?p=-a:o.pageY>=n.top+n.height-l&&(p=a)}0===d&&0===p||h(d,p);if(o.stopAutoScrolling){o.stopAutoScrolling();delete o.stopAutoScrolling}o.stopAutoScrolling=function(){u=false};return o.stopAutoScrolling}};return t}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="assets-search-panel" data-help="Library.Search">\n\n\t<div class="frame">\n\t\t<div class="lui-search" ng-class="{\'lui-search--inverse\': look == \'inverse\', \'assets-search-bright\': look == \'default\'}">\n\t\t\t<span class="lui-search__search-icon"></span>\n\t\t\t<input class="lui-search__input" maxlength="255" ng-model="rawQuery" spellcheck="false" type="text" q-placeholder="Common.Search" ng-trim="true" data-tid="search-input" />\n\t\t\t<button class="asset-search-panel-clear-search  lui-search__clear-button" ng-click="onClear();" ng-hide="!rawQuery" q-title-translation="Common.Clear">\n\t\t\t\t<span class="lui-icon  lui-icon--small  lui-icon--close"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(783),n(100),n(317),n(784),n(787)],r=function(e,t,n,i){e.directive("qvDimensionColors",[function(){return{restrict:"E",template:t,replace:true,scope:{visible:"=",colorModelWrapper:"="},link:function e(t){t.currentPalette=n.currentPalette;t.$watchCollection("[visible, colorModelWrapper.autoFill]",function(){t.colorModelWrapper&&(t.colorSelector=t.colorModelWrapper.usePalette?"schemeSelect":"oneSelect")});t.$watch("colorSelector",function(){t.colorModelWrapper&&(t.colorModelWrapper.usePalette="schemeSelect"===t.colorSelector)},false);t.$on("clearAll",function(){i.show({text:"library.colors.clearcolorsconfirmation"}).then(function(){t.colorModelWrapper.clearColors();t.colorSelector=t.colorModelWrapper.usePalette?"schemeSelect":"oneSelect"})})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-dim-dlg-colors">\n\t<div class="qv-dim-dlg-colors-column qv-dim-dlg-colors-column-left">\n\t\t\t<h2 class="qv-dim-dlg-colors-header">{{colorModelWrapper.dimensionName}}</h2>\n\t\t<div class="qv-dim-dlg-colors-colormap">\n\t\t\t<qv-color-mapper\n\t\t\t\tvisible="visible"\n\t\t\t\tfield-name="colorModelWrapper.fieldName"\n\t\t\t\tdimension-name="colorModelWrapper.dimensionName"\n\t\t\t\tuse-palette="colorModelWrapper.usePalette"\n\t\t\t\tcolor-array="colorModelWrapper.colors"\n\t\t\t\tpalette="colorModelWrapper.palette"\n\t\t\t\tsingle-color="colorModelWrapper.singleColor"\n\t\t\t\thas-colors="colorModelWrapper.hasColors"></qv-color-mapper>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-others-row">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.others"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.othersColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.nullvalues"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.nullColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="qv-dim-dlg-colors-column qv-dim-dlg-colors-column-right">\n\t\t<div class="qv-dim-dlg-colors-row"></div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.autofilloption"></label>\n\t\t</div>\n\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-auto-fill">\n\t\t\t<h2 ng-show="colorModelWrapper.autoFill" class="qv-dim-dlg-colors-label" q-translation="Common.Auto"></h2>\n\t\t\t<h2 ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-label" q-translation="Common.Custom"></h2> \n\t\t\t<lui-switch x-model="colorModelWrapper.autoFill"></lui-switch>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.autofill"></label>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row">\n\t\t\t<select class="lui-select" ng-model="colorSelector">\n\t\t\t\t<option value="oneSelect" q-translation="library.colors.onecolor"></option>\n\t\t\t\t<option value="schemeSelect" q-translation="library.colors.colorscheme"></option>\n\t\t\t</select>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" class="qv-dim-dlg-colors-row" ng-if="colorSelector === \'oneSelect\'">\n\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.color"></label>\n\t\t\t<div class="qv-dim-dlg-colors-select">\n\t\t\t\t<qv-color-picker-button-new\n\t\t\t\t\t\tng-model="colorModelWrapper.singleColor"\n\t\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\t\textended="true"\n\t\t\t\t\t\tdisable-none="true"\n\t\t\t\t\t\ttoggle-open="true">\n\t\t\t\t</qv-color-picker-button-new>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-show="!colorModelWrapper.autoFill" ng-if="colorSelector === \'schemeSelect\'">\n\t\t\t<div class="qv-dim-dlg-colors-row qv-dim-dlg-colors-row-text">\n\t\t\t\t\t<label class="qv-dim-dlg-colors-label" q-translation="library.colors.schemeselect"></label>\n\t\t\t</div>\n\t\t\t<div class="qv-dim-dlg-colors-row">\n\t\t\t\t<scheme-input palette="colorModelWrapper.palette"></scheme-input>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(785),n(206),n(179),n(243),n(93),n(141),n(153),n(89),n(100),n(91),n(92),n(288),n(109),n(786),n(97),n(244)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v){var m,g,b,y=1024,x=100,_=37;m=f.extend({init:function e(t,n,i){this.palette=null;this.singleColor=null;this.length=0;if(t||"none"!==i){if(t){var r,o=u.dataPalettes.length;for(r=0;r<o;r++)if(u.dataPalettes[r].propertyValue===n){"pyramid"===u.dataPalettes[r].type?this.palette=u.dataPalettes[r].scale[u.dataPalettes[r].scale.length-1]:this.palette=u.dataPalettes[r].scale;break}this.palette||("pyramid"===u.dataPalettes[0].type?this.palette=u.dataPalettes[0].scale[u.dataPalettes[0].scale.length-1]:this.palette=u.dataPalettes[0].scale)}}else{var s=u.dataPalettes[0];"pyramid"===s.type?this.palette=s.scale[s.scale.length-1]:this.palette=s.scale}if(this.palette){"none"===this.palette[0]&&(this.palette=this.palette.slice(1,this.palette.length));this.length=this.palette.length}else this.singleColor=u.resolveColor(i)},getColor:function e(t){return this.singleColor?this.singleColor:this.palette[t%this.length]}});b=i.extend({getBoundingBox:function e(){return this.$scrollArea[0].getBoundingClientRect()}});function w(e,t,n,i){var r,o=i.length,s=o>0,a={color:null,custom:false};if(s)for(r=0;r<o;r++)if(i[r].value===t){a.color=u.resolveColor(i[r].baseColor);a.custom=true;break}!a.color&&e.colorLookup&&(a.color=e.colorLookup.getColor(n));return a}function q(e){return p.isDark(e)?"#e6e6e6":"#595959"}function C(e){e.nbrCustom=c.get("library.colors.numberofcustomcolors",e.colorArray.length)}g=r.extend({init:function e(t,n){this.$scope=t;this.$timeout=n;this.model=null;this.qWidth=0;this.qHeight=0},initialize:function e(t,n){this.updateSearch=function(){this.model.getLayout().then(function(e){this.showSearch(e.qListObject.qSize.qcy)}.bind(this))}.bind(this);return o.getApp().then(function(e){return s.createTransientField(e,t,S(n)).then(function(e){this.model=e;this.$scope.backendApi=new d(e);e.on("changed",this.updateSearch);this.$scope.$watch("query",function(e,t){if(void 0===e||e===t)return;e.length>0?this.$scope.backendApi.search(e):this.$scope.backendApi.abortSearch()}.bind(this));return e.getLayout().then(function(e){this.qWidth=e.qListObject.qSize.qcx;this.qHeight=e.qListObject.qSize.qcy}.bind(this))}.bind(this))}.bind(this))},show:function e(){var t=this.$scope.items.length,n=0,i=this.$scope.scrollApi.settings.viewportRowCount;i<t&&(i=t);return this.getData(n,i,false,false).then(function(){this.$scope.scrollApi.setTotalRows(this.qHeight);return this.$scope.scrollApi.setVirtualSize(true)}.bind(this))},showSearch:function e(t){var n=0,i=this.$scope.scrollApi.settings.viewportRowCount,r=this.$scope.scrollApi.resetNativeScroll();return this.getData(n,i,false,false).then(function(){r();this.$scope.scrollApi.setTotalRows(t);return this.$scope.scrollApi.setVirtualSize(false)}.bind(this))},getRows:function e(){return this.$scope.items},getRowCount:function e(){return this.$scope.items.length},getFirstElementIndex:function e(){return this.$scope.items[0].dataRowIx},getLastElementIndex:function e(){return this.$scope.items[this.$scope.items.length-1].dataRowIx},onVirtualScroll:function e(t,n){this.$scope.colorPickerCallback&&this.$scope.colorPickerCallback.close&&this.$scope.colorPickerCallback.close();var i=this.getData(t,n,false,false);this.$scope.$digest();return i},onInitialNativeScroll:function e(t,n){this.$scope.colorPickerCallback&&this.$scope.colorPickerCallback.close&&this.$scope.colorPickerCallback.close();return this.$scope.rowLoaderCtrl.fadeIn(0,0,{width:"100%",height:_+"px"}).then(function(){return this.getData(t,n,true,false).then(function(){return this.$scope.rowLoaderCtrl.fadeOut()}.bind(this))}.bind(this))},gotoBlock:function e(t,n,i){var r=this.$scope.scrollApi.getSpliceArgs(),o=this.$scope.items;i&&o.reverse();o.splice.apply(o,r);return this.getData(t,n,true,i)},onGotoNextBlock:function e(t,n){return this.gotoBlock(t,n,false)},onGotoPreviousBlock:function e(t,n){return this.gotoBlock(t,n,true)},onUpdateData:function e(t,n,i){this.updateItems(t,n,i);return this.$timeout(function(){},0,false)},updateItems:function e(t,n,i){var r,o=0,s,a=this.$scope.items,l=t[0].qMatrix,u,c,f,d=this.$scope.colorArray,p=t[0].qArea.qTop,h=t[0].qArea.qHeight;i&&l.reverse();n&&(o=a.length);for(r=0,s=l.length;r<s;++r){a[o+r]||(a[o+r]={});c=a[o+r];u=l[r][0];f=w(this.$scope,u.qText||"",u.qElemNumber,d);c.paletteIcon=f.custom;c.dataRowIx=i?p+h-r-1:p+r;c.enabled=(u.qText||"").length<=y;c.tipText=(u.qText||"").substring(0,y);c.colorStyle={"background-color":f.color,color:q(f.color)};c.color=f.color;c.inEdit=false;this.updateTextItem(c,u)}n||a.splice(r);i&&a.reverse()},updateTextItem:function e(t,n){var i,r=n.qHighlightRanges&&n.qHighlightRanges.qRanges.length||0,o,s,a=n.qText&&n.qText.split("")||[],l=0,u;t.textItems=[];a.length||t.textItems.push({isHighlighted:false,text:""});if(!r){t.textItems.push({isHighlighted:false,text:(n.qText||"").substring(0,y)});return}s=n.qHighlightRanges.qRanges.sort(function(e,t){return e.qCharPos-t.qCharPos});for(i=0;i<r;++i){o=s[i];u=o.qCharPos;u!==l&&t.textItems.push({isHighlighted:false,text:a.splice(0,u-l).join("")});t.textItems.push({isHighlighted:true,text:a.splice(0,o.qCharCount).join("")});l=o.qCharPos+o.qCharCount}a.length&&y-l>0&&t.textItems.push({isHighlighted:false,text:a.splice(0,y-l).join("")})},getData:function e(t,n,i,r){var o={qTop:t,qLeft:0,qWidth:1,qHeight:n};return this.model?this.model.getListObjectData("/qListObjectDef",[o]).then(function(e){return this.onUpdateData(e,i,r)}.bind(this)):l.reject()},release:function e(){if(this.model){this.model.removeListener("changed",this.updateSearch);this.model=null}}});function S(e){var t={title:e,qListObjectDef:{qDef:{}}};a.autoSortDimension(t.qListObjectDef);return t}function E(e){var t;e.mapItem=function(e){t=e;return true};e.openColorPicker=function(){t.inEdit=true};e.closeColorpicker=function(n){var i,r,o;if(n&&n.target.classList.contains("lui-icon--bin")&&"none"!==t.color){r=e.colorArray.length;for(i=0;i<r;i++)if(e.colorArray[i].value===t.tipText){o=w(e,null,t.dataRowIx,e.colorArray).color;e.colorArray.splice(i,1);t.colorStyle={"background-color":o};t.color=o;t.paletteIcon=false;break}}t.inEdit=false;C(e)};e.onColorChange=function(){var n,i=t.tipText,r=null,o=-1,s,a=e.colorArray,l=a.length;for(s=0;s<l;s++)if(a[s].value===i){r=a[s];o=s;break}a.length!==x||"none"===t.color||r||e.blinkWarning();if("none"!==t.color){n={color:t.color.color,index:t.color.index};if(r){r.baseColor=n;t.colorStyle={"background-color":n.color,color:q(n.color)};t.paletteIcon=true}else if(a.length<x){a.push({value:i,baseColor:n});t.colorStyle={"background-color":n.color,color:q(n.color)};t.paletteIcon=true}}else if(o>-1){t.color=w(e,null,t.dataRowIx,a).color;a.splice(o,1);t.colorStyle={"background-color":t.color};t.paletteIcon=false}C(e)}}var D=["$scope",function(e){e.backendApi=null}];e.directive("qvColorMapper",["$timeout","luiPopover",function(e,i){return{restrict:"E",template:t,controller:D,replace:true,require:["qvColorMapper"],scope:{visible:"=",fieldName:"=",dimensionName:"=",usePalette:"=",colorArray:"=",palette:"=",singleColor:"=",hasColors:"="},link:function t(r,o){var s=o.find(".qv-cm-scroll-area"),a=s.controller("qvScrollArea"),l=o.find(".qv-scroll-loader:not(.qv-scroll-row-loader)").controller("qvScrollLoader"),c={blockSize:200,minRowHeight:_,maxRowHeight:_},f,d,p=new b(o,s,"li:not(.qv-cm-load-buttons)","li:not(.qv-cm-load-buttons):first","li:not(.qv-cm-load-buttons):not(.qv-scroll-row-loader):last"),y=true;r.items=[];r.colorPickerCallback={};r.rowLoaderCtrl=s.find(".qv-scroll-row-loader").controller("qvScrollLoader");r.currentPalette=u.currentPalette;r.showOptionsMenu=function(){var e=r,t={template:h,controller:["$scope",function(t){t.enabled=e.hasColors();t.clear=function(){t.enabled&&e.$emit("clearAll")}}],alignTo:o.find(".qv-cm-search")[0],showArrow:false,dock:"bottom"};r.popover=i.show(t);r.popover.closed.then(function(){r.popover=null})};r.warning=false;r.blinkWarning=function(){r.warning=true;e(function(){r.warning=false})};E(r);function x(){if(d&&d.model){r.colorLookup=new m(r.usePalette,r.palette,r.singleColor);d.show()}}function w(){if(r.popover){r.popover.close();r.popover=null}}v.on("start",w);r.$on("$destroy",function(){f&&f.destroy&&f.destroy();r.backendApi&&r.backendApi.abortSearch();d&&d.release();v.off("start",w)});r.$watch("visible",function(t){if(t){if(!y){f.destroy();r.items=[];r.backendApi.abortSearch();d.release()}if(r.fieldName){f=new n(e,c);r.scrollApi=f;d=new g(r,e);f.initialize(p,d,a,l).then(function(){f.activate();f.updateViewport();d.initialize(r.fieldName,r.dimensionName).then(function(){x();y=false})});C(r)}}},false);r.$watchCollection("[palette, singleColor, usePalette, colorArray]",function(){x()})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="qv-color-mapper">\n\t<div qva-direction x-dir-setting="\'ltr\'" class="qv-cm-search">\n\t\t<lui-search class="lui-search__input" query="query" placeholder="Common.Search" />\n\t\t<button ng-class="{\'lui-active\' : popover}" class="lui-fade-button lui-fade-button--large" qva-activate="showOptionsMenu()" tid="clear-all-btn">\n\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--large lui-icon--more"></span>\n\t\t</button>\n\t</div>\n\t<div class="qv-cm-wrapper">\n\t\t<qv-scroll-area class="qv-cm-scroll-area qv-animate" ng-class="{ \'qv-color-mapper-interactive\': !scrollApi.virtualScrollEnabled }" x-direction="\'ltr\'">\n\t\t\t<ul class="qv-cm-color-mapper lui-list" ng-class="{ \'align-bottom\': scrollApi.alignBottomAbsolute }" qva-direction x-dir-setting="\'ltr\'">\n\t\t\t\t<qv-scroll-load-button tag="li" class="qv-cm-load-buttons" ng-show="scrollApi.loadPrevious" on-load="scrollApi.gotoPreviousBlock()" text="Object.Listbox.LoadPrevious" previous="true">\n\t\t\t\t</qv-scroll-load-button>\n\n\t\t\t\t<li ng-repeat="item in items" class="lui-list__item" class="lui-list__item"\n\t\t\t\t\tqv-color-picker-custom-new\n\t\t\t\t\tng-class="{\'lui-active\' : item.inEdit, \'lui-disabled\': !item.enabled}"\n\t\t\t\t\tng-model="item.color"\n\t\t\t\t\tkeep-open="true"\n\t\t\t\t\tdisable-none="false"\n\t\t\t\t\ton-change="onColorChange"\n\t\t\t\t\tpalette="currentPalette"\n\t\t\t\t\textended="true"\n\t\t\t\t\tdock="\'right\'",\n\t\t\t\t\tcallback="colorPickerCallback"\n\t\t\t\t\tqva-activate="item.enabled && mapItem(item) && onClick($event)"\n\t\t\t\t\ton-open="openColorPicker"\n\t\t\t\t\ton-close="closeColorpicker">\n\n\t\t\t\t\t<span class="lui-list__text qv-cm-list-text" ng-attr-title="{{item.tipText}}">\n\t\t\t\t\t\t<span ng-repeat="textItem in item.textItems" ng-class="{ highlighted: textItem.isHighlighted }" ng-bind="textItem.text"></span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div class="lui-list__aside">\n\t\t\t\t\t\t<div class="qv-cm-color-wrap">\n\t\t\t\t\t\t\t<span ng-if="!item.paletteIcon" class="qv-cm-color" ng-class="{\'qv-cm-narrow\' : !item.inEdit, \'qv-cm-wide\': item.inEdit}" ng-style="item.colorStyle"></span>\n\t\t\t\t\t\t\t<span ng-if="item.paletteIcon" class="qv-cm-color qv-cm-wide lui-icon" ng-class="{\'lui-icon--palette\' : !item.inEdit, \'lui-icon--bin\': item.inEdit}" ng-style="item.colorStyle"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\n\t\t\t\t<qv-scroll-loader tag="li" class="qv-scroll-row-loader"></qv-scroll-loader>\n\t\t\t\t<qv-scroll-load-button tag="li" class="qv-cm-load-buttons" ng-show="scrollApi.loadNext" on-load="scrollApi.gotoNextBlock()"\n\t\t\t\t\t\t\t\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t\t\t</ul>\n\t\t</qv-scroll-area>\n\t\t<qv-scroll-loader></qv-scroll-loader>\n\t</div>\n\t<div class="qv-cm-nbr-custom">\n\t\t<div class="qv-cm-custom-wrapper" ng-class="{\'qv-cm-animate-in qv-cm-color-limit-feedback\' : warning, \'qv-cm-animate-out\' : !warning }">\n\t\t\t<span ng-show="colorArray.length === 100" class="lui-icon lui-icon--warning lui-text-warning"></span>\n\t\t\t<span class="lui-text-default" ng-show="colorArray.length > 0" ng-class="{\'lui-text-warning\': colorArray.length === 100}">{{nbrCustom}}</span>\n\t\t\t<span class="lui-text-default" ng-show="colorArray.length === 0" q-translation="library.colors.clickonvalue"></span>\n\t\t</div>\n\t</div>\n</div>\n\n'},function(e,t){e.exports='<lui-popover style="margin-top: -10px">\n\t<lui-popover-body class="lui-nopad">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item lui-list__action" ng-class="{\'lui-disabled\': !enabled}" qva-activate="clear()">\n\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis">\n\t\t\t\t\t<span q-translation="library.colors.clear"></span>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(788),n(789),n(91)],r=function(e,t,n,i){e.directive("schemeInput",function(){var e={borderColor:"#B3B3B3"};var r={borderColor:"#595959"};return{restrict:"E",replace:true,template:t,scope:{palette:"="},link:function t(o,s){o.schemeInputLogic=n.create(o.palette);o.colorBarHeight="7px";o.expanded=false;o.buttonHeight="36px";o.expandedBorder=e;o.pickScheme=function(e,t){o.schemeInputLogic.pickScheme(t);o.palette=t.propertyValue};o.getPaletteViewWidth=function(e){var t=o.schemeInputLogic.getNumberOfPaletteColors(e);return.85*s.width()/t+"px"};o.onClickSchemePicker=function(){o.expanded=!o.expanded;if(o.expanded&&o.schemeInputLogic.getPalettes().length>5){o.buttonHeight="209px";o.expandedBorder=r}else if(o.expanded){o.buttonHeight=38*o.schemeInputLogic.getPalettes().length+"px";o.expandedBorder=r}else{o.buttonHeight="36px";o.expandedBorder=e}};o.close=function(){o.expanded=false;o.buttonHeight="36px";o.expandedBorder=e};o.activateHover=function(){o.expandedBorder=r};o.disableHover=function(){o.expanded||(o.expandedBorder=e)};o.getPaletteName=function(e,t){var n=i.get(e);n||(n=t);return n};o.$watch("palette",function(){if(o.palette&&o.schemeInputLogic.getCurrentPalette().propertyValue!==o.palette){var e=o.schemeInputLogic.getThemePalettes().filter(function(e){return e.propertyValue==o.palette})[0];e||(e=o.schemeInputLogic.getThemePalettes()[0]);o.schemeInputLogic.pickScheme(e)}},true)}}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div qv-enter="onClick($event)" class="lui-popover custom-dimensions-input-button" ng-class="{\'active\':active}" ng-style=" {\'height\' : buttonHeight, \'border-color\' : expandedBorder.borderColor} " ng-mouseenter="activateHover()" ng-mouseleave="disableHover()" qva-outside="close()">\n\t<div ng-if="!expanded" qva-activate="onClickSchemePicker($event)" class="custom-dimensions-selector-wrapper">\n\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemeInputLogic.getCurrentPalette().translation, schemeInputLogic.getCurrentPalette().name)}}</span>\n\t\t<span class="lui-icon lui-icon--small lui-icon--triangle-bottom" style="float: right; margin-top: 7px; margin-right: 8px">\n\t\t</span>\n\t\t<div class="palette-color-wrapper">\n\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemeInputLogic.getCurrentPalette()) track by $index">\n\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemeInputLogic.getCurrentPalette(), $index), \'width\' : getPaletteViewWidth(schemeInputLogic.getCurrentPalette()), \'height\' : colorBarHeight}"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div ng-if="expanded" qva-activate="onClickSchemePicker($event)" class="custom-dimensions-selector-wrapper">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item lui-list__action custom-dimensions-palette-select" q-title-translation="{{schemeInputLogic.getCurrentPalette().translation}}" qva-activate="pickScheme($event, schemeInputLogic.getCurrentPalette())">\n\t\t\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemeInputLogic.getCurrentPalette().translation, schemeInputLogic.getCurrentPalette().name)}}</span>\n\t\t\t\t<div class="palette-color-wrapper">\n\t\t\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemeInputLogic.getCurrentPalette()) track by $index">\n\t\t\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemeInputLogic.getCurrentPalette(), $index), \'width\' : getPaletteViewWidth(schemeInputLogic.getCurrentPalette()), \'height\' : colorBarHeight}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li class="lui-list__item lui-list__action custom-dimensions-palette-select" ng-repeat=" schemePalette in schemeInputLogic.getPalettes()" ng-if="schemePalette != schemeInputLogic.getCurrentPalette()" q-title-translation="{{schemePalette.translation}}" qva-activate="pickScheme($event, schemePalette)">\n\t\t\t\t<span class="lui-list__text palette-text">{{getPaletteName(schemePalette.translation, schemePalette.name)}}</span>\n\t\t\t\t<div class="palette-color-wrapper">\n\t\t\t\t\t<div class="palette-color" ng-repeat="paletteColor in schemeInputLogic.getPaletteScale(schemePalette) track by $index">\n\t\t\t\t\t\t<div ng-style="{\'background-color\' : schemeInputLogic.getPaletteColor(schemePalette, $index), \'width\' : getPaletteViewWidth(schemePalette), \'height\' : colorBarHeight}"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[n(100)],r=function(e){function t(t){var n=r();var i=n.filter(function(e){return e.propertyValue==t})[0];i||(i=n[0]);function r(){var t=[];e.dataPalettes.forEach(function(e){"true"!==e.disabled&&t.push(e)});return t}function o(e,t){if("pyramid"===e.type)return e.scale[e.scale.length-1][t];return e.scale[t]}function s(e,t){var n;n="pyramid"===e.type?e.scale[e.scale.length-1].length:e.scale.length;return.85*t.width()/n+"px"}function a(e){if("pyramid"===e.type)return e.scale[e.scale.length-1];return e.scale}function l(e){return"pyramid"===e.type?e.scale[e.scale.length-1].length:e.scale.length}function u(e){var t=0;for(;t<e.length;t++)if(e[t].propertyValue===i.pal){i=e[t];break}}function c(e){i=e;e.pal=i.propertyValue}function f(){return i}function d(){return n}return{getThemePalettes:r,getPaletteColor:o,getPaletteViewWidth:s,getPaletteScale:a,getNumberOfPaletteColors:l,updatePalette:u,pickScheme:c,getCurrentPalette:f,getPalettes:d}}return{create:function e(n){return new t(n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){function t(t){e.isDirectDiscoveryField(t)&&(t.dimensionDialogMetaData={icon:"direct-discovery",iconTooltip:e.getTypeTranslationKey(t.qTags)})}return{addIconMetaData:t}}return{create:function t(n){return new e(n)}}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(792)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="field-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.displayName ? input.displayName : input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<div ng-if="input.sourceField">\n\t\t\t<h2><span q-translation="library.preview.header.source-field">&nbsp;</span></h2>\n\n\t\t\t<p class="sourcefield">{{input.sourceField}}</p>\n\t\t</div>\n\n\t\t<h2><span q-translation="library.preview.header.table">&nbsp;</span></h2>\n\t\t<ul class="tables">\n\t\t\t<li ng-repeat="table in input.tables">{{table}}</li>\n\t\t</ul>\n\t\t<h2 ng-if="input.typeTranslationKey"><span q-translation="assets.preview.header.fieldtype">&nbsp;</span></h2>\n\n\t\t<p ng-if="input.typeTranslationKey" class="field-type" q-translation="{{input.typeTranslationKey}}">&nbsp;</p>\n\n\t\t<div ng-if="input.calendarTemplateName">\n\t\t\t<h2><span q-translation="{{input.isDerivedFromDate ? \'library.preview.header.calendar-template\' : \'library.preview.header.field-template\'}}">&nbsp;</span></h2>\n\n\t\t\t<p class="calendar-template">{{input.calendarTemplateName}}</p>\n\t\t</div>\n\n\t\t<div ng-if="input.derivedCalendars && input.derivedCalendars.length > 0">\n\t\t\t<h2><span q-translation="{{input.isDateField ? \'library.preview.header.applied-calendars\' : \'library.preview.header.applied-field-templates\'}}">&nbsp;</span></h2>\n\t\t\t<ul class="tables">\n\t\t\t\t<li ng-repeat="cal in input.derivedCalendars">{{cal}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div ng-if="input.isSingleSelectSupported && input.alwaysOneSelected">\n\t\t\t<h2 q-translation="library.preview.singleSelect.header">&nbsp;</h2>\n\t\t\t<ul class="tables">\n\t\t\t\t<li ng-if="input.alwaysOneSelected" q-translation="Common.Enabled">&nbsp;</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(10),n(91),n(126),n(794),n(795)],r=function(e,t,n,i){var r={template:i,controller:["$scope","$q","CalendarMeasuresDialogService",function(i,r,o){i.previewsLoading=false;i.measuresCreating=false;i.aggregations=["Sum","Count","Avg","Min","Max"];i.measureTypes=[];i.viewModel={previewsExpanded:false};i.previewSelectionModel={};i.selectionModel={selectedAggregation:"Sum",selectedDate:void 0,selectedMeasure:void 0,selectedMeasureType:void 0};function s(){var e=o.getDateFields().then(function(e){i.dateFields=e;i.selectedField.isDateField?i.selectionModel.selectedDate=i.dateFields.filter(function(e){return e.qName===i.selectedField.name})[0]:i.dateFields.length?i.selectionModel.selectedDate=i.dateFields[0]:i.missingStateErrorMessage=t.get("Dialog.CalendarFlags.ErrorMessage.NoDateField")});var n=o.getMeasureFields().then(function(e){i.measures=e;i.selectedField.isDateField?i.measures.length?i.selectionModel.selectedMeasure=i.measures[0]:i.missingStateErrorMessage=t.get("Dialog.CalendarFlags.ErrorMessage.NoFields"):i.selectionModel.selectedMeasure=i.measures.filter(function(e){return e.qName===i.selectedField.name})[0]});r.all([e,n]).then(function(){i.initialized=true})}function a(){return o.getAvailableMeasureTypes(i.selectionModel.selectedDate.qName,i.selectionModel.selectedMeasure.qName,i.selectionModel.selectedAggregation).then(function(e){i.measureTypes=[];Object.keys(e).forEach(function(n){e[n]&&i.measureTypes.push({name:t.get("Dialog.CalendarFlags."+n),value:n})});if(i.measureTypes.length>0)if(i.selectionModel.selectedMeasureType){var n=i.measureTypes.filter(function(e){return e.value===i.selectionModel.selectedMeasureType.value});n.length>0&&(i.selectionModel.selectedMeasureType=n[0])}else i.selectionModel.selectedMeasureType=i.measureTypes[0];else i.selectionModel.selectedMeasureType=void 0})}i.createMasterMeasures=function(){var e=i.previewMeasures.filter(function(e){return i.previewSelectionModel[e.name].selected&&!e.alreadyExists});i.measuresCreating=true;o.createMasterItems(i.selectionModel.selectedDate.qName,i.selectionModel.selectedMeasure.qName,i.selectionModel.selectedAggregation,i.selectionModel.selectedMeasureType.value,e).finally(function(){i.measuresCreating=false;l();i.assets&&i.assets.openSection(n.sectionIDs.measure)})};i.isAddToMasterLibraryEnabled=function(){return!i.measuresCreating&&i.previewMeasures&&i.previewMeasures.some(function(e){return i.previewSelectionModel[e.name].selected&&!e.alreadyExists})};i.$watch("selectionModel",function(n,r){if(i.missingStateErrorMessage||!i.initialized)return;if(e.equals(n,r))return;var o=n.selectedMeasureType;a().then(function(){if(0===i.measureTypes.length){i.previewMeasures=[];i.inlineErrorMessage=t.get("Dialog.CalendarFlags.ErrorMessage.NoTimeCycleFlags")}else o&&l()})},true);var l=function e(){i.previewsLoading=true;o.getMasterMeasures(i.selectionModel.selectedDate.qName,i.selectionModel.selectedMeasure.qName,i.selectionModel.selectedAggregation,i.selectionModel.selectedMeasureType.value).then(function(e){i.previewMeasures=e.measures;i.previewMeasures.forEach(function(e){i.previewSelectionModel[e.name]||(i.previewSelectionModel[e.name]={selected:true})})}).finally(function(){i.previewsLoading=false})};var u=function e(){i.destroyComponent()};i.cancel=function(){u()};i.addToMaster=function(){u()};s()}]};return{component:r}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog id="calendar-measures-dialog">\n\t<lui-dialog-header q-translation="Dialog.CalendarFlags.Title"></lui-dialog-header>\n\t<lui-dialog-body>\n\n\t\t<qv-spinner class="spinner" show="!initialized" show-delay="100" show-for-at-least="300" spinner-height="250px" spinner-width=250px" center-in-parent="true"></qv-spinner>\n\n\t\t<div class="body error-message" ng-if="initialized && missingStateErrorMessage">\n\t\t\t{{missingStateErrorMessage}}\n\t\t</div>\n\n\t\t<div class="body" ng-if="initialized && !missingStateErrorMessage">\n\n\t\t\t<div class="left-side">\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.DateField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedDate" x-options="field as field.qName for field in dateFields"></lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.AggregatedField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedMeasure" x-options="field as field.qName for field in measures">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.AggregationField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedAggregation" x-options="aggregation as aggregation for aggregation in aggregations">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="section">\n\t\t\t\t\t<label class="lui-label" q-translation="Dialog.CalendarFlags.TimeCycleField"></label>\n\t\t\t\t\t<lui-select x-model="selectionModel.selectedMeasureType" x-disabled="measureTypes.length === 0" x-options="measureType as measureType.name for measureType in measureTypes">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="right-side">\n\n\t\t\t\t<div class="details-toggle-container">\n\t\t\t\t\t<div class="details-toggle-container-left-side">\n\t\t\t\t\t\t<div class="preview-title" q-translation="Dialog.CalendarFlags.PreviewMeasuresTitle"></div>\n\t\t\t\t\t\t<div class="details-text" ng-if="!viewModel.previewsExpanded" q-translation="Dialog.CalendarFlags.PreviewDetailsOff"></div>\n\t\t\t\t\t\t<div class="details-text" ng-if="viewModel.previewsExpanded" q-translation="Dialog.CalendarFlags.PreviewDetailsOn"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<lui-switch x-model="viewModel.previewsExpanded"></lui-switch>\n\t\t\t\t</div>\n\n\t\t\t\t<div style="position: relative; flex: 1">\n\t\t\t\t\t<qv-spinner class="spinner" show="previewsLoading || measuresCreating" show-delay="200" show-for-at-least="1000" spinner-height="150px" spinner-width="150px" center-in-parent="true"></qv-spinner>\n\n\t\t\t\t\t<div class="measure-container qv-animate" ng-hide="previewsLoading">\n\t\t\t\t\t\t<div ng-repeat="measure in previewMeasures" class="measure">\n\t\t\t\t\t\t\t<lui-checkbox x-model="previewSelectionModel[measure.name].selected" ng-if="!measure.alreadyExists" title="{{measure.name}}">{{measure.name}}</lui-checkbox>\n\t\t\t\t\t\t\t<div class="label" ng-if="measure.alreadyExists" title="{{measure.name}}">\n\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--tick checkmark"></span>\n\t\t\t\t\t\t\t\t<lui-label>{{measure.name}}</lui-label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input class="lui-input measure-preview" ng-model="measure.expr" readonly="true" title="{{measure.expr}}" ng-if="viewModel.previewsExpanded"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div ng-if="inlineErrorMessage && previewMeasures.length === 0" class="inline-error">\n\t\t\t\t\t\t{{inlineErrorMessage}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\n\n\t\t\t\t<lui-button class="create-measure-button" ng-click="createMasterMeasures()" q-translation="Dialog.CalendarFlags.SaveToMasterItems" tid="add_to_master" ng-disabled="!isAddToMasterLibraryEnabled()"></lui-button>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="cancel()" q-translation="Common.Close" tid="close"></lui-button>\n\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(93),n(144),n(183),n(90),n(182)],r=function(e,t,n,i,r,o){e.service("CalendarMeasuresDialogService",[function(){var e={};var s;function a(){s||(s=i.getApi("api/dataprepservice/v1","openapi",void 0,void 0,void 0,void 0,o.getServerNodeId()));return s}function l(e,t,n,i,o,s){return a().then(function(a){if(a&&a.apis.assets)return a.apis.assets.generateAssets({appId:r.getParameterByName("app"),body:{topic:"timeCycleAnalysis",calendarField:e,measure:{field:t,aggr:n},addOnly:s,addToLibrary:o,assetTypes:i}}).then(function(e){return e.body.response})})}e.getAvailableMeasureTypes=function(e,t,n){return l(e,t,n,["measuresYearly","measuresMonthly","measuresQuarterly","measuresWeekly"],false).then(function(e){return e.hasPrerequisites})};e.getMasterMeasures=function(e,t,n,i){return l(e,t,n,[i],false)};e.createMasterItems=function(e,t,n,i,r){return l(e,t,n,[i],true,r)};function u(){return t.getApp().then(function(e){return e.getFieldList().then(function(e){return n.expand(e)})})}e.getDateFields=function(){return u().then(function(e){return e.filter(function(e){return e.qDerivedFieldData})})};e.getMeasureFields=function(){return u().then(function(e){return e.filter(function(e){return!e.qDerivedFieldData&&!e.isDerivedFromDate})})};return e}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(797),n(798),n(799),n(94),n(91),n(145),n(211),n(241)],r=function(e,t,n,i,r,o){var s;var a=function e(t){function a(){t.singleSelectNotEditable=false;t.singleSelectTitle=o.get("field.settings.dialog.singleSelect.label");t.confirmLabel=t.confirmLabel||"Common.Save";t.fieldSettingsTitle=o.get("field.settings.dialog.title");i.fetchAndExtendSettings(t.app,t.fieldName,t.fieldSettings);t.singleSelectErrorTranslation=null}function l(e,i){t.fieldSettings.alwaysOneSelected=!i;t.singleSelectNotEditable=true;var r=(i?"A":"D")+"-"+e;var s=n.getErrorCodeTranslation(r);t.singleSelectErrorTranslation=s;t.singleSelectTitle=o.get(s)}a();t.cancel=function(){s.closed.then(function(){t.destroyComponent()});s.close()};t.confirm=function(){if(n.validate(t)){var e=n.getFormData(t);var r=e.alwaysOneSelected;i.applySingleSelect(t.app,t.fieldName,r).then(function(e){e.success?t.app.global.getConfiguration().then(function(e){e.qFeatures.qAutoSave&&t.app.doSave();s.close()}):l(e.code,r)})}};r.StateChanged.bind(t.cancel);t.$on("$destroy",function(){r.StateChanged.unbind(t.cancel)})};var l={scope:{},template:t,controller:["$scope",a]};function u(t){var n={title:t.name,fieldName:t.name,app:t.app,fieldSettings:{description:t.description,descriptionExpression:t.descriptionExpression,alwaysOneSelected:t.alwaysOneSelected,preSelectExpression:t.preSelectExpression}};s=e.getService("luiDialog").show({template:l.template,controller:l.controller,input:n,closeOnOutside:false,showArrow:false});return s}return{show:u,controller:a}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n\n<div class="lui-dialog field-settings-dialog-wrapper" name="fieldSettingsDialog" style="width: 440px;" data-tid="field-settings-dialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title">{{fieldSettingsTitle}}</div>\n\t</div>\n\t<div class="lui-dialog__body">\n\n\t\t\x3c!-- Description - TODO: To be added later --\x3e\n\t\t\x3c!-- <div class="field-settings-component">\n\t\t\t<label q-translation="metadata.description" class="qv-metadatalabel">Description:</label>\n\t\t\t<qv-description-textarea\n\t\t\t\tdescription="fieldSettings.description"\n\t\t\t\tdescription-expression="fieldSettings.descriptionExpression"\n\t\t\t\tng-disabled="true"\n\t\t\t\tis-valid="validity.descriptionExpression">\n\t\t\t</qv-description-textarea>\n\t\t</div> --\x3e\n\n\t\t\x3c!-- TODO: Checkbox with Always-one-selected --\x3e\n\t\t\n\t\t<div class="field-settings-component">\n\t\t\t<h1>{{fieldName}}</h1>\n\t\t\t<label class="lui-checkbox" title="{{singleSelectTitle}}">\n\t\t\t\t<input class="lui-checkbox__input" type="checkbox" ng-model="fieldSettings.alwaysOneSelected" tid="always-one-selected" ng-change="change()" ng-disabled="readOnly || fieldSettings.isFetching || singleSelectNotEditable">\n\t\t\t\t<div class="lui-checkbox__check-wrap">\n\t\t\t\t\t<span class="lui-checkbox__check"></span>\n\t\t\t\t\t<span class="lui-checkbox__check-text label" \n\t\t\t\t\t\tng-disabled="readOnly" \n\t\t\t\t\t\tq-translation="field.settings.dialog.singleSelect.label">\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<div ng-if="singleSelectErrorTranslation" class="error">\n\t\t\t\t<span q-translation="{{singleSelectErrorTranslation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="hint" q-translation="field.settings.dialog.singleSelect.disclaimer"></div>\n\n\t\t</div>\n\n\t\t\x3c!-- Pre-selection expression - TODO: To be added later --\x3e\n\t\t\x3c!-- <div class="field-settings-component">\n\t\t\t<qv-expression-input ng-disabled="true" label-translation="Pre-Selection" expression="fieldSettings.preSelectExpression" is-valid-expression="validity.preSelectExpression"></qv-expression-input>\n\t\t</div> --\x3e\n\n\t</div>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" qva-activate="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" qva-activate="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn" ng-disabled="singleSelectNotEditable"></button>\n\t</div>\n</div>'},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){return{validate:e,getFormData:t,getErrorCodeTranslation:n};function e(){return true}function t(e){return{alwaysOneSelected:e.fieldSettings.alwaysOneSelected}}function n(e){var t={1:"field.settings.dialog.singleSelect.error.unknown","A-2":"field.settings.dialog.singleSelect.error.activateNoSelectableValue","A-3":"field.settings.dialog.singleSelect.error.activateSelectableValueFailed","A-4":"field.settings.dialog.singleSelect.error.activateSetFieldProps","D-4":"field.settings.dialog.singleSelect.error.deactivateSetFieldProps"};var n=t["1"];return t[e]||n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(142),n(141),n(90),n(89),n(49)],r=function(e,t,n,i,r){var o={ERROR_NO_SELECTABLE_VALUE:2,ERROR_COULD_NOT_SELECT_VALUE:3,ERROR_COULD_NOT_SET_FIELD_PROPS:4};return{applySingleSelect:h,fetchAndExtendSettings:a};function s(t,n){var i={};return e.isSingleSelect(t,n).then(function(e){i.alwaysOneSelected=e;return i})}function a(e,t,i){i.isFetching=true;return s(e,t).then(function(e){return n.extend(true,i,e)}).finally(function(){delete i.isFetching})}function l(e,n,i){var r=1;return t.createTransientField(e.app,n,{qStateName:i}).then(function(e){var t="/qListObjectDef";var n={qTop:0,qLeft:0,qWidth:1,qHeight:r};return e.getListObjectData(t,[n]).then(function(e){var t=e[0].qMatrix;var n=t[0][0];return n.qElemNumber})})}function u(e,t,n){var i=true;return l(e,t,n).then(function(t){if("number"===typeof t)return e.clear().then(function(){return e.lowLevelSelect([t],false,i).then(function(e){if(!e)return{success:false,code:o.ERROR_COULD_NOT_SELECT_VALUE};return{success:true}}).catch(function(){return{success:false,code:o.ERROR_COULD_NOT_SELECT_VALUE}})});return{success:false,code:o.ERROR_NO_SELECTABLE_VALUE}}).catch(function(){return{success:false,code:o.ERROR_NO_SELECTABLE_VALUE}})}function c(e,t){return e.setNxProperties(t).then(function(){return{success:true}}).catch(function(){return{success:false,code:o.ERROR_COULD_NOT_SET_FIELD_PROPS}})}function f(e){return e.getAppLayout().then(function(e){return["$"].concat(e.qStateNames)})}function d(e){e=e||[];var t=e.reduce(function(e,t){var n=i.resolve(e);return n.then(function(){return t()})},i.resolve());return t}function p(e,t,n,i){return e.getField(t,n).then(function(e){return e.getNxProperties().then(function(r){var o=r.qOneAndOnlyOne;if(!o&&true===i)return u(e,t,n).then(function(t){if(true===t||t.success){r.qOneAndOnlyOne=i;return c(e,r)}return t});r.qOneAndOnlyOne=i;return c(e,r)})})}function h(e,t,n,o){o=o||false;if("boolean"!==typeof n)return i.resolve({success:false});function s(i){if(!i.success&&!o)return h(e,t,!n,i.code);return{success:!o&&i.success,code:o||i.code,reverted:!!o&&i.success}}if(r.getFlag("ALT_STATE_ONE"))return f(e).then(function(i){var r=i.map(function(i){return function(){return p(e,t,i,n)}});return d(r).then(s)});return p(e,t,void 0,n).then(s)}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(94),n(126),n(136),n(112),n(149),n(137),n(194),n(107),n(90),n(269),n(134),n(106),n(357),n(358),n(111),n(174)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h){function v(e){var t="";"N"===e?t="Common.Single":"H"===e&&(t="library.preview.dimensiontype.drilldown");return t}function m(e){var t=e.qFieldDefs[0];return"N"===e.qGrouping&&!!t&&"="===t.charAt(0)}function g(t){f.remove(t.id).then(function(){e.getService("qvColorMapService").deleteColorMap(t.id).then(function(){e.$rootScope.$emit("clearUndo")})})}function b(e){var t=new c;t.edit(e.id)}function y(e){r.addItemToSheetOrVisualization(e)}function x(e){r.hasLinks(e.id,f).then(function(t){var n="Dimension.EditWarning.Text";t?r.editDialog(n,function(){b(e)}):b(e)})}function _(e){r.hasLinks(e.id,f).then(function(t){var n=t?"Dimension.Master.DeleteWarning.Text":"Dimension.Master.DeleteWarning.Unused.Text";r.removeDialog(n,function(){g(e)})})}function w(t){f.getListLayout().then(function(n){var i=n.map(function(e){return e.qData.title});f.get(t.id).then(function(n){n.app.cloneDimension(t.id).then(function(r){n.app.getDimension(r).then(function(n){n.getProperties().then(function(r){var o=a.generateUniqueName(i,t.name);o=u.crop(o,l.name);r.qMetaDef.title=o;r.qDim.title=o;if(r.qDim.coloring&&r.qDim.coloring.colorMapRef){var s=e.getService("qvColorMapService");r.qDim.coloring.colorMapRef=r.qInfo.qId;s.getColorMap(t.id).then(function(e){e&&s.setColorMap(r.qInfo.qId,e)})}n.setProperties(r).then(function(){e.$rootScope.$emit("clearUndo")})})})})})})}return i.extend({init:function e(){this.list=[];this.id=n.sectionIDs.dimension;this.name="dimension";this.title="Common.Dimensions";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=r.permissionToCreate("dimension")},addId:"addDimension",addText:"Dimension.Toolbox.CreateButton",addAction:function e(){var t=new c;t.add(null)},initLoadData:function e(){f.getList().then(function(e){this.$scope.listModel=e}.bind(this));d(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var n=this;function i(e){var t=e.item;var i=e.modelInfo;var s=o.getBasePreviewInfo(e);s.description=i.layout.qDim.descriptionExpression||i.properties.qMetaDef.description;s.typeTranslationKey=v(i.properties.qDim.qGrouping);s.isSingleExpression=m(i.properties.qDim);s.fields=i.properties.qDim.qFieldDefs;s.labelExpression=i.layout.qDim.qLabelExpression;s.labelExpressionDef=i.properties.qDim.qLabelExpression;s.qId=i.properties.qInfo.qId;i.properties.qDim.coloring&&(s.baseColor=i.properties.qDim.coloring.baseColor);s.buttons=[o.buttonAddTo(y,e.closePreview,t,r.getAddToText(),r.isAddToMode())];n.allowAdd&&s.buttons.push(o.buttonDuplicate(w,e.closePreview,t));t.permissions.update&&s.buttons.push(o.buttonEdit(x,e.closePreview,t));t.permissions.remove&&s.buttons.push(o.buttonDelete(_,e.closePreview,t));s.close=e.closePreview;o.alignPreview(s,e.$element);return h.show(s)}this.previewManager=o.previewManagerFactory({getSlowInfo:function e(t){return o.getItemInformation(f,t.id)},createPreview:i,itemDialogHandler:s,State:t})},onLoadData:function e(t){this.loading=false;t=p.create(t);this.list=r.localeOrderBy(t,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;r.removeSelection(t);this.previewManager.close();return t.filter(function(e){return r.libraryMultiSearch(e,n,["name","secondaryName","tags"])})},openContextMenu:function t(n,i){var o=e.getService("qvContextMenu").menu();r.isAddToMode()&&o.addItem({translation:r.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){y(n)}});n.permissions&&n.permissions.update&&o.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){x(n)}});this.allowAdd&&o.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){w(n)}});n.permissions&&n.permissions.remove&&o.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){_(n)}});s.openContextMenu(o,n,i)},addItemToSheetOrActiveObject:function e(t){y(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="dimension-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title" title="{{input.name}}">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<h2><span q-translation="library.preview.header.type"></span></h2>\n\t\t<p class="no-scroll" q-translation="{{input.typeTranslationKey}}" tid="preview-dimension-type"></p>\n\n\t\t<h2><span q-translation="library.preview.header.fields"></span></h2>\n\t\t<ul class="fields" ng-class="{ \'single-expression\': input.isSingleExpression }">\n\t\t\t<li ng-repeat="field in input.fields" title="{{field}}">{{field}}</li>\n\t\t</ul>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression"></span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t\t<div ng-if="color">\n\t\t\t<h2><span q-translation="library.colors.dimensioncolor"></span></h2>\n\t\t\t<div class="color-row">\n\t\t\t\t<div class="color" ng-style="{\'background-color\': color}"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="valueColors.length">\n\t\t\t<h2><span q-translation="library.colors.valuecolors"></span></h2>\n\t\t\t<div class="color-row" tid="val-cols">\n\t\t\t\t<div ng-repeat="valcolors in valueColors track by $index" class="color" ng-style="{\'background-color\': valcolors, \'width\': previewColorViewWidth}">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag.name}}">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(100),n(174)],r=function(e){var t=[];function n(n){t=[];if(n.usePal)n.colors.length?t=n.colors.map(function(t){return e.resolveColor(t.baseColor)}):e.dataPalettes.forEach(function(e){e.propertyValue===n.pal&&(t="pyramid"===e.type?t.concat(e.scale[e.scale.length-1]):t.concat(e.scale))});else if(n.single&&"none"!==n.single.color){t.push(e.resolveColor(n.single));if(n.colors){var i=n.colors.map(function(t){return e.resolveColor(t.baseColor)});t=t.concat(i)}}else n.colors&&(t=n.colors.map(function(t){return e.resolveColor(t.baseColor)}));return t}function i(e){return 0!==e.length?100/e.length+"%":0}return{getColors:n,getPreviewColorViewWidth:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(94),n(126),n(136),n(112),n(149),n(137),n(194),n(107),n(90),n(217),n(147),n(106),n(804),n(805),n(111)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h){function v(e){c.editMeasure(e.id)}function m(e){f.remove(e.id)}function g(e){r.addItemToSheetOrVisualization(e)}function b(e){r.hasLinks(e.id,f).then(function(t){var n="Measure.Master.EditWarning.Text";t?r.editDialog(n,function(){v(e)}):v(e)})}function y(e){r.hasLinks(e.id,f).then(function(t){var n=t?"Measure.Master.DeleteWarning.Text":"Measure.Master.DeleteWarning.Unused.Text";r.removeDialog(n,function(){m(e)})})}function x(e){f.getListLayout().then(function(t){var n=t.map(function(e){return e.qData.title});f.get(e.id).then(function(t){t.app.cloneMeasure(e.id).then(function(e){return t.app.getMeasure(e)}).then(function(t){t.getProperties().then(function(i){var r=a.generateUniqueName(n,e.name);r=u.crop(r,l.name);i.qMetaDef.title=r;i.qMeasure.qLabel=r;t.setProperties(i)})})})})}return i.extend({init:function e(){this.list=[];this.id=n.sectionIDs.measure;this.name="measure";this.title="Common.Measures";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=r.permissionToCreate("measure")},addId:"addMeasure",addText:"Measure.Toolbox.CreateButton",addAction:function e(){c.addMeasure(null)},initLoadData:function e(){f.getList().then(function(e){this.$scope.listModel=e}.bind(this));d(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var n=this;function i(e){var t=e.item;var i=e.modelInfo;var s=o.getBasePreviewInfo(e);s.description=i.layout.qMeasure.descriptionExpression||i.properties.qMetaDef.description;s.expression=i.properties.qMeasure.qDef;s.labelExpression=i.properties.qMeasure.qLabelExpression;s.labelExpression=i.layout.qMeasure.qLabelExpression;s.labelExpressionDef=i.properties.qMeasure.qLabelExpression;s.baseColor=i.properties.qMeasure.coloring?i.properties.qMeasure.coloring.baseColor:i.properties.qMeasure.baseColor;s.qId=i.properties.qInfo.qId;s.buttons=[o.buttonAddTo(g,e.closePreview,t,r.getAddToText(),r.isAddToMode())];n.allowAdd&&s.buttons.push(o.buttonDuplicate(x,e.closePreview,t));t.permissions.update&&s.buttons.push(o.buttonEdit(b,e.closePreview,t));t.permissions.remove&&s.buttons.push(o.buttonDelete(y,e.closePreview,t));s.close=e.closePreview;o.alignPreview(s,e.$element);return h.show(s)}this.previewManager=o.previewManagerFactory({getSlowInfo:function e(t){return o.getItemInformation(f,t.id)},createPreview:i,itemDialogHandler:s,State:t})},onLoadData:function t(n){this.loading=false;e.$rootScope.$emit("clearUndo");n=p.create(n);this.list=r.localeOrderBy(n,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;r.removeSelection(t);this.previewManager.close();return t.filter(function(e){return r.libraryMultiSearch(e,n,["name","secondaryName","tags"])})},openContextMenu:function t(n,i){var o=e.getService("qvContextMenu").menu();r.isAddToMode()&&o.addItem({translation:r.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){g(n)}});n.permissions&&n.permissions.update&&o.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){b(n)}});this.allowAdd&&o.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){x(n)}});n.permissions&&n.permissions.remove&&o.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){y(n)}});s.openContextMenu(o,n,i)},addItemToSheetOrActiveObject:function e(t){g(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(49),n(157)],r=function(e,t){function n(e){var t={};t.permissions=e.permissions;t.name=e.qData.title;t.secondaryName=e.qData.labelExpression||"";t.type=e.qInfo.qType;t.id=e.qInfo.qId;t.getDropOption=r.bind(null,t);t.tags=e.qData.tags;return t}function i(e){return{id:"newObject",args:{template:"kpi",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[{qLibraryId:e.id,qDef:{autoSort:true,numFormatFromTemplate:true,conditionalColoring:{useConditionalColoring:false,singleColor:3,segments:{limits:[],colors:[{color:2}]}},measureAxis:{min:0,max:100},qNumFormat:{}},qSortBy:{qSortByLoadOrder:1,qSortByNumeric:-1}}],qInterColumnSortOrder:[0]}}}}}function r(n,r,o){if(e.getFlag("DISABLE_AUTO_CHART")||t.isVariableDefined("DISABLE_AUTO_CHART"))return i(n);if(o&&o.shiftKey)return i(n);return{id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qMeasures:[{qLibraryId:n.id}],qInterColumnSortOrder:[0]},showTitles:false}}}}var o={create:function e(t){return t.map(function(e){return n(e)})}};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(806),n(100),n(174)],r=function(e,t,n){function i(i){var r={template:t,controller:["$scope",function(t){t.input=i;i.baseColor&&i.baseColor.color&&(t.color=n.resolveColor(i.baseColor));t.showLabelExpression=!!t.input.labelExpression;t.showLabelExpressionDef=!!t.input.labelExpressionDef;var r=e.getService("qvColorMapService"),o=e.getService("qvRecentGradientsService");r.getMeasureGradient(t.input.qId).then(function(e){if(e){t.gradient=e;t.gradientColors=e.colors.map(function(e){return n.resolveColor(e)});t.gradientLimits="absolute"===e.limitType?o.convertAbsLimits(e.limits):e.limits.slice()}})}],dock:"right",alignTo:i.alignTo[0]};return e.getService("luiPopover").show(r)}return{show:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="measure-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title" title="{{input.name}}">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<h2><span q-translation="library.preview.header.expression">&nbsp;</span></h2>\n\t\t<p class="expression">{{input.expression}}</p>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression">&nbsp;</span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t\t<div ng-if="color">\n\t\t\t<h2><span q-translation="library.colors.measurecolor">&nbsp;</span></h2>\n\t\t\t<div class="color" ng-style="{\'background-color\': color}"></div>\n\t\t</div>\n\n\t\t<div ng-if="gradient">\n\t\t\t<h2><span q-translation="library.colors.segmentColors">&nbsp;</span></h2>\n\t\t\t<div class="color" qv-color-scheme-display colors="gradientColors" types="gradient.breakTypes" limits="gradientLimits"></div>\n\t\t</div>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2><span q-translation="Common.Tags">&nbsp;</span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }" title="{{tag.name}}">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(95),n(94),n(126),n(136),n(112),n(149),n(137),n(194),n(107),n(90),n(128),n(131),n(115),n(314),n(106),n(808),n(49),n(111)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m,g){function b(){var e=this;return{id:"newObject",args:{template:e.visualization,init:{qExtendsId:e.id}}}}function y(e){var t=p.getType(e);return t?t.getLibraryInfo().icon:"toolbar-help"}function x(e){var t=e.qData.visualization;return{id:e.qInfo.qId,name:e.qData.name,secondaryName:e.qData.labelExpression||"",tags:e.qData.tags,visualization:t,getDropOption:b,icon:y(t),type:"visualization",permissions:{update:e.permissions.update,remove:e.permissions.remove,publish:e.permissions.publish}}}function _(e){f.editMaster(e.id,e.visualization)}function w(e){h.remove(e.id)}function q(e,t){return o.hasLinks(e,t)}function C(e){t.publish("/ui/library/addToSheet",{item:e})}function S(e){q(e.id,h).then(function(t){var n="Object.Master.EditWarning.Text";t?o.editDialog(n,function(){_(e)}):_(e)})}function E(e){q(e.id,h).then(function(t){var n=t?"Object.Master.DeleteWarning.Text":"Object.Master.DeleteWarning.Unused.Text";o.removeDialog(n,function(){w(e)})})}function D(e){h.getList().then(function(t){t.getLayout().then(function(t){var n=t.map(function(e){return e.qData.name});h.get(e.id).then(function(t){var i=t.app;i.cloneObject(t.id).then(function(t){i.getObject(t).then(function(t){t.getProperties().then(function(i){var r=l.generateUniqueName(n,e.name);r=c.crop(r,u.name);i.qMetaDef.title=r;t.setProperties(i)})})})})})})}function O(e,t){for(var n=0;n<e.length;++n)e[n].disabled=e[n].id===t}return r.extend({init:function e(){this.list=[];this.id=i.sectionIDs.visualization;this.name="visualization";this.title="library.Visualizations";this._super.apply(this,arguments);this.initPreviewManager();this.allowDuplicate=o.permissionToCreate("visualization");this.$scope.stageState=d;this.$scope.$watch("stageState.selectedObject",function(e){e&&"gridCell"===e.type?O(this.list,e&&e.id):O(this.list,null)}.bind(this))},initLoadData:function e(){h.getList().then(function(e){this.$scope.listModel=e}.bind(this));v(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){var i=this;function r(e){var n=e.item;var r=e.modelInfo;var a=s.getBasePreviewInfo(e);a.description=r.layout.descriptionExpression||r.properties.qMetaDef.description;a.labelExpression=r.layout.labelExpression;if(r.properties.labelExpression){var l=c.getValue(r.properties,"labelExpression.qStringExpression.qExpr","");l.length&&"="!==l[0]&&(l="="+l);a.labelExpressionDef=l}a.model=r.model;a.options={isReadonly:true,isPopover:true,navigation:false,selections:false};a.buttons=[s.buttonAddToSheet(C,e.closePreview,n,o.isAddToSheetMode())];i.allowDuplicate&&a.buttons.push(s.buttonDuplicate(D,e.closePreview,n));n.permissions.update&&a.buttons.push(s.buttonEdit(S,e.closePreview,n));n.permissions.remove&&a.buttons.push(s.buttonDelete(E,e.closePreview,n));g.getFlag("SINGLE_CONFIG")&&a.buttons.push(s.buttonEmbed(function(){t.publish("/embed-dialog/open",{type:"object",objectId:n.id})},e.closePreview,n));a.close=e.closePreview;s.alignPreview(a,e.$element);return m.show(a)}this.previewManager=s.previewManagerFactory({getSlowInfo:function e(t){return s.getItemInformation(h,t.id)},createPreview:r,itemDialogHandler:a,State:n})},onLoadData:function t(i){this.loading=false;n.view!==n.Views.masterObject&&e.$rootScope.$emit("clearUndo");i=i.filter(function(e){return!!e.qData.name});i=i.map(x);var r=d.selectedObject;r&&"gridCell"===r.type&&O(i,r&&r.id);this.list=o.localeOrderBy(i,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;o.removeSelection(t);this.previewManager.close();return t.filter(function(e){return o.libraryMultiSearch(e,n,["name","secondaryName","tags"])})},openContextMenu:function n(i,r){var s=e.getService("qvContextMenu").menu();o.isAddToMode()&&s.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){C(i)}});i.permissions&&i.permissions.update&&s.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){S(i)}});this.allowDuplicate&&s.addItem({translation:"Common.Duplicate",tid:"duplicate-master",select:function e(){D(i)}});i.permissions&&i.permissions.remove&&s.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){E(i)}});g.getFlag("SINGLE_CONFIG")&&s.addItem({translation:"contextMenu.embed",tid:"120694",select:function e(){t.publish("/embed-dialog/open",{type:"object",objectId:i.id})}});a.openContextMenu(s,i,r)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(809)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n;e.showLabelExpression=!!e.input.labelExpression;e.showLabelExpressionDef=!!e.input.labelExpressionDef}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="object-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p ng-if="showLabelExpression" class="label-expression" qve-highlight text="{{input.labelExpression}}" query="input.query"></p>\n\n\t\t<div class="object">\n\t\t\t<qv-object model="input.model" options="input.options"></qv-object>\n\t\t\t<qv-transparent-overlay></qv-transparent-overlay>\n\t\t</div>\n\n\t\t<p class="description">{{input.description}}</p>\n\n\t\t<div ng-if="input.tags.length">\n\t\t\t<h2 class="tags-title"><span q-translation="Common.Tags"></span></h2>\n\t\t\t<ul class="tags">\n\t\t\t\t<li ng-repeat="tag in input.tags" class="lui-tag" ng-class="{ \'lui-matched\': tag.matching }">{{tag.name}}</li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div ng-if="showLabelExpressionDef">\n\t\t\t<h2><span q-translation="library.preview.header.labelExpression"></span></h2>\n\t\t\t<p class="label-expression-def">{{input.labelExpressionDef}}</p>\n\t\t</div>\n\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(48),n(95),n(94),n(136),n(149),n(137),n(504),n(156),n(112),n(811),n(318),n(319),n(111)],r=function(e,t,n,i,r,o,s,a,l,u,c,f){function d(e){n.publish("/ui/library/addToSheet",{item:e});return e}function p(e){this.item=e;this.id=e.id;this.name=e.name;this.type="template";this.template="widget";this.init={templateId:this.id};this.icon=f.getIcon(e.meta.type)}p.prototype.getDropOption=function(){var e=this.init.templateId;var t=a.getDefinition(this.item);var n=l.mapProperties(t,{templateId:e},e);n.widgetMeta={libid:this.item.libid,name:this.item.name};var i={id:"newObject",args:{template:"widget",init:n}};return i};return r.extend({init:function t(){this.list=[];this.id="some_id";this.name="qwidget";this.title="Widgets";this.stageScope=e("div.qv-panel-stage").scope();this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=false;this.infoExpanded=false;this.hasMetaInfo=true},addId:"addWidget",addText:"Create Widget",addAction:function e(){this.stageScope.enableWidget=true;this.stageScope.enableSheet=false},initPreviewManager:function e(){function t(e){var t=e.item;var n={query:e.query,name:t.name,description:t.item.description||t.item.meta.description,imageUrl:t.previewIconURL,hasImage:!!t.previewIconURL,icon:f.getIcon(t.item.meta.type)};n.buttons=[o.buttonAddToSheet(d,e.closePreview,t,u.isAddToSheetMode())];n.close=e.closePreview;o.alignPreview(n,e.$element);return c.show(n)}this.previewManager=o.previewManagerFactory({createPreview:t,itemDialogHandler:s,State:i})},onLoadData:function e(t){this.loading=false;var n=[];t.forEach(function(e){n.push(new p(e))});this.list=u.localeOrderBy(n,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;return t.filter(function(e){return u.librarySearchFn(e,n)})},openContextMenu:function e(n,i){if(u.isAddToMode()){var r=t.getService("qvContextMenu").menu();r.addItem({translation:"contextMenu.addToSheet",tid:"add-to-sheet",select:function e(){d(n)}});s.openContextMenu(r,n,i)}},addItemToSheetOrActiveObject:function e(t){u.itemDblClickHandler(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(812)],r=function(e,t){function n(n){var i={template:t,controller:["$scope",function(e){e.input=n}],dock:"right",alignTo:n.alignTo[0]};return e.getService("luiPopover").show(i)}return{show:n}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="widget-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<div ng-show="input.hasImage" class="template-image-container">\n\t\t\t<img ng-src="{{input.imageUrl}}">\n\t\t</div>\n\t\t<i ng-show="!input.hasImage" class="template-icon  lui-icon  lui-icon--{{input.icon}}"></i>\n\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\n\t\t<p class="description">{{input.description}}</p>\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="{{button.disabled}}" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>\n\n'},function(e,t,n){"use strict";var i,r;!(i=[n(11),n(814),n(96)],r=function(e,t,n){var i,r=500;function o(e){return e.is("input:not([type=radio]):not([type=checkbox]), textarea:not([readonly])")&&!e.closest(".CodeMirror").length||e.closest("[contenteditable=true]").length||e.closest(".CodeMirror").length}function s(e){return e.is(".ignore-context-menu")}function a(t,n,i,r,s){var a;i=e(i);if(n.ctrlKey&&n.shiftKey)return;if(o(i))return;if(i.is(".progress")||i.is("select")){n.preventDefault();return}n.originalType=n.type;delete n.type;a=e.Event(n,{type:t,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey});a.pageX=r;a.pageY=s;i.trigger(a);return false}function l(t){if(t.ctrlKey&&t.shiftKey)return;o(e(t.target))||t.preventDefault()}e(document.body).on("contextmenu",l);n(document.body).tap({options:{preventDefault:false,which:3},start:function e(t){n.utils.isMouse(t)&&(this._openContextMenu=true)},end:function e(t){if(this._openContextMenu){a("qv-contextmenu",t,t.target,t.pageX,t.pageY);this._openContextMenu=false}}});(n.utils.msPointer||n.utils.touch)&&n(document.body).longtap({options:{preventDefault:false,timeThreshold:r,interval:20},start:function t(r){if(n.utils.isMouse(r)||o(e(r.target))||s(e(r.target))){this.cancel();return}i=r.target},update:function e(n,r){if(100===r.percentage){t.show(r.pagePoints[0].x,r.pagePoints[0].y);a("qv-radial-contextmenu",n,i,r.pagePoints[0].x,r.pagePoints[0].y)}},cancel:function e(){t.hide()},end:function e(n,r){t.hide();a("qv-contextmenu",n,i,r.pagePoints[0].x,r.pagePoints[0].y);i=null}});e(document.body).on("MSHoldVisual",function(e){e.preventDefault()});e(document.body).on("MSGestureHold",function(e){e.preventDefault()})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(51),n(815)],r=function(e,t,n){var i=null;var r={scope:{position:"="},template:n,controller:["$scope","$element",function(e,t){var n=t.children();var i=n.outerWidth();n.css("top",e.position.y-i/2);n.css("left",e.position.x-i/2);n.addClass("transition")}]};var o={show:function n(s,a){o.hide();e.$apply(e.$rootScope,function(){i=t.show(r,{position:{x:s,y:a}})})},hide:function t(){e.$apply(e.$rootScope,function(){if(i){i.destroy();i=null}})}};return o}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div id="actionIndicator"></div>'},function(e,t,n){(function(e){(function(e,t,n){"$:nomunge";e.addOutsideEvent=i;function i(i,r){r=r||i+n;var o=[],s=i+"."+r+"-special-event";e.event.special[r]={setup:function(){-1===o.indexOf(this)&&o.push(this);1===o.length&&e(t).bind(s,a)},teardown:function(){var n=o.indexOf(this);-1!==n&&o.splice(n,1);0===o.length&&e(t).unbind(s)},add:function(e){var t=e.handler;e.handler=function(e,n){e.target=n;t.apply(this,arguments)}}};function a(t){var n=o.slice();n.forEach(function(n){var i=e(n);n===t.target||i.has(t.target).length||i.triggerHandler(r,[t.target])})}}})(e,document,"outside")}).call(this,n(11))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(54),n(91),n(94),n(49),n(126),n(136),n(112),n(149),n(137),n(217),n(219),n(192),n(818),n(133),n(819),n(106),n(111),n(351)],r=function(e,t,n,i,r,o,s,a,l,u,c,f,d,p,h,v,m){function g(e){var t=i.model;var n={insertBeforeItem:null,title:e.name,odagLinkRefID:e.id};h.addODAGNavPoint(t,n)}function b(t){var i="";if("unlimited"===t||""===t)i=n.get("ODAGLink.Dialog.RetentionTimeUnit.NeverExpires");else{var r={retentionTimeValue:"",retentionTimeUnit:""};var o=e.getService("odagLinkDialogService");r=o.getRetentionTimeDisplayValue(t);i="d"===r.retentionTimeUnit?"1"===r.retentionTimeValue?n.get("library.preview.odag.retentionTime.day",r.retentionTimeValue):n.get("library.preview.odag.retentionTime.days",r.retentionTimeValue):"h"===r.retentionTimeUnit?"1"===r.retentionTimeValue?n.get("library.preview.odag.retentionTime.hour",r.retentionTimeValue):n.get("library.preview.odag.retentionTime.hours",r.retentionTimeValue):t}return i}return s.extend({init:function e(t,n){this.app=n;this.list=[];this.id=o.sectionIDs.odag;this.name="odaglinks";this.title="ODAG.Toolbox.Title.ODAGToolbar";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=a.permissionToCreate("odagLink");this.initLoadComplete=false},addId:"addODAGLink",addText:"ODAGLink.Toolbox.CreateButton",addAction:function e(){c.addODAGLink(this.app)},initLoadData:function e(){var t=this;d.getList(this.app).then(function(e){t.$scope.listModel=e});m(this.$scope,"listModel",this.loadODAGLinks.bind(this))},loadODAGLinks:function e(){var t=this;var n=function e(n){t.onLoadData(n);t.initLoadComplete=true};this.initLoadComplete?f.getList(this.app,true).then(function(e){t.onLoadData(e)}).catch(function(){this.loading=false}):this.$scope.listModel&&this.$scope.listModel.layout&&this.$scope.listModel.layout.qAppObjectList.qItems.length>0?f.getList(this.app,true).then(function(e){n(e)}).catch(function(){t.loading=false}):n([])},editCallback:function e(t){c.editODAGLink(this.app,t.id)},deleteCallback:function e(t){var n=this;var i="ODAGLink.Master.DeleteWarning.Text";a.removeDialog(i,function(){f.get(t.id).then(function(e){h.deleteODAGLink(n.app,t.id,e.properties)})})},initPreviewManager:function e(){var o=this;function s(e){var i=e.item;var s=e.modelInfo;var u="";u=""===s.properties.data.properties.targetSheet[0].sheetId||null===s.properties.data.properties.targetSheet[0].sheetId?n.get("ODAGLink.Dialog.DefaultView.AppOverview"):s.properties.data.properties.targetSheet[0].sheetName?s.properties.data.properties.targetSheet[0].sheetName:n.get("library.preview.odag.defaultView.UnableToAccess",s.properties.data.properties.targetSheet[0].sheetId);var c="";c=0===s.properties.data.properties.publishTo.length||""===s.properties.data.properties.publishTo[0].streamId||null===s.properties.data.properties.publishTo[0].streamId?n.get("ODAGLink.Dialog.DefaultPublishTo.MyWork"):s.properties.data.properties.publishTo[0].streamName?s.properties.data.properties.publishTo[0].streamName:n.get("library.preview.odag.publishTo.UnableToAccess",s.properties.data.properties.publishTo[0].streamId);var f=l.getBasePreviewInfo(e);f.templateApp=s.properties.data.templateApp;f.rowEstExpr=s.properties.data.rowEstExpr;f.rowEstCount=s.properties.data.properties.rowEstRange[0].highBound;f.genAppLimit=s.properties.data.properties.genAppLimit[0].limit;f.retentionTime=b(s.properties.data.properties.appRetentionTime[0].retentionTime);f.defaultView=u;f.publishTo=c;f.buttons=[l.buttonAddTo(g,e.closePreview,i,a.getAddToText(o.name),a.isAddToMode())];(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(s.properties.data.privileges,"update")&&a.hasAppUpdatePermssion())&&f.buttons.push(l.buttonEdit(o.editCallback.bind(o),e.closePreview,i));(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(s.properties.data.privileges,"delete")&&a.hasAppUpdatePermssion())&&f.buttons.push(l.buttonDelete(o.deleteCallback.bind(o),e.closePreview,i));f.close=e.closePreview;l.alignPreview(f,e.$element);return v.show(f)}this.previewManager=l.previewManagerFactory({getSlowInfo:function e(t){return l.getItemInformation(f,t.id)},createPreview:s,itemDialogHandler:u,State:i})},onLoadData:function t(n){this.loading=false;e.$rootScope.$emit("clearUndo");n=p.create(n);this.list=a.localeOrderBy(n,function(e){return e.name});this.onFilter()},doFilter:function e(t){var n=this.assets.query;a.removeSelection(t);this.previewManager&&this.previewManager.close();return t.filter(function(e){return a.libraryMultiSearch(e,n,["name","tags"])})},openContextMenu:function n(i,o){var s=this;var c=e.getService("qvContextMenu").menu();l.getItemInformation(f,i.id).then(function(e){var n=e.properties;a.isAddToMode()&&c.addItem({translation:a.getContextMenuAddToText(s.name),tid:"add-to-sheet",select:function e(){g(i)}});(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(n.data.privileges,"update")&&a.hasAppUpdatePermssion())&&c.addItem({translation:"Common.Edit",tid:"edit-master",select:function e(){s.editCallback(i)}});(r.getFlag("ODAG_SAAS_ENABLED")||t.contains(n.data.privileges,"delete")&&a.hasAppUpdatePermssion())&&c.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){s.deleteCallback(i)}});u.openContextMenu(c,i,o)})},addItemToSheetOrActiveObject:function e(t){g(t)}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var n={};n.dragDropType="odagLinkItem";n.name=e.data.name;n.type=e.type;n.id=e.data.id;n.getDropOption=t.bind(null,n);n.tags=e.data.tags;return n}function t(e){return{id:"newODAGNavPoint",args:{template:"odagLink",init:{linkRef:e}}}}var n={create:function t(n){return n.map(function(t){return e(t.properties)})}};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(820),n(49)],r=function(e,t,n){function i(i){var r={template:t,controller:["$scope",function(e){e.input=i;e.isOdagSaas=n.getFlag("ODAG_SAAS_ENABLED")}],dock:"right",alignTo:i.alignTo[0]};return e.getService("luiPopover").show(r)}return{show:i}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-popover id="library-preview" class="odag-preview" x-arrow="arrow">\n\n\t<lui-popover-body>\n\t\t<h2 class="title">\n\t\t\t<span qve-highlight text="{{input.name}}" query="input.query"></span>\n\t\t</h2>\n\t\t<h2><span q-translation="library.preview.odag.row.templateapp"></span></h2>\n\t\t<p class="description">{{input.templateApp.name}}</p>\n\t\t<h2><span q-translation="library.preview.odag.row.expression"></span></h2>\n\t\t<p class="description">{{input.rowEstExpr}}</p>\n\t\t<h2><span q-translation="library.preview.odag.row.count"></span></h2>\n\t\t<p class="description">{{input.rowEstCount}}</p>\n\t\t<h2><span q-translation="library.preview.odag.maxGenAppsCount"></span></h2>\n\t\t<p class="description">{{input.genAppLimit}}</p>\n\t\t<h2><span q-translation="library.preview.odag.retentionTime"></span></h2>\n\t\t<p class="description">{{input.retentionTime}}</p>\n\t\t<h2 ng-if="!isOdagSaas"><span q-translation="library.preview.odag.defaultView"></span></h2>\n\t\t<p ng-if="!isOdagSaas" class="description">{{input.defaultView}}</p>\n\t\t<h2 ng-if="!isOdagSaas"><span q-translation="library.preview.odag.publishTo"></span></h2>\n\t\t<p ng-if="!isOdagSaas" class="description">{{input.publishTo}}</p>\t\t\n\t</lui-popover-body>\n\n\t<lui-popover-footer>\n\t\t<button class="lui-fade-button" ng-repeat="button in input.buttons.slice().reverse()" q-title-translation="{{button.title}}"\n\t\t\t\tqva-activate="$event.preventDefault(); button.action($event)" ng-disabled="button.disabled" tid="{{button.tid}}">\n\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--{{button.icon}}"></span>\n\t\t</button>\n\t</lui-popover-footer>\n</lui-popover>'},function(e,t,n){"use strict";var i,r;!(i=[n(91),n(48),n(136),n(93),n(112),n(137),n(106),n(822),n(269),n(134),n(357),n(358),n(111)],r=function(e,t,n,i,r,o,s,a){function l(t){var n={};n.permissions="$"===t?{update:false,remove:false}:{update:true,remove:true};n.name="$"===t?e.get("AlternateState.DefaultState"):t;n.type="state";n.id=t;n.allowDrag=false;n.getDropOption=function(){};return n}function u(e){return e.global.getConfiguration().then(function(t){if(t.qFeatures.qAutoSave)return e.doSave()})}function c(e){r.addItemToSheetOrVisualization(e)}return n.extend({init:function e(){this.list=[];this.prevList=[];this.id="AlternateStates";this.name="alternate states";this.title="Common.AlternateStates";this._super.apply(this,arguments);this.initPreviewManager();this.allowAdd=r.permissionToCreate("dimension");this.allowRemove=this.allowAdd},addId:"addState",addText:"AlternateState.Toolbox.CreateButton",addAction:function e(){var t=this;var n=function e(t){null!==t&&""!==t&&i.getApp().then(function(e){e.addAlternateState(t).then(function(){u(e)})})};var r=function e(n){if(!n||""===n)return false;if(!t.items)return true;return!t.items.some(function(e){return e.name===n})};var o={title:"AlternateState.Dialog.Add.Title",confirm:"Common.Create",name:"",checkNameCallback:r,callback:n};var s=a.show(o);s.closed.then(function(){s=null})},initLoadData:function e(){var t=this;i.getApp().then(function(e){t.$scope.listModel=e});s(this.$scope,"listModel",this.onLoadData.bind(this))},initPreviewManager:function e(){},openPreview:function e(){},onLoadData:function e(t){if(!this.prevList.length||this.prevList.length!==t.qStateNames.length||!this.prevList.every(function(e,n){return e===t.qStateNames[n]})){this.loading=false;var n=r.localeOrderBy(t.qStateNames||[],function(e){return e});this.list=["$"].concat(n).map(l);this.onFilter();this.prevList=t.qStateNames.concat()}},doFilter:function e(t){var n=this.assets.query;r.removeSelection(t);return t.filter(function(e){return r.libraryMultiSearch(e,n,["name"])})},openContextMenu:function e(n,s){var a=t.getService("qvContextMenu").menu();r.isAddToMode()&&a.addItem({translation:r.getContextMenuAddToText(),tid:"add-to-sheet",select:function e(){c(n)}});n.permissions&&n.permissions.remove&&this.allowRemove&&a.addItem({translation:"Common.Delete",tid:"remove-master",select:function e(){i.getApp().then(function(e){e.removeAlternateState(n.id).then(function(){u(e)})})}});o.openContextMenu(a,n,s)},addItemToSheetOrActiveObject:function e(t){c(t)},closePreview:function e(){}})}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(99),n(823),n(94),n(107),n(166)],r=function(e,t,n,i,r){var o;function s(e){return{name:e.alternateState.name}}var a={scope:{title:"=",confirmLabel:"=",alternateState:"="},template:n,controller:["$scope",function(e){e.stringLimits=r;e.isValid=true;e.cancel=function(){e.destroyComponent()};e.confirm=function(){var t=s(e);e.isValid=e.checkNameCallback(t.name);if(e.isValid){o.close();e.callback(t.name)}};i.StateChanged.bind(e.cancel);e.onKeyPress=function(t){e.isValid=true;var n=t.which;13===n&&e.confirm()};e.$watch("alternateState.name",function(){});e.$on("$destroy",function(){i.StateChanged.unbind(e.cancel)});e.autoFocus=t.treatAsDesktop()}]};function l(t){var n={title:t.title,confirmLabel:t.confirm,alternateState:{name:t.name},add:t.add,checkNameCallback:t.checkNameCallback,callback:t.callback};o=e.getService("luiDialog").show({template:a.template,controller:a.controller,input:n,closeOnOutside:false,showArrow:false});return o}return{show:l}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="lui-modal-background"></div>\n<div class="lui-dialog" name="alternateStatesDialog" id="alternate-states-dialog">\n\t<lui-tab-view>\n\t\t<div class="lui-dialog__header">\n\t\t\t<div class="lui-dialog__title" q-translation="{{input.title}}"></div>\n\t\t</div>\n\t\t<div class="lui-dialog__body">\n\t\t\t\x3c!-- Name --\x3e\n\t\t\t<div class="alternate-state-component">\n\t\t\t\t<label q-translation="AlternateState.NewStateName" class="qv-metadatalabel">State:</label>\n\t\t\t\t<input class="lui-input" qva-focus="autoFocus" ng-keypress="onKeyPress($event)" ng-model="alternateState.name" type="text" name="name" maxlength="{{stringLimits.name}}" ng-class="{ \'lui-invalid\': !isValid }" data-tid="name-input"/>\n\t\t\t</div>\n\t\t</div>\n\t</lui-tab-view>\n\t<div class="lui-dialog__footer">\n\t\t<button class="lui-button close-button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel" data-tid="close-btn"></button>\n\t\t<button class="lui-button close-button" ng-click="$event.preventDefault(); confirm()" name="confirmButton" q-translation="{{confirmLabel}}" data-tid="create-btn"></button>\n\t</div>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(210),n(359),n(505)],r=function(e,t){function n(e,t){t.widgets=t.widgets||[];Object.defineProperties(this,{id:{value:e},data:{value:t,writable:true}});t.type="widget-library"}function i(e){e=e||this;return t.saveLibrary(e)}n.prototype.save=i;n.save=i;n.getList=function(){return e.getList().then(function(e){var t=[];e.forEach(function(e){"widget-library"===e.data.type&&t.push(new n(e.id,e.data))});return t})};n.get=function(e){return t.getLibrary(e).then(function(t){return new n(e,t)})};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){function e(e){var t=false;if(e&&e.length>3){t="";e=e.replace("qw","");e=e[0].toLowerCase()+e.substr(1);for(var n in e){var i=e[n];if("string"===typeof i){i===i.toUpperCase()&&(i="-"+i.toLocaleLowerCase());t+=i}}}return t}function t(e,t){var n=false;if(e){n=e;t&&(n=e.toLowerCase());n=n[0].toUpperCase()+n.substr(1)}return n}return{directiveToFile:e,capitalizeString:t}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(827),n(828)],r=function(e,t){var n={restrict:"E",replace:true,scope:{section:"="},template:t};e.directive("qvAssetsSection",function(){return n});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="assets-section" tid={{section.id}}>\n\t<div ng-if="section.allowAdd" class="library-section-add-button-wrapper">\n\t\t<lui-button\n\t\t\tqva-activate="section.addAction()"\n\t\t\tid="{{section.addId}}"\n\t\t\tq-translation="{{section.addText}}">\n\t\t</lui-button>\n\t</div>\n\t<qv-assets-list\n\t\tquery="section.assets.query"\n\t\tsection="section">\n\t</qv-assets-list>\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(829),n(112),n(127),n(54),n(11),n(206),n(179),n(270),n(96),n(161),n(111),n(263),n(830)],r=function(e,t,n,i,r,o,s,a,l,u,c){var f={restrict:"E",replace:true,scope:{query:"=",section:"="},template:t,link:function t(f,d){var p;var h=false;var v=d.find(".expanded-info-header");v&&v.on("transitionend",function(e){"max-height"===e.originalEvent.propertyName&&S(T,0)});function m(){if(p){clearTimeout(p);p=null}}function g(e){for(var t=0;t<f.section.items.length;t++)if(f.section.items[t].id===e.id)return t}f.getDisplayText=function(e){var t=e.isDerived&&""===f.query?e.qName:c.trimAutoCalendarName(e.name);return t};f.itemDblClick=function e(t,i){f.section.closePreview();t.selected&&n.toggleSelection(t,i);if(t.disabled)return;f.section.addItemToSheetOrActiveObject(t);m()};f.itemContextMenu=function e(t,n){if(t.disabled)return;f.section.openContextMenu(t,n)};f.isExpanded=function(e){return f.section.expanded&&f.section.expanded[e.id]};f.inMomentumScroll=function(e,t){var n=i.elementFromEventPosition(t);return e!==o(n).scope().item};function b(e,t){var n=g(e);h=false;if(e.derivedFields&&e.derivedFields.length>0){f.section.items.splice(n+1,e.derivedFields.length);t||D.setList(f.section.items,true)}f.section.expanded[e.id]=false}function y(e,t){var n=g(e);h=true;f.section.expanded[e.id]=true;if(e.derivedFields&&e.derivedFields.length>0){var i=[n+1,0].concat(e.derivedFields);Array.prototype.splice.apply(f.section.items,i);t||D.setList(f.section.items,true)}}f.itemClicked=function e(t,i){m();p=setTimeout(function(){if(u.utils.touch&&f.inMomentumScroll(t,i))return;if(t.disabled)return;t.derivedFields&&t.derivedFields.length>0&&(f.section.expanded[t.id]?b(t):y(t));if(!n.toggleSelection(t,i)){f.$apply();return}x(t,i)},200)};function x(e,t){var n=o(t.currentTarget);var i;i=E.virtualScrollEnabled&&E.alignBottomAbsolute?0===E.items.indexOf(e)?-1:0:f.itemOffLimitPx(n,d);function r(){f.section.openPreview(e,t);f.$apply()}function s(e){return e>0?1:e<0?-1:0}if(0===i)r();else if(E.virtualScrollEnabled){var a=E.getVirtualScrollAmount(0,s(i),1);A.scroll(0,a.deltaY);S(r)}else{O.one("scroll",function(){r()});O[0].scrollTop+=i}}f.itemOffLimitPx=function(e,t){var n=e.position();var i=n.top;if(i<0)return i;i=n.top+e.outerHeight()-t.height();if(i>0)return i;return 0};function _(){e.$apply(f,function(){h||f.section.closePreview();h=false;e.getService("qvContextMenu").close()})}var w=r.throttle(_,500);var q=45;var C={minRowHeight:q,maxRowHeight:q,blockSize:60,keepItemsCount:10};var S=e.getService("$timeout");var E=new s(S,C);f.scroll=E;var D=new l(E);var O=d.find(".scroll-area");var A=O.controller("qvScrollArea");var L=new a(O,O,".lui-list__item",".lui-list__item:first",".lui-list__item:last");var I=d.find(".qv-scroll-loader").controller("qvScrollLoader");E.initialize(L,D,A,I).then(function(){E.activate();E.updateViewport();f.$watch("section.items",function(e){if(!e)return;E.updateViewport();var t=false;if(f.section.expanded)for(var n=0;n<e.length;n++)if(f.section.expanded[e[n].id]&&(n===e.length-1||!e[n+1].isDerived)){y(e[n],true);t=true}D.setList(e,t)})});E.Scroll.bind(w);function T(e){if(e){f.section.allowAdd&&(e.height-=37);L.getBoundingBox=function(){return e};L.getScrollAreaBoundingBox=function(){return e};D.resize().then(function(){delete L.getBoundingBox;delete L.getScrollAreaBoundingBox})}else D.resize()}f.section.Resize.bind(T);f.$on("$destroy",function(){E.destroy();v&&v.off("transitionend");f.section.Resize.unbind(T);E.Scroll.unbind(w)})}};e.directive("qvAssetsList",function(){return f});return f}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div class="assets-list" ng-class="{ empty: !section.items.length }">\n\t\n\t<div class="expanded-info-header " ng-show="!section.loading && section.hasMetaInfo" ng-class="{\'expanded\': section.infoExpanded || section.shouldShowCloudExtensionsWarning}">\n\t\t<div class="expanded-info-collapsed-header">\n\t\t\t<div class="expanded-info-collapsed-title" ng-bind="section.infoTitle" title="{{section.infoTitle}}"></div>\n\t\t\t<span class="lui-icon lui-icon--more" ng-click="section.infoExpanded = !section.infoExpanded;" q-title-translation="Tooltip.AssetPanel.ExpandWidgetInformation"></span>\n\t\t</div>\n\t\t<div class="expanded-info">\n\t\t\t<div class="info-image"></div>\n\t\t\t<div class="expanded-info-content" ng-bind="section.description"></div>\n\t\t\t<div class="expanded-info-content" ng-if="section.shouldShowCloudExtensionsWarning">\n\t\t\t\t<div>\n\t\t\t\t\t<span class="extension-warning-icon lui-icon lui-icon--warning-triangle"></span>\n\t\t\t\t\t<div class="expanded-info-content extension-warning-text" ng-bind="section.cloudExtensionWarning"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\n\t<span class="assets-nohits" ng-show="!section.loading && !query && !section.items.length" q-translation="library.noitems"></span>\n\t<qv-assets-search-no-hits query="query" show="!section.loading && query && !section.items.length"></qv-assets-search-no-hits>\n\t\n\t<qv-scroll-area class="scroll-area" ng-show="!section.loading" ng-class="{ \'native-scroll-enabled\': !scroll.virtualScrollEnabled }" >\n\t\t<qv-scroll-load-button\n\t\t\t\tng-show="scroll.loadPrevious"\n\t\t\t\ton-load="scroll.gotoPreviousBlock()"\n\t\t\t\ttext="Object.Listbox.LoadPrevious" previous="true"></qv-scroll-load-button>\n\n\t\t<ul class="lui-list assets-n-minutes__list" ng-class="{ \'align-bottom\': scroll.alignBottomAbsolute }" >\n\n\t\t\t<li ng-repeat="item in scroll.items track by item.id"\n\t\t\t\tng-hide="item.hidden"\n\t\t\t\tclass="lui-list__item lui-list__action library-item qv-draggable"\n\t\t\t\tdata-id="{{item.id}}"\n\t\t\t\tng-click="itemClicked(item, $event)"\n\t\t\t\tqva-context-menu="itemContextMenu(item, $event)"\n\t\t\t\tng-dblclick="itemDblClick(item, $event)"\n\t\t\t\tng-class="{ \'lui-active\': item.selected, \'lui-disabled\': item.disabled, \'derived-field-item\' : item.isDerived && query === \'\' }"\n\t\t\t\ttitle="{{item.name}}">\n\t\t\t\t<div ng-if="item.icon" class="lui-icon lui-icon--{{item.icon}} lui-list__aside" q-title-translation="{{item.iconTooltip}}"></div>\n\t\t\t\t<div class="lui-list__text library-item-text">\n\t\t\t\t\t<div ng-if="item.isDateField" class="lui-icon lui-icon--calendar icon-align"></div>\n\t\t\t\t\t<div ng-if="item.isGeoField" class="lui-icon lui-icon--map icon-align"></div>\n\t\t\t\t\t<div class="titles">\n\t\t\t\t\t\t<span qve-highlight text="{{ getDisplayText(item) }}" query="query" class="title"></span>\n\t\t\t\t\t\t<span ng-if="item.secondaryName" qve-highlight text="{{item.secondaryName}}" query="query" class="title secondary-title">{{item.secondaryName}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="item.match.tags" class="lui-icon lui-icon--tag lui-list__aside"></div>\n\t\t\t\t<div ng-if="item.derivedFields.length > 0" class="toggle-expand lui-icon lui-list__aside" ng-class="isExpanded(item) ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\'"></div>\n\t\t\t\t<i class="lui-icon lui-list__aside lui-icon--draggable" q-title-translation="Common.Move"></i>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<qv-scroll-load-button\n\t\t\t\tng-show="scroll.loadNext"\n\t\t\t\ton-load="scroll.gotoNextBlock()"\n\t\t\t\ttext="Object.Listbox.LoadMore"></qv-scroll-load-button>\n\t</qv-scroll-area>\n\t<qv-scroll-loader no-rain="true"></qv-scroll-loader>\n\n\t<div class="assets-loading" ng-show="section.loading"><span q-translation="Common.Loading"></span>\n\t\t<qv-spinner show="section.loading"></qv-spinner>\n\t</div>\n\n</div>\n'},function(e,t,n){"use strict";var i,r;!(i=[n(48),n(831)],r=function(e,t){var n={restrict:"E",replace:true,scope:{query:"=",show:"="},template:t};e.directive("qvAssetsSearchNoHits",function(){return n});return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<div ng-show="show" class="assets-nohits">\n\t<div class="query">“<div>{{query}}</div>”</div>\n\t<span class="message" q-translation="Toolbox.Search.Nohits"></span>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,r,o;(function(){var s=function(e){var t,n,i;n=""===/t(.+)?/.exec("t")[1];function r(e,t){if(e.indexOf)return e.indexOf(t);var n=e.length;while(n--)if(e[n]===t)return n;return-1}function o(e,t){var n=r(e,t);-1!==n&&e.splice(n,1)}function s(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function a(e){return s(e,"RegExp")}function l(e){return s(e,"Array")}function u(e){return"function"===typeof e}function c(e){var t;t=null===e||"null"===e?null:"true"===e||"false"!==e&&(e===i||"undefined"===e?i:""===e||isNaN(e)?e:parseFloat(e));return t}function f(e){var t=e.length,n=[];while(t--)n[t]=c(e[t]);return n}function d(e,t){var n=(e||"").replace("?","").split("&"),i=/([^=]+)=(.+)/,r=-1,o={},s,a,u,f;while(a=n[++r]){s=a.indexOf("=");f=a.substring(0,s);u=decodeURIComponent(a.substring(s+1));false!==t&&(u=c(u));f in o?l(o[f])?o[f].push(u):o[f]=[o[f],u]:o[f]=u}return o}function p(){this.bypassed=new e.Signal;this.routed=new e.Signal;this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState()}p.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null},create:function(){return new p},addRoute:function(e,t,n){var i=new h(e,t,n,this);this._sortedInsert(i);return i},removeRoute:function(e){o(this._routes,e);e._destroy()},removeAllRoutes:function(){var e=this.getNumRoutes();while(e--)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){e=e||"";t=t||[];if(!this.ignoreState&&(e===this._prevMatchedRequest||e===this._prevBypassedRequest))return;var n=this._getMatchedRoutes(e),i=0,r=n.length,o;if(r){this._prevMatchedRequest=e;this._notifyPrevRoutes(n,e);this._prevRoutes=n;while(i<r){o=n[i];o.route.matched.dispatch.apply(o.route.matched,t.concat(o.params));o.isFirst=!i;this.routed.dispatch.apply(this.routed,t.concat([e,o]));i+=1}}else{this._prevBypassedRequest=e;this.bypassed.dispatch.apply(this.bypassed,t.concat([e]))}this._pipeParse(e,t)},_notifyPrevRoutes:function(e,t){var n=0,i;while(i=this._prevRoutes[n++])i.route.switched&&this._didSwitch(i.route,e)&&i.route.switched.dispatch(t)},_didSwitch:function(e,t){var n,i=0;while(n=t[i++])if(n.route===e)return false;return true},_pipeParse:function(e,t){var n=0,i;while(i=this._piped[n++])i.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,n=t.length;do{--n}while(t[n]&&e._priority<=t[n]._priority);t.splice(n+1,0,e)},_getMatchedRoutes:function(e){var t=[],n=this._routes,i=n.length,r;while(r=n[--i]){(!t.length||this.greedy||r.greedy)&&r.match(e)&&t.push({route:r,params:r._getParamsArray(e)});if(!this.greedyEnabled&&t.length)break}return t},pipe:function(e){this._piped.push(e)},unpipe:function(e){o(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}};t=new p;t.VERSION="0.12.2";t.NORM_AS_ARRAY=function(e,t){return[t.vals_]};t.NORM_AS_OBJECT=function(e,t){return[t]};function h(t,n,i,r){var o=a(t),s=r.patternLexer;this._router=r;this._pattern=t;this._paramsIds=o?null:s.getParamIds(t);this._optionalParamsIds=o?null:s.getOptionalParamsIds(t);this._matchRegexp=o?t:s.compilePattern(t,r.ignoreCase);this.matched=new e.Signal;this.switched=new e.Signal;n&&this.matched.add(n);this._priority=i||0}h.prototype={greedy:false,rules:void 0,match:function(e){e=e||"";return this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t=this.rules,n=this._getParamsObject(e),i;for(i in t)if("normalize_"!==i&&t.hasOwnProperty(i)&&!this._isValidParam(e,i,n))return false;return true},_isValidParam:function(e,t,n){var i=this.rules[t],o=n[t],s=false,c=0===t.indexOf("?");if(null==o&&this._optionalParamsIds&&-1!==r(this._optionalParamsIds,t))s=true;else if(a(i)){c&&(o=n[t+"_"]);s=i.test(o)}else if(l(i)){c&&(o=n[t+"_"]);s=this._isValidArrayRule(i,o)}else u(i)&&(s=i(o,e,n));return s},_isValidArrayRule:function(e,t){if(!this._router.ignoreCase)return-1!==r(e,t);"string"===typeof t&&(t=t.toLowerCase());var n=e.length,i,o;while(n--){i=e[n];o="string"===typeof i?i.toLowerCase():i;if(o===t)return true}return false},_getParamsObject:function(e){var t=this._router.shouldTypecast,i=this._router.patternLexer.getParamValues(e,this._matchRegexp,t),o={},s=i.length,a,l;while(s--){l=i[s];if(this._paramsIds){a=this._paramsIds[s];if(0===a.indexOf("?")&&l){o[a+"_"]=l;l=d(l,t);i[s]=l}if(n&&""===l&&-1!==r(this._optionalParamsIds,a)){l=void 0;i[s]=l}o[a]=l}o[s]=l}o.request_=t?c(e):e;o.vals_=i;return o},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null,n;t=t||this._router.normalizeFn;n=t&&u(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_;return n},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}};p.prototype.patternLexer=function(){var e=/[\\.+*?\^$\[\](){}\/'#]/g,t=/^\/|\/$/g,n=/\/$/g,i=/(?:\{|:)([^}:]+)(?:\}|:)/g,r={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},o=1,s=2,a=3,u=o;function c(){var e,t;for(e in r)if(r.hasOwnProperty(e)){t=r[e];t.id="__CR_"+e+"__";t.save="save"in t?t.save.replace("{{id}}",t.id):t.id;t.rRestore=new RegExp(t.id,"g")}}c();function d(e,t){var n=[],i;e.lastIndex=0;while(i=e.exec(t))n.push(i[1]);return n}function p(e){return d(i,e)}function h(e){return d(r.OP.rgx,e)}function v(i,r){i=i||"";if(i){u===o?i=i.replace(t,""):u===a&&(i=i.replace(n,""));i=m(i,"rgx","save");i=i.replace(e,"\\$&");i=m(i,"rRestore","res");u===o&&(i="\\/?"+i)}u!==s&&(i+="\\/?");return new RegExp("^"+i+"$",r?"i":"")}function m(e,t,n){var i,o;for(o in r)if(r.hasOwnProperty(o)){i=r[o];e=e.replace(i[t],i[n])}return e}function g(e,t,n){var i=t.exec(e);if(i){i.shift();n&&(i=f(i))}return i}function b(e,t){t=t||{};if("string"!==typeof e)throw new Error("Route pattern should be a string.");var n=function(e,n){var i;n="?"===n.substr(0,1)?n.substr(1):n;if(null!=t[n]){if("object"===typeof t[n]){var r=[],o;for(var s in t[n]){o=t[n][s];if(l(o))for(var a in o)"[]"==s.slice(-2)?r.push(encodeURI(s.slice(0,-2))+"[]="+encodeURI(o[a])):r.push(encodeURI(s+"="+o[a]));else r.push(encodeURI(s+"="+o))}i="?"+r.join("&")}else i=String(t[n]);if(-1===e.indexOf("*")&&-1!==i.indexOf("/"))throw new Error('Invalid value "'+i+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");i=""}return i};r.OS.trail||(r.OS.trail=new RegExp("(?:"+r.OS.id+")+$"));return e.replace(r.OS.rgx,r.OS.save).replace(i,n).replace(r.OS.trail,"").replace(r.OS.rRestore,"/")}return{strict:function(){u=s},loose:function(){u=o},legacy:function(){u=a},getParamIds:p,getOptionalParamsIds:h,getParamValues:g,compilePattern:v,interpolate:b}}();return t};true;!(r=[n(1004)],i=s,o="function"===typeof i?i.apply(t,r):i,void 0!==o&&(e.exports=o))})()},,function(e){e.exports={structs:{Field:{GetCardinal:{In:[],Out:[]},GetAndMode:{In:[],Out:[]},SelectValues:{In:[{Name:"qFieldValues",DefaultValue:[{qText:"",qIsNumeric:false,qNumber:0}]},{Name:"qToggleMode",DefaultValue:false,Optional:true},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},Select:{In:[{Name:"qMatch",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qExcludedValuesMode",DefaultValue:0,Optional:true}],Out:[]},ToggleSelect:{In:[{Name:"qMatch",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qExcludedValuesMode",DefaultValue:0,Optional:true}],Out:[]},ClearAllButThis:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},SelectPossible:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},SelectExcluded:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},SelectAll:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},Lock:{In:[],Out:[]},Unlock:{In:[],Out:[]},GetNxProperties:{In:[],Out:[{Name:"qProperties"}]},SetNxProperties:{In:[{Name:"qProperties",DefaultValue:{qOneAndOnlyOne:false}}],Out:[]},SetAndMode:{In:[{Name:"qAndMode",DefaultValue:false}],Out:[]},SelectAlternative:{In:[{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},LowLevelSelect:{In:[{Name:"qValues",DefaultValue:[0]},{Name:"qToggleMode",DefaultValue:false},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},Clear:{In:[],Out:[]}},Variable:{GetContent:{In:[],Out:[{Name:"qContent"}]},GetRawContent:{In:[],Out:[]},SetContent:{In:[{Name:"qContent",DefaultValue:""},{Name:"qUpdateMRU",DefaultValue:false}],Out:[]},ForceContent:{In:[{Name:"qs",DefaultValue:""},{Name:"qd",DefaultValue:0}],Out:[]},GetNxProperties:{In:[],Out:[{Name:"qProperties"}]},SetNxProperties:{In:[{Name:"qProperties",DefaultValue:{qName:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qUsePredefListedValues:false,qPreDefinedList:[""]}}],Out:[]}},GenericObject:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},GetListObjectData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]}],Out:[{Name:"qDataPages"}]},GetHyperCubeData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]}],Out:[{Name:"qDataPages"}]},GetHyperCubeReducedData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qZoomFactor",DefaultValue:0},{Name:"qReductionMode",DefaultValue:0}],Out:[{Name:"qDataPages"}]},GetHyperCubePivotData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]}],Out:[{Name:"qDataPages"}]},GetHyperCubeStackData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qMaxNbrCells",DefaultValue:0,Optional:true}],Out:[{Name:"qDataPages"}]},GetHyperCubeContinuousData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qOptions",DefaultValue:{qStart:0,qEnd:0,qNbrPoints:0,qMaxNbrTicks:0,qMaxNumberLines:0}},{Name:"qReverseSort",DefaultValue:false,Optional:true}],Out:[{Name:"qDataPages"},{Name:"qAxisData"}]},GetHyperCubeTreeData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qNodeOptions",DefaultValue:{qMaxNbrOfNodes:0,qTreeNodes:[{qArea:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qAllValues:false}],qTreeLevels:{qLeft:0,qDepth:0}},Optional:true}],Out:[{Name:"qNodes"}]},GetHyperCubeBinnedData:{In:[{Name:"qPath",DefaultValue:""},{Name:"qPages",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qViewport",DefaultValue:{qWidth:0,qHeight:0,qZoomLevel:0}},{Name:"qDataRanges",DefaultValue:[{qLeft:0,qTop:0,qWidth:0,qHeight:0}]},{Name:"qMaxNbrCells",DefaultValue:0},{Name:"qQueryLevel",DefaultValue:0},{Name:"qBinningMethod",DefaultValue:0}],Out:[{Name:"qDataPages"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]},{Name:"qSoftPatch",DefaultValue:false,Optional:true}],Out:[]},ClearSoftPatches:{In:[],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetEffectiveProperties:{In:[],Out:[{Name:"qProp"}]},SetFullPropertyTree:{In:[{Name:"qPropEntry",DefaultValue:{qProperty:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""},qChildren:[],qEmbeddedSnapshotRef:null}}],Out:[]},GetFullPropertyTree:{In:[],Out:[{Name:"qPropEntry"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},ClearSelections:{In:[{Name:"qPath",DefaultValue:""},{Name:"qColIndices",DefaultValue:[0],Optional:true}],Out:[]},ExportData:{In:[{Name:"qFileType",DefaultValue:0},{Name:"qPath",DefaultValue:"",Optional:true},{Name:"qFileName",DefaultValue:"",Optional:true},{Name:"qExportState",DefaultValue:0,Optional:true}],Out:[{Name:"qUrl"},{Name:"qWarnings"}]},SelectListObjectValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qValues",DefaultValue:[0]},{Name:"qToggleMode",DefaultValue:false},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectPossible:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectExcluded:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectAlternative:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectAll:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectListObjectContinuousRange:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false}]},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SearchListObjectFor:{In:[{Name:"qPath",DefaultValue:""},{Name:"qMatch",DefaultValue:""}],Out:[{Name:"qSuccess"}]},AbortListObjectSearch:{In:[{Name:"qPath",DefaultValue:""}],Out:[]},AcceptListObjectSearch:{In:[{Name:"qPath",DefaultValue:""},{Name:"qToggleMode",DefaultValue:false},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[]},ExpandLeft:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},ExpandTop:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},CollapseLeft:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},CollapseTop:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRow",DefaultValue:0},{Name:"qCol",DefaultValue:0},{Name:"qAll",DefaultValue:false}],Out:[]},DrillUp:{In:[{Name:"qPath",DefaultValue:""},{Name:"qDimNo",DefaultValue:0},{Name:"qNbrSteps",DefaultValue:0}],Out:[]},Lock:{In:[{Name:"qPath",DefaultValue:""},{Name:"qColIndices",DefaultValue:[0],Optional:true}],Out:[]},Unlock:{In:[{Name:"qPath",DefaultValue:""},{Name:"qColIndices",DefaultValue:[0],Optional:true}],Out:[]},SelectHyperCubeValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qDimNo",DefaultValue:0},{Name:"qValues",DefaultValue:[0]},{Name:"qToggleMode",DefaultValue:false}],Out:[{Name:"qSuccess"}]},SelectHyperCubeCells:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRowIndices",DefaultValue:[0]},{Name:"qColIndices",DefaultValue:[0]},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectPivotCells:{In:[{Name:"qPath",DefaultValue:""},{Name:"qSelections",DefaultValue:[{qType:0,qCol:0,qRow:0}]},{Name:"qSoftLock",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},RangeSelectHyperCubeValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qMeasureIx:0}]},{Name:"qColumnsToSelect",DefaultValue:[0],Optional:true},{Name:"qOrMode",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},MultiRangeSelectHyperCubeValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRanges:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qMeasureIx:0}],qColumnsToSelect:[0]}]},{Name:"qOrMode",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},MultiRangeSelectTreeDataValues:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRanges:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qMeasureIx:0,qDimensionIx:0}]}]},{Name:"qOrMode",DefaultValue:false,Optional:true},{Name:"qDeselectOnlyOneSelected",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},SelectHyperCubeContinuousRange:{In:[{Name:"qPath",DefaultValue:""},{Name:"qRanges",DefaultValue:[{qRange:{qMin:0,qMax:0,qMinInclEq:false,qMaxInclEq:false},qDimIx:0}]},{Name:"qSoftLock",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},GetChild:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetParent:{In:[],Out:[]},GetChildInfos:{In:[],Out:[{Name:"qInfos"}]},CreateChild:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}},{Name:"qPropForThis",DefaultValue:null,Optional:true}],Out:[{Name:"qInfo"}]},DestroyChild:{In:[{Name:"qId",DefaultValue:""},{Name:"qPropForThis",DefaultValue:null,Optional:true}],Out:[{Name:"qSuccess"}]},DestroyAllChildren:{In:[{Name:"qPropForThis",DefaultValue:null,Optional:true}],Out:[]},SetChildArrayOrder:{In:[{Name:"qIds",DefaultValue:[""]}],Out:[]},GetLinkedObjects:{In:[],Out:[{Name:"qItems"}]},CopyFrom:{In:[{Name:"qFromId",DefaultValue:""}],Out:[]},BeginSelections:{In:[{Name:"qPaths",DefaultValue:[""]}],Out:[]},EndSelections:{In:[{Name:"qAccept",DefaultValue:false}],Out:[]},ResetMadeSelections:{In:[],Out:[]},EmbedSnapshotObject:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetSnapshotObject:{In:[],Out:[]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},GenericDimension:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qDim:{qGrouping:0,qFieldDefs:[""],qFieldLabels:[""],qLabelExpression:""},qMetaDef:{}}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},GetDimension:{In:[],Out:[{Name:"qDim"}]},GetLinkedObjects:{In:[],Out:[{Name:"qItems"}]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},GenericBookmark:{GetFieldValues:{In:[{Name:"qField",DefaultValue:""},{Name:"qGetExcludedValues",DefaultValue:false},{Name:"qDataPage",DefaultValue:{qStartIndex:0,qEndIndex:0}}],Out:[{Name:"qFieldValues"}]},GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{}}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},Apply:{In:[],Out:[{Name:"qSuccess"}]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},GenericVariable:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{},qName:"",qComment:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qDefinition:""}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},SetStringValue:{In:[{Name:"qVal",DefaultValue:""}],Out:[]},SetNumValue:{In:[{Name:"qVal",DefaultValue:0}],Out:[]},SetDualValue:{In:[{Name:"qText",DefaultValue:""},{Name:"qNum",DefaultValue:0}],Out:[]}},GenericMeasure:{GetLayout:{In:[],Out:[{Name:"qLayout"}]},ApplyPatches:{In:[{Name:"qPatches",DefaultValue:[{qOp:0,qPath:"",qValue:""}]}],Out:[]},SetProperties:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMeasure:{qLabel:"",qDef:"",qGrouping:0,qExpressions:[""],qActiveExpression:0,qLabelExpression:""},qMetaDef:{}}}],Out:[]},GetProperties:{In:[],Out:[{Name:"qProp"}]},GetInfo:{In:[],Out:[{Name:"qInfo"}]},GetMeasure:{In:[],Out:[{Name:"qMeasure"}]},GetLinkedObjects:{In:[],Out:[{Name:"qItems"}]},Publish:{In:[],Out:[]},UnPublish:{In:[],Out:[]},Approve:{In:[],Out:[]},UnApprove:{In:[],Out:[]}},Doc:{GetField:{In:[{Name:"qFieldName",DefaultValue:""},{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},GetFieldDescription:{In:[{Name:"qFieldName",DefaultValue:""}],Out:[]},GetVariable:{In:[{Name:"qName",DefaultValue:""}],Out:[]},GetLooselyCoupledVector:{In:[],Out:[{Name:"qv"}]},SetLooselyCoupledVector:{In:[{Name:"qv",DefaultValue:[0]}],Out:[]},Evaluate:{In:[{Name:"qExpression",DefaultValue:""}],Out:[]},EvaluateEx:{In:[{Name:"qExpression",DefaultValue:""}],Out:[{Name:"qValue"}]},ClearAll:{In:[{Name:"qLockedAlso",DefaultValue:false,Optional:true},{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},LockAll:{In:[{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},UnlockAll:{In:[{Name:"qStateName",DefaultValue:"",Optional:true}],Out:[]},Back:{In:[],Out:[]},Forward:{In:[],Out:[]},CreateVariable:{In:[{Name:"qName",DefaultValue:""}],Out:[]},RemoveVariable:{In:[{Name:"qName",DefaultValue:""}],Out:[]},GetLocaleInfo:{In:[],Out:[]},GetTablesAndKeys:{In:[{Name:"qWindowSize",DefaultValue:{qcx:0,qcy:0}},{Name:"qNullSize",DefaultValue:{qcx:0,qcy:0}},{Name:"qCellHeight",DefaultValue:0},{Name:"qSyntheticMode",DefaultValue:false},{Name:"qIncludeSysVars",DefaultValue:false}],Out:[{Name:"qtr"},{Name:"qk"}]},GetViewDlgSaveInfo:{In:[],Out:[]},SetViewDlgSaveInfo:{In:[{Name:"qInfo",DefaultValue:{qPos:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qCtlInfo:{qInternalView:{qTables:[{qPos:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qCaption:""}],qBroomPoints:[{qPos:{qx:0,qy:0},qTable:"",qFields:[""]}],qConnectionPoints:[{qPos:{qx:0,qy:0},qFields:[""]}],qZoomFactor:0},qSourceView:{qTables:[{qPos:{qLeft:0,qTop:0,qWidth:0,qHeight:0},qCaption:""}],qBroomPoints:[{qPos:{qx:0,qy:0},qTable:"",qFields:[""]}],qConnectionPoints:[{qPos:{qx:0,qy:0},qFields:[""]}],qZoomFactor:0}},qMode:0}}],Out:[]},GetEmptyScript:{In:[{Name:"qLocalizedMainSection",DefaultValue:"",Optional:true}],Out:[]},DoReload:{In:[{Name:"qMode",DefaultValue:0,Optional:true},{Name:"qPartial",DefaultValue:false,Optional:true},{Name:"qDebug",DefaultValue:false,Optional:true}],Out:[]},GetScriptBreakpoints:{In:[],Out:[{Name:"qBreakpoints"}]},SetScriptBreakpoints:{In:[{Name:"qBreakpoints",DefaultValue:[{qbufferName:"",qlineIx:0,qEnabled:false}]}],Out:[]},GetScript:{In:[],Out:[{Name:"qScript"}]},GetTextMacros:{In:[],Out:[{Name:"qMacros"}]},SetFetchLimit:{In:[{Name:"qLimit",DefaultValue:0}],Out:[]},DoSave:{In:[{Name:"qFileName",DefaultValue:"",Optional:true}],Out:[]},GetTableData:{In:[{Name:"qOffset",DefaultValue:0},{Name:"qRows",DefaultValue:0},{Name:"qSyntheticMode",DefaultValue:false},{Name:"qTableName",DefaultValue:""}],Out:[{Name:"qData"}]},GetAppLayout:{In:[],Out:[{Name:"qLayout"}]},SetAppProperties:{In:[{Name:"qProp",DefaultValue:{qTitle:"",qLastReloadTime:"",qMigrationHash:"",qSavedInProductVersion:"",qThumbnail:{qUrl:""},qHasSectionAccess:false}}],Out:[]},GetAppProperties:{In:[],Out:[{Name:"qProp"}]},GetLineage:{In:[],Out:[{Name:"qLineage"}]},CreateSessionObject:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}}],Out:[]},DestroySessionObject:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},CreateObject:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qExtendsId:"",qMetaDef:{},qStateName:""}}],Out:[{Name:"qInfo"}]},DestroyObject:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetObject:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetObjects:{In:[{Name:"qOptions",DefaultValue:{qTypes:[""],qIncludeSessionObjects:false,qData:{}}}],Out:[{Name:"qList"}]},GetBookmarks:{In:[{Name:"qOptions",DefaultValue:{qTypes:[""],qData:{}}}],Out:[{Name:"qList"}]},CloneObject:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},CreateDraft:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qDraftId"}]},CommitDraft:{In:[{Name:"qId",DefaultValue:""}],Out:[]},DestroyDraft:{In:[{Name:"qId",DefaultValue:""},{Name:"qSourceId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},Undo:{In:[],Out:[{Name:"qSuccess"}]},Redo:{In:[],Out:[{Name:"qSuccess"}]},ClearUndoBuffer:{In:[],Out:[]},CreateDimension:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qDim:{qGrouping:0,qFieldDefs:[""],qFieldLabels:[""],qLabelExpression:""},qMetaDef:{}}}],Out:[{Name:"qInfo"}]},DestroyDimension:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetDimension:{In:[{Name:"qId",DefaultValue:""}],Out:[]},CloneDimension:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},CreateMeasure:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMeasure:{qLabel:"",qDef:"",qGrouping:0,qExpressions:[""],qActiveExpression:0,qLabelExpression:""},qMetaDef:{}}}],Out:[{Name:"qInfo"}]},DestroyMeasure:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetMeasure:{In:[{Name:"qId",DefaultValue:""}],Out:[]},CloneMeasure:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},CreateSessionVariable:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{},qName:"",qComment:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qDefinition:""}}],Out:[]},DestroySessionVariable:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},CreateVariableEx:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{},qName:"",qComment:"",qNumberPresentation:{qType:0,qnDec:0,qUseThou:0,qFmt:"",qDec:"",qThou:""},qIncludeInBookmark:false,qDefinition:""}}],Out:[{Name:"qInfo"}]},DestroyVariableById:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},DestroyVariableByName:{In:[{Name:"qName",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetVariableById:{In:[{Name:"qId",DefaultValue:""}],Out:[]},GetVariableByName:{In:[{Name:"qName",DefaultValue:""}],Out:[]},MigrateVariables:{In:[],Out:[]},MigrateDerivedFields:{In:[],Out:[]},CheckExpression:{In:[{Name:"qExpr",DefaultValue:""},{Name:"qLabels",DefaultValue:[""],Optional:true}],Out:[{Name:"qErrorMsg"},{Name:"qBadFieldNames"},{Name:"qDangerousFieldNames"}]},CheckNumberOrExpression:{In:[{Name:"qExpr",DefaultValue:""}],Out:[{Name:"qErrorMsg"},{Name:"qBadFieldNames"}]},AddAlternateState:{In:[{Name:"qStateName",DefaultValue:""}],Out:[]},RemoveAlternateState:{In:[{Name:"qStateName",DefaultValue:""}],Out:[]},CreateBookmark:{In:[{Name:"qProp",DefaultValue:{qInfo:{qId:"",qType:""},qMetaDef:{}}}],Out:[{Name:"qInfo"}]},DestroyBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[]},ApplyBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},CloneBookmark:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qCloneId"}]},AddFieldFromExpression:{In:[{Name:"qName",DefaultValue:""},{Name:"qExpr",DefaultValue:""}],Out:[{Name:"qSuccess"}]},GetFieldOnTheFlyByName:{In:[{Name:"qReadableName",DefaultValue:""}],Out:[{Name:"qName"}]},GetAllInfos:{In:[],Out:[{Name:"qInfos"}]},Resume:{In:[],Out:[]},AbortModal:{In:[{Name:"qAccept",DefaultValue:false}],Out:[]},Publish:{In:[{Name:"qStreamId",DefaultValue:""},{Name:"qName",DefaultValue:"",Optional:true}],Out:[]},UnPublish:{In:[],Out:[]},GetMatchingFields:{In:[{Name:"qTags",DefaultValue:[""]},{Name:"qMatchingFieldMode",DefaultValue:0,Optional:true}],Out:[{Name:"qFieldNames"}]},FindMatchingFields:{In:[{Name:"qFieldName",DefaultValue:""},{Name:"qTags",DefaultValue:[""]}],Out:[{Name:"qFieldNames"}]},Scramble:{In:[{Name:"qFieldName",DefaultValue:""}],Out:[]},SaveObjects:{In:[],Out:[]},GetAssociationScores:{In:[{Name:"qTable1",DefaultValue:""},{Name:"qTable2",DefaultValue:""}],Out:[{Name:"qScore"}]},GetMediaList:{In:[],Out:[{Name:"qList"}]},GetContentLibraries:{In:[],Out:[{Name:"qList"}]},GetLibraryContent:{In:[{Name:"qName",DefaultValue:""}],Out:[{Name:"qList"}]},DoReloadEx:{In:[{Name:"qParams",DefaultValue:{qMode:0,qPartial:false,qDebug:false,qReloadId:""},Optional:true}],Out:[{Name:"qResult"}]},BackCount:{In:[],Out:[]},ForwardCount:{In:[],Out:[]},ExportReducedData:{In:[{Name:"qOptions",DefaultValue:{qBookmarkId:"",qExpires:0},Optional:true}],Out:[{Name:"qDownloadInfo"}]},GetSetAnalysis:{In:[{Name:"qStateName",DefaultValue:"",Optional:true},{Name:"qBookmarkId",DefaultValue:"",Optional:true}],Out:[{Name:"qSetExpression"}]},SetScript:{In:[{Name:"qScript",DefaultValue:""}],Out:[]},CheckScriptSyntax:{In:[],Out:[{Name:"qErrors"}]},GetFavoriteVariables:{In:[],Out:[{Name:"qNames"}]},SetFavoriteVariables:{In:[{Name:"qNames",DefaultValue:[""]}],Out:[]},GetIncludeFileContent:{In:[{Name:"qPath",DefaultValue:""}],Out:[{Name:"qContent"}]},CreateConnection:{In:[{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}}],Out:[{Name:"qConnectionId"}]},ModifyConnection:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}},{Name:"qOverrideCredentials",DefaultValue:false,Optional:true}],Out:[]},DeleteConnection:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[]},GetConnection:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[{Name:"qConnection"}]},GetConnections:{In:[],Out:[{Name:"qConnections"}]},GetDatabaseInfo:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[{Name:"qInfo"}]},GetDatabases:{In:[{Name:"qConnectionId",DefaultValue:""}],Out:[{Name:"qDatabases"}]},GetDatabaseOwners:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true}],Out:[{Name:"qOwners"}]},GetDatabaseTables:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true},{Name:"qOwner",DefaultValue:"",Optional:true}],Out:[{Name:"qTables"}]},GetDatabaseTableFields:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true},{Name:"qOwner",DefaultValue:"",Optional:true},{Name:"qTable",DefaultValue:""}],Out:[{Name:"qFields"}]},GetDatabaseTablePreview:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qDatabase",DefaultValue:"",Optional:true},{Name:"qOwner",DefaultValue:"",Optional:true},{Name:"qTable",DefaultValue:""},{Name:"qConditions",DefaultValue:{qType:0,qWherePredicate:""},Optional:true}],Out:[{Name:"qPreview"},{Name:"qRowCount"}]},GetFolderItemsForConnection:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true}],Out:[{Name:"qFolderItems"}]},GuessFileType:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true}],Out:[{Name:"qDataFormat"}]},GetFileTables:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}}],Out:[{Name:"qTables"}]},GetFileTableFields:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}},{Name:"qTable",DefaultValue:""}],Out:[{Name:"qFields"},{Name:"qFormatSpec"}]},GetFileTablePreview:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}},{Name:"qTable",DefaultValue:""}],Out:[{Name:"qPreview"},{Name:"qFormatSpec"}]},GetFileTablesEx:{In:[{Name:"qConnectionId",DefaultValue:""},{Name:"qRelativePath",DefaultValue:"",Optional:true},{Name:"qDataFormat",DefaultValue:{qType:0,qLabel:"",qQuote:"",qComment:"",qDelimiter:{qName:"",qScriptCode:"",qNumber:0,qIsMultiple:false},qCodePage:0,qHeaderSize:0,qRecordSize:0,qTabSize:0,qIgnoreEOF:false,qFixedWidthDelimiters:""}}],Out:[{Name:"qTables"}]},SendGenericCommandToCustomConnector:{In:[{Name:"qProvider",DefaultValue:""},{Name:"qCommand",DefaultValue:""},{Name:"qMethod",DefaultValue:""},{Name:"qParameters",DefaultValue:[""]},{Name:"qAppendConnection",DefaultValue:""}],Out:[{Name:"qResult"}]},SearchSuggest:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]}],Out:[{Name:"qResult"}]},SearchAssociations:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]},{Name:"qPage",DefaultValue:{qOffset:0,qCount:0,qMaxNbrFieldMatches:0,qGroupOptions:[{qGroupType:0,qOffset:0,qCount:0}],qGroupItemOptions:[{qGroupItemType:0,qOffset:0,qCount:0}]}}],Out:[{Name:"qResults"}]},SelectAssociations:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]},{Name:"qMatchIx",DefaultValue:0},{Name:"qSoftLock",DefaultValue:null,Optional:true}],Out:[]},SearchResults:{In:[{Name:"qOptions",DefaultValue:{qSearchFields:[""],qContext:0,qCharEncoding:0,qAttributes:[""]}},{Name:"qTerms",DefaultValue:[""]},{Name:"qPage",DefaultValue:{qOffset:0,qCount:0,qMaxNbrFieldMatches:0,qGroupOptions:[{qGroupType:0,qOffset:0,qCount:0}],qGroupItemOptions:[{qGroupItemType:0,qOffset:0,qCount:0}]}}],Out:[{Name:"qResult"}]},SearchObjects:{In:[{Name:"qOptions",DefaultValue:{qAttributes:[""],qCharEncoding:0}},{Name:"qTerms",DefaultValue:[""]},{Name:"qPage",DefaultValue:{qOffset:0,qCount:0,qMaxNbrFieldMatches:0,qGroupOptions:[{qGroupType:0,qOffset:0,qCount:0}],qGroupItemOptions:[{qGroupItemType:0,qOffset:0,qCount:0}]}}],Out:[{Name:"qResult"}]},GetFieldAndColumnSamples:{In:[{Name:"qFieldsOrColumnsWithWildcards",DefaultValue:[{qFieldName:"",qTableName:""}]},{Name:"qMaxNumberOfValues",DefaultValue:0},{Name:"qRandSeed",DefaultValue:0,Optional:true}],Out:[{Name:"qResult"}]},GetScriptEx:{In:[],Out:[{Name:"qScript"}]},GetVariables:{In:[{Name:"qListDef",DefaultValue:{qType:"",qShowReserved:false,qShowConfig:false,qData:{},qShowSession:false}}],Out:[{Name:"qList"}]},ExpandExpression:{In:[{Name:"qExpression",DefaultValue:""}],Out:[{Name:"qExpandedExpression"}]},DestroySessionVariableById:{In:[{Name:"qId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},DestroySessionVariableByName:{In:[{Name:"qName",DefaultValue:""}],Out:[{Name:"qSuccess"}]},SetAppObjectSortingRank:{In:[{Name:"qId",DefaultValue:""},{Name:"qRank",DefaultValue:0}],Out:[]},GetActiveSheetId:{In:[],Out:[{Name:"qId"}]},GetLayoutProperties:{In:[],Out:[{Name:"qLayoutProp"}]}},Global:{AbortRequest:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[]},AbortAll:{In:[],Out:[]},GetProgress:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[{Name:"qProgressData"}]},QvVersion:{In:[],Out:[]},OSVersion:{In:[],Out:[]},OSName:{In:[],Out:[]},QTProduct:{In:[],Out:[]},GetDocList:{In:[],Out:[{Name:"qDocList"}]},GetInteract:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[{Name:"qDef"}]},InteractDone:{In:[{Name:"qRequestId",DefaultValue:0},{Name:"qDef",DefaultValue:{qType:0,qTitle:"",qMsg:"",qButtons:0,qLine:"",qOldLineNr:0,qNewLineNr:0,qPath:"",qHidden:false,qResult:0,qInput:""}}],Out:[]},GetAuthenticatedUser:{In:[],Out:[]},CreateDocEx:{In:[{Name:"qDocName",DefaultValue:""},{Name:"qUserName",DefaultValue:"",Optional:true},{Name:"qPassword",DefaultValue:"",Optional:true},{Name:"qSerial",DefaultValue:"",Optional:true},{Name:"qLocalizedScriptMainSection",DefaultValue:"",Optional:true}],Out:[{Name:"qDocId"}]},GetActiveDoc:{In:[],Out:[]},AllowCreateApp:{In:[],Out:[]},CreateApp:{In:[{Name:"qAppName",DefaultValue:""},{Name:"qLocalizedScriptMainSection",DefaultValue:"",Optional:true}],Out:[{Name:"qSuccess"},{Name:"qAppId"}]},DeleteApp:{In:[{Name:"qAppId",DefaultValue:""}],Out:[{Name:"qSuccess"}]},IsDesktopMode:{In:[],Out:[]},GetConfiguration:{In:[],Out:[{Name:"qConfig"}]},CancelRequest:{In:[{Name:"qRequestId",DefaultValue:0}],Out:[]},ShutdownProcess:{In:[],Out:[]},ReloadExtensionList:{In:[],Out:[]},ReplaceAppFromID:{In:[{Name:"qTargetAppId",DefaultValue:""},{Name:"qSrcAppID",DefaultValue:""},{Name:"qIds",DefaultValue:[""]}],Out:[{Name:"qSuccess"}]},ReplaceAppFromPath:{In:[{Name:"qTargetAppId",DefaultValue:""},{Name:"qSrcPath",DefaultValue:""},{Name:"qIds",DefaultValue:[""]},{Name:"qNoData",DefaultValue:false}],Out:[]},CopyApp:{In:[{Name:"qTargetAppId",DefaultValue:""},{Name:"qSrcAppId",DefaultValue:""},{Name:"qIds",DefaultValue:[""]}],Out:[{Name:"qSuccess"}]},ImportApp:{In:[{Name:"qAppId",DefaultValue:""},{Name:"qSrcPath",DefaultValue:""},{Name:"qIds",DefaultValue:[""]}],Out:[{Name:"qSuccess"}]},ImportAppEx:{In:[{Name:"qAppId",DefaultValue:""},{Name:"qSrcPath",DefaultValue:""},{Name:"qIds",DefaultValue:[""]},{Name:"qExcludeConnections",DefaultValue:false}],Out:[]},ExportApp:{In:[{Name:"qTargetPath",DefaultValue:""},{Name:"qSrcAppId",DefaultValue:""},{Name:"qIds",DefaultValue:[""]},{Name:"qNoData",DefaultValue:false,Optional:true}],Out:[{Name:"qSuccess"}]},PublishApp:{In:[{Name:"qAppId",DefaultValue:""},{Name:"qName",DefaultValue:""},{Name:"qStreamId",DefaultValue:""}],Out:[]},IsPersonalMode:{In:[],Out:[]},GetUniqueID:{In:[],Out:[{Name:"qUniqueID"}]},OpenDoc:{In:[{Name:"qDocName",DefaultValue:""},{Name:"qUserName",DefaultValue:"",Optional:true},{Name:"qPassword",DefaultValue:"",Optional:true},{Name:"qSerial",DefaultValue:"",Optional:true},{Name:"qNoData",DefaultValue:false,Optional:true}],Out:[]},CreateSessionApp:{In:[],Out:[{Name:"qSessionAppId"}]},CreateSessionAppFromApp:{In:[{Name:"qSrcAppId",DefaultValue:""}],Out:[{Name:"qSessionAppId"}]},ProductVersion:{In:[],Out:[]},GetAppEntry:{In:[{Name:"qAppID",DefaultValue:""}],Out:[{Name:"qEntry"}]},ConfigureReload:{In:[{Name:"qCancelOnScriptError",DefaultValue:false},{Name:"qUseErrorData",DefaultValue:false},{Name:"qInteractOnError",DefaultValue:false}],Out:[]},CancelReload:{In:[],Out:[]},GetBNF:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfDefs"}]},GetFunctions:{In:[{Name:"qGroup",DefaultValue:0,Optional:true}],Out:[{Name:"qFunctions"}]},GetOdbcDsns:{In:[],Out:[{Name:"qOdbcDsns"}]},GetOleDbProviders:{In:[],Out:[{Name:"qOleDbProviders"}]},GetDatabasesFromConnectionString:{In:[{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}}],Out:[{Name:"qDatabases"}]},IsValidConnectionString:{In:[{Name:"qConnection",DefaultValue:{qId:"",qName:"",qConnectionString:"",qType:"",qUserName:"",qPassword:"",qModifiedDate:"",qMeta:{qName:""},qLogOn:0}}],Out:[]},GetDefaultAppFolder:{In:[],Out:[{Name:"qPath"}]},GetMyDocumentsFolder:{In:[],Out:[{Name:"qFolder"}]},GetLogicalDriveStrings:{In:[],Out:[{Name:"qDrives"}]},GetFolderItemsForPath:{In:[{Name:"qPath",DefaultValue:""}],Out:[{Name:"qFolderItems"}]},GetSupportedCodePages:{In:[],Out:[{Name:"qCodePages"}]},GetCustomConnectors:{In:[{Name:"qReloadList",DefaultValue:false,Optional:true}],Out:[{Name:"qConnectors"}]},GetStreamList:{In:[],Out:[{Name:"qStreamList"}]},EngineVersion:{In:[],Out:[{Name:"qVersion"}]},GetBaseBNF:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfDefs"},{Name:"qBnfHash"}]},GetBaseBNFHash:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfHash"}]},GetBaseBNFString:{In:[{Name:"qBnfType",DefaultValue:0}],Out:[{Name:"qBnfStr"},{Name:"qBnfHash"}]}}},enums:{LocalizedMessageCode:{LOCMSG_SCRIPTEDITOR_EMPTY_MESSAGE:0,LOCMSG_SCRIPTEDITOR_PROGRESS_SAVING_STARTED:1,LOCMSG_SCRIPTEDITOR_PROGRESS_BYTES_LEFT:2,LOCMSG_SCRIPTEDITOR_PROGRESS_STORING_TABLES:3,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_ROWS_SO_FAR:4,LOCMSG_SCRIPTEDITOR_PROGRESS_CONNECTED:5,LOCMSG_SCRIPTEDITOR_PROGRESS_CONNECTING_TO:6,LOCMSG_SCRIPTEDITOR_PROGRESS_CONNECT_FAILED:7,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_ROWISH:8,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_COLUMNAR:9,LOCMSG_SCRIPTEDITOR_ERROR:10,LOCMSG_SCRIPTEDITOR_DONE:11,LOCMSG_SCRIPTEDITOR_LOAD_EXTERNAL_DATA:12,LOCMSG_SCRIPTEDITOR_PROGRESS_OLD_QVD_ISLOADING:13,LOCMSG_SCRIPTEDITOR_PROGRESS_QVC_LOADING:14,LOCMSG_SCRIPTEDITOR_PROGRESS_QVD_BUFFERED:15,LOCMSG_SCRIPTEDITOR_PROGRESS_QVC_PREPARING:16,LOCMSG_SCRIPTEDITOR_PROGRESS_QVC_APPENDING:17,LOCMSG_SCRIPTEDITOR_REMOVE_SYNTHETIC:18,LOCMSG_SCRIPTEDITOR_PENDING_LINKEDTABLE_FETCHING:19,LOCMSG_SCRIPTEDITOR_RELOAD:20,LOCMSG_SCRIPTEDITOR_LINES_FETCHED:21,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_START:22,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_FIELD:23,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_SUCCESS:24,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_FAILURE:25,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_STARTABORT:26,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_ENDABORT:27,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_TIMEOUT:28,LOCMSG_SCRIPTEDITOR_SEARCHINDEX_OUTOFMEMORY:29,LOCMSG_SCRIPTEDITOR_ACCESS_DENIED_AFTER_RELOAD:30},LocalizedErrorCode:{LOCERR_INTERNAL_ERROR:-128,LOCERR_GENERIC_UNKNOWN:-1,LOCERR_GENERIC_OK:0,LOCERR_GENERIC_NOT_SET:1,LOCERR_GENERIC_NOT_FOUND:2,LOCERR_GENERIC_ALREADY_EXISTS:3,LOCERR_GENERIC_INVALID_PATH:4,LOCERR_GENERIC_ACCESS_DENIED:5,LOCERR_GENERIC_OUT_OF_MEMORY:6,LOCERR_GENERIC_NOT_INITIALIZED:7,LOCERR_GENERIC_INVALID_PARAMETERS:8,LOCERR_GENERIC_EMPTY_PARAMETERS:9,LOCERR_GENERIC_INTERNAL_ERROR:10,LOCERR_GENERIC_CORRUPT_DATA:11,LOCERR_GENERIC_MEMORY_INCONSISTENCY:12,LOCERR_GENERIC_INVISIBLE_OWNER_ABORT:13,LOCERR_GENERIC_PROHIBIT_VALIDATE:14,LOCERR_GENERIC_ABORTED:15,LOCERR_GENERIC_CONNECTION_LOST:16,LOCERR_GENERIC_UNSUPPORTED_IN_PRODUCT_VERSION:17,LOCERR_GENERIC_REST_CONNECTION_FAILURE:18,LOCERR_GENERIC_MEMORY_LIMIT_REACHED:19,LOCERR_GENERIC_NOT_IMPLEMENTED:20,LOCERR_HTTP_400:400,LOCERR_HTTP_401:401,LOCERR_HTTP_402:402,LOCERR_HTTP_403:403,LOCERR_HTTP_404:404,LOCERR_HTTP_405:405,LOCERR_HTTP_406:406,LOCERR_HTTP_407:407,LOCERR_HTTP_408:408,LOCERR_HTTP_409:409,LOCERR_HTTP_410:410,LOCERR_HTTP_411:411,LOCERR_HTTP_412:412,LOCERR_HTTP_413:413,LOCERR_HTTP_414:414,LOCERR_HTTP_415:415,LOCERR_HTTP_416:416,LOCERR_HTTP_417:417,LOCERR_HTTP_422:422,LOCERR_HTTP_429:429,LOCERR_HTTP_500:500,LOCERR_HTTP_501:501,LOCERR_HTTP_502:502,LOCERR_HTTP_503:503,LOCERR_HTTP_504:504,LOCERR_HTTP_505:505,LOCERR_HTTP_509:509,LOCERR_HTTP_COULD_NOT_RESOLVE_HOST:700,LOCERR_APP_ALREADY_EXISTS:1e3,LOCERR_APP_INVALID_NAME:1001,LOCERR_APP_ALREADY_OPEN:1002,LOCERR_APP_NOT_FOUND:1003,LOCERR_APP_IMPORT_FAILED:1004,LOCERR_APP_SAVE_FAILED:1005,LOCERR_APP_CREATE_FAILED:1006,LOCERR_APP_INVALID:1007,LOCERR_APP_CONNECT_FAILED:1008,LOCERR_APP_ALREADY_OPEN_IN_DIFFERENT_MODE:1009,LOCERR_APP_MIGRATION_COULD_NOT_CONTACT_MIGRATION_SERVICE:1010,LOCERR_APP_MIGRATION_COULD_NOT_START_MIGRATION:1011,LOCERR_APP_MIGRATION_FAILURE:1012,LOCERR_APP_SCRIPT_MISSING:1013,LOCERR_APP_EXPORT_FAILED:1014,LOCERR_CONNECTION_ALREADY_EXISTS:2e3,LOCERR_CONNECTION_NOT_FOUND:2001,LOCERR_CONNECTION_FAILED_TO_LOAD:2002,LOCERR_CONNECTION_FAILED_TO_IMPORT:2003,LOCERR_CONNECTION_NAME_IS_INVALID:2004,LOCERR_CONNECTOR_NO_FILE_STREAMING_SUPPORT:2300,LOCERR_CONNECTOR_FILESIZE_EXCEEDED_BUFFER_SIZE:2301,LOCERR_FILE_ACCESS_DENIED:3e3,LOCERR_FILE_NAME_INVALID:3001,LOCERR_FILE_CORRUPT:3002,LOCERR_FILE_NOT_FOUND:3003,LOCERR_FILE_FORMAT_UNSUPPORTED:3004,LOCERR_FILE_OPENED_IN_UNSUPPORTED_MODE:3005,LOCERR_FILE_TABLE_NOT_FOUND:3006,LOCERR_USER_ACCESS_DENIED:4e3,LOCERR_USER_IMPERSONATION_FAILED:4001,LOCERR_SERVER_OUT_OF_SESSION_AND_USER_CALS:5e3,LOCERR_SERVER_OUT_OF_SESSION_CALS:5001,LOCERR_SERVER_OUT_OF_USAGE_CALS:5002,LOCERR_SERVER_OUT_OF_CALS:5003,LOCERR_SERVER_OUT_OF_NAMED_CALS:5004,LOCERR_SERVER_OFF_DUTY:5005,LOCERR_SERVER_BUSY:5006,LOCERR_SERVER_LICENSE_EXPIRED:5007,LOCERR_SERVER_AJAX_DISABLED:5008,LOCERR_SERVER_NO_TOKEN:5009,LOCERR_HC_INVALID_OBJECT:6e3,LOCERR_HC_RESULT_TOO_LARGE:6001,LOCERR_HC_INVALID_OBJECT_STATE:6002,LOCERR_HC_MODAL_OBJECT_ERROR:6003,LOCERR_CALC_INVALID_DEF:7e3,LOCERR_CALC_NOT_IN_LIB:7001,LOCERR_CALC_HEAP_ERROR:7002,LOCERR_CALC_TOO_LARGE:7003,LOCERR_CALC_TIMEOUT:7004,LOCERR_CALC_EVAL_CONDITION_FAILED:7005,LOCERR_CALC_MIXED_LINKED_AGGREGATION:7006,LOCERR_CALC_MISSING_LINKED:7007,LOCERR_CALC_INVALID_COL_SORT:7008,LOCERR_CALC_PAGES_TOO_LARGE:7009,LOCERR_CALC_SEMANTIC_FIELD_NOT_ALLOWED:7010,LOCERR_CALC_VALIDATION_STATE_INVALID:7011,LOCERR_CALC_PIVOT_DIMENSIONS_ALREADY_EXISTS:7012,LOCERR_CALC_MISSING_LINKED_FIELD:7013,LOCERR_CALC_NOT_CALCULATED:7014,LOCERR_LAYOUT_EXTENDS_INVALID_ID:8e3,LOCERR_LAYOUT_LINKED_OBJECT_NOT_FOUND:8001,LOCERR_LAYOUT_LINKED_OBJECT_INVALID:8002,LOCERR_PERSISTENCE_WRITE_FAILED:9e3,LOCERR_PERSISTENCE_READ_FAILED:9001,LOCERR_PERSISTENCE_DELETE_FAILED:9002,LOCERR_PERSISTENCE_NOT_FOUND:9003,LOCERR_PERSISTENCE_UNSUPPORTED_VERSION:9004,LOCERR_PERSISTENCE_MIGRATION_FAILED_READ_ONLY:9005,LOCERR_PERSISTENCE_MIGRATION_CANCELLED:9006,LOCERR_PERSISTENCE_MIGRATION_BACKUP_FAILED:9007,LOCERR_PERSISTENCE_DISK_FULL:9008,LOCERR_PERSISTENCE_NOT_SUPPORTED_FOR_SESSION_APP:9009,LOCERR_PERSISTENCE_MOVE_FAILED:9010,LOCERR_PERSISTENCE_SYNC_SET_CHUNK_INVALID_PARAMETERS:9510,LOCERR_PERSISTENCE_SYNC_GET_CHUNK_INVALID_PARAMETERS:9511,LOCERR_SCRIPT_DATASOURCE_ACCESS_DENIED:1e4,LOCERR_RELOAD_IN_PROGRESS:11e3,LOCERR_RELOAD_TABLE_X_NOT_FOUND:11001,LOCERR_RELOAD_UNKNOWN_STATEMENT:11002,LOCERR_RELOAD_EXPECTED_SOMETHING_FOUND_UNKNOWN:11003,LOCERR_RELOAD_EXPECTED_NOTHING_FOUND_UNKNOWN:11004,LOCERR_RELOAD_EXPECTED_ONE_OF_1_TOKENS_FOUND_UNKNOWN:11005,LOCERR_RELOAD_EXPECTED_ONE_OF_2_TOKENS_FOUND_UNKNOWN:11006,LOCERR_RELOAD_EXPECTED_ONE_OF_3_TOKENS_FOUND_UNKNOWN:11007,LOCERR_RELOAD_EXPECTED_ONE_OF_4_TOKENS_FOUND_UNKNOWN:11008,LOCERR_RELOAD_EXPECTED_ONE_OF_5_TOKENS_FOUND_UNKNOWN:11009,LOCERR_RELOAD_EXPECTED_ONE_OF_6_TOKENS_FOUND_UNKNOWN:11010,LOCERR_RELOAD_EXPECTED_ONE_OF_7_TOKENS_FOUND_UNKNOWN:11011,LOCERR_RELOAD_EXPECTED_ONE_OF_8_OR_MORE_TOKENS_FOUND_UNKNOWN:11012,LOCERR_RELOAD_FIELD_X_NOT_FOUND:11013,LOCERR_RELOAD_MAPPING_TABLE_X_NOT_FOUND:11014,LOCERR_RELOAD_LIB_CONNECTION_X_NOT_FOUND:11015,LOCERR_RELOAD_NAME_ALREADY_TAKEN:11016,LOCERR_RELOAD_WRONG_FILE_FORMAT_DIF:11017,LOCERR_RELOAD_WRONG_FILE_FORMAT_BIFF:11018,LOCERR_RELOAD_WRONG_FILE_FORMAT_ENCRYPTED:11019,LOCERR_RELOAD_OPEN_FILE_ERROR:11020,LOCERR_RELOAD_AUTO_GENERATE_COUNT:11021,LOCERR_RELOAD_PE_ILLEGAL_PREFIX_COMB:11022,LOCERR_RELOAD_MATCHING_CONTROL_STATEMENT_ERROR:11023,LOCERR_RELOAD_MATCHING_LIBPATH_X_NOT_FOUND:11024,LOCERR_RELOAD_MATCHING_LIBPATH_X_INVALID:11025,LOCERR_RELOAD_MATCHING_LIBPATH_X_OUTSIDE:11026,LOCERR_RELOAD_NO_QUALIFIED_PATH_FOR_FILE:11027,LOCERR_RELOAD_MODE_STATEMENT_ONLY_FOR_LIB_PATHS:11028,LOCERR_RELOAD_INCONSISTENT_USE_OF_SEMANTIC_FIELDS:11029,LOCERR_RELOAD_NO_OPEN_DATABASE:11030,LOCERR_RELOAD_AGGREGATION_REQUIRED_BY_GROUP_BY:11031,LOCERR_RELOAD_CONNECT_MUST_USE_LIB_PREFIX_IN_THIS_MODE:11032,LOCERR_RELOAD_ODBC_CONNECT_FAILED:11033,LOCERR_RELOAD_OLEDB_CONNECT_FAILED:11034,LOCERR_RELOAD_CUSTOM_CONNECT_FAILED:11035,LOCERR_RELOAD_ODBC_READ_FAILED:11036,LOCERR_RELOAD_OLEDB_READ_FAILED:11037,LOCERR_RELOAD_CUSTOM_READ_FAILED:11038,LOCERR_RELOAD_BINARY_LOAD_PROHIBITED:11039,LOCERR_RELOAD_CONNECTOR_START_FAILED:11040,LOCERR_RELOAD_CONNECTOR_NOT_RESPONDING:11041,LOCERR_RELOAD_CONNECTOR_REPLY_ERROR:11042,LOCERR_RELOAD_CONNECTOR_CONNECT_ERROR:11043,LOCERR_RELOAD_CONNECTOR_NOT_FOUND_ERROR:11044,LOCERR_RELOAD_INPUT_FIELD_WITH_DUPLICATE_KEYS:11045,LOCERR_RELOAD_CONCATENATE_LOAD_NO_PREVIOUS_TABLE:11046,LOCERR_RELOAD_WRONG_FILE_FORMAT_QVD:11047,LOCERR_PERSONAL_NEW_VERSION_AVAILABLE:12e3,LOCERR_PERSONAL_VERSION_EXPIRED:12001,LOCERR_PERSONAL_SECTION_ACCESS_DETECTED:12002,LOCERR_PERSONAL_APP_DELETION_FAILED:12003,LOCERR_USER_AUTHENTICATION_FAILURE:12004,LOCERR_EXPORT_OUT_OF_MEMORY:13e3,LOCERR_EXPORT_NO_DATA:13001,LOCERR_SYNC_INVALID_OFFSET:14e3,LOCERR_SEARCH_TIMEOUT:15e3,LOCERR_DIRECT_DISCOVERY_LINKED_EXPRESSION_FAIL:16e3,LOCERR_DIRECT_DISCOVERY_ROWCOUNT_OVERFLOW:16001,LOCERR_DIRECT_DISCOVERY_EMPTY_RESULT:16002,LOCERR_DIRECT_DISCOVERY_DB_CONNECTION_FAILED:16003,LOCERR_DIRECT_DISCOVERY_MEASURE_NOT_ALLOWED:16004,LOCERR_DIRECT_DISCOVERY_DETAIL_NOT_ALLOWED:16005,LOCERR_DIRECT_DISCOVERY_NOT_SYNTH_CIRCULAR_ALLOWED:16006,LOCERR_DIRECT_DISCOVERY_ONLY_ONE_DD_TABLE_ALLOWED:16007,LOCERR_DIRECT_DISCOVERY_DB_AUTHORIZATION_FAILED:16008,LOCERR_SMART_LOAD_TABLE_NOT_FOUND:17e3,LOCERR_SMART_LOAD_TABLE_DUPLICATED:17001,LOCERR_VARIABLE_NO_NAME:18e3,LOCERR_VARIABLE_DUPLICATE_NAME:18001,LOCERR_VARIABLE_INCONSISTENCY:18002,LOCERR_MEDIA_LIBRARY_LIST_FAILED:19e3,LOCERR_MEDIA_LIBRARY_CONTENT_FAILED:19001,LOCERR_MEDIA_BUNDLING_FAILED:19002,LOCERR_MEDIA_UNBUNDLING_FAILED:19003,LOCERR_MEDIA_LIBRARY_NOT_FOUND:19004,LOCERR_FEATURE_DISABLED:2e4,LOCERR_JSON_RPC_INVALID_REQUEST:-32600,LOCERR_JSON_RPC_METHOD_NOT_FOUND:-32601,LOCERR_JSON_RPC_INVALID_PARAMETERS:-32602,LOCERR_JSON_RPC_INTERNAL_ERROR:-32603,LOCERR_JSON_RPC_PARSE_ERROR:-32700,LOCERR_MQ_SOCKET_CONNECT_FAILURE:33e3,LOCERR_MQ_SOCKET_OPEN_FAILURE:33001,LOCERR_MQ_PROTOCOL_NO_RESPONE:33002,LOCERR_MQ_PROTOCOL_LIBRARY_EXCEPTION:33003,LOCERR_MQ_PROTOCOL_CONNECTION_CLOSED:33004,LOCERR_MQ_PROTOCOL_CHANNEL_CLOSED:33005,LOCERR_MQ_PROTOCOL_UNKNOWN_ERROR:33006,LOCERR_MQ_PROTOCOL_INVALID_STATUS:33007,LOCERR_EXTENGINE_GRPC_STATUS_OK:22e3,LOCERR_EXTENGINE_GRPC_STATUS_CANCELLED:22001,LOCERR_EXTENGINE_GRPC_STATUS_UNKNOWN:22002,LOCERR_EXTENGINE_GRPC_STATUS_INVALID_ARGUMENT:22003,LOCERR_EXTENGINE_GRPC_STATUS_DEADLINE_EXCEEDED:22004,LOCERR_EXTENGINE_GRPC_STATUS_NOT_FOUND:22005,LOCERR_EXTENGINE_GRPC_STATUS_ALREADY_EXISTS:22006,LOCERR_EXTENGINE_GRPC_STATUS_PERMISSION_DENIED:22007,LOCERR_EXTENGINE_GRPC_STATUS_RESOURCE_EXHAUSTED:22008,LOCERR_EXTENGINE_GRPC_STATUS_FAILED_PRECONDITION:22009,LOCERR_EXTENGINE_GRPC_STATUS_ABORTED:22010,LOCERR_EXTENGINE_GRPC_STATUS_OUT_OF_RANGE:22011,LOCERR_EXTENGINE_GRPC_STATUS_UNIMPLEMENTED:22012,LOCERR_EXTENGINE_GRPC_STATUS_INTERNAL:22013,LOCERR_EXTENGINE_GRPC_STATUS_UNAVAILABLE:22014,LOCERR_EXTENGINE_GRPC_STATUS_DATA_LOSS:22015,LOCERR_EXTENGINE_GRPC_STATUS_UNAUTHENTICATED:22016,LOCERR_LXW_INVALID_OBJ:23001,LOCERR_LXW_INVALID_FILE:23002,LOCERR_LXW_INVALID_SHEET:23003,LOCERR_LXW_INVALID_EXPORT_RANGE:23004,LOCERR_LXW_ERROR:23005,LOCERR_LXW_ERROR_MEMORY_MALLOC_FAILED:23006,LOCERR_LXW_ERROR_CREATING_XLSX_FILE:23007,LOCERR_LXW_ERROR_CREATING_TMPFILE:23008,LOCERR_LXW_ERROR_ZIP_FILE_OPERATION:23009,LOCERR_LXW_ERROR_ZIP_FILE_ADD:23010,LOCERR_LXW_ERROR_ZIP_CLOSE:23011,LOCERR_LXW_ERROR_NULL_PARAMETER_IGNORED:23012,LOCERR_LXW_ERROR_MAX_STRING_LENGTH_EXCEEDED:23013,LOCERR_LXW_ERROR_255_STRING_LENGTH_EXCEEDED:23014,LOCERR_LXW_ERROR_SHARED_STRING_INDEX_NOT_FOUND:23015,LOCERR_LXW_ERROR_WORKSHEET_INDEX_OUT_OF_RANGE:23016,LOCERR_LXW_ERROR_WORKSHEET_MAX_NUMBER_URLS_EXCEEDED:23017,LOCERR_CURL_UNSUPPORTED_PROTOCOL:3e4,LOCERR_CURL_COULDNT_RESOLVE_PROXY:30001,LOCERR_CURL_COULDNT_CONNECT:30002,LOCERR_CURL_REMOTE_ACCESS_DENIED:30003,LOCERR_CURL_FTP_ACCEPT_FAILED:30004,LOCERR_CURL_FTP_ACCEPT_TIMEOUT:30005,LOCERR_CURL_FTP_CANT_GET_HOST:30006,LOCERR_CURL_PARTIAL_FILE:30007,LOCERR_CURL_QUOTE_ERROR:30008,LOCERR_CURL_WRITE_ERROR:30009,LOCERR_CURL_UPLOAD_FAILED:30010,LOCERR_CURL_OUT_OF_MEMORY:30011,LOCERR_CURL_OPERATION_TIMEDOUT:30012,LOCERR_CURL_FTP_COULDNT_USE_REST:30013,LOCERR_CURL_HTTP_POST_ERROR:30014,LOCERR_CURL_SSL_CONNECT_ERROR:30015,LOCERR_CURL_FILE_COULDNT_READ_FILE:30016,LOCERR_CURL_LDAP_CANNOT_BIND:30017,LOCERR_CURL_LDAP_SEARCH_FAILED:30018,LOCERR_CURL_TOO_MANY_REDIRECTS:30019,LOCERR_CURL_PEER_FAILED_VERIFICATION:30020,LOCERR_CURL_GOT_NOTHING:30021,LOCERR_CURL_SSL_ENGINE_NOTFOUND:30022,LOCERR_CURL_SSL_ENGINE_SETFAILED:30023,LOCERR_CURL_SSL_CERTPROBLEM:30024,LOCERR_CURL_SSL_CIPHER:30025,LOCERR_CURL_SSL_CACERT:30026,LOCERR_CURL_BAD_CONTENT_ENCODING:30027,LOCERR_CURL_LDAP_INVALID_URL:30028,LOCERR_CURL_USE_SSL_FAILED:30029,LOCERR_CURL_SSL_ENGINE_INITFAILED:30030,LOCERR_CURL_LOGIN_DENIED:30031,LOCERR_CURL_TFTP_NOTFOUND:30032,LOCERR_CURL_TFTP_ILLEGAL:30033,LOCERR_CURL_SSH:30034,LOCERR_SETEXPRESSION_TOO_LARGE:30100},LocalizedWarningCode:{LOCWARN_PERSONAL_RELOAD_REQUIRED:0,LOCWARN_PERSONAL_VERSION_EXPIRES_SOON:1,LOCWARN_EXPORT_DATA_TRUNCATED:1e3,LOCWARN_COULD_NOT_OPEN_ALL_OBJECTS:2e3},GrpType:{GRP_NX_NONE:0,GRP_NX_HIEARCHY:1,GRP_NX_COLLECTION:2},ExportFileType:{EXPORT_CSV_C:0,EXPORT_CSV_T:1,EXPORT_OOXML:2},ExportState:{EXPORT_POSSIBLE:0,EXPORT_ALL:1},DimCellType:{NX_DIM_CELL_VALUE:0,NX_DIM_CELL_EMPTY:1,NX_DIM_CELL_NORMAL:2,NX_DIM_CELL_TOTAL:3,NX_DIM_CELL_OTHER:4,NX_DIM_CELL_AGGR:5,NX_DIM_CELL_PSEUDO:6,NX_DIM_CELL_ROOT:7,NX_DIM_CELL_NULL:8,NX_DIM_CELL_GENERATED:9},StackElemType:{NX_STACK_CELL_NORMAL:0,NX_STACK_CELL_TOTAL:1,NX_STACK_CELL_OTHER:2,NX_STACK_CELL_SUM:3,NX_STACK_CELL_VALUE:4,NX_STACK_CELL_PSEUDO:5},SortIndicatorType:{NX_SORT_INDICATE_NONE:0,NX_SORT_INDICATE_ASC:1,NX_SORT_INDICATE_DESC:2},DimensionType:{NX_DIMENSION_TYPE_DISCRETE:0,NX_DIMENSION_TYPE_NUMERIC:1,NX_DIMENSION_TYPE_TIME:2},FieldSelectionMode:{SELECTION_MODE_NORMAL:0,SELECTION_MODE_AND:1,SELECTION_MODE_NOT:2},FrequencyMode:{NX_FREQUENCY_NONE:0,NX_FREQUENCY_VALUE:1,NX_FREQUENCY_PERCENT:2,NX_FREQUENCY_RELATIVE:3},DataReductionMode:{DATA_REDUCTION_NONE:0,DATA_REDUCTION_ONEDIM:1,DATA_REDUCTION_SCATTERED:2,DATA_REDUCTION_CLUSTERED:3,DATA_REDUCTION_STACKED:4},HypercubeMode:{DATA_MODE_STRAIGHT:0,DATA_MODE_PIVOT:1,DATA_MODE_PIVOT_STACK:2,DATA_MODE_TREE:3},PatchOperationType:{Add:0,Remove:1,Replace:2},SelectionCellType:{NX_CELL_DATA:0,NX_CELL_TOP:1,NX_CELL_LEFT:2},MatchingFieldMode:{MATCHINGFIELDMODE_MATCH_ALL:0,MATCHINGFIELDMODE_MATCH_ONE:1},SessionState:{SESSION_CREATED:0,SESSION_ATTACHED:1,SESSION_ERROR_NO_LICENSE:2,SESSION_ERROR_LICENSE_RENEW:3,SESSION_ERROR_LIMIT_EXCEEDED:4,SESSION_ERROR_SECURITY_HEADER_CHANGED:5,SESSION_ACCESS_CONTROL_SETUP_FAILURE:6},ReloadState:{RELOAD_PAUSED:0,RELOAD_STARTED:1,RELOAD_ABORTED:2},OpenApiVersion:{V2:0,V3:1},QrsChangeType:{QRS_CHANGE_UNDEFINED:0,QRS_CHANGE_ADD:1,QRS_CHANGE_UPDATE:2,QRS_CHANGE_DELETE:3},ExtEngineDataType:{NX_EXT_DATATYPE_STRING:0,NX_EXT_DATATYPE_DOUBLE:1,NX_EXT_DATATYPE_BOTH:2},ExtEngineFunctionType:{NX_EXT_FUNCTIONTYPE_SCALAR:0,NX_EXT_FUNCTIONTYPE_AGGR:1,NX_EXT_FUNCTIONTYPE_TENSOR:2},ExtEngineMsgType:{NX_EXT_MSGTYPE_FUNCTION_CALL:1,NX_EXT_MSGTYPE_SCRIPT_CALL:2,NX_EXT_MSGTYPE_RETURN_VALUE:3,NX_EXT_MSGTYPE_RETURN_MULTIPLE:4,NX_EXT_MSGTYPE_RETURN_ERROR:5}}}},function(e,t,n){(function(t,n){e.exports=n()})(this,function(){"use strict";function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function i(e,i,s,a){i=i||"&";s=s||"=";null===e&&(e=void 0);if("object"===typeof e)return r(o(e),function(o){var a=encodeURIComponent(n(o))+s;return t(e[o])?r(e[o],function(e){return a+encodeURIComponent(n(e))}).join(i):a+encodeURIComponent(n(e[o]))}).join(i);if(!a)return"";return encodeURIComponent(n(a))+s+encodeURIComponent(n(e))}function r(e,t){if(e.map)return e.map(t);var n=[];for(var i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t};function s(n,i,r,o){i=i||"&";r=r||"=";var s={};if("string"!==typeof n||0===n.length)return s;var a=/\+/g;n=n.split(i);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var u=n.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var f=n[c].replace(a,"%20"),d=f.indexOf(r),p,h,v,m;if(d>=0){p=f.substr(0,d);h=f.substr(d+1)}else{p=f;h=""}v=decodeURIComponent(p);m=decodeURIComponent(h);e(s,v)?t(s[v])?s[v].push(m):s[v]=[s[v],m]:s[v]=m}return s}var a={encode:i,stringify:i,decode:s,parse:s};var l=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;"value"in i&&(i.writable=true);Object.defineProperty(e,i.key,i)}}return function(t,n,i){n&&e(t.prototype,n);i&&e(t,i);return t}}();function c(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}var f=function(){function e(){l(this,e)}u(e,null,[{key:"configureDefaults",value:function e(t){t.host||(t.host="localhost");"undefined"===typeof t.secure&&(t.secure=true);t.appId||t.route||(t.route="app/engineData");"undefined"===typeof t.noData&&(t.noData=false)}},{key:"buildUrl",value:function t(n){e.configureDefaults(n);var i=n.secure,r=n.host,o=n.port,s=n.prefix,l=n.subpath,u=n.route,f=n.identity,d=n.urlParams,p=n.ttl,h=n.appId;var v="";v+=(i?"wss":"ws")+"://";v+=r||"localhost";o&&(v+=":"+o);s&&(v+="/"+c(s));l&&(v+="/"+c(l));u?v+="/"+c(u):h&&""!==h&&(v+="/app/"+encodeURIComponent(h));f&&(v+="/identity/"+encodeURIComponent(f));p&&(v+="/ttl/"+p);d&&(v+="?"+a.stringify(d));return v}}]);return e}();return f})},function(e,t,n){!function(t,n){var i,r;true;e.exports=n()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},r=i.lib={},o=r.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=s<<24-(i+o)%4*8}else for(var o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],r=function(t){var t=t,n=987654321,i=4294967295;return function(){var r=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return r/=4294967296,(r+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=r(4294967296*(n||e.random()));n=987654071*a(),i.push(4294967296*a()|0)}return new s.init(i,t)}}),a=i.enc={},l=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(n,t)}},c=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,a=4*o,l=r/a,u=(l=t?e.ceil(l):e.max((0|l)-this._minBufferSize,0))*o,c=e.min(4*u,r);if(u){for(var f=0;f<u;f+=o)this._doProcessBlock(i,f);var d=i.splice(0,u);n.sigBytes-=c}return new s.init(d,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(r.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math);return e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectMerge=t.isLocalStorageAvailable=t.createSession=t.generateId=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(8));var s=t.generateId=o.default;t.createSession=function(){return(new Date).getTime()+"_"+s()},t.isLocalStorageAvailable=function(){try{return window.localStorage.setItem("is this","supported?"),window.localStorage.removeItem("is this"),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==window.localStorage.length}},t.objectMerge=function(e,t){var n=e||{},o=t||{};return Object.keys(n).reduce(function(e,t){return"object"===r(n[t])?e[t]=i({},n[t],o[t]):e[t]=void 0===o[t]?n[t]:o[t],e},{})}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=a(e),t=l(t);var n=this.map[e];this.map[e]=n?n+","+t:t},c.prototype.delete=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=l(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),u(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),u(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];b.redirect=function(e,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=m,e.Response=b,e.fetch=function(e,n){return new Promise(function(i,r){var o=new m(e,n),s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:function(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;i(new b(t,e))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),o.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&i(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=d(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function g(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.location=function(){return{origin:function(){if(!window.location.origin){var e=window.location.port?":"+window.location.port:"";return window.location.protocol+"//"+window.location.hostname+e}return window.location.origin}(),pathname:window.location.pathname}},t.system=function(){return{language:navigator.language,platform:navigator.platform,referrer:document.referrer,screen:{devicePixelRatio:window.devicePixelRatio,height:window.screen.height,width:window.screen.width},timezoneOffset:(new Date).getTimezoneOffset(),userAgent:navigator.userAgent}}},function(e,t,n){e.exports=function(e){return function(t){var n=e,i=n.lib,r=i.WordArray,o=i.Hasher,s=n.algo,a=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),i=2;i<=n;i++)if(!(e%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)e(i)&&(r<8&&(a[r]=n(t.pow(i,.5))),l[r]=n(t.pow(i,1/3)),r++),i++}();var u=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],c=n[5],f=n[6],d=n[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var h=u[p-15],v=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[p-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=v+u[p-7]+g+u[p-16]}var b=i&r^i&o^r&o,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&f)+l[p]+u[p];d=f,f=c,c=a,a=s+x|0,s=o,o=r,r=i,i=x+(y+b)|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+c|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(c),n.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=d(n(6)),a=d(n(15)),l=d(n(16)),u=d(n(17)),c=n(1),f=n(3);function d(e){return e&&e.__esModule?e:{default:e}}var p={apiKey:"",mouseTracker:{enable:!1,timer:500},integrationId:"",productInfo:void 0},h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configure=this.configure.bind(this),this.setPropOnEvents=this.setPropOnEvents.bind(this),this.setupDataHandler=this.setupDataHandler.bind(this),this.setupListeners=this.setupListeners.bind(this),this.start=this.start.bind(this),this.trackEvent=this.trackEvent.bind(this);var n=(0,c.objectMerge)(p,t);this.setupDataHandler(n)}return o(e,[{key:"configure",value:function(t){var n=(0,c.objectMerge)(this.config||p,t);if(this.config){if(!e.validateConfig(n))return;this.config=n,this.setupListeners()}else this.setupDataHandler(n)}}]),o(e,[{key:"setPropOnEvents",value:function(e,t){this.dataHandler&&this.dataHandler.setCustomProp(e,t)}},{key:"setupDataHandler",value:function(t){if(e.validateConfig(t)){this.config=t;var n=this.config,i=n.apiKey,r=n.integrationId,o=n.productInfo;this.dataHandler=new s.default({apiKey:i,integrationId:r,productInfo:o})}}},{key:"setupListeners",value:function(){if(this.config){var e=this.config.mouseTracker;this.loadTracker.addListener(),this.mousemoveTracker.addListener(r({},e))}}},{key:"start",value:function(e){if(this.dataHandler){var t=this.dataHandler.addLocalStorageToBackupQueue;this.eventTracker=new a.default(this.dataHandler),this.loadTracker=new l.default(t),this.mousemoveTracker=new u.default(this.trackEvent),"function"==typeof e&&e(),this.setupListeners(),this.trackEvent("sessionStarted",(0,f.system)(),"qlikmetricsEvent")}}},{key:"trackEvent",value:function(e,t,n){this.eventTracker&&this.eventTracker.trackEvent(e,t,n)}}],[{key:"validateConfig",value:function(e){if(!e)return!1;var t=e.apiKey,n=e.integrationId,r=e.productInfo;return!(!t||t.length<=1)&&!(!n||n.length<=1)&&(!r||!Array.isArray(r)&&"object"===(void 0===r?"undefined":i(r)))}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),s=n(1),a=c(n(11)),l=n(3),u=c(n(12));function c(e){return e&&e.__esModule?e:{default:e}}var f=["eventCategory","eventName","location","qlikmetricsId","qlikmetricsVersion","properties","sessionId","timestamp"],d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addLocalStorageToBackupQueue=this.addLocalStorageToBackupQueue.bind(this),this.addToBackupQueue=this.addToBackupQueue.bind(this),this.getSQS=this.getSQS.bind(this),this.sendBackupQueueToLocalStorage=this.sendBackupQueueToLocalStorage.bind(this),this.sendBackupQueueToSQS=this.sendBackupQueueToSQS.bind(this),this.sendMessage=this.sendMessage.bind(this),this.sendMessageToSQS=this.sendMessageToSQS.bind(this),this.setCustomProp=this.setCustomProp.bind(this),this.setupIds=this.setupIds.bind(this),this.backupQueue=[],this.config=t,this.customProps={},this.envInfo={},this.localStorageKey="backupQueue";var n=this.config,i=n.apiKey,r=n.integrationId,o=n.productInfo;this.credentialsHandler=new a.default({apiKey:i,integrationId:r,productInfo:o}),this.setupIds()}return r(e,[{key:"addLocalStorageToBackupQueue",value:function(){if((0,s.isLocalStorageAvailable)()){var e=JSON.parse(window.localStorage.getItem(this.localStorageKey));e&&(this.backupQueue=this.backupQueue.concat(e),window.localStorage.removeItem(this.localStorageKey))}}},{key:"addToBackupQueue",value:function(e){this.backupQueue.every(function(t){return e.timestamp!==t.timestamp})&&this.backupQueue.push(e)}},{key:"getSQS",value:function(){var e=this;return this.sqs?Promise.resolve(this.sqs):this.credentialsHandler.getCredentials().then(function(t){var n=t.accessKeyId,i=t.queueUrl,r=t.region,o=t.secretAccessKey,s=t.sessionToken,a=t.deploymentEnv,l=t.packagingEnv,c=t.productVersion;return e.sqs=new u.default({accessKeyId:n,apiVersion:"2012-11-05",region:r,secretAccessKey:o,sessionToken:s}),e.envInfo={deploymentEnv:a,packagingEnv:l,productVersion:c},e.queueUrl=i,e.sqs})}},{key:"sendMessage",value:function(e){var t=this,n=i({location:(0,l.location)()},e,{qlikmetricsId:this.qlikmetricsId,qlikmetricsVersion:"2.0.0",sessionId:this.sessionId,timestamp:(new Date).getTime()},this.customProps);return this.sendMessageToSQS(n).then(function(){return t.sendBackupQueueToSQS()}).catch(function(){t.addToBackupQueue(n),t.sendBackupQueueToLocalStorage()})}},{key:"sendMessageToSQS",value:function(e){var t=this;return this.getSQS().then(function(n){return new Promise(function(r,o){var s={DelaySeconds:10,MessageBody:JSON.stringify(i({},e,t.envInfo)),QueueUrl:t.queueUrl};n.sendMessage(s,function(e,t){e?o(e):r(t.MessageId)})})}).catch(function(e){throw"InvalidClientTokenId"!==e.Code&&"ExpiredToken"!==e.Code||(t.sqs=void 0),e})}},{key:"sendBackupQueueToLocalStorage",value:function(){if(!(0,s.isLocalStorageAvailable)())return!1;if(0!==this.backupQueue.length)try{window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.backupQueue))}catch(e){window.localStorage.removeItem(this.localStorageKey);try{window.localStorage.setItem(this.localStorageKey,JSON.stringify(this.backupQueue))}catch(e){return!1}}return!0}},{key:"sendBackupQueueToSQS",value:function(){for((0,s.isLocalStorageAvailable)()&&window.localStorage.removeItem(this.localStorageKey);0!==this.backupQueue.length;)this.sendMessageToSQS(this.backupQueue.pop())}},{key:"setCustomProp",value:function(e,t){e&&"string"==typeof e&&-1===f.indexOf(e)&&void 0!==t&&(this.customProps[e]=t)}},{key:"setupIds",value:function(){var e=(0,o.getQlikmetricsIdCookie)();""===e&&(e=(0,s.generateId)(),(0,o.createQlikmetricsIdCookie)(e)),this.qlikmetricsId=e,this.sessionId=(0,s.createSession)()}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getQlikmetricsIdCookie=function(){for(var e="qlikmetricsId=",t=document.cookie.split(";"),n=0;n<t.length;n+=1){for(var i=t[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return""},t.createQlikmetricsIdCookie=function(e){var t=new Date;t.setFullYear(t.getFullYear()+2),document.cookie="qlikmetricsId="+e+";Expires="+t+";"}},function(e,t,n){var i=n(9),r=n(10);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||r(s)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2);var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.getCredentials=this.getCredentials.bind(this)}return i(e,[{key:"getCredentials",value:function(){var e=this;if(this.fetchingCredentials)return Promise.reject({name:"FetchingCredentials"});this.fetchingCredentials=!0;var t=this.config,n=t.apiKey,i=t.integrationId,r=t.productInfo,o={headers:{Accept:"application/json","x-api-key":n}};return r&&(o.headers["x-product-info"]=JSON.stringify(r)),fetch("https://api.qlikdataengineering.com/sqs-proxy/v1/"+i+"/credentials",o).then(function(e){return e.json()}).then(function(t){return e.fetchingCredentials=!1,t}).catch(function(t){throw e.fetchingCredentials=!1,t})}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2);var r=s(n(13)),o=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return i(e,[{key:"authorizationHeader",value:function(e,t){var n=this.config,i=n.accessKeyId,r=n.region,o="AWS4-HMAC-SHA256 Credential="+i+"/"+e.substring(0,8)+"/"+r+"/sqs/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date;x-amz-security-token, Signature="+t;return o}}]),i(e,[{key:"messageParams",value:function(e){var t=this.config.apiVersion,n=e.DelaySeconds,i=e.MessageBody,r=e.QueueUrl;return"Action=SendMessage&DelaySeconds="+n+"&MessageBody="+encodeURIComponent(i)+"&QueueUrl="+r+"&Version="+t}},{key:"sendMessage",value:function(e,t){var n=e.QueueUrl,i=this.config.sessionToken,r=n.match(/^(?:https?:)?(?:\/\/)?([^/?]+)/)[1];if(r){var s=this.messageParams(e),a=(0,o.default)(s),l=((new Date).toISOString().split(".")[0]+"Z").replace(/-/g,"").replace(/:/g,""),u={host:r,origin:"https://"+r},c=this.signature(u.host,a,l),f=this.authorizationHeader(l,c);fetch(u.origin,{body:s,headers:{Accept:"application/json",Authorization:f,"Content-Type":"application/x-www-form-urlencoded","X-Amz-Content-Sha256":a,"X-Amz-Date":l,"X-Amz-Security-Token":i},method:"POST"}).then(function(e){return e.json()}).then(function(e){e.SendMessageResponse?t(void 0,e.SendMessageResponse.SendMessageResult):e.Error&&t(e.Error,void 0)}).catch(function(e){return t(e,void 0)})}}},{key:"signature",value:function(e,t,n){var i=this.config,s=i.sessionToken,a=i.region,l="POST\n/\n\nhost:"+e+"\nx-amz-content-sha256:"+t+"\nx-amz-date:"+n+"\nx-amz-security-token:"+s+"\n\nhost;x-amz-content-sha256;x-amz-date;x-amz-security-token\n"+t,u=(0,o.default)(l).toString(),c="AWS4-HMAC-SHA256\n"+n+"\n"+n.substring(0,8)+"/"+a+"/sqs/aws4_request\n"+u,f=this.signatureKey(n),d=(0,r.default)(c,f).toString();return d}},{key:"signatureKey",value:function(e){var t=this.config,n=t.region,i=t.secretAccessKey,o=e.substring(0,8),s=(0,r.default)(o,"AWS4"+i),a=(0,r.default)(n,s),l=(0,r.default)("sqs",a);return(0,r.default)("aws4_request",l)}}]),e}();t.default=a},function(e,t,n){e.exports=function(e){return e.HmacSHA256}(n(0),n(4),n(14))},function(e,t,n){e.exports=function(e){!function(){var t=e,n=t.lib,i=n.Base,r=t.enc,o=r.Utf8,s=t.algo;s.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),s=this._iKey=t.clone(),a=r.words,l=s.words,u=0;u<n;u++)a[u]^=1549556828,l[u]^=909522486;r.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var i=t.finalize(this._oKey.clone().concat(n));return i}})}()}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trackEvent=this.trackEvent.bind(this),this.dataHandler=t}return r(e,[{key:"trackEvent",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={eventCategory:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",eventName:t,properties:n};e.validateMessageBody(i)&&this.dataHandler.sendMessage(i)}}],[{key:"validateMessageBody",value:function(e){return!!e.eventName&&!(e.eventName.length<=1)&&"object"===i(e.properties)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListener=this.addListener.bind(this),this.removeListener=this.removeListener.bind(this),this.addLocalStorageToBackupQueue=t}return i(e,[{key:"addListener",value:function(){var e=this;this.removeListener(),this.listener=function(){e.addLocalStorageToBackupQueue()},window.addEventListener("load",this.listener,!0)}},{key:"removeListener",value:function(){this.listener&&window.removeEventListener("load",this.listener,!0)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListener=this.addListener.bind(this),this.eventListener=this.eventListener.bind(this),this.removeListener=this.removeListener.bind(this),this.points=[],this.trackEvent=t}return i(e,[{key:"addListener",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.removeListener();var t=e.enable,n=e.timer;t&&(this.timer=n,window.addEventListener("mousemove",this.eventListener,!0))}},{key:"eventListener",value:function(e){var t=this;clearTimeout(this.timeout);var n=e.pageX,i=e.pageY,r=e.timeStamp;this.points.push({pageX:n,pageY:i,timeStamp:r}),this.timeout=setTimeout(function(){var e=document.body,n=e.scrollHeight,i=e.scrollWidth,r={points:t.points,documentHeight:n,documentWidth:i};t.points=[],t.trackEvent("mousemove",r,"qlikmetricsEvent")},this.timer)}},{key:"removeListener",value:function(){window.removeEventListener("mousemove",this.eventListener,!0)}}]),e}();t.default=r}]).default})},,,,,,,,,,,,,function(e,t,n){var i;(function(r){function o(e,t,n,i,r){this._listener=t;this._isOnce=n;this.context=i;this._signal=e;this._priority=r||0}o.prototype={active:true,params:null,execute:function(e){var t,n;if(this.active&&!!this._listener){n=this.params?this.params.concat(e):e;t=this._listener.apply(this.context,n);this._isOnce&&this.detach()}return t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal;delete this._listener;delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}};function s(e,t){if("function"!==typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function a(){this._bindings=[];this._prevParams=null;var e=this;this.dispatch=function(){a.prototype.dispatch.apply(e,arguments)}}a.prototype={VERSION:"1.0.0",memorize:false,_shouldPropagate:true,active:true,_registerListener:function(e,t,n,i){var r=this._indexOfListener(e,n),s;if(-1!==r){s=this._bindings[r];if(s.isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else{s=new o(this,e,t,n,i);this._addBinding(s)}this.memorize&&this._prevParams&&s.execute(this._prevParams);return s},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){var n=this._bindings.length,i;while(n--){i=this._bindings[n];if(i._listener===e&&i.context===t)return n}return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){s(e,"add");return this._registerListener(e,false,t,n)},addOnce:function(e,t,n){s(e,"addOnce");return this._registerListener(e,true,t,n)},remove:function(e,t){s(e,"remove");var n=this._indexOfListener(e,t);if(-1!==n){this._bindings[n]._destroy();this._bindings.splice(n,1)}return e},removeAll:function(){var e=this._bindings.length;while(e--)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=false},dispatch:function(e){if(!this.active)return;var t=Array.prototype.slice.call(arguments),n=this._bindings.length,i;this.memorize&&(this._prevParams=t);if(!n)return;i=this._bindings.slice();this._shouldPropagate=true;do{n--}while(i[n]&&this._shouldPropagate&&false!==i[n].execute(t))},forget:function(){this._prevParams=null},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var l=a;l.Signal=a;true;!(i=function(){return l}.call(t,n,t,e),void 0!==i&&(e.exports=i))})(this)},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(13),n(1031),n(145)],r=function(e,t,n){e.service("$exportDialog",["luiDialog",function(e){return{show:function i(r,o,s){return e.show({controller:["$scope",function(e){e.states={FAILED:-1,IDLE:0,PENDING:1,COMPLETED:2};e.state=e.states.PENDING;r.getLayout().then(function(n){var i=r.exportData(null,o,n.title||null);e.rpcId=i.requestId;i.then(function(n){e.exportUrl=t.rootPath+n.qUrl.substring(1);e.state=e.states.COMPLETED;n.qWarnings&&1e3===n.qWarnings[0]&&(e.dataIsTruncated=true)},function(t){e.state=e.states.FAILED;e.errorTranslation="ErrorCode."+t.code;t.isHandled=true})});e.openExportWindow=function(){window.open(e.exportUrl)};e.cancel=function(){e.rpcId?r.app.global.cancelRequest(e.rpcId).finally(e.close):e.close()};e.close=function(){e.destroyComponent();s&&s()}}],template:n})}}}])}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t){e.exports='<lui-dialog id="export-dialog">\n\t<div ng-if="state === states.PENDING">\n\t\t<lui-dialog-header q-translation="Export.Exporting"></lui-dialog-header>\n\t\t<lui-dialog-body class="export-dialog-body">\n\t\t\t<div class="qv-loader pb-10"></div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<lui-button ng-click="cancel()" q-translation="Common.Cancel"></lui-button>\n\t\t</lui-dialog-footer>\n\t</div>\n\t<div ng-if="state === states.COMPLETED">\n\t\t<lui-dialog-header q-translation="Export.Completed"></lui-dialog-header>\n\t\t<lui-dialog-body class="export-dialog-body">\n\t\t\t<p class="pb-10">\n\t\t\t\t<span q-translation="Export.CompletedDescription"></span>\n\t\t\t\t<span q-translation="Export.WarningDataTruncated" ng-if="dataIsTruncated"></span>\n\t\t\t</p>\n\t\t\t<p class="pb-10">\n\t\t\t\t<a class="export-url" ng-href="{{exportUrl}}" target="_blank" q-translation="Export.CompletedLink"></a>\n\t\t\t</p>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<lui-button ng-click="close()" q-translation="Common.Close"></lui-button>\n\t\t</lui-dialog-footer>\n\t</div>\n\t<div ng-if="state === states.FAILED">\n\t\t<lui-dialog-header q-translation="Export.Failed"></lui-dialog-header>\n\t\t<lui-dialog-body class="export-dialog-body">\n\t\t\t<p class="pb-10" q-translation="{{errorTranslation}}"></p>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<lui-button ng-click="close()" q-translation="Common.Close"></lui-button>\n\t\t</lui-dialog-footer>\n\t</div>\n</lui-dialog>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e={getSheetHtml:function e(t){var n=t.height||100;var i='<div style="position:relative;width:100%;height: '+n+'%;" class="qvt-sheet">',r=0,o=0;t.cells.forEach(function(e){r=Math.max(r,e.col+e.colspan);o=Math.max(o,e.row+e.rowspan)});t.cells.forEach(function(e){var t="position:absolute;";if(e.bounds){var n=e.bounds;t+="left: "+n.x+"%;";t+="top: "+n.y+"%;";t+="width: calc("+n.width+"% - 10px);";t+="height: calc("+n.height+"% - 10px);";t+="margin: 5px";i+='<div style="'+t+'" data-qid="'+e.name+'" col="'+e.col+'" row="'+e.row+'"></div>'}else{t+="left: "+100*e.col/r+"%;";t+="top: "+100*e.row/o+"%;";t+="width: calc("+100*e.colspan/r+"% - 10px);";t+="height: calc("+100*e.rowspan/o+"% - 10px);";t+="margin: 5px";i+='<div style="'+t+'" data-qid="'+e.name+'" col="'+e.col+'" row="'+e.row+'"></div>'}});i+="</div>";return i}};return e}.apply(t,i),void 0!==r&&(e.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;!(i=[n(48),n(89),n(2015),n(11),n(227),n(1462),n(2016),n(1030)],r=function(e,t,i,r,o,s,a){var l=[];function u(){l.forEach(function(e){e()});l=[]}function c(t,n){n.hasOption("debug");t.setOnError(function(t){if(n.callback&&window[n.callback].onError)window[n.callback].onError(t.code,t.message);else{window.console.log("Error",t);var i=e.getService("$delayedModal");i.isOpened||o.showDialog(t)}},function(e){"OnAuthenticationInformation"!==e.method&&window.console.log("Warning",e)})}function f(t,n){n.hasOption("noanimate")&&e.getService("$animate").enabled(false);t.setLanguage(n.lang);t.theme.apply(n.theme||"sense")}function d(e){return e.model.getLayout().then(function(e){return e.qStateNames})}function p(e,t){e.push("$");return e.indexOf(t)>-1}function h(e){var t={};if(e.indexOf("::")>-1){t.field=e.match(/::(.*)/)[1];t.state=e.match(/(.*)::/)[1]}else{t.field=e;t.state="$"}return t}function v(e,n){var i=[];return d(e).then(function(r){if(n.hasOption("clearselections")){e.clearAll(false,"$");r.forEach(function(t){return e.clearAll(false,s(t))})}else n.clear&&n.clear.forEach(function(t){var n=p(r,t);if(n)return e.clearAll(false,s(t))});n.bookmark&&i.push(function(){return e.bookmark.apply(n.bookmark)});var o=n.select.reduce(function(e,t){var n=t.split(",");var i=h(n[0]);n.length>1&&e.push({field:i.field,state:i.state,values:n.slice(1)});return e},[]);function s(e){try{return decodeURIComponent(e)}catch(t){console.error(t);return e}}function a(e){var t=[];e.forEach(function(e){Number.isNaN(+e)||(e=+e);"number"===typeof e&&t.push({qIsNumeric:true,qNumber:e});t.push({qText:s(e)})});return t}o.forEach(function(t){i.push(function(){var n=s(t.field);var i=s(t.state);var o=a(t.values);var l=p(r,i);if(l&&n)return e.model.enigmaModel.getField(n,i).then(function(e){return e.selectValues(o,false,true)})})});if(i.length)return i.reduce(function(e,t){return e.then(t)},t.resolve())})}function m(e,t){var n=t.model||t;n.isValid&&n.layout.title&&(document.title=n.layout.title);n.Validated.bind(function(){n.layout.title&&(document.title=n.layout.title)});if(e.callback&&window[e.callback].onValid){n.isValid&&window[e.callback].onValid(n.id);n.Validated.bind(function(){window[e.callback].onValid(n.id)})}e.callback&&window[e.callback].onRendered&&t.rendered.promise.then(function(){window[e.callback].onRendered(n.id)})}function g(t,i){var o=n(322);var s=[];t.support.viewData&&s.push({translation:t._isToggled?"contextMenu.viewSource":"contextMenu.viewData",icon:t._isToggled?"back":"table",select:function e(){t.toggleDataView()}});return i.model.getLayout().then(function(n){if(t.support.export&&n.permissions.exportData){s.push({translation:"contextMenu.export.chart.image",tid:"print-object-image",icon:"export",select:function e(){var n=r(t._elements[0]).width()||"640";var i=r(t._elements[0]).height()||"480";var s="Image";o.showForObject(t._scopes[0].object,s,"object",parseInt(n),parseInt(i))}});s.push({translation:"contextMenu.export.chart.pdf",tid:"print-object-pdf",icon:"export",select:function e(){var n=r(t._elements[0]).width()||"640";var i=r(t._elements[0]).height()||"480";var s="Pdf";o.showForObject(t._scopes[0].object,s,"object",parseInt(n),parseInt(i))}});s.push({translation:"contextMenu.export",icon:"export",select:function n(){e.getService("$exportDialog").show(t.model)}})}return s})}function b(e,t,n){e.visualization.get(t).then(function(t){var i=document.getElementById("content");var r=document.getElementById("grid-wrap");var o=n.getApiOptions();t.show(i,o);r.setAttribute("tabindex",-1);r.setAttribute("data-qid","single");r.visModel=t;a.init(o);u();o.ctxmenu&&y(i,t,e);m(n,t)})}function y(t,n,i){var o=e.getService("qvContextMenu");r(window).on("blur",function(){o.close()});t.addEventListener("contextmenu",function e(r){l.push(function(){t.removeEventListener("contextmenu",e)});r.preventDefault();var s=o.menu();g(n,i).then(function(e){e.forEach(function(e){s.addItem(e)});o.show(s,{position:{x:r.pageX,y:r.pageY}})});return false})}function x(e,t,n){e.getSnapshot(document.getElementById("content"),t).then(function(e){m(n,e)})}function _(n,i,o){n.getObject(i).then(function(i){i.getLayout().then(function(i){var l=i.labelExpression||i.qMeta.title;l&&(document.title=l);var c=s.getSheetHtml(i);var f=[];var d=o.getApiOptions();r("#content").html(c).find("div").each(function(e,t){this.dataset.qid&&f.push(n.visualization.get(this.dataset.qid,d).then(function(e){e.show(t,d);t.setAttribute("tabindex",-1);t.visModel=e;u();d.ctxmenu&&y(t,e,n)}))});var p=e.getService("$timeout");p(function(){t.all(f).then(function(){a.init(d)})},100)})})}function w(e,n){var o=new t;var s=i.parse(window.location);c(e,s);f(e,s);if(!s.isValid()){o.reject("Single url not valid");return o.promise}var a={identity:s.identity,host:n.host,port:n.port,prefix:n.prefix};var l=e.openApp(s.app,a);var u=[];l.model.waitForOpen.promise.then(function(){window._app=l.model.enigmaModel;if(l){u.push(function(){return v(l,s)});if(s.hasOption("currsel")||s.hasOption("currsel-dark")){r("#CURRSELPANEL").show();var e={variant:"bright"};s.hasOption("nointeraction")&&(e.noInteraction=true);s.hasOption("noselections")&&(e.noSelections=true);s.hasOption("currsel-dark")&&(e.variant="dark");u.push(function(){return l.getObject("CURRSELPANEL","CurrentSelections",e)})}else r("#CURRSELPANEL").hide();s.object?b(l,s.object,s):s.sheet?_(l,s.sheet,s):s.snapshot&&x(l,s.snapshot,s)}u.length&&u.reduce(function(e,t){return e.then(t)},t.resolve());o.resolve({options:{currsel:s.hasOption("currsel"),noInteraction:s.hasOption("nointeraction"),noAnimate:s.hasOption("noanimate"),language:s.lang}})});return o.promise}return{init:w,_parseField:h}}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[],r=function(){var e=["app","object","sheet","snapshot","theme","options","identity","callback","lang","bookmark","select"];var t={appid:"app",obj:"object",opt:"options"};function n(){Object.defineProperty(this,"select",{value:[]})}n.prototype.hasOption=function(e){if("clearselections"===e&&this.clearselections)return true;return this.options&&this.options.indexOf(e)>-1};n.prototype.getApiOptions=function(){var e={};this.hasOption("nointeraction")&&(e.noInteraction=true);this.hasOption("noselections")&&(e.noSelections=true);this.hasOption("ctxmenu")&&!this.hasOption("nointeraction")&&(e.ctxmenu=true);return e};n.prototype.isValid=function(){return!!(this.app&&(this.object||this.sheet||this.snapshot))};function i(e,t,n){var i=decodeURIComponent(n);if("select"===t)if("clearall"===i)Object.defineProperty(e,"clearselections",{value:true});else if(i.indexOf("::clearall")>-1){var r=i.match(/(.*)::/)[1];e.clear=e.clear||[];e.clear.push(r)}else e.select.push(n);else{"options"===t&&(i=i.toLowerCase());Object.defineProperty(e,t,{value:i})}}n.parse=function(r){var o=new n,s;r.hash?r.hash.substr(1).split("/").forEach(function(t){if(s){i(o,s,t);s=void 0}else e.indexOf(t)>-1&&(s=t)}):r.search.substr(1).split("&").forEach(function(e){var n=e.split("=");if(n.length>0){s=n[0];t[s]&&(s=t[s]);i(o,s,n[1])}});return o};return n}.apply(t,i),void 0!==r&&(e.exports=r))},function(e,t,n){"use strict";var i,r;!(i=[n(167)],r=function(e){var t=[];var n=null;var i={};function r(e){var i,r,o=n.index?n.index:0;var s=Infinity;if("UP"===e){for(var a=t.length-1;a>-1;a--)if(t[a].getAttribute("row")<n.getAttribute("row")){i=t[a].getAttribute("row");break}}else for(var l=0;l<t.length;l++)if(t[l].getAttribute("row")>n.getAttribute("row")){i=t[l].getAttribute("row");break}void 0!==i&&t.forEach(function(e,t){if(e.getAttribute("row")===i){r=Math.abs(e.getAttribute("col")-n.getAttribute("col"));if(r<s){s=r;o=t}}});t[o].focus();return o}function o(e){e=Array.prototype.slice.call(e,0);e=e.sort(function(e,t){return e.getAttribute("row")-t.getAttribute("row")}).sort(function(e,t){return e.getAttribute("row")===t.getAttribute("row")?e.getAttribute("col")-t.getAttribute("col"):0});return e}function s(e){return e.querySelectorAll(".qv-view-data-table").length>0}function a(e){return e.querySelectorAll(".qv-object-wrapper .qv-object-table").length>0&&!s(e)}function l(s){i=s;window.removeEventListener("keydown",u);var l=document.querySelectorAll(".qv-object-table");Object.keys(l).forEach(function(t){l[t].addEventListener("keydown",function(n){n.which===e.ESCAPE&&null===l[t].parentNode.querySelector(".qv-selection-toolbar")&&l[t].parentNode.parentNode.focus()})});t=document.querySelectorAll("div[data-qid]");t=o(t);t[0].setAttribute("tabindex",0);t.forEach(function(e,t){e.addEventListener("focus",function(e){n=e.target;n.index=t})});window.addEventListener("keydown",u);function u(o){o.stopImmediatePropagation();if(!n)return;switch(o.which){case e.ARROW_UP:r("UP");break;case e.ARROW_DOWN:r("DOWN");break;case e.ARROW_LEFT:n.index>0&&t[n.index-1].focus();break;case e.ARROW_RIGHT:n.index<t.length-1&&t[n.index+1].focus();break;case e.SPACE:case e.ENTER:i.noInteraction||(!n||n.visModel._isToggled||a(n)?n.querySelectorAll(".qv-st")[0].focus():n.visModel.toggleDataView());break;case e.ESCAPE:if(n.querySelector(".qv-selection-toolbar"))return;if(document.activeElement.classList.contains("qv-st-data-cell")||document.activeElement.classList.contains("qv-st-header-cell")){n.focus();return}n.visModel._isToggled&&n.visModel.toggleDataView().then(function(){n.focus()});break;default:break}}}return{init:l}}.apply(t,i),void 0!==r&&(e.exports=r))}])]);