/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[75],{1188:function(e,t,n){!function(t,r){var i,o;true;e.exports=r(n(98),n(171),n(189),n(185),n(1125),n(412),n(91),n(48),n(1124),n(1301),n(448))}(window,function(e,t,n,r,i,o,a,s,l,c,u){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=53)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},c=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,n=i.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||i.call(e,t)},u=function(e,t){a&&"__proto__"===t.name?a(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,n,i,o,a,s,p=arguments[0],h=1,d=arguments.length,m=!1;for("boolean"==typeof p&&(m=p,p=arguments[1]||{},h=2),(null==p||"object"!==r(p)&&"function"!=typeof p)&&(p={});h<d;++h)if(null!=(t=arguments[h]))for(n in t)i=f(p,n),p!==(o=f(t,n))&&(m&&o&&(c(o)||(a=l(o)))?(a?(a=!1,s=i&&l(i)?i:[]):s=i&&c(i)?i:{},u(p,{name:n,newValue:e(m,s,o)})):void 0!==o&&u(p,{name:n,newValue:o}));return p}},function(e,t,n){e.exports=n(56)()},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r={};function i(){i.init.call(this)}r.isObject=function(e){return"object"===n(e)&&null!==e},r.isNumber=function(e){return"number"==typeof e},r.isUndefined=function(e){return void 0===e},r.isFunction=function(e){return"function"==typeof e},e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if(!r.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,o,a,s;if(this._events||(this._events={}),"error"===e&&!this._events.error)throw(t=arguments[1])instanceof Error?t:Error('Uncaught, unspecified "error" event.');if(n=this._events[e],r.isUndefined(n))return!1;if(r.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];n.apply(this,o)}else if(r.isObject(n)){for(i=arguments.length,o=new Array(i-1),a=1;a<i;a++)o[a-1]=arguments[a];for(i=(s=n.slice()).length,a=0;a<i;a++)s[a].apply(this,o)}return!0},i.prototype.addListener=function(e,t){var n;if(!r.isFunction(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r.isFunction(t.listener)?t.listener:t),this._events[e]?r.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r.isObject(this._events[e])&&!this._events[e].warned)&&(n=r.isUndefined(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,r.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),r.isFunction(console.trace)&&console.trace());return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!r.isFunction(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,o,a;if(!r.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||r.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r.isObject(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){return e._events&&e._events[t]?r.isFunction(e._events[t])?1:e._events[t].length:0}},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=i},function(e,t){e.exports=o},,,function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(54),e.exports=n(58)},function(e,t){Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e}),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}),Number.isNaN||(Number.isNaN=function(e){return e!=e}),void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)})},function(e,t){e.exports=u},function(e,t,n){"use strict";var r=n(57);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getDarkLabelColor",function(){return Ut}),n.d(r,"getLightLabelColor",function(){return Wt}),n.d(r,"getBackgroundColor",function(){return $t}),n.d(r,"getThemeStyle",function(){return Gt});var i=n(0),o=n.n(i),a=n(13),s=n.n(a),l=n(7),c=n.n(l),u=n(14),f=n.n(u),p=["$date","$timestamp","$time"],h=["D","TS","T"],d={hasTimeTag:function(e){return!!(e&&e.qTags&&e.qTags.some(function(e){return p.some(function(t){return t===e})}))},hasTimeFormat:function(e){return!!(e&&e.qNumFormat&&h.some(function(t){return t===e.qNumFormat.qType}))},isTimeDimension:function(e,t){return!(!e||!t||!d.hasTimeTag(t)&&!d.hasTimeFormat(t))},isTime:function(e,t){return!!(t&&t.qHyperCube.qDimensionInfo&&t.qHyperCube.qDimensionInfo.length)&&e&&d.isTimeDimension(e,t.qHyperCube.qDimensionInfo[0])},canBeContinuousDimension:function(e){if(!e)return!1;var t=e.qTags||[];return!(!e.qContinuousAxes||!t.some(function(e){return"$numeric"===e}))},canBeContinuous:function(e){return!(!(e&&e.qHyperCube&&e.qHyperCube.qDimensionInfo)||e.qHyperCube.qDimensionInfo.length<1)&&d.canBeContinuousDimension(e.qHyperCube.qDimensionInfo[0])},maxNumberOfLines:12},m=d,y={continuous:function(e){return!!m.canBeContinuous(e)&&(!e.dimensionAxis||!e.dimensionAxis.continuousAuto)&&!!e.preferContinuousAxis},dimensionless:function(e){return!e.qHyperCube.qDimensionInfo.length},grouped:function(e){return!this.dimensionless(e)&&e.barGrouping&&"grouped"===e.barGrouping.grouping&&(e.qHyperCube.qDimensionInfo.length>1||e.qHyperCube.qMeasureInfo.length>1)&&!this.continuous(e)},groupedByDimension:function(e){return this.grouped(e)&&e.qHyperCube.qDimensionInfo.length>1&&1===e.qHyperCube.qMeasureInfo.length},groupedByMeasure:function(e){return this.grouped(e)&&1===e.qHyperCube.qDimensionInfo.length&&e.qHyperCube.qMeasureInfo.length>1},stacked:function(e){return(!this.dimensionless(e)&&e.barGrouping&&"grouped"!==e.barGrouping.grouping||this.continuous(e))&&(e.qHyperCube.qDimensionInfo.length>1||e.qHyperCube.qMeasureInfo.length>1)},stackedByDimension:function(e){return this.stacked(e)&&e.qHyperCube.qDimensionInfo.length>1&&1===e.qHyperCube.qMeasureInfo.length},stackedByMeasure:function(e){return this.stacked(e)&&1===e.qHyperCube.qDimensionInfo.length&&e.qHyperCube.qMeasureInfo.length>1},simple:function(e){return 0===e.qHyperCube.qDimensionInfo.length||1===e.qHyperCube.qDimensionInfo.length&&1===e.qHyperCube.qMeasureInfo.length},snapshot:function(e){return!(!e||!e.snapshotData)}};var v={ENTER:"Enter",ESCAPE:"Escape",IE11_ESC:"Esc",SHIFT:"Shift"};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n,r){if(e)for(var i=0;i<n.pages.length;i+=1){var o=n.pages[i][n.prop],a="object"===g(o);e[0].values[0]===n.pages[i].value&&a&&("add"===r?t.addValue(e[0].id,o.value):"remove"===r&&t.removeValue(e[0].id,o.value))}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return e.filter(function(e){return"object"===w(e.data)&&Array.isArray(e.data.fields)}).every(function(e){return e.data.fields.every(function(e){return!!e.raw().qLocked})})}var q=function(e,t){var n=e.component(t);return n&&n._DO_NOT_USE_getInfo&&n._DO_NOT_USE_getInfo().offset},D=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]"),S=new RegExp("[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]"),k=new RegExp("[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]"),O={lrm:String.fromCharCode(8206),rlm:String.fromCharCode(8207),isLtrChar:function(e){return D.test(e)},isRtlChar:function(e){return S.test(e)||k.test(e)},detectTextDirection:function(e){var t,n,r=e?e.length:0;for(t=0;t<r;t++){if(n=e[t],O.isLtrChar(n))return"ltr";if(O.isRtlChar(n))return"rtl"}return"ltr"}},P=O,M=/^[A-Z][A-z0-9_]*$/i,C={setValue:function(e,t,n){if(!t)return!1;var r,i=t.split("."),o=i[i.length-1],a=e;for(r=0;r<i.length-1;++r)void 0===a[i[r]]&&(a[i[r]]=Number.isNaN(+i[r+1])?{}:[]),a=a[i[r]];if(void 0!==n){var s=a[o];return a[o]=n,{updated:n,previous:s}}return delete a[o],!1},getValue:function(e,t,n){var r,i=t.split("."),o=e;if(void 0===o)return n;for(r=0;r<i.length;++r){if(void 0===o[i[r]])return n;o=o[i[r]]}return o},moveArrayElement:function(e,t,n){if(n>=e.length)for(var r=n-e.length;1+r--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])},escapeField:function(e){return!e||"]"===e||M.test(e)?e:"[".concat(e.replace(/\]/g,"]]"),"]")},deleteUndefinedProperties:function(e){Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]})}},A=n(2),I=n.n(A),T=n(1),j=n.n(T),E=n(3);function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=o.a.bind(null,!0),R={},F=Array.isArray;function H(e){return null!=e&&!Array.isArray(e)&&"object"===L(e)}function z(e){return void 0===e}function V(e,t){return"function"==typeof e[t]||"$$"===t.substring(0,2)||"_"===t.substring(0,1)}function B(e,t){var n,r=t.substring(1).split("/").slice(0,-1);return r.forEach(function(t,i){if(i!==r.length){n=+t;var o=isNaN(n)?{}:[];e[n||t]=z(e[n||t])?o:e[t],e=e[n||t]}}),e}function U(e,t){var n=!0;if(H(e)&&H(t))return Object.keys(e).length===Object.keys(t).length&&(Object.keys(e).forEach(function(r){U(e[r],t[r])||(n=!1)}),n);if(F(e)&&F(t)){if(e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r+=1)if(!U(e[r],t[r]))return!1;return!0}return e===t}R.generate=function(e,t,n){n=n||"";var r=[];return Object.keys(t).forEach(function(i){var o=function(e){return e?N({},{val:e}).val:e}(t[i]),a=e[i],s="".concat(n,"/").concat(i);U(o,a)||V(t,i)||(z(a)?r.push({op:"add",path:s,value:o}):H(o)&&H(a)?r=r.concat(R.generate(a,o,s)):F(o)&&F(a)?r=r.concat(function(e,t,n){var r=[],i=e.slice(),o=-1;function a(e,t,n){if(e[n]&&z(e[n].qInfo))return null;if(e[n]&&e[n].qInfo.qId===t)return n;for(var r=0,i=e.length;r<i;r+=1)if(e[r]&&e[r].qInfo.qId===t)return r;return-1}if(U(t,i))return r;if(!z(t[0])&&z(t[0].qInfo))return r.push({op:"replace",path:n,value:t}),r;for(var s=i.length-1;s>=0;s-=1)-1===(o=a(t,i[s].qInfo&&i[s].qInfo.qId,s))?(r.push({op:"remove",path:"".concat(n,"/").concat(s)}),i.splice(s,1)):r=r.concat(R.generate(i[s],t[o],"".concat(n,"/").concat(s)));for(var l=0,c=t.length;l<c;l+=1)-1===(o=a(i,t[l].qInfo&&t[l].qInfo.qId))?(r.push({op:"add",path:"".concat(n,"/").concat(l),value:t[l]}),i.splice(l,0,t[l])):o!==l&&(r.push({op:"move",path:"".concat(n,"/").concat(l),from:"".concat(n,"/").concat(o)}),i.splice(l,0,i.splice(o,1)[0]));return r}(a,o,s)):r.push({op:"replace",path:"".concat(n,"/").concat(i),value:o}))}),Object.keys(e).forEach(function(i){z(t[i])&&!V(e,i)&&r.push({op:"remove",path:"".concat(n,"/").concat(i)})}),r},R.apply=function(e,t){t.forEach(function(t){var n,r=B(e,t.path),i=t.path.split("/").splice(-1)[0],o=i&&isNaN(+i)?r[i]:r[+i]||r,a=t.from?t.from.split("/").splice(-1)[0]:null;if("/"===t.path&&(r=null,o=e),"add"===t.op||"replace"===t.op)if(F(r))"-"===i&&(i=r.length),r.splice(+i,"add"===t.op?0:1,t.value);else if(F(o)&&F(t.value)){var s,l=t.value.slice();o.length=0,(s=o).push.apply(s,_(l))}else if(H(o)&&H(t.value))n=o,Object.keys(n).forEach(function(e){Object.getOwnPropertyDescriptor(n,e).configurable&&!V(n,e)&&delete n[e]}),N(o,t.value);else{if(!r)throw new Error("Patchee is not an object we can patch");r[i]=t.value}else if("move"===t.op){var c=B(e,t.from);F(r)?r.splice(+i,0,c.splice(+a,1)[0]):(r[i]=c[a],delete c[a])}else"remove"===t.op&&(F(r)?r.splice(+i,1):delete r[i])})},R.clone=function(e){return N({},e)},R.createPatch=function(e,t,n){var r={op:e.toLowerCase(),path:n};return"move"===r.op?r.from=t:void 0!==t&&(r.value=t),r},R.updateObject=function(e,t){Object.keys(e).length?R.apply(e,R.generate(e,t)):N(e,t)};var W=R;function $(e,t,n,r){e.getEffectiveProperties().then(function(i){var a=o()(!0,{},i),s=a.qHyperCubeDef[r][t],l=a.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n];l.qAttributeDimensions=s.qAttributeDimensions,l.qAttributeExpressions=s.qAttributeExpressions,s.qAttributeDimensions=[],s.qAttributeExpressions=[],a.qHyperCubeDef[r][t]=l,a.qHyperCubeDef.qLayoutExclude.qHyperCubeDef[r][n]=s,function(e,t,n){var r=W.generate(t,n);r&&r.length&&(r=r.map(function(e){return{qOp:e.op,qValue:JSON.stringify(e.value),qPath:e.path}}),e.applyPatches(r,!0))}(e,i,a)})}function G(e){var t=e.dir,n=e.dock,r=e.altList,i=e.model,o=e.Promise,a=e.translator,s=e.app;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map(function(e){return function(e,t,n,r){if(e.qLibraryId)return t.getDimension(e.qLibraryId).then(function(e){return e.getLayout()}).catch(function(){return null}).then(function(e){return e?"H"!==e.qDim.qGrouping&&e.qDim.qLabelExpression?e.qDim.qLabelExpression:e.qDim.title:r.get("Object.ErrorMessage.MissingDimension")});var i=e.qDef.qLabelExpression;if(i)return t.evaluate(i);var o=e.qDef.qFieldLabels[0]||e.qDef.qFieldDefs[0];return n.resolve(o)}(e,s,o,a).then(function(t){return{id:e.qDef.cId,selected:!1,title:t}})});return o.all(e)},changeTo:function(e,t){$(i,e,t,"qDimensions")}}}function Z(e,t,n){return{breadcrumbs:e.qGroupFallbackTitles.slice(0,e.qGroupPos),drilldown:"H"===e.qGrouping,index:t,locked:!!e.qLocked,text:"H"===e.qGrouping?e.qGroupFallbackTitles[e.qGroupPos]:e.qFallbackTitle,popoverText:(r=e,"H"===r.qGrouping?r.title||"":r.qFallbackTitle||""),drillUp:function(e){var r=t;n.drillUp("/qHyperCubeDef",r,e)}};var r}function K(e){var t=e.dir,n=e.dock,r=e.altList,i=e.model,o=e.Promise,a=e.translator,s=e.app;return 0===r.length?null:{dir:t,dock:n,getAlternatives:function(){var e=r.map(function(e){return function(e,t,n,r){if(e.qLibraryId)return t.getMeasure(e.qLibraryId).then(function(e){return e.getLayout()}).catch(function(){return null}).then(function(e){return e?e.qMeasure.qLabelExpression?e.qMeasure.qLabelExpression:e.qMeasure.qLabel||e.qMeasure.qDef:r.get("Object.ErrorMessage.MissingMeasure")});var i=e.qDef.qLabelExpression;if(i)return t.evaluate(i);var o=e.qDef.qLabel||e.qDef.qDef;return n.resolve(o)}(e,s,o,a).then(function(t){return{id:e.qDef.cId,selected:!1,title:t}})});return o.all(e)},changeTo:function(e,t){$(i,e,t,"qMeasures")}}}function Y(e,t){return{breadcrumbs:[],drilldown:!1,index:t,locked:!1,text:e.qFallbackTitle,popoverText:e.qFallbackTitle}}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(){function e(e){var t=e.title,n=e.selected,r=e.onClick,i=P.detectTextDirection(t);return I.a.createElement(E.List.Item,{onClick:r},I.a.createElement(E.List.Aside,{style:{width:16}},I.a.createElement(E.Icon,{name:n?"tick":""})),I.a.createElement(E.List.Text,{className:"lui-list__text--ellipsis",title:t,dir:i},t))}function t(t){var n=t.alignTo,r=t.changeTo,i=t.current,o=t.dir,a=t.dock,s=t.list,l=t.onClose,c=t.show,u=s.map(function(t,n){return I.a.createElement(e,{key:t.id,title:t.title,onClick:function(){return r(n)}})});return I.a.createElement(E.Popover,{variant:"inverse",alignTo:n,dock:a,show:c,onOutside:l,onEscape:l},I.a.createElement(E.List,{variant:"inverse",dir:o,style:{maxHeight:"300px",overflowY:"auto"}},I.a.createElement(e,{title:i,selected:!0,onClick:l}),u))}e.propTypes={title:j.a.string.isRequired,selected:j.a.bool,onClick:j.a.func.isRequired},e.defaultProps={selected:!1},t.propTypes={alignTo:j.a.any,changeTo:j.a.func.isRequired,current:j.a.string.isRequired,dir:j.a.string.isRequired,dock:j.a.string.isRequired,list:j.a.array,onClose:j.a.func.isRequired,show:j.a.bool.isRequired},t.defaultProps={list:[],alignTo:null};var n=function(e){function n(e){var t,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,(t=!(i=ee(n).call(this,e))||"object"!==X(i)&&"function"!=typeof i?te(r):i).state={open:!1,inSelection:e.selections&&e.selections.isActive()},t.openPopover=t.openPopover.bind(te(t)),t.closePopover=t.closePopover.bind(te(t)),t.changeTo=t.changeTo.bind(te(t)),t.alignToRef=I.a.createRef(),t}var r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(n,I.a.Component),r=n,(i=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selections;t&&(this.onSelectionsActivated=function(){return e.setState({inSelection:!0})},this.onSelectionsDeactivated=function(){return e.setState({inSelection:!1})},t.addListener("activated",this.onSelectionsActivated),t.addListener("deactivated",this.onSelectionsDeactivated),t.addListener("canceled",this.onSelectionsDeactivated))}},{key:"componentWillUnmount",value:function(){var e=this.props.selections;e&&(e.removeListener("activated",this.onSelectionsActivated),e.removeListener("deactivated",this.onSelectionsDeactivated),e.removeListener("canceled",this.onSelectionsDeactivated))}},{key:"changeTo",value:function(e){this.props.popover.changeTo(this.props.titleData.index,e),this.closePopover()}},{key:"openPopover",value:function(){var e=this;this.state.closeTime&&Date.now()-this.state.closeTime<20||this.props.popover.getAlternatives().then(function(t){e.setState({open:!0,alternatives:t})})}},{key:"closePopover",value:function(){this.setState({open:!1,closeTime:Date.now()})}},{key:"render",value:function(){var e=this.props,n=e.titleData,r=e.popover,i=e.translator,o=e.disabled,a=e.isDimension,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}({flex:"1 1 auto",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"normal"},this.props.style),l=n.breadcrumbs.length,c=o||this.state.inSelection,u=n.breadcrumbs.map(function(e,t){return I.a.createElement(E.FadeButton,{style:{display:"flex",color:c&&"rgba(89, 89, 89, 0.8)"},key:t,onClick:function(){return n.drillUp(l-t)},title:e,disabled:c},I.a.createElement(E.FadeButton.Text,{style:s},e),I.a.createElement(E.FadeButton.Icon,{name:"triangle-right",size:"small"}))}),f=r&&!this.state.open?this.openPopover:this.closePopover,p=!r||o||this.state.inSelection,h={display:"flex",width:"100%",color:p&&"rgba(89, 89, 89, 0.8)",height:!a&&p&&"20px",lineHeight:!a&&p&&"20px",border:!a&&p&&"none"},d=P.detectTextDirection(n.text),m=I.a.createElement(E.FadeButton,{style:h,onClick:f,active:this.state.open,disabled:p,title:n.text},n.locked&&I.a.createElement(E.FadeButton.Icon,{name:"lock",size:"small",title:i.get("Tooltip.selections.locked")}),I.a.createElement(E.FadeButton.Text,{style:s,dir:d},n.text),r&&I.a.createElement(E.FadeButton.Caret,null));return I.a.createElement(I.a.Fragment,null,n.drilldown&&I.a.createElement(E.Icon,{name:"select-alternative",size:"small",title:i.get("Tooltip.dimensions.drilldown"),style:{margin:"0 4px 0 0"}}),u,I.a.createElement("div",{ref:this.alignToRef,style:{overflow:"hidden"}},m),r&&I.a.createElement(t,{dock:r.dock,dir:r.dir,current:n.popoverText,alignTo:this.alignToRef.current,show:this.state.open,list:this.state.alternatives,onClose:this.closePopover,changeTo:this.changeTo}))}}])&&Q(r.prototype,i),o&&Q(r,o),n}();return n.propTypes={disabled:j.a.bool.isRequired,titleData:j.a.shape({breadcrumbs:j.a.arrayOf(j.a.string).isRequired,drilldown:j.a.bool.isRequired,index:j.a.number.isRequired,locked:j.a.bool.isRequired,text:j.a.string.isRequired,popoverText:j.a.string.isRequired,drillUp:j.a.func}).isRequired,popover:j.a.shape({dir:j.a.string.isRequired,dock:j.a.string.isRequired,changeTo:j.a.func.isRequired,getAlternatives:j.a.func.isRequired}),translator:j.a.shape({get:j.a.func.isRequired}).isRequired,selections:j.a.shape({isActive:j.a.func,addListener:j.a.func,removeListener:j.a.func}),style:j.a.shape({fontSize:j.a.string,color:j.a.string,fontFamily:j.a.string}).isRequired,isDimension:j.a.bool.isRequired},n.defaultProps={popover:null,selections:null},{renderer:"react",disableTriggers:!0,preferredSize:function(){return this.settings.settings.isDimension||!(e=this.settings.settings).isDimension&&C.getValue(e,"hyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.length")>0?28:20;var e},render:function(){var e=this,t=this.settings,r=t.settings,i=r.hyperCube,o=r.hyperCubeDef,a=r.disabled,s=r.isDimension,l=r.model,c=r.translator,u=r.rtl,f=r.selections,p=r.app,h=t.layout.dock,d="top"!==h&&"bottom"!==h||!u?"ltr":"rtl",m=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center"};return"left"===e?(n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left"):"right"===e&&(n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left"),n}(h,this.rect),y=o&&o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef,v=y&&y[s?"qDimensions":"qMeasures"]||[],g=i[s?"qDimensionInfo":"qMeasureInfo"],b=s?Z:Y,w=(s?G:K)({dir:u?"rtl":"ltr",dock:function(e){return{top:"bottom",bottom:"top",left:"right",right:"left"}[e]}(h),altList:v,model:l,Promise:Promise,translator:c,app:p}),x=g.map(function(t,r){var i=b(t,r,l),o=r===g.length-1;return I.a.createElement(I.a.Fragment,{key:t.cId},I.a.createElement(n,{popover:w,titleData:i,model:l,translator:c,selections:f,disabled:a(),style:e.style,isDimension:s}),!o&&I.a.createElement("span",null,", "))});return I.a.createElement("div",{style:m,dir:d},x)}}};function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(){var e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,se(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,I.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.spanStyle;return I.a.createElement(I.a.Fragment,null,I.a.createElement("span",{ref:this.alignToRef,style:n,title:t},t))}}])&&oe(n.prototype,r),i&&oe(n,i),t}();return e.propTypes={label:j.a.string.isRequired,spanStyle:j.a.shape().isRequired},{renderer:"react",disableTriggers:!0,preferredSize:function(){return 22},render:function(){var t=this.settings,n=t.settings,r=n.label,i=n.rtl,o=t.layout.dock,a="top"!==o&&"bottom"!==o||!i?"ltr":"rtl",s=function(e,t){var n={pointerEvents:"auto",display:"flex",justifyContent:"center",alignItems:"center",color:"#7b7a78",fontStyle:"italic",fontSize:"13px"};switch(e){case"left":n.width="".concat(t.height,"px"),n.transform="rotate(-90deg) translate(-".concat(t.height,"px, 0)"),n.transformOrigin="top left";break;case"right":n.width="".concat(t.height,"px"),n.transform="rotate(90deg) translate(0, -".concat(t.width,"px)"),n.transformOrigin="top left";break;case"center":n.width="".concat(t.width,"px"),n.height="".concat(t.height,"px"),n.color="#595959",n.fontStyle="normal",n.fontSize="1.2em",n.textAlign="center";break;default:case"top":case"bottom":n.justifyContent="flex-start",n.alignItems="flex-start"}return n}(o,this.rect),l="center"===o?r:"* ".concat(r),c="center"!==o?{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}:{};return I.a.createElement("div",{style:s,dir:a},I.a.createElement(I.a.Fragment,null,I.a.createElement(e,{label:l,spanStyle:c})))}}}var ue=n(8),fe=n.n(ue);function pe(){return function(e){e.renderer("react",function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y,r=e.width,i=e.height,o=e.scaleRatio,a=e.margin,s={x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1},margin:{left:0,top:0}};return s.x=Number.isNaN(t)?s.x:t,s.y=Number.isNaN(n)?s.y:n,s.width=Number.isNaN(r)?s.width:r,s.height=Number.isNaN(i)?s.height:i,void 0!==o&&(s.scaleRatio.x=Number.isNaN(o.x)?s.scaleRatio.x:o.x,s.scaleRatio.y=Number.isNaN(o.y)?s.scaleRatio.y:o.y),void 0!==a&&(s.margin.left=Number.isNaN(a.left)?0:a.left,s.margin.top=Number.isNaN(a.top)?0:a.top),s}return function(){var t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).createElement,r=void 0===n?document.createElement.bind(document):n,i=e(),o={element:function(){return t},root:function(){return t},appendTo:function(e){return t||((t=r("div")).style.position="absolute",t.style["-webkit-font-smoothing"]="antialiased",t.style["-moz-osx-font-smoothing"]="antialiased",t.style.pointerEvents="none"),e.appendChild(t),t},render:function(e){if(!t)return!1;var n=i.scaleRatio.x,r=i.scaleRatio.y;return t.style.left="".concat(Math.round(i.margin.left+i.x*n),"px"),t.style.top="".concat(Math.round(i.margin.top+i.y*r),"px"),t.style.width="".concat(Math.round(i.width),"px"),t.style.height="".concat(Math.round(i.height),"px"),t.style.transform="scale(".concat(n,", ").concat(r,")"),t.style.transformOrigin="top left",fe.a.render(e,t),!0},itemsAt:function(){return[]},findShapes:function(){return[]},clear:function(){return t&&fe.a.unmountComponentAtNode(t),o},destroy:function(){t&&t.parentElement&&(fe.a.unmountComponentAtNode(t),t.parentElement.removeChild(t)),t=null},size:function(t){return t&&(i=e(t)),i}};return o}}()),e.component("data-title",re()),e.component("disclaimer",ce())}}function he(e,t){return{range:function(e){var n=e.resources,r=e.data,i=n.theme.palette("categorical",t);return r.items.map(function(e){return i[e.value%i.length]})},valueAccessor:e.value}}function de(e,t){return{range:function(e){var n=e.resources,r=e.data,i=n.theme.palette("categorical",t);return r.items.map(function(e){return i[e.row.value%i.length]})},valueAccessor:e.value}}function me(e,t,n,r,i){var o=i.byRow,a=i.byElemNo;if(r&&(t.input.persistent||e.hc.qDimensionInfo.length>1||void 0===n.activeDimensionIndex&&e.hc.qSize.qcy>e.hc.qDataPages[0].qArea.qHeight))return a(r,r.raw().qCardinal);if(r){var s=t.pic.extract({field:r.key(),trackBy:r.value}).length;return o(r,s)}return{}}function ye(e,t){var n=e.hc.qDimensionInfo,r=t.input.byDimDef||{activeDimensionIndex:n.length-1};if(r.activeDimensionIndex>=0){var i=n[r.activeDimensionIndex];r=i.coloring&&i.coloring.colorMapRef?{type:"libraryItem",key:i.coloring.colorMapRef,activeDimensionIndex:r.activeDimensionIndex}:{activeDimensionIndex:r.activeDimensionIndex}}return r}function ve(e,t){var n;return t.activeDimensionIndex>=0?n=e.pic.fields().filter(function(e){return"dimension"===e.type()})[t.activeDimensionIndex]:"libraryItem"===t.type?n=t.key?e.pic.field(function(e){return e.raw().colorMapRef===t.key}):void 0:"expression"===t.type&&(n=e.pic.field(function(e){return"colorByAlternative"===e.raw().id})),n}var ge=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.getCDef,a=void 0===i?ye:i,s=r.getCByField,l=void 0===s?ve:s,c=r.getPersistence,u=void 0===c?me:c,f=a(t,n),p=l(n,f),h=p?p.raw():{},d=n&&n.pic?n.pic.raw():{};if(h.qError||h.qSize&&0===h.qSize.qcy&&!d.qHasOtherValues)return{invalid:!0};var m={mode:"field",fieldType:"dimension",type:"categorical",field:p?p.key():void 0};return("expression"===f.type||f.activeDimensionIndex<0)&&(m.label=f.label,"color.altLabel"===h.labelExpRef&&(m.label=n.input.altLabel)),!m.label&&p&&(m.label=p.title()),n.input.dimensionScheme&&(m.palettes={categorical:n.input.dimensionScheme}),n.input.useDimColVal&&"libraryItem"===f.type&&(m.auxiliary=f),o()(m,u(t,n,f,p,{byRow:de,byElemNo:he})),m},be=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function we(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xe(){}var qe="\\s*([+-]?\\d+)\\s*",De="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ke=/^#([0-9a-f]{3})$/,Oe=/^#([0-9a-f]{6})$/,Pe=new RegExp("^rgb\\("+[qe,qe,qe]+"\\)$"),Me=new RegExp("^rgb\\("+[Se,Se,Se]+"\\)$"),Ce=new RegExp("^rgba\\("+[qe,qe,qe,De]+"\\)$"),Ae=new RegExp("^rgba\\("+[Se,Se,Se,De]+"\\)$"),Ie=new RegExp("^hsl\\("+[De,Se,Se]+"\\)$"),Te=new RegExp("^hsla\\("+[De,Se,Se,De]+"\\)$"),je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ee(e){var t;return e=(e+"").trim().toLowerCase(),(t=ke.exec(e))?new Fe((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Oe.exec(e))?_e(parseInt(t[1],16)):(t=Pe.exec(e))?new Fe(t[1],t[2],t[3],1):(t=Me.exec(e))?new Fe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ce.exec(e))?Le(t[1],t[2],t[3],t[4]):(t=Ae.exec(e))?Le(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ie.exec(e))?ze(t[1],t[2]/100,t[3]/100,1):(t=Te.exec(e))?ze(t[1],t[2]/100,t[3]/100,t[4]):je.hasOwnProperty(e)?_e(je[e]):"transparent"===e?new Fe(NaN,NaN,NaN,0):null}function _e(e){return new Fe(e>>16&255,e>>8&255,255&e,1)}function Le(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fe(e,t,n,r)}function Ne(e){return e instanceof xe||(e=Ee(e)),e?new Fe((e=e.rgb()).r,e.g,e.b,e.opacity):new Fe}function Re(e,t,n,r){return 1===arguments.length?Ne(e):new Fe(e,t,n,null==r?1:r)}function Fe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function He(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ze(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ve(e,t,n,r)}function Ve(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Be(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ue(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}be(xe,Ee,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),be(Fe,Re,we(xe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Fe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Fe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+He(this.r)+He(this.g)+He(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),be(Ve,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Ve)return new Ve(e.h,e.s,e.l,e.opacity);if(e instanceof xe||(e=Ee(e)),!e)return new Ve;if(e instanceof Ve)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ve(a,s,l,e.opacity)}(e):new Ve(e,t,n,null==r?1:r)},we(xe,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Ve(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ve(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fe(Be(e>=240?e-240:e+120,i,r),Be(e,i,r),Be(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var We=function(e){return function(){return e}};function $e(e,t){return function(n){return e+n*t}}function Ge(e){return 1==(e=+e)?Ze:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):We(isNaN(t)?n:t)}}function Ze(e,t){var n=t-e;return n?$e(e,n):We(isNaN(e)?t:e)}var Ke=function e(t){var n=Ge(t);function r(e,t){var r=n((e=Re(e)).r,(t=Re(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Ze(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Ye(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Re(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Ye(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Ue((n-r/t)*t,a,i,o,s)}}),Ye(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Ue((n-r/t)*t,i,o,a,s)}});function Xe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Je=/^class(-pyramid)?/,Qe=function(e,t,n,r){var i=void 0!==n.min?n.min:r.min(),o=void 0!==n.max?n.max:r.max(),a=i,s=o,l=t.limits,c={},u="percent"===t.limitType?l.map(function(e){return i+(o-i)*e}):l,f=t.colors.map(function(t){return e.resolveUIColor(t)});if(i=Math.min.apply(Math,[i].concat(Xe(u))),o=Math.max.apply(Math,[o].concat(Xe(u))),c.min=i,c.max=o,t.breakTypes&&-1===t.breakTypes.indexOf(!0))c.type="categorical",Object.assign(c,function(e){var t=e.min,n=e.max,r=e.limits,i=e.range,o=[],a=[];if(r[r.length-1]<t)a.push(t,n),o.push(i[i.length-1],i[i.length-1],i[i.length-1]);else if(r[0]>n)a.push(t,n),o.push(i[0],i[0],i[0]);else{if(r[0]>t)a.push(t),o.push(i[0]);else{a.push(t);for(var s=0;s<r.length;s++)if(t<r[s]){o.push(i[s]);break}}for(var l=0;l<r.length;l++)t<r[l]&&r[l]<n&&(a.push(r[l]),o.push(i[l]));if(r[r.length-1]<n)a.push(n),o.push(i[r.length]),o.push(i[r.length]);else{a.push(n);for(var c=0;c<r.length;c++)if(r[c]>n){o.push(i[c]),o.push(i[c]);break}}}return{min:t,max:n,range:o,domain:a}}({min:"percent"===t.limitType?i:a,max:"percent"===t.limitType?o:s,range:f,limits:"percent"===t.limitType?u:l}));else if(t.breakTypes){var p=t.breakTypes;c.type="continuous",c.domain=[i],c.range=[f[0]];for(var h=0;h<u.length;h+=1)if(p[h]){var d=f[h],m=f[h+1],y=Ke(d,m)(.5);c.range.push(y),c.domain.push(u[h]),h<u.length-1&&p[h+1]&&(c.range.push(f[h+1]),c.domain.push((u[h]+u[h+1])/2))}else c.range.push(f[h]),c.range.push(f[h+1]),c.domain.push(u[h]),c.domain.push(u[h]+Math.min(1e-6,(o-i)/1e6));c.range.push(f[f.length-1]),c.domain.push(o)}else c.domain=u,c.range=f;return c};var et=function(e,t,n,r){var i,o,a=t.senseTheme,s=t.hc,l=r.f,c={mode:"field",fieldType:"measure",field:l?l.key():void 0,reverse:n.input.reverseScheme||!1,type:"continuous",range:function(e){return e.resources.theme.palette("quant")}},u=[],f=!0;if(l){if(Number.isNaN(+l.min())||Number.isNaN(+l.max()))return{invalid:!0};(f=!("S"===(i=n.pic.raw()).qMode&&i.qDataPages[0]&&i.qSize.qcy>i.qDataPages[0].qArea.qHeight||"K"===i.qMode&&i.qStackedDataPages[0]&&i.qSize.qcy>i.qStackedDataPages[0].qArea.qHeight))&&(u=n.pic.extract({field:0,props:{num:{field:l.key()},exclude:{fields:s.qDimensionInfo.map(function(e,t){return{field:"qDimensionInfo/".concat(t)}}),value:function(e){return Math.min.apply(Math,Xe(e))<0}}}}).filter(function(e){return e.value>=0&&!e.exclude.value}).map(function(e){return e.num.value}).filter(function(e){return"number"==typeof e}))}if(!1===n.input.autoMinMax){if(c.min=n.input.measureMin,c.max=n.input.measureMax,c.max<c.min)return{invalid:!0}}else if(l&&!f)c.min=l.min(),c.max=l.max();else if(l){if(!u.length)return{invalid:!0};c.min=Math.min.apply(Math,Xe(u)),c.max=Math.max.apply(Math,Xe(u))}if(n.input.measureScheme&&(c.palettes={quant:n.input.measureScheme}),a&&a.properties.scales){var p=a.properties.scales.filter(function(e){return e.propertyValue===n.input.measureScheme})[0];c.type=p&&Je.test(p.type)?"categorical":"continuous","categorical"===c.type&&(o=Math.max.apply(Math,Xe(p.scale.map(function(e){return e?e.length:0}))))}if("categorical"===c.type){for(var h=f?function e(t,n,r,i,o){var a,s,l,c=0,u=[],f=(t-n)/(i+1);if(0===f)return 1;for(a=0;a<r.length;a+=1)s=.99*(r[a]-n),l=r[a]>t?Math.floor(t/f):r[a]<n?0:Math.floor(s/f),Number.isNaN(l)||(u[l]?u[l]+=1:u[l]=1);for(a=0;a<u.length;a+=1)u[a]&&(c+=1);return c<=i||c>=o?Math.max(c,i):e(t,n,r,i+1,o)}(c.max,c.min,u,1,o):o,d=(c.max-c.min)/h,m=[],y=0;y<h+1;y+=1)m.push(c.min+d*y);c.domain=m,c.range=function(e){for(var t=e.resources.theme.palette("quant",h),n=Math.max(1,Math.floor(t.length/h)),r=[],i=0;i<h;i+=1)r.push(t[i*n]);return[r[0]].concat(r,[r[r.length-1]])}}return c};function tt(e,t){var n;return t.activeMeasureIndex>=0?n=e.pic.fields().filter(function(e){return"measure"===e.type()})[t.activeMeasureIndex]:"libraryItem"===t.type?n=e.pic.field(function(e){return e.raw().colorMapRef===t.key&&void 0!==t.key}):"expression"===t.type&&(n=e.pic.field(function(e){return"colorByAlternative"===e.raw().id})),n||(n=e.pic.field(function(e){return void 0!==e.raw().matchMeasure}))&&(n=e.pic.fields().filter(function(e){return"measure"===e.type()})[n.raw().matchMeasure]),n}var nt=function(e,t,n){var r=t.senseTheme,i=t.hc,a=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).getCField,s=void 0===a?tt:a,l=n.input.byMeasureDef||{activeMeasureIndex:0},c=s(n,l),u=et(0,{senseTheme:r,hc:i},n,{f:c});if(u.invalid)return u;("expression"===l.type||l.activeMeasureIndex<0)&&(u.label=l.label,c&&"color.altLabel"===c.raw().labelExpRef&&(u.label=n.input.altLabel)),!u.label&&c&&(u.label=c.title());var f=l.activeMeasureIndex>=0?c:null;if(!f&&c&&void 0!==c.raw().matchMeasure&&c.raw().matchMeasure>-1&&(f=n.pic.fields().filter(function(e){return"measure"===e.type()})[c.raw().matchMeasure],u.field=f.key()),n.input.useMeasureGradient&&"libraryItem"===l.type)if(f){var p=f.raw().coloring;p&&p.gradient&&o()(u,Qe(e,p.gradient,u,f))}else u.auxiliary=l;return u},rt=function(e,t,n,r){var i=t.hc,o=t.senseTheme,a=t.translator,s=n.pic.field(function(e){return"colorByExpression"===e.raw().id});if(!(s&&s.raw().qFallbackTitle&&Number.isFinite(s.raw().qMin)&&Number.isFinite(s.raw().qMax))&&!n.input.expressionIsColor)return{mode:"constant",type:"constant",primary:r.nil};if(n.input.expressionIsColor)return{mode:"field",fieldType:"expression",field:s?s.key():void 0,type:"color"};var l=et(0,{hc:i,senseTheme:o},n,{f:s});return l.invalid?l:(l.label=n.input.expressionLabel||a.get("Object.ChartTooltip.ColorExpression"),l)},it=function(e,t,n,r){var i=t.hc,o=t.senseTheme,a=t.translator,s=n.input.useBaseColors;if(("byMultiple"===n.input.mode||"primary"===n.input.mode&&"measure"===n.input.useBaseColors)&&i.qMeasureInfo.length>1&&(s="measure"),"measure"===s){var l=[],c=[];"measure"===n.input.useBaseColors&&i.qMeasureInfo.forEach(function(t,n){(t.baseColor||t.coloring&&t.coloring.baseColor)&&(l.push(n),c.push(e.resolveUIColor(t.baseColor||t.coloring.baseColor)))});var u=n.input.dimensionScheme?{categorical:n.input.dimensionScheme}:void 0;return"measure"===n.input.useBaseColors&&o&&o.properties.palettes&&o.properties.palettes.data[0]&&(u={categorical:o.properties.palettes.data[0].propertyValue}),{mode:"measure",type:"categorical",palettes:u,label:a?a.get("Common.Measures"):void 0,explicit:l.length?{domain:l,range:c}:void 0}}if("dimension"===s){var f=[],p=[];return i.qDimensionInfo.forEach(function(t,n){(t.baseColor||t.coloring&&t.coloring.baseColor)&&(f.push(n),p.push(e.resolveUIColor(t.baseColor||t.coloring.baseColor)))}),{mode:"dimension",type:"categorical",field:f.length?f[0]:void 0,explicit:f.length?{domain:f,range:p}:void 0}}var h=r.primary;return void 0!==n.input.paletteColor?n.input.paletteColor&&(h=e.resolveUIColor(n.input.paletteColor)):void 0!==n.input.singleColor&&void 0!==n.input.singleColor&&(h=e.resolveUIColor({index:n.input.singleColor})),{mode:"constant",type:"constant",primary:h}};function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function(e,t,n,r){var i=r.external,a=r.field,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ot(e,t,n[t])})}return e}({},e);if(o()(s,he(a,a.raw().qCardinal)),t.nul&&(s.nil=n.resolveUIColor(t.nul)),t.oth&&(s.others=n.resolveUIColor(t.oth)),t.usePal){s.palettes={categorical:t.pal};var l=i.senseTheme&&i.senseTheme.properties.palettes;l&&!t.pal&&l.data&&l.data[0]&&(s.palettes.categorical=l.data[0].propertyValue)}else if(!1===t.autoFill&&t.single)s.range=[n.resolveUIColor(t.single)];else if(t.autoFill){var c=i.senseTheme&&i.senseTheme.properties.palettes;c&&c.data&&c.data[0]&&(s.palettes={categorical:c.data[0].propertyValue}),o()(s,he(a))}return t.colors&&t.colors.length&&(s.explicit=function(e,t,n){for(var r={},i=0;i<e.length;i+=1)r[e[i].value]=e[i].baseColor;var o=[];return{domain:function(e){var i=e.data,a=[];o=[];for(var s=0;s<i.items.length;s++){var l=i.items[s],c=(l.text||l).label;r[c]&&-1===a.indexOf(l.value)&&(a.push(l.value),o.push(t.resolveUIColor(r[c])))}return a.push(-3,-2),o.push(n.others),o.push(n.nil),a},range:function(){return o}}}(t.colors,n,s)),s};function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){st(e,t,n[t])})}return e}({hc:null,colorProps:null,layout:null,senseTheme:null},e),n={},r={auto:function(){return{mode:"primary"}},getDimensionColorMap:function(){return Promise.reject()},getMeasure:function(){return Promise.reject()},getAttributeDimension:function(){return Promise.reject()}},i={auto:function(e){return e?(r.auto=e,i):r.auto},getDimensionColorMap:function(e){return e?(r.getDimensionColorMap=e,i):r.getDimensionColorMap},getAttributeDimension:function(e){return e?(r.getAttributeDimension=e,i):r.getAttributeDimension},getMeasure:function(e){return e?(r.getMeasure=e,i):r.getMeasure},set:function(e){if(!e.colorProps)throw new Error('Missing "colorProps"');if(o()(t,e),(n={pic:t.picasso.data("q")({data:t.hc,config:{localeInfo:t.localeInfo}}),input:t.colorProps}).input.auto){var i=r.auto(e.layout);n.input=o()(!0,{},n.input,i,{auto:!1});var a=t.senseTheme&&t.senseTheme.properties.palettes;a&&a.data&&(n.input.dimensionScheme=a.data[0].propertyValue);var s=0;n.input.byDimDef&&+n.input.byDimDef.activeDimensionIndex>=0&&(s=+n.input.byDimDef.activeDimensionIndex),t.hc&&t.hc.qDimensionInfo[s]&&t.hc.qDimensionInfo[s].coloring&&t.hc.qDimensionInfo[s].coloring.colorMapRef&&n.input.byDimDef&&(n.input.byDimDef.type="libraryItem",n.input.byDimDef.key=t.hc.qDimensionInfo[s].coloring.colorMapRef)}},palettes:function(){if(!n.palettes){var e=t.senseTheme;if(!e)return n.palettes=[],n.palettes;var r=[];Object.keys(e.properties.dataColors||{}).forEach(function(t){r.push({key:t.replace("Color",""),colors:[e.properties.dataColors[t]]})}),(e.properties.palettes.ui||[]).forEach(function(e){r.push({key:"ui",colors:e.colors})}),n.palettes=r}return n.palettes},getAuxiliaryData:function(e){if(!e.auxiliary&&!/qAttrDimInfo/.test(e.field))return Promise.resolve();var n=(e.auxiliary||{}).key;if("measure"===e.fieldType)return r.getMeasure(n,t).catch(function(){});if("dimension"===e.fieldType){var i="/qHyperCubeDef/".concat(e.field).replace("qDimensionInfo","qDimensions").replace("qAttrDimInfo","qAttributeDimensions");return Promise.all([/qAttrDimInfo/.test(e.field)?r.getAttributeDimension(i,t).catch(function(){}):Promise.resolve(),n?r.getDimensionColorMap(n,t).catch(function(){}):Promise.resolve()])}return Promise.resolve()},getAuxiliarySettings:function(e){var r=this;return e.auxiliary||/qAttrDimInfo/.test(e.field)?(this.palettes(),this.getAuxiliaryData(e).then(function(i){if(!i)return{};if("measure"===e.fieldType){if(i.coloring&&i.coloring.gradient){var o=n.pic.field(e.field);return Qe(r,i.coloring.gradient,e,o)}return{}}if("dimension"===e.fieldType){var a={nil:e.nil,others:e.others},s=i[0],l=i[1]?i[1].colorMap:null;if(s){var c=t.picasso.data("q")({data:{qDimensionInfo:[n.pic.field(e.field).raw(),n.pic.field(e.field).raw()],qMeasureInfo:[],qDataPages:s,qInterColumnSortOrder:[0,1],qMode:"S"}});a.legendDataset=c}return l?at(a,l,r,{external:t,field:n.pic.field(e.field)}):a}return{}})):Promise.resolve()},resolveUIColor:function(e){if(e.index<0||void 0===e.index)return e.color;if(void 0===n.uiPalette&&(n.uiPalette=this.palettes().filter(function(e){return"ui"===e.key})[0]||!1),!n.uiPalette)return e.color;var t="none"===n.uiPalette.colors[0]?e.index:e.index-1;return void 0===n.uiPalette.colors[t]?e.color:n.uiPalette.colors[t]},settings:function(){var e=this;if(this.palettes(),!n.settings){var r={primary:"steelblue",others:"#aaa",nil:"#ddd"},i=t.senseTheme;i&&i.properties.dataColors&&(i.properties.dataColors.primaryColor&&(r.primary=i.properties.dataColors.primaryColor),i.properties.dataColors.othersColor&&(r.others=i.properties.dataColors.othersColor),i.properties.dataColors.nullColor&&(r.nil=i.properties.dataColors.nullColor)),n.settings=o()(r,function(){if(n.input&&!n.input.auto){if("byMeasure"===n.input.mode)return nt(e,t,n);if("byDimension"===n.input.mode)return ge(e,t,n);if("byExpression"===n.input.mode)return rt(e,t,n,r);if("byMultiple"===n.input.mode)return it(e,t,n,r);if("primary"===n.input.mode)return it(e,t,n,r)}return{}}())}return n.settings}};return i},ct=function(e,t){var n=e.fieldType,r={};if(t)if("measure"===n){var i=t.coloring;i&&(r.measureGradient=i.gradient)}else if("dimension"===n){var o=t[0],a=t[1];o&&(r.legendDataPage=o),a&&(r.dimValsData=a.colorMap)}return r},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auto,n=e.resources,r=lt(n).auto(t||function(){return{mode:"byDimension",persistent:!1,useDimColVal:!0,byDimDef:{activeDimensionIndex:0,type:"expression",label:""}}}).getDimensionColorMap(function(e,t){return function(e,t,n){var r=t.layout,i=t.app;return r&&r.snapshotData?r.snapshotData.content&&r.snapshotData.content.chartData&&r.snapshotData.content.chartData.dimValsData?n.Promise.resolve({colorMap:r.snapshotData.content.chartData.dimValsData}):n.Promise.reject():i&&i.getObject?i.getObject("ColorMapModel_".concat(e)).then(function(e){return e.getLayout()}):n.Promise.reject()}(e,{layout:t.layout,app:t.app},n)}).getMeasure(function(e,t){return function(e,t,n){var r=t.layout,i=t.app;return r&&r.snapshotData?r.snapshotData.content&&r.snapshotData.content.chartData&&r.snapshotData.content.chartData.measureGradient?n.Promise.resolve({coloring:{gradient:r.snapshotData.content.chartData.measureGradient}}):n.Promise.reject():i&&i.getMeasure?i.getMeasure(e).then(function(e){return e.getMeasure()}):n.Promise.reject()}(e,{layout:t.layout,app:t.app},n)}).getAttributeDimension(function(e,t){return function(e,t,n){var r=t.layout,i=t.model,o=t.app;if(r&&r.snapshotData)return r.snapshotData.content&&r.snapshotData.content.chartData&&r.snapshotData.content.chartData.legendDataPage?n.Promise.resolve(r.snapshotData.content.chartData.legendDataPage):n.Promise.reject();if(i&&i.session&&o)return i.getHyperCubeData(e,[{qHeight:100,qLeft:0,qTop:0,qWidth:2}]);return n.Promise.reject()}(e,{layout:t.layout,model:t.model,app:t.app},n)});return r.getSnapshotData=ct,r};function ft(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.hc,n=e.coloring,r=e.rtl,i=e.key,a=e.source,s=e.picasso,l={},c=i;if(n){var u={override:!0,domain:n.explicit&&"function"==typeof n.explicit.domain?n.explicit.domain:[].concat(ht((n.explicit||{}).domain||[]),[-3,-2]),range:n.explicit&&"function"==typeof n.explicit.range?n.explicit.range:[].concat(ht((n.explicit||{}).range||[]),[n.others,n.nil])};if("field"===n.mode){if("dimension"===n.fieldType){var f,p=function(e){var t=e.hc,n=e.source,r=e.coloring,i={data:{extract:[{source:"dummy",field:0,filter:function(){return i.expando=t.qDataPages[0]?t.qDataPages[0].qArea.qTop:0,!1}},{source:n,field:r.field,trackBy:r.valueAccessor,reduce:"first",props:{row:{reduce:function(){return i.expando++}},text:{value:function(e){return e.qText},reduce:"first"}}}]},expando:0};return i}({hc:t,source:a,coloring:n}).data;if(n.legendDataset){var h=0,d={};s.data("q")({data:t}).extract({field:n.field,trackBy:n.valueAccessor,reduce:function(e){var t=e[0];return d[t]=h++,e[0]}}),f={source:"attrDim",extract:{field:"qDimensionInfo/0",filter:function(e){return e.qElemNumber>=0},props:{row:{value:function(e){return d[e.qElemNumber]}}}}}}var m={data:p,range:n.range,domain:n.domain,explicit:u,type:"categorical-color",label:function(e){return e.datum.text&&e.datum.text.value?e.datum.text.value:e.datum.label}};l[c]=m,f&&(l["".concat(c,"Legend")]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pt(e,t,n[t])})}return e}({},m,{data:f})),t&&t.qHasOtherValues&&f&&((f||m.data).amend=[{label:t.qDimensionInfo[0].othersLabel,source:{key:"qHyperCube",field:"qDimensionInfo/0"},row:{value:-3},value:-3}])}else if("measure"===n.fieldType){var y={data:{field:n.field},min:n.min,max:n.max};l[c]=o()({},y,{type:"categorical"===n.type?"threshold-color":"sequential-color",range:n.range,domain:n.domain,invert:n.reverse}),"sequential-color"===l[c].type&&(l["".concat(c,"Range")]=o()({},y,{invert:!!r}))}else if("color"!==n.type)throw new Error("UNUSED FIELD")}else if("dimension"===n.mode){var v={data:t.qDimensionInfo.map(function(e,t){return t}),label:function(e){return t.qDimensionInfo[e.datum.value].qFallbackTitle},explicit:u,type:"categorical-color"};l[c]=v}else if("measure"===n.mode){var g={data:t.qMeasureInfo.map(function(e,t){return t}),label:function(e){return t.qMeasureInfo[e.datum.value].qFallbackTitle},explicit:u,type:"categorical-color"};l[c]=g}}return l}var mt=function(e){var t,n=e.coloring,r=e.scales,i=e.key,o=n.nil,a=n.others,s=n.primary,l=i,c=i;return n.invalid?t=function(e){return-3===e.datum.value||e.datum["".concat(c,"IsAnOther")]&&e.datum["".concat(c,"IsAnOther")].value?a:o}:r[l]?t=function(e){return-3===e.datum.value?a:-2===e.datum.value||-2===e.datum[c].value&&"dimension"===n.fieldType||"NaN"===e.datum[c].value?o:e.datum["".concat(c,"IsAnOther")]&&e.datum["".concat(c,"IsAnOther")].value?a:e.resources.scale(l)(e.datum[c].value)}:"constant"===n.mode?t=function(e){return-3===e.datum.value||e.datum["".concat(c,"IsAnOther")]&&e.datum["".concat(c,"IsAnOther")].value?a:-2===e.datum.value?o:s}:"color"===n.type&&(t=function(e){return-3===e.datum.value||e.datum["".concat(c,"IsAnOther")]&&e.datum["".concat(c,"IsAnOther")].value?a:-2===e.datum.value?o:e.datum[c].value}),t},yt=function(e,t,n){var r=e&&e.dock||void 0;if("auto"!==r)return r||"right";if(t){var i=t.element.getBoundingClientRect();if(i.height>i.width)return"bottom"}return n?"left":"right"},vt=function(e,t,n){return!(n.invalid||"color"===n.type||"measure"===n.mode&&t.qMeasureInfo.length<=1||"dimension"===n.mode)&&!1!==e.show};function gt(e,t){var n=e.styleReference,r=e.chart,i=e.rtl,o=t.legendProps,a=t.coloring,s=t.senseTheme,l=t.hc;return{layout:{minimumLayoutMode:"MEDIUM",dock:yt(o,r,i)},show:vt(o,l,a),renderer:"svg",mounted:function(e){e.childNodes[0].style.pointerEvents="none",e.style.overflow="hidden"},settings:{title:{show:!1!==o.showTitle,wordBreak:"break-word",maxLines:2,lineHeight:1.2,text:a.label||"",fill:s?s.getStyle(n,"legend.title","color"):void 0,fontSize:s?s.getStyle(n,"legend.title","fontSize"):void 0}}}}function bt(e,t,n){return"categorical"===t.coloring.type?function(e,t,n){var r=gt(e,t);if(!r.show)return!1;var i=e.key,a=e.styleReference,s=e.viewState,l=e.rtl,c=t.scaleKey,u=t.senseTheme,f=t.scales,p={up:"top",down:"bottom",left:"left",right:"right"},h="".concat(c,"Legend");return o()(!0,r,{type:"legend-cat",key:"".concat(i,"-cat"),scale:h in f?h:c,settings:{layout:{scrollOffset:function(){return s?s.get("legendScrollOffset"):void 0},size:-1!==["top","bottom"].indexOf(r.layout.dock)?2:1,direction:l?"rtl":"ltr"},item:{show:function(e){return-2!==e.datum.value},label:{fill:u?u.getStyle(a,"legend.label","color"):void 0,fontSize:u?u.getStyle(a,"legend.label","fontSize"):void 0}},navigation:{disabled:n,button:{class:{"lui-fade-button":!0},content:function(e,t){var n=t.direction;return e("span",{style:{"pointer-events":"none"},class:"lui-button__icon lui-icon lui-icon--triangle-".concat(p[n])})}}}},brush:{consume:[{context:"selection",data:["",i],style:{inactive:{opacity:.3}}}]}})}(e,t,n):"continuous"===t.coloring.type&&function(e,t){var n=e.key,r=e.styleReference,i=e.rtl,a=t.scaleKey,s=t.senseTheme,l=gt(e,t);return!!l.show&&o()(!0,l,{type:"legend-seq",key:"".concat(n,"-seq"),settings:{fill:a,major:"".concat(a,"Range"),length:1,tick:{fill:s?s.getStyle(r,"legend.label","color"):void 0,fontSize:s?s.getStyle(r,"legend.label","fontSize"):void 0},title:{anchor:!i||"top"!==l.layout.dock&&"bottom"!==l.layout.dock?void 0:"right"}}})}(e,t)}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventName,r=t.key,i=t.requireFailure,o=t.recognizeWith,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).actions;return{key:"event:pan-".concat(r),type:"Pan",requireFailure:i,recognizeWith:o,options:{event:n,pointers:1,threshold:10,enable:function(e,t){return this.started===n||!t||!(a&&a.interact&&!a.interact.enabled())&&this.chart.componentsFromPoint({x:t.center.x,y:t.center.y}).some(function(e){return e.key==="".concat(r,"-cat")})}},events:(e={},wt(e,"".concat(n,"start"),function(e){e.preventDefault(),this.started!==n&&(this.started=n,this.chart.component("".concat(r,"-cat")).emit("panstart",e))}),wt(e,"".concat(n,"move"),function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panmove",e)}),wt(e,"".concat(n,"end"),function(e){e.preventDefault(),this.chart.component("".concat(r,"-cat")).emit("panend",e),this.started=!1}),e)}},qt=function(e){var t=e.key,n=e.requireFailure,r=e.recognizeWith,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).actions;return{key:"event:tap-".concat(t),type:"Tap",requireFailure:n,recognizeWith:r,options:{event:"legendtap",interval:10,pointers:1,enable:function(e,n){if(!n)return!0;if(i&&i.interact&&!i.interact.enabled())return!1;if(!this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some(function(e){return e.key==="".concat(t,"-cat")}))return!1;var r=n.srcEvent.target;return!!(r&&r.hasAttribute("data-action")&&r.hasAttribute("data-component-key"))||!(!r||!r.childNodes[0]||"BUTTON"!==r.childNodes[0].nodeName)}},events:{legendtap:function(e){e.preventDefault();var t=e.srcEvent.target;t&&t.hasAttribute("data-action")&&t.hasAttribute("data-component-key")&&this.chart.component(t.getAttribute("data-component-key")).emit(t.getAttribute("data-action"))}}}},Dt=function(e,t,n){var r=[],i=[],o=bt(e,t,n&&n.navigationDisabled);return r.push(o),o&&"legend-cat"===o.type&&(i.push(qt(e,n)),i.push(xt(e,n))),{interactions:i,components:r}};var St=function(e){var t,n,r=e.hc,i=e.coloring,o=e.scales,a=e.key,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=a,c=i.nil;o[a]&&"field"===i.mode?t=o[a].data.field||i.field:"field"===i.mode&&i.field&&(t=i.field),t?(n={field:t,reduce:"first"},"color"===i.type&&(n.value=function(e){return"NaN"!==e.qNum?(t=e.qNum,"rgba(".concat([(16711680&t)>>16,(65280&t)>>8,255&t,((4278190080&t)>>>24)/255].join(","),")")):e.qText&&Ee(e.qText)?e.qText:c;var t})):"dimension"===i.mode?n=void 0!==i.field?i.field:r.qDimensionInfo.length-1:"measure"===i.mode&&(n=s);var u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},l,n);return r.qDimensionInfo.length>1&&(u["".concat(l,"IsAnOther")]={fields:r.qDimensionInfo.map(function(e,t){return{field:"qDimensionInfo/".concat(t)}}),value:function(e){return-1!==e.indexOf(-3)}}),u};function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ot(e,t,n[t])})}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e){var t=ut({resources:e}),n={},r={},i=function(e){return r.settings||(e||console.warn("settings() called before auxiliarySettings()"),r.settings=t.settings()),r.settings},o={config:function(i){if(n=kt({},i),r={},!n.key)throw new Error("Missing key");t.set(kt({},e,n))},auto:function(e){return e?(t.auto(e),o):t.auto()},getAuxiliarySettings:function(){return r.auxiliarySettings?Promise.resolve(r.auxiliarySettings):t.getAuxiliarySettings(i(!0)).then(function(e){return r.auxiliarySettings=e,r.settings=kt({},r.settings,r.auxiliarySettings),e})},getAuxiliaryData:function(){return t.getAuxiliaryData(i())},getSnapshotData:function(){var e=i();return t.getAuxiliaryData(e).then(function(n){return t.getSnapshotData(e,n)})},resolveUIColor:function(e){return t.resolveUIColor(e)},settings:function(){var e=i();return{mode:e.mode,type:e.type,label:e.label,field:e.field,fieldType:e.fieldType}},palettes:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.colorProps,n=e.coloring,r=e.theme,i=[];if(n&&n.palettes&&r){var o=n.palettes.categorical||t.dimensionScheme,a=r.properties.palettes.data.filter(function(e){return e.propertyValue===o})[0]||r.properties.palettes.data[0];o&&a&&i.push({key:"categorical",colors:a.scale});var s=n.palettes.metric||t.measureScheme,l=r.properties.scales.filter(function(e){return e.propertyValue===s})[0];if(l){var c=l.scale[0]?l.scale:[[]].concat(ft(l.scale.slice(1)));c=Array.isArray(c[0])?c.map(function(e){return e.slice().reverse()}):c.slice().reverse(),i.push({key:"quant",colors:c})}}return i}({coloring:i(),colorProps:n.colorProps,theme:n.senseTheme})},scales:function(){return r.scales=r.scales||dt({hc:n.hc,coloring:i(),key:n.key,source:n.source,picasso:e.picasso}),r.scales},color:function(){return r.color=r.color||mt({coloring:i(),scales:this.scales(),key:n.key}),r.color},datumProps:function(e){return St({coloring:i(),scales:this.scales(),key:n.key,hc:n.hc},e)},data:function(){var e=i(),t={key:"dummy",data:[["field"],["a"]]};return e.legendDataset?[t,{type:"q",key:"attrDim",data:e.legendDataset.raw(),config:{localeInfo:n.localeInfo}}]:[t]},legend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eventName,r=e.key,o=e.viewState,a=e.chart,s=e.rtl,l=e.styleReference,c=void 0===l?"object.legend":l,u=arguments.length>1?arguments[1]:void 0;return Dt({eventName:t,key:r,rtl:s,viewState:o,chart:a,styleReference:c},{legendProps:n.legendProps,scaleKey:n.key,coloring:i(),senseTheme:n.senseTheme,hc:n.hc,scales:this.scales()},u)}};return o}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct="legend-cat";function At(e){var t=e.layout;return t.snapshotData.content={chartData:{legendScrollOffset:q(this.chart,Ct),rotation:this.viewState.get("rotation")}},this.colorModel.getSnapshotData().then(function(e){t.snapshotData.content.chartData=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mt(e,t,n[t])})}return e}({},t.snapshotData.content.chartData,e)}).catch(function(){})}var It=!1,Tt={qHyperCubeDef:{qDimensions:[],qMeasures:[],qInitialDataFetch:It?void 0:[{qWidth:10,qHeight:500}],qSuppressZero:!1,qSuppressMissing:!0,qMode:It?"T":"S"},showTitles:!0,title:"",subtitle:"",footnote:"",donut:{showAsDonut:!1},dimensionTitle:!0,dataPoint:{auto:!0,labelMode:"share",labelValueMode:"arc"},color:{auto:!0,mode:"primary",singleColor:void 0,paletteColor:{index:void 0,color:void 0},persistent:!1,useDimColVal:!0,expressionLabel:"",expressionIsColor:!0,measureScheme:void 0,reverseScheme:!1,dimensionScheme:void 0,dimensionId:void 0,autoMinMax:!0,measureMin:void 0,measureMax:void 0,useBaseColors:"off"},legend:{show:!0,dock:"auto",showTitle:!0}};function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Et=[["FULL",{width:550,height:450}],["MEDIUM",{width:400,height:220}],["SMALL",{width:300,height:150}],["XSMALL",{width:150,height:75}],["SPARK",{width:0,height:0}]],_t={};Et.forEach(function(e){var t=jt(e,2),n=t[0],r=t[1],i=r.width,o=r.height;_t[n]={width:i,height:o}});var Lt={getLayoutModes:function(){return _t},getLayoutMode:function(e,t){var n;for(n=0;n<Et.length;++n)if(e>=Et[n][1].width&&t>=Et[n][1].height)return Et[n][0];return"SPARK"}};function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){return{layoutModes:Lt.getLayoutModes(),center:void 0!==t.minCenterRatio?{minWidthRatio:t.minCenterRatio,minHeightRatio:t.minCenterRatio}:void 0,logicalSize:t.logicalSize?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nt(e,t,n[t])})}return e}({align:.5,preserveAspectRatio:!0},t.logicalSize):void 0}}var Ft=.8,Ht=.55;function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=function(e,t){var n=e.layout,r=t.colorModel.datumProps(),i=r[Object.keys(r)[0]],o=i&&i.field?i.field:void 0,a="qDimensionInfo/0"===o,s=o?t.ds.field(o).raw():null,l=s&&(s.label||s.title||s.qFallbackTitle)||"",c=t.encodings.slice.outerRadius,u=t.chart.formatter;function f(e,n){var r=t.ds.field(e).raw();return{field:e,label:r.isCustomFormatted||!r.qIsAutoFormat&&"U"!==r.qNumFormat.qType?function(e){return e.qText}:function(e){return u(n)(e.qNum)}}}return{type:"pie",key:"slices",data:{extract:{field:"qDimensionInfo/0",props:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zt(e,t,n[t])})}return e}({},r,{num:f(t.encodings.slice.arc,"arc"),fillTooltip:o?{field:o,label:l,value:function(e){return a?e.qText||"-":void 0!==e.qNum&&"NaN"!==e.qNum?e.qText?e.qText:e.qNum:e.qText||"-"}}:void 0,radius:c?f(c,"outerRadius"):void 0})}},brush:{consume:[{context:"selection",data:["","fill"],style:{inactive:{opacity:.3},active:{stroke:"rgba(52, 52, 52, 0.7)",strokeWidth:2}}},{context:"highlight",data:[""],style:{inactive:{fill:"#BFDAD9"},active:{fill:"#68B2AF"}}}]},settings:{startAngle:function(){return t.viewState.get("rotation")},endAngle:function(){return t.viewState.get("rotation")+2*Math.PI},slice:{arc:{ref:"num"},innerRadius:function(e,t){return e.layout.donut.showAsDonut?t.encodings.slice.outerRadius?{scale:"radius",fn:function(e){var t=Ft-Ht,n=Ht;return e.scale(Math.min(0,e.datum.radius.value))*t+n}}:Ht:0}({layout:n},t),fill:t.colorModel.color(),strokeWidth:0,outerRadius:function(e,t){var n=e.layout;return t.encodings.slice.outerRadius?{scale:"radius",fn:function(e){var t=Ft,r=0;return n.donut.showAsDonut&&(t=Ft-Ht,r=Ht),e.scale(Math.max(0,e.datum.radius.value))*t+r}}:Ft}({layout:n},t)}}}},Bt=function(e){return e&&e.properties},Ut=function(e){var t=Bt(e);return t&&t.object&&t.object.label&&t.object.label.value&&t.object.label.value.color?t.object.label.value.color:"#333333"},Wt=function(e){var t=Bt(e);return t&&t._variables&&t._variables["@myColorLight"]?t._variables["@myColorLight"]:"#FFFFFF"},$t=function(e){var t=Bt(e);return t&&t.backgroundColor?t.backgroundColor:"#FFFFFF"},Gt=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return e?e.getStyle(t,n,r):i};var Zt=function(){return{key:"area",type:"brush-area",settings:{brush:{components:[{key:"slices",contexts:["selection"],action:"add"}]}},style:{area:{fill:"transparent",strokeWidth:2,stroke:"black",strokeDasharray:"5 5",opacity:.7}}}},Kt=function(){return{key:"lasso",type:"brush-lasso",layout:{displayOrder:99},settings:{brush:{components:[{key:"slices",contexts:["selection"]}]},lasso:{fill:"rgba(0, 0, 0, 0)",stroke:"black",strokeWidth:2,opacity:.7,strokeDasharray:[]},snapIndicator:{threshold:75,strokeDasharray:"5, 5",stroke:"black",strokeWidth:2,opacity:.7},startPoint:{r:10,stroke:"rgba(77, 192, 78, 1)",strokeWidth:0,opacity:1}}}},Yt=Math.PI/180,Xt=180/Math.PI,Jt=.96422,Qt=1,en=.82521,tn=4/29,nn=6/29,rn=3*nn*nn,on=nn*nn*nn;function an(e){if(e instanceof sn)return new sn(e.l,e.a,e.b,e.opacity);if(e instanceof dn){if(isNaN(e.h))return new sn(e.l,0,0,e.opacity);var t=e.h*Yt;return new sn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Fe||(e=Ne(e));var n,r,i=fn(e.r),o=fn(e.g),a=fn(e.b),s=ln((.2225045*i+.7168786*o+.0606169*a)/Qt);return i===o&&o===a?n=r=s:(n=ln((.4360747*i+.3850649*o+.1430804*a)/Jt),r=ln((.0139322*i+.0971045*o+.7141733*a)/en)),new sn(116*s-16,500*(n-s),200*(s-r),e.opacity)}function sn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function ln(e){return e>on?Math.pow(e,1/3):e/rn+tn}function cn(e){return e>nn?e*e*e:rn*(e-tn)}function un(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function fn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pn(e){if(e instanceof dn)return new dn(e.h,e.c,e.l,e.opacity);if(e instanceof sn||(e=an(e)),0===e.a&&0===e.b)return new dn(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Xt;return new dn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hn(e,t,n,r){return 1===arguments.length?pn(e):new dn(e,t,n,null==r?1:r)}function dn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}be(sn,function(e,t,n,r){return 1===arguments.length?an(e):new sn(e,t,n,null==r?1:r)},we(xe,{brighter:function(e){return new sn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new sn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Fe(un(3.1338561*(t=Jt*cn(t))-1.6168667*(e=Qt*cn(e))-.4906146*(n=en*cn(n))),un(-.9787684*t+1.9161415*e+.033454*n),un(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),be(dn,hn,we(xe,{brighter:function(e){return new dn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new dn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return an(this).rgb()}}));var mn=function(e){return function(t){return hn(t.node.attrs.fill).l<70?Wt(e):Ut(e)}};function yn(e,t){return{padding:10,placements:e.simplifiedPlacements.map(function(n){return function(e,t,n){return{position:e.position,justify:e.justify,fill:e.onBackground?Gt(t,n,"label.value","color"):mn(t),overflow:e.overflow}}(n,t,e.themeId)}),fontSize:function(e,t,n,r){var i=parseInt(Gt(e,t,n,r),10);if(!isNaN(i))return i}(t,e.themeId,"label.value","fontSize"),label:e.label}}function vn(e){return hn(e).l<70}var gn=r.getDarkLabelColor,bn=r.getLightLabelColor,wn=r.getThemeStyle;function xn(e){var t=e.node.desc&&e.node.desc.share;return t?e.formatter("share")(t):""}function qn(e){return e.node.data.num.label}function Dn(e){return e.node.data.radius.label}function Sn(e,t,n){return e.dataPoint.auto?n?qn:xn:"share"===e.dataPoint.labelMode?xn:"value"===e.dataPoint.labelMode?t.encodings.slice.outerRadius&&"radius"===e.dataPoint.labelValueMode?Dn:qn:null}function kn(e){var t=e.data;return t?t.label:""}function On(e,t,n){var r=parseInt(wn(e,"object.pieChart",t,n),10);if(!isNaN(r))return r}var Pn=function(e){return function(t){return vn(t.node.attrs.fill)?bn(e):gn(e)}};function Mn(e){var t=e.node,n=e.data;return o()({_share:t.desc.share,_fillColor:t.attrs.fill},n)}function Cn(e,t,n){var r=[{padding:10,direction:t.encodings.slice.outerRadius?"rotate":"horizontal",placements:[{position:"outside",fill:wn(n.theme,"object.pieChart","label.name","color")}],fontSize:On(n.theme,"label.name","fontSize"),label:kn,linkData:function(e){var t=e.node,n=e.data;return o()({_share:t.desc.share,_fillColor:t.attrs.fill,_showTooltip:!0},n)}}];if(Sn(e,t,!1)){var i=function(e,t,n){return{label:Sn(e,t,!1),simplifiedPlacements:[{position:e.donut.showAsDonut?"inside":"into",onBackground:e.donut.showAsDonut}],theme:n.theme,themeId:"object.pieChart"}}(e,t,n),a=yn(o()(t,i),n.theme);a.linkData=Mn,r.push(a)}return{key:"pie-labels",type:"labels",layout:{displayOrder:2,minimumLayoutMode:"XSMALL"},settings:{sources:[{component:"slices",selector:"path",strategy:{type:"slice",settings:{labels:r}}}]},brush:{consume:[{context:"selection",data:["","fill"],style:{inactive:{opacity:.3}}}]}}}function An(e,t){var n=e.layout,r=e.context;return!1!==n.dataPoint.show&&(1===t.dataRowCount?function(e,t,n){var r=Sn(e,t,!0);return{key:"pie-labels",type:"labels",layout:{displayOrder:2,minimumLayoutMode:"XSMALL"},settings:{sources:[{component:"slices",selector:"path",strategy:{type:"rows",settings:{align:.5,justify:.5,padding:10,labels:[{fill:e.donut.showAsDonut?wn(n.theme,"object.pieChart","label.name","color"):Pn(t),fontSize:On(n.theme,"label.name","fontSize"),label:kn},{fill:e.donut.showAsDonut?wn(n.theme,"object.pieChart","label.value","color"):Pn(t),fontSize:On(n.theme,"label.value","fontSize"),label:r}]}}}]}}}(n,t,r):Cn(n,t,r))}var In="#la-vie-tooltip";function Tn(){if(!document.querySelector(In)){var e=document.createElement("div");e.id="la-vie-tooltip",e.style.overflow="hidden",e.style.position="fixed",e.style.pointerEvents="none",e.style.left="0px",e.style.top="0px",e.style.width="100%",e.style.height="100%",e.style.zIndex=1020,document.body.appendChild(e)}}function jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{show:!0,key:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tooltip",type:"tooltip",layout:{displayOrder:3},beforeMount:function(){Tn()},beforeUpdate:function(){Tn()},destroyed:function(){var e;(e=document.querySelector(In))&&e.parentElement&&e.childElementCount<1&&e.parentElement.removeChild(e)},settings:{appendTo:function(){return document.querySelector(In)},content:function(e){var t=e.h,n=e.data,r=e.style;return n[0].map(function(e){return t("tr",{},function(e,t){var n=t.h,r=t.style;return e.map(function(e){var t={style:Object.assign({},r.cell||{},e.style||{}),class:e.class};return e.colspan&&(t.colspan=e.colspan),n("td",t,e.content)})}(e,{h:t,style:r}))})},direction:t.rtl?"rtl":"ltr"},style:{arrow:{color:"#404040"},content:{display:"table","border-spacing":"4px",backgroundColor:"#404040",fontSize:"14px",fontFamily:"QlikView Sans, sans-serif","empty-cells":"show"},cell:{"max-width":"180px","word-break":"break-word","word-wrap":"break-word","overflow-wrap":"break-word",hyphens:"auto"}}}}function En(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _n(e,t){return e.h("div",{style:{display:"inline-block",width:"10px",height:"10px","background-color":t.color.fill,margin:"0 8px"}})}function Ln(e){return[{content:e.title,style:{"font-weight":600},colspan:2},{}]}function Nn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[e.value];return r&&o.unshift(_n(t,n)),[{content:e.label},{content:o,style:{"text-align":i?"left":"right"}}]}function Rn(e,t){return void 0===e.share.value?[]:[{content:e.share.label},{content:e.share.value,style:{"text-align":t?"left":"right"}}]}function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=jn(e,t);return o()(!0,r,{scale:"fill",settings:{filter:function(e){return e.filter(function(e){return e.data&&("path"===e.type&&("slices"===e.key||"negative-indicators"===e.key)||"text"===e.type&&e.data._showTooltip&&"pie-labels"===e.key)})},extract:function(e){var r=function(e,t){var n,r=e.node,i=e.node.data,o=e.resources.formatter,a=e.resources.dataset,s={};if("color"!==t.coloring.type&&i.fillTooltip){var l=o("fill"),c="measure"===t.coloring.fieldType;s.value=c&&l?l(i.fillTooltip.value):i.fillTooltip.value,s.label="".concat(i.fillTooltip.label,":")}function u(e){var t=a(e.source.key).field(e.source.field).title();return{label:"".concat(t,":"),value:e.label,field:e.source.field}}t.coloring.label&&(s.label="".concat(t.coloring.label,":")),s.fill=void 0===i._fillColor?r.attrs.fill:i._fillColor,r&&r.desc&&void 0!==r.desc.share?n=r.desc.share:r&&i&&void 0!==i._share&&(n=i._share);var f=[u(i.num)];return t.encodings.slice.outerRadius&&f.push(u(i.radius)),{title:i.label,color:s,share:{label:"".concat(t.translator&&t.translator.get("properties.dataPoints.labelmode.share")||"Share",":"),value:void 0!==n?o("share")(n):void 0},measures:f}}(e,t);return function(e,t){return t.measures.some(function(t){return t.field===e.coloring.field})||void 0===t.color.value}(t,r)?[Ln(r)].concat(En(r.measures.map(function(i){return Nn(i,e,r,i.field===t.coloring.field,n.rtl)})),[Rn(r,n.rtl)]):[Ln(r),function(e,t,n){var r=[_n(e,t)];return r.push(t.color.value),[{content:t.color.label},{content:r,style:{"text-align":n?"left":"right"}}]}(e,r,n.rtl)].concat(En(r.measures.map(function(t){return Nn(t,e,r,!1,n.rtl)})),[Rn(r,n.rtl)])},placement:function(e){return"slices"===e.nodes[0].key?{type:"slice"}:{type:"bounds"}},direction:n.rtl?"rtl":"ltr"}})}var Hn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Pan",requireFailure:t.requireFailure,recognizeWith:t.recognizeWith,options:{event:"legendRange",enable:function(t,n){if(this.started||!n)return!0;if(!e.interactions.selections.enabled())return!1;var r=(this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some(function(e){return"legend-seq"===e.type})||function(e){var t=e.srcEvent.target;return!(!t||!(t.hasAttribute("data-other-value")&&t.hasAttribute("data-idx")||"INPUT"===t.nodeName))}(n))&&!e.isLocked([this.chart.component("slices")]);return r||this.chart.component("legendRangeBrush").emit("rangeClear"),r}},events:{legendRangestart:function(t){t.preventDefault(),e.interactions.emit("selections-start"),this.chart.component("legendRangeBrush").emit("rangeStart",t),this.started=!0},legendRangemove:function(e){e.preventDefault(),this.chart.component("legendRangeBrush").emit("rangeMove",e)},legendRangeend:function(t){t.preventDefault(),this.chart.component("legendRangeBrush").emit("rangeEnd",t),e.onSelect(),this.started=!1}}}};function zn(e,t){var n,r,i=t.element.getBoundingClientRect();return e.center?(n=e.center.x,r=e.center.y):(n=e.clientX,r=e.clientY),{x:n-i.left,y:r-i.top}}function Vn(e,t){var n=t.component("slices");if(!n)return!1;var r,i,o,a,s=zn(e,t),l=s.x,c=s.y,u=n.rect.x+n.rect.margin.left+n.rect.width/2,f=n.rect.y+n.rect.margin.top+n.rect.height/2,p=Math.min(n.rect.width,n.rect.height)/2*Ft;return r=u,i=f,o=l,a=c,Math.pow(r-o,2)+Math.pow(i-a,2)<=Math.pow(p,2)}var Bn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Tap",requireFailure:t.requireFailure,recognizeWith:t.recognizeWith,options:{event:"tap",interval:10,pointers:1,enable:function(t,n){return!n||!!e.interactions.selections.enabled()&&(this.components=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).filter(function(e){return"slices"===e.key||"legend-cat"===e.key||"pie-labels"===e.key}),this.components.length)}},events:{tap:function(t){t.preventDefault();var n=t.srcEvent.target;if(!n||"INPUT"!==n.nodeName&&!n.hasAttribute("data-other-value")){if(n&&n.hasAttribute("data-action")&&n.hasAttribute("data-component-key"))this.chart.component(n.getAttribute("data-component-key")).emit(n.getAttribute("data-action"));else if(!(n&&n.children&&n.children[0]&&"legend-cat"===n.children[0].getAttribute("data-component-key")||e.isLocked(this.components))){e.interactions.emit("selections-start");var r=zn(t,this.chart);this.components.some(function(e){return"legend-cat"===e.key})&&(r={cx:r.x,cy:r.y,r:5});var i=this.chart.shapesAt(r,{components:[{key:"slices",propagation:"stop"},{key:"legend-cat",propagation:"stop"},{key:"pie-labels",propagation:"stop"}],propagation:"stop"}),o=this.chart.component("tooltip"),a="mouse"!==t.pointerType&&o&&o.show;i.length?(this.chart.brushFromShapes(i,{components:[{key:i[0].key,action:t.srcEvent.ctrlKey?"set":"toggle",contexts:["selection"]}]}),e.onSelect(),a&&this.components.some(function(e){return"slices"===e.key})&&o.emit("show",t,{nodes:i})):a&&o.emit("hide")}}else this.chart.component("legendRangeBrush").emit("bubbleStart",t)}}}},Un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Pan",requireFailure:t.requireFailure,recognizeWith:t.recognizeWith,options:{event:"lasso",enable:function(t,n){if(this.isStarted||!n)return!0;if(!e.interactions.selections.enabled()||!e.interactions.lasso.active())return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y});return!e.isLocked(r)&&r.some(function(e){return"slices"===e.key})}},events:{lassostart:function(t){t.preventDefault(),e.interactions.lasso.enabled()&&!this.isStarted&&(e.interactions.emit("selections-start"),this.chart.component("lasso").emit("lassoStart",t),this.isStarted=!0)},lassomove:function(e){e.preventDefault(),this.chart.component("lasso").emit("lassoMove",e)},lassoend:function(t){t.preventDefault(),this.isStarted=!1,this.chart.component("lasso").emit("lassoEnd",t),e.onSelect()}}}},Wn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Tap",requireFailure:t.requireFailure,recognizeWith:t.recognizeWith,options:{event:"areatap",pointers:2,enable:function(t,n){if(this.started||!n)return!0;if(!e.interactions.selections.enabled())return!1;var r=this.chart.componentsFromPoint({x:n.center.x,y:n.center.y});return r.some(function(e){return"slices"===e.key})&&!e.isLocked(r)}},events:{areatap:function(t){var n=this,r=this.chart.component("area");r&&!this.started&&(e.interactions.emit("selections-start"),r.emit("areaStart",t.pointers[0]),r.emit("areaMove",t.pointers[1]),this.started=!0,setTimeout(function(){r.emit("areaEnd"),e.onSelect(),n.started=!1},100)),t.preventDefault()}}}};function $n(e){var t=e.chart.component("tooltip");t&&t.show&&t.emit("hide")}function Gn(e){return{type:"native",key:"theusual",events:{wheel:function(t){var n=!1;if(e.interactions.rotate.active()&&Vn(t,this.chart)){var r=Math.sign(-t.deltaY);e.viewState.set("rotation",r*(Math.PI/12)),n=!0}else if(e.interactions.selections.enabled()){var i=this.chart.componentsFromPoint(t).filter(function(e){return"legend-cat"===e.key})[0];i&&(n=!0,function(e,t){var n=(Math.abs(e.deltaX)>Math.abs(e.deltaY)?e.deltaX:e.deltaY)>=0?"next":"prev";t.emit(n)}(t,i))}n&&t.preventDefault(),$n(this)},mousemove:function(t){if(e.interactions.tooltip.active()){var n=this.chart.componentsFromPoint({x:t.clientX,y:t.clientY}),r=this.chart.component("tooltip");r&&r.show&&n.some(function(e){return"slices"===e.key})?r.emit("show",t):r&&r.show&&r.emit("hide")}},mouseup:function(e){2===e.button&&$n(this)},mouseleave:function(){$n(this)}}}}var Zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Pan",requireFailure:t.requireFailure,recognizeWith:t.recognizeWith,options:{event:"rotate",pointers:1,threshold:10,enable:function(t,n){return!(!this.started&&n)||!(!e.interactions.rotate.active()||e.interactions.lasso.active())&&Vn(n,this.chart)}},events:{rotatestart:function(e){e.preventDefault();var t=this.chart.component("slices").rect,n=this.chart.element.getBoundingClientRect();this.pieCenter={x:n.left+t.x+t.width/2,y:n.top+t.y+t.height/2},this.prevAngle=Math.atan2(e.center.y-this.pieCenter.y,e.center.x-this.pieCenter.x),this.started=!0},rotatemove:function(t){t.preventDefault();var n=Math.atan2(t.center.y-this.pieCenter.y,t.center.x-this.pieCenter.x);e.viewState.set("rotation",n-this.prevAngle),this.prevAngle=n},rotateend:function(e){e.preventDefault(),this.started=!1},rotatecancel:function(e){e.preventDefault(),this.started=!1}}}},Kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"Pan",requireFailure:t.requireFailure,recognizeWith:t.recognizeWith,options:{event:"legendPan",pointers:1,threshold:10,enable:function(t,n){return!(!this.isStarted&&n)||!!e.interactions.selections.enabled()&&this.chart.componentsFromPoint({x:n.center.x,y:n.center.y}).some(function(e){return"legend-cat"===e.type})}},events:{legendPanstart:function(e){if(e.preventDefault(),!this.isStarted){this.components=this.chart.componentsFromPoint({x:e.center.x,y:e.center.y}),this.components.forEach(function(t){t.emit("panstart",e)}),this.isStarted=!0;var t=this.chart.component("tooltip");t&&t.show&&t.emit("hide")}},legendPanmove:function(e){this.components.forEach(function(t){t.emit("panmove",e)}),e.preventDefault()},legendPanend:function(e){e.preventDefault(),this.components.forEach(function(t){t.emit("panend",e)}),this.isStarted=!1}}}},Yn=function(e){return{key:"hammered",type:"hammer",enable:!0,gestures:[Hn(e,{}),Wn(e,{}),Zn(e,{}),Un(e,{}),Kn(e,{}),Bn(e,{})]}};var Xn=function(e){return[Yn(e),Gn(e)]};var Jn="center",Qn="bottom",er={NoDataExist:{label:"NoDataExist",alignment:Jn,default:!0},OnlyNanData:{label:"OnlyNanData",alignment:Jn,default:!0},OnlyNegativeOrZeroValues:{label:"OnlyNegativeOrZeroValues",alignment:Jn,default:!1},LimitedData:{label:"LimitedData",alignment:Qn,default:!1},OnlyNanColor:{label:"OnlyNanColor",alignment:Qn,default:!1},NegativeOrZeroValues:{label:"NegativeOrZeroValues",alignment:Qn,default:!1},DataRangeIncludingZero:{label:"DataRangeIncludingZero",alignment:Qn,default:!1}},tr=function(e,t,n){if(!e)return!1;var r=t.translator,i=n.rtl;return{key:"disclaimer",type:"disclaimer",layout:{dock:er[e].alignment},settings:{label:r.get("Object.Disclaimer.".concat(e)),rtl:i}}};function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ir=function(e){var t=e.layout,n=e.context,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return o()(n,t.colorModel.scales()),t.encodings.slice.outerRadius&&o()(n,function(e,t){var n=e.layout,r={radius:{type:"linear",include:[0],data:{extract:{field:t.encodings.slice.outerRadius}}}};return n.donut.showAsDonut||(r.radius.min=0),r}({layout:e},t)),n}({layout:t},i),s={scales:a},l=[],c=function(e,t,n){var r=function(e,t){var n={field:"qDimensionInfo/0",props:{num:{field:t.encodings.slice.arc}}};t.encodings.slice.outerRadius&&(n.props.radius={field:t.encodings.slice.outerRadius});var r=t.ds.extract(n);if(0===r.length)return"NoDataExist";if(0===(r=t.encodings.slice.outerRadius?r.filter(function(e){return"NaN"!==e.num.value&&"NaN"!==e.radius.value}):r.filter(function(e){return"NaN"!==e.num.value})).length)return"OnlyNanData";var i=r;return 0===(r=t.encodings.slice.outerRadius&&!e.donut.showAsDonut?r.filter(function(e){return e.num.value>0&&e.radius.value>0}):r.filter(function(e){return e.num.value>0})).length?"OnlyNegativeOrZeroValues":i.length!==r.length&&"NegativeOrZeroValues"}(e.layout,t);return tr(r,t,n)}({layout:t},i,n);if(c&&"center"===c.layout.dock)return{components:[c]};var u,f,p,h,d,m=!(!i.interactions||!i.interactions.selections||i.interactions.selections.enabled()),y=i.colorModel.legend({eventName:"legend",key:"legend",viewState:i.viewState,chart:i.chart,styleReference:"object.pieChart",rtl:n.rtl},{navigationDisabled:m});return a.fillRange&&y.components[0]&&("right"===y.components[0].layout.dock||"left"===y.components[0].layout.dock||n.rtl)&&(a.fillRange.invert=!0),l=(l=[Vt({layout:t,settings:s},i),function(e,t,n){var i=e.layout,o=t.encodings.slice.outerRadius;return!(!i.donut.showAsDonut||!o)&&{type:"pie",key:"zeroLine",data:{items:[1]},settings:{slice:{arc:1,fill:"transparent",innerRadius:0,strokeWidth:1,stroke:r.getThemeStyle(n.theme,"object.pieChart","label.name","color")||"#333",outerRadius:{scale:"radius",fn:function(e){var t=Ft-Ht,n=Ht;return e.scale(0)*t+n}}}}}}({layout:t},i,n),{type:"pie-dividers",key:"pie-dividers",layout:{displayOrder:2},settings:{component:"slices",selector:"path"},brush:{consume:[{context:"selection",style:{inactive:{opacity:.2}}}]}},function(e,t,n){return!(e.layout.donut.showAsDonut||!t.encodings.slice.outerRadius)&&{type:"negative-indicators",key:"negative-indicators",layout:{displayOrder:2},settings:{component:"slices",selector:"path",offset:5,size:4,fill:r.getThemeStyle(n.theme,"object.pieChart","label.name","color")||"#333"},brush:{consume:[{context:"selection",style:{inactive:{opacity:.2}}}]}}}({layout:t},i,n),function(e,t,n){var r=e.layout;if(!r.dimensionTitle)return!1;var i=t.properties;return{key:"dimension-title",type:"data-title",layout:{minimumLayoutMode:"SMALL",dock:"top"},settings:{hyperCube:r.qHyperCube,hyperCubeDef:i&&i.qHyperCubeDef,isDimension:!0,disabled:function(){return!(-1!==n.permissions.indexOf("fetch")&&-1!==n.permissions.indexOf("interact"))},model:t.model,app:t.app,translator:t.translator,rtl:n.rtl,selections:t.selections}}}({layout:t},i,n)].concat(rr(y.components),[(u={settings:s,scaleKey:"fill",legend:y.components[0]||{},onEdited:i.onSelect},f=u.scaleKey,p=u.legend,h=u.onEdited,d=(p.layout||{}).dock,{type:"brush-range",key:"legendRangeBrush",layout:{dock:"@legend-seq"},on:h?{bubbleEnd:function(){h()}}:{},settings:{brush:"selection",scale:"".concat(f,"Range"),direction:"left"===d||"right"===d?"vertical":"horizontal",bubbles:{align:"left"===d||"top"===d?"end":"start",placement:"outside"},target:{selector:'[id="legend-seq-target"]',fillSelector:'[id="legend-seq-ticks"]',fill:"rgba(82,204,82,0.2)"}}}),Kt(),Zt(),An({layout:{dataPoint:o()({},t.dataPoint,{show:!(t.effectPath&&t.snapshotData&&!1===t.dataPoint.show)}),donut:t.donut},context:n},i),Fn({layout:t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nr(e,t,n[t])})}return e}({},i,{coloring:i.colorModel.settings()}),n),c])).filter(function(e){return!1!==e}),{interactions:Xn(i,y.interactions),scales:a,components:l,palettes:i.colorModel.palettes(),formatters:function(e,t){var n=e.settings,r={share:{type:"d3-number",format:".1%"},arc:{data:{field:t.encodings.slice.arc}},fill:n.scales.fill&&n.scales.fill.data&&n.scales.fill.data.field?{data:{field:n.scales.fill.data.field}}:{}};return t.encodings.slice.outerRadius&&(r.outerRadius={data:{field:t.encodings.slice.outerRadius}}),r}({settings:s},i),strategy:Rt(0,n)}};function or(e){if(e.qHyperCubeDef){var t=e.qHyperCubeDef.qDimensions,n=e.qHyperCubeDef.qMeasures;1===t.length&&1===n.length&&(n[0].qSortBy.qSortByNumeric=-1,e.qHyperCubeDef.qInterColumnSortOrder.splice(0,e.qHyperCubeDef.qInterColumnSortOrder.length,1,0))}}function ar(e){e.qOtherTotalSpec.qOtherMode="OTHER_COUNTED",e.qOtherTotalSpec.qOtherCounted={qv:"10"}}function sr(e,t){return{x:t.x+e.r*Math.sin(e.a),y:t.y-e.r*Math.cos(e.a)}}var lr={require:["chart","settings"],defaultSettings:{settings:{},style:{}},render:function(){return function(e){var t=e.chart,n=e.settings;if(!t.component(n.component))return[];var r=t.findShapes(n.selector).filter(function(e){return e.key===n.component});if(r.length<2)return[];for(var i,o,a,s=[],l=r[r.length-1],c=0;c<r.length;c+=1){var u=r[c],f=l.attrs.fill,p=u.attrs.fill;if(i=f,o=void 0,a=void 0,o=hn(p).l/100,a=hn(i).l/100,(o>a?(o+.05)/(a+.05):(a+.05)/(o+.05))<=1.2){var h=u.desc.slice,d=h.start,m=h.offset,y=u.desc.slice,v=y.innerRadius,g=y.outerRadius;if(v=Math.max(v,l.desc.slice.innerRadius),(g=Math.min(g,l.desc.slice.outerRadius))>v){var b=sr({r:g,a:d},m),w=sr({r:v,a:d},m);s.push({type:"line",x1:b.x,y1:b.y,x2:w.x,y2:w.y,strokeWidth:1,opacity:.4,stroke:vn(p)?"#ccc":"#333"})}}l=u}return s}({chart:this.chart,rect:this.rect,style:this.style,settings:this.settings.settings})}};function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ur(e,t,n[t])})}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e){var t=e.size,n=e.angle,r={x:e.x,y:e.y},i=t/2,o=e.x-i,a=e.y-i,s=[{x:o,y:a+t},{x:o+i,y:a},{x:o+t,y:a+t},{x:o,y:a+t}];return s=s.map(function(e){return function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},o=Math.cos(t),a=Math.sin(t),s=(r=i,{x:(n=e).x-r.x,y:n.y-r.y});return function(e,t){return{x:e.x+t.x,y:e.y+t.y}}({x:o*s.x-a*s.y,y:a*s.x+o*s.y},i)}(e,n,r)}),{type:"path",fill:e.fill,d:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",r=0;r<e.length;r++){var i=e[r];n+=0===r?"M".concat(i.x," ").concat(i.y):"L".concat(i.x," ").concat(i.y),n+=" "}return t&&(n+="Z"),n}(s)}}var pr={require:["chart"],defaultSettings:{settings:{},style:{}},render:function(){return function(e){var t=e.chart,n=e.settings;if(!t.component(n.component))return[];var r=t.findShapes(n.selector).filter(function(e){return e.key===n.component});if(r.length<2)return[];for(var i,o,a=[],s=0;s<r.length;s+=1){var l=r[s];if(l.data.radius.value<0){var c=l.desc.slice,u=c.start,f=c.end,p=c.offset,h=(u+f)/2,d=(i={r:n.offset,a:h},{x:(o=p).x+i.r*Math.sin(i.a),y:o.y-i.r*Math.cos(i.a)}),m=fr(cr({size:n.size,fill:n.fill,angle:h+Math.PI},d));m.data=cr({},l.data,{_share:l.desc.share,_fillColor:l.attrs.fill}),a.push(m)}}return a}({chart:this.chart,rect:this.rect,style:this.style,settings:this.settings.settings})}},hr=n(4),dr=n.n(hr),mr=function(e){return Object.keys(dr.a.prototype).forEach(function(t){e[t]=dr.a.prototype[t]}),dr.a.init(e),e};function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vr(e,t,n[t])})}return e}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function br(e,t){e.interactions.selections.enabled(-1!==t.indexOf("select")&&-1!==t.indexOf("interact")),e.interactions.rotate.action(-1!==t.indexOf("interact")),e.interactions.tooltip.action(-1!==t.indexOf("passive"))}function wr(e,t,n,r,i,a){if(e.colorModel.config({senseTheme:i.theme,colorProps:t.color,legendProps:t.legend,layout:t,localeInfo:i.localeInfo,hc:t.qHyperCube,key:"fill"}),!y.snapshot(t)){var s=r.viewStateOptions||{};e.viewState.preventSet("legendScrollOffset",s.legendScrollOffset||0),e.viewState.preventSet("rotation",s.rotation||0)}return a.Promise.all([e.colorModel.getAuxiliarySettings(),function(e){var t=e.layout,n=e.model,r=e.env;return y.snapshot(t)?r.Promise.resolve(null):n.getEffectiveProperties().then(function(e){return{properties:e}})}({layout:t,model:e.model,env:a})]).then(function(n){return e.paint(t,o.a.apply(void 0,[{}].concat(gr(n.slice(1)),[r])))})}var xr=function(e){var t,n,r,i=s()();return i.use(c.a),i.use(f.a),i.use(pe()),i.component("pie-dividers",lr),i.component("negative-indicators",pr),{qae:{properties:yr({},Tt),data:{targets:[(t=e,n=t.translator,r=t.flags,{dimensions:{min:1,max:1,description:function(){return n.get("Visualizations.Descriptions.Slice")},add:function(e,t){ar(e),or(t)},move:function(e,t){ar(e),or(t)},replace:function(e,t,n,r){ar(e),or(r)}},measures:{min:1,max:r&&r.getFlag("PIE_RADIUS")?2:1,description:function(e,t){return n.get(0===t?"Visualizations.Descriptions.Angle":"Visualizations.Descriptions.Radius")},add:function(e,t){or(t)},remove:function(e,t){!function(e){if(e.qHyperCubeDef){var t=e.qHyperCubeDef.qMeasures;"byExpression"===e.color.mode&&0===t.length&&(e.color.mode="primary")}}(t)}}})]}},selectionToolbar:{items:[{key:"lasso",label:"Lasso",icon:"lasso",activated:!1,action:function(){this.activated=!this.activated},enabled:function(){return!0},active:function(){return this.activated}}]},logicalSize:function(e){var t=e.layout;return!(!t||!t.snapshotData)&&{width:t.snapshotData.object.size.w,height:t.snapshotData.object.size.h}},component:{created:function(t){var n,r,a,s,l=this,c=t.options;this.pic=i({renderer:{prio:[c.renderer||"canvas"]},style:{"$font-family":"QlikView Sans"}}),this.interactions=(n=this.actions,a=mr(r={}),s={selections:!0,rotate:!0,tooltip:!0},r.lasso={active:function(){return n.lasso.active()},enabled:function(){return n.lasso.enabled()}},r.selections={enabled:function(e){return void 0!==e&&(s.selections=e),s.selections}},r.rotate={action:function(e){s.rotate=e,a.emit("rotate-updated",s.rotate)},active:function(){return s.rotate},enabled:function(){return!0}},r.tooltip={action:function(e){s.tooltip=!!e,a.emit("tooltip-changed",s.tooltip)},active:function(){return s.tooltip},enabled:function(){return!0}},r),this.viewState=function(e){var t=o()({},e),n={},r={},i={},a=!1;return i.set=function(e,i){var o=t[e];!a&&r[e]?t[e]=r[e](i,o):t[e]=i,!a&&n[e]&&n[e](t[e],o)},i.preventSet=function(e,t){a=!0,i.set(e,t),a=!1},i.get=function(e){return t[e]},i.onChanged=function(e,t){n[e]=t},i.intercept=function(e,t){r[e]=t},i}({legendScrollOffset:0,rotation:0}),this.colorModel=Pt({picasso:this.pic,model:this.model,app:this.app,translator:e.translator,Promise:e.Promise||Promise}),this.viewState.intercept("rotation",function(e){return(l.viewState.get("rotation")+e)%(2*Math.PI)}),this.viewState.onChanged("rotation",function(){l.chart.update({partialData:!0})}),this.interactions.on("selections-start",function(){l.chart.brush("selection").start()})},mounted:function(e){var t=this;this.element=e,this.chart=this.pic.chart({element:e,data:[],settings:{}});var n=function(e){t.selections&&t.selections.isActive()&&(e.key===v.ENTER?t.selections.confirm():e.key!==v.ESCAPE&&e.key!==v.IE11_ESC||t.selections.cancel())},r=!1,i=function(e){e.key===v.SHIFT&&e.shiftKey!==r&&(r=e.shiftKey,t.actions.lasso.action())};document.addEventListener("keydown",i),document.addEventListener("keyup",i),document.addEventListener("keyup",n),this.removeEventListeners=function(){document.removeEventListener("keydown",i),document.removeEventListener("keyup",i),document.removeEventListener("keyup",n),t.removeEventListeners=function(){}};var o=this.selections;if(o){o.on=o.on.bind(o),o.isActive=o.isActive.bind(o),o.addListener=o.addListener.bind(o),o.removeListener=o.removeListener.bind(o),this.chart.brush("selection").on("start",function(){o.begin("/qHyperCubeDef")});var a=function(e){return t.chart.brush("selection").brushes().forEach(function(n){"range"===n.type?t.chart.brush("selection").clear([]):e[0]&&e[0].key!==n.id&&t.chart.brush("selection").clear([])}),e.filter(function(e){return-2!==e.value})},s=function(e){return t.chart.brush("selection").brushes().filter(function(e){return"value"===e.type}).length&&t.chart.brush("selection").clear([]),e};this.chart.brush("selection").intercept("set-ranges",s),this.chart.brush("selection").intercept("toggle-ranges",s),this.chart.brush("selection").intercept("toggle-values",a),this.chart.brush("selection").intercept("set-values",a),this.chart.brush("selection").intercept("add-values",a),this.chart.brush("selection").addKeyAlias("attrDim/qDimensionInfo/0","qHyperCube/qDimensionInfo/0/qAttrDimInfo/0"),o.on("activate",function(){}),o.on("deactivated",function(){t.chart.brush("selection").end(),t.actions.lasso.active()&&t.actions.lasso.action()}),o.on("cleared",function(){t.chart.brush("selection").clear()}),o.on("canceled",function(){t.chart.brush("selection").end(),t.actions.lasso.active()&&t.actions.lasso.action()})}It&&this.chart.brush("selection").on("update",function(e,n){var r={add:e,remove:n},i={pages:t.rows,prop:"row"};!function(e,t,n){e.add.length>0&&b(e.add,t,n,"add"),e.remove.length>0&&b(e.remove,t,n,"remove")}(r,t.chart.brush("rowSelection"),i)})},willUnmount:function(){this.removeEventListeners()},destroy:function(){this.interactions.removeAllListeners(),this.chart.destroy(),this.chart=null},render:function(t){var n=this,r=t.layout,i=t.context,a=t.opts,s=void 0===a?{}:a;return this.context=i,br(this,this.context.permissions),It?function(e,t,n){return"T"===t.qHyperCube.qMode?e.model.getHyperCubeTreeData(n).then(function(e){var n=o()(!0,{},t);return n.qHyperCube.qTreeDataPages=e,n}):Promise.resolve(t)}(this,r,"/qHyperCubeDef").then(function(t){return wr(n,t,n.pic,s,n.context,e)}):wr(this,r,this.pic,s,this.context,e)},resize:function(e){var t=e.layout,n=e.context,r=e.opts,i=void 0===r?{}:r;this.context=yr({},this.context,n),this.chart&&this.generateSettings&&(br(this,this.context.permissions),this.chart.update({settings:this.generateSettings(t)}),this.chart.interactions[this.interactions.tooltip.enabled()?"on":"off"](),i.effect&&i.effect.update(t,this.chart))},paint:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.selections,a=function(){},s=this.pic.data("q")({key:"qHyperCube",data:t.qHyperCube,config:{localeInfo:this.context.localeInfo}});if(It){var l=s.extract({field:"qDimensionInfo/0",trackBy:function(e){return e.qElemNo},filter:function(e){return-2!==e.qElemNo},props:{row:{value:function(e){return e.qRow}}}});this.rows=l}i&&(a=function(){var e=n.chart.brush("selection");if(It){var r=function(e,t,n){if(!e||!t||!n)throw new Error("ChartInstance, layout and contexts must be defined");var r,i,o=e.chart.brush(n[0]),a={};return"S"!==t.qHyperCube.qMode?(i=e.chart.brush(n[1]),{brush:(r=o.brushes().some(function(e){return/qAttrDimInfo/.test(e.id)}))?o:i,selOpts:a=r?{}:{byCells:!0},layout:t}):{brush:o,selOpts:a,layout:t}}(n,t,["selection","rowSelection"]);c.a.selections(r.brush,r.selOpts,r.layout)}c.a.selections(e,{},t).forEach(function(e){i.select(e)})}),function(e,t){var n=t.viewState;e&&e.snapshotData&&e.snapshotData.content&&e.snapshotData.content.chartData&&(n.preventSet("legendScrollOffset",e.snapshotData.content.chartData.legendScrollOffset),n.preventSet("rotation",e.snapshotData.content.chartData.rotation))}(t,this);var u=[{type:"q",key:"qHyperCube",data:t.qHyperCube,config:{localeInfo:this.context.localeInfo}}].concat(gr(this.colorModel.data())),f={slice:{arc:"qMeasureInfo/0"}};t.qHyperCube.qMeasureInfo.length>1&&(f.slice.outerRadius="qMeasureInfo/1");var p=function(e,t){return t.slice.outerRadius?e.extract({field:"qDimensionInfo/0",props:{num:{field:t.slice.arc},radius:{field:t.slice.outerRadius}}}).filter(function(e){return e.num.value>0&&"NaN"!==e.radius.value}).length:e.extract({field:"qDimensionInfo/0",props:{num:{field:t.slice.arc}}}).filter(function(e){return e.num.value>0}).length}(this.pic.data("q")({data:t.qHyperCube,config:{localeInfo:this.context.localeInfo}}),f);this.generateSettings=function(t){return ir({layout:t,context:n.context},o()({picasso:n.pic,ds:s,model:n.model,app:n.app,chart:n.chart,onSelect:a,selections:i,isLocked:i&&i.isLocked?i.isLocked:x,interactions:n.interactions,translator:e.translator,viewState:n.viewState,dataRowCount:p,encodings:f,colorModel:n.colorModel},r))},this.chart.update({data:u,settings:this.generateSettings(t)}),this.chart.interactions[this.interactions.tooltip.enabled()?"on":"off"](),r.effect?r.effect.update(t,this.chart,{encodings:f}):t.effectPath||this.chart.brush("highlight").end()},setSnapshotData:function(t){return y.snapshot(t)?At.call(this,{layout:t}):e.Promise.resolve(t)},getViewState:function(){return{rotation:this.viewState.get("rotation"),legendScrollOffset:q(this.chart,"legend-cat")}}}}};n(55);function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"===qr(Symbol.iterator)?function(e){return qr(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qr(e)})(e)}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sr(e,t,n[t])})}return e}var Or=Object.prototype.hasOwnProperty,Pr=Object.prototype.toString,Mr=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,Ar=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Pr.call(e)},Ir=function(e){if(!e||"[object Object]"!==Pr.call(e))return!1;var t,n=Or.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Or.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||Or.call(e,t)},Tr=function(e,t){Mr&&"__proto__"===t.name?Mr(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},jr=function(e,t){if("__proto__"===t){if(!Or.call(e,t))return;if(Cr)return Cr(e,t).value}return e[t]},Er=function e(){var t,n,r,i,o,a,s=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),(null==s||"object"!==Dr(s)&&"function"!=typeof s)&&(s={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=jr(s,n),s!==(i=jr(t,n))&&(u&&i&&(Ir(i)||(o=Ar(i)))?(o?(o=!1,a=r&&Ar(r)?r:[]):a=r&&Ir(r)?r:{},Tr(s,{name:n,newValue:e(u,a,i)})):void 0!==i&&Tr(s,{name:n,newValue:i}));return s},_r={};function Lr(){Lr.init.call(this)}_r.isObject=function(e){return"object"===Dr(e)&&null!==e},_r.isNumber=function(e){return"number"==typeof e},_r.isUndefined=function(e){return void 0===e},_r.isFunction=function(e){return"function"==typeof e};var Nr=Lr;Lr.EventEmitter=Lr,Lr.prototype._events=void 0,Lr.prototype._maxListeners=void 0,Lr.defaultMaxListeners=10,Lr.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},Lr.prototype.setMaxListeners=function(e){if(!_r.isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},Lr.prototype.emit=function(e){var t,n,r,i,o,a;if(this._events||(this._events={}),"error"===e&&!this._events.error)throw(t=arguments[1])instanceof Error?t:Error('Uncaught, unspecified "error" event.');if(n=this._events[e],_r.isUndefined(n))return!1;if(_r.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];n.apply(this,i)}else if(_r.isObject(n)){for(r=arguments.length,i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];for(r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i)}return!0},Lr.prototype.addListener=function(e,t){var n;if(!_r.isFunction(t))throw TypeError("listener must be a function");(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,_r.isFunction(t.listener)?t.listener:t),this._events[e]?_r.isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,_r.isObject(this._events[e])&&!this._events[e].warned)&&(n=_r.isUndefined(this._maxListeners)?Lr.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,_r.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),_r.isFunction(console.trace)&&console.trace());return this},Lr.prototype.on=Lr.prototype.addListener,Lr.prototype.once=function(e,t){if(!_r.isFunction(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},Lr.prototype.removeListener=function(e,t){var n,r,i,o;if(!_r.isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||_r.isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(_r.isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},Lr.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],_r.isFunction(n))this.removeListener(e,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},Lr.prototype.listeners=function(e){return this._events&&this._events[e]?_r.isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},Lr.listenerCount=function(e,t){return e._events&&e._events[t]?_r.isFunction(e._events[t])?1:e._events[t].length:0};var Rr=function(e){return function(t){var n,r=(n=Er(!0,{},t,{action:function(){"function"==typeof t.action&&t.action.call(r,e),r.emit("changed")},enabled:function(){return"function"!=typeof t.enabled||t.enabled.call(r,e)},active:"function"==typeof t.active?function(){return t.active.call(r,e)}:void 0}),Object.keys(Nr.prototype).forEach(function(e){n[e]=Nr.prototype[e]}),Nr.init(n),n);return r}};var Fr={app:null,model:null,actions:null,selections:null,created:function(){},mounted:function(){},render:function(){},resize:function(){},willUnmount:function(){},destroy:function(){},emit:function(){},getViewState:function(){},setSnapshotData:function(e){return Promise.resolve(e)}},Hr=Object.keys(Fr),zr=function(e){return Object.keys(Nr.prototype).forEach(function(t){e[t]=Nr.prototype[t]}),Nr.init(e),e};function Vr(e,t){var n=kr({},Fr);zr(n);var r={emit:function(){n.emit.apply(n,arguments)}};Object.keys(e.component||{}).forEach(function(t){-1!==Hr.indexOf(t)?n[t]=e.component[t].bind(r):r[t]=e.component[t]});var i=function(e){var t=e.sn,n=e.component,r={},i=[],o=Rr(n);return((t.definition.selectionToolbar||{}).items||[]).forEach(function(e){var t=o(e);r[e.key]=t,i.push(t)}),(t.definition.actions||[]).forEach(function(e){var t=o(e);r[e.key]=t}),{actions:r,selectionToolbarItems:i,destroy:function(){i.length=0}}}({sn:e,component:r});return Er(r,{model:t.model,app:t.app,selections:t.selections,actions:i.actions}),Er(n,{actions:i.actions,model:t.model,app:t.app,selections:t.selections}),{generator:e,component:n,selectionToolbar:{items:i.selectionToolbarItems},logicalSize:e.definition.logicalSize||function(){return!1}}}var Br={get:function(e){return"$$$".concat(e,"$$$")}},Ur=function(){};function Wr(e,t){return void 0===e?function(){return t}:function(){return e}}function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{min:"function"==typeof e.min?e.min:Wr(e.min,0),max:"function"==typeof e.max?e.max:Wr(e.max,1e3),add:e.add||Ur,description:e.description||Ur,move:e.move||Ur,remove:e.remove||Ur,replace:e.replace||Ur}}function Gr(e){return{path:e.path||"/qHyperCubeDef",dimensions:$r(e.dimensions),measures:$r(e.measures)}}var Zr=function(e,t){var n,r=kr({translator:Br,Promise:Promise},t),i={qae:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{properties:kr({},e.properties),data:{targets:((e.data||{}).targets||[]).map(Gr)}}}((n="function"==typeof e?e(r):e).qae),component:n.component||{},create:function(e){return Vr(i,e)},definition:{}};return Object.keys(n).forEach(function(e){i[e]||(i.definition[e]=n[e])}),i};function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Xr=function(e){var t=function(e){return Object.keys(dr.a.prototype).forEach(function(t){e[t]=dr.a.prototype[t]}),dr.a.init(e),e};if(!e.backendApi.model.resetMadeSelections)return t({begin:function(){},clear:function(){},confirm:function(){},cancel:function(){},select:function(){},isActive:function(){}});var n={begin:function(){e.selectionsApi.activated(),e.backendApi.beginSelections(),n.emit("activated")},clear:function(){e.backendApi.model.resetMadeSelections()},confirm:function(){e.selectionsApi.confirm()},cancel:function(){e.selectionsApi.cancel()},select:function(t){var n,r=this;"resetMadeSelections"===t.method||e.selectionsApi.selectionsMade||e.backendApi.beginSelections(),(n=e.backendApi.model)[t.method].apply(n,Yr(t.params)).then(function(t){t||(e.selectionsApi.selectionsMade=!1,r.clear())}),e.selectionsApi.selectionsMade="resetMadeSelections"!==t.method},isLocked:function(t){var n=[],r=t.filter(function(e){return"object"===Kr(e.data)&&Array.isArray(e.data.fields)}).every(function(e){return e.data.fields.every(function(e){return!!e.raw().qLocked&&(n.push(e.raw()),!0)})});return r&&e.selectionsApi.notifyLockedSelections(n),r},isActive:function(){return e.selectionsApi.active},refreshToolbar:function(){e.selectionsApi.refreshToolbar()}};return t(n),e.selectionsApi.confirm=function(){e.backendApi.endSelections(!0).then(function(){e.selectionsApi.deactivated(),n.emit("deactivated")})},e.selectionsApi.clear=function(){e.backendApi.clearSelections(),e.selectionsApi.selectionsMade=!1,n.emit("cleared")},e.selectionsApi.cancel=function(){e.backendApi.endSelections(!1),e.selectionsApi.deactivated(),n.emit("canceled")},n},Jr={STATIC:0,ANALYSIS:1,EDIT:2};var Qr=function(e,t){var n=[];return function(e){return!!e.tooltips||e.interactionState===Jr.ANALYSIS&&!1!==e.tooltips}(e)&&n.push("passive"),e.interactionState===Jr.ANALYSIS&&!1!==e.tooltips&&!0!==e.limitedInteraction&&n.push("interact"),t.isSnapshot||(!1!==e.selections&&n.push("select"),n.push("fetch")),n},ei=n(11),ti=n.n(ei),ni=n(5),ri=n.n(ni),ii=n(12),oi=n.n(ii),ai=n(6),si=n.n(ai),li=si.a.getLogicFor("hard","piechart");var ci={type:"items",component:"accordion",items:{data:{uses:"data",items:{dimensions:{uses:"dimensions"},measures:{uses:"measures",items:{numberFormatting:{items:{percentOfPieMessage:{component:"text",translation:"properties.numberFormatting.pieMessage",show:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).properties;return n&&(n.dataPoint.auto||"share"!==n.dataPoint.labelMode)}}}}}}}},sorting:{uses:"sorting"},addons:{type:"items",component:"expandable-items",translation:"properties.addons",items:{dataHandling:{uses:"dataHandling",items:{suppressZero:null,calcCond:{uses:"calcCond"}}}}},settings:{uses:"settings",items:{presentation:{type:"items",translation:"properties.presentation",grouped:!0,items:{showAsDonut:{ref:"donut.showAsDonut",type:"boolean",component:"item-selection-list",defaultValue:!1,horizontal:!0,items:[{icon:"pie_chart_pie",component:"icon-item",labelPlacement:"bottom",translation:"properties.pie",value:!1},{icon:"pie_chart_donut",component:"icon-item",labelPlacement:"bottom",translation:"properties.donut",value:!0}]},labels:{type:"items",snapshot:{tid:"property-labels"},items:{dimensionTitle:{ref:"dimensionTitle",type:"boolean",component:"switch",translation:"properties.dataPoints.dimensionlabels",defaultValue:!0,options:[{value:!0,translation:"Common.Auto"},{value:!1,translation:"properties.off"}]},valuesAuto:{ref:"dataPoint.auto",type:"boolean",translation:"properties.dataPoints.labelmode",component:"switch",defaultValue:!0,options:[{value:!0,translation:"Common.Auto"},{value:!1,translation:"Common.Custom"}]},labelMode:{ref:"dataPoint.labelMode",type:"string",component:"dropdown",options:[{value:"none",translation:"Common.None"},{value:"share",translation:"properties.dataPoints.labelmode.share"},{value:"value",translation:"properties.dataPoints.labelmode.value"}],defaultValue:"share",show:function(e){return!e.dataPoint.auto}},labelValueMode:{ref:"dataPoint.labelValueMode",type:"string",component:"dropdown",translation:"properties.dataPoints.labelvaluemode",options:[{value:"arc",translation:"Visualizations.Descriptions.Angle"},{value:"radius",translation:"Visualizations.Descriptions.Radius"}],defaultValue:"arc",show:function(e){return!e.dataPoint.auto&&((t=e).qHyperCubeDef&&t.qHyperCubeDef.qMeasures.length>1||t.qHyperCube&&t.qHyperCube.qMeasureInfo.length>1)&&"value"===e.dataPoint.labelMode;var t}}}}}},colorsAndLegend:{uses:"colorsAndLegend",items:{colors:{items:{colorMode:{options:li.color.colorMode.options},persistentColors:{show:li.color.persistentColors.show}}},legend:{show:li.legend.show,items:{show:{defaultValue:!1,snapshot:{tid:"property-legend"}},showTitle:{show:li.legend.showTitle.show},dock:{show:li.legend.dock.show}}}}}}}}},ui=si.a.getLogicFor("explore","piechart"),fi={type:"items",component:"accordion",items:{data:{uses:"data"},sort:{uses:"sort"},presentation:{uses:"presentation",items:{showAsDonut:ci.items.settings.items.presentation.items.showAsDonut,labelMode:{type:"items",items:{labelMode:{type:"string",component:"radio-list",translation:"properties.dataPoints.labelmode",diffs:["dataPoint.auto:false","dataPoint.labelMode"],options:ci.items.settings.items.presentation.items.labels.items.labelMode.options,setPropertyValue:function(e,t){e.dataPoint.auto=!1,e.dataPoint.labelMode=t},getValue:function(e){return e.dataPoint.auto?"":e.dataPoint.labelMode}}}}}},color:{uses:"color",items:{mode:{options:ui.color.colorMode.options},dimension:{items:{persistentColors:{show:function(e){return!(e.color&&"byDimension"===e.color.mode&&e.color.useDimColVal&&ui.color.useDimColVal.show(e))}}}}}}}};function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){return!t||"object"!==pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function di(e,t,n){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vi(e,t)}function vi(e,t){return(vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wi(e,t,n){return t&&bi(e.prototype,t),n&&bi(e,n),e}function xi(e,t){var n=e&&e.desc&&void 0!==e.desc.share?e.desc.share:void 0;return t("share")(n)}function qi(e){return e.data.num.label}function Di(e){return e.data.radius.label}function Si(e,t,n,r){return function(e,t){return e.dataPoint.auto?1===e.qHyperCube.qSize.qcy?qi:xi:"share"===e.dataPoint.labelMode?xi:"value"===e.dataPoint.labelMode&&t.encodings.slice.outerRadius&&"radius"===e.dataPoint.labelValueMode?Di:qi}(n,r)(e,t)}function ki(e){var t,n,r,i;return e.data.label?(n=e.data.label,r=20,(i=n).length>r&&(i="".concat(i.substr(0,r-3),"...")),t=i):t="",t}var Oi=function(){function e(t){var n=t.element,r=t.properties,i=t.effectHelper,o=t.Promise,a=t.Flag;gi(this,e),this.element=n,this.Promise=o,this.Flag=a,i.initFade(this.element);var s=n.find(".effectLayer");s.length>0&&s.remove(),n.append('<div class="effectLayer"></div>'),this.effectLayer=n.find(".effectLayer"),this._effectProperties=r,this.selectedIndex=r.selectedIndex,this.hasPropertiesPanel=!1,this.effectApplied=!0,i.fadeIn(this.element)}return wi(e,[{key:"updateOrigSettings",value:function(e){return{dataPoint:e.dataPoint,legend:e.legend,dimensionTitle:e.dimensionTitle}}},{key:"updateFlags",value:function(e,t){var n=this,r=this.chart.getAffectedShapes("highlight"),i=this.effectLayer[0].getBoundingClientRect(),o=r.map(function(r){var o=r.desc.slice,a=o.start,s=o.end,l=o.outerRadius,c=o.offset,u=n.chart.component(r.key).rect.scaleRatio,f=r.element.getBoundingClientRect(),p=(a+s)/2,h=f.x-i.x+u.x*(c.x+l*Math.sin(p)),d=f.y-i.y+u.y*(c.y-l*Math.cos(p)),m=Math.cos(p)>0?"top":"bottom",y=Math.sin(p)>0?"right":"left";return{title:ki(r),label:Si(r,n.chart.formatter,e,t),orientation:"".concat(m).concat(y),position:{x:h,y:d}}});this.Flag.show(this.effectLayer,o)}},{key:"init",value:function(e,t,n,r){var i=this;return t.getProperties().then(function(e){if(!e.originalModelSettings){var a=o()(!0,{},e);e.originalModelSettings=i.updateOrigSettings(a)}e.effectProperties=r,e.effectPath=n,e.dataPoint.show=!1,e.legend.show=!1,e.dimensionTitle=!1,t.setProperties(e)})}},{key:"remove",value:function(e,t,n){return e.options=o()(e.options,{effect:null}),n?t.getProperties().then(function(e){return o()(e,{effectPath:null,effectProperties:null,dataPoint:o()(!0,{},e.originalModelSettings.dataPoint),legend:o()(!0,{},e.originalModelSettings.legend),dimensionTitle:e.originalModelSettings.dimensionTitle})}):this.Promise.resolve()}}]),e}(),Pi=function(e){function t(){return gi(this,t),hi(this,mi(t).apply(this,arguments))}return yi(t,Oi),wi(t,[{key:"init",value:function(e,n,r,i){return e.options=o()(!0,e.options,{effect:this}),n.layout.effectProperties&&n.layout.effectPath===r&&n.layout.effectProperties.max===i.max?this.Promise.resolve():di(mi(t.prototype),"init",this).call(this,e,n,r,i)}},{key:"update",value:function(e,t,n){this.chart=t,this.updateHighlight(e),this.updateFlags(e,n)}},{key:"updateHighlight",value:function(e){var t=this.chart.component("slices").data.items,n=e.effectProperties.min,r=e.effectProperties.max,i=[],o=[1/0,-1],a=[-1/0,-1];t.forEach(function(e,t){var i=e.num.value;n&&i<o[0]&&(o=[i,t]),r&&i>a[0]&&(a=[i,t])}),-1!==o[1]&&i.push(t[o[1]].value),-1!==a[1]&&i.push(t[a[1]].value),i.length&&this.chart.brush("highlight").setValues(i.map(function(e){return{key:"qHyperCube/qDimensionInfo/0",value:e}}))}}]),t}();var Mi=function(e){function t(e){var n;return gi(this,t),(n=hi(this,mi(t).call(this,e))).hasPropertiesPanel=!0,n.propsTemplate=e.highlightValuePropsTemplate,n.effectHelper=e.effectHelper,n}return yi(t,Oi),wi(t,[{key:"onClick",value:function(e){if(this.chart){var t,n,r,i=this.chart.shapesAt((t=e,n=this.chart,r=n.element.getBoundingClientRect(),{x:t.clientX-r.left,y:t.clientY-r.top}),{propagation:"stop"});if(1===i.length){var o=i[0],a=this.chart.component("slices").data.items.map(function(e){return e.value}).indexOf(o.data.value);-1!==a&&(this.selectedIndex=a,this.effectHelper.updateSelectedPointIndex(this))}}}},{key:"update",value:function(e,t,n){this.chart=t,this.updateHighlight(e),this.updateDataPoints(e,n),this.updateFlags(e,n)}},{key:"updateHighlight",value:function(e){var t=this.chart.component("slices").data.items[e.effectProperties.selectedIndex];this.chart.brush("highlight").setValues([{key:"qHyperCube/qDimensionInfo/0",value:t.value}])}},{key:"updateDataPoints",value:function(e,t){var n=this;this.dataPoints=this.chart.findShapes("path").filter(function(e){return"slices"===e.key}).map(function(r,i){var o=Si(r,n.chart.formatter,e,t),a=ki(r);return{text:"".concat(a," (").concat(o,")"),value:i}})}},{key:"init",value:function(e,n,r,i){return e.options=o()(!0,e.options,{effect:this}),n.layout.effectProperties&&n.layout.effectPath===r&&n.layout.effectProperties.selectedIndex===i.selectedIndex?this.Promise.resolve():di(mi(t.prototype),"init",this).call(this,e,n,r,i)}}]),t}(),Ci={isCompatible:function(e){var t=e.effectPath;return"/effects/maxmin"===t||"/effects/highlight-value"===t},create:function(e){return"/effects/maxmin"===e.effectPath?new Pi(e):"/effects/highlight-value"===e.effectPath?new Mi(e):null}};n.d(t,"default",function(){return Ti});var Ai=function(e){return e.qMax<=0},Ii=function(e){return!(!(e&&e.qHyperCube.qSize.qcy>0)||e.qHyperCube.qMeasureInfo.every(Ai))};function Ti(e){var t=oi.a.getService("$q"),n=e.flags,r=e.theme,i=Zr(xr,{translator:ti.a,flags:n,Promise:t});return{initialProperties:i.qae.properties,definition:ci,softDefinition:fi,data:i.qae.data.targets[0],support:{snapshot:Ii,export:Ii,exportData:!0,sharing:Ii,viewData:!0,effects:!0},effects:Ci,mounted:function(e){var t=Xr(this.$scope);this.chart=i.create({model:this.backendApi.model,app:this.backendApi.model.app,selections:t}).component,this.chart.created({options:{renderer:this.options.renderer},context:{}}),this.chart.mounted(e[0]),this.chart.actions.lasso.on("changed",function(){t.refreshToolbar()})},updateData:function(){return this.doPaint=!0,t.resolve()},resize:function(e,t){this.doPaint?this.paint(e,t):this.chart.resize({layout:t,context:{permissions:Qr(this.options,this.backendApi),logicalSize:!(!t.snapshotData||this.options.freeResize)&&{width:t.snapshotData.object.size.w,height:t.snapshotData.object.size.h}},opts:{effect:this.options.effect}})},paint:function(e,t){var n=this;return this.doPaint=!1,r.getApplied().then(function(e){return n.chart.render({layout:t,context:{permissions:Qr(n.options,n.backendApi),localeInfo:n.backendApi.localeInfo,rtl:"rtl"===n.options.direction,theme:e,logicalSize:t.snapshotData&&!n.options.freeResize?{width:t.snapshotData.object.size.w,height:t.snapshotData.object.size.h}:void 0},options:{effect:n.options.effect},opts:{localeInfo:n.backendApi.localeInfo,maximizeSnapshot:n.options.maximizeSnapshot,effect:n.options.effect,viewStateOptions:n.options.viewState}})})},setSnapshotData:function(e){return this.chart.setSnapshotData(e)},getViewState:function(){return this.chart.getViewState()},getSelectionToolbar:function(){var e=this.chart.actions.lasso;return[{name:"Tooltip.ToggleOnLassoSelection",tid:"selection-toolbar.toggleLasso",isIcon:!0,buttonClass:"sel-toolbar-icon-toggle",iconClass:"lui-icon lui-icon--lasso",action:function(){e.action()},isActive:function(){return this.name=e.active()?"Tooltip.ToggleOffLassoSelection":"Tooltip.ToggleOnLassoSelection",e.active()},isDisabled:function(){return!e.enabled()}},{name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:!0,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function(){this.selectionsApi.clear()},isDisabled:function(){return!this.selectionsApi.selectionsMade}}]},destroy:function(){this.chart&&(this.chart.willUnmount(),this.chart.destroy())},importProperties:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=(e=ri.a.colorChart.importProperties).call.apply(e,[ri.a].concat(n));return i.qProperty.dataPoint&&!1===i.qProperty.dataPoint.show&&delete i.qProperty.dataPoint.show,i},exportProperties:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=ri.a.colorChart.exportProperties).call.apply(e,[ri.a].concat(n))}}}Ti.dependencies=xr.dependencies}])})}}]);