/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[8,46],{1000:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=function t(){return n.e(73).then(n.t.bind(null,1271,7)).then(function(t){return t})};e.default=i;t.exports=e.default},1011:function(t,e){t.exports='<div qva-direction class="qv-selection-toolbar qvt-selection-toolbar"\n\t ng-style="toolbar.style"\n\t ng-class="{ \'sel-toolbar-card\': !options.isPopover, \'sel-toolbar-popover\': options.isPopover, \'sel-toolbar-click-to-unlock-bg\': locked, \'sel-toolbar-menu-item\': locked }"\n\t ng-click="locked && toggleLock($event);">\n    <div class="sel-toolbar-list-wrapper">\n\t\t<table class="sel-toolbar-list">\n            <tr>\n                <td ng-if="toolbar.showLock || locked" class="sel-toolbar-list-item sel-toolbar-list-item-lockunlock">\n                    <button tid="selection-toolbar.lock"\n                            class="sel-toolbar-btn sel-toolbar-icon"\n                            q-title-translation="{{locked ? \'SelectionToolbar.ClickToUnlock\' : \'SelectionToolbar.ClickToLock\'}}"\n                            ng-disabled="locked ? false : !toolbar.backendApi.hasSelections()"\n                            ng-click="!locked && toggleLock($event);">\n                        <span class="lui-icon sel-toolbar-span-icon" ng-class="!locked ? \'lui-icon--unlock\':\'lui-icon--lock sel-toolbar-menu-span-icon\'"></span>\n                    </button>\n                </td>\n\t\t\t\t<td class="sel-toolbar-list-item" ng-class="{ \'sel-toolbar-list-item-hide-more\': !shouldShowBtnMore() }">\n\t\t\t\t\t<button tid="selection-toolbar.toggleShowMenu"\n\t\t\t\t\t\t\t\t\tclass="sel-toolbar-btn sel-toolbar-icon sel-toolbar-icon-toggle"\n\t\t\t\t\t\t\t\t\tng-class="{ \'menu-active\': toolbar.showMenu }"\n\t\t\t\t\t\t\t\t\tq-title-translation="{{toolbar.showMenu ? \'Tooltip.CloseSelectionMenu\' : \'Tooltip.SelectionMenu\'}}"\n\t\t\t\t\t\t\t\t\tng-click="toggleShowMenu($event)">\n\t\t\t\t\t\t<span class="lui-icon  lui-icon--more"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</td>\n                <td ng-show="locked" class="sel-toolbar-list-item-locked">\n                    <p class="sel-toolbar-menu-text" q-translation="SelectionToolbar.ClickToUnlock"></p>\n                </td>\n                <td ng-show="locked && options.smallDevice" ng-click="toolbar.selectionsApi.confirm()" class="sel-toolbar-list-item-close">\n                    <qui-toolbarbutton>\n                        <span class="sel-toolbar-menu-text sel-toolbar-btn-close-text" q-translation="Common.Close"></span>\n                    </qui-toolbarbutton>\n\t\t\t\t</td>\n\t\t\t\t<td ng-repeat="select in selectComponents" class="sel-toolbar-list-item-optionslist">\n\t\t\t\t\t<select ng-show="shouldShowSelect(select)" ng-disabled="shouldDisableSelect(select)" tid="select.tid" q-title-translation="{{select.name}}" ng-style="{width: select.width}" class="lui-select" ng-model="select.value" ng-change="select.action(select)">\n\t\t\t\t\t\t<option ng-if="select.noSelectOption" value="{{select.noSelectOption.value || \'\'}}">{{select.noSelectOption.label || select.noSelectOption.value || ""}}</option>\n\t\t\t\t\t\t<option ng-repeat="option in select.options" value="{{option.value}}">{{option.label || option.value}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</td>\n                <td ng-show="!locked" ng-repeat="button in filteredButtons" class="sel-toolbar-list-item" ng-class="button.clazz">\n                    <button tid="{{button.tid}}"\n                            ng-click="buttonAction($event, button)"\n                            q-title-translation="{{button.name}}"\n                            ng-disabled="buttonIsDisabled(button)"\n                            class="sel-toolbar-btn"\n                            ng-class="[button.buttonClass, button.isIcon ? \'sel-toolbar-icon\' : \'\', button.isActive(this) ? \'menu-active\' : \'\']">\n                        <span class="sel-toolbar-span-icon lui-icon" ng-class="button.iconClass"></span>\n                    </button>\n                </td>\n            </tr>\n        </table>\n\n\t</div>\n\t\n\t\x3c!-- Menu container (drop-down) --\x3e\n\t<div ng-if="toolbar.showMenu" class="sel-toolbar-menu" ng-style="toolbar.menuStyle"\n\t\t qva-delegated-activate="div:not(.disabled)#menuAction($event);">\n\n\t\t \x3c!-- Menu "go back"-button for sub-levels --\x3e\n\t\t <div ng-if="levels.length > 0" class="sel-toolbar-menu-item back-item" tid="sel-toolbar-menu-back">\n\t\t\t<table class="sel-toolbar-menu-table">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<span class="sel-toolbar-menu-span-icon lui-icon lui-icon--triangle-left" ng-class="button.iconClass"></span>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p class="sel-toolbar-menu-text" q-translation="Back"></p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\n\t\t\x3c!-- Menu buttons --\x3e\n\t\t<div ng-repeat="button in currentMenuButtons" class="sel-toolbar-menu-item"\n\t\t\t tid="{{button.tid}}"\n\t\t\t q-title-translation="{{button.name}}"\n\t\t\t ng-class="{\'disabled\': buttonIsDisabled(button), \'selected\': isButtonSelected( button ) }">\n\t\t\t<table class="sel-toolbar-menu-table" ng-class="{ \'selection-toolbar-menu-table-align-center\': !filteredButtons.length }">\n\t\t\t\t<tr>\n\n\t\t\t\t\t\x3c!-- Button icon --\x3e\n\t\t\t\t\t<td ng-if="button.iconClass">\n\t\t\t\t\t\t<span class="sel-toolbar-menu-span-icon lui-icon" ng-class="button.iconClass"></span>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t\x3c!-- Button label --\x3e\n\t\t\t\t\t<td ng-if="filteredButtons.length || ( button.name && !button.iconClass )" ng-class="{\'menu-text-with-right-icon\': button.items}">\n\t\t\t\t\t\t<p class="sel-toolbar-menu-text" ng-class="{\'menu-text-without-left-icon\': !button.iconClass}" q-translation="{{button.name}}"></p>\n\t\t\t\t\t</td>\n\n\t\t\t\t\t\x3c!-- "Click to see more"-icon --\x3e\n\t\t\t\t\t<td ng-if="button.items">\n\t\t\t\t\t\t<span class="sel-toolbar-menu-span-icon next-icon lui-list__aside lui-icon lui-icon--triangle-right"></span>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</div>\n'},1012:function(t,e,n){"use strict";var i,o;!(i=[],o=function(){var t={BUTTON_WIDTH:44,SEPARATOR_WIDTH:1,BORDER_SPACING:8,SELECT_DEFAULT_WIDTH:200,EXTRA_EDGE_PADDING:2,TYPE_BUTTON:"button",TYPE_SEPARATOR:"separator",TYPE_SELECT:"select"};Object.freeze(t);return t}.apply(e,i),void 0!==o&&(t.exports=o))},1013:function(t,e){t.exports='<div class="qv-object-wrapper" ng-class="wrapperClassList" x-ms-format-detection="none">\n\n\t<article class="qv-object qvt-visualization" ng-class="classList" tid="{{objectClass}}">\n\t\t<div class="qv-inner-object" ng-style="styles.backgroundColor">\n\t\t\t<qv-rain ng-if="object.throbberApi.isVisible" show="object.throbberApi.isVisible" resize="object.throbberApi.watchResize" model="object.model"></qv-rain>\n\t\t\t<div class="retry-overlay" ng-if="object.throbberApi.isQueryCanceled">\n\t\t\t\t<ul class="cancelled-list">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class="retry-text" q-translation="Object.Cancelled"></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button class="retry-button lui-button" qva-activate="retry()" q-translation="Dialog.Button.Retry" tid="retry-calculations"></button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="cancel-overlay" ng-if="object.throbberApi.isLongRunningQuery && !object.throbberApi.isQueryCanceled">\n\t\t\t\t<button class="cancel-button lui-button" ng-if="!object.throbberApi.isQueryCanceled" qva-activate="cancel()"\n\t\t\t\t\t\tq-translation="Common.Cancel" tid="cancel-calculations"></button>\n\t\t\t</div>\n\n\t\t\t<label class="hidden-screen-reader-label" q-translation="{{object.type.libraryInfo.isThirdParty ? object.type.libraryInfo.name : object.type.libraryInfo.translationKey}}"></label>\n\t\t\t<label ng-if="!layout.title" class="hidden-screen-reader-label" q-translation="Accessibility.Object.NoTitle"></label>\n\t\t\t<header qva-direction x-dir-setting="{{options.direction}}" ng-show="object.hasFrame" class="qv-object-header" ng-class="{\'thin\' : !object.showTitles || ( layout.title === \'\' && layout.subtitle === \'\' && !object._inEditState )}">\n\t\t\t\t<h1 ng-show="object.showTitles" qva-direction x-dir-setting="{{options.direction}}" ng-attr-title="{{layout.title}}" class="qv-object-title qvt-visualization-title" qva-activate="titleClicked();" ng-style="styles.title">\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && !object.backendApi.isLocked() && !object._inEditState" q-title-translation="Common.Search" class="qv-object-search lui-icon lui-icon--search"\n\t\t\t\t\t   qva-activate="options.showSearch && options.search.toggle()"></a>\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && object.backendApi.isLocked()" class="qv-object-locked lui-icon lui-icon--lock"\n\t\t\t\t\t   qva-activate="titleClicked()"></a>\n\t\t\t\t\t<span ng-if="options.showSearch && object.backendApi.isDrillDown()" class="lui-icon lui-icon--drill-down" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<div ng-if="options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" qve-highlight text="{{layout.title}}" query="options.highlightQuery" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}"></div>\n\t\t\t\t\t<div ng-if="!options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}">{{layout.title}}</div>\n\t\t\t\t\t<div ng-if="options.showDisclaimerStar && !!layout.title && !object._inEditState" class="disclaimer qv-object-title-text">*</div>\n\t\t\t\t\t<div ng-if="object._inEditState && !object.isReadonly" qv-inline-title-edit x-dir-setting="{{options.direction}}" x-model="model" x-property-path="title" x-layout-path="title"\n\t\t\t\t\t\t x-empty-translation="Object.AddTitle" class="qv-object-title-edit" qva-direction x-dir-setting="{{options.direction}}"></div>\n\t\t\t\t</h1>\n\n\t\t\t\t<h2 ng-if="!!layout.subtitle && object.showTitles" ng-style="styles.subTitle" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.subtitle}}" ng-attr-title="{{layout.subtitle}}" ng-show="!!layout.subtitle" class="qv-object-subtitle qvt-visualization-subtitle">{{layout.subtitle}}</h2>\n\t\t\t</header>\n\n\t\t\t<div class="qv-object-content-container">\n\t\t\t\t<div class="qv-object-content" qv-object-content component="object.content" options="options" object="object" backend-api="object.backendApi" layout="layout"\n\t\t\t\t\t ext="object.ext" selections-api="object.selectionsApi" tooltip-api="object.tooltipApi" throbber-api="object.throbberApi" on-init="onInit">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-footer-wrapper" ng-show="object.hasFrame && object.showTitles && !!layout.footnote" ng-style="styles.footer">\n\t\t\t<footer qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.footnote}}" ng-attr-title="{{layout.footnote}}" ng-if="object.hasFrame && object.showTitles && !!layout.footnote" class="qv-object-footnote qvt-visualization-footnote">{{layout.footnote}}</footer>\n\t\t</div>\n\n\t</article>\n</div>\n'},1014:function(t,e,n){"use strict";var i,o;!(i=[n(11),n(1015),n(94),n(89),n(205),n(97),n(321),n(402),n(403),n(1019),n(108)],o=function(t,e,n,i,o,s,a,r,l,c,u){var d=null;var p=o.extend({$scope:null,init:function e(i,o){this.$scope=i;this.$scope.hyperCubePath=i.object.ext.options.hyperCubePath;this.titleRetriever=l.create();function p(){n.model?i.showAdd=c.updateShowAdd(u.inClient(),n.isInEditMode(),i.object.isReadonly):i.showAdd=false}n.StateChanged.bind(p);i.$on("$destroy",function(){n.StateChanged.unbind(p)});p();i.removeDimension=function(t){i.object.model.getProperties().then(function(e){var n=i.object.getCreatePropertyHandler();n.setProperties(e);n.removeDimension(t).then(function(){i.object.model.setProperties(e)})})};i.removeMeasure=function(t){i.object.model.getProperties().then(function(e){var n=i.object.getCreatePropertyHandler();n.setProperties(e);n.removeMeasure(t).then(function(){i.object.model.setProperties(e)})})};function f(t){return i.object.ext.addFieldDimension(t,i.object).then(function(){g()})}function v(t){return i.object.ext.addLibraryDimension(t,i.object).then(function(){g()})}function h(t){return i.object.ext.addLibraryMeasure(t,i.object).then(function(){g()})}function b(t){return i.object.ext.addExpressionMeasure(t,i.object).then(function(){g()})}var m;i.showAddDimension=function(e,n){if(d&&d===n){m&&m.close();m=null;d=null;return}var s=i.ext.addDimensionPopoverComponent||a;var r;m=o.show({template:s.template,controller:s.controller,input:{app:i.object.model.app,closeAddPopover:g,addFieldDimension:f,addLibraryDimension:v},alignTo:e.target,closeOnEscape:true,outsideIgnore:".add-button",dock:"right"});m.closing.then(function(e){r=e;e&&!t(e.target).hasClass("add-button")&&(d=null)});m.closed.then(function(){m=null;n.active=false;r||(d=null)});n.active=true;d=n};i.showAddMeasure=function(e,n){if(d&&d===n){m&&m.close();m=null;d=null;return}var s=i.ext.addMeasurePopoverComponent||r;var a;m=o.show({template:s.template,controller:s.controller,input:{app:i.object.model.app,closeAddPopover:g,addLibraryMeasure:h,addExpressionMeasure:b},alignTo:e.target,closeOnEscape:true,dock:"right",outsideIgnore:'[tid="add-measure"]'});m.closing.then(function(e){a=e;e&&!t(e.target).hasClass("add-button")&&(d=null)});m.closed.then(function(){m=null;n.active=false;a||(d=null)});n.active=true;d=n};function g(e){if(m){m.close();m=null}d&&(d.active=false);e&&!t(e.target).hasClass("add-button")&&(d=null)}s.on("start",g);i.$on("$destroy",function(){s.off("start",g);g()})},onPaint:f});p.$inject=["$scope","luiPopover"];return{template:e,controller:p};function f(t){var e=this.$scope;var o=this;return this.$scope.object.model.getEffectiveProperties().then(function(s){var a;var r=o.titleRetriever;e.showAdd=c.updateShowAdd(u.inClient(),n.isInEditMode(),e.object.isReadonly);c.updateMinMax(e,t);e.iconName=e.object.ext.libraryInfo.icon;if(e.type!==e.object.type.type){a=e.object.getCreatePropertyHandler();o.propertyHandler=a;e.canRemoveDim=!!a.removeDimension;e.type=e.object.type.type;e.addDimensionLabel=a.getAddDimensionLabel()}else a=o.propertyHandler;a.setLayout(t);a.setProperties(s);r.resetTitles();var l=a.getDimensions().map(function(t){var e=t.qDef.cId;var n=a.getDimensionLayout(e);var i=n.qError&&n.qError.qErrorCode;return{invalid:!!i,title:r.getDimensionTitle(n,t,true)}});return i.all(a.getMeasures().map(function(t,e){var n=t.qDef.cId;var i=a.getMeasureLayout(n);i||(i=a.getMeasureLayouts()[e]);var o=i.qError&&i.qError.qErrorCode;return r.getMeasureTitle(i,t,true,a.app).then(function(t){return{invalid:!!o,title:t}})})).then(function(t){e.finishedDimensions=l;e.finishedMeasures=t;var n=!l.length&&e.maxDimensions>0;var i=!t.length&&e.maxMeasures>0;e.unfinishedDimensions=c.getArray(Math.max(0,e.minDimensions-l.length,n?1:0));e.unfinishedMeasures=c.getArray(Math.max(0,e.minMeasures-t.length,i?1:0));e.show=true})})}}.apply(e,i),void 0!==o&&(t.exports=o))},1015:function(t,e){t.exports='<div qv-requirements class="requirements-wrapper" ng-show="show" ng-class="{\'incomplete\': !showAdd}">\n\t<div class="requirements">\n\t\t<h2 class="header">\n\t\t\t<i class="object-icon  lui-icon  lui-icon--{{iconName}}"></i>\n\t\t</h2>\n\t<p class="incomplete-text" ng-if="!showAdd" q-translation="Visualization.Requirements.IncompleteVisualization"></p>\n\t\t\x3c!-- finished dimensions --\x3e\n\t\t<ul ng-if="showAdd && finishedDimensions.length">\n\t\t\t<li ng-repeat="dimension in finishedDimensions" class="item" ng-class="{ finished: !dimension.invalid, invalid: dimension.invalid }"\n\t\t\t\ttid="{{ dimension.invalid ? \'invalid-dimension\' : \'added-dimension\'}}">\n\t\t\t\t<span class="text" ng-class="{ \'no-icon\': !canRemoveDim }" title="{{dimension.title}}">{{dimension.title}}</span>\n\t\t\t\t<i ng-if="canRemoveDim" class="lui-icon lui-icon--remove" qva-activate="removeDimension($index)" q-title-translation="Common.Delete"></i>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- unfinished dimensions --\x3e\n\t\t<ul ng-if="showAdd && unfinishedDimensions.length">\n\t\t\t<li ng-repeat="d in unfinishedDimensions" class="item missing" tid="missing-dimension">\n\t\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': d.active }" ng-click="showAddDimension($event,d)"\n\t\t\t\t\t\t\ttid="add-dimension">{{addDimensionLabel}}</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- finished measures --\x3e\n\t\t<ul ng-if="showAdd && finishedMeasures.length">\n\t\t\t<li ng-repeat="measure in finishedMeasures" class="item" ng-class="{ finished: !measure.invalid, invalid: measure.invalid }"\n\t\t\t\ttid="{{ measure.invalid ? \'invalid-measure\' : \'added-measure\'}}">\n\t\t\t\t<span class="text" title="{{measure.title}}">{{measure.title}}</span>\n\t\t\t\t<i class="lui-icon lui-icon--remove" qva-activate="removeMeasure($index)" q-title-translation="Common.Delete"></i>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t\x3c!-- unfinished measures --\x3e\n\t\t<ul ng-if="showAdd && unfinishedMeasures.length">\n\t\t\t<li ng-repeat="m in unfinishedMeasures" class="item missing" tid="missing-measure">\n\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': m.active }" ng-click="showAddMeasure($event,m)"\n\t\t\t\t\tq-translation="Visualization.Requirements.AddMeasure" tid="add-measure"></button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n'},1016:function(t,e){t.exports='<lui-popover class="add-popover-wrapper" style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<div ng-show="!step2">\n\t\t<object-add-typeahead>\n\t\t\t<lui-popover-header>\n\t\t\t\t\t<div class="lui-input-group">\n\t\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-measure" autocomplete="off" ng-model="search.term" tid="add-measure-input" qva-focus="autoFocus"\n\t\t\t\t\t\t\t   maxlength="255" object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)"/>\n\n\t\t\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addExpressionMeasure({value:value})" expression-type="measure"\n\t\t\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t</lui-popover-header>\n\t\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in activeMeasures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addActiveMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.translatedTitle}}" title="{{measure.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="measures.length"  q-translation="Common.Measures"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in measures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addLibraryMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.value}}" title="{{measure.value}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Visualization.Requirements.FromField"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\t\tobject-add-typeahead-item="field" on-select="showFromField(field)"\n\t\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}"\t>\n\t\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></span>\n\t\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></span>\n\t\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t\t<i class="object-add-popover-toogle-step2-icon  lui-list__aside lui-icon  lui-icon--triangle-right"></i>\n\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-nohits" ng-if="!measures.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t\t</div>\n\t\t</object-add-typeahead>\n\t</div>\n\t<div class="object-add-popover back" ng-show="step2">\n\t\t<div class="object-add-popover-header">\n\t\t\t<div qva-activate="goBack($event);">\n\t\t\t\t<i class="object-add-popover-back-icon  lui-icon  lui-icon--triangle-left"></i>\n\t\t\t\t<span q-translation="Visualization.Requirements.Back"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="object-add-popover-content">\n\t\t\t<div class="object-add-popover-list-header" q-translation="Visualization.Requirements.Aggregation"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="suggestion in fieldSuggestions" qva-activate="addFromField(suggestion)" tid="from-field-item">\n\t\t\t\t\t<span class="lui-list__text lui-list__text--ellipsis" title="{{suggestion.aggregation}}({{suggestion.field}})">{{suggestion.aggregation}}({{suggestion.field}})</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</lui-popover>\n'},1017:function(t,e,n){"use strict";var i,o;!(i=[n(89),n(272),n(231),n(147)],o=function(t,e,n,i){function o(){this.measureTitles={}}o.prototype.getDimensionTitle=s;o.prototype.getMeasureTitle=a;o.prototype.resetTitles=r;return o;function s(t,i,o){if(!t)return"";if(t.qError&&!e.isCalcCondNotCalculatedErr(t.qError))return n.getDimensionError(t.qError.qErrorCode);var s=i.qLibraryId,a="H"===t.qGrouping;return a||s&&o?t.title||"":!s&&o?i.qDef.qLabelExpression||t.qFallbackTitle||"":t.qFallbackTitle||""}function a(t,e,n,i){var o=l(t,this.measureTitles);if(o)return o.promise;o=c(t,this.measureTitles);o.promise=u(t,e,n,i);return o.promise}function r(){this.measureTitles={}}function l(t,e){var n=d(t);return e[n]}function c(t,e){var n=d(t);var i={id:n,promise:null};e[n]=i;return i}function u(e,o,s,a){if(!e)return t.when("");var r=o.qLibraryId;if(e.qError)return t.when(n.getMeasureError(e.qError.qErrorCode));if(r&&s){if(!a)throw new Error("TitleRetriever: Argument 'app' is required");return i.get(r,a).then(function(t){return t.getProperties()}).then(function(t){return t.qMeasure.qLabel||""})}return!r&&s?t.when(o.qDef.qLabelExpression||e.qFallbackTitle||""):t.when(e.qFallbackTitle||"")}function d(t){return t&&t.cId}}.apply(e,i),void 0!==o&&(t.exports=o))},1018:function(t,e){t.exports='<div qv-errorhandler class="object-error" ng-class="error.class" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more lui-icon lui-icon--info lui-icon--large" ng-click="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t</div>\n</div>\n'},1019:function(t,e,n){"use strict";var i,o;!(i=[n(281)],o=function(t){function e(t,e,n){return t?e&&!n:!n}function n(t){var e=new Array(t),n;for(n=0;n<t;++n)e[n]={index:n};return e}function i(e,n){if(e.layers&&e.layers[0]){var i=e.layers[0],o=i.qHyperCube.qDimensionInfo;return"point"===i.type?o[1].qError&&o[1].qError.qErrorCode?[o[1]]:[o[0]]:e.layers[0].qHyperCube.qDimensionInfo||[]}var s=t.getHyperCube(e,n);if(s)return s.qDimensionInfo||[];if(e.qChildList){var a=e.qChildList.qItems||[];return a.map(function(){return{}})}return e.qListObject&&e.qListObject.qDimensionInfo?[e.qListObject.qDimensionInfo]:[]}function o(e,n){var i=t.getHyperCube(e,n);return i&&i.qMeasureInfo||[]}function s(t,e){var n=t.ext.dimensionDefinition?t.ext.dimensionDefinition.min:0,s=t.ext.dimensionDefinition?t.ext.dimensionDefinition.max:0,a=t.ext.measureDefinition?t.ext.measureDefinition.min:0,r=t.ext.measureDefinition?t.ext.measureDefinition.max:0;var l=i(e,t.hyperCubePath),c=o(e,t.hyperCubePath);t.minDimensions="function"===typeof n?n.call(null,c.length):n;t.minMeasures="function"===typeof a?a.call(null,l.length):a;t.maxDimensions="function"===typeof s?s.call(null,c.length):s;t.maxMeasures="function"===typeof r?r.call(null,l.length):r}return{updateShowAdd:e,getArray:n,getDimensionInfo:i,getMeasureInfo:o,updateMinMax:s}}.apply(e,i),void 0!==o&&(t.exports=o))},1020:function(t,e,n){"use strict";var i,o;!(i=[n(95)],o=function(t){function e(e){e=e||{};t.publish("/ui/object/resize",e)}["/resize/end","/ui/panel/toggle","/ui/grid/cellswap","/ui/grid/cellresize","/ui/grid/cellsplitting","/ui/grid/zoom/activated","/ui/grid/zoom/deactivated"].forEach(function(n){t.subscribe(n,e)})}.apply(e,i),void 0!==o&&(t.exports=o))},1021:function(t,e,n){"use strict";var i,o;!(i=[n(48),n(1022)],o=function(t,e){t.directive("qvThrobber",["$timeout",function(t){return{replace:true,template:e,restrict:"E",scope:{model:"=",progress:"=",delay:"=",disabled:"="},link:function e(n){var i;n.$watch("model.isValidating",function(e){if(true===n.disabled){n.progress=false;return}if(n.model&&void 0===n.model.state)n.progress=true;else if(e){i&&t.cancel(i);i=t(function(){n.model&&n.model.isValidating&&(n.progress=true)},n.delay||1e3)}else n.progress=false})}}}])}.apply(e,i),void 0!==o&&(t.exports=o))},1022:function(t,e){t.exports='<div ng-show="progress" class="qv-animate progress ng-hide">\n\t<div class="progress-loader" style="width:20%;height:20%;position:absolute;top:40%;left:40%"></div>\n</div>\n'},1023:function(t,e){t.exports='<div class="rain progress" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="rain-image-container" ng-if="isLoadingCardImageFlag"></div>\n\n\t<div ng-if="!isLoadingCardImageFlag" class="rain-progress" ng-style="rainStyle" aria-label="{{objectSRloading}}">\n\t\t<div class="progress-div rotating" ng-class="ngClasses">\n\t</div>\n\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},1024:function(t,e,n){"use strict";var i,o;!(i=[n(48),n(1025),n(1026)],o=function(t,e){t.directive("qvaNavMenu",[function(){return{template:e,replace:true,scope:{menu:"=",options:"="},controller:["$scope","$element",function(t,e){t.menu.getSize=function(){var n=e[0].getBoundingClientRect();return{width:t.menu.visible?n.width:0,height:t.menu.visible?n.height:0}}}]}}])}.apply(e,i),void 0!==o&&(t.exports=o))},1025:function(t,e){t.exports='<div qva-direction x-dir-setting="{{options.direction}}" class="qv-object-nav" aria-hidden="true" ng-style="styles.backgroundColor" ng-class="{\'zero-top\' : options.isZoomed, \'visible\' : menu.visible, \'active\': options.isActive, \'inline\' : options.thinHeader}">\n  <qva-nav-menu-item ng-repeat="menuItem in menu.items | orderBy:\'+\':true" model="menuItem"></qva-nav-menu-item>\t\n</div>'},1026:function(t,e,n){"use strict";var i,o;!(i=[n(48),n(1027)],o=function(t,e){t.directive("qvaNavMenuItem",[function(){return{template:e,replace:true,scope:{model:"="},link:function t(e,n){e.model.mounted&&e.model.mounted(n)}}}])}.apply(e,i),void 0!==o&&(t.exports=o))},1027:function(t,e){t.exports='<a\n  ng-show="model.isVisible()"\n  ng-class="[model.cssClasses, model.dynamicCssClasses()]"\n  qva-activate="model.action($event)"\n  q-title-translation="{{model.translation}}"\n  tid="{{model.tid}}">\n</a>'},1094:function(t,e,n){"use strict";var i,o;!(i=[n(89),n(97)],o=function(t,e){var n={template:null,controller:["$scope","$element","$timeout",function(n,i,o){var s=this;s.selectionsActivated=function(){};s.selectionsDeactivated=function(){};s.close=function(){a()};function a(){o(function(){n.destroyComponent();i.remove()});e.off("start.listbox-popover-error",a)}function r(){return o(function(){return i.find(".toolbar-wrapper").outerWidth()})}n.closeView=function(t){n.onPopoverClose(t);a()};t.all({object:n.getVisualization(),width:r()}).then(function(t){var i=t.object,o=t.width;i.getSelectionToolbar().then(function(t){n.toolbar=t;n.toolbar.showLock=n.options.showLock;n.toolbar.position={width:o};i.activateSelections()});i.loaded.then(function(){i.ext.hasError(i)&&e.on("start.listbox-popover-error",a)});i.selectionsApi.watchActivated(function(){s.selectionsActivated()});i.selectionsApi.watchDeactivated(function(){s.selectionsDeactivated();a()});n.closeView=function(t){i.selectionsApi.confirm();n.onPopoverClose(t);a()}})}]};return n}.apply(e,i),void 0!==o&&(t.exports=o))},1095:function(t,e){t.exports='<div\n\tclass="qv-listbox-popover-small-device">\n\t<div class="toolbar-wrapper"\n\t\tqva-include-selection-toolbar\n\t\tcomponent="selectionToolbarComponent"\n\t\ttoolbar="toolbar"\n\t\toptions="options">\n\t</div>\n\t<h1 qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{model.layout.title || model.layout.qListObject.qDimensionInfo.qFallbackTitle}}" class="qvt-visualization-title">{{model.layout.title || model.layout.qListObject.qDimensionInfo.qFallbackTitle}}</h1>\n\t<div class="listbox-wrapper">\n\t\t<qv-object object="object" model="model" options="options"></qv-object>\n\t</div>\n</div>\n'},176:function(t,e,n){"use strict";var i,o;!(i=[n(10),n(48),n(283),n(90),n(102),n(10)],o=function(t,e,n,i,o){e.service("qvSelectionToolbarService",function(){var e,s,a;function r(t,e){var n=t[0].getBoundingClientRect(),i=e[0].getBoundingClientRect(),o,s,a,r;if(e.is("th, td")){s=e.closest("table")[0].getBoundingClientRect();o=e.prevAll();a=o.length?o.last():e;r=a[0].getBoundingClientRect();if(r.left-s.left===1)return{top:i.top-n.top,left:i.left-1-n.left,width:i.width}}return{top:i.top-n.top,left:i.left-n.left,width:i.width}}e={open:function e(o,l,c){var u=r(o,l),d={top:-44+u.top,width:u.width+(c.offsetWidth||0),left:u.left};c.toolbar=i.extend(true,c.toolbar,{position:d,menuMaxHeight:c.menuMaxHeight});s=t.element("<div>");a=s.showComponent(n,c);s.appendTo(o);this.Opened.emit()},refresh:function t(){a&&a.refresh()},close:function t(){if(a){a.close();this.Closed.emit();a=void 0}s&&s.remove()},confirm:function t(){if(a){a.confirm();a=void 0}this.close()}};o.create(e,"Closed");o.create(e,"Opened");return e})}.apply(e,i),void 0!==o&&(t.exports=o))},245:function(t,e,n){"use strict";var i,o;!(i=[n(11),n(48),n(89),n(115),n(305),n(124),n(1013),n(95),n(312),n(90),n(91),n(1014),n(272),n(97),n(205),n(386),n(123),n(247),n(100),n(377),n(164),n(103),n(391),n(1020),n(176),n(1021),n(999),n(1024)],o=function(t,e,n,i,o,s,a,r,l,c,u,d,p,f,v,h,b,m,g,y,x,q){var w=new l({type:"invalid",path:"objects.error-handling/invalid-type"});function C(){var t=/\.(qlik-stage|qlikcloud)\.com/;var e=window.location.hostname.match(t)||[];return e.length}var D={INVALID:0,RENDERED:1};e.componentDirective("qvObjectContent",{object:"=",backendApi:"=",ext:"=",options:"=",layout:"=",selectionsApi:"=",tooltipApi:"=",throbberApi:"=",onInit:"="},null,function(t,e,n){e.onInit(t,e,n)});function A(t){t.selectionsApi&&t.selectionsApi.active&&t.selectionsApi.confirm()}function j(t,n){var i;function o(){return!t.options||false!==t.options.isVisible}function s(){A(n)}function a(){if(!o())return;e.$apply(t,function(){n.resize()});n.throbberApi&&n.throbberApi.resize();n.explore.resize()}function l(){i||(i=setTimeout(function(){a();clearTimeout(i);i=null},100))}t.$on("resizeCell",function(){l()});r.subscribe("/ui/object/resize."+t.$id,function(){l()});f.on("start."+t.$id,s);t.$on("$destroy",function(){clearTimeout(i);r.unsubscribe("."+t.$id);f.off("start."+t.$id,s)})}function S(t,e){t.object._forcePaint=true;function n(n){if(!t.model.isCancelled){t.layout=n;e.setLayout(n,t.options)}}function i(t){if(!t)return;e.model&&a(e.model);s(t);e.setModel(t)}function o(){e.setRenderState(D.INVALID)}function s(i){i.Invalidated&&!i.isCancelled&&i.Invalidated.bind(o);e.subscription=t.model.layoutSubscribe(n)}function a(n){n&&n.Invalidated&&n.Invalidated.unbind(o);n&&n.isValidating&&t.options._softCancelOnRemove&&n.markAsCancelled();e.subscription&&e.subscription.dispose()}t.$watch("model",i);t.$on("$destroy",function(){a(t.model)})}function E(t){return parseInt(t)/13+"em"}function _(t,e){if(!e.qInfo)return;var n=g.initializeService("object."+g.getMatch(e.visualization||e.qInfo.qType));t.styles=c.extend(true,t.styles||{},{backgroundColor:{"background-color":n.getStyle("","backgroundColor")},title:{"font-size":E(n.getStyle("title.main","fontSize")),color:n.getStyle("title.main","color")},subTitle:{"font-size":E(n.getStyle("title.subTitle","fontSize")),color:n.getStyle("title.subTitle","color")},footer:{"font-size":E(n.getStyle("title.footer","fontSize")),color:n.getStyle("title.footer","color"),"background-color":n.getStyle("title.footer","backgroundColor")}})}function T(t,n,i,s){var a,r,l,d;var f,v;n.updateTitlePadding=function(e){var n="rtl"===t.options.direction;c.setValue(t,"styles.title.padding-right",n?0:e+"px");c.setValue(t,"styles.title.padding-left",n?e+"px":0);s.contentLoaded().then(function(t){t.view&&t.view.updateTitlePadding&&t.view.updateTitlePadding(e)})};n.setObjectClass=function(e){d||(d=i.find(".qv-object"));if(d[0]){(e||void 0===f)&&(f=d[0].clientWidth);(e||void 0===v)&&(v=d[0].clientHeight)}var s=o.getLayoutMode(f,v);var a=n.type&&n.type.type;var r=[];n._inEditState&&r.push("qv-mode-edit");n.hasValidContent()||r.push("qv-incomplete");n.supportSnapshot()&&r.push("qv-can-take-snapshot");n.selectionsApi&&n.selectionsApi.active&&r.push("qv-selections-active");n.objectSize={w:f,h:v};t.options.layoutMode=s;var l="qv-layout-"+o.getLayoutModeKey(s);r.push(l);t.objectClass="qv-object-"+a;r.push(t.objectClass);n.selectionClass&&r.push(n.selectionClass);t.classList=r;t.wrapperClassList=[];t.object&&t.object.hasFrame&&t.object.showTitles&&!!t.layout.footnote&&t.wrapperClassList.push("has-footnote");t.options.thinHeader=!n.showTitles||""===t.layout.title&&""===t.layout.subtitle&&!n._inEditState};function h(){return!t.options||false!==t.options.isVisible}n.update=function(){if(!this.valid)return;_(t,t.layout);var i=this;a=e.getService("$timeout")(function(){n.backendApi&&n.backendApi.updateCache(t.layout);n.setObjectClass();t.$digest();i.loadContent();var e=n.type===w&&t.options.hardError;s.contentLoaded().then(function(i){if(!i.isDestroyed)try{return i.onPaint(t.layout,{visible:h()}).then(function(i){if(false===i)return;if(e){n.setRenderState(D.INVALID);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null,"INVALID")}else{n.setRenderState(D.RENDERED);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null)}}).catch(function(){n.setRenderState(D.INVALID);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null)})}catch(e){n.setRenderState(D.INVALID);n.error={class:"hard-error",title:u.get("Object.Error"),message:u.get("Object.ErrorMessage.RenderingFailed",n.ext&&n.ext.type)};q.trackEvent(q.customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof e?e:e.message,stack:e.stack,extension:n.type?n.type.type:"undefined",isThirdParty:n.type&&n.type.libraryInfo.isThirdParty});s.updateContent(p).then(function(i){i.onPaint(t.layout,{visible:false}).then(function(){n.setRenderState(D.RENDERED);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null,e)})});throw e}})})};n.resize=function(){if(!h())return;n.setRenderState(D.INVALID);n.setObjectClass(true);r=e.getService("$timeout")(function(){s.contentLoaded().then(function(e){e.isDestroyed||e.onResize(t.layout).then(function(){n.setRenderState(D.RENDERED)}).catch(function(t){false})}).catch(function(t){false})})};n.onResize=function(){s.contentLoaded().then(function(e){e.onResize(t.layout).then(function(){n.setRenderState(D.RENDERED)})})};t.$on("$destroy",function(){var t=e.getService("$timeout");t.cancel(a);t.cancel(r);l&&l.reject()})}function L(t,o,s,a){var r=n(),l;s.loaded=r.promise;s.valid=false;s.loadContent=function(){var e={options:t.options,object:s,layout:t.layout,ext:s.ext};var n;n=s.ext.hasError(e)?p:s.ext.showRequirements(e)?d:s.ext;a.updateContent(n)};s.reset=function(){if(!this.valid)return;t.options=c.extend({},t.resetOptions,{isZoomed:t.options.isZoomed,interactionState:t.options.interactionState,direction:t.options.direction,onRendered:t.options.onRendered});r=n();this.loaded=r.promise;this.valid=false};s.validate=function(){if(this.valid)return;if(this.layout&&this.type&&this.ext){this.valid=true;r.resolve()}};s.setExtension=function(e){this.ext=e;t.ext=e;if("invalid"!==e.type){e.mapProperties(this.model);e.mapSoftProperties();this.setBackendApi();if(e.migrate){this.model.migrate={properties:e.migrate.properties||function(t){return t},snapshot:e.migrate.snapshot||function(t){return t}};"function"===typeof e.migrate.snapshot&&y.isSnapshotData(this.model.layout)&&e.migrate.snapshot(this.model.layout)}else this.model.migrate={properties:function t(e){return e},snapshot:function t(e){return e}}}this.validate();this.update();this.ext.model=this.model};s.setBackendApi=function(){var e=t.options.APIType||this.ext.BackendApi;var n=new e(this.model);this.backendApi=n;a.contentLoaded().then(function(t){t.setBackendApi(n)})};s.setType=function(n,i){this.backendApi&&this.backendApi.destroy();this.ext=null;this.backendApi=null;this.hasContent=false;this.type=n;n.load().then(function(r){if(s.type!==n)return;n!==w&&(s.error=null);function l(){s.setExtension(r);k(t,o,s,a);if(i){e.$rootScope.$broadcast("refreshPropertyPanel");e.$rootScope.$broadcast("reloadExploreContent")}}if("function"===typeof r.init){var c=r.init.call(null,o,s.layout);c&&"function"===typeof c.then?c.then(function(){l()},function(e){s.setRenderState(D.INVALID);s.error={class:"hard-error",title:u.get("Object.Invalid.Title"),message:e||u.get("Object.ErrorMessage.RenderingFailed",r.type)};a.updateContent(p).then(function(n){n.onPaint(t.layout,{visible:false}).then(function(){s.setRenderState(D.RENDERED);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null,e)})});l()}):l()}else l()},function(){s.setType(w);C()?s.error={class:"hard-error",title:u.get("Object.Invalid.Title"),message:u.get("Object.ErrorMessage.NotFound.Cloud.Extensions",n.type)}:s.error={class:"hard-error",title:u.get("Object.Invalid.Title"),message:u.get("Object.ErrorMessage.NotFound",n.type)};s.isInvalid=true;s.setObjectClass()})};s.setModel=function(t){this.model=t;if(this.ext){this.ext.model=t;this.setBackendApi()}};s.on=function(){a.contentLoaded().then(function(t){t.view&&t.view.on()})};s.off=function(){a.contentLoaded().then(function(t){t.view&&t.view.off()})};s.isOn=function(){return a.contentLoaded().then(function(t){return t.view?t.view.isOn():null})};s.setInteractionState=function(n){s._interactionState=n;s._inEditState=n===b.EDIT;s._inAnalysisState=n===b.ANALYSIS;t.options.interactionState=n;this._inEditState&&s.viewDataToggled&&s.toggleDataView();a.contentLoaded().then(function(t){n!==b.ANALYSIS&&A(s);t.setInteractionState(n);e.getService("$timeout").cancel(l);l=e.getService("$timeout")(function(){s.setObjectClass()})})};s.getInteractionState=function(){return s._interactionState};s.inAnalysisState=function(){return s._inAnalysisState};s.inEditState=function(){return s._inEditState};s.setFreeResize=function(e){t.options.freeResize=e;a.contentLoaded().then(function(t){t.setFreeResize(e)})};s.setDirection=function(e){if(!e||t.options.direction===e)return;t.options.direction=e;a.contentLoaded().then(function(t){t.setDirection(e);s.update()})};s.setLayout=function(t){this.layout=t;var e=t.visualization||t.qInfo&&t.qInfo.qType;var n=i.getType(e);var o=n;t.extensionMeta&&t.extensionMeta.name&&(o=t.extensionMeta.name);if(t.qError){n=w;this.error={title:"Object.Error",message:"Object.Invalid.Info"}}if(!n){n=w;C()?this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound.Cloud.Extensions",o,e]}:this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound",o,e]}}if(this.ext&&this.ext.hasNewType&&this.ext.hasNewType(this,n,t)||this.type!==n){this.reset();this.setType(n,!!this.type)}this.isInvalid=n===w;this.isLink=!this.isInvalid&&!!t.qExtendsId;this.showTitles=false!==t.showTitles;this.validate();this.update()}}function k(n,i,o){function s(e){var n=t(e.target);if(o.selectionsApi.ignoreOnOutside(n))return;o.selectionsApi.getDockToElement().off(".object");o.selectionsApi.confirm()}o.activateSelections=function(){if("undefined"===typeof o.ext.options.selections)return;o.inAnalysisState()&&o.selectionsApi.activate()};o.selectionsApi&&"function"===typeof o.selectionsApi.destroy&&o.selectionsApi.destroy();function a(){o.backendApi&&o.backendApi.endSelections(true);return null}o.tooltipApi={cancel:function t(){},destroy:function t(){}};o.selectionsApi={destroy:function e(){this._activatedCallbacks=[];this._deactivatedCallbacks=[];t(window).off("onbeforeunload",a)},active:false,selectionsMade:false,_activatedCallbacks:[],_deactivatedCallbacks:[],on:function t(){},off:function t(){},ignoreOnOutside:function t(e){return!!(e.closest(".qv-selection-toolbar").length||e.closest(".selections-data-area-ui").length)},getDockToElement:function t(){return i},getMenuMaxHeight:function t(){return o.selectionsApi.getDockToElement().outerHeight()},getSelectionToolbarWidthOffset:function t(){return 0},refreshToolbar:function t(){e.getService("qvSelectionToolbarService").refresh()},watchActivated:function t(e){this._activatedCallbacks.push(e);return function(){var t=this._activatedCallbacks.indexOf(e);this._activatedCallbacks.splice(t,1)}.bind(this)},activated:function r(l){this.active=true;l||o.backendApi.beginSelections();t(window).on("onbeforeunload",a);if(!n.options.isPopover){this.getDockToElement().on("qv-outside.object",s);e.$apply(n,function(){o.setObjectClass();o.getSelectionToolbar().then(function(t){var s={toolbar:t,selectionsApi:o.selectionsApi,options:n.options,menuMaxHeight:o.selectionsApi.getMenuMaxHeight(),offsetWidth:o.selectionsApi.getSelectionToolbarWidthOffset()};var a=i.parent().closest(".qv-object-wrapper").length?i.parent().closest(".qv-object-wrapper"):i;e.getService("qvSelectionToolbarService").open(a,o.selectionsApi.getDockToElement(),s)})})}this._activatedCallbacks.forEach(function(t){t.call(this)},this)},watchDeactivated:function t(e){this._deactivatedCallbacks.push(e);return function(){var t=this._deactivatedCallbacks.indexOf(e);this._deactivatedCallbacks.splice(t,1)}.bind(this)},deactivated:function i(){t(window).off("onbeforeunload",a);this.active=false;this.selectionsMade=false;o.tooltipApi.cancel();if(!n.options.isPopover){o.selectionsApi.getDockToElement().off(".object");e.$apply(n,function(){o.setObjectClass();e.getService("qvSelectionToolbarService").close()})}this._deactivatedCallbacks.forEach(function(t){t.call(this)},this)},confirm:function t(){o.selectionsApi.deactivateSearch&&o.selectionsApi.deactivateSearch();o.backendApi.endSelections(true);o.tooltipApi.cancel();this.deactivated()},cancel:function t(){o.selectionsApi.deactivateSearch&&o.selectionsApi.deactivateSearch();o.backendApi.endSelections(false);o.tooltipApi.cancel();this.deactivated()},clear:function t(){o.backendApi.clearSelections();o.tooltipApi.cancel();this.selectionsMade=false},toggleKeyboardAccelerators:function t(){},getKeyAsToggleSelected:function t(e){return!(e.metaKey||e.ctrlKey)},search:function t(){},confirmSearch:function t(){},cancelSearch:function t(){},activate:function t(){if(this.active)return;this.activated()},notifyLockedSelections:function t(e){x.showLockedFeedback(e)}};o.selectionsApi.watchDeactivated(function(){n.$emit("childSelectionActive",false)});o.selectionsApi.watchActivated(function(){n.$emit("childSelectionActive",true)})}function I(t,n){var i,o,s;n.throbberApi&&"function"===typeof n.throbberApi.destroy&&n.throbberApi.destroy();function a(i,a){e.getService("$timeout").cancel(o);e.getService("$timeout").cancel(s);if(n.selectionsApi&&n.selectionsApi.active)n.throbberApi.hide();else if(t.model&&void 0===t.model.state)n.throbberApi.show();else if(t.model&&t.model.isCancelled)n.throbberApi.isQueryCanceled=true;else if(i){o=e.getService("$timeout")(function(){t.model&&t.model.isValidating&&n.throbberApi.show()},a);s=e.getService("$timeout")(function(){if(true===n.throbberApi.isVisible){n.throbberApi.isLongRunningQuery=true;n.throbberApi.isQueryCanceled=false}},8e3)}else{n.throbberApi.hide();n.throbberApi.isLongRunningQuery=false}}n.throbberApi={resizeCallbacks:[],isVisible:false,isLongRunningQuery:false,isQueryCanceled:false,initialize:function e(){i=t.$watch("model.isValidating",function(t){a(t,1e3)})},reset:function t(e){a(e,0)},show:function t(){n.throbberApi.isVisible=true;n.throbberApi.isQueryCanceled=false;n.throbberApi.isLongRunningQuery=false},hide:function t(){n.throbberApi.isVisible=false;n.throbberApi.isLongRunningQuery=false;e.getService("$timeout").cancel(o);e.getService("$timeout").cancel(s)},off:function t(){i();e.getService("$timeout").cancel(o);e.getService("$timeout").cancel(s)},destroy:function t(){n.throbberApi.off();n.throbberApi.resizeCallbacks.length=0},resize:function t(){n.throbberApi.resizeCallbacks.forEach(function(t){t()})},watchResize:function t(e){var i=n.throbberApi.resizeCallbacks;i.push(e);return function t(){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}};n.throbberApi.initialize()}function M(t,e){e.explore={resizeCallbacks:[],resize:function t(){e.explore.resizeCallbacks.forEach(function(t){t()})},watchResize:function t(n){e.explore.resizeCallbacks.push(n)},unwatchResize:function t(n){var i=e.explore.resizeCallbacks.indexOf(n);-1!==i&&e.explore.resizeCallbacks.splice(i,1)},destroy:function t(){e.explore.resizeCallbacks=[]}}}e.directive("qvObject",function(){return{restrict:"E",replace:true,template:a,scope:{options:"=",model:"=",object:"=?",navMenu:"=",snapshot:"=?"},controller:["$scope","qvDefaultViewSelectionService",function(t,e){var i=n();this.updateContent=function(e){var o=t.object;if(o&&o.content!==e){"undefined"!==typeof o.content&&(i=n());o.content=e}return i.promise};this.contentLoaded=function(){return i.promise};t.onInit=function(t,n,o){t instanceof v||(t=new(h.extend(t))(n,o,e));i.resolve(t)}}],link:function i(o,a,r,l){var u={},f;o.object=u;o.options||(o.options={});o.options.zoomEnabled=!!r.zoomObject;o.resetOptions=c.extend({},o.options);Object.defineProperties(u,{hasFrame:{get:function t(){return!o.options.isPopover&&!u.isInvalid}},isReadonly:{get:function t(){return!u||u.isLink||u.isInvalid||o.options.isReadonly}},isInteractive:{get:function t(){return!!u&&o.options.interactionState!==b.STATIC}},hasSoftProperties:{get:function t(){return!!this.ext&&!!this.ext.mappedSoftDefinition}}});u.getCreatePropertyHandler=function(){var t=u.model.app;return u.ext.getCreatePropertyHandler(t)};u.getPropertyPanelContent=function(){return u.loaded.then(function(){var t=u.getCreatePropertyHandler();var e=u.ext.mappedDefinition||u.ext.definition;var n=u.ext.globalChangeListeners;return{definition:e,globalChangeListeners:n,type:u.type,app:u.model.app,backendApi:u.backendApi,handler:t,iconName:u.ext.libraryInfo.icon,titleRef:"title",ext:u.ext}})};u.getSoftPropertyContent=function(){return u.loaded.then(function(){var t=u.ext.mappedSoftDefinition||u.ext.softDefinition;return{definition:t,type:u.type,backendApi:u.backendApi}})};u.setSnapshotData=function(t,e){return l.contentLoaded().then(function(n){return n.setSnapshotData(t,e)})};u.getViewState=function(){return l.contentLoaded().then(function(t){return t.getViewState?t.getViewState():void 0})};u.getPreferredSize=function(){return l.contentLoaded().then(function(t){var e=t.getPreferredSize();return e?e.then(function(t){if(!t)return;var e=a.find("footer"),n=a.find("header"),i=35;return{w:t.w,h:t.h+(e.height()||0)+(n.height()||0)+i+a[0].offsetTop}}):void 0})};u.getSnapshotLayout=function(){return u.loaded.then(function(){return l.contentLoaded().then(function(){return m.prepSnapshotData(u.model.layout,u,true)})})};u.toggleDataView=function(){return l.contentLoaded().then(function(t){if(t.view&&"function"===typeof t.view.toggleDataView){void 0===t.view.toggled&&t.view.initDataView(a[0].parentElement);return t.view.toggleDataView().then(function(e){if(e){u.dataViewObject=t.view.getDataViewObject();u.dataViewObject.setOnBlurHandler(u.blur)}u.viewDataToggled=e})}return n.resolve()})};u.getDropOptions=function(t,e){return u.loaded.then(function(){return l.contentLoaded().then(function(){return u.ext.getDropOptions(u,t,e)})})};u.canReceive=function(t){return!u.ext||!u.ext.canReceive||u.ext.canReceive(t)};u.getContextMenu=function(t,e){return l.contentLoaded().then(function(n){return n.getContextMenu(u,t,e)})};u.getObjectMenu=function(t){return l.contentLoaded().then(function(e){return e.getObjectMenu(u,t)})};u.getSelectionToolbar=function(){return u.loaded.then(function(){return l.contentLoaded().then(function(t){return t.getSelectionToolbar()})})};u.reloadContent=function(){u.ext=t.extend({},u.ext);o.ext=u.ext;u.loadContent();u.update()};u.canShowExploreMenu=function(){var t=this.content===d||this.content===p;return!this.isInvalid&&this.hasSoftProperties&&!t};function v(t,e,n){var i=u&&o.ext&&!(o.model&&!o.model.isValid&&!o.model.isValidating);e||(i=i&&t!==d);n||(i=i&&t!==p);return i}function h(t){var e=o.ext&&o.ext.support[t];if("function"===typeof e)return e.call(null,o.layout);if("boolean"===typeof e)return e;return false}u.supportCssScaling=function(){return v(this.content)&&h("cssScaling")};u.hasValidContent=function(){return v(this.content)};u.supportSnapshot=function(){if(!v(this.content))return false;var t=o.ext&&o.ext.snapshot&&o.ext.snapshot.canTakeSnapshot;if("undefined"===typeof t)return h("snapshot");if("function"===typeof t)return t.call(null,o.layout);if("boolean"===typeof t)return t;return false};u.supportObjectInfo=function(){if(!v(this.content))return false;if(u.isInvalid)return false;return this.layout.showDetails};u.supportExportData=function(){return v(this.content,false,true)&&h("exportData")};u.supportExport=function(){return v(this.content)&&h("export")};u.supportSharing=function(){return v(this.content)&&h("sharing")};u.supportViewData=function(){return v(this.content)&&h("viewData")};u.setRenderState=function(t){if(u&&u.renderState!==t){u.renderState=t;o.$emit("objectRenderStateChange",t)}};u.setOnFocusHandler=function(t){u.focus=t};u.setOnBlurHandler=function(t){u&&(u.blur=t)};u.cancel=function(){u.subscription.cancel();u.throbberApi.hide();u.throbberApi.isQueryCanceled=true;l.contentLoaded().then(function(t){t.view&&t.view.cancel()});"function"===typeof o.options.onCanceled&&o.options.onCanceled.call(null)};u.retry=function(){u.throbberApi.hide();u.throbberApi.reset(true);u.throbberApi.isQueryCanceled=false;o.model.markAsInvalid();o.model.getLayout().then(function(t){o.layout=t;u.setLayout(t)});l.contentLoaded().then(function(t){t.view&&t.view.retry()})};L(o,a,u,l);j(o,u);T(o,u,a,l);M(o,u);u.setRenderState(D.INVALID);function y(){u.update()}u._themeChangeWatcher=y;g.ThemeChanged.bind(u._themeChangeWatcher);s.load(o.options._skipRegisterExtensions).then(function(){S(o,u);I(o,u,l)});u.loaded.then(function(){o.cancelled=o.model.isCancelled});o.$watch("options.interactionState",function(t){var e=Number.isNaN(+t)?1:t;u.setInteractionState(e)});o.$watch("options.direction",function(t){u.setDirection(t)});o.$watch("options",function(t){t&&t.setController&&l.contentLoaded().then(function(){t.setController(u)})});o.$on("childSelectionActive",function(t,e){u&&(u.childInSelection=e);t.preventDefault()});o.titleClicked=function(){this.options._disableSelections||u._inEditState||l.contentLoaded().then(function(t){(t.view&&t.view.selections||t.$scope.interactive)&&u.activateSelections()})};o.cancel=function(){u.cancel()};o.retry=function(){u.retry()};var x=false;o.$on("$destroy",function(){if(x)return;x=true;e.getService("$timeout").cancel(f);g.ThemeChanged.unbind(u._themeChangeWatcher);if(u){A(u);u.selectionsApi&&"function"===typeof u.selectionsApi.destroy&&u.selectionsApi.destroy();if(u.tooltipApi){u.tooltipApi.destroy&&u.tooltipApi.destroy();u.tooltipApi=null}if(u.backendApi){u.backendApi.destroy();u.backendApi=null}u.throbberApi&&u.throbberApi.destroy();u.explore&&u.explore.destroy();u=null;o.object=null}})}}})}.apply(e,i),void 0!==o&&(t.exports=o))},272:function(t,e,n){"use strict";var i,o;!(i=[n(10),n(96),n(91),n(89),n(390),n(1018),n(205),n(231),n(110),n(461)],o=function(t,e,n,i,o,s,a,r,l,c){function u(t){return t.qErrorCode===l.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function d(t){return t.qErrorCode===l.NxLocalizedErrorCode.LOCERR_CALC_NOT_CALCULATED}function p(t,e){var n={holder:null,type:""};var i=e&&t[e]?t[e].qHyperCube:t.qHyperCube;if(i&&i.qError){n.holder=i;n.errorTranslationFunc=r.getHyperCubeError}else if(t.layers&&t.layers.length&&t.layers[0].qHyperCube){t.layers[0].qHyperCube.qError?n.holder=t.layers[0].qHyperCube:t.layers[0].geodata.qHyperCube.qError&&(n.holder=t.layers[0].geodata.qHyperCube);n.errorTranslationFunc=r.getHyperCubeError}else if(t.qListObject&&t.qListObject.qError){n.holder=t.qListObject;n.errorTranslationFunc=r.getListObjectError}else if(t.qListObject.qDimensionInfo&&t.qListObject.qDimensionInfo.qError.qErrorCode){n.holder=t.qListObject.qDimensionInfo;n.errorTranslationFunc=r.getDimensionError}return n}function f(t){var e=t.qError.qErrorCode;switch(e){case l.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED:return c.getLayoutMsg(t)||""}if(t.qError.qContext){var i=[t.qError.qContext];return n.get("ErrorCode."+e,i)}}var v=a.extend({$scope:null,init:function n(i){this.$scope=i;i.hasSoftError=false;i.hasHardError=false;i.showMore=function(n){var s=t.element("<div>").appendTo("body");s.showComponent(o,{alignTo:t.element(n.target),error:i.error,onClose:function t(){s.remove();e.preventGestures()}})}},onPaint:function t(){var e=this.$scope,o;var s=e.object.error;if(!s){var a=e.layout;var r=e.object.ext&&e.object.ext.options?e.object.ext.options.hyperCubePath:"";var l=p(a,r);if(l.holder){o=f(l.holder)||l.errorTranslationFunc(l.holder.qError.qErrorCode);s=u(l.holder.qError)?{class:"soft-error",message:o}:{class:"hard-error",title:n.get("Object.Error"),message:o}}}e.error=s;return i.resolve()}});v.$inject=["$scope"];return{template:s,controller:v,isCalcCondNotCalculatedErr:d}}.apply(e,i),void 0!==o&&(t.exports=o))},283:function(t,e,n){"use strict";var i,o;function s(t){s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return s(t)}!(i=[n(11),n(48),n(1011),n(1012),n(89),n(90)],o=function(t,e,n,i,o,a){var r,l,c=i.BUTTON_WIDTH,u=i.SEPARATOR_WIDTH,d=i.BORDER_SPACING,p=i.SELECT_DEFAULT_WIDTH,f=i.EXTRA_EDGE_PADDING,v=i.TYPE_BUTTON,h=i.TYPE_SEPARATOR,b=i.TYPE_SELECT;e.componentDirective("qvaIncludeSelectionToolbar",{toolbar:"=",options:"="});l={width:0,items:[],hasItems:function t(){return this.items.length>0},reset:function t(e){this.width=e;this.items.length=0},freeWidth:function t(){var e,n=0;for(e=0;e<this.items.length;e++)n+=this.items[e];return this.width-n}};r={template:n,controller:["$scope",function(n){var i=o(),r=i.promise,m={},g;n.filteredButtons=[];n.currentMenuButtons=[];n.levels=[];n.selectionInfo={show:false,selected:0,total:0};n.lassoEnabled=false;function y(t){if(t.component)return t.component;if("sel-toolbar-icon-separator"===t.buttonClass)return h;return v}function x(t){var e=y(t);switch(e){case v:return c+d;case h:return u+d;case b:return(t.width||p)+d}}function q(t,e,i){var o=0,s,a;l.reset(t-(d+2*f));for(a=e.length-1;a>=0;a--){s=x(e[a]);if(!(s<=l.freeWidth()))break;l.items.push(s)}(n.toolbar.showLock||n.locked)&&(o+=c+d);(i.length>0||e.length>l.items.length)&&(o+=c+d);while(l.hasItems()&&l.freeWidth()<o)l.items.pop();return l.items.length}function w(t,e){t._componentId=e;t.items&&t.items.forEach(function(t){t._componentId=e})}function C(t){t.forEach(function(t){t._componentId&&w(t,t._componentId)});n.currentMenuButtons=t}function D(t){t.forEach(function(t){w(t,t._componentId||a.generateId());m[t._componentId]=t})}function A(){var t=[].concat(n.toolbar.buttons),e=[].concat(n.toolbar.menuButtons),i=q(n.toolbar.style.width,t,e),o,s,a=[];n.filteredButtons=[];var r=[];n.levels=[];var l=t.concat(e).filter(function(t){return t.component});D(l);for(o=0;o<i&&t.length;++o){s=t.pop();s.component?a.push(s):n.filteredButtons.push(s)}n.filteredButtons.reverse();while(t.length){s=t.pop();y(s)!==h&&r.push(s)}while(e.length)r.push(e.shift());C(r);j(a)}this.layoutItems=A;function j(t){t.forEach(function(t){switch(t.component){case b:var e={width:p};var i=a.extend(true,e,t);a.extend(t,i);n.selectComponents=n.selectComponents||[];n.selectComponents.push(t);break;default:throw new Error("Select toolbar component: "+t.component+" was not recognized")}})}this.confirm=function(){n.selectionsApi.confirm()};this.close=function(){n.destroyComponent()};this.refresh=function(){e.$apply(n)};function S(){g=null;var t=n.levels.pop();C(t.items)}function E(t){n.levels.push({items:n.currentMenuButtons});C(t)}function _(t){return m[t]}n.shouldShowBtnMore=function(){return n.currentMenuButtons.length>0};n.shouldDisableSelect=function(t){var e=true===t.isDisabled||"function"===typeof t.isDisabled&&t.isDisabled();return!!e};n.shouldShowSelect=function(t){var e=!n.locked&&(void 0===t.show||"boolean"===typeof t.show&&false!==t.show||"function"===typeof t.show&&t.show(t.value));return!!e};n.buttonAction=function(t,e){t.originalEvent.preventDefault();t.stopPropagation();e.action.call(n.toolbar)};n.buttonIsDisabled=function(t){switch(s(t.isDisabled)){case"function":return!!t.isDisabled.call(n.toolbar);case"boolean":return t.isDisabled;default:return false}};n.isButtonSelected=function(t){var e=t.items;var n=_(t._componentId)||{};var i=!e&&t._componentId&&t.hasOwnProperty("value")&&n.value===t.value;return!!i};n.menuAction=function(e){e.originalEvent.preventDefault();var i="DIV"===e.target.tagName?t(e.target):t(e.target).parents("div");var o=i.scope();var s=i.attr("tid");if(o.button&&o.button.items){g=o;E(o.button.items)}else if("sel-toolbar-menu-back"===s)S();else{g&&S();var a=o.button.action||g&&g.action;if(!a)throw Error("selection-toolbar: menu button has no action function defined");a.call(n.toolbar,o.button);n.toolbar.showMenu=!n.toolbar.showMenu}};n.toggleShowMenu=function(t){t.originalEvent.preventDefault();n.toolbar.showMenu=!n.toolbar.showMenu};n.toggleLasso=function(){n.lassoEnabled=!n.lassoEnabled;n.toolbar.toggleLasso(n.lassoEnabled)};function T(t){n.locked=t;n.toolbar.showMenu=false;r.then(function(){A()})}n.toggleLock=function(e){e.originalEvent.preventDefault();e.stopPropagation();if(t(e.target).closest(".sel-toolbar-list-item-close").length>0)return;if(n.toolbar.backendApi.isLocked()){n.toolbar.selectionsApi.selectionsMade=true;n.toolbar.backendApi.unlock()}else n.toolbar.backendApi.lock()};n.$watch("toolbar.backendApi.isLocked()",function(t){void 0!==t&&T(!!t)});n.$watch("toolbar.position",function(t){if(!t)return;n.toolbar.style=t;i.resolve();T(!!n.toolbar.backendApi.isLocked&&n.toolbar.backendApi.isLocked())});n.$watch("toolbar.menuMaxHeight",function(t){if(!t)return;n.toolbar.menuStyle={maxHeight:t}});n.$watch("options.lassoEnabled",function(t){n.lassoEnabled=t})}]};return r}.apply(e,i),void 0!==o&&(t.exports=o))},289:function(t,e,n){"use strict";var i,o;!(i=[n(10),n(48),n(90),n(89),n(141),n(283),n(1094),n(50),n(1095),n(245)],o=function(t,e,n,i,o,s,a,r,l){e.service("qvListboxPopoverServiceMobile",["$document",function(e){var c=e.find("body"),u,d,p;d={show:function e(o,d,f,v){var h=i(),b={$alignToElement:d.$alignToElement,popupPosition:d.position||"bottom",collision:d.collision||"none",qvaOutsideIgnoreFor:d.qvaOutsideIgnoreFor,getVisualization:function t(){return h.promise},model:o,onPopoverClose:this.onPopoverClose,options:{setController:h.resolve,isPopover:true,showLock:d.showLock,search:d.search||{},smallDevice:r.isSmallDevice,direction:d.direction},selectionToolbarComponent:s};if(p){p.selectionsActivated=function(){};p.selectionsDeactivated=function(){};p.close()}u=t.element("<div>");c.append(u);a.template=l;p=u.showComponent(a,b);p.selectionsActivated=function(){n.isFunction(v)&&v()};p.selectionsDeactivated=function(){n.isFunction(f)&&f();f=null;v=null};return p},showField:function t(e,n,s,a,r,l){return o.createTransientField(n,e,a).then(function(t){return i.resolve(this.show(t,s,r,l))}.bind(this))},showDimension:function t(e,n,i,s,a,r){o.createTransientDimension(n,e,s).then(function(t){this.show(t,i,a,r)}.bind(this))},close:function t(){p&&p.close()},onPopoverClose:function t(){}};return d}])}.apply(e,i),void 0!==o&&(t.exports=o))},305:function(t,e,n){"use strict";var i,o;!(i=[],o=function(){var t={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31},e=[[550,450,t.FULL],[400,220,t.MEDIUM],[300,150,t.SMALL],[150,75,t.XSMALL],[0,0,t.SPARK]],n=[[450,t.FULL],[220,t.MEDIUM],[150,t.SMALL],[75,t.XSMALL],[0,t.SPARK]],i=[[550,t.FULL],[400,t.MEDIUM],[300,t.SMALL],[150,t.XSMALL],[0,t.SPARK]],o=e.length;function s(n,i){var s;for(s=0;s<o;++s)if(n>=e[s][0]&&i>=e[s][1])return e[s][2];return t.SPARK}function a(e){var i;for(i=0;i<o;++i)if(e>=n[i][0])return n[i][1];return t.SPARK}function r(e){var n;for(n=0;n<o;++n)if(e>=i[n][0])return i[n][1];return t.SPARK}function l(e){var n=Object.keys(t).filter(function(n){return t[n]===e})[0];return n&&n.toLowerCase()||""}return{LayoutMode:t,getLayoutMode:s,getLayoutModeKey:l,getHorizontalLayoutMode:r,getVerticalLayoutMode:a}}.apply(e,i),void 0!==o&&(t.exports=o))},321:function(t,e,n){"use strict";var i,o;!(i=[n(89),n(139),n(125),n(99),n(130),n(845),n(148),n(161),n(91),n(218)],o=function(t,e,n,i,o,s,a,r,l){var c=100;function u(t,n){if(""===n)return t;return t.filter(function(t){if("undefined"===typeof t.value)return false;return e.string(t.value.toLowerCase()).indexOf(e.string(n.toLowerCase()))>-1})}var d={template:s,controller:["$scope",function(e){e.search={term:""};e.isDirectDiscoveryField=a.isDirectDiscoveryField;e.getDirectDiscoveryTypeTranslationKey=a.getTypeTranslationKey;e.autoFocus=i.treatAsDesktop();e.position||(e.position="right");e.onEscape=function(t){if(""!==e.search.term){t.stopPropagation();e.search.term=""}else e.close()};e.onEnter=function(t){if(""!==e.search.term){t.stopPropagation();e.addFieldDimension({value:e.search.term})}else e.close()};e.getFieldDisplayName=function(t){return""===e.search.term?t.label:r.trimAutoCalendarName(t.value)};var s=null;e.$watch("search.term",function(i){function a(){var t=u(s.fields,i);var o=u(s.dimensions,i);var a=u(s.activeDimensions,i);if(o.length+a.length>c){o=n.limit(o,Math.max(c-a.length,0));t=[]}else t.length+o.length+a.length>c&&(t=n.limit(t,Math.max(c-o.length-a.length,0)));e.fields=t;e.dimensions=o;e.activeDimensions=a}s?a():t.all({fields:o.getSortedFields(e.app),dimensions:o.getSortedDimensions(e.app)}).then(function(t){var n=t.fields.map(function(t){var e=t.isDerived&&""===i?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):t.qName;return{toolTip:t.qName,label:e,value:t.qName,trimmedValue:t.displayName,qTags:t.qTags,isDerived:t.isDerived,isDateField:t.isDateField,isGeoField:t.isGeoField,activeDimensionIndex:-1}});var o=t.dimensions.map(function(t){return{label:t.qData.title,value:t.qData.title,libraryId:t.qInfo.qId,isDrillDown:"H"===t.qData.grouping,activeDimensionIndex:-1}});var r=[];e.activeDimensions&&e.activeDimensions.length&&e.activeDimensions.forEach(function(t,e){var i={};if(t.qLibraryId){o.forEach(function(e){if(e.libraryId===t.qLibraryId){i.label=e.label;i.value=e.value}});i.libraryId=t.libraryId}else n.forEach(function(e){if(e.value===t.qDef.qFieldDefs[0]){i.label=e.label;i.value=e.value}});i.translatedTitle=l.get("properties.colorBy.currentDimension",e+1);i.activeDimensionIndex=e;r.push(i)});s={fields:n,dimensions:o,activeDimensions:r};a()})})}],scope:{alignTo:"=",app:"=",addFieldDimension:"=",addLibraryDimension:"=",qvaOutsideIgnoreFor:"=",close:"=",position:"=",allowExpressionEditor:"@",selectColorByDimIndex:"="}};return d}.apply(e,i),void 0!==o&&(t.exports=o))},390:function(t,e,n){"use strict";var i,o;!(i=[n(846),n(97)],o=function(t,e){return{template:t,controller:["$scope",function(t){function n(){t.onClose()}t.$on("$destroy",function(){e.off("start",n)});e.on("start",n)}]}}.apply(e,i),void 0!==o&&(t.exports=o))},391:function(t,e,n){"use strict";var i,o;!(i=[n(11),n(96),n(91),n(506),n(390),n(847)],o=function(t,e,n,i,o,s){return{type:"invalid",template:s,definition:{type:"items",items:{}},support:{exportData:false},getContextMenu:function t(){},hasError:function t(){return false},showRequirements:function t(){return false},getCreatePropertyHandler:function t(e){return new i({app:e})},getDropFieldOptions:function t(){},getDropDimensionOptions:function t(){},getDropMeasureOptions:function t(){},controller:["$scope","luiPopover",function(i,s){var a=i.object.error,r=n.get(a.title),l;l=Array.isArray(a.message)?n.get(a.message[0],a.message.slice(1)):n.get(a.message);i.error={title:r,message:l};i.showButton=i.options&&"function"===typeof i.options.removeIt;i.remove=function(t){i.options.removeIt();t.stopPropagation()};i.showMore=function(n){s.show({template:o.template,controller:o.controller,alignTo:t(n.target)[0],input:{error:i.error,onClose:function t(){e.preventGestures()}}})}}]}}.apply(e,i),void 0!==o&&(t.exports=o))},402:function(t,e,n){"use strict";var i,o;!(i=[n(89),n(139),n(90),n(125),n(99),n(130),n(1016),n(148),n(161),n(91),n(218)],o=function(t,e,n,i,o,s,a,r,l,c){var u=100;function d(t,n){if(""===n)return t;return t.filter(function(t){if("undefined"===typeof t.value)return false;return e.string(t.value.toLowerCase()).indexOf(e.string(n.toLowerCase()))>-1})}var p={template:a,controller:["$scope",function(e){e.search={term:""};e.isDirectDiscoveryField=r.isDirectDiscoveryField;e.getDirectDiscoveryTypeTranslationKey=r.getTypeTranslationKey;e.autoFocus=o.treatAsDesktop();e.position||(e.position="right");e.onEscape=function(t){if(""!==e.search.term){t.stopPropagation();e.search.term=""}else e.close()};e.onEnter=function(t){if(""!==e.search.term){t.stopPropagation();e.addExpressionMeasure({value:e.search.term})}else e.close()};e.showFromField=function(t){e.currentField=t;e.step2=true};e.goBack=function(t){t.preventDefault();e.currentField=null;e.step2=false};e.$watch("currentField",function(t){e.fieldSuggestions=t?["Sum","Count","Avg","Min","Max"].map(function(t){var i=n.escapeField(e.currentField.value);return{aggregation:t,field:i}}):[]});e.addFromField=function(t){var n=t.aggregation+"("+t.field+")";e.addExpressionMeasure({value:n})};e.getFieldDisplayName=function(t){return""===e.search.term?t.label:l.trimAutoCalendarName(t.value)};var a=null;e.$watch("search.term",function(n){function o(){var t=d(a.measures,n);var o=d(a.fields,n);var s=d(a.activeMeasures,n);if(t.length+s.length>u){t=i.limit(t,Math.max(u-s.length,0));o=[]}else t.length+s.length+o.length>u&&(o=i.limit(o,Math.max(u-t.length-s.length,0)));e.fields=o;e.measures=t;e.activeMeasures=s}a?o():t.all({fields:s.getSortedFields(e.app),measures:s.getSortedMeasures(e.app),activeMeasures:e.activeMeasures}).then(function(t){var e=t.fields.map(function(t){var e=t.isDerived&&""===n?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):t.qName;return{toolTip:t.qName,value:t.qName,trimmedValue:t.displayName,label:e,field:t.qName,qTags:t.qTags,isDerived:t.isDerived,isDateField:t.isDateField,isGeoField:t.isGeoField,activeMeasureIndex:-1}});var i=t.measures.map(function(t){return{value:t.qData.title,label:t.qData.title,libraryId:t.qInfo.qId,activeMeasureIndex:-1}});var s=[];t.activeMeasures&&t.activeMeasures.length&&(s=t.activeMeasures.map(function(t,n){var o={};t.qLibraryId?i.forEach(function(e){if(e.libraryId===t.qLibraryId){o.value=e.value;o.label=e.label}o.libraryId=t.libraryId}):e.forEach(function(e){if(e.value===t.qDef.qDef){o.label=e.label;o.value=e.value}});o.translatedTitle=c.get("properties.colorBy.currentMeasure",n+1);o.activeMeasureIndex=n;return o}));a={fields:e,measures:i,activeMeasures:s};o()})})}],scope:{alignTo:"=",app:"=",addExpressionMeasure:"=",addLibraryMeasure:"=",addActiveMeasure:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"=",allowExpressionEditor:"@"}};return p}.apply(e,i),void 0!==o&&(t.exports=o))},403:function(t,e,n){"use strict";var i,o;!(i=[n(1017)],o=function(t){var e={create:n};return e;function n(){return new t}}.apply(e,i),void 0!==o&&(t.exports=o))},404:function(t,e,n){"use strict";var i,o;!(i=[],o=function(){var t={barchart:{static:"faded_bar.svg",animation:"sweep_bar.json"},boxplot:{static:"faded_box_plot.svg",animation:"sweep_box_plot.json"},combochart:{static:"faded_combo.svg",animation:"sweep_combo.json"},default:{static:"faded_default.svg",animation:"sweep_default.json"},distributionplot:{static:"faded_distribution.svg",animation:"sweep_distribution.json"},filterpane:{static:"faded_filter_pane.svg",animation:"sweep_filter_pane.json"},gauge:{static:"faded_gauge.svg",animation:"sweep_gauge.json"},histogram:{static:"faded_histogram.svg",animation:"sweep_histogram.json"},kpi:{static:"faded_kpi.svg",animation:"sweep_kpi.json"},linechart:{static:"faded_line.svg",animation:"sweep_line.json"},map:{static:"faded_map.svg",animation:"sweep_map.json"},piechart:{static:"faded_pie.svg",animation:"sweep_pie.json"},"pivot-table":{static:"faded_pivot_table.svg",animation:"sweep_pivot_table.json"},scatterplot:{static:"faded_scatter.svg",animation:"sweep_scatter.json"},table:{static:"faded_table.svg",animation:"sweep_table.json"},"text-image":{static:"faded_text_image.svg",animation:"sweep_text_image.json"},treemap:{static:"faded_tree_map.svg",animation:"sweep_tree_map.json"},waterfallchart:{static:"faded_waterfall.svg",animation:"sweep_waterfall.json"}};function e(e){var i=t[e]?t[e].static:t["default"].static;return n.p+"assets/images/charts/"+i}function i(e){var i=t[e]?t[e].animation:t["default"].animation;return n.p+"assets/images/charts/animations/"+i}return{getImageNameFromChartType:e,getLoadingImageAnimationUrlFromChartType:i}}.apply(e,i),void 0!==o&&(t.exports=o))},461:function(t,e,n){"use strict";var i,o;!(i=[n(90)],o=function(t){return{getLayoutMsg:e,getPropCondition:n,setPropCondition:i,getPropMessage:o,setPropMessage:s};function e(t){return t.customErrorMessage&&t.customErrorMessage.calcCond||t.qCalcCondMsg}function n(e,n){return t.getValue(e,n||"qCalcCond.qv")||t.getValue(e,"qCalcCondition.qCond.qv")||""}function i(e,n,i){t.setValue(e,i||"qCalcCond.qv",n);t.setValue(e,"qCalcCondition.qCond.qv",n)}function o(e){var n=t.getValue(e,"customErrorMessage.calcCond");var i=t.getValue(e,"qCalcCondition.qMsg.qv");return n||i||""}function s(e,n){t.setValue(e,"customErrorMessage.calcCond","="!==n[0]?n:"");t.setValue(e,"qCalcCondition.qMsg.qv",n)}}.apply(e,i),void 0!==o&&(t.exports=o))},506:function(t,e,n){"use strict";var i,o;!(i=[n(238),n(90)],o=function(t){var e=t.extend({getDimensions:function t(){return[]},getMeasures:function t(){return[]}});return e}.apply(e,i),void 0!==o&&(t.exports=o))},845:function(t,e){t.exports='<lui-popover style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<object-add-typeahead>\n\t\t<lui-popover-header>\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-dimension" autocomplete="off" ng-model="search.term" tid="add-dimension-input" qva-focus="autoFocus"\n\t\t\t\t\t   object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)" maxlength="255"/>\n\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addFieldDimension({value:value})" expression-type="dimension"\n\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</lui-popover-header>\n\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in activeDimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addActiveDimension(dimension)">\n\t\t\t\t\t<span qve-highlight text="{{dimension.translatedTitle}}" title="{{dimension.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="dimensions.length" q-translation="Common.Dimensions"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in dimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addLibraryDimension(dimension)">\n\t\t\t\t\t<span ng-if="dimension.isDrillDown" class="lui-icon lui-icon--drill-down lui-list__aside" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<span qve-highlight text="{{dimension.label}}" title="{{dimension.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Common.Fields"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\tobject-add-typeahead-item="field" on-select="addFieldDimension(field)"\n\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}">\n\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-list__aside  lui-icon--calendar"></span>\n\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-list__aside  lui-icon--map"></span>\n\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-nohits" ng-if="!dimensions.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t</div>\n\t</object-add-typeahead>\n</lui-popover>\n'},846:function(t,e){t.exports='<lui-popover style="width: 200px" on-close-view="onClose(event)">\n\t<div class="object-error-popup">\n\t\t\x3c!--<div class="object-error-title" q-translation="{{error.title}}"></div>--\x3e\n\t\t<div class="object-error-message">{{error.message}}</div>\n\t</div>\n</lui-popover>'},847:function(t,e){t.exports='<div class="object-error hard-error" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more lui-icon lui-icon--info lui-icon--large" ng-click="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t\t<button ng-if="showButton" class="lui-button object-error-remove" ng-click="remove($event)" q-translation="Common.Delete"></button>\n\t</div>\n</div>\n'},999:function(t,e,n){"use strict";var i,o;!(i=[n(48),n(11),n(1e3),n(1023),n(91),n(49),n(404)],o=function(t,e,n,i,o,s,a){t.directive("qvRain",[function(){return{replace:true,template:i,restrict:"E",scope:{show:"=",model:"=",resize:"=?",messageObj:"=?"},link:function t(i,r){var l;i.objectSRloading=o.get("Accessibility.object.Loading");i.rainStyle={};i.isLoadingCardImageFlag=s.getFlag("LOADING_CARD_IMAGES");i.animation=null;function c(){var t=r[0].getBoundingClientRect(),e=Math.min(t.width,t.height);e*=.3;i.rainStyle.height=e+"px";i.rainStyle.width=e+"px";i.rainStyle.top=(t.height-e)/2;i.rainStyle.left=(t.width-e)/2}function u(t){var o={container:r.find(".rain-image-container")[0],renderer:"svg",loop:true,autoplay:true};n().then(function(n){e.getJSON(t,function(t){o.animationData=t;i.animation=n.loadAnimation(o);i.animation.play()})})}function d(){if(i.animation){i.animation.stop();i.animation.destroy();i.animation=null}}i.$watch("show",function(t){if(void 0===t)return;t&&c()});i.$watch("model",function(t){if(i.isLoadingCardImageFlag){var e=t?t.genericType:"";t&&t.layout&&t.layout.qUndoExclude&&t.layout.qUndoExclude.generated&&(e=t.layout.qUndoExclude.generated.visualization);u(a.getLoadingImageAnimationUrlFromChartType(e))}});i.resize&&(l=i.resize(c));c();i.$on("$destroy",function(){l&&l();i.isLoadingCardImageFlag&&d()})}}}])}.apply(e,i),void 0!==o&&(t.exports=o))}}]);