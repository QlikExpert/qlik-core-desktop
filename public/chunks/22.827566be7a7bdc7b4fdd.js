/*!
 * sense-client@6.105.4
 * 
 * Copyright(C) 2019 Qlik International AB
 * All Rights Reserved
 * 
 */
(window["qJsonp"]=window["qJsonp"]||[]).push([[22],{1040:function(e,t,a){var n,r;!(n=[a,t,a(54),a(151),a(992),a(1198),a(606),a(439),a(1199)],r=function(e,t,a,n,r,i,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(){}return e.extractConcatenationQueries=function(e){return e=e||[],e.filter(function(e){return e.type===n.DSMTypes.ConcatenationQuery.name})},e.flattenConcatenationQueries=function(e){e=e||[];var t=[];return a.each(e,function(e){"ConcatenationQuery"===e.type?t=t.concat(e.sourceQueries):t.push(e)}),t},e.createConcatTableName=function(e,t){for(var n="("+e[0].name+"...)",r=0,i=n;a.find(t,function(e){return e.name===i});)i=n+"-"+ ++r;return i},e.mergeConcatenationQuery=function(t,r){var i,o,s;if(r){i=r.name,s=r.id,r.fields&&r.fields.forEach(function(n){var r=a.find(t.fields,function(t){return!!e.doConcatFieldsMatch(n,t)});r?(r.id=n.id,r.name=n.name,r.transformations=n.transformations,r.classifications=n.classifications,r.tags=n.tags):n.sourceFieldRefs||t.fields.push(n)});var l=t.sourceQueries.length!==r.sourceQueries.length;o=l?n.DSMTypes.QueryStatus.update:r.status}else i=t.name,s=t.id,o=n.DSMTypes.QueryStatus.add;t.name=i,t.id=s,t.status=o},e.generate=function(t,a){var n=e.generateSimpleQueries(t);return e.surfaceConcatenationQueries(n,a)},e.cloneQuery=function(e){return o.SharedUtil.extend(!0,{},e)},e.checkIntegrity=function(t,r){var o=a.pluck(t,"id");if(o.length!==t.length)throw new i.InvalidLoadModelException("missing some table ids");var s=e.flattenConcatenationQueries(r),l=e.extractConcatenationQueries(r),u=s.concat(l),c=a.pluck(u,"id");if(c.length!==u.length)throw new i.InvalidLoadModelException("missing some query ids");var d=a.uniq(c);if(d.length!==c.length)throw new i.InvalidLoadModelException("not all query ids unique");var f=a.pluck(u,"type");if(f.length!==u.length)throw new i.InvalidLoadModelException("queries missing the type property");if(!t.every(e.checkTableIntegrity))throw new i.InvalidLoadModelException("Invalid table");var p=s.filter(function(e){return e.type===n.DSMTypes.Query.name});if(!p.every(e.checkQueryIntegrity))throw new i.InvalidLoadModelException("Invalid simple query");if(!l.every(e.checkConcatenatedQueryIntegrity))throw new i.InvalidLoadModelException("Invalid concatenated query")},e.checkTableIntegrity=function(t){return!(a.isUndefined(t.id)||a.isUndefined(t.tableName)||a.isUndefined(t.tableAlias)||a.isUndefined(t.fields))&&t.fields.every(e.checkTableFieldsIntegrity)},e.checkTableFieldsIntegrity=function(e){return!(a.isUndefined(e.id)||a.isUndefined(e.name)||a.isUndefined(e.alias)||a.isUndefined(e.selected))},e.checkQueryIntegrity=function(t){return!(a.isUndefined(t.id)||a.isUndefined(t.type)||a.isUndefined(t.name)||a.isUndefined(t.fields)||a.isUndefined(t.tableRef))&&t.fields.every(e.checkFieldIntegrity)},e.checkConcatenatedQueryIntegrity=function(e){return!(a.isUndefined(e.id)||a.isUndefined(e.type)||a.isUndefined(e.name)||a.isUndefined(e.sourceQueries))},e.checkFieldIntegrity=function(e){return!(a.isUndefined(e.id)||a.isUndefined(e.type)||a.isUndefined(e.name)||e.type===n.DSMTypes.QueryField.name&&a.isUndefined(e.fieldRef)||e.type&&-1===a.indexOf(n.DSMTypes.GetFields(),e.type))},e.updateQueryTableStatus=function(e,t){if(e.type!==n.DSMTypes.ConcatenationQuery.name){if(0===e.fields.length)return void(e.status=n.DSMTypes.QueryStatus["delete"]);var r=a.pluck(e.fields,"name").sort(),i=a.pluck(t.fields,"name").sort(),o=!a.isEqual(r,i);return o?void(t.status===n.DSMTypes.QueryStatus.add?e.status=n.DSMTypes.QueryStatus.add:e.status=n.DSMTypes.QueryStatus.update):void(e.status=t.status)}},e.updateQueryTable=function(t,a,n){var r=o.SharedUtil.extend(!0,{},a),i=[],s=[];n.fields.forEach(function(t){var n=e.findQueryByFieldRef(a,t.id);t.selected?n?n.name=t.alias:i.push(e.generateFieldQuery(t)):n&&s.push(n)});var l=t.wrapInTargetTableModel(a);s.forEach(function(t){e.deleteField(l,t)}),i.forEach(function(t){var r=e.findInsertionIndex(t,a,n);a.fields.splice(r,0,t)}),e.updateQueryTableStatus(a,r)},e.deleteField=function(t,a){var n=this.constructDependencyMap(t);e.removeFieldAndDependents(t,n,a)},e.updateQueries=function(t,n,r,i){var o=e.extractConcatenationQueries(n),s=n;n=a.clone(n),s.splice(0,s.length),n=e.flattenConcatenationQueries(n),t.forEach(function(t){var a=0!==t.fields.filter(function(e){return e.selected}).length,i=e.findQueryByTableRef(n,t.id);i?a&&e.updateQueryTable(r,i,t):a&&n.push(e.generateTableQuery(t))}),n.forEach(function(a){var n=e.findSourceTableByRef(t,a.tableRef);!n&&a.sourceQueries&&1===a.sourceQueries.length&&(n=e.findSourceTableByRef(t,a.sourceQueries[0].tableRef));var o=r.wrapInTargetTableModel(a);o.pruneFieldReferences(t),0===a.fields.length&&i&&i.push(a)}),n=e.surfaceConcatenationQueries(n,r);var l=e.extractConcatenationQueries(n);e.migrateAssocations(l,r),e.mergeConcatenationQueries(l,o,r),n.forEach(function(e){s.push(e)})},e.createCompositeQueryFields=function(e){if(0===e.length)return[];var t=[],a=e[0],r={};return e.forEach(function(e){e.fields.forEach(function(e){r[e.name]||(r[e.name]=[]),r[e.name].push(e.id)})}),a.fields.filter(function(e){return e.type===n.DSMTypes.QueryField.name}).forEach(function(e){var a={id:r[e.name][0],type:n.DSMTypes.CompositeQueryField.name,name:e.name,sourceFieldRefs:r[e.name]};t.push(a)}),t},e.migrateAssocations=function(e,t){e.forEach(function(e){l.CompositeOperations.migrateAssociations(e.sourceQueries,t.wrapInTargetTableModel(e),t)})},e.surfaceConcatenationQueries=function(t,a){t=t||[];var i=[];return e.groupByQueryFieldNames(t).forEach(function(o){if(1===o.length)i.push(o[0]);else{var s={type:n.DSMTypes.ConcatenationQuery.name,status:n.DSMTypes.QueryStatus.add,name:e.createConcatTableName(o,t),sourceQueries:o,id:void 0,fields:[]};e.pruneGeoTransformFields(t,a),s.id=r.LoadModelIds.createConcatQueryId(),s.fields=e.createCompositeQueryFields(o).concat(e.extractNonQueryFields(o)),i.push(s)}}),i},e.extractNonQueryFields=function(e){if(0===e.length)return[];var t=[],a=e[0],r=a.fields.filter(function(e){return e.type!==n.DSMTypes.QueryField.name});return r.forEach(function(e){t.push(e),a.fields.splice(a.fields.indexOf(e),1)}),t},e.removeFieldAndDependents=function(t,a,n){var r=a[n.id];if(r){r.forEach(function(n){var r=t.getField(n);r&&e.removeFieldAndDependents(t,a,r)});var i=t.getFields(),o=i.indexOf(n);i.splice(o,1),a[n.id]=null}},e.constructDependencyMap=function(e){var t=new s.LoadModelUtils(e),a={},n=e.getFields();return n.forEach(function(e){a[e.id]||(a[e.id]=[]);var n=t.getAllReferences(e);n.forEach(function(t){a[t]||(a[t]=[]);var n=a[t],r=n.some(function(t){return e===t});r||n.push(e.id)})}),a},e.findInsertionIndex=function(e,t,n){var r=a.findWhere(n.fields,{id:e.fieldRef}),i=n.fields.indexOf(r);if(0===i)return 0;for(var o=t.fields.length+1,s=i-1;s>=0;s--){var l=n.fields[s],u=a.findWhere(t.fields,{fieldRef:l.id});if(u){o=t.fields.indexOf(u)+1;break}}return o},e.findMatch=function(t,n,r){var i=e.getConcatenatedQuerySignature(t,r),o=a.find(n,function(t){var n=e.getConcatenatedQuerySignature(t,r);return a.isEqual(i,n)});return o},e.mergeConcatenationQueries=function(t,a,n){t.forEach(function(t){var r=e.findMatch(t,a,n);e.mergeConcatenationQuery(t,r)})},e.getConcatenatedQuerySignature=function(e,t){if(!e||e.type!==n.DSMTypes.ConcatenationQuery.name)throw new i.InvalidLoadModelException;if(e.sourceQueries.length<1)throw new i.InvalidLoadModelException;return this.getFieldsSignature(e.sourceQueries[0],t)},e.getFieldsSignature=function(e,t){var r=t.wrapInTargetTableModel(e),i=a.filter(e.fields,function(e){return!r.wasGeneratedByTransformation(e,n.DSMTypes.QueryTransformField.name,[n.DSMTypes.Transformations.lookupGeoInfo,n.DSMTypes.Transformations.geoPoint])}),o=a.pluck(i,"name");return o.sort().join()},e.getQueryFieldsSignature=function(e){var t=a.filter(e.fields,function(e){return e.type===n.DSMTypes.QueryField.name}),r=a.pluck(t,"name");return r.sort().join()},e.pruneGeoTransformFields=function(e,t){e.forEach(function(e){for(var a=t.wrapInTargetTableModel(e),r=e.fields,i=r.length-1;i>=0;i--)a.wasGeneratedByTransformation(r[i],n.DSMTypes.QueryTransformField.name,[n.DSMTypes.Transformations.lookupGeoInfo,n.DSMTypes.Transformations.geoPoint])&&r.splice(i,1)})},e.generateFieldQuery=function(e){var t={id:r.LoadModelIds.createQueryFieldId(),type:n.DSMTypes.QueryField.name,name:e.alias?e.alias:e.name,fieldRef:e.id};return t},e.doConcatFieldsMatch=function(e,t){var a=!1;return t.sourceFieldRefs?a=t.sourceFieldRefs.some(function(t){return e.sourceFieldRefs&&e.sourceFieldRefs.indexOf(t)>0}):e.type===t.type&&e.type!==n.DSMTypes.CompositeQueryField.name&&(a=e.id===t.id),a},e.generateTableQuery=function(t){var a=t.tableAlias||t.tableName,i=r.LoadModelIds.createSimpleQueryId(),o={id:i,type:n.DSMTypes.Query.name,name:a,tableRef:t.id,status:n.DSMTypes.QueryStatus.add,fields:t.fields.filter(function(e){return e.selected}).map(function(t){return e.generateFieldQuery(t)})};return o},e.generateSimpleQueries=function(t){var a=t.filter(function(e){return 0!==e.fields.filter(function(e){return e.selected}).length});return a.map(function(t){return e.generateTableQuery(t)})},e.groupByQueryFieldNames=function(e){var t=this,r={},i=[];return e.forEach(function(e){if(e.status===n.DSMTypes.QueryStatus["delete"]||0===e.fields.length)return void i.push([e]);var a=t.getQueryFieldsSignature(e)||e.id;r[a]?r[a].push(e):r[a]=[e]}),a.values(r).concat(i)},e.findQueryByTableRef=function(t,n){var r=a.find(t,function(e){return e.tableRef===n});return r||t.forEach(function(t){if(t.sourceQueries){var a=e.findQueryByTableRef(t.sourceQueries,n);a&&(r=a)}}),r},e.findQueryByFieldRef=function(e,t){return a.find(e.fields,function(e){return e.fieldRef===t})},e.findSourceTableByRef=function(e,t){return a.find(e,function(e){return e.id===t})},e}();t.QueryGenerator=u}.apply(t,n),void 0!==r&&(e.exports=r))},1064:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,a){this.targetTable=e,this.loadModel=t,this.locale=a}return e}();t.TransformationRecommendation=a}.apply(t,n),void 0!==r&&(e.exports=r))},1065:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1066:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1067:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1068:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1069:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1070:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1071:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1072:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1073:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1074:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1075:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1076:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1077:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1078:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1079:function(e){e.exports={"DataManager.GeoInfo.ColumnSuffix":"{0}_GeoInfo"}},1080:function(e){e.exports={zz:"Developer language"}},1153:function(e,t,a){var n,r;!(n=[a,t,a(1201)],r=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.render=function(e,t){var n=a.compile(e,{noEscape:!0})(t);return n},e}();t.TemplateRunner=n}.apply(t,n),void 0!==r&&(e.exports=r))},1198:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.name="InvalidLoadModel",this.message=e}return e}();t.InvalidLoadModelException=a}.apply(t,n),void 0!==r&&(e.exports=r))},1199:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.migrateAssociations=function(e,t,a){e.forEach(function(e){var n=a.findAssociations(e.id);n.forEach(function(n){n.getFieldsReferencing(e).forEach(function(e,a){var r=t.getFieldForSourceField(e.fieldId);n.replaceFieldReferences(e,t.data,r)}),1===n.getUniqueTableReferenceCount()&&a.removeAssociation(n.getName())})})},e}();t.CompositeOperations=a}.apply(t,n),void 0!==r&&(e.exports=r))},1200:function(e,t,a){var n,r;!(n=[a,t,a(54),a(492)],r=function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.data=e}return e.prototype.addSourceField=function(e){this.data.sourceFieldRefs||(this.data.sourceFieldRefs=[]),this.data.sourceFieldRefs.push(e.id)},e.prototype.getSourceFieldReferences=function(){return this.data.fieldRef?[this.data.fieldRef]:this.data.sourceFieldRefs?this.data.sourceFieldRefs:void 0},e.prototype.isGeographical=function(){var e=!1;return this.data.classifications?this.data.classifications.some(function(e){return n.ClassificationHelper.isGeographical(e)}):e},e.prototype.getGeographicalClassification=function(){return n.ClassificationHelper.getGeoClassification(this.data.classifications)},e.prototype.references=function(e){var t=this,a=0;return this.data.sourceFieldRefs&&e.forEach(function(e){var n=t.data.sourceFieldRefs.some(function(t){return e.id===t});n&&a++}),a===e.length},e.prototype.hasTransformation=function(e){var t=!1;return this.data.transformations&&this.data.transformations.length>0&&(t=this.data.transformations.some(function(t){return t.op===e})),t},e.prototype.getTransformation=function(e,t){var a;if(this.data.transformations)for(var n=0;n<this.data.transformations.length;n++){var r=this.data.transformations[n];if(r.op===e&&this.appliesTo(r,t)){a=r;break}}return a},e.prototype.appliesTo=function(e,t){return a.isArray(e.appliedTo)?e.appliedTo.indexOf(t)>=0:e.appliedTo===t},e}();t.QueryField=r}.apply(t,n),void 0!==r&&(e.exports=r))},1201:function(e,t,a){(function t(a,n){true;e.exports=n()})(this,function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:false};e[n].call(r.exports,r,r.exports,a);r.loaded=true;return r.exports}a.m=e;a.c=t;a.p="";return a(0)}([function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;var r=a(2);var i=n(r);var o=a(35);var s=n(o);var l=a(36);var u=a(41);var c=a(42);var d=n(c);var f=a(39);var p=n(f);var h=a(34);var m=n(h);var g=i["default"].create;function y(){var e=g();e.compile=function(t,a){return u.compile(t,a,e)};e.precompile=function(t,a){return u.precompile(t,a,e)};e.AST=s["default"];e.Compiler=u.Compiler;e.JavaScriptCompiler=d["default"];e.Parser=l.parser;e.parse=l.parse;return e}var v=y();v.create=y;m["default"](v);v.Visitor=p["default"];v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=true},function(e,t,a){"use strict";var n=a(3)["default"];var r=a(1)["default"];t.__esModule=true;var i=a(4);var o=n(i);var s=a(21);var l=r(s);var u=a(6);var c=r(u);var d=a(5);var f=n(d);var p=a(22);var h=n(p);var m=a(34);var g=r(m);function y(){var e=new o.HandlebarsEnvironment;f.extend(e,o);e.SafeString=l["default"];e.Exception=c["default"];e.Utils=f;e.escapeExpression=f.escapeExpression;e.VM=h;e.template=function(t){return h.template(t,e)};return e}var v=y();v.create=y;g["default"](v);v["default"]=v;t["default"]=v;e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);t["default"]=e;return t};t.__esModule=true},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;t.HandlebarsEnvironment=m;var r=a(5);var i=a(6);var o=n(i);var s=a(10);var l=a(18);var u=a(20);var c=n(u);var d="4.0.12";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=p;var h="[object Object]";function m(e,t,a){this.helpers=e||{};this.partials=t||{};this.decorators=a||{};s.registerDefaultHelpers(this);l.registerDefaultDecorators(this)}m.prototype={constructor:m,logger:c["default"],log:c["default"].log,registerHelper:function e(t,a){if(r.toString.call(t)===h){if(a)throw new o["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=a},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,a){if(r.toString.call(t)===h)r.extend(this.partials,t);else{if("undefined"===typeof a)throw new o["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=a}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,a){if(r.toString.call(t)===h){if(a)throw new o["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=a},unregisterDecorator:function e(t){delete this.decorators[t]}};var g=c["default"].log;t.log=g;t.createFrame=r.createFrame;t.logger=c["default"]},function(e,t){"use strict";t.__esModule=true;t.extend=o;t.indexOf=c;t.escapeExpression=d;t.isEmpty=f;t.createFrame=p;t.blockParams=h;t.appendContextPath=m;var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var n=/[&<>"'`=]/g,r=/[&<>"'`=]/;function i(e){return a[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var a in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],a)&&(e[a]=arguments[t][a]);return e}var s=Object.prototype.toString;t.toString=s;var l=function e(t){return"function"===typeof t};l(/x/)&&(t.isFunction=l=function(e){return"function"===typeof e&&"[object Function]"===s.call(e)});t.isFunction=l;var u=Array.isArray||function(e){return!(!e||"object"!==typeof e)&&"[object Array]"===s.call(e)};t.isArray=u;function c(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a;return-1}function d(e){if("string"!==typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!r.test(e))return e;return e.replace(n,i)}function f(e){return!e&&0!==e||!(!u(e)||0!==e.length)}function p(e){var t=o({},e);t._parent=e;return t}function h(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,a){"use strict";var n=a(7)["default"];t.__esModule=true;var r=["description","fileName","lineNumber","message","name","number","stack"];function i(e,t){var a=t&&t.loc,o=void 0,s=void 0;if(a){o=a.start.line;s=a.start.column;e+=" - "+o+":"+s}var l=Error.prototype.constructor.call(this,e);for(var u=0;u<r.length;u++)this[r[u]]=l[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{if(a){this.lineNumber=o;n?Object.defineProperty(this,"column",{value:s,enumerable:true}):this.column=s}}catch(e){}}i.prototype=new Error;t["default"]=i;e.exports=t["default"]},function(e,t,a){e.exports={default:a(8),__esModule:true}},function(e,t,a){var n=a(9);e.exports=function e(t,a,r){return n.setDesc(t,a,r)}},function(e,t){var a=Object;e.exports={create:a.create,getProto:a.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:a.getOwnPropertyDescriptor,setDesc:a.defineProperty,setDescs:a.defineProperties,getKeys:a.keys,getNames:a.getOwnPropertyNames,getSymbols:a.getOwnPropertySymbols,each:[].forEach}},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;t.registerDefaultHelpers=v;var r=a(11);var i=n(r);var o=a(12);var s=n(o);var l=a(13);var u=n(l);var c=a(14);var d=n(c);var f=a(15);var p=n(f);var h=a(16);var m=n(h);var g=a(17);var y=n(g);function v(e){i["default"](e);s["default"](e);u["default"](e);d["default"](e);p["default"](e);m["default"](e);y["default"](e)}},function(e,t,a){"use strict";t.__esModule=true;var n=a(5);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,a){var r=a.inverse,i=a.fn;if(true===t)return i(this);if(false===t||null==t)return r(this);if(n.isArray(t)){if(t.length>0){a.ids&&(a.ids=[a.name]);return e.helpers.each(t,a)}return r(this)}if(a.data&&a.ids){var o=n.createFrame(a.data);o.contextPath=n.appendContextPath(a.data.contextPath,a.name);a={data:o}}return i(t,a)})};e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;var r=a(5);var i=a(6);var o=n(i);t["default"]=function(e){e.registerHelper("each",function(e,t){if(!t)throw new o["default"]("Must pass iterator to #each");var a=t.fn,n=t.inverse,i=0,s="",l=void 0,u=void 0;t.data&&t.ids&&(u=r.appendContextPath(t.data.contextPath,t.ids[0])+".");r.isFunction(e)&&(e=e.call(this));t.data&&(l=r.createFrame(t.data));function c(t,n,i){if(l){l.key=t;l.index=n;l.first=0===n;l.last=!!i;u&&(l.contextPath=u+t)}s+=a(e[t],{data:l,blockParams:r.blockParams([e[t],t],[u+t,null])})}if(e&&"object"===typeof e)if(r.isArray(e))for(var d=e.length;i<d;i++)i in e&&c(i,i,i===e.length-1);else{var f=void 0;for(var p in e)if(e.hasOwnProperty(p)){void 0!==f&&c(f,i-1);f=p;i++}void 0!==f&&c(f,i-1,true)}0===i&&(s=n(this));return s})};e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;var r=a(6);var i=n(r);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return;throw new i["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})};e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=true;var n=a(5);t["default"]=function(e){e.registerHelper("if",function(e,t){n.isFunction(e)&&(e=e.call(this));return!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)});e.registerHelper("unless",function(t,a){return e.helpers["if"].call(this,t,{fn:a.inverse,inverse:a.fn,hash:a.hash})})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("log",function(){var t=[void 0],a=arguments[arguments.length-1];for(var n=0;n<arguments.length-1;n++)t.push(arguments[n]);var r=1;null!=a.hash.level?r=a.hash.level:a.data&&null!=a.data.level&&(r=a.data.level);t[0]=r;e.log.apply(e,t)})};e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=true;var n=a(5);t["default"]=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var a=t.fn;if(n.isEmpty(e))return t.inverse(this);var r=t.data;if(t.data&&t.ids){r=n.createFrame(t.data);r.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])}return a(e,{data:r,blockParams:n.blockParams([e],[r&&r.contextPath])})})};e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;t.registerDefaultDecorators=o;var r=a(19);var i=n(r);function o(e){i["default"](e)}},function(e,t,a){"use strict";t.__esModule=true;var n=a(5);t["default"]=function(e){e.registerDecorator("inline",function(e,t,a,r){var i=e;if(!t.partials){t.partials={};i=function(r,i){var o=a.partials;a.partials=n.extend({},o,t.partials);var s=e(r,i);a.partials=o;return s}}t.partials[r.args[0]]=r.fn;return i})};e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=true;var n=a(5);var r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if("string"===typeof t){var a=n.indexOf(r.methodMap,t.toLowerCase());t=a>=0?a:parseInt(t,10)}return t},log:function e(t){t=r.lookupLevel(t);if("undefined"!==typeof console&&r.lookupLevel(r.level)<=t){var a=r.methodMap[t];console[a]||(a="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[a].apply(console,i)}}};t["default"]=r;e.exports=t["default"]},function(e,t){"use strict";t.__esModule=true;function a(e){this.string=e}a.prototype.toString=a.prototype.toHTML=function(){return""+this.string};t["default"]=a;e.exports=t["default"]},function(e,t,a){"use strict";var n=a(23)["default"];var r=a(3)["default"];var i=a(1)["default"];t.__esModule=true;t.checkRevision=d;t.template=f;t.wrapProgram=p;t.resolvePartial=h;t.invokePartial=m;t.noop=g;var o=a(5);var s=r(o);var l=a(6);var u=i(l);var c=a(4);function d(e){var t=e&&e[0]||1,a=c.COMPILER_REVISION;if(t!==a){if(t<a){var n=c.REVISION_CHANGES[a],r=c.REVISION_CHANGES[t];throw new u["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new u["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function f(e,t){if(!t)throw new u["default"]("No environment passed to template");if(!e||!e.main)throw new u["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function a(a,n,r){if(r.hash){n=s.extend({},n,r.hash);r.ids&&(r.ids[0]=true)}a=t.VM.resolvePartial.call(this,a,n,r);var i=t.VM.invokePartial.call(this,a,n,r);if(null==i&&t.compile){r.partials[r.name]=t.compile(a,e.compilerOptions,t);i=r.partials[r.name](n,r)}if(null!=i){if(r.indent){var o=i.split("\n");for(var l=0,c=o.length;l<c;l++){if(!o[l]&&l+1===c)break;o[l]=r.indent+o[l]}i=o.join("\n")}return i}throw new u["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}var r={strict:function e(t,a){if(!(a in t))throw new u["default"]('"'+a+'" not defined in '+t);return t[a]},lookup:function e(t,a){var n=t.length;for(var r=0;r<n;r++)if(t[r]&&null!=t[r][a])return t[r][a]},lambda:function e(t,a){return"function"===typeof t?t.call(a):t},escapeExpression:s.escapeExpression,invokePartial:a,fn:function t(a){var n=e[a];n.decorator=e[a+"_d"];return n},programs:[],program:function e(t,a,n,r,i){var o=this.programs[t],s=this.fn(t);a||i||r||n?o=p(this,t,s,a,n,r,i):o||(o=this.programs[t]=p(this,t,s));return o},data:function e(t,a){while(t&&a--)t=t._parent;return t},merge:function e(t,a){var n=t||a;t&&a&&t!==a&&(n=s.extend({},a,t));return n},nullContext:n({}),noop:t.VM.noop,compilerInfo:e.compiler};function i(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];var n=a.data;i._setup(a);!a.partial&&e.useData&&(n=y(t,n));var o=void 0,s=e.useBlockParams?[]:void 0;e.useDepths&&(o=a.depths?t!=a.depths[0]?[t].concat(a.depths):a.depths:[t]);function l(t){return""+e.main(r,t,r.helpers,r.partials,n,s,o)}l=v(e.main,l,r,a.depths||[],n,s);return l(t,a)}i.isTop=true;i._setup=function(a){if(a.partial){r.helpers=a.helpers;r.partials=a.partials;r.decorators=a.decorators}else{r.helpers=r.merge(a.helpers,t.helpers);e.usePartial&&(r.partials=r.merge(a.partials,t.partials));(e.usePartial||e.useDecorators)&&(r.decorators=r.merge(a.decorators,t.decorators))}};i._child=function(t,a,n,i){if(e.useBlockParams&&!n)throw new u["default"]("must pass block params");if(e.useDepths&&!i)throw new u["default"]("must pass parent depths");return p(r,t,e[t],a,0,n,i)};return i}function p(e,t,a,n,r,i,o){function s(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];var s=o;!o||t==o[0]||t===e.nullContext&&null===o[0]||(s=[t].concat(o));return a(e,t,e.helpers,e.partials,r.data||n,i&&[r.blockParams].concat(i),s)}s=v(a,s,e,o,n,i);s.program=t;s.depth=o?o.length:0;s.blockParams=r||0;return s}function h(e,t,a){if(e){if(!e.call&&!a.name){a.name=e;e=a.partials[e]}}else e="@partial-block"===a.name?a.data["partial-block"]:a.partials[a.name];return e}function m(e,t,a){var n=a.data&&a.data["partial-block"];a.partial=true;a.ids&&(a.data.contextPath=a.ids[0]||a.data.contextPath);var r=void 0;a.fn&&a.fn!==g&&function(){a.data=c.createFrame(a.data);var e=a.fn;r=a.data["partial-block"]=function t(a){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r.data=c.createFrame(r.data);r.data["partial-block"]=n;return e(a,r)};e.partials&&(a.partials=s.extend({},a.partials,e.partials))}();void 0===e&&r&&(e=r);if(void 0===e)throw new u["default"]("The partial "+a.name+" could not be found");if(e instanceof Function)return e(t,a)}function g(){return""}function y(e,t){if(!t||!("root"in t)){t=t?c.createFrame(t):{};t.root=e}return t}function v(e,t,a,n,r,i){if(e.decorator){var o={};t=e.decorator(t,o,a,n&&n[0],r,i,n);s.extend(t,o)}return t}},function(e,t,a){e.exports={default:a(24),__esModule:true}},function(e,t,a){a(25);e.exports=a(30).Object.seal},function(e,t,a){var n=a(26);a(27)("seal",function(e){return function t(a){return e&&n(a)?e(a):a}})},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,a){var n=a(28),r=a(30),i=a(33);e.exports=function(e,t){var a=(r.Object||{})[e]||Object[e],o={};o[e]=t(a);n(n.S+n.F*i(function(){a(1)}),"Object",o)}},function(e,t,a){var n=a(29),r=a(30),i=a(31),o="prototype";var s=function(e,t,a){var l=e&s.F,u=e&s.G,c=e&s.S,d=e&s.P,f=e&s.B,p=e&s.W,h=u?r:r[t]||(r[t]={}),m=u?n:c?n[t]:(n[t]||{})[o],g,y,v;u&&(a=t);for(g in a){y=!l&&m&&g in m;if(y&&g in h)continue;v=y?m[g]:a[g];h[g]=u&&"function"!=typeof m[g]?a[g]:f&&y?i(v,n):p&&m[g]==v?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};t[o]=e[o];return t}(v):d&&"function"==typeof v?i(Function.call,v):v;d&&((h[o]||(h[o]={}))[g]=v)}};s.F=1;s.G=2;s.S=4;s.P=8;s.B=16;s.W=32;e.exports=s},function(e,t){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(e,t){var a=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=a)},function(e,t,a){var n=a(32);e.exports=function(e,t,a){n(e);if(void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t){(function(a){"use strict";t.__esModule=true;t["default"]=function(e){var t="undefined"!==typeof a?a:window,n=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=n);return e}};e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=true;var a={helpers:{helperExpression:function e(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function e(t){return/^\.|this\b/.test(t.original)},simpleId:function e(t){return 1===t.parts.length&&!a.helpers.scopedId(t)&&!t.depth}}};t["default"]=a;e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];var r=a(3)["default"];t.__esModule=true;t.parse=p;var i=a(37);var o=n(i);var s=a(38);var l=n(s);var u=a(40);var c=r(u);var d=a(5);t.parser=o["default"];var f={};d.extend(f,c);function p(e,t){if("Program"===e.type)return e;o["default"].yy=f;f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)};var a=new l["default"](t);return a.accept(o["default"].parse(e))}},function(e,t){"use strict";t.__esModule=true;var a=function(){var e={trace:function e(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function e(t,a,n,r,i,o,s){var l=o.length-1;switch(i){case 1:return o[l-1];case 2:this.$=r.prepareProgram(o[l]);break;case 3:this.$=o[l];break;case 4:this.$=o[l];break;case 5:this.$=o[l];break;case 6:this.$=o[l];break;case 7:this.$=o[l];break;case 8:this.$=o[l];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[l]),strip:r.stripFlags(o[l],o[l]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[l],value:o[l],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[l-2],o[l-1],o[l],this._$);break;case 12:this.$={path:o[l-3],params:o[l-2],hash:o[l-1]};break;case 13:this.$=r.prepareBlock(o[l-3],o[l-2],o[l-1],o[l],false,this._$);break;case 14:this.$=r.prepareBlock(o[l-3],o[l-2],o[l-1],o[l],true,this._$);break;case 15:this.$={open:o[l-5],path:o[l-4],params:o[l-3],hash:o[l-2],blockParams:o[l-1],strip:r.stripFlags(o[l-5],o[l])};break;case 16:this.$={path:o[l-4],params:o[l-3],hash:o[l-2],blockParams:o[l-1],strip:r.stripFlags(o[l-5],o[l])};break;case 17:this.$={path:o[l-4],params:o[l-3],hash:o[l-2],blockParams:o[l-1],strip:r.stripFlags(o[l-5],o[l])};break;case 18:this.$={strip:r.stripFlags(o[l-1],o[l-1]),program:o[l]};break;case 19:var u=r.prepareBlock(o[l-2],o[l-1],o[l],o[l],false,this._$),c=r.prepareProgram([u],o[l-1].loc);c.chained=true;this.$={strip:o[l-2].strip,program:c,chain:true};break;case 20:this.$=o[l];break;case 21:this.$={path:o[l-1],strip:r.stripFlags(o[l-2],o[l])};break;case 22:this.$=r.prepareMustache(o[l-3],o[l-2],o[l-1],o[l-4],r.stripFlags(o[l-4],o[l]),this._$);break;case 23:this.$=r.prepareMustache(o[l-3],o[l-2],o[l-1],o[l-4],r.stripFlags(o[l-4],o[l]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[l-3],params:o[l-2],hash:o[l-1],indent:"",strip:r.stripFlags(o[l-4],o[l]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[l-2],o[l-1],o[l],this._$);break;case 26:this.$={path:o[l-3],params:o[l-2],hash:o[l-1],strip:r.stripFlags(o[l-4],o[l])};break;case 27:this.$=o[l];break;case 28:this.$=o[l];break;case 29:this.$={type:"SubExpression",path:o[l-3],params:o[l-2],hash:o[l-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[l],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[l-2]),value:o[l],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[l-1]);break;case 33:this.$=o[l];break;case 34:this.$=o[l];break;case 35:this.$={type:"StringLiteral",value:o[l],original:o[l],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[l]),original:Number(o[l]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[l],original:"true"===o[l],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:this.$=o[l];break;case 41:this.$=o[l];break;case 42:this.$=r.preparePath(true,o[l],this._$);break;case 43:this.$=r.preparePath(false,o[l],this._$);break;case 44:o[l-2].push({part:r.id(o[l]),original:o[l],separator:o[l-1]});this.$=o[l-2];break;case 45:this.$=[{part:r.id(o[l]),original:o[l]}];break;case 46:this.$=[];break;case 47:o[l-1].push(o[l]);break;case 48:this.$=[o[l]];break;case 49:o[l-1].push(o[l]);break;case 50:this.$=[];break;case 51:o[l-1].push(o[l]);break;case 58:this.$=[];break;case 59:o[l-1].push(o[l]);break;case 64:this.$=[];break;case 65:o[l-1].push(o[l]);break;case 70:this.$=[];break;case 71:o[l-1].push(o[l]);break;case 78:this.$=[];break;case 79:o[l-1].push(o[l]);break;case 82:this.$=[];break;case 83:o[l-1].push(o[l]);break;case 86:this.$=[];break;case 87:o[l-1].push(o[l]);break;case 90:this.$=[];break;case 91:o[l-1].push(o[l]);break;case 94:this.$=[];break;case 95:o[l-1].push(o[l]);break;case 98:this.$=[o[l]];break;case 99:o[l-1].push(o[l]);break;case 100:this.$=[o[l]];break;case 101:o[l-1].push(o[l]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function e(t,a){throw new Error(t)},parse:function e(t){var a=this,n=[0],r=[null],i=[],o=this.table,s="",l=0,u=0,c=0,d=2,f=1;this.lexer.setInput(t);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;i.push(p);var h=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);function m(e){n.length=n.length-2*e;r.length=r.length-e;i.length=i.length-e}function g(){var e;e=a.lexer.lex()||1;"number"!==typeof e&&(e=a.symbols_[e]||e);return e}var y,v,b,T,S,M,F={},k,x,_,I;while(true){b=n[n.length-1];if(this.defaultActions[b])T=this.defaultActions[b];else{null!==y&&"undefined"!=typeof y||(y=g());T=o[b]&&o[b][y]}if("undefined"===typeof T||!T.length||!T[0]){var E="";if(!c){I=[];for(k in o[b])this.terminals_[k]&&k>2&&I.push("'"+this.terminals_[k]+"'");E=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+I.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'");this.parseError(E,{text:this.lexer.match,token:this.terminals_[y]||y,line:this.lexer.yylineno,loc:p,expected:I})}}if(T[0]instanceof Array&&T.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+y);switch(T[0]){case 1:n.push(y);r.push(this.lexer.yytext);i.push(this.lexer.yylloc);n.push(T[1]);y=null;if(v){y=v;v=null}else{u=this.lexer.yyleng;s=this.lexer.yytext;l=this.lexer.yylineno;p=this.lexer.yylloc;c>0&&c--}break;case 2:x=this.productions_[T[1]][1];F.$=r[r.length-x];F._$={first_line:i[i.length-(x||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(x||1)].first_column,last_column:i[i.length-1].last_column};h&&(F._$.range=[i[i.length-(x||1)].range[0],i[i.length-1].range[1]]);M=this.performAction.call(F,s,u,l,this.yy,T[1],r,i);if("undefined"!==typeof M)return M;if(x){n=n.slice(0,-1*x*2);r=r.slice(0,-1*x);i=i.slice(0,-1*x)}n.push(this.productions_[T[1]][0]);r.push(F.$);i.push(F._$);_=o[n[n.length-2]][n[n.length-1]];n.push(_);break;case 3:return true}}return true}};var t=function(){var e={EOF:1,parseError:function e(t,a){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,a)},setInput:function e(t){this._input=t;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function e(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var a=t.match(/(?:\r\n?|\n).*/g);if(a){this.yylineno++;this.yylloc.last_line++}else this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return t},unput:function e(t){var a=t.length;var n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-a-1);this.offset-=a;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-a};this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-a]);return this},more:function e(){this._more=true;return this},less:function e(t){this.unput(this.match.slice(t))},pastInput:function e(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function e(){var t=this.match;t.length<20&&(t+=this._input.substr(0,20-t.length));return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function e(){var t=this.pastInput();var a=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+a+"^"},next:function e(){if(this.done)return this.EOF;this._input||(this.done=true);var t,a,n,r,i,o;if(!this._more){this.yytext="";this.match=""}var s=this._currentRules();for(var l=0;l<s.length;l++){n=this._input.match(this.rules[s[l]]);if(n&&(!a||n[0].length>a[0].length)){a=n;r=l;if(!this.options.flex)break}}if(a){o=a[0].match(/(?:\r\n?|\n).*/g);o&&(this.yylineno+=o.length);this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=false;this._input=this._input.slice(a[0].length);this.matched+=a[0];t=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=false);return t||void 0}return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function e(){var t=this.next();return"undefined"!==typeof t?t:this.lex()},begin:function e(t){this.conditionStack.push(t)},popState:function e(){return this.conditionStack.pop()},_currentRules:function e(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function e(){return this.conditionStack[this.conditionStack.length-2]},pushState:function e(t){this.begin(t)}};e.options={};e.performAction=function e(t,a,n,r){function i(e,t){return a.yytext=a.yytext.substr(e,a.yyleng-t)}var o=r;switch(n){case 0:if("\\\\"===a.yytext.slice(-2)){i(0,1);this.begin("mu")}else if("\\"===a.yytext.slice(-1)){i(0,1);this.begin("emu")}else this.begin("mu");if(a.yytext)return 15;break;case 1:return 15;case 2:this.popState();return 15;case 3:this.begin("raw");return 15;case 4:this.popState();if("raw"===this.conditionStack[this.conditionStack.length-1])return 15;a.yytext=a.yytext.substr(5,a.yyleng-9);return"END_RAW_BLOCK";case 5:return 15;case 6:this.popState();return 14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:this.popState();this.begin("raw");return 23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:this.popState();return 44;case 16:this.popState();return 44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(a.yytext);this.popState();this.begin("com");break;case 22:this.popState();return 14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:this.popState();return 54;case 30:this.popState();return 33;case 31:a.yytext=i(1,2).replace(/\\"/g,'"');return 80;case 32:a.yytext=i(1,2).replace(/\\'/g,"'");return 80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:a.yytext=a.yytext.replace(/\\([\\\]])/g,"$1");return 72;case 43:return"INVALID";case 44:return 5}};e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/];e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[6],inclusive:false},raw:{rules:[3,4,5],inclusive:false},INITIAL:{rules:[0,1,44],inclusive:true}};return e}();e.lexer=t;function a(){this.yy={}}a.prototype=e;e.Parser=a;return new a}();t["default"]=a;e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;var r=a(39);var i=n(r);function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}o.prototype=new i["default"];o.prototype.Program=function(e){var t=!this.options.ignoreStandalone;var a=!this.isRootSeen;this.isRootSeen=true;var n=e.body;for(var r=0,i=n.length;r<i;r++){var o=n[r],d=this.accept(o);if(!d)continue;var f=s(n,r,a),p=l(n,r,a),h=d.openStandalone&&f,m=d.closeStandalone&&p,g=d.inlineStandalone&&f&&p;d.close&&u(n,r,true);d.open&&c(n,r,true);if(t&&g){u(n,r);c(n,r)&&"PartialStatement"===o.type&&(o.indent=/([ \t]+$)/.exec(n[r-1].original)[1])}if(t&&h){u((o.program||o.inverse).body);c(n,r)}if(t&&m){u(n,r);c((o.inverse||o.program).body)}}return e};o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(e){this.accept(e.program);this.accept(e.inverse);var t=e.program||e.inverse,a=e.program&&e.inverse,n=a,r=a;if(a&&a.chained){n=a.body[0].program;while(r.chained)r=r.body[r.body.length-1].program}var i={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:l(t.body),closeStandalone:s((n||t).body)};e.openStrip.close&&u(t.body,null,true);if(a){var o=e.inverseStrip;o.open&&c(t.body,null,true);o.close&&u(n.body,null,true);e.closeStrip.open&&c(r.body,null,true);if(!this.options.ignoreStandalone&&s(t.body)&&l(n.body)){c(t.body);u(n.body)}}else e.closeStrip.open&&c(t.body,null,true);return i};o.prototype.Decorator=o.prototype.MustacheStatement=function(e){return e.strip};o.prototype.PartialStatement=o.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:true,open:t.open,close:t.close}};function s(e,t,a){void 0===t&&(t=e.length);var n=e[t-1],r=e[t-2];if(!n)return a;if("ContentStatement"===n.type)return(r||!a?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original)}function l(e,t,a){void 0===t&&(t=-1);var n=e[t+1],r=e[t+2];if(!n)return a;if("ContentStatement"===n.type)return(r||!a?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original)}function u(e,t,a){var n=e[null==t?0:t+1];if(!n||"ContentStatement"!==n.type||!a&&n.rightStripped)return;var r=n.value;n.value=n.value.replace(a?/^\s+/:/^[ \t]*\r?\n?/,"");n.rightStripped=n.value!==r}function c(e,t,a){var n=e[null==t?e.length-1:t-1];if(!n||"ContentStatement"!==n.type||!a&&n.leftStripped)return;var r=n.value;n.value=n.value.replace(a?/\s+$/:/[ \t]+$/,"");n.leftStripped=n.value!==r;return n.leftStripped}t["default"]=o;e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;var r=a(6);var i=n(r);function o(){this.parents=[]}o.prototype={constructor:o,mutating:false,acceptKey:function e(t,a){var n=this.accept(t[a]);if(this.mutating){if(n&&!o.prototype[n.type])throw new i["default"]('Unexpected node type "'+n.type+'" found when accepting '+a+" on "+t.type);t[a]=n}},acceptRequired:function e(t,a){this.acceptKey(t,a);if(!t[a])throw new i["default"](t.type+" requires "+a)},acceptArray:function e(t){for(var a=0,n=t.length;a<n;a++){this.acceptKey(t,a);if(!t[a]){t.splice(a,1);a--;n--}}},accept:function e(t){if(!t)return;if(!this[t.type])throw new i["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current);this.current=t;var a=this[t.type](t);this.current=this.parents.shift();if(!this.mutating||a)return a;if(false!==a)return t},Program:function e(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:l,DecoratorBlock:l,PartialStatement:u,PartialBlockStatement:function e(t){u.call(this,t);this.acceptKey(t,"program")},ContentStatement:function e(){},CommentStatement:function e(){},SubExpression:s,PathExpression:function e(){},StringLiteral:function e(){},NumberLiteral:function e(){},BooleanLiteral:function e(){},UndefinedLiteral:function e(){},NullLiteral:function e(){},Hash:function e(t){this.acceptArray(t.pairs)},HashPair:function e(t){this.acceptRequired(t,"value")}};function s(e){this.acceptRequired(e,"path");this.acceptArray(e.params);this.acceptKey(e,"hash")}function l(e){s.call(this,e);this.acceptKey(e,"program");this.acceptKey(e,"inverse")}function u(e){this.acceptRequired(e,"name");this.acceptArray(e.params);this.acceptKey(e,"hash")}t["default"]=o;e.exports=t["default"]},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;t.SourceLocation=s;t.id=l;t.stripFlags=u;t.stripComment=c;t.preparePath=d;t.prepareMustache=f;t.prepareRawBlock=p;t.prepareBlock=h;t.prepareProgram=m;t.preparePartialBlock=g;var r=a(6);var i=n(r);function o(e,t){t=t.path?t.path.original:t;if(e.path.original!==t){var a={loc:e.path.loc};throw new i["default"](e.path.original+" doesn't match "+t,a)}}function s(e,t){this.source=e;this.start={line:t.first_line,column:t.first_column};this.end={line:t.last_line,column:t.last_column}}function l(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function u(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function c(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function d(e,t,a){a=this.locInfo(a);var n=e?"@":"",r=[],o=0;for(var s=0,l=t.length;s<l;s++){var u=t[s].part,c=t[s].original!==u;n+=(t[s].separator||"")+u;if(c||".."!==u&&"."!==u&&"this"!==u)r.push(u);else{if(r.length>0)throw new i["default"]("Invalid path: "+n,{loc:a});".."===u&&o++}}return{type:"PathExpression",data:e,depth:o,parts:r,original:n,loc:a}}function f(e,t,a,n,r,i){var o=n.charAt(3)||n.charAt(2),s="{"!==o&&"&"!==o;var l=/\*/.test(n);return{type:l?"Decorator":"MustacheStatement",path:e,params:t,hash:a,escaped:s,strip:r,loc:this.locInfo(i)}}function p(e,t,a,n){o(e,a);n=this.locInfo(n);var r={type:"Program",body:t,strip:{},loc:n};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function h(e,t,a,n,r,s){n&&n.path&&o(e,n);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=void 0,c=void 0;if(a){if(l)throw new i["default"]("Unexpected inverse block on decorator",a);a.chain&&(a.program.body[0].closeStrip=n.strip);c=a.strip;u=a.program}if(r){r=u;u=t;t=r}return{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:n&&n.strip,loc:this.locInfo(s)}}function m(e,t){if(!t&&e.length){var a=e[0].loc,n=e[e.length-1].loc;a&&n&&(t={source:a.source,start:{line:a.start.line,column:a.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function g(e,t,a,n){o(e,a);return{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:a&&a.strip,loc:this.locInfo(n)}}},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;t.Compiler=c;t.precompile=d;t.compile=f;var r=a(6);var i=n(r);var o=a(5);var s=a(35);var l=n(s);var u=[].slice;function c(){}c.prototype={compiler:c,equals:function e(t){var a=this.opcodes.length;if(t.opcodes.length!==a)return false;for(var n=0;n<a;n++){var r=this.opcodes[n],i=t.opcodes[n];if(r.opcode!==i.opcode||!p(r.args,i.args))return false}a=this.children.length;for(var n=0;n<a;n++)if(!this.children[n].equals(t.children[n]))return false;return true},guid:0,compile:function e(t,a){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=a;this.stringParams=a.stringParams;this.trackIds=a.trackIds;a.blockParams=a.blockParams||[];var n=a.knownHelpers;a.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.accept(t)},compileProgram:function e(t){var a=new this.compiler,n=a.compile(t,this.options),r=this.guid++;this.usePartial=this.usePartial||n.usePartial;this.children[r]=n;this.useDepths=this.useDepths||n.useDepths;return r},accept:function e(t){if(!this[t.type])throw new i["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var a=this[t.type](t);this.sourceNode.shift();return a},Program:function e(t){this.options.blockParams.unshift(t.blockParams);var a=t.body,n=a.length;for(var r=0;r<n;r++)this.accept(a[r]);this.options.blockParams.shift();this.isSimple=1===n;this.blockParams=t.blockParams?t.blockParams.length:0;return this},BlockStatement:function e(t){h(t);var a=t.program,n=t.inverse;a=a&&this.compileProgram(a);n=n&&this.compileProgram(n);var r=this.classifySexpr(t);if("helper"===r)this.helperSexpr(t,a,n);else if("simple"===r){this.simpleSexpr(t);this.opcode("pushProgram",a);this.opcode("pushProgram",n);this.opcode("emptyHash");this.opcode("blockValue",t.path.original)}else{this.ambiguousSexpr(t,a,n);this.opcode("pushProgram",a);this.opcode("pushProgram",n);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},DecoratorBlock:function e(t){var a=t.program&&this.compileProgram(t.program);var n=this.setupFullMustacheParams(t,a,void 0),r=t.path;this.useDecorators=true;this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function e(t){this.usePartial=true;var a=t.program;a&&(a=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new i["default"]("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name);this.setupFullMustacheParams(t,a,void 0,true);var s=t.indent||"";if(this.options.preventIndent&&s){this.opcode("appendContent",s);s=""}this.opcode("invokePartial",o,r,s);this.opcode("append")},PartialBlockStatement:function e(t){this.PartialStatement(t)},MustacheStatement:function e(t){this.SubExpression(t);t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function e(t){this.DecoratorBlock(t)},ContentStatement:function e(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function e(){},SubExpression:function e(t){h(t);var a=this.classifySexpr(t);"simple"===a?this.simpleSexpr(t):"helper"===a?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function e(t,a,n){var r=t.path,i=r.parts[0],o=null!=a||null!=n;this.opcode("getContext",r.depth);this.opcode("pushProgram",a);this.opcode("pushProgram",n);r.strict=true;this.accept(r);this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function e(t){var a=t.path;a.strict=true;this.accept(a);this.opcode("resolvePossibleLambda")},helperSexpr:function e(t,a,n){var r=this.setupFullMustacheParams(t,a,n),o=t.path,s=o.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",r.length,s);else{if(this.options.knownHelpersOnly)throw new i["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,t);o.strict=true;o.falsy=true;this.accept(o);this.opcode("invokeHelper",r.length,o.original,l["default"].helpers.simpleId(o))}},PathExpression:function e(t){this.addDepth(t.depth);this.opcode("getContext",t.depth);var a=t.parts[0],n=l["default"].helpers.scopedId(t),r=!t.depth&&!n&&this.blockParamIndex(a);if(r)this.opcode("lookupBlockParam",r,t.parts);else if(a)if(t.data){this.options.data=true;this.opcode("lookupData",t.depth,t.parts,t.strict)}else this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n);else this.opcode("pushContext")},StringLiteral:function e(t){this.opcode("pushString",t.value)},NumberLiteral:function e(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function e(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function e(){this.opcode("pushLiteral","undefined")},NullLiteral:function e(){this.opcode("pushLiteral","null")},Hash:function e(t){var a=t.pairs,n=0,r=a.length;this.opcode("pushHash");for(;n<r;n++)this.pushParam(a[n].value);while(n--)this.opcode("assignToHash",a[n].key);this.opcode("popHash")},opcode:function e(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function e(t){if(!t)return;this.useDepths=true},classifySexpr:function e(t){var a=l["default"].helpers.simpleId(t.path);var n=a&&!!this.blockParamIndex(t.path.parts[0]);var r=!n&&l["default"].helpers.helperExpression(t);var i=!n&&(r||a);if(i&&!r){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?r=true:s.knownHelpersOnly&&(i=false)}return r?"helper":i?"ambiguous":"simple"},pushParams:function e(t){for(var a=0,n=t.length;a<n;a++)this.pushParam(t[a])},pushParam:function e(t){var a=null!=t.value?t.value:t.original||"";if(this.stringParams){a.replace&&(a=a.replace(/^(\.?\.\/)*/g,"").replace(/\//g,"."));t.depth&&this.addDepth(t.depth);this.opcode("getContext",t.depth||0);this.opcode("pushStringParam",a,t.type);"SubExpression"===t.type&&this.accept(t)}else{if(this.trackIds){var n=void 0;!t.parts||l["default"].helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0]));if(n){var r=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else{a=t.original||a;a.replace&&(a=a.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,""));this.opcode("pushId",t.type,a)}}this.accept(t)}},setupFullMustacheParams:function e(t,a,n,r){var i=t.params;this.pushParams(i);this.opcode("pushProgram",a);this.opcode("pushProgram",n);t.hash?this.accept(t.hash):this.opcode("emptyHash",r);return i},blockParamIndex:function e(t){for(var a=0,n=this.options.blockParams.length;a<n;a++){var r=this.options.blockParams[a],i=r&&o.indexOf(r,t);if(r&&i>=0)return[a,i]}}};function d(e,t,a){if(null==e||"string"!==typeof e&&"Program"!==e.type)throw new i["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{};"data"in t||(t.data=true);t.compat&&(t.useDepths=true);var n=a.parse(e,t),r=(new a.Compiler).compile(n,t);return(new a.JavaScriptCompiler).compile(r,t)}function f(e,t,a){void 0===t&&(t={});if(null==e||"string"!==typeof e&&"Program"!==e.type)throw new i["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=o.extend({},t);"data"in t||(t.data=true);t.compat&&(t.useDepths=true);var n=void 0;function r(){var n=a.parse(e,t),r=(new a.Compiler).compile(n,t),i=(new a.JavaScriptCompiler).compile(r,t,void 0,true);return a.template(i)}function s(e,t){n||(n=r());return n.call(this,e,t)}s._setup=function(e){n||(n=r());return n._setup(e)};s._child=function(e,t,a,i){n||(n=r());return n._child(e,t,a,i)};return s}function p(e,t){if(e===t)return true;if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var a=0;a<e.length;a++)if(!p(e[a],t[a]))return false;return true}}function h(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:false,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}},function(e,t,a){"use strict";var n=a(1)["default"];t.__esModule=true;var r=a(4);var i=a(6);var o=n(i);var s=a(5);var l=a(43);var u=n(l);function c(e){this.value=e}function d(){}d.prototype={nameLookup:function e(t,a){return d.isValidJavaScriptVariableName(a)?[t,".",a]:[t,"[",JSON.stringify(a),"]"]},depthedLookup:function e(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function e(){var t=r.COMPILER_REVISION,a=r.REVISION_CHANGES[t];return[t,a]},appendToBuffer:function e(t,a,n){s.isArray(t)||(t=[t]);t=this.source.wrap(t,a);if(this.environment.isSimple)return["return ",t,";"];if(n)return["buffer += ",t,";"];t.appendToBuffer=true;return t},initializeBuffer:function e(){return this.quotedString("")},compile:function e(t,a,n,r){this.environment=t;this.options=a;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!r;this.name=this.environment.name;this.isChild=!!n;this.context=n||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(t,a);this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||t.useBlockParams;var i=t.opcodes,s=void 0,l=void 0,u=void 0,c=void 0;for(u=0,c=i.length;u<c;u++){s=i[u];this.source.currentLocation=s.loc;l=l||s.loc;this[s.opcode].apply(this,s.args)}this.source.currentLocation=l;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o["default"]("Compile completed with content left on stack");if(this.decorators.isEmpty())this.decorators=void 0;else{this.useDecorators=true;this.decorators.prepend("var decorators = container.decorators;\n");this.decorators.push("return fn;");if(r)this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]);else{this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n");this.decorators.push("}\n");this.decorators=this.decorators.merge()}}var d=this.createFunctionContext(r);if(this.isChild)return d;var f={compiler:this.compilerInfo(),main:d};if(this.decorators){f.main_d=this.decorators;f.useDecorators=true}var p=this.context;var h=p.programs;var m=p.decorators;for(u=0,c=h.length;u<c;u++)if(h[u]){f[u]=h[u];if(m[u]){f[u+"_d"]=m[u];f.useDecorators=true}}this.environment.usePartial&&(f.usePartial=true);this.options.data&&(f.useData=true);this.useDepths&&(f.useDepths=true);this.useBlockParams&&(f.useBlockParams=true);this.options.compat&&(f.compat=true);if(r)f.compilerOptions=this.options;else{f.compiler=JSON.stringify(f.compiler);this.source.currentLocation={start:{line:1,column:0}};f=this.objectLiteral(f);if(a.srcName){f=f.toStringWithSourceMap({file:a.destName});f.map=f.map&&f.map.toString()}else f=f.toString()}return f},preamble:function e(){this.lastContext=0;this.source=new u["default"](this.options.srcName);this.decorators=new u["default"](this.options.srcName)},createFunctionContext:function e(t){var a="";var n=this.stackVars.concat(this.registers.list);n.length>0&&(a+=", "+n.join(", "));var r=0;for(var i in this.aliases){var o=this.aliases[i];if(this.aliases.hasOwnProperty(i)&&o.children&&o.referenceCount>1){a+=", alias"+ ++r+"="+i;o.children[0]="alias"+r}}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams");this.useDepths&&s.push("depths");var l=this.mergeSource(a);if(t){s.push(l);return Function.apply(this,s)}return this.source.wrap(["function(",s.join(","),") {\n  ",l,"}"])},mergeSource:function e(t){var a=this.environment.isSimple,n=!this.forceBuffer,r=void 0,i=void 0,o=void 0,s=void 0;this.source.each(function(e){if(e.appendToBuffer){o?e.prepend("  + "):o=e;s=e}else{if(o){i?o.prepend("buffer += "):r=true;s.add(";");o=s=void 0}i=true;a||(n=false)}});if(n)if(o){o.prepend("return ");s.add(";")}else i||this.source.push('return "";');else{t+=", buffer = "+(r?"":this.initializeBuffer());if(o){o.prepend("return buffer + ");s.add(";")}else this.source.push("return buffer;")}t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n"));return this.source.merge()},blockValue:function e(t){var a=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var r=this.popStack();n.splice(1,0,r);this.push(this.source.functionCall(a,"call",n))},ambiguousBlockValue:function e(){var t=this.aliasable("helpers.blockHelperMissing"),a=[this.contextName(0)];this.setupHelperArgs("",0,a,true);this.flushInline();var n=this.topStack();a.splice(1,0,n);this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",a),"}"])},appendContent:function e(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation;this.pendingContent=t},append:function e(){if(this.isInline()){this.replaceStack(function(e){return[" != null ? ",e,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,true)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,true)," }"])}},appendEscaped:function e(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function e(t){this.lastContext=t},pushContext:function e(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function e(t,a,n,r){var i=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++]));this.resolvePath("context",t,i,a,n)},lookupBlockParam:function e(t,a){this.useBlockParams=true;this.push(["blockParams[",t[0],"][",t[1],"]"]);this.resolvePath("context",a,1)},lookupData:function e(t,a,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data");this.resolvePath("data",a,0,true,n)},resolvePath:function e(t,a,n,r,i){var o=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&i,this,a,t));return}var s=a.length;for(;n<s;n++)this.replaceStack(function(e){var i=o.nameLookup(e,a[n],t);return r?[" && ",i]:[" != null ? ",i," : ",e]})},resolvePossibleLambda:function e(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function e(t,a){this.pushContext();this.pushString(a);"SubExpression"!==a&&("string"===typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function e(t){this.trackIds&&this.push("{}");if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(t?"undefined":"{}")},pushHash:function e(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function e(){var t=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(t.ids));if(this.stringParams){this.push(this.objectLiteral(t.contexts));this.push(this.objectLiteral(t.types))}this.push(this.objectLiteral(t.values))},pushString:function e(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function e(t){this.pushStackLiteral(t)},pushProgram:function e(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function e(t,a){var n=this.nameLookup("decorators",a,"decorator"),r=this.setupHelperArgs(a,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function e(t,a,n){var r=this.popStack(),i=this.setupHelper(t,a),o=n?[i.name," || "]:"";var s=["("].concat(o,r);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing"));s.push(")");this.push(this.source.functionCall(s,"call",i.callParams))},invokeKnownHelper:function e(t,a){var n=this.setupHelper(t,a);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function e(t,a){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,t,a);var i=this.lastHelper=this.nameLookup("helpers",t,"helper");var o=["(","(helper = ",i," || ",n,")"];if(!this.options.strict){o[0]="(helper = ";o.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",o,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function e(t,a,n){var r=[],i=this.setupParams(a,1,r);if(t){a=this.popStack();delete i.name}n&&(i.indent=JSON.stringify(n));i.helpers="helpers";i.partials="partials";i.decorators="container.decorators";t?r.unshift(a):r.unshift(this.nameLookup("partials",a,"partial"));this.options.compat&&(i.depths="depths");i=this.objectLiteral(i);r.push(i);this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function e(t){var a=this.popStack(),n=void 0,r=void 0,i=void 0;this.trackIds&&(i=this.popStack());if(this.stringParams){r=this.popStack();n=this.popStack()}var o=this.hash;n&&(o.contexts[t]=n);r&&(o.types[t]=r);i&&(o.ids[t]=i);o.values[t]=a},pushId:function e(t,a,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+a[0]+"].path["+a[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(a):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:d,compileChildren:function e(t,a){var n=t.children,r=void 0,i=void 0;for(var o=0,s=n.length;o<s;o++){r=n[o];i=new this.compiler;var l=this.matchExistingProgram(r);if(null==l){this.context.programs.push("");var u=this.context.programs.length;r.index=u;r.name="program"+u;this.context.programs[u]=i.compile(r,a,this.context,!this.precompile);this.context.decorators[u]=i.decorators;this.context.environments[u]=r;this.useDepths=this.useDepths||i.useDepths;this.useBlockParams=this.useBlockParams||i.useBlockParams;r.useDepths=this.useDepths;r.useBlockParams=this.useBlockParams}else{r.index=l.index;r.name="program"+l.index;this.useDepths=this.useDepths||l.useDepths;this.useBlockParams=this.useBlockParams||l.useBlockParams}}},matchExistingProgram:function e(t){for(var a=0,n=this.context.environments.length;a<n;a++){var r=this.context.environments[a];if(r&&r.equals(t))return r}},programExpression:function e(t){var a=this.environment.children[t],n=[a.index,"data",a.blockParams];(this.useBlockParams||this.useDepths)&&n.push("blockParams");this.useDepths&&n.push("depths");return"container.program("+n.join(", ")+")"},useRegister:function e(t){if(!this.registers[t]){this.registers[t]=true;this.registers.list.push(t)}},push:function e(t){t instanceof c||(t=this.source.wrap(t));this.inlineStack.push(t);return t},pushStackLiteral:function e(t){this.push(new c(t))},pushSource:function e(t){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=void 0}t&&this.source.push(t)},replaceStack:function e(t){var a=["("],n=void 0,r=void 0,i=void 0;if(!this.isInline())throw new o["default"]("replaceStack on non-inline");var s=this.popStack(true);if(s instanceof c){n=[s.value];a=["(",n];i=true}else{r=true;var l=this.incrStack();a=["((",this.push(l)," = ",s,")"];n=this.topStack()}var u=t.call(this,n);i||this.popStack();r&&this.stackSlot--;this.push(a.concat(u,")"))},incrStack:function e(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function e(){return"stack"+this.stackSlot},flushInline:function e(){var t=this.inlineStack;this.inlineStack=[];for(var a=0,n=t.length;a<n;a++){var r=t[a];if(r instanceof c)this.compileStack.push(r);else{var i=this.incrStack();this.pushSource([i," = ",r,";"]);this.compileStack.push(i)}}},isInline:function e(){return this.inlineStack.length},popStack:function e(t){var a=this.isInline(),n=(a?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof c)return n.value;if(!a){if(!this.stackSlot)throw new o["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function e(){var t=this.isInline()?this.inlineStack:this.compileStack,a=t[t.length-1];return a instanceof c?a.value:a},contextName:function e(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function e(t){return this.source.quotedString(t)},objectLiteral:function e(t){return this.source.objectLiteral(t)},aliasable:function e(t){var a=this.aliases[t];if(a){a.referenceCount++;return a}a=this.aliases[t]=this.source.wrap(t);a.aliasable=true;a.referenceCount=1;return a},setupHelper:function e(t,a,n){var r=[],i=this.setupHelperArgs(a,t,r,n);var o=this.nameLookup("helpers",a,"helper"),s=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:r,paramsInit:i,name:o,callParams:[s].concat(r)}},setupParams:function e(t,a,n){var r={},i=[],o=[],s=[],l=!n,u=void 0;l&&(n=[]);r.name=this.quotedString(t);r.hash=this.popStack();this.trackIds&&(r.hashIds=this.popStack());if(this.stringParams){r.hashTypes=this.popStack();r.hashContexts=this.popStack()}var c=this.popStack(),d=this.popStack();if(d||c){r.fn=d||"container.noop";r.inverse=c||"container.noop"}var f=a;while(f--){u=this.popStack();n[f]=u;this.trackIds&&(s[f]=this.popStack());if(this.stringParams){o[f]=this.popStack();i[f]=this.popStack()}}l&&(r.args=this.source.generateArray(n));this.trackIds&&(r.ids=this.source.generateArray(s));if(this.stringParams){r.types=this.source.generateArray(o);r.contexts=this.source.generateArray(i)}this.options.data&&(r.data="data");this.useBlockParams&&(r.blockParams="blockParams");return r},setupHelperArgs:function e(t,a,n,r){var i=this.setupParams(t,a,n);i=this.objectLiteral(i);if(r){this.useRegister("options");n.push("options");return["options=",i]}if(n){n.push(i);return""}return i}};(function(){var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" ");var t=d.RESERVED_WORDS={};for(var a=0,n=e.length;a<n;a++)t[e[a]]=true})();d.isValidJavaScriptVariableName=function(e){return!d.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};function f(e,t,a,n){var r=t.popStack(),i=0,o=a.length;e&&o--;for(;i<o;i++)r=t.nameLookup(r,a[i],n);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(a[i]),")"]:r}t["default"]=d;e.exports=t["default"]},function(e,t,a){"use strict";t.__esModule=true;var n=a(5);var r=void 0;try{var i;false}catch(e){}if(!r){r=function(e,t,a,n){this.src="";n&&this.add(n)};r.prototype={add:function e(t){n.isArray(t)&&(t=t.join(""));this.src+=t},prepend:function e(t){n.isArray(t)&&(t=t.join(""));this.src=t+this.src},toStringWithSourceMap:function e(){return{code:this.toString()}},toString:function e(){return this.src}}}function o(e,t,a){if(n.isArray(e)){var r=[];for(var i=0,o=e.length;i<o;i++)r.push(t.wrap(e[i],a));return r}if("boolean"===typeof e||"number"===typeof e)return e+"";return e}function s(e){this.srcFile=e;this.source=[]}s.prototype={isEmpty:function e(){return!this.source.length},prepend:function e(t,a){this.source.unshift(this.wrap(t,a))},push:function e(t,a){this.source.push(this.wrap(t,a))},merge:function e(){var t=this.empty();this.each(function(e){t.add(["  ",e,"\n"])});return t},each:function e(t){for(var a=0,n=this.source.length;a<n;a++)t(this.source[a])},empty:function e(){var t=this.currentLocation||{start:{}};return new r(t.start.line,t.start.column,this.srcFile)},wrap:function e(t){var a=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];if(t instanceof r)return t;t=o(t,this,a);return new r(a.start.line,a.start.column,this.srcFile,t)},functionCall:function e(t,a,n){n=this.generateList(n);return this.wrap([t,a?"."+a+"(":"(",n,")"])},quotedString:function e(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function e(t){var a=[];for(var n in t)if(t.hasOwnProperty(n)){var r=o(t[n],this);"undefined"!==r&&a.push([this.quotedString(n),":",r])}var i=this.generateList(a);i.prepend("{");i.add("}");return i},generateList:function e(t){var a=this.empty();for(var n=0,r=t.length;n<r;n++){n&&a.add(",");a.add(o(t[n],this))}return a},generateArray:function e(t){var a=this.generateList(t);a.prepend("[");a.add("]");return a}};t["default"]=s;e.exports=t["default"]}])})},1282:function(e,t,a){var n,r;!(n=[a,t,a(54),a(1342),a(151),a(1040),a(1344),a(1348),a(493),a(606),a(992),a(1286),a(1349),a(1200),a(1287),a(1350)],r=function(e,t,a,n,r,i,o,s,l,u,c,d,f,p,h,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(){this.queries=[],this.tableModels=[],this.targetTableModels=[],this.associations={},this.connectionMetaDataModels={},this.locale=n.Calendar.GetDefaultCalendarModel().locale,this.defaultCalendar=n.Calendar.GetDefaultCalendarModel().calendar,this.tempCounter=0,this.TEMP_NAME_PREFIX="9576934875038746211194868"}return e.CreateLoadModel=function(t,a){void 0===a&&(a=!0);var n=new e;return n.overwriteContent(t,a),n},e.findQueryByIdImpl=function(t,a){for(var n=void 0,r=0;r<t.length;r++){if(t[r].id===a){n=t[r];break}if(t[r].sourceQueries){var i=new o.TargetTableModel(t[r]),s=i.getSourceQueries(),l=e.findQueryByIdImpl(s,a);if(l){n=l;break}}}return n},e.prototype.getLocale=function(){return this.locale},e.prototype.wrapInTargetTableModel=function(e){return new o.TargetTableModel(e)},e.prototype.wrapInFieldModel=function(e){return new p.QueryField(e)},e.prototype.setMetadataModelForConnection=function(e,t){this.connectionMetaDataModels[e.name]=u.SharedUtil.extend(!0,{},e,{dbInfo:t})},e.prototype.getTableModelByDatabasePath=function(e,t,a,n,r){for(var i in this.tableModels)if(this.tableModels[i].data.dataconnectorName===e.name&&this.tableModels[i].data.databaseName===t&&this.tableModels[i].data.ownerName===a&&this.tableModels[i].data.tableName===n){if(!r)return this.tableModels[i];if(this.tableModels[i].data.tableAlias===r)return this.tableModels[i]}return},e.prototype.getOrCreateTableModelWithAliasByDatabasePath=function(e,t,a,n,r,i){var o=this.getTableModelByDatabasePath(e,t,a,n,r);if(o)return o;var s=e.typeName?e.typeName:e.type,l={dataconnectorName:e.name,boxType:"folder"===s||"internet"===s||"qix-datafiles.exe"===s?"load-file":"load-sql",databaseName:t,ownerName:a,tableName:n,tableAlias:this.getUniqueTableName(n),loadProperties:i,key:e.name+":"+t+":"+a+":"+n,fields:[],connectionInfo:this.getConnectionMetaDataModel(e.name),state:"new"};return this.createAndAddToCollection(this.tableModels,l)},e.prototype.getOrCreateTableModelByDatabasePath=function(e,t,a,n,r){return this.getOrCreateTableModelWithAliasByDatabasePath(e,t,a,n,void 0,r)},e.prototype.getTablesForConnector=function(e){return this.tableModels.filter(function(t){return t.data.connectionInfo&&e.id===t.data.connectionInfo.id}).map(function(e){return e.data})},e.prototype.updateTablesForConnector=function(e,t){var a=this;t.forEach(function(t){t.id?a.getTableModelById(t.id).updateFromOutputtedTableModel(t):a.getOrCreateTableModelWithAliasByDatabasePath(e,"","",t.tableName,void 0,void 0).updateFromOutputtedTableModel(t)})},e.prototype.getDataconnectorSelectionEditor=function(e){var t={getTablesForConnector:this.getTablesForConnector.bind(this,e),updateTablesForConnector:this.updateTablesForConnector.bind(this,e),getTableModelByDatabasePath:this.getTableModelByDatabasePath.bind(this,e),getOrCreateTableModelByDatabasePath:this.getOrCreateTableModelByDatabasePath.bind(this,e),getOrCreateTableModelWithAliasByDatabasePath:this.getOrCreateTableModelWithAliasByDatabasePath.bind(this,e),setMetadataModelForConnection:this.setMetadataModelForConnection.bind(this,e)};return t},e.prototype.generateSourceFieldIds=function(){this.tableModels.forEach(function(e){e.updateId()})},e.prototype.serialize=function(){return this.generateSourceFieldIds(),this.updateQueries(this.tableModels.map(function(e){return e.data})),l.LoadModelAssociations.updateAssociations(this),this._rawSerialize()},e.prototype.changeTableFieldAlias=function(e,t,n){var r=this.findTableByKey(e),i=a.find(r.data.fields,function(e){return e.alias===n});return!i&&(r.changeFieldAlias(t,n),!0)},e.prototype.qualifyTableField=function(e,t){var a=this.findTableByKey(e);if(a){var n=a.getOriginalFieldNameFromAlias(t);this.isFieldNameInUse(n)&&(n=a.data.tableName+"."+n),n===t&&(n+="_"),a.changeFieldAlias(t,n)}},e.prototype.qualifyTableFields=function(e,t,a,n){var r=this.TEMP_NAME_PREFIX+this.tempCounter++,i=this.TEMP_NAME_PREFIX+this.tempCounter++,o=this.findTableByKey(e),s=this.findTableByKey(a),l=o.getOriginalFieldNameFromAlias(t),u=s.getOriginalFieldNameFromAlias(n);o.changeFieldAlias(t,r),s.changeFieldAlias(n,i),o.isFieldNameInUse(l)?o.changeFieldAlias(r,o.data.tableName+"."+t):o.changeFieldAlias(r,l),s.isFieldNameInUse(u)||u===l?s.changeFieldAlias(i,s.data.tableName+"."+n):s.changeFieldAlias(i,u)},e.prototype.clone=function(){return e.CreateLoadModel(this.serialize())},e.prototype.rawClone=function(){return e.CreateLoadModel(this._rawSerialize())},e.prototype.removeAllFieldsMarkedForDeletion=function(){var e=this;this.targetTableModels.filter(function(e){return e.isMarkedForDeletion()}).forEach(function(t){var a=e.getSourceTableByTableRefId(t.data.tableRef);a.data.fields=[],t.data.fields=[]}),this.removeUnusedConnections()},e.prototype.removeAllTablesMarkedForDeletion=function(){var e=this;this.targetTableModels.filter(function(e){return e.isMarkedForDeletion()}).forEach(function(t){e._removeTargetTable(t.data.name,!1)}),this.removeUnusedConnections()},e.prototype.updateQueriesStatus=function(e){var t=this;this.targetTableModels.filter(function(e){return"Query"===e.data.type&&e.isInSynchWithMaster()}).forEach(function(a){var n=a.data.id,r=t.getSourceTableByQueryId(n),i=e.getSourceTableByQueryId(n);if(r&&i){var o=r.data.loadSelectStatement!==i.data.loadSelectStatement||r.data.selectStatement!==i.data.selectStatement;o&&a.setUpdateStatus()}})},e.prototype.resetLoadModel=function(){return this.updateProperties(e.CreateLoadModel({}).serialize())},e.prototype.getTargetTable=function(e){var t=a.find(this.queries,function(t){return t.name===e});return t},e.prototype.updateTargetTableWithTransformation=function(e,t){var a=this.getTargetTableModelById(e);return(!a.isDirty()||a.isUpdated())&&(t.status=r.DSMTypes.QueryStatus.update),this.removeTargetTableAndModel(a,!0),this.addQueryAndCreateTargetTableModel(t)},e.prototype.replaceTargetTableWithSourceQueries=function(e){var t=this.getTargetTableModelById(e),a=t.getSourceQueries()[0];return(!t.isDirty()||t.isUpdated())&&(a.status=r.DSMTypes.QueryStatus.update),this.removeTargetTableAndModel(t,!0),this.addQueryAndCreateTargetTableModel(a)},e.prototype.renameTargetTable=function(e,t){var a=this.getTargetTableModel(e);a.setUpdateStatus(),a.rename(t)},e.prototype.renameTargetTableField=function(e,t,a){var n=this,i=this.getTargetTableModel(e);i.setUpdateStatus();var o=i.data;(o.type===r.DSMTypes.ConcatenationQuery.name&&!h.Defaults.instance().isTreatConcatAsForcedConcat()||o.type===r.DSMTypes.CrossTableQuery.name)&&o.sourceQueries&&o.sourceQueries.forEach(function(e){n.renameQueryField(e,t,a)}),o.fields&&this.renameQueryField(o,t,a)},e.prototype.hideTargetTableField=function(e,t){var a=this.getTargetTableModel(e);a.addFieldTag(t,r.DSMTypes.tags.hidden),a.setUpdateStatus()},e.prototype.unhideTargetTableField=function(e,t){var a=this.getTargetTableModel(e);a.removeFieldTag(t,r.DSMTypes.tags.hidden),a.setUpdateStatus()},e.prototype.updateScriptTables=function(t,a,n,r){var i=e.CreateLoadModel({}),o=new m.ScriptTableUpdater(i,this,r),s=o.update(t,a,n);return s},e.prototype.unconcatenateTargetTable=function(e,t){var n=this,i=this.getTargetTableModel(e),s=i.data,l=[];t&&t.forEach(function(e){var t=a.findWhere(s.sourceQueries,{id:e});t&&l.push(t)});var u=l;return 0===u.length&&(u=s.sourceQueries),u&&(u.forEach(function(e){var t=this;e.fields.forEach(function(a){t.renameQueryField(e,a.name,e.name+"."+a.name)})}.bind(this)),s.fields.forEach(function(e){if(i.wasGeneratedByTransformation(e,r.DSMTypes.QueryTransformField.name,[r.DSMTypes.Transformations.lookupGeoInfo,r.DSMTypes.Transformations.geoPoint])){var t,a=e.transformations[0].appliedTo,s=[];if(a instanceof Array){var l=a;l.forEach(function(e){var a=i.getField(e);a&&(s.push(a),a.transformations&&a.transformations.length>0&&(t=a))})}else t=i.getField(e.transformations[0].appliedTo),s.push(t);u.forEach(function(a){var r,i=new o.TargetTableModel(a),l=[];if(a.fields.forEach(function(e){s.forEach(function(a){-1!==a.sourceFieldRefs.indexOf(e.id)&&(l.push(e),a===t&&(r=e))})}),r){var u=JSON.parse(JSON.stringify(e.transformations[0]));l.length>1?u.appliedTo=[l[0].id,l[1].id]:u.appliedTo=l[0].id,i.updateFieldTransformation(n,r.id,u.op,u,"en-US")}})}e.sourceFieldRefs&&e.sourceFieldRefs.length>0&&e.classifications&&e.classifications.length>0&&u.forEach(function(t){t.fields.forEach(function(t){e.sourceFieldRefs.indexOf(t.id)>=0&&(t.classifications&&0!==t.classifications.length||(t.classifications=e.classifications.map(function(e){return e})))})})})),i.setUpdateStatus(),u},e.prototype.getTargetTableFieldsByName=function(e){return this.getFieldsByName(e,this.queries)},e.prototype.isTargetTableFieldNameInUse=function(e){return this.getFieldsByName(e,this.queries).length>0},e.prototype.isTargetTableNameInUse=function(e,t){var n=!1;t||(t=[]);var r=this.queries.filter(function(e){return!a.contains(t,e.name)});return a.each(r,function(t){n||t.name!==e||(n=!0),!n&&t.sourceQueries&&(n=a.any(t.sourceQueries,function(t){return t.name===e}))}),n},e.prototype.getSourceFieldsByAlias=function(e){var t=[],n=function(t){return t.alias===e};return this.tableModels.forEach(function(e){var r=a.find(e.data.fields,n);r&&t.push(r)}),t},e.prototype.getTargetTableModelById=function(e){return a.find(this.targetTableModels,function(t){return t.data.id===e})},e.prototype.findQueryById=function(t){var a=this.getTargetTableModelById(t);if(a)return a;var n=e.findQueryByIdImpl(this.queries,t);return n?this.wrapInTargetTableModel(n):void 0},e.prototype.resetTargetTablesStatuses=function(){this.targetTableModels.forEach(function(e){e.resetStatus()})},e.prototype.isDirty=function(){return a.any(this.targetTableModels,function(e){return e.isDirty()})},e.prototype.hasAssociations=function(e){for(var t=Object.keys(this.associations),n=0;n<t.length;n++){var r=this.associations[t[n]];if(a.find(r,function(t){return t.tableId===e}))return!0}return!1},e.prototype.findAssociations=function(e){for(var t=Object.keys(this.associations),n=[],r=0;r<t.length;r++){var i=this.associations[t[r]];a.find(i,function(t){return t.tableId===e})&&n.push(new f.Association(i,t[r]))}return n},e.prototype.removeTargetTable=function(e,t){this.removeTargetTableImpl(e,t,!0)},e.prototype.removeTargetTableModel=function(e,t){this.removeTargetTableAndModel(e,t)},e.prototype.addTargetTableModel=function(e){this.queries.push(e.data),this.targetTableModels.push(e)},e.prototype.addAsTargetTableModel=function(e){this.queries.push(e);var t=new o.TargetTableModel(e);return this.targetTableModels.push(t),t},e.prototype.removeAssociation=function(e){delete this.associations[e]},e.prototype.addInlineTableModel=function(e,t,a){var n=this.getUniqueTableName(e),r={databaseName:"inlinedata",dataconnectorName:"inlinedata",tableName:n,tableAlias:n,key:"inlinedata."+n,connectionInfo:{name:"inlinedata",typeName:"inlinedata",type:{provider:"inlinedata",type:"inlinedata"}},loadStatementModel:{type:"inlinedata",data:a},caching:{enabled:!1,type:"qvd"},fields:[],state:"new"},i=new s.InputTableModel(r);return t.forEach(function(e,t){i.addField(e,t,!0)}),this.tableModels.push(i),this.connectionMetaDataModels.inlinedata||(this.connectionMetaDataModels.inlinedata=r.connectionInfo),r},e.prototype.createForcedConcatenationQuery=function(e,t,a){return this.createCompositeQuery(e,t,a,r.DSMTypes.ForcedConcatenationQuery.name)},e.prototype.createJoinedQuery=function(e,t,a,n){var i=this.createCompositeQuery(e,a,n,r.DSMTypes.JoinedQuery.name);return i.data&&t&&(i.data.joinType=t),i},e.prototype.splitQuery=function(e){var t=new d.CompositeQueryOperations;return t.splitCompositeQuery(e,this)},e.prototype.getTargetTableModel=function(e){return a.find(this.targetTableModels,function(t){return t.data.name===e})},e.prototype.addTableModel=function(e){this.tableModels.push(s.InputTableModel.create(e))},e.prototype.isFieldNameInUse=function(e){for(var t in this.tableModels)if(this.tableModels[t].isFieldNameInUse(e))return!0;return!1},e.prototype.getSourceTableByTableRefId=function(e){for(var t=0;t<this.tableModels.length;t++){var a=this.tableModels[t];if(a.data.id===e)return a}},e.prototype.removeTargetTableImpl=function(e,t,a){var n=this.getTargetTableModel(e);n.isAdded()?this._removeTargetTable(e,t):(this.removeFields(e),n.setMarkForDeletion()),a&&this.setProperties()},e.prototype.removeFields=function(e){var t,n,r=this,i=a.find(this.queries,function(t){return t.name===e});i&&("ConcatenationQuery"===i.type?(t=i.sourceQueries,n=a.pluck(t,"tableRef")):"Query"===i.type&&(t=[i],n=[i.tableRef]),a.each(n,function(e){var t=r.getSourceTableByTableRefId(e);t&&(t.data.fields=[])}),a.each(t,function(e){e.fields=[]}))},e.prototype._removeTargetTableImpl=function(e,t){var n=this;if(e){var r=[];e.sourceQueries&&e.sourceQueries.length>0?r=e.sourceQueries:"Query"===e.type&&(r=[e]),t||a.each(r,function(r){e.sourceQueries&&e.sourceQueries.forEach(function(e){n._removeTargetTableImpl(e,t)});var i=a.find(n.tableModels,function(e){return e.data.id===r.tableRef});if(i){var o=n.tableModels.indexOf(i);n.tableModels.splice(o,1)}});var i=this.queries.indexOf(e);e=void 0,this.queries.splice(i,1)}},e.prototype._removeTargetTable=function(e,t){var n=a.find(this.queries,function(t){return t.name===e});this._removeTargetTableImpl(n,t)},e.prototype.getConnectionMetaDataModel=function(e){return this.connectionMetaDataModels[e]},e.prototype.getTableModelWithName=function(e){for(var t in this.tableModels){var a=this.tableModels[t];if(a.getTableAlias()===e)return a}return},e.prototype.getSourceTableByQueryId=function(e){for(var t=this.getQueryByQueryId(e),a=0;a<this.tableModels.length;a++){var n=this.tableModels[a];if(t&&n.data.id===t.tableRef)return n}},e.prototype.setProperties=function(){return this.updateProperties(this.serialize())},e.prototype.updateProperties=function(e){throw i.QueryGenerator.checkIntegrity(e.tables,e.queries),"Unsupported"},e.prototype.removeTargetTableAndModel=function(e,t){this._removeTargetTable(e.getName(),t);var a=this.targetTableModels.indexOf(e);this.targetTableModels.splice(a,1)},e.prototype.addQueryAndCreateTargetTableModel=function(e){this.queries.push(e);var t=this.createTargetTableModel(e);return this.targetTableModels.push(t),t},e.prototype.getQueryByQueryId=function(e){return a.find(this.queries,function(t){return t.id===e})},e.prototype.getTableModelById=function(e){return a.find(this.tableModels,function(t){return t.data.id===e})},e.prototype.getSourceFieldById=function(e){var t=[];return this.tableModels.forEach(function(e){t=t.concat(e.data.fields)}),a.find(t,function(t){return t.id===e})},e.prototype.renameQueryField=function(e,t,n){var r=a.find(e.fields,function(e){return e.name===t});if(r){r.name=n;var i=this.getSourceFieldById(r.fieldRef);i&&(i.alias=n)}},e.prototype.getFieldsBy=function(e,t){e||(e=this.queries);var n=[];return e.forEach(function(e){var r;e.sourceQueries&&(r=[],e.sourceQueries.forEach(function(i){r=a.find(i.fields,t),r&&n.push({table:e,field:r})})),r=a.find(e.fields,t),r&&n.push({table:e,field:r})}),n},e.prototype.getFieldsByName=function(e,t){return this.getFieldsBy(t,function(t){return t.name===e})},e.prototype.createTargetTableModel=function(e){return o.TargetTableModel.CreateTargetTableModel(e)},e.prototype.createAndAddToCollection=function(e,t){var a=s.InputTableModel.create(t);return e.push(a),a},e.prototype.hasTableWithConnection=function(e){for(var t in this.tableModels)if(this.tableModels[t].data.dataconnectorName===e)return!0;return!1},e.prototype.removeUnusedConnections=function(){for(var e in this.connectionMetaDataModels)this.connectionMetaDataModels.hasOwnProperty(e)&&(this.hasTableWithConnection(e)||delete this.connectionMetaDataModels[e])},e.prototype.overwriteContent=function(e,t){var a=this;this.connectionMetaDataModels=e.connectionMetaDataModels||{},this.tableModels.splice(0,this.tableModels.length),e.tables&&e.tables.forEach(function(e){e.connectionInfo||(e.connectionInfo=a.getConnectionMetaDataModel(e.dataconnectorName)),a.addTableModel(e)}),e.queries?(this.queries.splice(0,this.queries.length),this.targetTableModels.splice(0,this.targetTableModels.length),e.queries.forEach(function(e){a.queries.push(e),a.targetTableModels.push(o.TargetTableModel.CreateTargetTableModel(e))})):this.updateQueries(e.tables),this.associations=e.associations||{},t&&l.LoadModelAssociations.updateAssociations(this),this.version++},e.prototype.createCompositeQuery=function(e,t,a,n){var r=o.TargetTableModel.CreateTargetTableModel({type:n,name:e,id:c.LoadModelIds.generateUUID()}),i=new d.CompositeQueryOperations;return i.populateCompositeQuery(r,this,e,t,a),this.addTargetTableModel(r),r},e.prototype.updateQueries=function(e){var t=this;if(a.isEmpty(this.queries))this.queries.splice(0,this.queries.length),this.targetTableModels.splice(0,this.targetTableModels.length),i.QueryGenerator.generate(e||[],this).forEach(function(e){t.queries.push(e),t.targetTableModels.push(o.TargetTableModel.CreateTargetTableModel(e))});else{var n=[];i.QueryGenerator.updateQueries(e,this.queries,this,n),this.targetTableModels.splice(0,this.targetTableModels.length),this.queries.forEach(function(e){t.targetTableModels.push(o.TargetTableModel.CreateTargetTableModel(e))}),n.forEach(function(e){t.removeTargetTableImpl(e.name,!1,!1)})}return this.queries},e.prototype.getUniqueTableName=function(e){for(var t=0,a=e,n=e;this.getTableModelWithName(a);)a=n+"-"+ ++t;return a},e.prototype.findTableByKey=function(e){for(var t in this.tableModels)if(this.tableModels[t].data.key===e)return this.tableModels[t];return},e.prototype._rawSerialize=function(){var t={connectionMetaDataModels:{},tables:this.tableModels.map(function(e){e.isNothingSelected()&&(e.data.fields=[]);var t=e.serialize();return t}),queries:[],associations:{},locale:void 0,defaultCalendar:void 0,schemaVersion:e.SCHEMA_VERSION};for(var n in this.connectionMetaDataModels)this.connectionMetaDataModels.hasOwnProperty(n)&&(t.connectionMetaDataModels[n]=u.SharedUtil.extend(!0,{},this.connectionMetaDataModels[n]));return t.queries=[],a.each(this.queries,function(e){t.queries.push(i.QueryGenerator.cloneQuery(e))}),t.associations=l.LoadModelAssociations.serializeAssociations(this),t.locale=u.SharedUtil.extend(!0,{},this.locale),t.defaultCalendar=u.SharedUtil.extend(!0,{},this.defaultCalendar),t},e}();g.SCHEMA_VERSION=2.1,t.LoadModel=g}.apply(t,n),void 0!==r&&(e.exports=r))},1283:function(e,t,a){var n,r;!(n=[a,t,a(151),a(54),a(1345),a(1346),a(1347)],r=function(e,t,a,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t,a){this.targetTable=e,this.loadModel=t,this.locale=a}return e.prototype.updateTransformation=function(t,a,r){var i=n.where(e.supportedTransformations,{op:a});if(i.length>0){var o=i[0].handler,s=new o(this.targetTable,this.loadModel,this.locale);s.updateTransformation(t,r)}},e.prototype.handleRecommendation=function(t,a){var r=n.where(e.supportedTransformations,{op:t.op});if(r.length>0&&-1!==a.indexOf(t.op)){var i=r[0].handler,o=new i(this.targetTable,this.loadModel,this.locale);o.handleRecommendation(t)}},e}();s.supportedTransformations=[{op:a.DSMTypes.Transformations.interpretValues,handler:o.DateTimeRecommendation},{op:a.DSMTypes.Transformations.geoPoint,handler:r.GeoPointRecommendation},{op:a.DSMTypes.Transformations.lookupGeoInfo,handler:i.GeoLookupRecommendation}],t.TransformationRecommendationUtil=s}.apply(t,n),void 0!==r&&(e.exports=r))},1284:function(e,t,a){var n,r;!(n=[a,t],r=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.loadLanguageBundle=function(n,r){var i=t.getLongLanguageDesc(n);if(true,e.exports)try{var o=a(1285)("./load-model-"+i);t.resourceBundles[i]=o,r(o)}catch(e){}else{var s=["text!./assets/load-model/translations/load-model-"+i+".json"],l=function(e){var a=JSON.parse(e);t.resourceBundles[i]=a,r(a)};try{window.requirejs.apply(window.requirejs,[s,l])}catch(e){}}},t.GetString=function(e,a){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=t.getLoadedResourceBundle(t.getLongLanguageDesc(e))[a],o=0;o<n.length;o++){var s="{"+o+"}";i=i.replace(s,n[o])}return i},t.getLoadedResourceBundle=function(e){return t.resourceBundles[e]},t.getShortLanguageDesc=function(e){return"pseudo"!==e.toLowerCase()&&(e=e.substring(0,2)),e.toLowerCase()},t.getLongLanguageDesc=function(e){var a;return a=t.languageList.filter(function(t){return t["long"].toLowerCase()===e.toLowerCase()}),a.length?e=a[0]["long"]:(a=t.languageList.filter(function(a){return a["short"]===t.getShortLanguageDesc(e)}),a.length&&(e="zh-hk"===e.toLocaleLowerCase()||"zh-mo"===e.toLocaleLowerCase()?"zh-TW":a[0]["long"])),a.length||(e=t.DEFAULT_LANGUAGE),e},t}();r.resourceBundles=[],r.DEFAULT_LANGUAGE="en-US",r.languageList=[{short:"es",long:"es-ES",label:"Spanish"},{short:"sv",long:"sv-SE",label:"Swedish"},{short:"ja",long:"ja-JP",label:"Japanese"},{short:"en",long:"en-US",label:"English"},{short:"de",long:"de-DE",label:"German"},{short:"fr",long:"fr-FR",label:"French"},{short:"it",long:"it-IT",label:"Italian"},{short:"nl",long:"nl-NL",label:"Dutch"},{short:"pt",long:"pt-BR",label:"Brazilian Portuguese"},{short:"ru",long:"ru-RU",label:"Russian"},{short:"zh",long:"zh-CN",label:"Simplified Chinese"},{short:"zh",long:"zh-TW",label:"Traditional Chinese"},{short:"pl",long:"pl-PL",label:"Polish"},{short:"tr",long:"tr-TR",label:"Turkish"},{short:"ko",long:"ko-KR",label:"Korean"}],n.Translator=r}.apply(t,n),void 0!==r&&(e.exports=r))},1286:function(e,t,a){var n,r;!(n=[a,t,a(54),a(151),a(1199)],r=function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e}();t.QueryFieldMapping=i;var o=function(){function e(e){this.targetTable=e}return e.prototype.getInfo=function(){var e={totalFields:0,totalConcatFields:0,fieldsMapped:0};return this.targetTable.getFields().forEach(function(t){e.totalFields++,t.type===n.DSMTypes.CompositeQueryField.name&&(e.totalConcatFields++,t.sourceFieldRefs.length>1&&e.fieldsMapped++)}),e},e.prototype.populateCompositeQuery=function(e,t,a,n,i){n.forEach(function(a){t.removeTargetTableModel(a,!0),e.addSourceQuery(a.data)}),i&&0!==i.length||(i=this.createMapping(n,t)),this.generateCompositionFields(e,i);var o=n.map(function(e){return e.data});return r.CompositeOperations.migrateAssociations(o,e,t),this.matchGeoFields(e,t),e},e.prototype.splitCompositeQuery=function(e,t){this.restoreAssociations(e,t);var a=e.getSourceQueries(),n=[];return a.forEach(function(e){var a=t.addAsTargetTableModel(e);n.push(a)}),t.removeTargetTableModel(e,!0),e.setUpdateStatus(),n},e.prototype.matchGeoFields=function(e,t){var a=e.getFields();a.forEach(function(a){var r=t.wrapInFieldModel(a);if(r.isGeographical()&&a.sourceFieldRefs.length>0){var i=e.getGeoRelatedFields(a,!0);if(i.length>0){var o=e.createField(a.name+"_GeoInfo",n.DSMTypes.CompositeQueryField.name);i.forEach(function(e){o.addSourceField(e)})}}})},e.prototype.createMapping=function(e,t){for(var a=[],r=0;r<e.length;r++)for(var o=e[r].getFields(),s=0;s<o.length;s++){var l=o[s];e[r].wasGeneratedByTransformation(l,n.DSMTypes.QueryTransformField.name,[n.DSMTypes.Transformations.lookupGeoInfo])||(a[s]?a[s].sourceFields.push(l):(a[s]=new i,a[s].name=l.name,a[s].sourceFields=[],a[s].sourceFields.push(l)))}return a},e.prototype.generateCompositionFields=function(e,t){t.forEach(function(t){var r,i=e.createField(t.name,n.DSMTypes.CompositeQueryField.name),o=!0;t.sourceFields.forEach(function(e,t){0===t?r=e.classifications:o&&(o=a.isEqual(r,e.classifications)),i.addSourceField(e)}),i.data.classifications=o&&r?r:[]})},e.prototype.restoreAssociations=function(e,t){var a=t.findAssociations(e.data.id);a.forEach(function(e){t.removeAssociation(e.getName())})},e}();t.CompositeQueryOperations=o}.apply(t,n),void 0!==r&&(e.exports=r))},1287:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){e.gInstance=this}return e.instance=function(){return e.gInstance},e.prototype.setTreatConcatAsForcedConcat=function(e){this.concatAsForcedConcat=e},e.prototype.isTreatConcatAsForcedConcat=function(){return this.concatAsForcedConcat},e}();a.gInstance=new a,t.Defaults=a}.apply(t,n),void 0!==r&&(e.exports=r))},1288:function(e,t,a){var n,r;!(n=[a,t,a(151)],r=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.qualifyDuplicatedFieldNames=function(t,a){return e.qualifyNewDuplicatedFieldNamesImpl(t,a,!1)},e.qualifyNewDuplicatedFieldNames=function(t,a,n){return e.qualifyNewDuplicatedFieldNamesImpl(t,a,n)},e.qualifyNewDuplicatedFieldNamesImpl=function(t,n,r){var i=t.tableModels.reduce(function(e,t){return e[t.getTableAlias()]=t,e},{}),o=n.tableModels.filter(function(e){return!!i[e.getTableAlias()]}),s=n.tableModels.filter(function(e){return!i[e.getTableAlias()]});r&&(s=s.filter(function(t){var a=e.findTableWithSameFields(o,t);return!a||(e.applySameFieldAliases(a,t),!1)}));var l=[];s.forEach(function(t,a){var n=null;if(r&&a>0&&(n=e.findTableWithSameFields(s.slice(0,a),t)),n){var i=t.data.fields.filter(e.selectedFieldFilter).reduce(function(a,n){return a[e.getUnqualifiedFieldName(t,n)]=n,a},{});l.filter(function(e){return e.table===n}).forEach(function(a){var n=e.getUnqualifiedFieldName(a.table,a.field);a.links=a.links||[],a.links.push({table:t,field:i[n]})})}else l=l.concat(t.data.fields.filter(e.selectedFieldFilter).map(function(e){return{table:t,field:e}}))});var u=[];o.forEach(function(t){var a=e.getSelectedFieldsByName(i[t.getTableAlias()]);l=l.concat(t.data.fields.filter(e.selectedFieldFilter).filter(function(e){return!a[e.name]}).map(function(e){return{table:t,field:e}})),u=t.data.fields.filter(e.selectedFieldFilter).filter(function(e){var t=a[e.name];return!(!t||t.alias===e.alias)}).map(function(e){return{table:t,field:e}})});var c=o.reduce(function(t,a){var n=i[a.getTableAlias()],r=e.getSelectedFieldsByName(n);return a.data.fields.filter(e.selectedFieldFilter).filter(function(e){return!!r[e.name]}).forEach(function(e){var n=a.getFieldAlias(e.name);t[n]=(t[n]||0)+1}),t},{});t.targetTableModels.forEach(function(e){e.data.fields.filter(function(e){return e.type!==a.DSMTypes.QueryField.name}).forEach(function(e){c[e.name]=(c[e.name]||0)+1})});var d=l.reduce(function(e,t){var a=t.table.getFieldAlias(t.field.name);return e[a]=(e[a]||0)+1,e},{});this.qualifyFieldName(l,c,d,n,!0),this.qualifyFieldName(u,c,d,n,!1)},e.shouldQualifyWithTableGroupId=function(e,t){var a=t.table,n=t.field,r=!1;return a.data.tableGroupId&&a.data.lockSameGroupAssociations&&(r=e,a.data.tableGroupDirections&&a.data.tableGroupDirections.qualify&&(r=!1,n.tableGroupFieldInfo&&n.tableGroupFieldInfo.isKey&&(r=!0))),r},e.qualifyFieldName=function(t,a,n,r,i){t.forEach(function(t){var o=t.table.getFieldAlias(t.field.name),s=!0;t.table.data.connectionInfo&&"script"===t.table.data.connectionInfo.typeName&&(s=!1);var l=i?0:1,u=a[o]>l||n[o]>1;if(s&&(u||e.shouldQualifyWithTableGroupId(u,t))){var c=t.table.getFieldQualifiedName(o),d=c,f=1;if(e.shouldQualifyWithTableGroupId(u,t))c=t.table.data.tableGroupId+"."+o;else for(;r.isFieldNameInUse(c);)f++,c=d+"_"+f;t.table.setFieldAlias(t.field.name,c),t.links&&t.links.forEach(function(e){e.table.setFieldAlias(e.field.name,c)})}})},e.selectedFieldFilter=function(e){return e.selected},e.getSelectedFieldsByName=function(t){return t.data.fields.filter(e.selectedFieldFilter).reduce(function(e,t){return e[t.name]=t,e},{})},e.getUnqualifiedFieldName=function(e,t){var a=t.alias?t.alias:t.name;if(t.alias!==t.name){var n=e.getFieldQualifiedName(""),r=a.indexOf(n);if(0===r&&a.length>n.length){var i=a.substr(n.length).replace(/\.\./g,"."),o=e.getTableGroupId();return o&&0===i.indexOf(o+".")&&(i=i.substring(o.length+1)),i}var o=e.getTableGroupId(),i=a;if(o&&0===i.indexOf(o+"."))return i.substring(o.length+1)}return a},e.findTableWithSameFields=function(t,a){function n(t){var a=t.data.fields.filter(e.selectedFieldFilter).map(function(a){var n=e.getUnqualifiedFieldName(t,a);return n.replace(/|/g,"||")});return a.sort(),a}for(var r=null,i=n(a).join("|"),o=0;o<t.length;o++){var s=t[o];if(s!==a&&i===n(s).join("|")){r=s;break}}return r},e.applySameFieldAliases=function(t,a){var n=t.data.fields.reduce(function(a,n){var r=e.getUnqualifiedFieldName(t,n);return a[r]=t.getFieldAlias(n.name),a},{});a.data.fields.forEach(function(t){var r=e.getUnqualifiedFieldName(a,t),i=n[r];i&&i!==r&&a.setFieldAlias(t.name,i)})},e}();n.FLAGS={DetectAutoConcatenate:{Yes:!0,No:!1}},t.DSFieldsQualifications=n}.apply(t,n),void 0!==r&&(e.exports=r))},1289:function(e,t,a){var n,r;!(n=[a,t,a(1351),a(1352),a(1353),a(1354),a(1355)],r=function(e,t,a,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.TemplateHelpers.InitHandlebars();var s=function(){function e(){}return e.GetBoxType=function(e){switch(e){case a.LoadFile.type:return a.LoadFile;case n.LoadSql.type:return n.LoadSql;case r.Join.type:return r.Join;case i.NewGeneration.type:return i.NewGeneration}},e}();t.BoxTypesModel=s}.apply(t,n),void 0!==r&&(e.exports=r))},1342:function(e,t,a){var n,r;var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();!(n=[a,t,a(1343)],r=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t,a){var n=e.call(this,a)||this;return n.name=t,n}return i(t,e),t.GetDefaultCalendarModel=function(){var e={calendarModel:{locale:"en-US",defaultCalendar:{id:"autoCalendar",name:"autoCalendar",translation:"",appliedToTags:["$date"],params:{},derivedFields:[{id:"Decade",name:"Decade",translation:"",definition:"Dual(Div(Year($1),10)*10, MakeDate(Div(Year($1),10)*10, 1, 1))",tags:["$axis","$decade"],selected:!1},{id:"Year",name:"Year",translation:"scripteditor.autoCalendarYear",definition:"Dual(Year($1), YearStart($1))",tags:["$axis","$year"],selected:!0},{id:"Quarter",name:"Quarter",translation:"scripteditor.autoCalendarQuarter",definition:"Dual('Q'&Num(Ceil(Num(Month($1))/3)),Num(Ceil(NUM(Month($1))/3),00))",tags:["$quarter","$cyclic"],selected:!0},{id:"YearQuarter",name:"YearQuarter",translation:"scripteditor.autoCalendarQuarterYear",definition:"Dual(Year($1)&'-Q'&Num(Ceil(Num(Month($1))/3)),QuarterStart($1))",tags:["$yearquarter","$qualified"],selected:!0},{id:"_YearQuarter",name:"_YearQuarter",translation:"scripteditor.autoCalendarQuarterYear",definition:"Dual('Q'&Num(Ceil(Num(Month($1))/3)),QuarterStart($1))",tags:["$yearquarter","$hidden","$simplified"],selected:!0},{id:"Month",name:"Month",translation:"scripteditor.autoCalendarMonth",definition:"Month($1)",tags:["$month","$cyclic"],selected:!0},{id:"YearMonth",name:"YearMonth",translation:"scripteditor.autoCalendarMonthYear",definition:"Dual(Year($1)&'-'&Month($1), monthstart($1))",tags:["$axis","$yearmonth","$qualified"],selected:!0},{id:"_YearMonth",name:"_YearMonth",translation:"scripteditor.autoCalendarMonthYear",definition:"Dual(Month($1), monthstart($1))",tags:["$axis","$yearmonth","$simplified","$hidden"],selected:!0},{id:"Week",name:"Week",translation:"scripteditor.autoCalendarWeek",definition:"Dual('W'&Num(Week($1),00), Num(Week($1),00))",tags:["$weeknumber","$cyclic"],selected:!0},{id:"YearWeek",name:"YearWeek",translation:"",definition:"Dual(Year($1)&'-W'&num(Week($1),00), weekstart($1))",tags:["$yearweek"],selected:!1},{id:"WeekDay",name:"WeekDay",translation:"",definition:"Dual(WeekDay($1),num(WeekDay($1)))",tags:["$weekday"],selected:!1},{id:"Date",name:"Date",translation:"scripteditor.autoCalendarDate",definition:"Date(Floor($1))",tags:["$axis","$date","$qualified"],selected:!0},{id:"_Date",name:"_Date",translation:"scripteditor.autoCalendarDate",definition:"Date(Floor($1), 'D')",tags:["$axis","$date","$hidden","$simplified"],selected:!0}],groups:[{name:"YearMonthDay",drillDown:"true",fieldRefs:["Year","Month","WeekDay"]},{name:"YearMonth",drillDown:"false",fieldRefs:["Year","Month"]}],deriveFieldsType:"fieldExplicit"}}},a=new t("autoCalendar","autoCalendar"),n=e.calendarModel.defaultCalendar;return a.appliedToTags=n.appliedToTags,a.derivedFields=n.derivedFields,a.groups=n.groups,a.deriveFieldsType=n.deriveFieldsType,{calendar:a,locale:e.calendarModel.locale}},t}(a.Referencable);t.Calendar=n}.apply(t,n),void 0!==r&&(e.exports=r))},1343:function(e,t,a){var n,r;!(n=[a,t,a(54)],r=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){a.isString(e)&&(this.id=e)}return e}();t.Referencable=n}.apply(t,n),void 0!==r&&(e.exports=r))},1344:function(e,t,a){var n,r;!(n=[a,t,a(54),a(151),a(992),a(439),a(1200),a(1283),a(1040)],r=function(e,t,a,n,r,i,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t){var a=t.fields=t.fields||[];t.status=void 0!==t.status?t.status:e.Statuses.add,this.data=t,this.fields=a}return e.CreateTargetTableModel=function(t){var a=new e(t);return a},e.findSourceTableByRef=function(e,t){return a.find(e,function(e){return e.id===t})},e.findFieldByRef=function(e,t){for(var n,r=0;r<e.length&&!(n=a.find(e[r].fields,function(e){return e.id===t}));r++);return n},e.getSourceFields=function(t,a){var n=[];return t.forEach(function(t){a.forEach(function(a){var r=new e(a),i=r.getField(t);i&&n.push({field:i,sourceQuery:a})})}),n},e.findTransformRelatedFields=function(t,a){var n=[];return a.forEach(function(a){var r=a.field,i=new e(a.sourceQuery),o=i.getTransformRelatedFields(r,t,!1);if(o.length>0)n.push.apply(n,o);else if(r.sourceFieldRefs){var s=e.getSourceFields(r.sourceFieldRefs,a.sourceQuery.sourceQueries),l=e.findTransformRelatedFields(t,s);if(l.length>0){var u=i.findReferencingField(l);u&&n.push(u)}}}),n},e.prototype.getSourceFields=function(t){if(this.data.sourceQueries){var a=this.getField(t),n=new o.QueryField(a),r=n.getSourceFieldReferences();return e.getSourceFields(r,this.data.sourceQueries)}return[]},e.prototype.createTransformField=function(e,t,i){var o={id:r.LoadModelIds.generateUUID(),type:n.DSMTypes.QueryTransformField.name,name:e,transformations:[],classifications:i?[i]:[]};return t&&o.transformations.push(a.clone(t)),this.fields.push(o),this.setUpdateStatus(),o},e.prototype.createField=function(e,t){var a={id:r.LoadModelIds.generateUUID(),type:t,name:e};return this.fields.push(a),this.setUpdateStatus(),new o.QueryField(a)},e.prototype.deleteTransformField=function(e){var t=this.findTransformField(e);l.QueryGenerator.deleteField(this,t),this.setUpdateStatus()},e.prototype.createCalculatedField=function(e,t){var a={id:r.LoadModelIds.generateUUID(),type:n.DSMTypes.QueryExpressionField.name,name:e,expression:t};this.fields.push(a),this.setUpdateStatus()},e.prototype.updateCalculatedField=function(e,t,a){var n=this.findCalculatedField(e);if(!n)throw Error("field not found");n.name=t,n.expression=a,this.setUpdateStatus()},e.prototype.deleteCalculatedField=function(e){var t=this.findCalculatedField(e);l.QueryGenerator.deleteField(this,t),this.setUpdateStatus()},e.prototype.setMarkForDeletion=function(){this.data.status=e.Statuses["delete"],this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status=e.Statuses["delete"]})},e.prototype.addFieldTag=function(e,t){var a=this.getField(e);a.tags?a.tags.push(t):a.tags=[t]},e.prototype.removeFieldTag=function(e,t){var a=this.getField(e);a.tags=a.tags?a.tags.filter(function(e){return e!==t}):void 0},e.prototype.setFieldTag=function(e,t){var a=this.getField(e);a.tags=t},e.prototype.isMarkedForDeletion=function(){return this.data.status===e.Statuses["delete"]},e.prototype.isInSynchWithMaster=function(){return this.data.status===e.Statuses.inSynchWithMaster},e.prototype.setUpdateStatus=function(){this.isAdded()||(this.data.status=e.Statuses.update),this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status!==e.Statuses.add&&(t.status=e.Statuses.update)})},e.prototype.isConcatenatedTable=function(){return this.data.type===n.DSMTypes.ConcatenationQuery.name||this.data.type===n.DSMTypes.ForcedConcatenationQuery.name},e.prototype.isQueryTable=function(){return this.data.type===n.DSMTypes.Query.name},e.prototype.isCrossTable=function(){return this.data.type===n.DSMTypes.CrossTableQuery.name},e.prototype.getStatus=function(){return this.data.status},e.prototype.setStatusAdded=function(){this.data.status=e.Statuses.add,this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status=e.Statuses.add})},e.prototype.isAdded=function(){return this.data.status===e.Statuses.add},e.prototype.isUpdated=function(){return this.data.status===e.Statuses.update},e.prototype.resetStatus=function(){this.data.status=e.Statuses.inSynchWithMaster,this.data.sourceQueries&&this.data.sourceQueries.forEach(function(t){t.status=e.Statuses.inSynchWithMaster})},e.prototype.isFieldNameInUse=function(e){return a.find(this.getFields(),function(t){return t.name===e})},e.prototype.getFieldByName=function(e){return a.find(this.getFields(),function(t){return t.name===e})},e.prototype.generateUniqueFieldName=function(e){for(var t=e,a=0;this.isFieldNameInUse(t);)a++,t=e+"_"+a;return t},e.prototype.isDirty=function(){return!(void 0===this.data.status||this.data.status===e.Statuses.inSynchWithMaster)},e.prototype.rename=function(e){this.data.name=e,this.setUpdateStatus()},e.prototype.getFields=function(){return this.data.fields},e.prototype.getField=function(e){return a.find(this.getFields(),function(t){return t.id===e})},e.prototype.updateFieldTransformation=function(e,t,a,n,r){var i=this.getField(t),o=new s.TransformationRecommendationUtil(this,e,r);o.updateTransformation(i,a,n)},e.prototype.deleteFieldTransformations=function(e,t){var a=this,r=this.getField(e),o=new i.LoadModelUtils(this);r.transformations&&(r.transformations.forEach(function(t){if(t.op===n.DSMTypes.Transformations.lookupGeoInfo){var r=o.findCorrespondingTransformedField(e,n.DSMTypes.Transformations.lookupGeoInfo);r&&a.deleteTransformField(r.id)}}),r.transformations=[]),r.classifications=["dimension"]},e.prototype.setFieldSplit=function(e,t,a){this.addTransformation(e,t,n.DSMTypes.Transformations.fieldSplit,a)},e.prototype.setOrdinal=function(e,t){this.addTransformation(e,e,n.DSMTypes.Transformations.defineOrder,t)},e.prototype.setMapping=function(e,t){this.addTransformation(e,e,n.DSMTypes.Transformations.mapValues,t)},e.prototype.setBucketing=function(e,t,a){var r={},i=!0;a&&a.buckets&&(i=!1,r.intervals=a.buckets),a&&a.bucketMethod&&(i=!1,r.method=a.bucketMethod),i&&(r=void 0),this.addTransformation(e,t,n.DSMTypes.Transformations.bucketed,r)},e.prototype.getBucketingAppliesTo=function(e){var t,a=this.getField(e);if(a.transformations){var r=a.transformations.filter(function(e){return e.op===n.DSMTypes.Transformations.bucketed});if(r&&r.length>0){var i=r[0].appliedTo[0];t=this.getField(i)}}return t},e.prototype.hasOrdinal=function(e){var t=this.getField(e);if(t.transformations){var a=t.transformations.filter(function(e){return e.op===n.DSMTypes.Transformations.defineOrder});return a.length>0}return!1},e.prototype.setFieldType=function(e,t,a,r,i){var o=this.getField(e);"noclassification"===t?(o.classifications=o.classifications||[],o.classifications=o.classifications.filter(function(e){return"date"!==e&&"timestamp"!==e})):t&&(o.classifications=[t]),this.addTransformation(e,e,n.DSMTypes.Transformations.interpretValues,{name:t,inputPattern:a,displayPattern:r,sourceFieldType:i})},e.prototype.getSourceQueries=function(){return this.data.sourceQueries||[]},e.prototype.addSourceQuery=function(e){this.data.sourceQueries||(this.data.sourceQueries=[]),this.data.sourceQueries.push(e)},e.prototype.getId=function(){return this.data.id},e.prototype.getType=function(){return this.data.type},e.prototype.getSources=function(){return this.data.sourceQueries},e.prototype.getTableRefs=function(){return this.isConcatenatedTable()||this.isCrossTable()?this.getSourceQueries().map(function(e){return e.tableRef}):[this.data.tableRef]},e.prototype.getName=function(){return this.data.name},e.prototype.pruneFieldReferences=function(t){var a=this,r=[];if(this.data.tableRef){var i=e.findSourceTableByRef(t,this.data.tableRef);this.data.fields.forEach(function(t){if(t.fieldRef){var a=i?e.findFieldByRef([i],t.fieldRef):void 0;a&&a.selected||r.push(t)}})}else this.data.sourceQueries&&(this.data.sourceQueries.forEach(function(a){new e(a).pruneFieldReferences(t)}),this.data.fields.forEach(function(t){if(t.fieldRef||t.sourceFieldRefs){var n=[];t.fieldRef?n.push(t.fieldRef):t.sourceFieldRefs&&(n=t.sourceFieldRefs),n.forEach(function(i){e.findFieldByRef(a.data.sourceQueries,i)||(n.splice(n.indexOf(i),1),0===n.length&&r.push(t))})}}));r.forEach(function(e){var t=a.data.fields.indexOf(e);a.data.fields.splice(t,1)});var o=this.data.fields.filter(function(e){return e.type===n.DSMTypes.QueryTransformField.name||e.type===n.DSMTypes.QueryExpressionField.name}).length===this.data.fields.length;o&&this.data.fields.splice(0)},e.prototype.getFieldForSourceField=function(e){for(var t=0;t<this.data.fields.length;t++)for(var a=this.data.fields[t],n=0;a.sourceFieldRefs&&n<a.sourceFieldRefs.length;n++)if(a.sourceFieldRefs[n]===e)return a;return},e.prototype.getGeoRelatedFields=function(e,t){return this.getTransformRelatedFields(e,n.DSMTypes.Transformations.lookupGeoInfo,t)},e.prototype.getTransformRelatedFields=function(t,a,r){var i=[];if(this.fields.forEach(function(e){var r=new o.QueryField(e);e.type===n.DSMTypes.QueryTransformField.name&&r.getTransformation(a,t.id)&&i.push(e)}),0===i.length&&r&&(t.fieldRef||t.sourceFieldRefs)&&this.getSourceQueries()&&this.getSourceQueries().length>0){var s=e.getSourceFields(t.fieldRef?[t.fieldRef]:t.sourceFieldRefs,this.getSourceQueries()),l=e.findTransformRelatedFields(a,s);l.length>0&&(i=l)}return i},e.prototype.wasGeneratedByTransformation=function(t,a,n){var r=new o.QueryField(t),i=!1;if(!a||r.data.type===a){var s=n.some(function(e){return!!r.hasTransformation(e)||void 0});i=s}if(!i){var l=r.data.sourceFieldRefs;if(!l&&r.data.fieldRef&&(l=[r.data.fieldRef]),l&&l.length>0){var u=e.getSourceFields(l,this.getSourceQueries());i=u.some(function(t){var r=new e(t.sourceQuery);return r.wasGeneratedByTransformation(t.field,a,n)})}}return i},e.prototype.findReferencingField=function(e){for(var t,a=0;a<this.fields.length;a++){var n=new o.QueryField(this.fields[a]);if(n.references(e)){t=this.fields[a];break}}return t},e.prototype.findTransformField=function(e){return a.find(this.fields,function(t){return t.id===e&&t.type===n.DSMTypes.QueryTransformField.name})},e.prototype.findCalculatedField=function(e){return a.find(this.fields,function(t){return t.id===e&&t.type===n.DSMTypes.QueryExpressionField.name})},e.prototype._applyInterpretValueTransformation=function(e,t,n){var r=n.inputPattern,i=n.displayPattern,o=n.sourceFieldType,s=n.name;a.isEmpty(a.compact(r))?i&&(t.arguments={targetType:s,displayPattern:i},e.transformations=[t]):(t.arguments={targetType:s,patterns:r},e.transformations=[t],i&&(e.transformations[0].arguments.displayPattern=i),o&&(e.transformations[0].arguments.sourceFieldType=o))},e.prototype.addTransformation=function(e,t,a,r){var i=this.getField(e),o=this.getField(t||e),s={op:a,appliedTo:[o.id],arguments:{}},l=[];switch(i.transformations&&(l=i.transformations.filter(function(e){return e.op!==a})),a){case n.DSMTypes.Transformations.defineOrder:r&&r.length>0?(s.arguments={orderedValues:r},this.setUpdateStatus(),i.transformations=[s]):i.transformations=[];break;case n.DSMTypes.Transformations.mapValues:r&&r.length>0?(s.arguments={mapping:r},this.setUpdateStatus(),i.transformations=[s]):i.transformations=[];break;case n.DSMTypes.Transformations.bucketed:r?(s.arguments=r,i.transformations=[s]):i.transformations=[];break;case n.DSMTypes.Transformations.interpretValues:"noclassification"===r.name?i.transformations=[]:this._applyInterpretValueTransformation(i,s,r);break;case n.DSMTypes.Transformations.fieldSplit:r?(s.arguments=r,i.transformations=[s]):i.transformations=[]}l.length>0&&(i.transformations=i.transformations.concat(l))},e}();u.Statuses=n.DSMTypes.QueryStatus,t.TargetTableModel=u}.apply(t,n),void 0!==r&&(e.exports=r))},1345:function(e,t,a){var n,r;var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();!(n=[a,t,a(1064),a(993),a(151),a(439)],r=function(e,t,a,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.updateTransformation=function(e,t){var a=this.indexOfTransformation(e,r.DSMTypes.Transformations.lookupGeoInfo);a>=0?(e.transformations[a]=t,this.updateCorrespondingGeoField(e,t)||this.handleRecommendation(t)):(e.transformations=e.transformations||[],e.transformations.push(t),this.handleRecommendation(t))},t.prototype.handleRecommendation=function(e){var t=this.targetTable,a=this.loadModel,i=t.getField(e.appliedTo[0]),o=t.getField(e.appliedTo[1]);if(i&&o){var s=o.name,l=i.name,u=o;if(i.classifications&&-1!==i.classifications.indexOf("longitude")){var c=s;s=l,u=i,l=c}if(0===t.getTransformRelatedFields(u,r.DSMTypes.Transformations.geoPoint,!1).length){var d=n.LoadModelHelpers.generateUniqueFieldName(a,s+"_"+l,t.data.id,!0);t.createTransformField(d.name,e,"geoPoint")}}},t.prototype.updateCorrespondingGeoField=function(e,t){var a=this.findCorrespondingGeoField(e);return a&&(a.transformations=[t]),!!a},t.prototype.findCorrespondingGeoField=function(e){var t=new o.LoadModelUtils(this.targetTable);return t.findCorrespondingTransformedField(e.id,r.DSMTypes.Transformations.geoPoint)},t.prototype.indexOfTransformation=function(e,t){if(e.transformations)for(var a=0;a<e.transformations.length;++a)if(e.transformations[a].op===t)return a;return-1},t}(a.TransformationRecommendation);t.GeoPointRecommendation=s}.apply(t,n),void 0!==r&&(e.exports=r))},1346:function(e,t,a){var n,r;var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();!(n=[a,t,a(151),a(993),a(439),a(1064),a(1284)],r=function(e,t,a,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.updateTransformation=function(e,t){var n=this.indexOfTransformation(e,a.DSMTypes.Transformations.lookupGeoInfo);n>=0&&null===t?(this.removeCorrespondingGeoField(e),e.classifications=["dimension"],e.transformations.splice(n,1)):t&&(n>=0?(e.transformations[n]=t,this.updateCorrespondingGeoField(e,t)||this.handleRecommendation(t)):(e.transformations=e.transformations||[],e.transformations.push(t),this.handleRecommendation(t)),e.classifications=["cityAlias"===t.arguments.geoType?"city":"country"])},t.prototype.handleRecommendation=function(e){var t=this.determineGeoInfoFieldClassification(e.arguments.geoType),r=this.targetTable,i=r.getField(e.appliedTo);if(i&&0===r.getTransformRelatedFields(i,a.DSMTypes.Transformations.lookupGeoInfo,!1).length){var o=r.data.name+"."+s.Translator.GetString(this.locale,"DataManager.GeoInfo.ColumnSuffix",i.name),l=n.LoadModelHelpers.generateUniqueFieldName(this.loadModel,o,r.data.id,!0);r.createTransformField(l.name,e,t)}},t.prototype.removeCorrespondingGeoField=function(e){var t=this.findCorrespondingGeoField(e);t&&this.targetTable.deleteTransformField(t.id)},t.prototype.updateCorrespondingGeoField=function(e,t){var a=this.findCorrespondingGeoField(e);return a&&(a.transformations=[t],a.classifications=[this.determineGeoInfoFieldClassification(t.arguments.geoType)]),!!a},t.prototype.findCorrespondingGeoField=function(e){var t=new r.LoadModelUtils(this.targetTable);return t.findCorrespondingTransformedField(e.id,a.DSMTypes.Transformations.lookupGeoInfo)},t.prototype.determineGeoInfoFieldClassification=function(e){var t="geoPoint";return["countryAlias","countryCodeISO3","countryCodeISO2"].indexOf(e)>-1&&(t="geoPolygon"),t},t.prototype.indexOfTransformation=function(e,t){if(e.transformations)for(var a=0;a<e.transformations.length;++a)if(e.transformations[a].op===t)return a;return-1},t}(o.TransformationRecommendation);t.GeoLookupRecommendation=l}.apply(t,n),void 0!==r&&(e.exports=r))},1347:function(e,t,a){var n,r;var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}();!(n=[a,t,a(54),a(151),a(1064)],r=function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.updateTransformation=function(e,t){var r=-1;if(e.transformations){var i=a.find(e.transformations,function(e){return e.op===n.DSMTypes.Transformations.interpretValues});r=a.indexOf(e.transformations,i)}r>=0&&null===t?(e.classifications=[],e.transformations.splice(r,1)):t&&(r>=0?e.transformations[r]=t:(e.transformations=e.transformations||[],e.transformations.push(t)),e.classifications=[t.arguments.targetType])},t.prototype.handleRecommendation=function(e){},t}(r.TransformationRecommendation);t.DateTimeRecommendation=o}.apply(t,n),void 0!==r&&(e.exports=r))},1348:function(e,t,a){var n,r;!(n=[a,t,a(992),a(606),a(54)],r=function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.data=e,e.id||this.updateId()}return e.create=function(t){return new e(t)},e.prototype.getSourceName=function(){return this.data.databaseName||this.data.dataconnectorName||""},e.prototype.isFiltered=function(){var e=this.getFilter(),t=!1;return e&&(t=""!==e.filterClause),!t&&this.data.filter&&(t=!0),t},e.prototype.getFilter=function(){return this.data.loadProperties&&this.data.loadProperties.filterInfo&&this.data.loadProperties.filterInfo},e.prototype.setLoadFilter=function(e){this.data.filter=e},e.prototype.getLoadFilter=function(){return this.data.filter},e.prototype.isNothingSelected=function(){for(var e in this.data.fields)if(this.data.fields[e].selected)return!1;return!0},e.prototype.setFieldSelected=function(e,t){this.data.state="modified",this.getOrCreateFieldByName(e).selected=t},e.prototype.addField=function(e,t,a){var n=this.createFieldModel(e);n.selected=a,this.data.fields.splice(t,0,n)},e.prototype.isFieldSelected=function(e){return this.getOrCreateFieldByName(e).selected},e.prototype.selectedFieldsCount=function(){var e=0;for(var t in this.data.fields)this.data.fields[t].selected&&e++;return e},e.prototype.fieldsCount=function(){return this.data.fields.length},e.prototype.changeFieldAlias=function(e,t){this.data.state="modified";for(var a in this.data.fields)if(this.data.fields[a].alias===e){this.data.fields[a].alias=t||this.data.fields[a].name;break}},e.prototype.setFieldAlias=function(e,t){t||(t=e),this.data.state="modified";for(var a in this.data.fields)if(this.data.fields[a].name===e){this.data.fields[a].alias=t;break}},e.prototype.getFieldQualifiedName=function(e){return this.cleanUpQualifiedNamePart(this.data.tableAlias)+"."+this.cleanUpQualifiedNamePart(e)},e.prototype.qualifyField=function(e){this.data.state="modified";for(var t in this.data.fields)if(this.data.fields[t].name===e){this.data.fields[t].alias=this.getFieldQualifiedName(this.data.fields[t].name);break}},e.prototype.getOriginalFieldNameFromAlias=function(e){for(var t in this.data.fields)if(this.data.fields[t].alias===e)return this.data.fields[t].name},e.prototype.getFieldAlias=function(e){for(var t in this.data.fields)if(this.data.fields[t].name===e)return this.data.fields[t].alias||this.data.fields[t].name},e.prototype.isFieldNameInUse=function(e){for(var t in this.data.fields){var a=this.data.fields[t].alias||this.data.fields[t].name;if(a===e)return!0}return!1},e.prototype.setFormatSpec=function(e){this.data.formatSpec=e},e.prototype.setLoadSelectStatement=function(e){this.data.loadSelectStatement=e},e.prototype.setSimpleSelectStatement=function(e){this.data.selectStatement=e},e.prototype.addSelectLoadProperty=function(e){this.data.loadProperties||(this.data.loadProperties={}),this.data.loadProperties.selectInfo=e},e.prototype.setFileFormatSettings=function(e){this.data.fileFormatSettings=e},e.prototype.getTableAlias=function(){return void 0===this.data.tableAlias||""===this.data.tableAlias?this.data.tableName:this.data.tableAlias},e.prototype.getFieldById=function(e){var t=r.findWhere(this.data.fields,{id:e});return t},e.prototype.pruneOtherFields=function(e){var t,a={};for(t in e)a[e[t]]=!0;for(t in this.data.fields){var n=this.data.fields[t];a[n.name]||(n.selected=!1)}},e.prototype.setTableGroupId=function(e){this.data.tableGroupId=e},e.prototype.getTableGroupId=function(){return this.data.tableGroupId},e.prototype.setLockSameGroupAssociations=function(e){this.data.lockSameGroupAssociations=e},e.prototype.registerFieldSourceRename=function(e,t,a){var n=this.getFieldByName(e),r=this.getFieldByName(t);if(n&&r){var i=this.data.fields.indexOf(n);-1!==i&&this.data.fields.splice(i,1),n.alias!==n.name&&(r.alias=n.alias),r.selected=a}else n?(n.alias===n.name&&(n.alias=t),n.name=t,n.selected=a):r||this.getOrCreateFieldByName(t)},e.prototype.markForRemoval=function(){for(var e in this.data.fields)this.data.fields[e].selected=!1},e.prototype.updateFromOutputtedTableModel=function(e){this.data.tableName=e.tableName,this.data.fields=e.fields,this.data.tableGroupId=e.tableGroupId,this.data.loadProperties=e.loadProperties,this.data.connectorProperties=e.connectorProperties,this.data.selectStatement=e.script,this.data.boxType=e.scriptType},e.prototype.serialize=function(){this.updateId(),this.data.tableAlias=this.getTableAlias();var e=n.SharedUtil.extend(!0,{},this.data);return delete e.state,e},e.prototype.isNew=function(){return!!this.data.state},e.prototype.updateId=function(){var e=this;this.data.id=a.LoadModelIds.createTableId(this.data.tableAlias||this.data.tableName),this.data.fields.forEach(function(t){t.id||(t.id=a.LoadModelIds.createFieldId(e.data.id,t.name))})},e.prototype.setCachingEnabled=function(e,t){this.data.caching?(this.data.caching.enabled=e,this.data.caching.type=t):this.data.caching={enabled:e,type:t}},e.prototype.getByNameOrCreate=function(e,t,a){for(var n in e)if(e[n].name===t)return e[n];var r;return a&&(r=a(t),e.push(r)),r},e.prototype.createFieldModel=function(e){var t=e;e||(t=this.generateEmptyFieldAlias());var n={id:a.LoadModelIds.createFieldId(this.data.id,e),name:e,alias:t,selected:!1};return n},e.prototype.generateEmptyFieldAlias=function(){for(var e,t=1,a=!1;!a;)e="Empty-"+t,this.isFieldNameInUse(e)?t++:a=!0;return e},e.prototype.getOrCreateFieldByName=function(e){return this.getByNameOrCreate(this.data.fields,e,this.createFieldModel.bind(this))},e.prototype.getFieldByName=function(e){return this.getByNameOrCreate(this.data.fields,e)},e.prototype.cleanUpQualifiedNamePart=function(e){return e.replace(/[\.]/g,"..")},e}();t.InputTableModel=i}.apply(t,n),void 0!==r&&(e.exports=r))},1349:function(e,t,a){var n,r;!(n=[a,t,a(54)],r=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.data=e,this.name=t}return e.prototype.getName=function(){return this.name},e.prototype.getFieldsReferencing=function(e){var t=new Array;return this.data.forEach(function(a){a.tableId===e.id&&t.push(a)}),t},e.prototype.replaceFieldReferences=function(e,t,a){for(var n=this.data.length-1;n>=0;n--){var r=this.data[n];r.tableId===e.tableId&&r.fieldId===e.fieldId&&(this.hasMappingForTable(t.id)?this.data.splice(n,1):(r.tableId=t.id,r.fieldId=a.id))}},e.prototype.getUniqueTableReferenceCount=function(){var e={};return this.data.forEach(function(t){e[t.tableId]=!0}),Object.keys(e).length},e.prototype.hasMappingForTable=function(e){var t=a.findWhere(this.data,{tableId:e}),n=!1;return t&&(n=!0),n},e}();t.Association=n}.apply(t,n),void 0!==r&&(e.exports=r))},1350:function(e,t,a){var n,r;!(n=[a,t,a(1288),a(54)],r=function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,a){this.scratchModel=e,this.targetModel=a?t.rawClone():t}return e.prototype.update=function(e,t,n){this.addTables(e);var r=this.copyAndPruneTables(t,e,n);return a.DSFieldsQualifications.qualifyDuplicatedFieldNames(this.scratchModel,this.targetModel),r},e.prototype.setUserScriptConnectionMetadata=function(e){var t={name:"script",id:"",type:{provider:"script",type:"",displayName:"",connectDialog:"",selectDialog:"",connectorMain:"",needsConnect:!1,isStandardConnector:!0},typeName:"script",privileges:["read","update","delete"],canDelete:!0,sourceConnectorID:"",connectionString:""},a={dbusage:!1,ownerusage:!1,dbfirst:!1,specialchars:"",dbseparator:"",ownerseparator:"",quotesuffix:"",quoteprefix:"",quotesuffixfordoublequotes:"",quoteprefixfordoublequotes:"",keywords:[]};return e.setMetadataModelForConnection(t,a),t},e.prototype.addTables=function(e){var t=this;e.tables.forEach(function(e){if("ScriptTable"===e.sourceType){var a="script",n="",r=e.name,i=void 0,o=t.setUserScriptConnectionMetadata(t.scratchModel),s=t.scratchModel.getOrCreateTableModelByDatabasePath(o,a,n,r,i);s.setCachingEnabled(!1,""),e.fields.forEach(function(e){s.setFieldSelected(e.name,!0)})}})},e.prototype.addChangeNotification=function(e,t,a,r){if("new"===r){var i=n.findWhere(a["new"],{table:e});i||(i={table:e},void 0!==t?a.modified.push(i):a["new"].push(i))}else{var i=n.findWhere(a.removed,{table:e});i||(i={table:e,fields:[]}),t?(-1!==i.fields.indexOf(t)&&i.fields.push(t),a.modified.push(i)):a.removed.push(i)}},e.prototype.copyAndPruneTables=function(e,t,a){var r=this,i={new:[],removed:[],modified:[]};this.scratchModel.tableModels.length>0&&this.setUserScriptConnectionMetadata(this.targetModel),this.scratchModel.tableModels.forEach(function(t){var a=r.targetModel.getTableModelByDatabasePath(t.data.connectionInfo,t.data.databaseName,t.data.ownerName,t.data.tableName);if(a){for(var o=a.data.fields,s=o.length-1;s>=0;s--){var l=n.findWhere(t.data.fields,{name:o[s]});l||(r.addChangeNotification(t.data.tableName,o[s].name,i,"remove"),o.splice(s,1))}t.data.fields.forEach(function(e){var o=n.findWhere(a.data.fields,{name:e.name});o||(r.addChangeNotification(t.data.tableName,e.name,i,"new"),a.setFieldSelected(e.name,!0))})}else r.addChangeNotification(t.data.tableName,void 0,i,"new"),r.targetModel.tableModels.push(t),a=t;a.setSimpleSelectStatement(e.generateLoadSelect(a)),a.addSelectLoadProperty({residentInfo:{isResident:!0}})});for(var o=this.targetModel.tableModels,s=function(e){var t=o[e];if("script"===t.data.connectionInfo.typeName){var s=n.findWhere(a,{table:t.data.tableName});if(s){for(var u=t.data.fields,c=u.length-1;c>=0;c--)-1===s.fields.indexOf(t.data.fields[c].name)&&(l.addChangeNotification(t.data.tableName,t.data.fields[c].name,i,"remove"),t.data.fields.splice(c,1));s.fields.forEach(function(e,a){n.findWhere(u,{name:e})||(t.addField(e,a,!0),r.addChangeNotification(t.data.tableName,e,i,"new"))})}else o[e].data.fields.length>0&&(l.addChangeNotification(t.data.tableName,void 0,i,"remove"),o[e].data.fields.length=0)}},l=this,u=o.length-1;u>=0;u--)s(u);return i},e}();t.ScriptTableUpdater=r}.apply(t,n),void 0!==r&&(e.exports=r))},1351:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e}();a.template="{{#each calculatedFields}}\nLOAD *, {{expr}} AS [{{alias}}];\n{{/each}}\n{{#each inject.prefix}}\n{{.}}\n{{/each}}\n{{#if dependencies.keep.enabled}}\nKEEP ([{{dependencies.keep.model.tableName}}])\n{{/if}}\nLOAD {{load-field-list fields}}\nFROM {{load-file-from-lib dataconnectorName databaseName}}\n{{formatSpec}};\n",a.type="load-file",t.LoadFile=a}.apply(t,n),void 0!==r&&(e.exports=r))},1352:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e}();a.template="LIB CONNECT TO [{{dataconnectorName}}];\n{{#each calculatedFields}}\n\tLOAD *, {{expr}} AS [{{alias}}];\n{{/each}}\n{{#each inject.prefix}}\n{{.}}\n{{/each}}\n{{#if dependencies.keep.enabled}}\nLEFT KEEP ([{{dependencies.keep.model.tableAlias}}])\n{{/if}}\nLOAD {{load-field-list fields}};\nSQL SELECT {{sql-field-list fields connectionInfo}}\nFROM {{database-owner-table databaseName ownerName tableName connectionInfo.dbInfo}};",a.type="load-sql",t.LoadSql=a}.apply(t,n),void 0!==r&&(e.exports=r))},1353:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e}();a.template="//Joined {{dependencies.from.model.tableAlias}} with {{dependencies.to.model.tableAlias}}",a.type="join",t.Join=a}.apply(t,n),void 0!==r&&(e.exports=r))},1354:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e}();a.type="newGeneration",a.template="/*new version of a table {{tableName}}: {{key}}. Depends on transformation {{dependencies.parent.key}}. \n New fields list:\n {{load-field-list fields}} \n*/",t.NewGeneration=a}.apply(t,n),void 0!==r&&(e.exports=r))},1355:function(e,t,a){var n,r;!(n=[a,t,a(1201),a(1153)],r=function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.InitHandlebars=function(){a.registerHelper("comma-separated",function(e,t){var a="";if(e)for(var n=0,r=e.length;r>n;n++){var i=t.fn(e[n]);i.length>0&&"\n"===i[i.length-1]&&(i=i.substring(0,i.length-1)),i.length>0&&"\r"===i[i.length-1]&&(i=i.substring(0,i.length-1)),a+=i,r-1>n&&(a+=",\n\t")}return a}),a.registerHelper("quote",function(t){return e.qouteScript(t)}),a.registerHelper("load-file-from-lib",function(t,a){return a?e.qouteScript("lib://"+t+"/"+a):e.qouteScript("lib://"+t)}),a.registerHelper("sql-quote",function(e,t){return t.quoteprefix+e+t.quotesuffix}),a.registerHelper("sql-field-list",function(t,a){var r=n.TemplateRunner.render(e.SqlFieldListTemplate,{fields:t,connectionInfo:a});return r}),a.registerHelper("load-field-list",function(t){var a=n.TemplateRunner.render(e.LoadFieldListTemplate,{fields:t});return a}),a.registerHelper("database-owner-table",function(e,t,a,n){function r(e){return n.quoteprefix+e+n.quotesuffix}var i="",o="ACCESS"===(n.dbmsname||"").toUpperCase();return n.dbfirst?(n.dbusage&&!o&&e&&(i+=r(e)+n.dbseparator),n.ownerusage&&t&&(i+=r(t)+n.ownerseparator),i+=r(a)):(n.ownerusage&&t&&(i+=r(t)+n.ownerseparator),i+=r(a),n.dbusage&&e&&(i+=n.dbseparator+r(e))),i})},e.qouteScript=function(e){return e?-1!==e.indexOf("[")||-1!==e.indexOf("]")?'"'+e+'"':"["+e+"]":e},e}();r.LoadFieldListTemplate="{{#comma-separated fields}}\n{{#if selected}}{{quote name}}{{#alias}} AS {{quote .}}{{/alias}}{{/if}}\n{{/comma-separated}}",r.SqlFieldListTemplate="{{#comma-separated fields}}\n {{#if selected}}{{sql-quote name ../connectionInfo.dbInfo}}{{/if}}\n{{/comma-separated}}",t.TemplateHelpers=r}.apply(t,n),void 0!==r&&(e.exports=r))},151:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.GetFields=function(){return[e.QueryField.name,e.QueryExpressionField.name,e.QueryTransformField.name]},e}();a.QueryStatus={delete:"Delete",update:"Update",add:"Add",inSynchWithMaster:""},a.tags={hidden:"$hidden"},a.QueryField={name:"QueryField"},a.Query={name:"Query",prefix:"query"},a.ConcatenationQuery={name:"ConcatenationQuery",prefix:"concatquery"},a.ForcedConcatenationQuery={name:"ForcedConcatenationQuery"},a.JoinedQuery={name:"JoinedQuery"},a.CompositeQueryField={name:"CompositeQueryField"},a.CrossTableQuery={name:"CrossTableQuery"},a.DataSourceDescriptor={name:"DataSourceDescriptor",prefix:"dsd"},a.QueryExpressionField={name:"QueryExpressionField"},a.QueryTransformField={name:"QueryTransformField"},a.Transformations={geoPoint:"makeGeoPoint",lookupGeoInfo:"lookupGeoInfo",interpretValues:"interpretValues",defineOrder:"defineOrder",fieldSplit:"fieldSplit",mapValues:"mapValues",bucketed:"bucketed"},t.DSMTypes=a}.apply(t,n),void 0!==r&&(e.exports=r))},439:function(e,t,a){var n,r;!(n=[a,t,a(54),a(151),a(1198)],r=function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.targetTable=e}return e.isInlineTransformation=function(e){return["ignoreValues","defineOrder","mapValues","interpretValues"].indexOf(e)>=0},e.isNewFieldTransformation=function(e){return["lookupGeoInfo","bucketed","makeGeoPoint","fieldSplit"].indexOf(e)>=0},e.prototype.findFieldsWithRecommendedTransformation=function(e){var t=a.filter(this.targetTable.getFields(),function(t){return t.type===n.DSMTypes.QueryField.name&&void 0!==t.transformations&&void 0!==a.findWhere(t.transformations,{op:e})});return t},e.prototype.findFieldsWithRecommendedCountryLookupTR=function(){var e=this.findFieldsWithRecommendedTransformation(n.DSMTypes.Transformations.lookupGeoInfo);return a.filter(e,function(e){var t=a.findWhere(e.transformations,{op:"lookupGeoInfo"});return["countryCodeISO3","countryCodeISO2","countryAlias"].indexOf(t.arguments.geoType)>=0})},e.prototype.findCorrespondingTransformedField=function(e,t){var r=a.find(this.targetTable.getFields(),function(r){return r.type===n.DSMTypes.QueryTransformField.name&&void 0!==r.transformations&&void 0!==a.findWhere(r.transformations,{op:t,appliedTo:e})});return r},e.prototype.canBeBasedOn=function(t,a,n){var r=!!n&&e.isInlineTransformation(n);if(t===a&&!r)return!1;var i=[];return this.collectBasedOns(this.targetTable.getField(a),i),i.indexOf(t)<0},e.prototype.validateBasedOnDependencies=function(){var e=this;this.targetTable.getFields().forEach(function(t){if(t.type===n.DSMTypes.QueryExpressionField.name||t.type===n.DSMTypes.QueryTransformField.name){var a=[];if(e.collectBasedOns(t,a),a.indexOf(t.id)>=0)throw new r.InvalidLoadModelException(t.name+" has circular field dependency!")}})},e.prototype.getBasedOns=function(e){var t=[];return this.collectBasedOns(this.targetTable.getField(e),t),t},e.prototype.getAllReferences=function(e){var t=[];return this.collectBasedOns(e,t),t},e.prototype.collectBasedOns=function(t,n){var r=this;if(t.expression)for(var i=t.expression.split(e.gExpressionRegEx),o=2;o<i.length;o+=4){var s=this.targetTable.getField(i[o]);s&&n.indexOf(i[o])<0&&(n.push(s.id),this.collectBasedOns(s,n))}t.transformations&&t.transformations.forEach(function(i){var o=e.isInlineTransformation(i.op),s=e.isNewFieldTransformation(i.op),l=[];a.isArray(i.appliedTo)?i.appliedTo.forEach(function(e){(e!==t.id||!o&&!s)&&l.push(e)}):(i.appliedTo!==t.id||!o&&!s)&&l.push(i.appliedTo),l.forEach(function(e){var t=r.targetTable.getField(e);t&&n.indexOf(e)<0&&(n.push(t.id),r.collectBasedOns(t,n))})})},e}();i.gExpressionRegEx=new RegExp("({{)(\\S\\s*[^}}]*)(}})","g"),t.LoadModelUtils=i}.apply(t,n),void 0!==r&&(e.exports=r))},493:function(e,t,a){var n,r;!(n=[a,t,a(54),a(151),a(606)],r=function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getAssociation=function(e,t){if(!e.associations||!e.associations[t])return null;var n={name:t,nodes:[]};return n.nodes=a.map(e.associations[t],a.clone),n.nodes.forEach(function(t){t.table=e.getTargetTableModelById(t.tableId),t.table&&(t.field=t.table.getField(t.fieldId))}),n},e.getAssociationNames=function(t,n,r){if(!t.associations)return[];var i=Object.keys(t.associations);if(!n)return i;var o=n?e.createSerializedNode(n,r):void 0,s=[];return i.forEach(function(e){var n=a.find(t.associations[e],function(e){return r?o.fieldId===e.fieldId:o.tableId===e.tableId});n&&s.push(e)}),s},e.removeAssociationByName=function(e,t){e.associations&&e.associations[t]&&delete e.associations[t]},e.renameAssociation=function(e,t,n){if(n!==t&&(e.associations||(e.associations={}),e.associations[t])){if(!e.associations[n])return e.associations[n]=e.associations[t],void delete e.associations[t];e.associations[t].forEach(function(t){var r=a.find(e.associations[n],function(e){return e.tableId===t.tableId});r||e.associations[n].push(t)}),delete e.associations[t]}},e.addAssociationBetween=function(t,n,r,i,o,s){var l=s||e.generateAssociationName(t,n,r,i,o);t.associations||(t.associations={}),n.setUpdateStatus(),i.setUpdateStatus();var u=e.createSerializedNode(n,r),c=e.createSerializedNode(i,o);if(!t.associations[l])return void(t.associations[l]=[u,c]);var d=[u,c];d.forEach(function(e){a.where(t.associations[l],e).length||t.associations[l].push(e)})},e.getTargetFieldByName=function(e,t){return a.find(e.getFields(),function(e){return e.name===t})},e.getAssociationNamesBetween=function(t,n,r,i,o){var s=[],l=e.getAssociationNames(t,n,r),u=e.getAssociationNames(t,i,o);return l.forEach(function(e){a.indexOf(u,e)>-1&&s.push(e)}),s},e.addToAssociation=function(t,n,r,i){t.associations||(t.associations={}),t.associations[n]||(t.associations[n]=[]);var o=e.createSerializedNode(r,i);a.where(t.associations[n],o).length||(t.associations[n].push(o),r.setUpdateStatus())},e.removeFromAssociation=function(t,a,n,r){if(t.associations&&t.associations[a]){var i=e.createSerializedNode(n,r);t.associations[a]=t.associations[a].filter(function(e){return r?e.fieldId!==i.fieldId:e.tableId!==i.tableId}),0===t.associations[a].length&&delete t.associations[a],n.setUpdateStatus()}},e.generateAssociationName=function(t,a,n,r,i){var o=e._generateAssociationName(t,a,n,r,i);return e.cleanUpKey(o)},e.removeAssociationBetween=function(t,a,n,r,i){var o=e.getAssociationNamesBetween(t,a,n,r,i);o.forEach(function(o){e.removeFromAssociation(t,o,a,n),e.removeFromAssociation(t,o,r,i)})},e.updateAssociations=function(t){var a=e.getFieldName2TargetTablesMap(t);Object.keys(a).forEach(function(n){var r=a[n];r.length>1&&r.forEach(function(a){var r=a.table,i=e.getFieldQualifiedName(r.data.name,n);t.renameTargetTableField(r.data.name,n,i),e.addToAssociation(t,n,r,i)})});var n=e.getAssociationNames(t,null,null);n.forEach(function(a){var n=e.getAssociation(t,a);n.nodes.forEach(function(e){var n=t.getTargetTableModelById(e.tableId),r=n?n.getField(e.fieldId):null;r||(t.associations[a]=t.associations[a].filter(function(t){return t.fieldId!==e.fieldId}))})}),n=e.getAssociationNames(t,null,null),n.forEach(function(a){var n=e.getAssociation(t,a);n.nodes.length<=1&&e.removeAssociationByName(t,a)}),a=e.getFieldName2TargetTablesMap(t),n=e.getAssociationNames(t,null,null),n.forEach(function(n){var r=a[n];r&&r.forEach(function(a){var r=a.table,i=e.getFieldQualifiedName(r.data.name,n);t.renameTargetTableField(r.data.name,n,i)})}),Object.keys(t.associations).forEach(function(a){e.renameAssociation(t,a,e.cleanUpKey(a))})},e.getFieldQualifiedName=function(t,a){return e.cleanUpQualifiedNamePart(t)+"."+e.cleanUpQualifiedNamePart(a)},e.getDuplicateFieldInfo=function(t,a,n,r){var i={},o=e.getAssociation(t,r);t.targetTableModels.forEach(function(e){var t=e.getFields().filter(function(e){return e.name===n}),s=!1;o&&o.nodes.some(function(e){return e.field.name===n})&&(s=!0),e.data.id!==a.data.id||r?!(t.length>0&&e.data.id!==a.data.id)||o&&s||(i.otherTable=e.data.name):i.duplicateInSameTable=t.length>0});var s=e.getAssociation(t,n);if(s){var l=[];s.nodes.forEach(function(e){var t=e.table.data.name;-1===l.indexOf(t)&&l.push(t)}),l.length>=2&&(i.associatedTables=l)}return i.isUnique=!i.duplicateAssociation&&!i.duplicateInSameTable&&!i.associatedTables,i},e.serializeAssociations=function(e){var t=e.associations?e.associations:{};return r.SharedUtil.extend(!0,{},t)},e.hasDisconnectedBubbles=function(t){var a=t.targetTableModels.filter(function(e){return!e.isMarkedForDeletion()});if(a.length<=1)return!1;for(var n=0;n<a.length;n++){var r=a[n];if(0===e.getAssociationNames(t,r).length)return!0}return!1},e.doNameBasedAssociations=function(t,a,r){function i(e){var t=a.getTargetTableModel(e.data.name),r=!t||t.getStatus()===n.DSMTypes.QueryStatus["delete"],i=e.getStatus()===n.DSMTypes.QueryStatus.add||e.getStatus()===n.DSMTypes.QueryStatus.update;return r&&i&&o(e)}var o=function(a){return a.getStatus()!==n.DSMTypes.QueryStatus["delete"]&&0===e.getAssociationNames(t,a).length},s=a?i:o,l=e.getFieldName2TargetTablesMap(t,!0,s);Object.keys(l).forEach(function(a){var n=l[a];n.length>1&&n.forEach(function(i){n.forEach(function(n){i!==n&&e.hasGoodScore(t,r,i,n)&&e.isSafeToAssociate(t,i.table,i.field,n.table,n.field)&&e.addAssociationBetween(t,i.table,i.field,n.table,n.field,a)})})})},e.augmentRecommendationsWithNameBasedAssociations=function(t){var a={};t.result.associatedFields.forEach(function(t){var n=t.fieldL.tableName+"::"+t.fieldR.tableName,r=a[n];if(r||(r=a[n]={tablePairKey:n,associatedFields:[],maxAssociationFieldScore:0,nameBasedAssociationFields:[],maxNameBasedAssociationFieldScore:0}),r.associatedFields.push(t),r.maxAssociationFieldScore=Math.max(r.maxAssociationFieldScore,t.associationScore),t.associationScore>=.75){var i=e.getNonQualifiedFieldName(t.fieldL.tableName,t.fieldL.fieldName)||t.fieldL.fieldName,o=e.getNonQualifiedFieldName(t.fieldR.tableName,t.fieldR.fieldName)||t.fieldR.fieldName;i===o&&(r.nameBasedAssociationFields.push(t),r.maxNameBasedAssociationFieldScore=Math.max(r.maxNameBasedAssociationFieldScore,t.associationScore))}});var n=function(e){var t=a[e];if(t.nameBasedAssociationFields.length){var n=Math.min(1,t.maxAssociationFieldScore+.02),r=n-.01,i=n-.02;t.associatedFields.forEach(function(e){e.associationScore>i&&t.nameBasedAssociationFields.indexOf(e)<0&&(e.associationScore=i)}),t.nameBasedAssociationFields.forEach(function(e){e.associationScore=e.associationScore===t.maxNameBasedAssociationFieldScore?n:r})}};for(var r in a)n(r);return t},e.setAssociationGraph=function(e,t){var a={};t.forEach(function(t){a[t.name]=[],t.links.forEach(function(n){var r=e.getTargetTableModelById(n.query.id);r&&e.getTargetTableModelById(n.query.id).setUpdateStatus(),a[t.name].push({tableId:n.query.id,fieldId:n.field.id})})}),e.associations=a},e.hasCycle=function(t,a){var n={};return Object.keys(t).forEach(function(e){t[e].forEach(function(e){n[e.tableId]=n[e.tableId]?n[e.tableId]:{tableId:e.tableId,color:0,children:[]}})}),Object.keys(t).forEach(function(e){t[e].forEach(function(a){var r=n[a.tableId];t[e].forEach(function(e){var t=n[e.tableId];t!==r&&-1===r.children.indexOf(t)&&r.children.push(t)})})}),!!n[a]&&e.visit(n[a],n[a])},e.isSafeToAssociate=function(t,a,n,r,i){var o=e.getAssociationNamesBetween(t,a,null,r,null).length>0;if(o)return!1;var s=t.clone(),l=s.getTargetTableModel(a.data.name),u=s.getTargetTableModel(r.data.name),c=0===e.getAssociationNames(s,l).length||0===e.getAssociationNames(s,u).length;return e.addAssociationBetween(s,l,n,u,i),c||!e.hasCycle(s.associations,l.data.id)},e.visit=function(t,a){if(1===t.color)return!0;t.color=1;for(var n=0;n<t.children.length;n++){var r=t.children[n];if(r!==a&&e.visit(r,t))return!0}return t.color=2,!1},e.getFieldName2TargetTablesMap=function(t,a,n){var r={},i=n?t.targetTableModels.filter(n):t.targetTableModels;return i.forEach(function(t){t.getFields().forEach(function(n){var i=n.name;if(a){var o=e.getNonQualifiedFieldName(t.data.name,n.name);i=o||i}r[i]||(r[i]=[]),r[i].push({table:t,field:n.name})})}),r},e.hasGoodScore=function(e,t,n,r){function i(e,t){return e.tableName===t.table.data.name&&e.fieldName===t.field}if(!t.result||!t.result.associatedFields)return!1;var o;return o=a.find(t.result.associatedFields,function(e){return i(e.fieldL,n)&&i(e.fieldR,r)||i(e.fieldL,r)&&i(e.fieldR,n)}),o&&o.associationInfo.score>=.75},e.createSerializedNode=function(t,a){var n=t.data.id,r=a?e.getTargetFieldByName(t,a):void 0,i=r?r.id:void 0;return{tableId:n,fieldId:i}},e._generateAssociationName=function(t,a,n,r,i){var o,s=e.getAssociationNames(t,a,n);if(s&&s.length>=1)return s[0];var l=e.getAssociationNames(t,r,i);if(l&&l.length>=1)return l[0];var u=e.getNonQualifiedFieldName(a.data.name,n),c=e.getNonQualifiedFieldName(r.data.name,i);return u&&c&&u===c&&!e.getAssociation(t,u)?u:n===c?n:i===u?i:u&&c&&(o=[u,c].sort().join("-"),!e.getAssociation(t,o))?o:u&&!c&&(o=[u,i].sort().join("-"),!e.getAssociation(t,o))||!u&&c&&(o=[n,c].sort().join("-"),!e.getAssociation(t,o))?o:[n,i].sort().join("-")},e.cleanUpKey=function(e){return e.replace(/^_/,"-").replace(/\\/g,"-").replace(/\//g,"-").replace(/"/g,"'")},e.cleanUpQualifiedNamePart=function(e){return e.replace(/[\.]/g,"..")},e.getNonQualifiedFieldName=function(t,a){var n=e.cleanUpQualifiedNamePart(t);if(0!==a.lastIndexOf(n+".",0))return null;var r=a.substring(n.length+1);return r.split("..").join(".")},e}();t.LoadModelAssociations=i}.apply(t,n),void 0!==r&&(e.exports=r))},606:function(e,t,a){var n,r;!(n=[a,t],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.extend=function(t){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];return e.internalExtend.apply(e,arguments)},e.each=function(t,a){return e.internalEach.apply(e,arguments)},e.internalExtend=function(t,a){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];for(var s in o){var l=o[s],u=a[s];if(l!==u)if(t&&l&&"object"==typeof l){var c=void 0;c=l instanceof Array?u&&u instanceof Array?u:[]:u&&"object"==typeof u?u:{},a[s]=e.internalExtend(t,c,l)}else a[s]=l}}return a},e.internalEach=function(e,t){if(e instanceof Array)for(var a=0;a<e.length&&!1!==t.call(e[a],a,e[a]);a++);else for(var n in e)if(!1===t.call(e[n],n,e[n]))break;return e},e}();t.SharedUtil=a}.apply(t,n),void 0!==r&&(e.exports=r))},992:function(e,t,a){var n,r;!(n=[a,t,a(151)],r=function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.generateUUID=function(){var e=(new Date).getTime();"window"in this&&window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)});return t},e.createTableId=function(t){return a.DSMTypes.DataSourceDescriptor.prefix+"."+e.cleanNameForId(t)},e.createFieldId=function(t,a){return t+"."+e.cleanNameForId(a)},e.createSimpleQueryId=function(){return e.generateUUID()},e.createConcatQueryId=function(){return e.generateUUID()},e.createQueryFieldId=function(){return e.generateUUID()},e.cleanNameForId=function(e){return e.replace(/[\.]/g,"..")},e}();t.LoadModelIds=n}.apply(t,n),void 0!==r&&(e.exports=r))},993:function(e,t,a){var n,r;!(n=[a,t,a(54),a(151),a(606)],r=function(e,t,a,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.areQueryFieldsEqual=function(t,n,r,i){var o=e._normalizeQueryField(t,r,i),s=e._normalizeQueryField(n,r,i);return a.isEqual(o,s)},e.areLoadModelsEqual=function(e,t){var n=e.serialize(),r=t.serialize();return a.isEqual(n,r)},e.findSourceTableFieldByRef=function(e,t){return a.find(e.fields,function(e){return e.id===t})},e.generateUniqueFieldName=function(t,a,n,r){for(var i=a,o=1,s=null;t.isTargetTableFieldNameInUse(i)&&(!r||!(s=e.doesAddingFieldCauseConcatenation(t,n,i)));)i=a+"_"+o,o++;return{name:i,concatenatedName:s?s.name:""}},e.doesAddingFieldCauseConcatenation=function(e,t,r){var i=e.rawClone(),o=i.getTargetTableModelById(t);o.createTransformField(r,[]),i.serialize();var s=null;return a.filter(i.queries,function(e){return e.type===n.DSMTypes.ConcatenationQuery.name}).forEach(function(e){a.find(e.sourceQueries,function(e){return e.name===o.data.name})&&(s=e)}),s},e.getQualifiedFieldName=function(e,t,a){for(var n=t+"."+a;e.isFieldNameInUse(n);)n=t+"."+n;return n},e.areSourceFieldAliasesUnique=function(e){var t=e.tableModels,a=!1;return t.forEach(function(e){if(!a){var t=e.data.fields.filter(function(e){return e.selected}),n=t.map(function(e){return e.alias});a=n.some(function(e,t){return n.indexOf(e)!==t})}}),!a},e._normalizeQueryField=function(t,n,i){var o=r.SharedUtil.extend(!0,{},t),s=e.schemas[t.type];if(!s)throw new TypeError("Field is missing a required property ( type ) and cannot be properly normalized.");return a.pairs(s).forEach(function(e){var t=e[0],a=e[1].optional;if(i&&"transformations"===e[0]&&o.transformations)for(var r=o.transformations,s=r.length-1;s>=0;s--)i(r[s])&&r.splice(s,1);if(n&&n(t))delete o[t];else if(a){var l=e[1].defaultValue;o.hasOwnProperty(t)||(o[t]=l)}else if(!o.hasOwnProperty(t))throw new TypeError("Field is missing a required property ( "+t+" ) and cannot be properly normalized.")}),o},e}();i.schemas={QueryExpressionField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},expression:{optional:!1},tags:{optional:!0,defaultValue:[]}},QueryTransformField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},transformations:{optional:!1},tags:{optional:!0,defaultValue:[]}},CompositeQueryField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},sourceFieldRefs:{optional:!1},tags:{optional:!0,defaultValue:[]}},QueryField:{id:{optional:!1},type:{optional:!1},name:{optional:!1},fieldRef:{optional:!0},transformations:{optional:!0,defaultValue:[]},classifications:{optional:!0,defaultValue:[]},exclude:{optional:!0,defaultValue:!1},tags:{optional:!0,defaultValue:[]}}},t.LoadModelHelpers=i}.apply(t,n),void 0!==r&&(e.exports=r))},995:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var n="handshake";var r="handshake-reply";var i="call";var o="reply";var s="fulfilled";var l="rejected";var u="message";var c="DataCloneError";var d="ConnectionDestroyed";t.ERR_CONNECTION_DESTROYED=d;var f="ConnectionTimeout";t.ERR_CONNECTION_TIMEOUT=f;var p="NotInIframe";t.ERR_NOT_IN_IFRAME=p;var h="IframeAlreadyAttachedToDom";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=h;var m=6e4;var g={"http:":"80","https:":"443"};var y=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/;var v={ERR_CONNECTION_DESTROYED:d,ERR_CONNECTION_TIMEOUT:f,ERR_NOT_IN_IFRAME:p,ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:h,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:false};var b=function(){var e=0;return function(){return++e}}();var T=function e(){if(v.debug){var t;for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];(t=console).log.apply(t,["[Penpal]"].concat(n))}};var S=function e(t){var a=document.location;var n=y.exec(t);var r;var i;var o;if(n){r=n[1]?n[1]:a.protocol;i=n[2];o=n[4]}else{r=a.protocol;i=a.hostname;o=a.port}if("file:"===r)return"null";var s=o&&o!==g[r]?":".concat(o):"";return"".concat(r,"//").concat(i).concat(s)};var M=function e(t){var a=[];t(function(){a.forEach(function(e){e()})});return{then:function e(t){a.push(t)}}};var F=function e(t){var a=t.name,n=t.message,r=t.stack;return{name:a,message:n,stack:r}};var k=function e(t){var a=new Error;Object.keys(t).forEach(function(e){return a[e]=t[e]});return a};var x=function e(t,a,n,r,l){var c=a.localName,f=a.local,p=a.remote,h=a.remoteOrigin;var m=false;T("".concat(c,": Connecting call sender"));var g=function e(t){return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];T("".concat(c,": Sending ").concat(t,"() call"));p.closed&&r();if(m){var l=new Error("Unable to send ".concat(t,"() call due ")+"to destroyed connection");l.code=d;throw l}return new v.Promise(function(e,n){var r=b();var l=function a(i){if(i.source===p&&i.origin===h&&i.data.penpal===o&&i.data.id===r){T("".concat(c,": Received ").concat(t,"() reply"));f.removeEventListener(u,a);var l=i.data.returnValue;i.data.returnValueIsError&&(l=k(l));(i.data.resolution===s?e:n)(l)}};f.addEventListener(u,l);p.postMessage({penpal:i,id:r,methodName:t,args:a},h)})}};l.then(function(){m=true});n.reduce(function(e,t){e[t]=g(t);return e},t)};var _=function e(t,a,n){var r=t.localName,d=t.local,f=t.remote,p=t.remoteOrigin;var h=false;T("".concat(r,": Connecting call receiver"));var m=function e(t){if(t.source===f&&t.origin===p&&t.data.penpal===i){var n=t.data,u=n.methodName,d=n.args,m=n.id;T("".concat(r,": Received ").concat(u,"() call"));if(u in a){var g=function e(t){return function(e){T("".concat(r,": Sending ").concat(u,"() reply"));if(h){T("".concat(r,": Unable to send ").concat(u,"() reply due to destroyed connection"));return}var a={penpal:o,id:m,resolution:t,returnValue:e};if(t===l&&e instanceof Error){a.returnValue=F(e);a.returnValueIsError=true}try{f.postMessage(a,p)}catch(e){e.name===c&&f.postMessage({penpal:o,id:m,resolution:l,returnValue:F(e),returnValueIsError:true},p);throw e}}};new v.Promise(function(e){return e(a[u].apply(a,d))}).then(g(s),g(l))}}};d.addEventListener(u,m);n.then(function(){h=true;d.removeEventListener(u,m)})};v.connectToChild=function(e){var t=e.url,a=e.appendTo,i=e.iframe,o=e.methods,s=void 0===o?{}:o,l=e.timeout;if(i&&i.parentNode){var c=new Error("connectToChild() must not be called with an iframe already attached to DOM");c.code=h;throw c}var p;var g=new M(function(e){p=e});var y=window;i=i||document.createElement("iframe");i.src=t;var b=S(t);var F=new v.Promise(function(e,t){var o;void 0!==l&&(o=setTimeout(function(){var e=new Error("Connection to child timed out after ".concat(l,"ms"));e.code=f;t(e);p()},l));var c={};var h;var v;var S=function t(a){var l=i.contentWindow;if(a.source===l&&a.origin===b&&a.data.penpal===n){T("Parent: Received handshake, sending reply");var u="null"===a.origin?"*":a.origin;a.source.postMessage({penpal:r,methodNames:Object.keys(s)},u);var d={localName:"Parent",local:y,remote:l,remoteOrigin:u};v&&v();var f=new M(function(e){g.then(e);v=e});_(d,s,f);h&&h.forEach(function(e){delete c[e]});h=a.data.methodNames;x(c,d,h,p,g);clearTimeout(o);e(c)}};y.addEventListener(u,S);T("Parent: Loading iframe");(a||document.body).appendChild(i);var F=setInterval(function(){if(!document.contains(i)){clearInterval(F);p()}},m);g.then(function(){i.parentNode&&i.parentNode.removeChild(i);y.removeEventListener(u,S);clearInterval(F);var e=new Error("Connection destroyed");e.code=d;t(e)})});return{promise:F,iframe:i,destroy:p}};v.connectToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentOrigin,a=void 0===t?"*":t,i=e.methods,o=void 0===i?{}:i,s=e.timeout;if(window===window.top){var l=new Error("connectToParent() must be called within an iframe");l.code=p;throw l}var c;var h=new M(function(e){c=e});var m=window;var g=m.parent;var y=new v.Promise(function(e,t){var i;void 0!==s&&(i=setTimeout(function(){var e=new Error("Connection to parent timed out after ".concat(s,"ms"));e.code=f;t(e);c()},s));var l=function t(n){if(("*"===a||a===n.origin)&&n.source===g&&n.data.penpal===r){T("Child: Received handshake reply");m.removeEventListener(u,t);var s={localName:"Child",local:m,remote:g,remoteOrigin:n.origin};var l={};_(s,o,h);x(l,s,n.data.methodNames,c,h);clearTimeout(i);e(l)}};m.addEventListener(u,l);h.then(function(){m.removeEventListener(u,l);var e=new Error("Connection destroyed");e.code=d;t(e)});T("Child: Sending handshake");g.postMessage({penpal:n,methodNames:Object.keys(o)},a)});return{promise:y,destroy:c}};var I=v;t.default=I}}]);