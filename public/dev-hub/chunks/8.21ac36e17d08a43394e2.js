(window["qJsonp"]=window["qJsonp"]||[]).push([[8],{105:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={SYMBOLS:{FUNCTION:{LEFT:"(",RIGHT:")"},FIELD:{LEFT:"[",RIGHT:"]"},STRING:{LEFT:"'",RIGHT:"'"}},OPERATORS:{SINGLES:["=","+","-","*","/","<",">","&"],MULTIPLES:["<=",">=","<>",">>","<<"],WORDS:["precedes","follows","bitnot","bitand","bitor","bitxor","not","and","or","xor","like"]},COMMON_FUNCTIONS:["sum","count","avg","min","max"],FALLBACK_FUNCTION:"count",QUALIFIERS:["total","distinct","nodistinct"]};return t}.apply(e,i),void 0!==r&&(t.exports=r))},125:function(t,e){t.exports='<div class="pp-component pp-dropdown-component" ng-if="visible" tcl="dropdown">\n    <div class="label" ng-if="label" title="{{label}}" ng-class="{ \'disabled\': readOnly }">\n\t\t{{label}}\n\t</div>\n\n\t<div class="value">\n\t\t<div ng-if="!loading">\n\t\t\t<lui-select x-model="value" x-change="change()" x-disabled="readOnly"\n\t\t\t\t\t\tx-options="option.value as option.label for option in options" tid="{{key}}">\n\t\t\t</lui-select>\n\t\t\t<div style="display: none" class="tids">\n\t\t\t\t<i ng-repeat="option in options">{{option.value}}</i>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="pp-loading-container" ng-if="loading">\n\t\t\t<div class="pp-loader qv-loader"></div>\n\t\t</div>\n\t\t<div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n\t</div>\n</div>'},163:function(t,e,n){"use strict";var i,r;!(i=[n(708)],r=function(t){var e={create:n};return e;function n(){return new t}}.apply(e,i),void 0!==r&&(t.exports=r))},164:function(t,e,n){"use strict";var i,r;!(i=[n(709)],r=function(t){var e={create:n};return e;function n(){return new t}}.apply(e,i),void 0!==r&&(t.exports=r))},165:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(726),n(105),n(81),n(727)],r=function(t,e,n,i,r){var a={};var o={classify:s};return o;function s(n){if(!t.isString(n))throw new Error("Expression-classifier: Expression must be a string");var i=n;if(a[i])return a[i];var o={content:n,count:0,result:{},results:[]};if(""===n){a[i]=o;return o}"="===n.charAt(0)&&(n=n.substr(1));var s=r.stripComments(n);var d=e.tokenize(s);o.count=d.length;d.forEach(function(t,e){if(t.isOperator)o.results.push(t);else{var n=l(t.content);o.results.push(n)}0===e&&(o.result=n)});a[i]=o;return o}function l(t){var e={content:t,function:{content:"",isCommon:false},remainder:{content:"",isFunction:false,isCommonFunction:false,isCommaSeparated:false,isFieldlike:false,isString:false,isNumber:false,isQualifier:false,qualified:{qualifier:"",content:"",isFieldlike:false}}};var n=d(t);if(n.hasAggregation){e.function.content=u(t,n);e.function.isCommon=m(e.function.content);e.remainder.content=c(t,n);var i=d(e.remainder.content);e.remainder.isFunction=x(i);e.remainder.isCommonFunction=b(e.remainder.content,i);e.remainder.isQualifier=f(e.remainder.content);e.remainder.isCommaSeparated=h(e.remainder.content);if(e.remainder.isQualifier){var r=g(e.remainder.content),a=v(e.remainder.content,r),o=d(a);e.remainder.qualified={qualifier:r,content:a,isFieldlike:y(o)}}n=i}else e.remainder.content=e.content;e.remainder.isFieldlike=y(n);e.remainder.isString=D(e.remainder.content);e.remainder.isNumber=_(e.remainder.content);return e}function d(t){var e={};e.expression=t;e.hasPrefix="="===t.charAt(0);e.leftSymbolIndex=t.indexOf(n.SYMBOLS.FUNCTION.LEFT);e.hasAggregation=e.leftSymbolIndex>0;e.isRightSymbolLast=t.substring(t.length-1)===n.SYMBOLS.FUNCTION.RIGHT;e.isEncapsulated=e.hasAggregation&&e.isRightSymbolLast;e.hasOperator=p(t);return e}function u(t,e){var n=e.hasPrefix?1:0,i=e.hasPrefix?e.leftSymbolIndex+1:e.leftSymbolIndex;return t.substr(n,i).trim()}function c(t,e){var n=t.substr(e.leftSymbolIndex),i=n.substr(1,n.length-2);return i.trim()}function p(t){var e=n.OPERATORS,i=e.SINGLES,r=e.MULTIPLES,a=e.WORDS;var o=i.some(function(e){return t.indexOf(e)>-1});if(o)return true;var s=r.some(function(e){return t.indexOf(e)>-1});if(s)return true;var l=a.some(function(e){return t.indexOf(" "+e+" ")>-1});return l}function f(t){return n.QUALIFIERS.some(function(e){return 0===t.toLowerCase().indexOf(e)})}function g(t){var e=n.QUALIFIERS.filter(function(e){return 0===t.toLowerCase().indexOf(e)}).shift();return e}function v(t,e){return t.slice(e.length).trim()}function m(t){return n.COMMON_FUNCTIONS.some(function(e){return t.toLowerCase()===e})}function h(t){var e=i.getCharacterIndexes(t,",");return e.some(function(e){return!C(t,e)})}function x(t){return t.isEncapsulated&&!t.isBleedingOperator}function b(t,e){if(!e.isEncapsulated)return false;var n=t.substr(0,e.leftSymbolIndex);return m(n)}function y(t){var e=t.expression;if(D(t.expression))return false;var r=q(e,n.SYMBOLS.FIELD.LEFT),a=w(e,n.SYMBOLS.FIELD.RIGHT),o=i.getCharacterCount(e,n.SYMBOLS.FIELD.LEFT),s=i.getCharacterCount(e,n.SYMBOLS.FIELD.RIGHT);if(r&&a&&1===o&&1===s)return true;return E(t)}function D(t){var e=q(t,n.SYMBOLS.STRING.LEFT),r=w(t,n.SYMBOLS.STRING.RIGHT),a=n.SYMBOLS.STRING.LEFT===n.SYMBOLS.STRING.RIGHT,o=i.getCharacterCount(t,n.SYMBOLS.STRING.LEFT),s;if(a)s=2===o;else{var l=i.getCharacterCount(t,n.SYMBOLS.STRING.RIGHT);s=1===o&&1===l}return e&&r&&s}function _(t){return!isNaN(t)}function q(t,e){return t.charAt(0)===e}function w(t,e){return t.charAt(t.length-1)===e}function E(t){if(t.hasAggregation)return false;var e=t.expression,i=e.indexOf(" ")>-1;if(i)return false;var r=n.OPERATORS.SINGLES.concat(n.OPERATORS.MULTIPLES).some(function(t){return e.indexOf(t)>-1});return!r}function C(t,e){return Object.keys(n.SYMBOLS).some(function(r){var a=n.SYMBOLS[r];return i.getIsCharacterEncapsulated(t,e,a.LEFT,a.RIGHT)})}}.apply(e,i),void 0!==r&&(t.exports=r))},166:function(t,e,n){"use strict";var i,r;!(i=[n(53),n(47),n(728),n(247)],r=function(t,e,n,i){var r=t.extend("SortableItemList",{init:function t(e,n){this.items=[];this.disabled=false;this.typeFlag=e||1;this.locked=false;Object.keys(n||{}).forEach(function(t){this[t]=n[t]},this)},addSortableItem:function t(e,n){Object.defineProperty(e,"__sortableItem__",{configurable:false,enumerable:true,writable:true,value:{typeFlag:n||1}});this.items.push(e)},moveItem:function t(e,n){this.items.splice(n,0,this.items.splice(e,1)[0])},getIndexByItem:function t(e){return this.items.indexOf(e)},get:function t(e){return this.items.filter(e||function(){return true})},getLockedIndices:function t(){return this.get(function(t){return!!(t.__sortableItem__.typeFlag&i.TYPEFLAG_LOCKED)}).map(function(t){return this.getIndexByItem(t)},this)},reset:function t(){this.items.length=0;this.disabled=false},isEmpty:function t(){return 0===this.items.length},setLocked:function t(e){this.locked=e}});Object.defineProperties(r.prototype,{length:{get:function t(){return this.items.length}}});var a=n.extend("SortableItemLists",{init:function t(){this._super.apply(this,arguments);this.lists=[];this.dragPlaceholder=null},addPlaceholder:function t(n){var r=this.getList(n),a=r?r.items.indexOf(n):-1;this.dragPlaceholder=e.extend(true,{},n);this.dragPlaceholder.id="placeholder";this.dragPlaceholder.__sortableItem__.typeFlag=i.TYPEFLAG_PLACEHOLDER;this.dragPlaceholder.style={opacity:"0.3"};r&&r.items.splice(a,0,this.dragPlaceholder);return this.dragPlaceholder},removePlaceholder:function t(){if(!this.dragPlaceholder)return;var e=this.getList(this.dragPlaceholder),n=e?e.items.indexOf(this.dragPlaceholder):-1;if(-1!==n){e.items.splice(n,1);this.dragPlaceholder=null}},getPlaceholder:function t(){return this.dragPlaceholder},createList:function t(e,n){var i=new r(e,n);this.lists.push(i);return i},reset:function t(){this.lists.forEach(function(t){t.reset()})},getList:function t(e){return this.lists.filter(function(t){return-1!==t.items.indexOf(e)})[0]},disable:function t(e){this.lists.forEach(function(t){t.disabled=!(e.__sortableItem__.typeFlag&t.typeFlag)})},enable:function t(){this.lists.forEach(function(t){t.disabled=false})},getIndexOfItem:function t(e){var n=this.getList(e);var i=n?n.items.indexOf(e):-1;return i},moveItem:function t(e,n){var i=this.getList(e),r=this.getList(n),a,o;if(!i||!r)return;o=r.items.indexOf(n);a=i.items.indexOf(e);i.items.splice(a,1);r.items.splice(o,0,e)},onBegin:function t(e,n){this.addPlaceholder(e,n);this.disable(e)},onEnter:function t(e,n){var r=this.getList(e),a=r.getLockedIndices();if(e===this.dragPlaceholder)return;if(n===i.ENTER_BEFORE||n===i.ENTER_AFTER){var o=this.getList(this.dragPlaceholder),s,l;if(!o||!r)return;s=o.getIndexByItem(this.dragPlaceholder);o.items.splice(s,1);l=r.getIndexByItem(e);l+=n===i.ENTER_AFTER?1:0;r.items.splice(l,0,this.dragPlaceholder)}else this.moveItem(this.dragPlaceholder,e);var d=r.getLockedIndices();a.forEach(function(t,e){r.moveItem(d[e],t)})},onEnterList:function t(e){if(e.disabled||e.locked)return;var n=this.getList(this.dragPlaceholder);if(!n)return;var i=n.getIndexByItem(this.dragPlaceholder);n.items.splice(i,1);e.items.push(this.dragPlaceholder)},onMove:function t(e){if(-1===this.getIndexOfItem(e)){this.onCancel();return false}var n=this.dragPlaceholder;this.moveItem(e,n);this.removePlaceholder();this.enable();return true},onMoveToList:function t(e,n){var i=this.getList(e);if(i&&!(n.disabled||n.locked)){var r=i.items.indexOf(e);if(i===n){this.onMove(e,this.dragPlaceholder);return true}i.items.splice(r,1);n.items.push(e)}this.removePlaceholder();this.enable();return!!i},onCancel:function t(){this.removePlaceholder();this.enable()},allowEnter:function t(e,n){var i=this.getList(e);return void 0!==i&&!i.disabled&&!i.locked&&!!(n.__sortableItem__.typeFlag&i.typeFlag)},allowEnterList:function t(e,n){return!e.disabled&&!e.locked&&!!(n.__sortableItem__.typeFlag&e.typeFlag)}});a.create=function(t){var e=a.extend(t||{});t=new e(t&&t.options);return t};return a}.apply(e,i),void 0!==r&&(t.exports=r))},247:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={};Object.defineProperties(t,{ENTER_BEFORE:{value:0},ENTER_AFTER:{value:1},ENTER_SWAP:{value:2},TYPEFLAG_PLACEHOLDER:{value:16},TYPEFLAG_LOCKED:{value:32}});return t}.apply(e,i),void 0!==r&&(t.exports=r))},248:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(45),n(249),n(81),n(105)],r=function(t,e,n,i,r){var a={getAggregationForExpression:o,getAggregationForFieldItem:s};return a;function o(e,r,a){if(!e||!t.isString(e))throw new Error("Aggregation-retriever: Expression must be a string");if(!r)throw new Error("Aggregation-retriever: App is required");if(!a||!t.isFunction(a))throw new Error("Aggregation-retriever: FindFieldFn is required");var o=i.getNormalizedExpression(e);if(n.has(o))return l(o);var s=r.getFieldList().then(function(t){var e=a(o,t),n=e?d(e):u();return c(n)});return s}function s(t){if(!t)throw new Error("Aggregation-retriever: FieldItem is required");if(!t.value&&!t.name&&!t.qName)throw new Error("Aggregation-retriever: Either FieldItem.value, FieldItem.name or FieldItem.qName is required");var r=t.value||t.name||t.qName,a=i.getNormalizedExpression(r);if(n.has(a))return l(a);var o=d(t);return e.when(c(o))}function l(t){var i=n.get(t);return e.when(c(i))}function d(t){if(t.defaultAggregation)return t.defaultAggregation;var e=t.qTags||[];return e.indexOf("$numeric")>-1?"Sum":"Count"}function u(){return r.FALLBACK_FUNCTION}function c(t){return i.getFormattedAggregation(t)}}.apply(e,i),void 0!==r&&(t.exports=r))},249:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(81)],r=function(t,e){var n={},i="";var r={put:a,has:o,get:s};return r;function a(i,r){if(!i||!r||!t.isString(i)||!t.isString(r))return;var a=e.getNormalizedExpression(i),o=r;n[a]=o}function o(i){if(!i||!t.isString(i))return false;var r=e.getNormalizedExpression(i),a=n[r];return!!a}function s(r){if(!r||!t.isString(r))return i;var a=e.getNormalizedExpression(r),o=n[a];return o||i}}.apply(e,i),void 0!==r&&(t.exports=r))},250:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(81),n(105)],r=function(t,e,n){var i={addAggregation:r};return i;function r(i,r){if(!t.isString(i))throw new Error("Expression-assembler: Aggregation must be a string");if(!t.isString(r))throw new Error("Expression-assembler: Content must be a string");var a=n.SYMBOLS.FUNCTION.LEFT,o=n.SYMBOLS.FUNCTION.RIGHT;var s=e.getFormattedAggregation(i);var l=s+a+r+o;return l}}.apply(e,i),void 0!==r&&(t.exports=r))},251:function(t,e,n){"use strict";var i,r;!(i=[n(47),n(41),n(46),n(745)],r=function(t,e,n,i){var r=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function a(t,e,n){this.offsetX=t;this.offsetY=e;this.elem=n}a.prototype.update=function(t,e){var n={x:t.pageX+this.offsetX,y:t.pageY+this.offsetY},i=this.elem;e&&e.snapToGrid&&e.snapToGrid.snapFunc(t,e,n,i);if(r){i.style.left=n.x+"px";i.style.top=n.y+"px"}else i.style.transform=i.style.webkitTransform=i.style.mozTransform=i.style.msTransform="translate3d("+n.x+"px, "+n.y+"px, 0)"};a.prototype.end=function(){this.elem.parentNode.removeChild(this.elem)};function o(t,e,n,i,r){if(t[n]&&t[n][e.type])return t[n][e.type].call(null,i,r);if("function"===typeof t[n])return t[n].call(null,i,r)}function s(t,e,n,i){this.info=t;this.handle=e;this.targets=n;this.scrollComponents=i;this.rects=[];this.scrollRects=[];var r=this.docRect=document.body.getBoundingClientRect();var a=this.canvas=document.createElement("canvas");a.style.position="absolute";a.style.left=(window.pageXOffset||0)+"px";a.style.top=(window.pageYOffset||0)+"px";a.style.zIndex=999;a.width=r.width;a.height=r.height;a.classList.add("drag-and-drop-canvas");document.body.appendChild(a);this.context=a.getContext("2d")}function l(t,e,n,i){if(t.setLineDash){t.setLineDash(i);t.moveTo(u(e.x),u(e.y));t.lineTo(u(n.x),u(n.y));t.stroke()}else{i=i||[2,4];var r=i.length,a=n.x-e.x,o=n.y-e.y,s=Math.sqrt(a*a+o*o),l=s,d=0,c=true,p,f=e.x,g=e.y;a/=s;o/=s;t.moveTo(u(f),u(g));for(d=0;l>=.1&&d<5e3;++d){p=i[d%r];0===p&&(p=.001);p>l&&(p=l);f+=p*a;g+=p*o;t[c?"lineTo":"moveTo"](u(f),u(g));l-=p;c=!c}}}function d(t,e,n){return t.left<=e&&e<=t.right&&t.top<=n&&n<=t.bottom}function u(t){return Math.round(t)}function c(t,e,n,i){n=n||[5];if(t.setLineDash&&!i){t.setLineDash(n);t.strokeRect(u(e.left),u(e.top),u(e.right-e.left),u(e.bottom-e.top))}else{var r=t.lineWidth/2;t.beginPath();var a={x:e.left+r,y:e.top+r},o={x:e.right-r,y:e.top+r},s={x:e.right-r,y:e.bottom-r},d={x:e.left+r,y:e.bottom-r};i.top||l(t,a,o,n);i.right||l(t,o,s,n);i.bottom||l(t,s,d,n);i.left||l(t,d,a,n);t.stroke()}}function p(t,e,n,i,r){var a=t.lineWidth+4;t.beginPath();t.rect(e.left+a,e.top+a,e.right-e.left-2*a,e.bottom-e.top-2*a);t.fillStyle=n?i||r?"rgba(242,242,242,1)":"rgba(242,242,242,0.9)":"rgba(0,0,0,0.05)";t.fill()}function f(t,e,i,r,a){var o=e.right-e.left,s=e.bottom-e.top,l=e.left+o/2,d=e.top+s/2;if(o>40&&s>40){var u="gridcell"!==i&&(r||a)?"DropZone.CreateChart":"DropZone.DropItem",c=n.get(u),p="bold 13px QlikView Sans";t.fillStyle="#404040";t.textAlign="center";t.font="18px LUI icons";if(g(c,p,o)&&s>60){t.fillText("∑",l,d-6);t.font=p;t.fillText(c,l,d+18);return}t.fillText("∑",l,d+6)}}function g(t,e,n){var r=i.measureTextObject({type:"text",shape:{text:t,font:e,maxWidth:n-12,align:"center",maxNumLines:1}});return!r.truncated}function v(e,n,i){i.rects=[];for(var r=0;r<e.length;++r)o(e[r],n,"start",i);i.rects.sort(function(e,n){return t.compare(n.prio,e.prio)})}s.prototype.start=function(){var t=this.targets;var n=this.info;v(t,n,this);var i=this.scrollComponents;for(var r=0;r<i.length;++r)o(i[r],n,"start",this);e.$rootScope.$apply()};s.prototype.update=function(e){e.preventDefault();var n=e.pageX;var i=e.pageY;this.handle.update(e,this.info);var r;var a;var s=this.scrollRects;var l;for(var u=0;u<s.length;++u){r=s[u].targetRect;a=d(r,n,i);if(a){l=s[u];break}}this.scroller&&o(this.scroller,this.info,"leave",l,e);var g=!!l&&o(l,this.info,"enter",l,e);if(g){this.activeRect&&o(this.activeRect,this.info,"leave",this.info);this.context.clearRect(0,0,this.docRect.width,this.docRect.height);this.activeRect=null;this.scroller=l;return}if(this.scroller){v(this.targets,this.info,this);this.scroller=false}var m=this.rects;var h=null;for(u=0;u<m.length;++u){var x=m[u].targetRect;r=t.isFunction(x)?x():x;a=d(r,n,i);if(a){h=m[u];break}}if(h!==this.activeRect){this.activeRect&&o(this.activeRect,this.info,"leave",this.info);var b=this.context;var y=this.docRect;b.clearRect(0,0,y.width,y.height);if(h){b.strokeStyle="#F7A24D";b.lineWidth=2;var D=h.drawRect;if(D){var _=void 0!==h.isEmpty,q=1===h.prio;c(b,D,[5],h.ignoreLines);p(b,D,_,h.isEmpty,q);_&&f(b,D,this.info.type,h.isEmpty,q)}o(h,this.info,"enter",this.info)}}this.activeRect=h};s.prototype.registerDropRect=function(t){t.prio=t.prio||0;this.rects.push(t)};s.prototype.registerScrollRect=function(t){this.scrollRects.push(t)};s.prototype._end=function(){for(var t=0;t<this.targets.length;++t)o(this.targets[t],this.info,"end",this);document.body.removeChild(this.canvas);this.handle.end();this.ended=true;e.$apply(e.$rootScope)};s.prototype.end=function(t){this.activeRect&&o(this.activeRect,this.info,"drop",this.info,t);this._end()};s.prototype.cancel=function(){this._end()};var m=[];var h=[];var x;return{registerScrollComponent:function t(e){var n=h.indexOf(e);-1===n&&h.push(e)},unregisterScrollComponent:function t(e){var n=h.indexOf(e);-1!==n&&h.splice(n,1)},registerDropTarget:function t(e){var n=m.indexOf(e);-1===n&&m.push(e)},unregisterDropTarget:function t(e){var n=m.indexOf(e);-1!==n&&m.splice(n,1)},startDrag:function t(e,n){if(x&&!x.ended)return false;e.style.position="absolute";e.style.left="0";e.style.top="0";e.style.zIndex=9999;document.body.appendChild(e);var i=e.getBoundingClientRect();var r=new a(-i.width/2,-i.height/2,e);var l=m.filter(function(t){return o(t,n,"accept",n)});var d=h.filter(function(){return true});x=new s(n,r,l,d);try{x.start();return x}catch(t){x.cancel();return false}}}}.apply(e,i),void 0!==r&&(t.exports=r))},252:function(t,e,n){"use strict";var i,r;!(i=[n(794),n(47)],r=function(t,e){var n=[{value:"ascending",translation:"properties.sorting.ascending"},{value:"descending",translation:"properties.sorting.descending"}];function i(t,i,r){return{type:"items",items:{toggled:{type:"boolean",ref:t,translation:i,convertFunctions:r.toggled},order:{type:"string",component:"dropdown",ref:t,options:n,convertFunctions:r.sorting,show:function n(i){return 0!==e.getValue(i,t,0)}}}}}function r(e,n){e=e||"qSortByState";var r={toggled:t.booleanConvertFunctions(n),sorting:t.invertedEnumConvertFunctions(n)};return i(e,"properties.sorting.sortByState",r)}function a(e,n){e=e||"qSortByFrequency";var r={toggled:t.booleanConvertFunctions(n),sorting:t.invertedEnumConvertFunctions(n)};return i(e,"properties.sorting.sortByFrequency",r)}function o(e,n){e=e||"qSortByAscii";var r={toggled:t.booleanConvertFunctions(n),sorting:t.enumConvertFunctions(n)};return i(e,"properties.sorting.sortByAlphabetic",r)}function s(e,n){e=e||"qSortByNumeric";var r={toggled:t.booleanConvertFunctions(n,-1),sorting:t.enumConvertFunctions(n)};return i(e,"properties.sorting.sortByNumeric",r)}function l(n,r){n=n||"qSortByExpression";var a={toggled:t.booleanConvertFunctions(r),sorting:t.enumConvertFunctions(r)};var o=i(n,"properties.sorting.sortByExpression",a);o.items.expression={type:"number",component:"expression",expressionType:"ValueExpr",ref:"qExpression",translation:"Common.Expression",defaultValue:"",show:function t(i){return 0!==e.getValue(i,n,0)}};return o}return{state:r,ascii:o,numeric:s,expression:l,frequency:a}}.apply(e,i),void 0!==r&&(t.exports=r))},253:function(t,e,n){"use strict";var i,r;!(i=[n(53),n(47),n(804)],r=function(t,e,n){var i,r={3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",24:"Y","-3":"m","-6":"μ","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},a=/%$/,o=/^\(r(0[2-9]|[12]\d|3[0-6])\)/i,s=/^\(oct\)/i,l=/^\(dec\)/i,d=/^\(hex\)/i,u=/^\(bin\)/i,c=/^\(rom\)/i,p=/^(\(rom\)|\(bin\)|\(hex\)|\(dec\)|\(oct\)|\(r(0[2-9]|[12]\d|3[0-6])\))/i;function f(t,e,n,i){t=t.toString(e);n[1]===n[1].toUpperCase()&&(t=t.toUpperCase());t.length-t.indexOf(".")>10&&(t=t.slice(0,t.indexOf(".")+11));return t.replace(".",i||".")}function g(t,e,n){var i;if(o.test(e))t=f(t,Number(/\d{2}/.exec(e)[0]),e,n);else if(s.test(e))t=f(t,8,e,n);else if(l.test(e))t=f(t,10,e,n);else if(d.test(e))t=f(t,16,e,n);else if(u.test(e))t=f(t,2,e,n);else if(c.test(e)){i="";if(t<0){i="-";t=-t}t=Math.floor(t);if(0===t)t="0";else if(t<=5e5){t=v(t,e);t=i+t}else t=e+i+t.toExponential(0)}return t}function v(t,e){var n,i="",r=Number(String(t).slice(-3)),a=(t-r)/1e3,o=[0,1,4,5,9,10,40,50,90,100,400,500,900].reverse(),s=["0","I","IV","V","IX","X","XL","L","XC","C","CD","D","CM"].reverse();while(r>0)for(n=0;n<o.length;n++)if(o[n]<=r){i+=s[n];r-=o[n];break}for(n=0;n<a;n++)i="M"+i;e[1]!==e[1].toUpperCase()&&(i=i.toLowerCase());return i}function m(t){if(!t||!t.qNumericalAbbreviation)return r;var e={};var n=t.qNumericalAbbreviation.split(";");n.forEach(function(t){var n=t.split(":");2===n.length&&(e[n[0]]=n[1])});return e}i=t.extend("NumberFormatter",{init:function t(e,n,i,r,a){this.localeInfo=e;this.pattern=n;this.thousandDelimiter=i||",";this.decimalDelimiter=r||".";this.type=a||"numeric";this.abbreviations=m(e);this.prepare()},clone:function t(){var e=new i(this.localeInfo,this.pattern,this.thousandDelimiter,this.decimalDelimiter,this.type);e.subtype=this.subtype;return e},format:function t(e,n,i,r){this.prepare(n,i,r);return this.formatValue(e)},prepare:function t(e,n,i){var r,a;"undefined"===typeof e&&(e=this.pattern);"undefined"===typeof n&&(n=this.thousandDelimiter);"undefined"===typeof i&&(i=this.decimalDelimiter);if(!e){this._prepared={pattern:false};return}this._prepared={positive:{d:i,t:n,abbreviate:false,isFunctional:false,prefix:"",postfix:""},negative:{d:i,t:n,abbreviate:false,isFunctional:false,prefix:"",postfix:""}};r=this._prepared;e=e.split(";");r.positive.pattern=e[0];r.negative.pattern=e[1];p.test(e[0])&&(r.positive.isFunctional=true);e[1]?p.test(e[1])&&(r.negative.isFunctional=true):r.negative=false;a=r.positive.isFunctional&&(!r.negative||r.negative&&r.negative.isFunctional);if(!a){h(r.positive,n,i);r.negative&&h(r.negative,n,i)}},formatValue:function t(e){var i=this._prepared,r,a,o="",s,l,d="",u,c,p,f,v;if(isNaN(e))return e;if(false===i.pattern)return e.toString();if(e<0&&i.negative){i=i.negative;e=-e}else i=i.positive;u=i.d;c=i.t;if(i.isFunctional)e=g(e,i.pattern,u);else{i.percentage&&(e*=100);if(i.abbreviate){var m=this.abbreviations;var h=Object.keys(m).map(function(t){return parseInt(t)}).sort(function(t,e){return t>e?1:-1});var x;var b=h[0];p=0;a=Number(Number(e).toExponential().split("e")[1]);while(b<=a&&p<h.length){p++;b=h[p]}p>0&&(x=h[p-1]);var y;x&&a>0&&x>0?y=x:(a<0&&x<0||!x)&&(b<0&&b-a<=i.maxPrecision?y=b:x<=a&&!(b>0&&-a<=i.maxPrecision)&&(y=x));if(y){o=m[y];e/=Math.pow(10,y)}}s=Math.abs(e);r=i.temp;f=i.numericPattern;v=f.split(u)[1];"I"===this.type&&(e=Math.round(e));l=e;if(v||"#"!==f.slice(-1)[0])if(s>=1e15||s>0&&s<=1e-14)e=s?s.toExponential(15).replace(/\.?0+(?=e)/,""):"0";else{var D=Number(e.toFixed(Math.min(20,v?v.length:0)).split(".")[0]);var _=f.split(u)[0];_+=u;e=n(_,D)||"0";if(v){var q=Math.max(0,Math.min(14,v.length));var w=v.replace(/#+$/,"").length;var E=Number((s%1).toPrecision(q)).toFixed(q);E=E.slice(2).replace(/0+$/,"");for(p=E.length;p<w;p++)E+="0";E&&(e+=u+E)}else 0===D&&(l=0)}else if(s>=Math.pow(10,r)||s<1||s<1e-4)if(0===e)e="0";else if(s<1e-4||s>=1e20){e=l.toExponential(Math.max(1,Math.min(14,r))-1);e=e.replace(/\.?0+(?=e)/,"");d=""}else{e=e.toPrecision(Math.max(1,Math.min(14,r)));if(e.indexOf(".")>=0){e=e.replace(e.indexOf("e")<0?/0+$/:/\.?0+(?=e)/,"");e=e.replace(".",u)}}else{f+=u;r=Math.max(0,Math.min(20,r-Math.ceil(Math.log(s)/Math.log(10))));for(p=0;p<r;p++)f+="#";e=n(f,e)}e=e.replace(i.numericRegex,function(t){if(t===c)return i.groupTemp;if(t===u)return i.decTemp;return""});l<0&&!/^\-/.test(e)&&(e="-"+e)}return i.prefix+e+d+o+i.postfix}});function h(t,e,n){var i,r,o=t.pattern,s,l,d,u,c,p,f;if(o.indexOf("A")>=0){o=o.replace("A","");t.abbreviate=true}f=b(e,n);s=o.match(f);s=s?s[0]:"";l=s?o.substr(0,o.indexOf(s)):o;d=s?o.substring(o.indexOf(s)+s.length):"";s||(s=o?"#":"##########");if(e&&e===n){i=s.split(n);r=i.pop();s=i.join("")+n+r;e=""}u=e;e=/,/.test(n)?"¤":",";u&&(s=s.replace(x(u,"g"),e));c=n;n=".";c&&(s=s.replace(x(c,"g"),n));p=s.match(/#/g);p=p?p.length:0;var g=o.split(c);var v;g[1]&&(v=g[1].match(/#|0/g));t.prefix=l||"";t.postfix=d||"";t.pattern=o;t.maxPrecision=v?v.length:2;t.percentage=a.test(o);t.numericPattern=s||"";t.numericRegex=new RegExp(x(e,null,true)+"|"+x(n,null,true),"g");t.groupTemp=u;t.decTemp=c;t.t=e;t.d=n;t.temp=p}function x(t,n,i){var r=e.escapeRegExp(t);if(i)return r;return new RegExp(r||"",n)}function b(t,n){n&&(n=e.escapeRegExp(n));t&&(t=e.escapeRegExp(t));return new RegExp("(?:[#0]+"+t+")?[#0]+(?:"+n+"[#0]+)?")}window.NumberFormatter=i;i.getStaticFormatter=function(){return{prepare:function t(){},formatValue:function t(e){return e+""}}};return i}.apply(e,i),void 0!==r&&(t.exports=r))},254:function(t,e,n){"use strict";var i,r;!(i=[n(53)],r=function(t){var e,n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function o(t,e){for(var n=t.length;n<e;n++)t="0"+t;return t}function s(t,e){var n=t.getHours(),i=t.getDay()-1;if(e){n%=12;n||(n=12)}i<0&&(i=6);return{year:t.getFullYear(),month:t.getMonth(),day:i,date:t.getDate(),h:n,m:t.getMinutes(),s:t.getSeconds(),f:t.getMilliseconds(),t:t.getHours()>=12?"pm":"am"}}function l(t){var e=t.toString().split(".");if(!e[1])return 0;e=Number("0."+e[1]);return e}function d(t){var e=t,n=24*l(e),i=60*l(n),r=60*l(i),a=1e3*l(r);return{d:Math.floor(e),h:Math.floor(n),m:Math.floor(i),s:Math.floor(r),f:Math.round(a)}}function u(t,e){var n=d(t),i=n.d,r=n.h,a=n.m,o=n.s,s=n.f,l=0,u;if(/w+|t+/gi.test(e)){u=new Date(1899,11,30+Math.floor(t),0,0,86400*(t-Math.floor(t)));isNaN(u.getTime())&&(u=null)}/D+/gi.test(e)||(r+=24*i);/h+/gi.test(e)||(a+=60*r);/m+/gi.test(e)||(o+=60*a);if(/w+/gi.test(e)){l=u?u.getDay()-1:0;l<0&&(l=6)}return{year:0,month:0,day:l,date:i,h:r,m:a,s:o,f:s,t:u?u.getHours()>=12?"pm":"am":""}}function c(t,e){return{"Y+|y+":{Y:Number((e.year+"").slice(-2))+"",YY:o((e.year+"").slice(-2),2),YYY:o((e.year+"").slice(-3),3),def:function t(n){return o(e.year+"",n.length)}},"M+":{M:e.month+1,MM:o(e.month+1+"",2),MMM:t.locale_months_abbr[e.month],def:t.locale_months[e.month]},"W+|w+":{W:e.day,WW:o(e.day+"",2),WWW:t.locale_days_abbr[e.day],def:t.locale_days[e.day]},"D+|d+":{D:e.date,def:function t(n){return o(e.date+"",n.length)}},"h+|H+":{h:e.h,def:function t(n){return o(e.h+"",n.length)}},"m+":{m:e.m,def:function t(n){return o(e.m+"",n.length)}},"s+|S+":{s:e.s,def:function t(n){return o(e.s+"",n.length)}},"f+|F+":{def:function t(n){var i=e.f+"",r=n.length-i.length;if(r>0)for(var a=0;a<r;a++)i+="0";else r<0&&(i=i.slice(0,n.length));return i}},"t{1,2}|T{1,2}":{def:function t(n){var i=e.t;n[0].toUpperCase()===n[0]&&(i=i.toUpperCase());i=i.slice(0,n.length);return i}}}}e=t.extend({init:function t(e,o){var s=e||{};s.qCalendarStrings||(s.qCalendarStrings={qLongDayNames:n,qDayNames:i,qLongMonthNames:r,qMonthNames:a});this.localeInfo=s;this.locale_days=s.qCalendarStrings.qLongDayNames.slice();this.locale_days_abbr=s.qCalendarStrings.qDayNames.slice();this.locale_months=s.qCalendarStrings.qLongMonthNames.slice();this.locale_months_abbr=s.qCalendarStrings.qMonthNames.slice();this.pattern=o},clone:function t(){var n=new e(this.localeInfo,this.pattern);n.subtype=this.subtype;return n},format:function t(e,n){n||(n=this.pattern?this.pattern:"YYYY-MM-DD hh:mm:ss");n=n.replace(/\[.+\]|\[|\]/g,"");var i=/t+/gi.test(n);var r;if(e instanceof Date)r=s(e,i);else{if(e<0){e=-e;n="-"+n}r=u(e,n)}var a=c(this,r);var o=[];for(var l in a)o.push(l);var d=new RegExp(o.join("|"),"g");var p=n.replace(d,function(t){var e;for(var n in a){e=new RegExp(n);if(e.test(t))break}if(!e)return"";var i;for(var r in a[n])if(r===t||r.toLowerCase()===t){i=a[n][r];"undefined"===typeof i&&(i=a[n][r.toLowerCase()]);break}"undefined"===typeof i&&(i=a[n].def);"function"===typeof i&&(i=i(t));return i});return p}});e.parseInterval=d;return e}.apply(e,i),void 0!==r&&(t.exports=r))},700:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(701)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineCustom(e,e.args.handler,"action");Object.defineProperty(e,"disabled",{get:e.definition.disabled})}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},701:function(t,e){t.exports='<div class="pp-component pp-button-component" tcl="button">\n\t<button class="lui-button" qva-activate="action();" ng-disabled="disabled">{{label}}</button>\n</div>\n'},702:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(51),n(703)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=n.definition.items||{};var r=function t(){return n.data};n.items=Object.keys(i).filter(function(t){var e=i[t];if("boolean"===typeof e.show)return e.show;return true}).map(function(a){var o=i[a];var s={component:t.findComponent(o),definition:o,key:a,path:a};e.defineLabel(s,o,r,n.args.handler);return s})}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},703:function(t,e){t.exports='<div pp-accordion="items" x-args="args" x-definition="definition" tabindex=\'-1\' class="pp-accordion-container" tcl="accordion">\n\t<div class="pp-section" ng-repeat="item in items" pp-accordion-item tid="{{item.key}}">\n\t\t<h4 class="pp-section-header" ng-class="{ \'last\': $last }">{{item.label}}</h4>\n\t\t<div class="pp-section-content" include-pp-component x-component="item.component" x-definition="item.definition"\n\t\t\t x-data="data" x-args="args" x-path="{{item.path}}">\n\t\t</div>\n\t</div>\n</div>'},704:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(705)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};e.definition.inverted&&(e.definition.convertFunctions={get:function t(e){return!e("boolean")},set:function t(e,n){n("boolean",!e)}});t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);t.defineReadOnly(e,e.args.handler);t.defineChange(e,e.args.handler);t.defineValue(e,e.definition,n)}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},705:function(t,e){t.exports='<div class="pp-component pp-checkbox-component" ng-if="visible" tcl="checkbox">\n\t<div class="value">\n\t\t<label class="lui-checkbox">\n\t\t\t<input class="lui-checkbox__input" type="checkbox" ng-model="value" tid="value" ng-change="change()" ng-disabled="readOnly" />\n\t\t\t<div class="lui-checkbox__check-wrap">\n\t\t\t\t<span class="lui-checkbox__check"></span>\n\t\t\t\t<span class="lui-checkbox__check-text label" ng-disabled="readOnly" ng-if="label" title="{{label}}">{{label}}</span>\n\t\t\t</div>\n\t\t</label>\n\t</div>\n</div>\n'},706:function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(59),n(50),n(148),n(58),n(707),n(163),n(164)],r=function(t,e,n,i,r,a,o,s,l){var d={template:o,controller:["$scope","$element","$timeout","luiPopover",function(o,d,u,c){var p=o.args.cache,f="dimensions_",g=s.create(),v=l.create();o.listItemComponent=n.getComponent("items");o.listItemDefinition={items:o.definition.items||{},grouped:o.definition.grouped};function m(){var t=o.definition;g.resetTitles();v.resetTitles();var e=i.getValue(o.data,o.definition.ref,[]);var r=e.map(function(e,i){var r=e.qDef.cId;return{title:function t(){var n=o.args.handler.getDimensionLayout(r);return g.getDimensionTitle(n,e,true)},component:n.getComponent("items"),definition:t,data:e,id:r,index:i,expanded:p.get(f+r)||false,disabled:false}});var a=i.getValue(o.data,o.definition.disabledRef,[]);var s=a.map(function(i,r){var a=i.qDef.cId,s;v.getDimensionTitle(i,o.args.app,true).then(function(t){s=t});return{title:function t(){return s},component:n.getComponent("items"),definition:t,data:i,id:a,index:e.length+r,expanded:p.get(f+a)||false,disabled:true}});o.items=r.concat(s)}o.$watchCollection("data."+o.definition.ref,function(){m()});o.$watchCollection("data."+o.definition.disabledRef,function(){m()});o.isInvalid=function(t){var e=o.args.handler.getDimensionLayouts()[t];return e&&!!e.qError};o.itemClicked=function(e,n){if(t(e.target).hasClass("pp-delete-property")){n.index=n.disabled?n.index-o.args.handler.hcProperties.qDimensions.length:n.index;o.args.handler.removeDimension(n.index,n.disabled).then(function(){o.$emit("saveProperties")})}else{var i=p.get(f+n.data.qDef.cId)||false;if(!n.disabled){n.expanded=!i;p.put(f+n.data.qDef.cId,!i)}}};o.addDisabled=function(){return o.args.handler.getDimensions().length>=o.args.handler.maxDimensions()};var h=null;o.addClicked=function(e){var n;if(o.adding){x();return}if(!o.addDisabled()&&!o.adding){h=c.show({template:r.template,controller:r.controller,alignTo:e.currentTarget,input:{app:o.args.app,closeAddPopover:x,addFieldDimension:y,addLibraryDimension:D},dock:"bottom",closeOnEscape:true});o.adding=true}h.closing.then(function(e){e&&!t(e.target).hasClass("pp-toplist-add-button")&&(o.adding=false);n=e});h.closed.then(function(){n||(o.adding=false);h=null})};function x(n){if(h){h.close();h=null}n&&t(n.target).hasClass("pp-toplist-add-button")&&e.preventGestures();o.adding=false}function b(){u(function(){var t=d.find(".pp-toplist-content");var e=t.children().last();t[0].scrollTop=e[0].offsetTop-1},100)}function y(t){o.args.handler.addFieldDimension(t.value,"").then(function(t){p.put(f+t.qDef.cId,true);o.$emit("saveProperties");x();b()})}function D(t){o.args.handler.addLibraryDimension(t.libraryId).then(function(t){p.put(f+t.qDef.cId,true);o.$emit("saveProperties");x();b()})}o.sortableOptions={disabled:!o.definition.allowMove,onMove:function t(e,n){o.args.handler.moveDimension(e,n).then(function(){o.$emit("saveProperties")})}};a.on("start",x);o.$on("$destroy",function(){a.off("start",x)})}]};return d}.apply(e,i),void 0!==r&&(t.exports=r))},707:function(t,e){t.exports='<div class="pp-component pp-list-component pp-toplist" tcl="dimensions">\n\t<button class="lui-button  lui-button--block  pp-toplist-add-button" ng-class="{\'lui-active\': adding }" qva-activate="addClicked($event)" qv-enter="addClicked($event)"\n\t\t\tng-disabled="addDisabled() || !definition.allowAdd" q-translation="{{definition.addTranslation}}" tid="add-dimension"></button>\n\n\t<ul class="pp-expandable-list pp-toplist-content pp-dimension-list" pp-sortable="sortableOptions">\n\t\t<li ng-repeat="item in items track by item.id" ng-class="{ \'locked\': item.locked || !definition.allowMove }">\n\t\t\t<div class="pp-expandable-list-header pp-dimension" qva-activate="itemClicked( $event, item )" qva-longtapdrag="enableTouchDrag()"\n\t\t\t\t ng-class="{ \'expanded\': item.expanded, \'disabled\': item.disabled, \'invalid\': isInvalid( $index ) }" pp-sortable-handle>\n\t\t\t\t<span class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></span>\n\t\t\t\t<span class="text" title="{{item.title()}}">{{item.title()}}</span>\n\t\t\t\t<span class="icon icon-trash pp-delete-property" ng-if="definition.allowRemove" q-title-translation="Common.Delete"></span>\n\t\t\t</div>\n\t\t\t<div class="pp-expandable-list-content" ng-if="item.expanded && !item.disabled">\n\t\t\t\t<div include-pp-component x-component="listItemComponent" x-definition="listItemDefinition" x-data="item.data" x-args="args"></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>\n'},708:function(t,e,n){"use strict";var i,r;!(i=[n(150)],r=function(t){function e(){this.titleRetriever=t.create();this.cache={}}e.prototype.getDimensionTitle=n;e.prototype.getMeasureTitle=i;e.prototype.getCachedMeasureTitle=r;e.prototype.resetTitles=a;return e;function n(t,e,n){return this.titleRetriever.getDimensionTitle(t,e,n)}function i(t,e,n,i){var r=this;return this.titleRetriever.getMeasureTitle(t,e,n,i).then(function(e){t&&s(r.cache,t.cId,e);return e})}function r(t){return t?o(this.cache,t.cId):""}function a(){this.titleRetriever.resetTitles()}function o(t,e){return t[e]||""}function s(t,e,n){t[e]=n}}.apply(e,i),void 0!==r&&(t.exports=r))},709:function(t,e,n){"use strict";var i,r;!(i=[n(45),n(46),n(73)],r=function(t,e,n){function i(){this.titles={}}i.prototype.getDimensionTitle=r;i.prototype.getMeasureTitle=a;i.prototype.resetTitles=o;return i;function r(t,e,n){p(this);return s.call(this,t,e,n,true)}function a(t,e,n){p(this);return s.call(this,t,e,n,false)}function o(){this.titles={}}function s(t,e,n,i){var r=l(t,this.titles);if(r)return r.promise;r=d(t,this.titles);r.promise=u(t,e,n,i);return r.promise}function l(t,e){var n=c(t);return e[n]}function d(t,e){var n=c(t);var i={id:n,promise:null};e[n]=i;return i}function u(i,r,a,o){var s="H"===i.qDef.qGrouping,l=!!i.qLibraryId;if(s)return t.when(i.qData.title);if(l){var d=o?r.getDimensionList:r.getMeasureList;return d.call(r).then(function(t){var r=o?n.findLibraryDimension:n.findLibraryMeasure;var s=r(i.qLibraryId,t),l=s&&s.qData.labelExpression;return s?!a&&l?l:s.qData.title:e.get(o?"Object.ErrorMessage.MissingDimension":"Object.ErrorMessage.MissingMeasure")})}var u=i.qDef.qLabelExpression,c=!!u;if(c)return a?t.when(u):r.evaluate(u);var p;if(o){var f=i.qDef.qFieldLabels[0];p=!f?i.qDef.qFieldDefs[0]:f}else p=i.qDef.qLabel||i.qDef.qDef;return t.when(p)}function c(t){return t.qDef.cId}function p(t){if(!t)throw new Error("AlternativeTitleRetriever: Called without a context")}}.apply(e,i),void 0!==r&&(t.exports=r))},710:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(46),n(125)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineValue(n,n.definition,i);n.options=[];function r(){var t=n.value;var i=n.options.some(function(e){return e.value===t});i||n.options.splice(0,0,{value:t,label:e.get("properties.selectValue")})}function a(i){n.loading=true;n.errorMessage="";t.fillOptions(n.definition,i||n.data,n.args.handler,n.options,n.args).then(function(){r();n.errorMessage="";n.loading=false},function(){r();n.errorMessage=e.get("Properties.PromiseFailed");n.loading=false})}r();a();n.$on("datachanged",function(t,e){a(e)})}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},711:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(46),n(125)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineReadOnly(n,n.args.handler);n.options=[];Object.defineProperty(n,"value",{get:function t(){return n.data.qDef.isCustomFormatted?"OFF":n.data.qDef.qNumFormat?n.data.qDef.qNumFormat.qType:"U"},set:function t(e){if("OFF"===e){n.data.qDef.isCustomFormatted=true;n.data.qDef.qNumFormat.qType="U"}else{n.data.qDef.qNumFormat.qType=e;n.data.qDef.isCustomFormatted=false}}});function r(){var t=n.value;var i=n.options.some(function(e){return e.value===t});i||n.options.splice(0,0,{value:t,label:e.get("properties.selectValue")})}function a(i){n.loading=true;n.errorMessage="";t.fillOptions(n.definition,i||n.data,n.args.handler,n.options,n.args).then(function(){r();n.errorMessage="";n.loading=false},function(){r();n.errorMessage=e.get("Properties.PromiseFailed");n.loading=false})}r();a();n.$on("datachanged",function(t,e){a(e)})}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},712:function(t,e,n){"use strict";var i,r;function a(t){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return a(t)}!(i=[n(51),n(50),n(69),n(713)],r=function(t,e,n,i){var r={template:i,controller:["$scope",function(i){var r=function t(){return i.data};i.definition.maxlength?i.maxlength=i.definition.maxlength:i.maxlength=n.expression;t.defineLabel(i,i.definition,r,i.args.handler);t.defineVisible(i,i.args.handler);t.defineReadOnly(i,i.args.handler);t.defineChange(i,i.args.handler);t.defineValue(i,i.definition,r);t.definePlaceholder(i,i.definition);Object.defineProperty(i,"displayValue",{get:function t(){var e=i.definition.expressionType;var n=i.value;switch(e){case"StringExpr":case"ValueExpr":n&&"object"===a(n)&&(n=n.qv);break;case"StringExpression":n&&"object"===a(n)&&(n=n.qStringExpression.qExpr);break;case"ValueExpression":n&&"object"===a(n)&&(n=n.qValueExpression.qExpr);break}return n},set:function t(e){var n=i.definition.expressionType;var r;switch(n){case"StringExpr":case"ValueExpr":r={qv:e};break;case"StringExpression":r={qStringExpression:{qExpr:e}};break;case"ValueExpression":r={qValueExpression:{qExpr:e}};break;default:r=e}i.value=r}});i.isExpression=function(){var t=i.definition.expressionType;var n=e.getValue(i.data,i.definition.ref);if("StringExpr"===t)return n.qv&&"="===n.qv[0];if("dimension"===t)return 0===n.indexOf("=");return true};i.isLocked=function(){var t=i.value;var e=i.definition.expressionType;switch(e){case"StringExpr":case"ValueExpr":t&&"object"===a(t)&&(t=t.qv);break;case"StringExpression":t&&"object"===a(t)&&(t=t.qStringExpression.qExpr);break;case"ValueExpression":t&&"object"===a(t)&&(t=t.qValueExpression.qExpr);break}return t&&(-1!==t.indexOf("\n")||t.length>i.maxlength)}}]};return r}.apply(e,i),void 0!==r&&(t.exports=r))},713:function(t,e){t.exports='<div class="pp-component pp-string-component" ng-if="visible" tcl="string">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div class="lui-input-group">\n\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" maxlength="{{maxlength}}" spellcheck="{{!isExpression()}}"\n\t\t\t\tng-class="{\'lui-invalid\': invalid, \'is-expression\': isLocked() }"\n\t\t\t\tpp-placeholder="placeholder"\n\t\t\t\tng-model="displayValue" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup\n\t\t\t\tpp-input-validator ng-readonly="isLocked()" ng-disabled="readOnly" ng-change="change()"\n\t\t\t\tpp-expression-editor="value" editor-disabled="!isLocked()" expression-type="{{definition.expressionType}}" tid="{{key}}" />\n\n\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" ng-show="!readOnly"\n\t\t\t\t\tpp-expression-editor="value" expression-type="{{definition.expressionType}}"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression" ng-class="{\'active\': isExpression()}"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n</div>\n'},714:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(46),n(715)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};n.options=[];n.select=function(t){n.value=t;"function"===typeof n.definition.change&&n.definition.change(n.data,n.args.handler);n.$emit("saveProperties")};t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineValue(n,n.definition,i);function r(i){n.loading=true;n.errorMessage="";t.fillOptions(n.definition,i||n.data,n.args.handler,n.options,n.args).then(function(){n.errorMessage="";n.loading=false},function(){n.errorMessage=e.get("Properties.PromiseFailed");n.loading=false})}r();n.$on("datachanged",function(t,e){r(e)})}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},715:function(t,e){t.exports='<div class="pp-component pp-buttongroup-component" ng-if="visible" tcl="buttongroup">\n\t<div class="label" ng-if="label" title="{{label}}" ng-class="{ \'disabled\': readOnly }">\n\t\t{{label}}\n\t</div>\n\n\t<div class="value">\n\t\t<div class="lui-buttongroup" ng-if="!loading">\n\t\t\t<button ng-repeat="option in options track by option.value" class="lui-button" ng-disabled="readOnly"\n\t\t\t\tng-class="{ \'lui-active\': option.value == value, \'small-icon\' : definition.smallIconFont }"\n\t\t\t\tqva-activate="select(option.value)" tid="{{option.value}}"\n\t\t\t\tq-title-translation="{{option.tooltip || option.label}}">\n\t\t\t\t<span class="lui-button__text">{{option.label}}</span>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class="pp-loading-container" ng-if="loading">\n\t\t\t<div class="pp-loader qv-loader"></div>\n\t\t</div>\n\t\t<div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n\t</div>\n</div>\n'},716:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(46),n(717)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineValue(n,n.definition,i);n.options=[];function r(i){n.loading=true;n.errorMessage="";t.fillOptions(n.definition,i||n.data,n.args.handler,n.options,n.args).then(function(){n.errorMessage="";n.loading=false},function(){n.errorMessage=e.get("Properties.PromiseFailed");n.loading=false})}r();n.$on("datachanged",function(t,e){r(e)})}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},717:function(t,e){t.exports='<div class="pp-component pp-radiobuttons-component" ng-if="visible" tcl="radiobuttons">\n\t<div class="label" ng-if="label" title="{{label}}" ng-class="{ \'disabled\': readOnly }">\n\t\t{{label}}\n\t</div>\n\n\t<div class="value">\n\t\t<div ng-if="!loading">\n\t\t\t<label ng-repeat="option in options" class="lui-radiobutton" title="{{option.tooltip}}" qva-activate="click()">\n\t\t\t\t<input class="lui-radiobutton__input" type="radio" ng-value="option.value" ng-model="value" ng-change="change()" ng-disabled="readOnly">\n\t\t\t\t<div class="lui-radiobutton__radio-wrap">\n\t\t\t\t\t<span class="lui-radiobutton__radio"></span>\n\t\t\t\t\t<span class="lui-radiobutton__radio-text" title="{{option.label}}">{{option.label}}</span>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class="pp-loading-container" ng-if="loading">\n\t\t\t<div class="pp-loader qv-loader"></div>\n\t\t</div>\n\t\t<div ng-if="errorMessage" class="pp-invalid error">{{errorMessage}}</div>\n\t</div>\n</div>\n'},718:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(51),n(719)],r=function(t,e,n){var i;i={template:n,controller:["$scope",function(n){var i=n.definition.items||{},r=function t(){return n.data},a=n.args.cache,o="expanded_"+(n.translation||n.label)+"_";n.isAutoChart="auto-chart"===n.data.visualization;n.expandClicked=function(t){t.expanded=!t.expanded;a.put(o+t.key,t.expanded)};function s(){n.items=Object.keys(i).filter(function(t){var e=i[t];if("function"===typeof e.show)return e.show(n.data,n.args.handler,n.args);if("boolean"===typeof e.show)return e.show;return true}).map(function(s){var l,d=i[s],u=a.get(o+s);l={component:t.findComponent(d),definition:d,data:n.data,expanded:u||false,key:s};e.defineLabel(l,d,r,n.args.handler);return l})}n.$on("datachanged",function(){s()});n.$watch("data",function(){s()});e.defineVisible(n,n.args.handler)}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},719:function(t,e){t.exports='<div class="pp-component pp-expandable-items-component" tcl="expandable-items">\n\t<ul class="pp-expandable-list">\n\t\t<li ng-repeat="item in items track by item.key" tid="{{item.key}}">\n\t\t\t<div ng-if="::!isAutoChart" class="pp-expandable-list-header" ng-click="expandClicked(item)" ng-class="{ \'expanded\': item.expanded }">\n\t\t\t\t<i class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t\t<span class="text" title="{{item.label}}">{{item.label}}</span>\n\t\t\t</div>\n\t\t\t<div ng-if="::isAutoChart" class="pp-expandable-list-header-auto-chart" ng-click="expandClicked(item)" ng-class="{ \'expanded\': item.expanded }">\n\t\t\t\t<span class="text" title="{{item.label}}">{{item.label}}</span>\n\t\t\t\t<span class="toggle-expand lui-icon lui-icon--small lui-icon--arrow-right" ng-class="{ \'expanded\': item.expanded }"></span>\n\t\t\t</div>\n\t\t\t<div class="pp-expandable-list-content" ng-if="item.expanded" ng-class="{ \'grouped\': definition.grouped }">\n\t\t\t\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="item.data" x-args="args"></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>'},720:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(721)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);e.marginTop=e.definition.marginTop||"0px"}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},721:function(t,e){t.exports='<div class="pp-data-header" ng-style="{\'margin-top\': marginTop}">\n    <span class="pp-data-header-text">{{label}}</span>\n</div>'},722:function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(55),n(59),n(46),n(148),n(149),n(723),n(50),n(60),n(166),n(730),n(115),n(163),n(731),n(733),n(734),n(735),n(737),n(739),n(744),n(74),n(748),n(248),n(90),n(749)],r=function(t,e,n,i,r,a,o,s,l,d,u,c,p,f,g,v,m,h,x,b,y,D,_,q){var w={Dimensions:1,AlternativeDimensions:3,Measures:5,AlternativeMeasures:12};var E="pp-data-item.ng.html";var C={template:c,controller:["$scope","$element","$timeout","luiPopover","$document",function(c,C,I,L,T){var k=c.args.cache,M="data_",S={addFieldDimension:z,addLibraryDimension:H,addExpressionMeasure:U,addLibraryMeasure:G},A=f.create(),O=g.create(),F=b.create(c,L),R=s.create(c,L,S);c.isAutoChart="auto-chart"===c.data.visualization;c.expandClicked=function(t,e){if(t.target.classList.contains("pp-nm-di__draggable"))return;e.expanded=!e.expanded;k.put(M+e.id,e.expanded)};c.removeItem=function(t){var e=t.__sortableItem__.typeFlag===w.AlternativeDimensions||t.__sortableItem__.typeFlag===w.AlternativeMeasures;"dimension"===t.type?c.args.handler.removeDimension(t.index,e).then(function(){c.$emit("saveProperties")}):c.args.handler.removeMeasure(t.index,e).then(function(){c.$emit("saveProperties")})};c.getAddLabel=function(){var t=c.args.ext&&c.args.ext.data,e=c.definition.items;if(0===e.dimensions.disabledRef.length&&0===e.measures.disabledRef.length){if(t&&!t.measures)return r.get("Visualization.Requirements.AddDimension");if(t&&!t.dimensions)return r.get("Visualization.Requirements.AddMeasure")}return r.get("properties.add")};c.hasMultipleAddOptions=function(){var t=c.args.ext&&c.args.ext.data;return t&&t.measures&&t.dimensions};var P=null,$=null,V=null;function N(t){if(P){P.destroy();P=null}t&&t.target.classList.contains("pp-toplist-add-button")&&n.preventGestures()}c.openContextMenu=function(t,n){var i=e.getService("qvContextMenu").menu();i.addItem({translation:"Common.Delete",tid:"delete",select:function t(){c.removeItem(n)}});V=e.getService("qvContextMenu").show(i,{position:{x:t.pageX,y:t.pageY},docking:"Top"})};function B(){c.sortableItemLists.ctrl&&c.sortableItemLists.ctrl.on();c.sortableItemLists.reset();A.resetTitles();O.resetTitles();Y();j()}function Y(){var t=c.definition.items.dimensions,e=l.getValue(c.data,t.ref,[]);e.forEach(function(e,n){var r=e.qDef.cId,a=c.args.handler.getDimensionLayout(r);var o={title:function t(){return A.getDimensionTitle(a,e,true)},isInvalid:function t(){var e=c.args.handler.getDimensionLayout(r);return e&&!!e.qError&&!p.isCalcCondNotCalculatedErr(e.qError)},component:i.getComponent("items"),definition:{type:"items",items:t.items},data:e,args:c.args,id:r,index:n,type:"dimension",expanded:k.get(M+r)||false,sortable:false!==t.allowMove,templateSrc:E,markerClass:"pp-dimension"};it.addSortableItem(o,w.Dimensions)});var n=l.getValue(c.data,t.disabledRef,[]);n.forEach(function(e,n){var r=e.qDef.cId,a=O.getCachedDimensionTitle(e);O.getDimensionTitle(e,c.args.app,true).then(function(t){a=t});var o={title:function t(){return a},component:i.getComponent("items"),definition:{type:"items",items:t.items},data:e,args:c.args,id:r,index:n,type:"dimension",expanded:k.get(M+r)||false,templateSrc:E,markerClass:"pp-dimension",sortable:false!==t.allowMove,isAlternative:true};rt.addSortableItem(o,w.AlternativeDimensions)})}function j(){var t=c.definition.items.measures,e=l.getValue(c.data,t.ref,[]);e.forEach(function(e,n){var r=e.qDef.cId,a=c.args.handler.getMeasureLayout(r),o=A.getCachedMeasureTitle(a),s=F.isChangeable(e);A.getMeasureTitle(a,e,true,c.args.app).then(function(t){o=t});var l={title:function t(){return o},isInvalid:function t(){var e=c.args.handler.getMeasureLayout(r);return e&&!!e.qError},component:i.getComponent("items"),definition:{type:"items",items:t.items},data:e,args:c.args,id:r,index:n,type:"measure",expanded:k.get(M+r)||false,sortable:false!==t.allowMove,templateSrc:E,markerClass:"pp-measure"};e.qLibraryId||h.extract(e.qDef.qDef).then(function(t){l.isValidExtraction=t.isValid;l.extractedField=t.field});if(s){l.canChangeMeasureAggregation=true;l.currentAggregation=F.getAggregation(e.qDef.qDef);l.remainder=F.getRemainder(e.qDef.qDef)}at.addSortableItem(l,w.Measures)});var n=l.getValue(c.data,t.disabledRef,[]);n.forEach(function(e,n){var r=e.qDef.cId,a=O.getCachedMeasureTitle(e);O.getMeasureTitle(e,c.args.app,true).then(function(t){a=t});var o={title:function t(){return a},component:i.getComponent("items"),definition:{type:"items",items:t.items},data:e,args:c.args,id:r,index:n,type:"measure",expanded:k.get(M+r)||false,sortable:false!==t.allowMove,templateSrc:E,markerClass:"pp-measure",isAlternative:true};ot.addSortableItem(o,w.AlternativeMeasures)})}c.openAddMore=function(t){R.open(t,function(t){return t.classList.contains("lui-button")})};c.isAddingData=function(){return R.isAddingData()};function z(t){return c.args.handler.addFieldDimension(t.value,t.trimmedValue).then(function(){c.$emit("saveProperties");tt();et("dimensions")})}function H(t){return c.args.handler.addLibraryDimension(t.libraryId).then(function(){c.$emit("saveProperties");tt();et("dimensions")})}function G(t){return c.args.handler.addLibraryMeasure(t.libraryId).then(function(){c.$emit("saveProperties");tt();et("measures")})}function U(t){return c.args.handler.addExpressionMeasure(t.value,t.trimmedValue).then(function(){c.$emit("saveProperties");tt();et("measures")})}function W(t){return c.args.handler.addAlternativeFieldDimension(t.value,t.trimmedValue).then(function(){c.$emit("saveProperties");tt();et("alternative-dimensions")})}function X(t){return c.args.handler.addAlternativeLibraryDimension(t.libraryId).then(function(){c.$emit("saveProperties");tt();et("alternative-dimensions")})}function K(t){return c.args.handler.addAlternativeLibraryMeasure(t.libraryId).then(function(){c.$emit("saveProperties");tt();et("alternative-measures")})}function Z(t){return c.args.handler.addAlternativeExpressionMeasure(t.value,t.trimmedValue).then(function(){c.$emit("saveProperties");tt();et("alternative-measures")})}function J(){it.items.forEach(function(t){t.expanded=false;k.put(M+t.id,false)});at.items.forEach(function(t){t.expanded=false;k.put(M+t.id,false)});rt.items.forEach(function(t){t.expanded=false;k.put(M+t.id,false)});ot.items.forEach(function(t){t.expanded=false;k.put(M+t.id,false)})}function Q(t,e,n){N();J();if(c.adding){tt();return}var i={input:{app:c.args.app,closeAddPopover:tt},alignTo:e,closeOnEscape:true,dock:"bottom"},r,s;if("dimensions"===t){r=c.args.ext.addDimensionPopoverComponent||a;i.input.addFieldDimension=z;i.input.addLibraryDimension=H}else if("measures"===t){r=o;i.input.addLibraryMeasure=G;i.input.addExpressionMeasure=U}else if("alternative-dimensions"===t){r=c.args.ext.addDimensionPopoverComponent||a;i.input.addFieldDimension=W;i.input.addLibraryDimension=X}else if("alternative-measures"===t){r=o;i.input.addLibraryMeasure=K;i.input.addExpressionMeasure=Z}i.template=r.template;i.controller=r.controller;$=L.show(i);$.closing.then(function(t){s=t;t&&!(t.target.classList.contains("lui-button")||t.target.classList.contains("pp-list-add-button"))&&(c.adding=false);n.adding=false});$.closed.then(function(){$=null;s||(c.adding=false)});c.adding=true;n.adding=true}function tt(t){if($){$.close();$=null}t&&t.target.classList.contains("pp-toplist-add-button");c.adding=false}function et(t){I(function(){var e=C.find(".pp-nm-hcd__lists"),n=C.find("[tid='"+t+"'] .pp-nm-hcd__list-items"),i=n.children().last();i[0]&&(e[0].scrollTop=i[0].offsetTop-1)},100)}function nt(t){return t.data&&t.data.qLibraryId&&t.data.qLibraryId.length>0}c.$on("pp-open-path",function(t,e){var n=e.split("."),i=n[0],r=n[1];if("data"===i&&r){var a=it.get().some(function(t){return t.cId===r});et(a?"dimensions":"measures")}});c.sortableItemLists=u.create({options:{direction:"vertical",listKey:"list",scrollSelector:c.isAutoChart?".property-content":".pp-nm-hcd__lists",listSelector:".pp-nm-hcd__list-items",itemKey:"item",itemSelector:".qv-pp-sortable.draggable",itemDragSelector:".qv-pp-sortable-handle",itemGhostSelector:".pp-nm-di__header",isOuterScroll:c.isAutoChart,suppressDragStyle:c.isAutoChart?["width"]:[],suppressEnd:c.isAutoChart?function(e){var n=t(T[0].elementFromPoint(e.clientX,e.clientY));if(!n.length)return false;return n.hasClass("pp-drop-zone")||!!n.parents(".pp-drop-zone").length}:function(){return false},gesture:{name:"swipe",options:{radiusThreshold:d.treatAsDesktop()?4:0,preventDefault:false}},zIndex:11},addPlaceholder:function t(){var e=this._super.apply(this,arguments);e.classList=["qv-pp-sortable"]},onBegin:function t(e){this._super.apply(this,arguments);c.isDragging=e.isDragged=true;D.publish("/pp-drop-zone/drag-begin",{type:"inline",item:e});J();var n=1;if("dimension"===e.type){nt(e)||x.isInvalid(e)?at.setLocked(true):at.setLocked(at.listFull(n));c.isAutoChart&&it.setLocked(true)}else if("measure"===e.type){rt.setLocked(true);nt(e)||!e.isValidExtraction?it.setLocked(true):it.setLocked(it.listFull(n));c.isAutoChart&&at.setLocked(true)}switch(e.__sortableItem__.typeFlag){case w.AlternativeDimensions:it.setLocked(it.listFull());at.setLocked(true);break;case w.AlternativeMeasures:at.setLocked(at.listFull());it.setLocked(true);break}},onEnd:function t(e){c.isDragging=false;e&&(e.isDragged=false);it.setLocked(false);at.setLocked(false);rt.setLocked(false);c.$apply()},onCancel:function t(e){this._super.apply(this,arguments);c.isDragging=false;e&&(e.isDragged=false);D.publish("/pp-drop-zone/drag-end");this.lists.forEach(function(t){t.setLocked(false)})},moveHcItem:function t(e,n,i,r,a,o,s){var d,u,p,f,g=c.data,v=function t(){c.$emit("saveProperties")};c.args.handler.setProperties(g);c.sortableItemLists.ctrl.off();if(e!==n)switch(e.typeFlag){case w.Dimensions:n.typeFlag===w.Measures?c.args.handler.removeMeasure(i.index,false).then(function(){return c.args.handler.reinsertDimension(s,false,r)}).then(v):c.args.handler.removeDimension(i.index,true).then(function(){return c.args.handler.reinsertDimension(i.data,false,r)}).then(v);break;case w.AlternativeDimensions:c.args.handler.removeDimension(i.index,false).then(function(){return c.args.handler.reinsertDimension(i.data,true,r)}).then(v);break;case w.Measures:n.typeFlag===w.Dimensions?c.args.handler.removeDimension(i.index,false).then(function(){return c.args.handler.reinsertMeasure(s,false,r)}).then(v):c.args.handler.removeMeasure(i.index,true).then(function(){return c.args.handler.reinsertMeasure(i.data,false,r)}).then(v);break;case w.AlternativeMeasures:c.args.handler.removeMeasure(i.index,false).then(function(){return c.args.handler.reinsertMeasure(i.data,true,r)}).then(v);break}else{a.apply(this,o);if(i.index===e.items.indexOf(i)){c.sortableItemLists.ctrl.on();return}d=[];u=[];p=[];f=[];it.get().forEach(function(t){"placeholder"!==t.id&&d.push(t.data)});at.get().forEach(function(t){"placeholder"!==t.id&&u.push(t.data)});rt.get().forEach(function(t){"placeholder"!==t.id&&p.push(t.data)});ot.get().forEach(function(t){"placeholder"!==t.id&&f.push(t.data)});l.setValue(g,c.definition.items.dimensions.ref,d);l.setValue(g,c.definition.items.dimensions.disabledRef,p);l.setValue(g,c.definition.items.measures.ref,u);l.setValue(g,c.definition.items.measures.disabledRef,f);n.typeFlag===w.Dimensions&&e.typeFlag===w.Dimensions&&"function"===typeof c.args.handler.dimensionDefinition.move&&c.args.handler.dimensionDefinition.move.call(c.args.handler,i.data,c.args.handler.properties,c.args.handler);n.typeFlag===w.Measures&&e.typeFlag===w.Measures&&"function"===typeof c.args.handler.measureDefinition.move&&c.args.handler.measureDefinition.move.call(c.args.handler,i.data,c.args.handler.properties,c.args.handler);v()}},onMoveToList:function t(e,n){var i=this.getList(e),r=!c.isAutoChart,a=r?n.length-1:n.length,o=1;if(void 0===i||void 0===n||n.disabled||n.listFull(o)&&n!==i){this.removePlaceholder();this.enable();return false}if(x.isMovingDimToMea(e,n)){var s=this;v.convert(e,e.args.handler).then(function(t){s.moveHcItem(n,i,e,a,s._super,arguments,t)})}else if(x.isMovingMeaToDim(e,n)){var l=m.convert(e,e.args.handler);this.moveHcItem(n,i,e,a,this._super,arguments,l)}else this.moveHcItem(n,i,e,a,this._super,arguments);return true},onMove:function t(e){if(-1===this.getIndexOfItem(e)){this.onCancel();return false}var n=this.getPlaceholder(),i=this.getList(n),r=this.getList(e);var a=1;if(void 0===i||i!==r&&i.listFull(a)){this.removePlaceholder();this.enable();return false}if(x.isMovingDimToMea(e,i)){var o=this;v.convert(e,e.args.handler).then(function(t){o.moveHcItem(i,r,e,i.items.indexOf(n),o._super,arguments,t)})}else if(x.isMovingMeaToDim(e,i)){var s=m.convert(e,e.args.handler);this.moveHcItem(i,r,e,i.items.indexOf(n),this._super,arguments,s)}else this.moveHcItem(i,r,e,i.items.indexOf(n),this._super,arguments);return true}});var it=c.sortableItemLists.createList(w.Dimensions,{title:r.get(c.definition.items.dimensions.translation),tid:"dimensions",getAddLabel:function t(){return c.getAddLabel()},show:function t(){var e=c.args.ext&&c.args.ext.data,n=c.args.handler.dimensionDefinition,t=void 0===n.show||("function"===typeof n.show?n.show():n.show);return t&&(!e||!!e.dimensions)},listFull:function t(e){return c.args.handler.getDimensions().length>=c.args.handler.maxDimensions(e)},addClicked:function t(e){it.addDisabled()||Q("dimensions",e.target,this)},addDisabled:function t(){return it.listFull()||!c.definition.allowAdd},getMax:function t(){return c.args.handler.maxDimensions()},getItemDescription:function t(e){return dt("dimension",e)},descriptionCache:{}});var rt=c.sortableItemLists.createList(w.AlternativeDimensions,{title:r.get(c.definition.items.dimensions.alternativeTranslation),tid:"alternative-dimensions",isAlternative:true,getAddLabel:function t(){return r.get("properties.addalternative")},show:function t(){var e=!!c.definition.items.dimensions.disabledRef,n=c.args.ext&&c.args.ext.data,i=!!n&&!!c.args.ext.data.dimensions,r=c.args.handler.dimensionDefinition,t=void 0===r.show||("function"===typeof r.show?r.show():r.show);return t&&e&&(rt.items.length&&i||(!n||!!n.dimensions)&&c.args.handler.getDimensions().length>=c.args.handler.minDimensions())},listFull:function t(){return false},subSection:true,addClicked:function t(e){Q("alternative-dimensions",e.target,this)},addDisabled:function t(){return false}});var at=c.sortableItemLists.createList(w.Measures,{title:r.get("Common.Measures"),tid:"measures",getAddLabel:function t(){return c.getAddLabel()},show:function t(){var e=c.args.ext&&c.args.ext.data,n=c.args.handler.measureDefinition,t=void 0===n.show||("function"===typeof n.show?n.show():n.show);return t&&(!e||!!e.measures)},listFull:function t(e){return c.args.handler.getMeasures().length>=c.args.handler.maxMeasures(e)},addClicked:function t(e){at.addDisabled()||Q("measures",e.target,this)},addDisabled:function t(){return at.listFull()||!c.definition.allowAdd},getMax:function t(){return c.args.handler.maxMeasures()},getItemDescription:function t(e){return dt("measure",e)},descriptionCache:{}});var ot=c.sortableItemLists.createList(w.AlternativeMeasures,{title:r.get("properties.alternative.measures"),tid:"alternative-measures",isAlternative:true,getAddLabel:function t(){return r.get("properties.addalternative")},show:function t(){var e=!!c.definition.items.measures.disabledRef,n=c.args.ext&&c.args.ext.data,i=!!n&&!!c.args.ext.data.measures,r=c.args.handler.measureDefinition,t=void 0===r.show||("function"===typeof r.show?r.show():r.show);return t&&e&&(ot.items.length&&i||(!n||!!n.measures)&&c.args.handler.getMeasures().length>=c.args.handler.minMeasures())},listFull:function t(){return false},subSection:true,addClicked:function t(e){Q("alternative-measures",e.target,this)},addDisabled:function t(){return false}});var st=c.definition.items;st.dimensions.ref&&c.$watchCollection("data."+st.dimensions.ref,B);st.dimensions.disabledRef&&c.$watchCollection("data."+st.dimensions.disabledRef,B);st.measures.ref&&c.$watchCollection("data."+st.measures.ref,B);st.measures.disabledRef&&c.$watchCollection("data."+st.measures.disabledRef,B);c.isAutoChart&&y.addDrag(C,d.treatAsDesktop()?".pp-nm-di__header.draggable":".pp-nm-di__draggable",{info:function t(e){return{type:"inline",item:e.item}},elem:"<div></div>"});c.isItemDraggable=function(t){if(!t.sortable)return false;var e="dimension"===t.type,n=t.isValidExtraction;if(c.isAutoChart){if(nt(t))return false;return!!e||n}var i=at.listFull(0),r=it.listFull(0);if(t.isAlternative){var a=c.definition.items,o=e?a.dimensions.disabledRef:a.measures.disabledRef,s=l.getValue(c.data,o,[]).length,d=s>1;if(d)return true;return e?!r:!i}var u=e?rt.show():ot.show();if(u)return true;var p=c.args.handler,f=e?p.getDimensions().length:p.getMeasures().length,g=f>1;if(g)return true;var v=e?i:r;if(v)return false;return!!e||n};c.showChangeAggregation=function(t){return"measure"===t.type&&t.canChangeMeasureAggregation&&!t.isDragged};c.getItemHeaderTitle=function(t){if(c.showChangeAggregation(t))return t.remainder;return t.canChangeMeasureAggregation&&t.isDragged&&c.isAutoChart?t.remainder:t.title()};c.openChangeAggregationPopover=function(t,e){if(!c.showChangeAggregation(e))return;var n={isOpenButton:function t(e){return e.classList.contains("pp-nm-di__header-aggregation")},onAggregationChanged:function t(e,n){_.gather({expression:e.extractedField,aggregation:n})}};F.openPopover(t,e.id,e,n)};c.isChangeAggregationPopoverOpen=function(t){return F.isPopoverOpen(t.id)};c.showItemDescription=function(t){if(!c.isAutoChart&&!l.getValue(t,"args.handler."+t.type+"Definition.description"))return false;var e=c.sortableItemLists.getList(t);if(e.isAlternative||t.isDragged)return false;var n=c.getUndraggedItems(e),i=n.indexOf(t);if(0===i)return true;var r=e.getItemDescription(i),a=e.getItemDescription(i-1);var o=r===a;if(!o&&c.isAutoChart&&c.isDragging)return true;return!o};c.showNextPossibleItem=function(t){var e=c.getUndraggedItems(t),n=t.getMax()-e.length;return n>0};c.showNextPossibleItemDescription=function(t){var e=c.getUndraggedItems(t),n=e.length,i=c.getNextPossibleItemDescription(t);if(0===n)return!!i;var r=e[n-1];if(!c.isAutoChart&&!l.getValue(r,"args.handler."+r.type+"Definition.description"))return false;var a=c.getItemDescription(r);return i!==a};c.getNextPossibleItemDescription=function(t){var e=c.getUndraggedItems(t),n=t.getItemDescription(e.length);return n};c.getItemDescription=function(t){var e=c.sortableItemLists.getList(t),n=lt(t);if(c.isAutoChart&&c.isDragging)return e.descriptionCache[n];var i=e.getItemDescription(n);e.descriptionCache[n]=i;return i};c.showEmptyItem=function(t){var e=c.getUndraggedItems(t);return!e.length};c.getUndraggedItems=function(t){return t.get(function(t){return!t.isDragged})};function lt(t){var e=c.sortableItemLists.getList(t),n=c.getUndraggedItems(e),i=n.indexOf(t);return i}function dt(t,e){var n="dimension"===t.toLowerCase(),i=c.args.properties,r,a={isAutoChart:c.isAutoChart};if(c.isAutoChart){var o=i.qUndoExclude.generated;if(!o)return}else{var s=n?"dimensionDefinition":"measureDefinition",l=c.args.handler[s];l&&l.description&&(r=l.description(i,e,a))}return r}c.showAutoDropZone=function(t){return"libraryitem"===t.type};c.onDropAutoDropZone=function(t){var e=t.item,n="field"===e.type;if(n)z({value:e.name});else{var i="measure"===e.type?G:H;i({libraryId:e.id})}};c.showTargetedDropZone=function(t,e){return"dimensions"===t?ut(e):ct(e)};c.onDropTargetedDropZone=function(t,e){var n=e.item,i="libraryitem"===e.type;if(i){var r="field"===n.type;if(r)"dimensions"===t?z({value:n.name}):q.getAggregationForFieldItem(n).then(function(){U({value:null})});else{var a="measure"===n.type?G:H;a({libraryId:n.id})}}else c.sortableItemLists.onMoveToList(n,"dimensions"===t?it:at)};function ut(t){var e=t.item,n="libraryitem"===t.type;return n?"measure"!==e.type:"measure"===e.type&&!nt(e)&&e.isValidExtraction}function ct(t){var e=t.item,n="libraryitem"===t.type;return n?"dimension"!==e.type:"dimension"===e.type&&!nt(e)&&!e.isInvalid()}c.$on("$destroy",function(){N();tt();F.closePopover();R.close();V&&V.close()})}]};return C}.apply(e,i),void 0!==r&&(t.exports=r))},723:function(t,e,n){"use strict";var i,r;!(i=[n(724)],r=function(t){var e={create:n};return e;function n(e,n,i){return new t(e,n,i)}}.apply(e,i),void 0!==r&&(t.exports=r))},724:function(t,e,n){"use strict";var i,r;function a(t){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return a(t)}!(i=[n(45),n(78),n(84),n(60),n(73),n(725),n(110),n(111),n(165),n(114)],r=function(t,e,n,i,r,o,s,l,d){var u=false,c=null;function p(t,e,n){f(t,e,n,this)}p.prototype.open=v;p.prototype.close=m;p.prototype.isAddingData=g;return p;function f(e,u,p,f){e||x("Scope is required");u||x("luiPopover is required");p&&"object"===a(p)||x("A data container object is required");f.scope=e;f.luiPopover=u;f.popover=null;f.boundClose=m.bind(f);var g=100,v={term:""};function b(t){if(""!==v.term){t.stopPropagation();v.term=""}f.boundClose()}function y(t){if(""!==v.term){t.stopPropagation();var e=d.classify(v.term);_(e)?p.addExpressionMeasure({value:v.term}):p.addFieldDimension({value:v.term})}f.boundClose()}e.position||(e.position="right");function D(t){return""===v.term?t.label:l.trimAutoCalendarName(t.value)}c=null;q(v.term);e.$watch(function(){return v.term},function(t,e){if(t===e)return;q(t)});f.settings={template:o,input:{isDirectDiscoveryField:s.isDirectDiscoveryField,getDirectDiscoveryTypeTranslationKey:s.getTypeTranslationKey,search:v,onEscape:b,onEnter:y,close:m,data:{fields:[],dimensions:[],measures:[]},getFieldDisplayName:D,autoFocus:i.treatAsDesktop(),addFieldDimension:function t(e){p.addFieldDimension(e).then(function(){f.boundClose()})},addLibraryDimension:function t(e){p.addLibraryDimension(e).then(function(){f.boundClose()})},addLibraryMeasure:function t(e){p.addLibraryMeasure(e).then(function(){f.boundClose()})},addViaExpressionEditor:function t(e){var n=d.classify(e.value);_(n)?p.addExpressionMeasure(e).then(function(){f.boundClose()}):p.addFieldDimension(e).then(function(){f.boundClose()})}},dock:"bottom",closeOnResize:true,closeOnOutside:true,closeOnEscape:true};function _(t){return t.result&&t.result.function&&t.result.function.content&&t.result.function.content.length>0}f.createListItems=q;function q(i){function a(){var t=h(c.fields,i);var e=h(c.dimensions,i);var r=h(c.measures,i);if(e.length+r.length>g){var a=Math.max(g-r.length,0);var o=Math.max(g-e.length,0);e=n.limit(e,a);r=n.limit(e,o);t=[]}else if(t.length+e.length+r.length>g){var s=Math.max(g-e.length-r.length,0);t=n.limit(t,s)}f.settings.input.data.fields=t;f.settings.input.data.dimensions=e;f.settings.input.data.measures=r}c?a():t.all({fields:r.getSortedFields(e.args.app),dimensions:r.getSortedDimensions(e.args.app),measures:r.getSortedMeasures(e.args.app)}).then(function(t){var e=t.fields.map(function(t){var e=t.isDerived&&""===i?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):t.qName;return{toolTip:t.qName,label:e,value:t.qName,trimmedValue:t.displayName,qTags:t.qTags,isDerived:t.isDerived,isDateField:t.isDateField,isGeoField:t.isGeoField,classifications:t.classifications,defaultAggregation:t.defaultAggregation}});var n=t.dimensions.map(function(t){return{label:t.qData.title,value:t.qData.title,libraryId:t.qInfo.qId,isDrillDown:"H"===t.qData.grouping}});var r=t.measures.map(function(t){return{value:t.qData.title,label:t.qData.title,libraryId:t.qInfo.qId}});c={fields:e,dimensions:n,measures:r};a()})}}function g(){return u}function v(t,e){if(this.popover){this.popover=null;return}this.settings.input.search.term="";this.settings.alignTo=t.target;var n=this;c=null;this.createListItems("");this.popover=this.luiPopover.show(this.settings);this.popover.closing.then(function(t){t&&!e(t.target)&&(n.popover=null);u=false});u=true}function m(){if(this.popover){this.popover.close();this.popover=null;u=false}}function h(t,n){if(""===n)return t;return t.filter(function(t){if("undefined"===typeof t.value)return false;return e.string(t.value.toLowerCase()).indexOf(e.string(n.toLowerCase()))>-1})}function x(t){throw new Error("ChangeAggregationPopover: "+t)}}.apply(e,i),void 0!==r&&(t.exports=r))},725:function(t,e){t.exports='<lui-popover style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<object-add-typeahead>\n\t\t<lui-popover-header>\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-dimension" autocomplete="off" ng-model="search.term" tid="add-dimension-input" qva-focus="autoFocus"\n\t\t\t\t\t   object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)" maxlength="255"/>\n\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addViaExpressionEditor({value:value})" expression-type="dimension"\n\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</lui-popover-header>\n\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t<div class="object-add-popover-list-header" ng-if="data.dimensions.length" q-translation="Common.Dimensions"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in data.dimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addLibraryDimension(dimension)">\n\t\t\t\t\t<span ng-if="dimension.isDrillDown" class="lui-icon lui-icon--select-alternative lui-list__aside" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<span qve-highlight text="{{dimension.label}}" title="{{dimension.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="data.measures.length"  q-translation="Common.Measures"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in data.measures" tid="measure-item"\n\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addLibraryMeasure(measure)">\n\t\t\t\t\t<span qve-highlight text="{{measure.value}}" title="{{measure.value}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="data.fields.length" q-translation="Common.Fields"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in data.fields" tid="field-item"\n\t\t\t\t\tobject-add-typeahead-item="field" on-select="addFieldDimension(field)"\n\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}">\n\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-list__aside  lui-icon--calendar"></span>\n\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-list__aside  lui-icon--map"></span>\n\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-nohits" ng-if="!data.dimensions.length && !data.fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t</div>\n\t</object-add-typeahead>\n</lui-popover>\n'},726:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(105)],r=function(t,e){var n=a();var i={tokenize:r};return i;function r(e){if(!t.isString(e))throw new Error("Expression-tokenizer: Expression must be a string");e=e.trim();"="===e.charAt(0)&&(e=e.substr(1));var n=[],i=0,r=o(e);r.forEach(function(t){var r=e.substr(i,t.start-i).trim();r&&n.push({content:r,isOperator:false});n.push({content:t.content,isOperator:true});i=t.end});var a=e.substr(i,e.length);n.push({content:a.trim(),isOperator:false});return n}function a(){var t={};for(var n in e.SYMBOLS)if(e.SYMBOLS.hasOwnProperty(n)){var i=e.SYMBOLS[n];t[i.LEFT]=i.RIGHT}return t}function o(t){var e=[];for(var n=0;n<t.length;n++){var i=t.charAt(n);if(s(i)){n=l(t,i,n);continue}var r=[],a=false,o=d(i);r=u(i);if(r.length){var p=t.substr(n).toLowerCase();for(var f=0;f<r.length;f++){var g=r[f],v=c(p,g);if(v){e.push({content:g,start:n,end:n+g.length});a=true;n+=g.length-1;break}}}!a&&o&&e.push({content:i,start:n,end:n+1})}return e}function s(t){return n.hasOwnProperty(t)}function l(t,i,r){var a=i,o=n[a],s=t.substring(r).split(""),l=0,d=false;for(var u=0;u<s.length;u++){var c=s[u];c===e.SYMBOLS.STRING.LEFT&&(d=!d);if(d)continue;c===a&&l++;c===o&&l--;if(!l)return u+r}return r}function d(t){return e.OPERATORS.SINGLES.indexOf(t.toLowerCase())>-1}function u(t){var n=[];var i=e.OPERATORS.MULTIPLES.concat(e.OPERATORS.WORDS).filter(function(t){return t.length>1}).map(function(t){return t.toLowerCase()});i.forEach(function(e){0===e.indexOf(t.toLowerCase())&&n.push(e)});return n}function c(t,n){var i=0===t.indexOf(n+" "),r=e.OPERATORS.SINGLES.some(function(e){return 0===t.indexOf(n+e)});return i||r}}.apply(e,i),void 0!==r&&(t.exports=r))},727:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={stripComments:e};return t;function e(t){if(!t)return"";t=n(t);t=i(t);return t.trim()}function n(t){return t.replace(/\/\/(.*)$/gm,"")}function i(t){return t.replace(/\/\*[^]*?\*\//g,"")}}.apply(e,i),void 0!==r&&(t.exports=r))},728:function(t,e,n){"use strict";var i,r;!(i=[n(53),n(47),n(44),n(41),n(55),n(106),n(60),n(729)],r=function(t,e,n,i,r,a,o){var s=t.extend("DefaultSortableList",{init:function t(n,i){this.options=e.extend(true,{gesture:{name:"swipe",options:{radiusThreshold:2,preventDefault:false}},direction:"",scrollSelector:"",listSelector:"",containerSelector:"",listKey:"",itemSelector:"[ng-repeat]",itemDragSelector:"[ng-repeat]",itemGhostSelector:"",isOuterScroll:false,suppressDragStyle:[],suppressEnd:function t(){return false},itemKey:"$index",zIndex:1},n||{});this.ctrl=i},onBegin:function t(){},onEnter:function t(){},onEnterList:function t(){},onMove:function t(){},onMoveToList:function t(){},onCancel:function t(){},onEnd:function t(){},allowDrag:function t(e){if(o.isMouse(e))return!!n(e.target).closest(this.options.itemSelector).length;return!!n(e.target).closest(this.options.itemDragSelector).length},allowScroll:function t(e){return!this.allowDrag(e)},allowEnter:function t(){return true},allowEnterList:function t(){return true},allowAutoScroll:function t(){return true},onAutoScroll:function t(e){e()},getGesture:function t(){return this.options.gesture},getDirection:function t(){return this.options.direction},getScrollSensitivity:function t(e){return o.isMouse(e)?15:25},getScrollSpeed:function t(e){return o.isMouse(e)?15:25}});i.directive("qvSortableList",["qvSortableListDragService",function(t){return{restrict:"A",controller:function t(){},link:function e(i,o,l,d){var u=i.$watch(l.qvSortableList,function(e){u();if(e instanceof s)e.ctrl=d;else{var l=s.extend(e||{});e=new l(e&&e.options,d)}var c=o.closest(e.options.scrollSelector);c.length||(c=o);var p;var f=t.$new(e.options);var g;var v;var m;var h="sortable-list-"+i.$id;var x;var b={id:h,options:{preventDefault:false},start:function i(r,o){p=void 0;if(a.isInput(r.target)||!t.isChild(c[0],r.target))return;if(!e.allowDrag(r))return;p=n(r.target).closest(e.options.itemGhostSelector||e.options.itemSelector);if(0===p.length){p=void 0;return}var s;if(e.options.containerSelector){var l=p.closest(e.options.containerSelector);l.length&&(s=l)}f.direction=e.getDirection();g=e.getScrollSpeed(r);v=e.getScrollSensitivity(r);t.startOffset(c,f,p,o.pagePoints[0],e.options.isOuterScroll,s);t.startData(c,f,p,e.options.itemKey)},end:function t(){p=void 0}};var y={id:h,start:function n(a){if(!p){this.cancel();return}a.preventDefault();r.WebkitHack.prevent();e.onBegin(f.fromItem,f.clientRect);i.$digest();t.start(c,f,p)},update:function n(r,a){if(!p){this.cancel();return}function o(){if(e.allowEnter(f.enterItem,f.fromItem)){f.toItem=f.enterItem;f.toList=void 0;e.onEnter(f.enterItem,f.enterItemAction);i.$digest()}}function s(){if(e.allowEnterList(f.enterList,f.fromItem)){f.toItem=void 0;f.toList=f.enterList;e.onEnterList(f.enterList);i.$digest()}}function n(){t.update(c,f,p,a.swipe);t.updateDragCoordinates(f,void 0!==a.clientX?a.clientX:a.pagePoints[0].x,void 0!==a.clientY?a.clientY:a.pagePoints[0].y,e.options.boundingRect);t.updateData(c,f,p,e.options.listSelector,e.options.listKey,e.options.itemSelector,e.options.itemKey,o,s)}if(r.touches&&r.touches[0]){a.clientX=r.touches[0].clientX;a.clientY=r.touches[0].clientY}else{a.clientX=r.clientX;a.clientY=r.clientY}n();if(e.allowAutoScroll()){var l=t.autoScroll.bind(this,c[0],f.scroll.clientRect,f.scroll.width,f.scroll.height,f,n,g,v);e.onAutoScroll(l,f.enterList,f.enterItem,function(e,i,r,a){t.autoScroll(e,i,r,a,f,n,g,v)})}},end:function n(r,a){t.end(f,p);e.options.suppressEnd(a)||(void 0!==f.toItem?e.onMove(f.fromItem,f.toItem):void 0!==f.toList?e.onMoveToList(f.fromItem,f.toList):e.onCancel(f.fromItem));i.$digest();e.onEnd(f.fromItem);p=void 0},cancel:function n(){if(!p)return;t.end(f,p);e.onCancel(f.fromItem);p=void 0;"$digest"!==i.$root.$$phase&&i.$digest()}};m=e.options.gesture;y.options=m.options;function D(){p=void 0;r(o[0])[m.name](y).tap(b);r(c[0]).tap({id:"sortable-list-tap-"+i.$id,options:{preventDefault:false},start:function t(n){e.allowScroll(n)||a.isInput(n.target)||n.preventDefault()}});return function(){r(c[0]).off("*","sortable-list-tap-"+i.$id);r(o[0]).off("*",h)}}i.$on("$destroy",function(){r(c[0]).off("*","sortable-list-tap-"+i.$id);r(o[0]).off("*",h)});d.on=function(){x||(x=D())};d.off=function(){if(x){x();x=void 0}};d.cancel=function(){y.cancel()};d.on()})}}}]);return s}.apply(e,i),void 0!==r&&(t.exports=r))},729:function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(247)],r=function(t,e,n){e.service("qvSortableListDragService",[function(){var e;e={$new:function t(e){return{fromItem:void 0,enterItem:void 0,enterList:void 0,toItem:void 0,toList:void 0,offsetX:0,offsetY:0,left:0,top:0,direction:void 0,clientRect:void 0,scroll:{},pageX:0,pageY:0,suppressDragStyle:e.suppressDragStyle||[],zIndex:e.zIndex,enterItemAction:void 0}},startOffset:function t(e,n,i,r,a,o){if(o){var s=i.offset();var l=o.offset();n.left=s.left-l.left;n.top=s.top-l.top}else{var d=i.position();n.left=d.left;n.top=d.top}n.offsetX=n.left-r.x;n.offsetY=n.top-r.y;if(a){n.offsetX=n.offsetX-e[0].scrollLeft;n.offsetY=n.offsetY-e[0].scrollTop}},startData:function t(e,n,i,r){n.scroll.clientRect=e[0].getBoundingClientRect();n.scroll.width=e[0].scrollWidth;n.scroll.height=e[0].scrollHeight;n.clientRect=i[0].getBoundingClientRect();n.minLeft=-n.clientRect.width;n.maxLeft=n.scroll.width;n.minTop=-n.clientRect.height;n.maxTop=n.scroll.height-n.clientRect.height;n.fromItem=i.scope()[r];n.toItem=void 0;n.toList=void 0;n.enterItem=void 0;n.enterList=void 0;n.enterItemAction=void 0},updateDragCoordinates:function t(e,n,i,r){r=r||e.scroll.clientRect;e.pageX=n;e.pageY=i;e.pageX<=r.left?e.pageX=r.left+1:e.pageX>=r.left+r.width&&(e.pageX=r.left+r.width-1);e.pageY<=r.top?e.pageY=r.top+1:e.pageY>=r.top+r.height&&(e.pageY=r.top+r.height-1)},updateEnterItemAction:function t(e,i){var r=i[0].getBoundingClientRect(),a,o,s;switch(e.direction){case"horizontal":a=e.pageX;o=r.left;s=r.width;break;case"vertical":a=e.pageY;o=r.top;s=r.height;break;default:return}a<=o+.5*s?e.enterItemAction=n.ENTER_BEFORE:a>o+.5*s&&(e.enterItemAction=n.ENTER_AFTER)},updateData:function n(i,r,a,o,s,l,d,u,c){var p,f,g,v,m=r.enterItemAction,h=function t(){};function x(t){return t.length&&e.isChild(i[0],t[0])}function b(t){if("function"===typeof s)return s(t);return t.scope()[s]}var y=a[0].style.display;a[0].style.display="none";f=document.elementFromPoint(r.pageX,r.pageY);p=t(f).closest(l);if(x(p))h=function t(n){g=n.scope()[d];e.updateEnterItemAction(r,n);if(r.enterItem!==g||r.enterItem===g&&m!==r.enterItemAction){r.enterList=void 0;r.enterItem=g;u()}};else{p=t(f).closest(o);if(x(p))h=function t(e){v=b(e);if(r.enterList!==v){r.enterList=v;r.enterItem=void 0;c()}};else{r.enterItem=void 0;r.enterList=void 0}}a[0].style.display=y;h(p)},start:function t(e,n,i){i[0].style||(i[0].style="");i[0].style.position="absolute";-1===n.suppressDragStyle.indexOf("width")&&(i[0].style.width=n.clientRect.width+"px");i[0].style.height=n.clientRect.height+"px";i[0].style.pointerEvents="none";i[0].style.left=n.left+"px";i[0].style.top=n.top+"px";i[0].style.zIndex=n.zIndex;i[0].style.boxSizing="border-box"},update:function t(e,n,i,r){var a,o;switch(n.direction){case"horizontal":n.left=r.currentPoint.x+n.offsetX+e[0].scrollLeft;break;case"vertical":n.top=r.currentPoint.y+n.offsetY+e[0].scrollTop;break;default:n.left=r.currentPoint.x+n.offsetX+e[0].scrollLeft;n.top=r.currentPoint.y+n.offsetY+e[0].scrollTop}a=n.left;o=n.top;n.left<n.minLeft?a=n.minLeft:n.left>n.maxLeft&&(a=n.maxLeft);n.top<n.minTop?o=n.minTop:n.top>n.maxTop&&(o=n.maxTop);i[0].style.left=a+"px";i[0].style.top=o+"px"},end:function t(e,n){if(e.stopAutoScrolling){e.stopAutoScrolling();e.stopAutoScrolling=null}n&&n.length&&n[0].removeAttribute("style")},isParent:function t(e,n){return e===n},isChild:function t(n,i){var r=i;if(e.isParent(n,i))return false;while(r){if(r===n)return true;r=r.parentNode}return false},autoScroll:function t(e,n,i,r,a,o,s,l){var d=true,u=0,c=0,p=0,f=0;function g(t,a){u=e.scrollLeft;c=e.scrollTop;if(d){if(t<0&&0===u){d=false;return}if(t>0&&u+parseInt(n.height+.5,10)>=i){d=false;return}if(a<0&&0===c){d=false;return}if(a>0&&c+parseInt(n.height+.5,10)>=r){d=false;return}0!==t&&(e.scrollLeft+=t);0!==a&&(e.scrollTop+=a);o();setTimeout(function(){g(t,a)})}}switch(a.direction){case"horizontal":a.pageX<=n.left+l?p=-s:a.pageX>=n.left+n.width-l&&(p=s);break;case"vertical":a.pageY<=n.top+l?f=-s:a.pageY>=n.top+n.height-l&&(f=s);break;default:a.pageY<=n.top+l?f=-s:a.pageY>=n.top+n.height-l&&(f=s)}0===p&&0===f||g(p,f);if(a.stopAutoScrolling){a.stopAutoScrolling();delete a.stopAutoScrolling}a.stopAutoScrolling=function(){d=false};return a.stopAutoScrolling}};return e}])}.apply(e,i),void 0!==r&&(t.exports=r))},730:function(t,e){t.exports='<div class="pp-component pp-list-component pp-list pp-nm-hcd" tcl="data" ng-class="::{ \'auto-chart\': isAutoChart }" pp-scrollable-auto-content>\n\t<div class="pp-nm-hcd__lists" qv-sortable-list="sortableItemLists">\n\n\t\t\x3c!-- Drop zone - Auto place --\x3e\n\t\t<pp-drop-zone ng-if="isAutoChart"\n\t\t\t\t\t  on-drag-begin="showAutoDropZone(info)"\n\t\t\t\t\t  on-drop="onDropAutoDropZone(info)"\n\t\t\t\t\t  css-class="pp-nm-hcd__auto-drop-zone"\n\t\t\t\t\t  translation="DropZone.Auto">\n\t\t</pp-drop-zone>\n\n\t\t\x3c!-- Add more button for auto-charts --\x3e\n\t\t<button class="lui-button pp-nm-hcd__add-more-button" ng-if="::isAutoChart" ng-class="{\'lui-active\': isAddingData()}" ng-click="openAddMore($event)" q-translation="Common.Add"></button>\n\n\t\t\x3c!-- Lists --\x3e\n\t\t<div class="pp-nm-hcd__list"\n\t\t\t ng-class="{\n\t\t\t\t \'disabled\': list.disabled || list.locked,\n\t\t\t\t \'empty\': !isAutoChart && !getUndraggedItems(list).length,\n\t\t\t\t \'alternative\': list.isAlternative }"\n\t\t\t ng-if="list.show()"\n\t\t\t ng-repeat="list in sortableItemLists.lists"\n\t\t\t tid="{{::list.tid}}">\n\n\t\t\t\x3c!-- List header --\x3e\n\t\t\t<div class="pp-nm-hcd__list-header">\n\t\t\t\t<span class="pp-nm-hcd__list-header-title">{{::list.title}}</span>\n\t\t\t</div>\n\n\t\t\t\x3c!-- List body --\x3e\n\t\t\t<div class="pp-nm-hcd__list-body">\n\n\t\t\t\t\x3c!-- Drop zone - Dimension / Measure --\x3e\n\t\t\t\t<pp-drop-zone ng-if="isAutoChart"\n\t\t\t\t\t\t\t  on-drag-begin="showTargetedDropZone(list.tid, info)"\n\t\t\t\t\t\t\t  on-drop="onDropTargetedDropZone(list.tid, info)"\n\t\t\t\t\t\t\t  css-class="pp-nm-hcd__targeted-drop-zone"\n\t\t\t\t\t\t\t  size-selector=".pp-nm-hcd__list-body"\n\t\t\t\t\t\t\t  translation="DropZone.DropItem">\n\t\t\t\t</pp-drop-zone>\n\n\t\t\t\t<ul class="pp-nm-hcd__list-items">\n\n\t\t\t\t\t\x3c!-- Dimensions / measures --\x3e\n\t\t\t\t\t<li class="pp-nm-hcd__list-item pp-nm-hcd__list-item__data"\n\t\t\t\t\t\tng-class="item.classList"\n\t\t\t\t\t\tng-repeat="item in list.items track by item.id"\n\t\t\t\t\t\tng-include="item.templateSrc">\n\t\t\t\t\t</li>\n\n\t\t\t\t\t\x3c!-- Empty element for auto-charts --\x3e\n\t\t\t\t\t<li class="pp-nm-hcd__list-item pp-nm-hcd__list-item-empty" ng-if="::isAutoChart" ng-show="showEmptyItem(list)">\n\t\t\t\t\t\t<div class="pp-nm-di">\n\t\t\t\t\t\t\t<div class="pp-nm-di__header">\n\t\t\t\t\t\t\t\t<div class="pp-nm-di__header-title" q-translation="Common.Empty"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t\x3c!-- Next possible item - Description and add button --\x3e\n\t\t\t\t\t<li class="pp-nm-hcd__list-item" ng-if="::!isAutoChart && !list.isAlternative" ng-show="showNextPossibleItem(list)">\n\t\t\t\t\t\t<div class="pp-nm-di">\n\t\t\t\t\t\t\t<div class="pp-nm-di__description" ng-if="showNextPossibleItemDescription(list)">\n\t\t\t\t\t\t\t\t{{getNextPossibleItemDescription(list)}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button class="lui-button pp-nm-di__add-button"\n\t\t\t\t\t\t\t\t\tng-class="{ \'lui-active\': list.adding }"\n\t\t\t\t\t\t\t\t\tng-click="list.addClicked($event)"\n\t\t\t\t\t\t\t\t\tqv-enter="list.addClicked($event)"\n\t\t\t\t\t\t\t\t\tqva-outside-ignore-for="{{::\'addButton-\' + $id}}"\n\t\t\t\t\t\t\t\t\ttid="add-hc-data">\n\t\t\t\t\t\t\t\t{{::list.getAddLabel()}}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t\x3c!-- Add alternative button --\x3e\n\t\t\t<button class="lui-button pp-nm_hcd__add-alternative-button"\n\t\t\t\t\tng-class="{ \'lui-active\': list.adding }"\n\t\t\t\t\tng-if="list.isAlternative"\n\t\t\t\t\tng-click="list.addClicked($event)"\n\t\t\t\t\tqv-enter="list.addClicked($event)"\n\t\t\t\t\tqva-outside-ignore-for="{{::\'addButton-\' + $id}}"\n\t\t\t\t\ttid="add-hc-data">\n\t\t\t\t{{::list.getAddLabel()}}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},731:function(t,e,n){"use strict";var i,r;!(i=[n(732)],r=function(t){var e={create:n};return e;function n(){return new t}}.apply(e,i),void 0!==r&&(t.exports=r))},732:function(t,e,n){"use strict";var i,r;!(i=[n(164)],r=function(t){function e(){this.alternativeTitleRetriever=t.create();this.cache={}}e.prototype.getDimensionTitle=n;e.prototype.getCachedDimensionTitle=i;e.prototype.getMeasureTitle=r;e.prototype.getCachedMeasureTitle=a;e.prototype.resetTitles=o;return e;function n(t,e,n){var i=this;return this.alternativeTitleRetriever.getDimensionTitle(t,e,n).then(function(e){l(i.cache,t.qDef.cId,e);return e})}function i(t){return s(this.cache,t.qDef.cId)}function r(t,e,n){var i=this;return this.alternativeTitleRetriever.getMeasureTitle(t,e,n).then(function(e){l(i.cache,t.qDef.cId,e);return e})}function a(t){return s(this.cache,t.qDef.cId)}function o(){this.alternativeTitleRetriever.resetTitles()}function s(t,e){return t[e]||""}function l(t,e,n){t[e]=n}}.apply(e,i),void 0!==r&&(t.exports=r))},733:function(t,e,n){"use strict";var i,r;!(i=[n(45),n(73),n(248),n(81),n(250)],r=function(t,e,n,i,r){return{convert:a};function a(a,s){if(!a||!s||!s.app)throw new Error("Missing required parameter(s)");var l=a.data&&a.data.qDef,d=l&&l.qFieldDefs&&l.qFieldDefs.length;if(!d)throw new Error("Unsupported operation: Can not convert a non-field to measure");var u=l.qFieldDefs[0],c=l.qFieldLabels&&l.qFieldLabels[0],p=s.app,f={aggregation:n.getAggregationForExpression(u,p,e.findField),isField:o(p,u)};return t.all(f).then(function(t){var e="countdistinct"===t.aggregation.toLowerCase(),n=e?"count":t.aggregation,a=i.getNormalizedExpression(u);t.isField&&(a="["+a+"]");e&&(a="distinct "+a);var o=r.addAggregation(n,a),d=s.createExpressionMeasure(o,c);l.qLabelExpression&&l.qLabelExpression.length&&(d.qDef.qLabelExpression=l.qLabelExpression);return d})}function o(t,n){return t.getFieldList().then(function(t){var r=i.getNormalizedExpression(n),a=e.findField(r,t);return!!a})}}.apply(e,i),void 0!==r&&(t.exports=r))},734:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{convert:t};function t(t,e){if(!t||!e)throw new Error("Missing required parameter(s)");var n=t.data&&t.data.qDef&&t.data.qDef.qDef;if(!n)throw new Error("Unsupported operation: Can not convert a non-measure to dimension");var i=t.data.qDef;var r=e.createFieldDimension("="+t.extractedField,i.qLabel);i.qLabelExpression&&i.qLabelExpression.length&&(r.qDef.qLabelExpression=i.qLabelExpression);return r}}.apply(e,i),void 0!==r&&(t.exports=r))},735:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(45),n(165),n(736)],r=function(t,e,n,i){var r={extract:a};return r;function a(r){if(!t.isString(r))throw new Error("Field-extractor: Expression must be a string");var a={field:"",isValid:false};var o=n.classify(r);if(1!==o.count)return e.when(a);var s=o.result.remainder;a.field=s.isQualifier?s.qualified.content:s.content;a.isValid=i.isValid(s);return e.when(a)}}.apply(e,i),void 0!==r&&(t.exports=r))},736:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={isValid:e};return t;function e(t){if(!t)return false;if(t.isFieldlike)return true;if(t.qualified.isFieldlike)return true;return false}}.apply(e,i),void 0!==r&&(t.exports=r))},737:function(t,e,n){"use strict";var i,r;!(i=[n(738)],r=function(t){return{isForbiddenMove:e,isInvalid:t.isInvalid,isMovingDimToMea:t.isMovingDimToMea,isMovingMeaToDim:t.isMovingMeaToDim};function e(e,n,i){return t.isInvalidToMoveDimToAltMea(e,n)||t.isInvalidToMoveAltDimToMeaSect(e,n,i)||t.isInvalidToMoveLibDimToMea(e,n,i)||t.isInvalid(e)}}.apply(e,i),void 0!==r&&(t.exports=r))},738:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{isInvalidToMoveMeaToDim:r,isInvalidToMoveDimToAltMea:a,isInvalidToMoveLibDimToMea:s,isInvalidToMoveAltDimToMeaSect:o,isInvalid:l,isMovingDimToMea:d,isMovingMeaToDim:u};function t(t,e){if(!t||!e)throw new Error("Missing required parameter")}function e(t){return 3===t.typeFlag||t.__sortableItem__&&3===t.__sortableItem__.typeFlag}function n(t){return 12===t.typeFlag||t.__sortableItem__&&12===t.__sortableItem__.typeFlag}function i(t){return 5===t.typeFlag||t.__sortableItem__&&5===t.__sortableItem__.typeFlag}function r(t,e,n){if("measure"===t.type&&"measure"===e.type)return 1===n.typeFlag||3===n.typeFlag;return(1===e.typeFlag||3===e.typeFlag)&&"measure"===t.type}function a(t,e){return"dimension"===t.type&&n(e)}function o(t,r,a){return"dimension"===t.type&&"dimension"===r.type?e(t)&&(i(a)||n(a)):e(t)&&(i(r)||n(r))}function s(e,r,a){t(e,r);if("dimension"===e.type&&"dimension"===r.type)return"dimension"===e.type&&!!e.data.qLibraryId&&(i(a)||n(a));return"dimension"===e.type&&!!e.data.qLibraryId&&(i(r)||n(r))}function l(t){return t.isInvalid&&t.isInvalid()}function d(e,n){t(e,n);return!(e.isInvalid&&e.isInvalid())&&"dimension"===e.type&&!e.data.qLibraryId&&5===n.typeFlag}function u(e,n){t(e,n);return!(e.isInvalid&&e.isInvalid())&&"measure"===e.type&&!e.data.qLibraryId&&1===n.typeFlag}}.apply(e,i),void 0!==r&&(t.exports=r))},739:function(t,e,n){"use strict";var i,r;!(i=[n(740)],r=function(t){var e={create:n};return e;function n(e,n){return new t(e,n)}}.apply(e,i),void 0!==r&&(t.exports=r))},740:function(t,e,n){"use strict";var i,r;!(i=[n(741),n(165),n(81)],r=function(t,e,n){function i(t,e){r(t,e,this)}i.prototype.isChangeable=a;i.prototype.getAggregation=o;i.prototype.getRemainder=s;i.prototype.openPopover=l;i.prototype.closePopover=d;i.prototype.isPopoverOpen=u;return i;function r(e,n,i){e||c("Scope is required");n||c("LuiPopover is required");i.popovers=[];i.createPopover=function(){return t.create(e,n)}}function a(t){if(!t||!t.qDef)return false;var n=!!t.qDef.qLabel||!!t.qDef.qLabelExpression,i=!!t.qLibraryId;if(n||i)return false;var r=e.classify(t.qDef.qDef);return 1===r.count&&r.result.function.isCommon}function o(t){if(!t)return"";var i=e.classify(t);return n.getFormattedAggregation(i.result.function.content)}function s(t){if(!t)return"";var n=e.classify(t);return n.result.remainder.content}function l(t,e,n,i){var r=this,a=r.popovers[e];if(!a){a=r.createPopover();r.popovers[e]=a}Object.keys(this.popovers).forEach(function(t){if(t===e)return;r.popovers[t].close();delete r.popovers[t]});a.open(t,n,i)}function d(t){var e=this.popovers[t];if(e){e.close();delete this.popovers[t]}}function u(t){var e=this.popovers[t];return!!e&&e.isOpen()}function c(t){throw new Error("ChangeMeasureAggregationService: "+t)}}.apply(e,i),void 0!==r&&(t.exports=r))},741:function(t,e,n){"use strict";var i,r;!(i=[n(742)],r=function(t){var e={create:n};return e;function n(e,n){return new t(e,n)}}.apply(e,i),void 0!==r&&(t.exports=r))},742:function(t,e,n){"use strict";var i,r;!(i=[n(105),n(81),n(250),n(743),n(47)],r=function(t,e,n,i,r){function a(t,e){o(this,t,e)}a.prototype.open=s;a.prototype.close=l;a.prototype.isOpen=d;return a;function o(n,r,a){r||u("Scope is required");a||u("LuiPopover is required");n.scope=r;n.luiPopover=a;n.popover=null;n.defaultConfig={isOpenButton:function t(){return false},onAggregationChanged:function t(){}};var o=t.COMMON_FUNCTIONS.map(function(t){return e.getFormattedAggregation(t)});n.settings={template:i,input:{aggregations:o},dock:"bottom",closeOnResize:true,closeOnOutside:true}}function s(t,e,i){t.stopPropagation();var a=this;if(a.popover){a.popover=null;return}var o=r.extend({},a.defaultConfig,i);a.settings.alignTo=t.target;a.settings.input.getCurrentAggregation=function(){return e.currentAggregation};a.settings.input.onAggregationChanged=function(t){e.currentAggregation=t;var i=n.addAggregation(t,e.remainder);e.data.qDef.qDef=i;o.onAggregationChanged(e,t);a.scope.$emit("saveProperties");l.call(a)};a.popover=a.luiPopover.show(a.settings);a.popover.closing.then(function(t){t&&!o.isOpenButton(t.target)&&(a.popover=null)})}function l(){if(this.popover){this.popover.close();this.popover=null}}function d(){return!!this.popover}function u(t){throw new Error("ChangeAggregationPopover: "+t)}}.apply(e,i),void 0!==r&&(t.exports=r))},743:function(t,e){t.exports='<lui-popover class="pp-selectaggregation-popover">\n\t<div class="lui-popover__body lui-popover__body lui-nopad">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item" \n\t\t\t\tng-repeat="aggregation in aggregations" \n\t\t\t\tng-class="{ \'lui-active\': aggregation === getCurrentAggregation() }"\n\t\t\t\tng-click="onAggregationChanged(aggregation)"\n\t\t\t\ttitle="{{aggregation}}">\n\t\t\t\t<span class="lui-list__text lui-list__action">{{aggregation}}</span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</lui-popover>'},744:function(t,e,n){"use strict";var i,r;!(i=[n(44),n(251),n(55)],r=function(t,e,n){function i(i,r,a){var o=false;var s=null;var l=a.cond||function(){return true};var d=a.onStart||function t(){};var u=a.onStop||function t(){};var c=a.isEnabled||function(){return true};function p(e){return"string"===typeof a.elem?t(a.elem)[0]:"function"===typeof a.elem?a.elem(e):a.elem}function f(e){return"function"===typeof a.info?a.info(t(e.target).scope(),e):a.info}function g(e){t(e.target).off("remove",g);o.cancel();u(e,true)}i.on("qv-press",r,function(t){o=null;var e=f(t);if(!c(e,t)){o=false;return}a.allowScroll||n.utils.touch||t.preventDefault()});i.on("qv-swipe",r,function(e){if(false===o)return;if(true===o){clearTimeout(s);s=null}else if(o){t(e.target).off("remove",g);o.update(e);o.end(e);u(e,false)}o=false});i.on("qv-swipecancel",r,function(e){if(false===o)return;if(true===o){clearTimeout(s);s=null}else if(o){t(e.target).off("remove",g);o.cancel();u(e,true)}o=false});i.on("qv-swipestart qv-swipeupdate",r,function(i){if(false===o)return;if(!o){var r=l(i.gestureData.swipe);if(r){o=true;n.WebkitHack.prevent();s=setTimeout(function(){s=null;t(i.target).on("remove",g);d(i,t(i.target).scope());var n=p(i);var r=f(i);o=e.startDrag(n,r);o&&o.update(i)},0)}else false===r&&(o=false)}if(o){i.preventDefault();true!==o&&o.update(i)}})}return{addDrag:i}}.apply(e,i),void 0!==r&&(t.exports=r))},745:function(t,e,n){"use strict";var i,r;!(i=[n(53),n(68),n(746),n(44),n(747),n(45),n(211)],r=function(t,e,n,i,r,a,o){var s,l,d=window.devicePixelRatio||1,u=document.createElement("canvas"),c=u.getContext("2d"),p=document.createElement("span"),f=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1,g=d/f,v={},m=[],h=!o.supportDirAuto();p.innerText="Wj";function x(t,e){m.length>100&&delete v[m.shift()];m.push(t);v[t]=e}function b(t){if(t.font in v)return v[t.font];var e=1.5*t.measureText("m").width;x(t.font,e);return e}function y(t,e,n,i,r){var a=e.shape.points,o=a?a.length:0,s,l;t.beginPath();s=a[0];if(!s)return;t.moveTo(s.x,s.y);for(l=1;l<o;l+=1){s=a[l];t.lineTo(s.x,s.y)}r&&t.closePath();n&&t.fill();i&&t.stroke()}l={rect:function t(e,n,i,r){i&&e.fillRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0);r&&e.strokeRect(n.shape.x||0,n.shape.y||0,n.shape.width||0,n.shape.height||0)},roundRect:function t(e,n,i,r){e.beginPath();e.moveTo(n.shape.x+n.shape.radius,n.shape.y);e.lineTo(n.shape.x+n.shape.width-n.shape.radius,n.shape.y);e.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y,n.shape.x+n.shape.width,n.shape.y+n.shape.radius);e.lineTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height-n.shape.radius);e.quadraticCurveTo(n.shape.x+n.shape.width,n.shape.y+n.shape.height,n.shape.x+n.shape.width-n.shape.radius,n.shape.y+n.shape.height);e.lineTo(n.shape.x+n.shape.radius,n.shape.y+n.shape.height);e.quadraticCurveTo(n.shape.x,n.shape.y+n.shape.height,n.shape.x,n.shape.y+n.shape.height-n.shape.radius);e.lineTo(n.shape.x,n.shape.y+n.shape.radius);e.quadraticCurveTo(n.shape.x,n.shape.y,n.shape.x+n.shape.radius,n.shape.y);e.closePath();i&&e.fill();r&&e.stroke()},circle:function t(e,n,i,r){n.shape&&n.shape.r&&!n.shape.radius&&(n.shape.radius=n.shape.r);if(isNaN(n.shape.cx)||isNaN(n.shape.cy)||isNaN(n.shape.radius)||n.shape.radius<=0)return;var a=.551784;e.save();e.translate(n.shape.cx,n.shape.cy);e.scale(n.shape.radius,n.shape.radius);e.beginPath();e.moveTo(1,0);e.bezierCurveTo(1,-a,a,-1,0,-1);e.bezierCurveTo(-a,-1,-1,-a,-1,0);e.bezierCurveTo(-1,a,-a,1,0,1);e.bezierCurveTo(a,1,1,a,1,0);e.closePath();e.restore();i&&e.fill();r&&e.stroke()},line:function t(e,n,i,r){if(!r)return;e.beginPath();e.moveTo(n.shape.x1,n.shape.y1);e.lineTo(n.shape.x2,n.shape.y2);e.stroke()},polygon:function t(e,n,i,r){y(e,n,i,r,true)},polyline:function t(e,n,i,r){y(e,n,i,r)},polygons:function t(e,n,i,r){var t=n.shape.polygons,a=t?t.length:0,o,s,l,d,u,c;e.beginPath();for(u=0;u<a;u++){o=t[u];s=o.points;l=s?s.length:0;if(0===l)continue;d=s[0];if(!d)continue;e.moveTo(d.x,d.y);for(c=1;c<l;c+=1){d=s[c];e.lineTo(d.x,d.y)}}i&&e.fill();r&&e.stroke()},multipolygon:function t(e,n,i,r){var a=n.shape.geopolygons,o=a?a.length:0,s,l,d,u,c,p,f,g;e.beginPath();for(p=0;p<o;p++){s=a[p].getPolygons();l=s?s.length:0;for(f=0;f<l;f++){d=s[f].points;u=d?d.length:0;if(0===u)continue;c=d[0];if(!c)continue;e.moveTo(c.x,c.y);for(g=1;g<u;g+=1){c=d[g];e.lineTo(c.x,c.y)}}}i&&e.fill();r&&e.stroke()},arc:function t(e,n,i,r){var t=n.shape;e.beginPath();if(t.end-t.start===2*Math.PI){e.arc(t.cx,t.cy,t.radius,t.start+t.radianOffset,t.end+t.radianOffset,false);e.moveTo(t.cx+t.innerRadius*Math.cos(t.radianOffset+t.start),t.cy+t.innerRadius*Math.sin(t.radianOffset+t.start));e.arc(t.cx,t.cy,t.innerRadius,t.end+t.radianOffset,t.start+t.radianOffset,true)}else{e.arc(t.cx,t.cy,t.radius,t.start+t.radianOffset,t.end+t.radianOffset,false);if(!isNaN(t.innerRadius)&&t.innerRadius!==t.radius){e.lineTo(t.innerRadius*Math.cos(t.end+t.radianOffset)+t.cx,t.innerRadius*Math.sin(t.end+t.radianOffset)+t.cy);t.innerRadius>0&&e.arc(t.cx,t.cy,t.innerRadius,t.end+t.radianOffset,t.start+t.radianOffset,true);e.lineTo(t.radius*Math.cos(t.start+t.radianOffset)+t.cx,t.radius*Math.sin(t.start+t.radianOffset)+t.cy)}}e.closePath();i&&e.fill();r&&e.stroke()},text:function t(e,n){if(!n.shape||!n.shape.text||!n.fill)return;n.shape.font&&(e.font=n.shape.font);n.shape.align&&(e.textAlign=n.shape.align);n.shape.baseline&&(e.textBaseline=n.shape.baseline);w(e,n.shape)}};function D(t,e,n){var i,r=t?t.replace(/^\s*|\s*$/,"").split(" "):[],a=[],o,s,l=r[0];if(!l)return[];for(i=1;i<r.length;i++){o=l+" "+r[i];s=c.measureText(o).width;if(s>e&&n>a.length){a.push(l);l=r[i]}else l=o}a.length<n?a.push(l):a[Math.max(0,a.length-1)]?a[Math.max(0,a.length-1)]+=" "+l:a[Math.max(0,a.length-1)]=" "+l;return a}function _(t,e,n){if(void 0===t)return;var i,r,a,o,s,l,d,u="…",p,f=c.measureText("i").width;for(i=0;i<t.length;i++){r=t[i];d=Math.ceil(Math.max(0,e/f))+1;if(d<r.length){o=r.slice(d);r=r.slice(0,d)}else o="";a=r;if(r&&r.length>1&&c.measureText(r).width>e){s=false;for(l=r.length;l>0;l--){a=a.substring(0,a.length-1);p=a+(i+1<n?"-":u);if(c.measureText(p).width<e){o=r.substring(l-1)+o;r=p;s=true;break}}if(!s){o=r.substring(1);r=r.substring(0,1)}if(!s&&!l){o="";r=u}}t[i]=String(r).trim();o&&i<t.length-1?t[i+1]=o+" "+t[i+1]:o&&t.length<n&&t.push(o)}}function q(t,e,n){var i=n.maxWidth,r;if(isNaN(i))return[t];r=e>1?D(t,i,e):[t];_(r,i,e);return r}function w(t,e,n){var i=e.text,r=(e.lineHeight||1)*b(t),a="maxWidth"in e?e.maxWidth:e.width,s="maxHeight"in e?e.maxHeight:e.height,l=e.width,d=e.height,u=e.maxNumLines,p,f=e.x||0,g=e.y||0,v=t.textAlign,m="center"===v&&h,x,y,D;c.font=t.font;isNaN(u)&&(u=s?Math.max(1,Math.floor(s/r)):1);p=q(i,u,{maxWidth:a,maxHeight:s});if(n){l=0;for(x=0;x<p.length;x++)l=Math.max(l,t.measureText(p[x]).width);return{lines:p,numLines:p.length,width:l,height:p.length*r,truncated:Array.isArray(/…$/.exec(p[p.length-1]))}}"middle"===t.textBaseline?"undefined"!==typeof d?g+=d/2:p.length&&(g-=(p.length-1)*r/2):"bottom"===t.textBaseline&&("undefined"!==typeof d?g+=d:g-=(p.length-1)*r);"center"===t.textAlign&&l?f+=l/2:"right"===t.textAlign&&l&&(f+=l);for(x=0;x<p.length;x++){y=o.detectTextDirection(p[x]);t.canvas.dir=y;if(m&&"rtl"===y){t.textAlign="left";D=f-t.measureText(p[x]).width/2}else{t.textAlign=v;D=f}t.canvas.dir=o.detectTextDirection(p[x]);t.fillText(p[x],D,g);g+=r}t.textAlign=v}function E(t,e,n,i,r,a){var o,s,d,u,c,p,f;for(o=0;o<n.length;o+=1){u=n[o];if(!u)continue;t.save();d=u.transform;if(d){e.save();e.multiply(d)}"opacity"in u&&(t.globalAlpha=u.opacity);if(u.fill)if(u.fill.gradient){f=u.fill.gradient;if(isNaN(f.x0)||isNaN(f.y0)||isNaN(f.x1)||isNaN(f.y1))return;p=t.createLinearGradient(f.x0,f.y0,f.x1,f.y1);for(s=0;s<f.limits.length;s++)p.addColorStop(f.limits[s],f.colors[s]);t.fillStyle=p}else t.fillStyle=u.fill;if(u.stroke&&0!==u.strokeWidth){if(u.stroke.gradient){f=u.stroke.gradient;p=t.createLinearGradient(f.x0,f.y0,f.x1,f.y1);for(s=0;s<f.limits.length;s++)p.addColorStop(f.limits[s],f.colors[s]);t.strokeStyle=p}else t.strokeStyle=u.stroke;t.lineWidth=u.strokeWidth||1;i>1&&"polygon"!==u.type&&(t.lineWidth/=i)}u.lineJoin&&(t.lineJoin=u.lineJoin);u.lineCap&&(t.lineCap=u.lineCap);c=e.elements;if("group"===u.type){e.save();if(u.clip){t.beginPath();t.setTransform(c[0][0],c[1][0],c[0][1],c[1][1],c[0][2],c[1][2]);t.rect(u.clip.rect.x,u.clip.rect.y,u.clip.rect.width,u.clip.rect.height);t.clip()}E(t,e,u.children,void 0,!!u.fill||!!r,!!u.stroke&&0!==u.strokeWidth||!!a);e.restore()}else if(u.type in l){t.setTransform(c[0][0],c[1][0],c[0][1],c[1][1],c[0][2],c[1][2]);l[u.type](t,u,!!u.fill||!!r,!!u.stroke&&0!==u.strokeWidth||!!a)}t.globalAlpha=1;d&&e.restore();t.restore()}}function C(t,e,n){if(n){var i=e.elements;switch(n.type){case"clip":t.save();t.setTransform(i[0][0],i[1][0],i[0][1],i[1][1],i[0][2],i[1][2]);t.beginPath();t.rect(n.rect.x,n.rect.y,n.rect.width,n.rect.height);t.clip();break;case"slice":break;default:break}}}function I(t,e){e&&t.restore()}s=t.extend({init:function t(n,a){var o=i.extend(true,{storeObjects:false},a);this._container=n;this._canvas=document.createElement("canvas");this._canvas.style.position="absolute";this._canvas.width=0;this._canvas.height=0;o.name&&this._canvas.setAttribute("name",o.name);this.storeRenderedObjects=true===o.storeObjects;this.scaling={x:1,y:1};this._container&&this._container.appendChild(this._canvas);this.rect=new e(0,0,0,0);this.shapes=[];this._matrix=new r},setDimensions:function t(e,n,i,r){this.rect.set(e,n,i,r)},setDimensionsToContainerRatio:function t(e,n){this.scaling={x:e,y:n};this.ratios={x:e,y:n}},show:function t(){this._canvas.style.display=""},hide:function t(){this._canvas.style.display="none"},clear:function t(e){if(e){if(!this._clearTimer){var r=this;this._clearTimer=n.request(function(){if(r._clearTimer){r._canvas.width=0;r._clearTimer=0}})}}else{n.cancel(this._clearTimer);this._clearTimer=0;this._canvas.width=0;this._canvas.height=0;i(this._canvas).data("shapes",null);this.shapes=[]}},render:function t(){n.cancel(this._clearTimer);this._clearTimer=0;d=window.devicePixelRatio||1;f=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;g=d/f;var e=this._canvas,r=e.getContext("2d"),o=g,s=this._matrix,l=0,u=0,p,v;v=this.rect.height*this.scaling.y;p=this.rect.width*this.scaling.x;if(this.edgeBleed){l=this.edgeBleed.left*this.scaling.x;u=this.edgeBleed.top*this.scaling.y;v+=this.edgeBleed.top*this.scaling.y+this.edgeBleed.bottom*this.scaling.y;p+=this.edgeBleed.left*this.scaling.x+this.edgeBleed.right*this.scaling.x}v=Math.round(v);p=Math.round(p);this._canvas.style.left=-l+"px";this._canvas.style.top=-u+"px";if(e.width!==p||e.height!==v){e.width=o*p;e.height=o*v;this._canvas.style.width=p+"px";this._canvas.style.height=v+"px"}else r.clearRect(0,0,e.width,e.height);r.save();s.save();s.scale(o*this.scaling.x,o*this.scaling.y);s.translate(l/this.scaling.x,u/this.scaling.y);C(r,s,this.viewBox);E(r,s,this.shapes,this.scaling.x);I(r,this.viewBox);r.restore();s.restore();this.storeRenderedObjects&&i(this._canvas).data("shapes",this.shapes);return a.resolve()},setFont:function t(e){this._canvas.getContext("2d").font=e},getFontHeight:function t(e){if("string"!==typeof e)throw new Error("CanvasRenderer.getFontHeight(): Input font is not a string");if(e in v)return v[e];var n=this._canvas.getContext("2d"),i;if(n.font!==e){n.save();n.font=e;i=1.5*n.measureText("m").width;n.restore()}else i=1.5*n.measureText("m").width;x(e,i);return i},getTextWidth:function t(e,n){var i=this._canvas.getContext("2d"),r;i.save();i.font=n;r=void 0!==e?Math.ceil(i.measureText(e).width):0;i.restore();return r},getEMFontWidth:function t(e){var n="m",i,r=this._canvas.getContext("2d");r.save();r.font=e;i=r.measureText(n).width;r.restore();return i},getAverageLetterWidth:function t(e){var n="eeeaaaiinnoorsstldumcph",i;c.font=e||this._canvas.getContext("2d").font;i=c.measureText(n).width;return i/n.length},release:function t(){i(this._canvas).data("shapes",null);this.shapes=[];if(this._container){this._container.removeChild(this._canvas);this._container=null}},applyTransform:function t(){var e;for(e=0;e<this.shapes.length;e+=1)this.shapes[e].type in L&&L[this.shapes[e].type](this.shapes[e].shape,this.ratios)}});var L={rect:function t(e,n){e.x*=n.x;e.y*=n.y;e.width*=n.x;e.height*=n.y},line:function t(e,n){e.x1*=n.x;e.y1*=n.y;e.x2*=n.x;e.y2*=n.y},circle:function t(e,n){e.cx*=n.x;e.cy*=n.y;e.r*=Math.min(n.x,n.y)},polygon:function t(e,n){var i,r;for(i=0;i<e.points.length;i++){r=e.points[i];r.x*=n.x;r.y*=n.y}},text:function t(e,n){e.x*=n.x;e.y*=n.y;e.width*=n.x;e.height*=n.y}};s.getTextWidth=function(t){return Math.ceil(c.measureText(t).width)};s.setFont=function(t){c.font=t};s.getAverageLetterWidth=function(t){var e="eeeaaaiinnoorsstldumcph",n;c.font=t;n=c.measureText(e).width;return n/e.length};s.measureText=function(t,e){var n=c,i,r,a;if(e&&n.font!==e){n.save();n.font=e}r=n.measureText(t).width;if(e in v)i=v[e];else{i=1.5*n.measureText("m").width;x(e,i)}e&&n.restore();a=void 0!==t?{width:r,height:i}:{width:0,height:0};return a};s.measureTextObject=function(t){t.shape.font&&(c.font=t.shape.font);t.shape.align&&(c.textAlign=t.shape.align);t.shape.baseline&&(c.textBaseline=t.shape.baseline);return w(c,t.shape,true)};s.measureDisplayTextObject=function(t){t.font&&(c.font=t.font);t.align&&(c.textAlign=t.align);t.baseline&&(c.textBaseline=t.baseline);return w(c,t,true)};s.getFontHeight=function(t){var e=c,n;if(t in v)return v[t];if(t){e.save();e.font=t}n=1.5*e.measureText("m").width;x(t,n);t&&e.restore();return n};s.getDevicePixelToBackingStoreRatio=function(){return(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)};return s}.apply(e,i),void 0!==r&&(t.exports=r))},746:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t=function t(e){return window.setTimeout(e,1e3/60)},e=function t(e){return window.clearTimeout(e)},n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||t,i=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.msCancelAnimationFrame||e;return{request:n===t?t:n.bind(window),cancel:i===e?e:i.bind(window)}}.apply(e,i),void 0!==r&&(t.exports=r))},747:function(t,e,n){"use strict";var i,r;!(i=[n(53)],r=function(t){var e;e=t.extend({init:function t(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];this._stack=[]},clone:function t(){var n=new e;return n.multiply(this._elements)},set:function t(e){this._elements=e;return this},save:function t(){this._stack.push(this.elements);return this},restore:function t(){this._stack.length&&(this._elements=this._stack.pop());return this},add:function t(e){var n,i;for(n=0;n<this._elements.length;n++)for(i=0;i<this._elements[n].length;i++)this._elements[n][i]+=e;return this},translate:function t(e,n){this.multiply([[1,0,e],[0,1,n],[0,0,1]]);return this},rotate:function t(e){var n=Math.cos(-e),i=Math.sin(-e);this.multiply([[n,i,0],[-i,n,0],[0,0,1]]);return this},skew:function t(e,n){var i=Math.tan(e),r=Math.tan(n);this.multiply([[1,i,0],[r,1,0],[0,0,1]]);return this},multiply:function t(n){var i,r,a,o;n instanceof e&&(n=n._elements);if(Array.isArray(n)){a=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)for(o=0;o<3;o++)a[i][r]+=this._elements[i][o]*n[o][r];this._elements=a}else for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)this._elements[i][r]*=n;return this},scale:function t(e,n){(arguments.length<2||"undefined"===typeof n)&&(n=e);this.multiply([[e,0,0],[0,n,0],[0,0,1]]);return this},determinant:function t(){var e=this._elements[0][0],n=this._elements[0][1],i=this._elements[0][2],r=this._elements[1][0],a=this._elements[1][1],o=this._elements[1][2],s=this._elements[2][0],l=this._elements[2][1],d=this._elements[2][2],u=0;u=e*a*d+n*o*s+i*r*l-i*a*s-n*r*d-e*o*l;return u},invert:function t(){var e=this.determinant(),n=this._elements[0][0],i=this._elements[0][1],r=this._elements[0][2],a=this._elements[1][0],o=this._elements[1][1],s=this._elements[1][2],l=this._elements[2][0],d=this._elements[2][1],u=this._elements[2][2];this._elements=[[o*u-s*d,r*d-i*u,i*s-r*o],[s*l-a*u,n*u-r*l,r*a-n*s],[a*d-o*l,l*i-n*d,n*o-i*a]];this.multiply(1/e);return this},transpose:function t(){var e=Object.create(this._elements);this._elements=[[e[0][0],e[1][0],e[2][0]],[e[0][1],e[1][1],e[2][1]],[e[0][2],e[1][2],e[2][2]]];return this},identity:function t(){this._elements=[[1,0,0],[0,1,0],[0,0,1]];return this},transformPoint:function t(e){var n=[e.x,e.y,1],i,r,a=this._elements,o=[0,0,0];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)o[i]+=n[r]*a[i][r];return{x:o[0],y:o[1]}},transformPoints:function t(e){var n,i,r,a,o,s=this._elements,l=[];for(a=0;a<e.length;a++){n=[e[a].x,e[a].y,1];o=[0,0,0];for(i=0;i<this._elements.length;i++)for(r=0;r<this._elements[i].length;r++)o[i]+=n[r]*s[i][r];l.push({x:o[0],y:o[1]})}return l},toString:function t(){var e="";this._elements.forEach(function(t,n,i){e+=t.join("\t")+(n<i.length?"\n":"")});return e},isIdentity:function t(){var e=this._elements;return 1===e[0][0]&&0===e[0][1]&&0===e[0][2]&&0===e[1][0]&&1===e[1][1]&&0===e[1][2]&&0===e[2][0]&&0===e[2][1]&&1===e[2][2]},identityIfClose:function t(e){var n=this._elements;Math.abs(n[0][0]-1)<e&&Math.abs(n[0][1])<e&&Math.abs(n[0][2])<e&&Math.abs(n[1][0])<e&&Math.abs(n[1][1]-1)<e&&Math.abs(n[1][2])<e&&Math.abs(n[2][0])<e&&Math.abs(n[2][1])<e&&Math.abs(n[2][2]-1)<e&&this.identity()}});Object.defineProperties(e.prototype,{elements:{get:function t(){var e=this._elements;return[[e[0][0],e[0][1],e[0][2]],[e[1][0],e[1][1],e[1][2]],[e[2][0],e[2][1],e[2][2]]]}}});return e}.apply(e,i),void 0!==r&&(t.exports=r))},748:function(t,e,n){"use strict";var i,r;!(i=[n(62),n(249)],r=function(t,e){var n={gather:i};return n;function i(t){t=t||{};if(!r(t))return;e.put(t.expression,t.aggregation)}function r(e){return!!e.expression&&t.isString(e.expression)&&!!e.aggregation&&t.isString(e.aggregation)}}.apply(e,i),void 0!==r&&(t.exports=r))},749:function(t,e,n){"use strict";var i,r;!(i=[n(41),n(74),n(46),n(251),n(750)],r=function(t,e,n,i,r){var a="hover",o=".drag-and-drop-canvas",s={DRAG_BEGIN:"/pp-drop-zone/drag-begin",DRAG_END:"/pp-drop-zone/drag-end"};t.nativeComponent("ppDropZone",{template:r,replace:true,bindings:{onDragBegin:"&",onDrop:"&",cssClass:"@",sizeSelector:"@",translation:"@"},controller:["$scope","$element","$document",function(t,r,l){var d=this,u,c=r.children().first();d.$onInit=function(){d.text=n.get(d.translation);e.subscribe(s.DRAG_BEGIN,p);e.subscribe(s.DRAG_END,v);v();u={accept:{libraryitem:function t(e){return"field"===e.item.type||"measure"===e.item.type||"dimension"===e.item.type},inline:function t(){return true}},start:function t(e){if(!f(e.info))return;b(e.info)&&y();g();var n={targetRect:function t(){return c[0].getBoundingClientRect()},drop:function t(e){d.onDrop({info:e})},enter:function t(){h()},leave:function t(){x()}};e.registerDropRect(n)},end:function t(){v();x()}};i.registerDropTarget(u)};t.$on("$destroy",function(){e.unsubscribe(s.DRAG_BEGIN,p);e.unsubscribe(s.DRAG_END,v);i.unregisterDropTarget(u)});function p(t){if(!f(t))return;g()}function f(t){return d.onDragBegin({info:t})}function g(){m();c.show()}function v(){c.hide()}function m(){if(!d.sizeSelector)return;var t=c.closest(d.sizeSelector);if(!t.length)return;var e=t.position(),n=e.top,i=t.height(),r=t.width();c.css({top:n,height:i,width:r})}function h(){c.addClass(a)}function x(){c.removeClass(a)}function b(t){return"inline"===t.type}function y(){var t=l.find(o);t.length&&t.hide()}}]})}.apply(e,i),void 0!==r&&(t.exports=r))},750:function(t,e){t.exports='<div class="pp-drop-zone {{$ctrl.cssClass}}">\n\t<div class="pp-drop-zone__content">\n\t\t<i class="pp-drop-zone__icon lui-icon lui-icon--drop"></i>\n\t\t<span class="pp-drop-zone__text">{{$ctrl.text}}</span>\n\t</div>\n</div>'},751:function(t,e,n){"use strict";var i,r;!(i=[n(44),n(59),n(50),n(166),n(60),n(752),n(753),n(115),n(150)],r=function(t,e,n,i,r,a,o,s,l){var d={template:a,controller:["$scope",function(a){var d=a.args.cache,u="sortable_",c=l.create();a.expandClicked=function(e,n){if(n.disabled||t(e.target).hasClass("pp-move-item"))return;n.expanded=!n.expanded;d.put(u+n.id,n.expanded)};function p(){a.sortableItemLists.reset();c.resetTitles();var t=[],i=[];var r=a.definition.items.dimensions;var o=n.getValue(a.data,r.ref,[]);o.forEach(function(n,o){var l=n.qDef.cId,p,f=true;"function"===typeof r.included?f=r.included.call(null,o,a.data,a.args.handler):"boolean"===typeof r.included&&(f=r.included);"function"===typeof r.locked?p=r.locked.call(null,o,a.data,a.args.handler):"boolean"===typeof r.locked&&(p=r.locked);if(f){t.push({title:function t(){var e=a.args.handler.getDimensionLayout(l);return c.getDimensionTitle(e,n,true)},isInvalid:function t(){var e=a.args.handler.getDimensionLayout(l);return e&&!!e.qError&&!s.isCalcCondNotCalculatedErr(e.qError)},component:e.getComponent("items"),definition:r,data:n,args:a.args,type:"dimension",id:n.qDef.cId,interColIx:o,expanded:true===r.expanded||d.get(u+l)||false,sortable:false!==r.allowMove&&!p,showPriority:false!==r.showPriority,templateSrc:"pp-sorting-item.ng.html"});i.push(i.length)}});var l=a.definition.items.measures;var p=n.getValue(a.data,l.ref,[]);p.forEach(function(n,r){var s=n.qDef.cId,p,f=true,g=a.args.handler.getMeasureLayout(s),v;"function"===typeof l.included?f=l.included.call(null,r,a.data,a.args.handler):"boolean"===typeof l.included&&(f=l.included);"function"===typeof l.locked?p=l.locked.call(null,r,a.data,a.args.handler):"boolean"===typeof l.locked&&(p=l.locked);c.getMeasureTitle(g,n,true,a.args.app).then(function(t){v=t});if(f){t.push({title:function t(){return v},isInvalid:function t(){var e=a.args.handler.getMeasureLayout(s);return e&&!!e.qError},component:e.getComponent("items"),definition:l,data:n,args:a.args,type:"measure",id:n.qDef.cId,interColIx:o.length+r,expanded:true===l.expanded||d.get(u+s)||false,sortable:false!==l.allowMove&&!p,showPriority:false!==l.showPriority,templateSrc:"pp-sorting-item.ng.html"});i.push(i.length)}});var f=n.getValue(a.data,a.definition.sortIndexRef,void 0),v,m;if(f&&i.length!==f.length){v=i.sort(function(t,e){return f.indexOf(t)>f.indexOf(e)});m=v.map(function(e,n){return t[n]})}else m=f?f.map(function(e){return t[e]}):t;m.forEach(function(t,e){t.priority=e+1});m.forEach(function(t){g.addSortableItem(t)})}a.sortableItemLists=i.create({options:{direction:"vertical",listKey:"list",listSelector:".pp-expandable-list",itemKey:"item",itemSelector:".qv-pp-sortable",itemDragSelector:".qv-pp-sortable-handle",gesture:{name:"swipe",options:{radiusThreshold:r.treatAsDesktop()?4:0,preventDefault:false}}},addPlaceholder:function t(){var e=this._super.apply(this,arguments);e.classList=["qv-pp-sortable"]},onBegin:function t(){this._super.apply(this,arguments);f()},onMove:function t(){var e=this._super.apply(this,arguments);if(e){var i=g.get().map(function(t){return t.interColIx});var r=n.getValue(a.data,a.definition.sortIndexRef);i.length!==r.length&&(i=o.sortBasedOnSubSet(r,i));n.setValue(a.data,a.definition.sortIndexRef,i);a.$emit("saveProperties")}return e}});function f(){g.get().forEach(function(t){t.expanded=false;d.put(u+t.id,false)})}var g=a.sortableItemLists.createList(1,{tid:"sorting"});Object.keys(a.definition.items).forEach(function(t){var e=a.definition.items[t];a.$watchCollection("data."+e.ref,function(){p()})});a.$watchCollection("data."+a.definition.sortIndexRef,function(){p()})}]};return d}.apply(e,i),void 0!==r&&(t.exports=r))},752:function(t,e){t.exports='<div class="pp-component pp-sorting-component" style="position:relative; height: 100%;" tcl="sorting" qv-sortable-list="sortableItemLists">\n\t<div ng-if="sortableItemLists.lists[0].isEmpty()" class="pp-data-empty-hint">\n\t\t<span q-translation="Common.NoData"></span>\n\t</div>\n\t<ul class="pp-expandable-list pp-data-list">\n\t\t<li ng-repeat="item in sortableItemLists.lists[0].items track by item.id" ng-include src="item.templateSrc" ng-class="item.classList"></li>\n\t</ul>\n</div>'},753:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={sortBasedOnSubSet:function t(e,n){var i,r=0,a=n.map(function(t){return e.indexOf(t)}).filter(function(t){return t>-1});i=e.map(function(t,e){var i=a.indexOf(e);return i>-1?n[r++]:t});return i}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},754:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(50),n(69),n(755)],r=function(t,e,n,i){var r={template:i,controller:["$scope",a]};return r;function a(i){var r=i.definition.ref?i.definition.ref+".":"",a=r+"qDef.qFieldDefs",o=r+"qDef.qFieldLabels",s=r+"qDef.qLabelExpression",l=function t(){return i.data};t.defineChange(i,i.args.handler);i.items=u();i.$watchCollection("data."+a,d);i.$watch("data."+s,d);function d(){i.items=u()}function u(){var t=e.getValue(i.data,a,[]);var n=t.map(c);return n}function c(t,e){var n={field:p(t,e),label:f(e)};return n}function p(e,n){var r={definition:{type:"string",ref:m(a,n),expression:"always"},isLocked:function t(){return g(r.value)},isValid:true,setIsValid:function t(e){r.isValid=e},onExpressionEditorApply:function t(e){r.value=e;i.change()},interpretAsExpression:function t(){return v(r.value)}};t.defineValue(r,r.definition,l,"value");return r}function f(t){var n={isValid:true,setIsValid:function t(e){n.isValid=e},isLocked:function t(){return g(n.value)},onExpressionEditorApply:function t(e){var r;if(e){r=e.qStringExpression.qExpr;r&&"="!==r.charAt(0)&&(r="="+r)}n.value=r;i.change()},interpretAsExpression:function t(){return v(n.value)},getValueForExpressionEditor:function t(){var e=n.value;n.interpretAsExpression()&&(e={qStringExpression:{qExpr:e}});return e}};var r=m(o,t);Object.defineProperty(n,"value",{get:function t(){var n=e.getValue(l(),s);return n||e.getValue(l(),r)},set:function t(n){var i=n&&0===n.indexOf("=")?s:r;e.setValue(l(),i,n||void 0);var a=i===s?r:s;e.setValue(l(),a,void 0)}});return n}function g(t){if(!t)return false;return-1!==t.indexOf("\n")||t.length>n.name}function v(t){return t&&"="===t.charAt(0)}function m(t,e){return t+"."+e}}}.apply(e,i),void 0!==r&&(t.exports=r))},755:function(t,e){t.exports='<div tcl="dimensions">\n\n\t\x3c!-- Field --\x3e\n\t<div class="pp-component pp-string-component" tcl="string">\n\t\t<div class="label" q-translation="Common.Field"></div>\n\t\t<div class="value">\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input lui-input-group__item lui-input-group__input" type="text" maxlength="255" spellcheck="false" ng-readonly="items[0].field.isLocked()"\n\t\t\t\t pp-input-validator pp-validation-on-result="items[0].field.setIsValid(isValid)" pp-expression-editor="items[0].field.value"\n\t\t\t\t editor-disabled="!items[0].field.isLocked()" expression-type="dimension" pp-expression-editor-on-apply="items[0].field.onExpressionEditorApply(value)"\n\t\t\t\t ng-model="items[0].field.value" ng-class="{ \'lui-invalid\': !items[0].field.isValid, \'is-expression\': items[0].field.isLocked() }"\n\t\t\t\t ng-change="change()" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup tid="field" />\n\n\t\t\t\t<button class="lui-button lui-input-group__item lui-input-group__button" pp-expression-editor="items[0].field.value"\n\t\t\t\t pp-expression-editor-on-apply="items[0].field.onExpressionEditorApply(value)" expression-type="dimension" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression edit-expression" ng-class="{ \'active\': items[0].field.interpretAsExpression() }"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="items[0].field.isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\t</div>\n\n\t\x3c!-- Label expression --\x3e\n\t<div class="pp-component pp-string-component" tcl="string">\n\t\t<div class="label" q-translation="Common.Label"></div>\n\t\t<div class="value">\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input lui-input-group__item lui-input-group__input" type="text" maxlength="255" spellcheck="false" ng-readonly="items[0].label.isLocked()"\n\t\t\t\t pp-input-validator pp-validation-on-result="items[0].label.setIsValid(isValid)" pp-expression-editor="items[0].label.getValueForExpressionEditor()"\n\t\t\t\t editor-disabled="!items[0].label.isLocked()" expression-type="StringExpression" pp-expression-editor-on-apply="items[0].label.onExpressionEditorApply(value)"\n\t\t\t\t ng-model="items[0].label.value" ng-class="{ \'lui-invalid\': !items[0].label.isValid, \'is-expression\': items[0].label.isLocked() }"\n\t\t\t\t ng-change="change()" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup tid="label" pp-placeholder="items[0].field.value"\n\t\t\t\t pp-placeholder-suppress-equal="true" />\n\n\t\t\t\t<button class="lui-button lui-input-group__item lui-input-group__button" pp-expression-editor="items[0].label.getValueForExpressionEditor()"\n\t\t\t\t pp-expression-editor-on-apply="items[0].label.onExpressionEditorApply(value)" expression-type="StringExpression" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--expression edit-expression" ng-class="{ \'active\': items[0].label.interpretAsExpression() }"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="items[0].label.isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\t</div>\n</div>'},756:function(t,e,n){"use strict";var i,r;!(i=[n(757),n(51),n(50),n(69)],r=function(t,e,n,i){var r={template:t,controller:["$scope",a]};return r;function a(t){var r=t.definition.ref?t.definition.ref+".":"",a=r+"qDef.qDef",o=r+"qDef.qLabel",s=r+"qDef.qLabelExpression",l=function e(){return t.data};e.defineChange(t,t.args.handler);t.expression=d();t.label=u();function d(){var n={definition:{type:"string",ref:a,expression:"always"},isLocked:function t(){return c(n.value)},isValid:true,setIsValid:function t(e){n.isValid=e},onExpressionEditorApply:function e(i){n.value=i;t.change()}};e.defineValue(n,n.definition,l,"value");return n}function u(){var e={isValid:true,setIsValid:function t(n){e.isValid=n},isLocked:function t(){return c(e.value)},onExpressionEditorApply:function n(i){var r;if(i){r=i.qStringExpression.qExpr;r&&"="!==r.charAt(0)&&(r="="+r)}e.value=r;t.change()},interpretAsExpression:function t(){var n=e.value;return n&&"="===n.charAt(0)},getValueForExpressionEditor:function t(){var n=e.value;e.interpretAsExpression()&&(n={qStringExpression:{qExpr:n}});return n}};Object.defineProperty(e,"value",{get:function t(){var e=n.getValue(l(),s);return e||n.getValue(l(),o)},set:function t(e){var i=e&&0===e.indexOf("=")?s:o;n.setValue(l(),i,e||void 0);var r=i===s?o:s;n.setValue(l(),r,void 0)}});return e}function c(t){if(!t)return false;return-1!==t.indexOf("\n")||t.length>i.name}}}.apply(e,i),void 0!==r&&(t.exports=r))},757:function(t,e){t.exports='<div tcl="measures">\n\n\t\x3c!-- Expression --\x3e\n\t<div class="pp-component pp-string-component" tcl="string">\n\t\t<div class="label" q-translation="Common.Expression"></div>\n\t\t<div class="value">\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" maxlength="255" spellcheck="false" ng-readonly="expression.isLocked()"\n\t\t\t\t pp-input-validator pp-validation-on-result="expression.setIsValid(isValid)" pp-expression-editor="expression.value" editor-disabled="!expression.isLocked()"\n\t\t\t\t expression-type="measure" pp-expression-editor-on-apply="expression.onExpressionEditorApply(value)" ng-model="expression.value"\n\t\t\t\t ng-class="{ \'lui-invalid\': !expression.isValid, \'is-expression\': expression.isLocked() }" ng-change="change()" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }"\n\t\t\t\t qva-model-onkeyup tid="field" />\n\n\t\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" pp-expression-editor="expression.value" pp-expression-editor-on-apply="expression.onExpressionEditorApply(value)"\n\t\t\t\t expression-type="measure" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression edit-expression active"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="expression.isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\t</div>\n\n\t\x3c!-- Label expression --\x3e\n\t<div class="pp-component pp-string-component" tcl="string">\n\t\t<div class="label" q-translation="Common.Label"></div>\n\t\t<div class="value">\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input lui-input-group__item lui-input-group__input" type="text" maxlength="255" spellcheck="false" ng-readonly="label.isLocked()"\n\t\t\t\t pp-input-validator pp-validation-on-result="label.setIsValid(isValid)" pp-expression-editor="label.getValueForExpressionEditor()"\n\t\t\t\t editor-disabled="!label.isLocked()" expression-type="StringExpression" pp-expression-editor-on-apply="label.onExpressionEditorApply(value)"\n\t\t\t\t ng-model="label.value" ng-class="{ \'lui-invalid\': !label.isValid, \'is-expression\': label.isLocked() }" ng-change="change()"\n\t\t\t\t ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup tid="label" pp-placeholder="expression.value"\n\t\t\t\t pp-placeholder-suppress-equal="true" />\n\n\t\t\t\t<button class="lui-button lui-input-group__item lui-input-group__button" pp-expression-editor="label.getValueForExpressionEditor()"\n\t\t\t\t pp-expression-editor-on-apply="label.onExpressionEditorApply(value)" expression-type="StringExpression" q-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--expression edit-expression" ng-class="{ \'active\': label.interpretAsExpression() }"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="label.isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\t</div>\n</div>'},758:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(69),n(759)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};n.definition.maxlength?n.maxlength=n.definition.maxlength:n.maxlength=e.name;t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineValue(n,n.definition,i);t.defineExpression(n,true,true)}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},759:function(t,e){t.exports='<div class="pp-component pp-integer-component" ng-if="visible" tcl="integer">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div ng-class="{ \'lui-input-group\': isExpressionDefinition }">\n\t\t\t<input type="text" maxlength="{{maxlength}}" spellcheck="{{!isExpression()}}" class="lui-input" ng-class="{\n\t\t\t\t\t\'lui-invalid\': invalid,\n\t\t\t\t\t\'lui-input-group__item\': isExpressionDefinition,\n\t\t\t\t\t\'lui-input-group__input\': isExpressionDefinition,\n\t\t\t\t\t\'is-expression\': isLocked()\n\t\t\t\t}"\n\t\t\t\tng-model="displayValue" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup\n\t\t\t\tpp-input-validator ng-readonly="isLocked()" ng-disabled="readOnly" ng-change="change()"\n\t\t\t\tpp-expression-editor="value" editor-disabled="!isLocked()" expression-type="{{expressionType}}" tid="{{key}}" pattern="[0-9]+"/>\n\n\t\t\t<button class="lui-input-group__item  lui-input-group__button  lui-button" ng-show="isExpressionDefinition && !readOnly"\n\t\t\t\t\tpp-expression-editor="value" expression-type="{{expressionType}}"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression edit-expression" ng-class="{\'active\': isExpression()}"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n</div>\n'},760:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(51),n(761)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=n.definition.items||{};function r(){n.items=Object.keys(i).filter(function(t){var e=i[t];if("function"===typeof e.show)return e.show(n.data,n.args.handler,n.args);if("boolean"===typeof e.show)return e.show;return true}).map(function(e){var n=i[e];return{component:t.findComponent(n),definition:n,key:e}})}n.$on("datachanged",function(){r()});n.$watch("data",function(){r()});e.defineVisible(n,n.args.handler)}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},761:function(t,e){t.exports='<div class="pp-component pp-items-component" ng-if="visible" tcl="items">\n\t<div ng-repeat="item in items track by item.key" tid="{{item.key}}" class="item" ng-class="{ \'grouped\': definition.grouped }">\n\t\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="data" x-args="args"></div>\n\t</div>\n</div>'},762:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(763)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);t.defineChange(e,e.args.handler);t.defineCustom(e,e.args.handler,"url")}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},763:function(t,e){t.exports='<div class="pp-component pp-link-component" ng-if="visible" tcl="link">\n\t\x3c!--<div class="label" ng-if="label">{{label}}</div>--\x3e\n\n\t<div class="value" style="text-align: right;">\n\t\t<a ng-href="{{url}}" target="_blank">{{label}}</a>\n\t</div>\n\n</div>\n'},764:function(t,e,n){"use strict";var i,r;function a(t){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return a(t)}!(i=[n(41),n(44),n(59),n(51),n(50),n(93),n(60),n(166),n(47),n(765),n(90)],r=function(t,e,n,i,r,o,s,l,d,u){var c={template:u,controller:["$scope","$element",function(u,c){var p=u.args.cache,f="list_"+u.definition.ref+"_";function g(t){if(u.definition.cId)return r.getValue(t,u.definition.cId,"");return t&&t.cId}function v(t,e){r.setValue(t,u.definition.cId||"cId",e)}i.defineVisible(u,u.args.handler);u.itemId=function(t){var e=g(t);if(!e){e=t.$$hashKey||d.generateId();v(t,e);delete t.$$hashKey}return e};u.isExpanded=function(t){return p.get(f+g(t))};u.expandClicked=function(t,n){if(e(t.target).hasClass("pp-move-item"))return;c.find("input").blur();var i=g(n.data),r=p.get(f+i)||false;n.expanded=!r;p.put(f+i,n.expanded)};u.addClicked=function(){if(!u.addDisabled()){x();var t=o.mapProperties(u.definition);t.cId=d.generateId();"function"===typeof u.definition.add&&u.definition.add.call(null,t,u.data,u.args.handler);var e=r.getValue(u.data,u.definition.ref,[]);e.push(t);p.put(f+t.cId,true);u.$emit("saveProperties")}};u.removeItem=function(t){var e=r.getValue(u.data,u.definition.ref,[]),n=e[t];"function"===typeof u.definition.remove&&u.definition.remove.call(null,n,u.data,u.args.handler);e.splice(t,1);u.$emit("saveProperties")};var m=null;u.openContextMenu=function(e,n){var i=t.getService("qvContextMenu").menu();i.addItem({translation:"Common.Delete",tid:"delete",select:function t(){u.removeItem(n.index)}});m=t.getService("qvContextMenu").show(i,{position:{x:e.pageX,y:e.pageY},docking:"Top"})};function h(){u.sortableItemLists.reset();var t=r.getValue(u.data,u.definition.ref,[]);t.forEach(function(t,e){var i=u.itemId(t);var o={title:function n(){var n,i=u.definition.itemTitleRef;if(i){n="function"===typeof i?i.call(null,t,e,u.args.handler):r.getValue(t,i,"");"object"===a(n)&&(n=n.qStringExpression?n.qStringExpression.qExpr:n.qValueExpression.qExpr)}else n=""+(e+1);return n},component:n.getComponent("items"),definition:{type:"items",items:u.definition.items},data:t,id:i,index:e,expanded:p.get(f+i)||false,disabled:true,sortable:false!==u.definition.allowMove};b.addSortableItem(o)})}u.sortableItemLists=l.create({options:{direction:"vertical",listKey:"list",listSelector:".pp-expandable-list",itemKey:"item",itemSelector:".qv-pp-sortable",itemDragSelector:".qv-pp-sortable-handle",gesture:{name:"swipe",options:{radiusThreshold:s.treatAsDesktop()?4:0,preventDefault:false}}},addPlaceholder:function t(){var e=this._super.apply(this,arguments);e.classList=["qv-pp-sortable"]},onBegin:function t(){this._super.apply(this,arguments);var e=c.find(".pp-list-content");e.css("height",e.innerHeight());x()},removePlaceholder:function t(){this._super.apply(this,arguments);var e=c.find(".pp-list-content");e.css("height","")},onMove:function t(){var e=this._super.apply(this,arguments);if(e){var n=b.get().map(function(t){return t.data});r.setValue(u.data,u.definition.ref,n);u.$emit("saveProperties")}return e}});function x(){b.items.forEach(function(t){t.expanded=false;p.put(f+g(t.data),false)})}u.$watchCollection("data."+u.definition.ref,h);u.addDisabled=function(){var t=r.getValue(u.data,u.definition.ref,[]);return u.definition.allowAdd&&t.length>=y()};var b=u.sortableItemLists.createList(1,{tid:"list"});function y(){if("function"===typeof u.definition.max)return u.definition.max.call(null,u.data,this);return u.definition.max||1e6}u.$on("$destroy",function(){if(m){m.close();m=null}})}]};return c}.apply(e,i),void 0!==r&&(t.exports=r))},765:function(t,e){t.exports='<div class="pp-component pp-list-component pp-toplist" ng-if="visible" tcl="list">\n\n\t<div class="pp-toplist-content pp-list-container pp-nm-hcd__lists" qv-sortable-list="sortableItemLists">\n\t\t<ul class="pp-expandable-list pp-list-content">\n\t\t\t<li ng-repeat="item in sortableItemLists.lists[0].items track by item.id" class="pp-nm-di" ng-style="item.style">\n\t\t\t\t\x3c!-- Header --\x3e\n\t\t\t\t<div class="pp-nm-di__header" ng-class="{\'expanded\': item.expanded,\t\'draggable\': item.sortable, \'qv-pp-sortable\': item.sortable}" ng-style="item.style"\n\t\t\t\t ng-click="expandClicked($event, item)" qva-context-menu="openContextMenu($event, item)">\n\t\t\t\t\t\x3c!-- Header content --\x3e\n\t\t\t\t\t<div class="pp-nm-di__header-content">\n\t\t\t\t\t\t\x3c!-- Header title --\x3e\n\t\t\t\t\t\t<div class="pp-nm-di__header-title" title="{{item.title()}}">\n\t\t\t\t\t\t\t{{item.title()}}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\x3c!-- Header icons --\x3e\n\t\t\t\t\t\t<i ng-if="item.markerClass" ng-class="item.markerClass"></i>\n\t\t\t\t\t\t<i class="lui-icon pp-nm-di__header-toggle lui-icon--arrow-right" ng-class="{ \'expanded\': item.expanded }"></i>\n\t\t\t\t\t\t<i class="lui-icon lui-icon--draggable pp-nm-di__draggable qv-pp-sortable-handle" pp-di-draggable-hover\n\t\t\t\t\t\t q-title-translation="Common.Move"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Content --\x3e\n\t\t\t\t<div class="pp-nm-di__content" ng-if="item.expanded">\n\n\t\t\t\t\t<div class="pp-nm-di__content-body">\n\t\t\t\t\t\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="item.data" x-args="args"></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\x3c!-- Content footer - Remove button --\x3e\n\t\t\t\t\t<div class="pp-nm-di__content-footer" ng-if="definition.allowRemove">\n\t\t\t\t\t\t<button class="lui-button pp-nm-di__remove-button" ng-click="removeItem(item.index)">\n\t\t\t\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--bin remove-icon" q-title-translation="Common.Delete"></span>\n\t\t\t\t\t\t\t<span class="lui-button__text" q-translation="Common.Delete"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t<li class="pp-nm-di" ng-if="definition.allowAdd">\n\t\t\t\t<button class="lui-button lui-button--block pp-toplist-add-button"  ng-disabled="addDisabled() || !definition.allowAdd"\n\t\t\t\tqva-activate="addClicked()" tid="add-item">\n\t\t\t\t   <span class="lui-button__text">{{definition.addTranslation | translate}}</span>\n\t\t\t   </button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>'},766:function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(59),n(50),n(149),n(58),n(767),n(163),n(164)],r=function(t,e,n,i,r,a,o,s,l){var d={template:o,controller:["$scope","$element","$timeout","luiPopover",function(o,d,u,c){var p=o.args.cache,f="measures_",g=s.create(),v=l.create();o.listItemComponent=n.getComponent("items");o.listItemDefinition={items:o.definition.items||{},grouped:o.definition.grouped};function m(){var t=o.definition;g.resetTitles();v.resetTitles();var e=i.getValue(o.data,o.definition.ref,[]);var r=e.map(function(e,i){var r=e.qDef.cId,a=o.args.handler.getMeasureLayout(r),s=g.getCachedMeasureTitle(a);g.getMeasureTitle(a,e,true,o.args.app).then(function(t){s=t});return{title:function t(){return s},component:n.getComponent("items"),definition:t,data:e,id:r,index:i,expanded:p.get(f+r)||false,disabled:false}});var a=i.getValue(o.data,o.definition.disabledRef,[]);var s=a.map(function(i,r){var a=i.qDef.cId,s;v.getMeasureTitle(i,o.args.app,true).then(function(t){s=t});return{title:function t(){return s},component:n.getComponent("items"),definition:t,data:i,id:a,index:e.length+r,expanded:p.get(f+a)||false,disabled:true}});o.items=r.concat(s)}o.$watchCollection("data."+o.definition.ref,function(){m()});o.$watchCollection("data."+o.definition.disabledRef,function(){m()});o.isInvalid=function(t){var e=o.args.handler.getMeasureLayouts()[t];return e&&!!e.qError};o.itemClicked=function(e,n){if(t(e.target).hasClass("pp-delete-property")){n.index=n.disabled?n.index-o.args.handler.hcProperties.qMeasures.length:n.index;o.args.handler.removeMeasure(n.index,n.disabled).then(function(){o.$emit("saveProperties")})}else{var i=p.get(f+n.data.qDef.cId)||false;if(!n.disabled){n.expanded=!i;p.put(f+n.data.qDef.cId,!i)}}};o.addDisabled=function(){return o.args.handler.getMeasures().length>=o.args.handler.maxMeasures()};var h=null;o.addClicked=function(e){var n;if(o.adding){x();return}if(!o.addDisabled()&&!o.adding){h=c.show({template:r.template,controller:r.controller,alignTo:e.currentTarget,input:{app:o.args.app,closeAddPopover:x,addLibraryMeasure:y,addExpressionMeasure:D},position:"bottom",closeOnEscape:true});o.adding=true}h.closing.then(function(e){e&&!t(e.target).hasClass("pp-toplist-add-button")&&(o.adding=false);n=e});h.closed.then(function(){n||(o.adding=false);h=null})};function x(n){if(h){h.close();h=null}n&&t(n.target).hasClass("pp-toplist-add-button")&&e.preventGestures();o.adding=false}function b(){u(function(){var t=d.find(".pp-toplist-content");var e=t.children().last();t[0].scrollTop=e[0].offsetTop-1},100)}function y(t){o.args.handler.addLibraryMeasure(t.libraryId).then(function(t){p.put(f+t.qDef.cId,true);o.$emit("saveProperties");x();b()})}function D(t){o.args.handler.addExpressionMeasure(t.value,"").then(function(t){p.put(f+t.qDef.cId,true);o.$emit("saveProperties");x();b()})}o.sortableOptions={disabled:!o.definition.allowMove,onMove:function t(e,n){o.args.handler.moveMeasure(e,n).then(function(){o.$emit("saveProperties")})}};a.on("start",x);o.$on("$destroy",function(){a.off("start",x)})}]};return d}.apply(e,i),void 0!==r&&(t.exports=r))},767:function(t,e){t.exports='<div class="pp-component pp-list-component pp-toplist" tcl="measures">\n\t<button class="lui-button  lui-button--block  pp-toplist-add-button" ng-class="{\'lui-active\': adding}" qva-activate="addClicked($event)" qv-enter="addClicked($event)"\n\t\t\tng-disabled="addDisabled() || !definition.allowAdd" q-translation="{{definition.addTranslation}}" tid="add-measure"></button>\n\n\t<ul class="pp-expandable-list pp-toplist-content pp-measure-list" pp-sortable="sortableOptions">\n\t\t<li ng-repeat="item in items track by item.id" ng-class="{ \'locked\': item.locked || !definition.allowMove }" class="expandable-list-item">\n\t\t\t<div class="pp-expandable-list-header pp-measure pp-sublist-header" qva-activate="itemClicked( $event, item )" qva-longtapdrag="enableTouchDrag()"\n\t\t\t\t ng-class="{ \'expanded\': item.expanded && !item.disabled, \'disabled\': item.disabled, \'invalid\': isInvalid( $index ) }" pp-sortable-handle>\n\t\t\t\t<span class="toggle-expand  lui-icon  {{ item.expanded && !item.disabled ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></span>\n\t\t\t\t<span class="text" title="{{item.title()}}">{{item.title()}}</span>\n\t\t\t\t<span class="icon icon-trash pp-delete-property" ng-if="definition.allowRemove" q-title-translation="Common.Delete"></span>\n\t\t\t</div>\n\t\t\t<div class="pp-expandable-list-content" ng-if="item.expanded && !item.disabled">\n\t\t\t\t<div include-pp-component x-component="listItemComponent" x-definition="listItemDefinition" x-data="item.data" x-args="args"></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>\n'},768:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(50),n(46),n(769)],r=function(t,e,n,i){var r={template:i,controller:["$scope",function(i){var r=i.args.cache,a="measures_tab_",o=[n.get("properties.kpi.first"),n.get("properties.kpi.second")];i.buttonGroupTitle=n.get("properties.kpi.measure");i.listItemComponent=t.getComponent("items");i.listItemDefinition={items:i.definition.items||{},grouped:i.definition.grouped};function s(t){return t.map(function(t){return{index:t.index,label:o[t.index],active:t.expanded}})}function l(){var n=i.definition;var o=e.getValue(i.data,i.definition.ref,[]);var l=o.map(function(e,i){var o=e.qDef.cId;return{component:t.getComponent("items"),definition:n,data:e,id:o,index:i,expanded:r.get(a+i)||false}});if(l.length){var d=l.filter(function(t){return t.expanded});d.length||(l[0].expanded=true)}i.items=l;i.buttons=s(l)}i.$watchCollection("data."+i.definition.ref,function(){l()});i.isInvalid=function(t){var e=i.args.handler.getMeasureLayouts()[t];return e&&!!e.qError};i.onClickButton=function(t){var e=this;e.items.forEach(function(n,i){e.buttons[i].active=n.expanded=i===t.index;r.put(a+i,n.expanded)})}}]};return r}.apply(e,i),void 0!==r&&(t.exports=r))},769:function(t,e){t.exports='<div class="pp-tab-container">\n\t<div class="pp-component pp-buttongroup-parent" ng-if="buttons.length > 1">\n\t\t<div class="pp-buttongroup-title" >{{buttonGroupTitle}}</div>\n\t\t<div class="lui-buttongroup">\n\t\t\t<lui-button ng-repeat="button in buttons" ng-click="onClickButton(button)" active="button.active">{{button.label}}</lui-button>\n\t\t</div>\n\t</div>\n\t<div ng-repeat="item in items track by item.id">\n\t\t<div ng-if="item.expanded" include-pp-component x-component="listItemComponent" x-definition="listItemDefinition" x-data="item.data" x-args="args"></div>\n\t</div>\n</div>\n\n\n\n'},770:function(t,e,n){"use strict";var i,r;!(i=[n(41),n(59),n(771)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){n.componentType="editable-item";n.itemComponent=e.findComponent(n.definition.item);n.itemDefinition=n.definition.item;var i=t.getService(n.definition.service);n.panelEditor=i.getToolConfig().panelEditor;n.assets=i.assets;n.editComponent=function(){i.actions.onEditComponent(n.componentType,n.itemDefinition)}}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},771:function(t,e){t.exports='<div class="pp-editable-component" ng-class="{\'editing-component\': assets.currentPropertyDefinition.ref === itemDefinition.ref}" tcl="editable" data-ref="{{itemDefinition.ref}}">\n\t<div class="editable-content" ng-class="{\'editor-open\': panelEditor.isOpen}">\n\t\t<div include-pp-component x-component="itemComponent" x-definition="itemDefinition" x-data="data" x-args="args"></div>\n\t</div>\n    <div class="editable-edit-icon" ng-class="{\'editing-component\': assets.currentPropertyDefinition.ref === itemDefinition.ref}" ng-show="panelEditor.isOpen">\n        <span class="lui-icon lui-icon--cogwheel" qva-activate="editComponent()" q-title-translation="Devhub.EditItem"></span>\n    </div>\n</div>'},772:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(69),n(773)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};n.definition.maxlength?n.maxlength=n.definition.maxlength:n.maxlength=e.name;t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineValue(n,n.definition,i);t.defineExpression(n,true,true)}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},773:function(t,e){t.exports='<div class="pp-component pp-number-component" ng-if="visible" tcl="number">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div ng-class="{ \'lui-input-group\': isExpressionDefinition }">\n\t\t\t<input type="text" maxlength="{{maxlength}}" spellcheck="{{!isExpression()}}" class="lui-input" ng-class="{\n\t\t\t\t\t\'lui-invalid\': invalid,\n\t\t\t\t\t\'lui-input-group__item\': isExpressionDefinition,\n\t\t\t\t\t\'lui-input-group__input\': isExpressionDefinition,\n\t\t\t\t\t\'is-expression\': isLocked()\n\t\t\t\t}"\n\t\t\t\tng-model="displayValue" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup\n\t\t\t\tpp-input-validator ng-readonly="isLocked()" ng-disabled="readOnly" ng-change="change()"\n\t\t\t\tpp-expression-editor="value" editor-disabled="!isLocked()" expression-type="{{expressionType}}" tid="{{key}}"/>\n\n\t\t\t<button class="lui-input-group__item  lui-input-group__button  lui-button" ng-show="isExpressionDefinition && !readOnly"\n\t\t\t\t\tpp-expression-editor="value" expression-type="{{expressionType}}"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression edit-expression" ng-class="{\'active\': isExpression()}"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n</div>\n'},774:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(775)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);t.defineReadOnly(e,e.args.handler);t.defineChange(e,n,e.args.handler);t.defineValue(e,e.definition,n);e.sliderOptions={min:e.definition.min,max:e.definition.max,step:e.definition.step,range:"array"===e.definition.type}}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},775:function(t,e){t.exports='<div class="pp-component pp-slider-component" ng-if="visible" tcl="slider">\n\t<div class="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div class="slider" pp-slider="sliderOptions" ng-model="value" ng-change="change()" ng-disabled="readOnly" ></div>\n\t</div>\n</div>'},776:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(69),n(777)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};n.definition.maxlength?n.maxlength=n.definition.maxlength:n.maxlength=e.name;t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineValue(n,n.definition,i);t.defineExpression(n,false,true);t.definePlaceholder(n,n.definition)}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},777:function(t,e){t.exports='<div class="pp-component pp-string-component" ng-if="visible" tcl="string">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div ng-class="{ \'lui-input-group\': isExpressionDefinition }">\n\t\t\t<input type="text" maxlength="{{maxlength}}" spellcheck="{{!isExpression()}}" class="lui-input" ng-class="{\n\t\t\t\t\t\'lui-invalid\': invalid,\n\t\t\t\t\t\'lui-input-group__item\': isExpressionDefinition,\n\t\t\t\t\t\'lui-input-group__input\': isExpressionDefinition,\n\t\t\t\t\t\'is-expression\': isLocked()\n\t\t\t\t}"\n\t\t\t   ng-model="displayValue" pp-placeholder="placeholder" ng-model-options="{ updateOn: \'blur\', allowInvalid: true }"\n\t\t\t   qva-model-onkeyup pp-input-validator ng-readonly="isLocked()" ng-disabled="readOnly" ng-change="change()"\n\t\t\t   pp-expression-editor="value" editor-disabled="!isLocked()" expression-type="{{expressionType}}" tid="{{key}}" />\n\n\t\t\t<button class="lui-input-group__item  lui-input-group__button  lui-button" ng-show="isExpressionDefinition && !readOnly"\n\t\t\t\t\tpp-expression-editor="value" expression-type="{{expressionType}}"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression edit-expression" ng-class="{\'active\': isExpression()}"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n\t<div ng-if="isLocked()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n</div>\n'},778:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(50),n(73),n(46),n(779),n(780),n(790)],r=function(t,e,n,i,r,a,o){function s(t,n){var i=n.lastIndexOf(".");if(-1!==i){n=n.substr(0,i);t=e.getValue(t,n)}return t}var l={template:r,controller:["$scope",function(r){var l=function t(){return r.data},d="measure"===r.definition.libraryItemType;t.defineLabel(r,r.definition,l,r.args.handler);t.defineVisible(r,r.args.handler);t.defineReadOnly(r,r.args.handler);t.defineChange(r,r.args.handler);r.breakLink=function(){var t=s(r.data,r.definition.ref);d?o.showBreakLinkDialog(t).then(function(){r.change()}):a.showBreakLinkDialog(t).then(function(){r.change()})};r.toolTopTranslationKey=d?"Measure.Unlink":"Dimension.Unlink";function u(){var t=e.getValue(r.data,r.definition.ref);d?r.args.app.getMeasureList().then(function(e){var a=n.findLibraryMeasure(t,e);r.value=a?a.qData.title:i.get("Object.ErrorMessage.MissingMeasure");r.invalid=!a}):r.args.app.getDimensionList().then(function(e){var a=n.findLibraryDimension(t,e);r.value=a?a.qData.title:i.get("Object.ErrorMessage.MissingDimension");r.invalid=!a})}r.$on("datachanged",function(){u()});u()}]};return l}.apply(e,i),void 0!==r&&(t.exports=r))},779:function(t,e){t.exports='<div class="pp-component pp-string-component pp-library-item-component" ng-if="visible" tcl="library-item">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div class="lui-input-group">\n\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" ng-model="value" disabled="disabled" title="{{value}}"\n\t\t\t\t   spellcheck="false" ng-class="{ \'lui-invalid\': invalid }"/>\n\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="breakLink()" ng-show="!invalid" tid="unlink-btn">\n\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--link  edit-expression" q-title-translation="{{toolTopTranslationKey}}"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n</div>\n'},780:function(t,e,n){"use strict";var i,r;!(i=[n(47),n(781),n(782),n(45),n(41),n(46)],r=function(t,e,n,i,r,a){function o(e,n){e.qDef=t.extend(true,{},e.qDef,n.qDim);for(var i=0;i<e.qDef.qFieldDefs.length;++i)e.qDef.qFieldDefs[i]===e.qDef.qFieldLabels[i]&&(e.qDef.qFieldLabels[i]="");e.qDef.baseColor&&delete e.qDef.baseColor;delete e.qDef.coloring;delete e.qDef.title;e.qLibraryId=""}function s(t){return e.get(t.qLibraryId).then(function(e){return e.getProperties().then(function(e){if("N"===e.qDim.qGrouping){var s=new i;r.getService("qvConfirmDialog").show({message:a.get("Dimension.Linked.BreakLinkDialog.Text"),icon:"link"}).closed.then(function(n){if(n){o(t,e);s.resolve()}else s.reject()});return s.promise}return n.show({text:"Dimension.Linked.BreakLink.Drilldown.Text",icon:"link"}).then(function(){return i.reject()})})})}return{breakLink:o,showBreakLinkDialog:s}}.apply(e,i),void 0!==r&&(t.exports=r))},781:function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45),n(47)],r=function(t,e,n){function i(n){return n?e.resolve(n.enigmaModel):t.getApp()}var r={};r.get=function(t,e){return i(e).then(function(e){return e.getDimension(t)})};r.create=function(t,e){return i(e).then(function(e){t.qInfo.qId=t.qInfo.qId||n.generateId();return e.createDimension(t)})};r.remove=function(t,e){return i(e).then(function(e){return e.destroyDimension(t)})};r.getList=function(t){return i(t).then(function(t){return t.getDimensionListObject()})};r.getListLayout=function(t){return r.getList(t).then(function(t){return t.getLayout()})};return r}.apply(e,i),void 0!==r&&(t.exports=r))},782:function(t,e,n){"use strict";var i,r;!(i=[n(65),n(783),n(784)],r=function(t,e){var n={template:e,scope:{text:"=",icon:"=",confirmLabel:"="},controller:["$scope",function(t){t.close=function(){t.destroyComponent();t.deferredResult.resolve()}}]};function i(e){var i=e.text;var r=void 0!==e.icon?e.icon:"cogwheel";var a=e.confirm||"Common.OK";var o={text:i,icon:r,confirmLabel:a};return t.show(n,o).resultPromise}return{show:i}}.apply(e,i),void 0!==r&&(t.exports=r))},783:function(t,e){t.exports='<qv-modal-dialog qv-id="notification-dialog" qv-cancel="close()" qv-confirm="close()">\n    <main class="dm-main">\n        <div class="qv-mvc-dialog-content">\n            <div class="qv-mvc-dialog-icon icon-{{icon}}" ng-show="icon"></div>\n            <p><span q-translation="{{text}}"></span></p>\n        </div>\n    </main>\n    <footer class="dm-footer">\n        <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); close()" name="confirm" autofocus q-translation="{{confirmLabel}}"></lui-button>\n    </footer>\n</qv-modal-dialog>\n'},784:function(t,e,n){"use strict";var i,r;!(i=[n(785),n(787)],r=function(){}.apply(e,i),void 0!==r&&(t.exports=r))},785:function(t,e,n){"use strict";var i,r;!(i=[n(41),n(786)],r=function(t,e){t.directive("qvModalDialog",function(){return{scope:{id:"@qvId",confirm:"&qvConfirm",cancel:"&qvCancel"},restrict:"E",transclude:true,replace:true,template:e,link:function t(){}}})}.apply(e,i),void 0!==r&&(t.exports=r))},786:function(t,e){t.exports='<div class="modal-container qui-modalbackground-centered" qv-tabbable-container>\n\t<div id="{{id}}"\n\t\t class="modal-frame qui-delayedModal"\n\t\t ng-transclude></div>\n</div>\n'},787:function(t,e,n){"use strict";var i,r;!(i=[n(41),n(788),n(789)],r=function(t,e,n){t.directive("qvConfirmCancelFooter",function(){return{scope:{confirmLabel:"@qvConfirmLabel",confirm:"&qvConfirm",confirmDisabled:"=qvConfirmDisabled",cancel:"&qvCancel",cancelDisabled:"=qvCancelDisabled"},restrict:"E",replace:true,template:function t(i,r){var a=r.hasOwnProperty("light");return a?n:e}}})}.apply(e,i),void 0!==r&&(t.exports=r))},788:function(t,e){t.exports='<footer class="dm-footer">\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button x-variant="inverse" qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n'},789:function(t,e){t.exports='<footer class="dm-footer">\n    <lui-button qva-activate="$event.preventDefault(); cancel()" name="cancel" q-translation="Common.Cancel" tid="2f2a4f" ng-disabled="cancelDisabled"></lui-button>\n    <lui-button qva-activate="$event.preventDefault(); confirm()" name="confirm" autofocus q-translation="{{confirmLabel}}" tid="2f2a56" ng-disabled="confirmDisabled" qva-focus="true"></lui-button>\n</footer>\n'},790:function(t,e,n){"use strict";var i,r;!(i=[n(47),n(219),n(41),n(45),n(46)],r=function(t,e,n,i,r){function a(e,n){if(e.qDef){e.qDef=t.extend(true,{},e.qDef,n.qMeasure);e.qDef.baseColor&&delete e.qDef.baseColor;e.qDef.coloring&&delete e.qDef.coloring}else e.qExpr=n.qMeasure.qDef;e.qLibraryId=""}function o(t){return e.get(t.qLibraryId).then(function(e){return e.getProperties().then(function(e){a(t,e)})})}function s(t){var e=new i;n.getService("qvConfirmDialog").show({message:r.get("Measure.Linked.BreakLinkDialog.Text"),icon:"link"}).closed.then(function(n){n?o(t).then(function(){e.resolve()},function(){e.reject()}):e.reject()});return e.promise}return{breakLink:a,showBreakLinkDialog:s}}.apply(e,i),void 0!==r&&(t.exports=r))},791:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(46),n(47),n(792)],r=function(t,e,n,i){var r={template:i,controller:["$scope",function(i){var r=function t(){return i.data};t.defineLabel(i,i.definition,r,i.args.handler);t.defineVisible(i,i.args.handler);t.defineReadOnly(i,i.args.handler);t.defineChange(i,i.args.handler);t.defineValue(i,i.definition,r);var a,o;if("undefined"!==typeof i.definition.trueOption){a=n.extend({value:true},i.definition.trueOption);o=n.extend({value:false},i.definition.falseOption)}else if(true===i.definition.options[0].value){a=i.definition.options[0];o=i.definition.options[1]}else{a=i.definition.options[1];o=i.definition.options[0]}if(a.translation){a.label=e.get(a.translation);delete a.translation;i.trueOption=a}else if("function"===typeof a.label){i.trueOption={value:a.value};Object.defineProperty(i.trueOption,"label",{get:function t(){return a.label(r(),i.args.handler)}})}else i.trueOption=a;if(o.translation){o.label=e.get(o.translation);delete o.translation;i.falseOption=o}else if("function"===typeof o.label){i.falseOption={value:o.value};Object.defineProperty(i.falseOption,"label",{get:function t(){return o.label(r(),i.args.handler)}})}else i.falseOption=o;i.getDescription=function(t){return t===a.value?i.trueOption.label:i.falseOption.label};Object.defineProperty(i,"switchValue",{get:function t(){return i.value===a.value},set:!i.definition.interceptor?s:l});function s(t){i.value=t?a.value:o.value;i.change()}function l(t){var e=true,r=i.definition.interceptorPredicate;r&&n.isFunction(r)&&(e=r(t));e?i.definition.interceptor().then(function(e){e&&s(t)}):s(t)}}]};return r}.apply(e,i),void 0!==r&&(t.exports=r))},792:function(t,e){t.exports='<div class="pp-component pp-switch-component" ng-if="visible" tcl="switch">\n\t<div ng-class="{ \'inverse\': definition.inverse }" class="label" ng-if="definition.context !== \'header\' && label" ng-disabled="readOnly">\n\t\t<div class="title" title="{{label}}">{{label}}</div>\n\t\t<div class="value" title="{{getDescription(value)}}"> {{getDescription(value)}}</div>\n\t</div>\n\n\t<div ng-class="{ \'inverse\': definition.inverse }" class="label" ng-if="definition.context === \'header\'" ng-disabled="readOnly">\n\t\t<div class="title" ng-if="label" title="{{label}}">{{label}}</div>\n\t\t<div class="value" title="{{getDescription(value)}}" ng-class="{ \'only-value\': !label }" > {{getDescription(value)}}</div>\n\t</div>\n\t<lui-switch ng-class="{ \'lui-switch--inverse\': definition.inverse }" x-model="switchValue" x-disabled="readOnly" tid="{{key}}" />\n</div>\n'},793:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(252),n(50),n(795)],r=function(t,e,n,i){var r={template:i,controller:["$scope",function(i){var r=i.args.cache,a="sorting_dimension_";i.dropdown={activeIndex:r.get(a+o().qDef.cId)||0,options:[]};function o(){var t=i.definition.ref;return t?n.getValue(i.data,t):i.data}function s(){var t=[];var e=o().qDef.cId;var n=i.args.handler.getDimensionLayout(e);n&&"H"===n.qGrouping&&n.qGroupFallbackTitles.forEach(function(e,n){t.push({value:n,label:e})});i.dropdown.options=t}i.show=function(){var t=o();return!t.qDef.autoSort};i.isGroup=function(){var t=o();if(!t.qLibraryId)return false;var e=t.qDef.cId;var n=i.args.handler.getDimensionLayout(e);return n&&"H"===n.qGrouping};var l={};Object.keys(i.definition.sortingItems).forEach(function(t){if(i.definition.sortingItems[t]){var n=e[t];var r=n(null,function t(){return o().qDef.qReverseSort});l[t]=r}});l.defaultSortMessage={component:"text",translation:"properties.sorting.defaultSortingMessage",show:function t(e){return!(l.ascii&&e.qSortByAscii||l.numeric&&e.qSortByNumeric||l.expression&&e.qSortByExpression||l.frequency&&e.qSortByFrequency)}};i.item={component:t.getComponent("items"),definition:{type:"items",grouped:true,items:l},args:i.args};function d(t,e){for(var n=0;n<=e;n++)t[n]||(t[n]={})}function u(){i.dropdown.activeIndex>=i.dropdown.options.length&&(i.dropdown.activeIndex=0);var t=o();d(t.qDef.qSortCriterias,i.dropdown.activeIndex);var e=t.qDef.qSortCriterias[i.dropdown.activeIndex];i.item.data=e}i.$watch("dropdown.activeIndex",function(t){r.put(a+o().qDef.cId,t);s();u()});i.$on("datachanged",function(){u()});i.$watch("data",function(){u()})}]};return r}.apply(e,i),void 0!==r&&(t.exports=r))},794:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e){t=t||function(){return false};e=e||1;return{get:function t(e){return!!e("integer")},set:function n(i,r){if(i){var a=t();var o=a?-1:1;o*=e;r("integer",o)}else r("integer",0)}}}function e(t){t=t||function(){return false};return{get:function e(n){var i=t()?-1:1;var r=n("integer")*i;switch(r){case-1:return"descending";case 1:return"ascending";default:return"disabled"}},set:function e(n,i){var r=t();switch(n){case"descending":i("integer",r?1:-1);break;case"ascending":i("integer",r?-1:1);break;case"disabled":i("integer",0);break;default:i("integer",void 0);break}}}}function n(t){var n=function e(){return!t||!t()};return e(n)}return{booleanConvertFunctions:t,enumConvertFunctions:e,invertedEnumConvertFunctions:n}}.apply(e,i),void 0!==r&&(t.exports=r))},795:function(t,e){t.exports='<div class="" style="position:relative; height: 100%;" tcl="sorting">\n\t<div class="pp-component pp-dropdown-component" ng-if="show() && isGroup()" tcl="dropdown">\n\t\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t\t<div class="value">\n\t\t\t<lui-select x-model="dropdown.activeIndex" x-disabled="readOnly"\n\t\t\t\t\t\tx-options="option.value as option.label for option in dropdown.options" tid="{{key}}">\n\t\t\t</lui-select>\n\t\t</div>\n\t</div>\n\n\t<div class="separator"></div>\n\n\t<div ng-if="show()" include-pp-component x-component="item.component" x-definition="item.definition" x-data="item.data" x-args="item.args"></div>\n</div>'},796:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(252),n(50),n(797)],r=function(t,e,n,i){var r={template:i,controller:["$scope",function(i){function r(){var t=i.definition.ref;return t?n.getValue(i.data,t):i.data}i.show=function(){var t=r();return!t.qDef.autoSort};var a={};Object.keys(i.definition.sortingItems).forEach(function(t){if(i.definition.sortingItems[t]){var n=e[t];var o=n(null,function t(){return r().qDef.qReverseSort});a[t]=o}});a.defaultSortMessage={component:"text",translation:"properties.sorting.defaultSortingMessage",show:function t(e){return!(a.ascii&&e.qSortByAscii||a.numeric&&e.qSortByNumeric)}};i.item={component:t.getComponent("items"),definition:{type:"items",grouped:true,items:a},args:i.args};function o(){var t=r();i.item.data=t.qSortBy||{}}i.$on("datachanged",function(){o()});i.$watch("data",function(){o()})}]};return r}.apply(e,i),void 0!==r&&(t.exports=r))},797:function(t,e){t.exports='<div style="position:relative; height: 100%;" tcl="sorting">\n\t<div ng-if="show()" include-pp-component x-component="item.component" x-definition="item.definition" x-data="item.data" x-args="item.args"></div>\n</div>'},798:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(799)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);t.defineCustom(e,e.args.handler,"style");e.style||(e.style="message")}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},799:function(t,e){t.exports='<div class="pp-component pp-text-component" ng-if="visible" tcl="text">\n\t<div ng-class="style" tid="{{key}}">{{label}}</div>\n</div>'},800:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(69),n(801)],r=function(t,e,n){return{template:n,controller:["$scope",function(n){var i=function t(){return n.data};n.rows=n.definition.rows||3;n.maxlength=n.definition.maxlength||e.description;t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineValue(n,n.definition,i);t.defineExpression(n,false,false);t.definePlaceholder(n,n.definition);n.focused=function(){n.active=true};n.blurred=function(){n.active=false}}]}}.apply(e,i),void 0!==r&&(t.exports=r))},801:function(t,e){t.exports='<div class="pp-component pp-textarea-component" ng-if="visible" tcl="textarea">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<div class="lui-textarea simple-textarea" ng-class="{\'lui-invalid\': invalid, \'lui-focused\': active}">\n\t\t\t<div class="textarea-wrapper" ng-class="{ \'is-expression\': isExpressionDefinition }">\n\t\t\t\t<textarea type="text" maxlength="{{maxlength}}" rows="{{rows}}" class="wrapped-textarea" placeholder="{{placeholder}}"\n\t\t\t\t\tpp-expression-editor="value" expression-type="{{expressionType}}" editor-disabled="!isLocked()"\n\t\t\t\t\tng-model="displayValue" ng-disabled="readOnly" ng-change="change()"\n\t\t\t\t\tng-model-options="{ updateOn: \'blur\', allowInvalid: true }" pp-input-validator tid="{{key}}"\n\t\t\t\t\tng-focus="focused()" ng-blur="blurred()">\n\t\t\t\t</textarea>\n\t\t\t</div>\n\n\t\t\t<button ng-show="isExpressionDefinition && !readOnly"\n\t\t\t\t\tpp-expression-editor="value"\n\t\t\t\t\texpression-type="{{expressionType}}"\n\t\t\t\t\tclass="lui-fade-button wrapped-button"\n\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon  lui-icon--expression edit-expression" ng-class="{\'active\': isExpression()}"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},802:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(46),n(125)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){var i=function t(){return n.data};t.defineLabel(n,n.definition,i,n.args.handler);t.defineVisible(n,n.args.handler);t.defineChange(n,n.args.handler);t.defineReadOnly(n,n.args.handler);t.defineValue(n,n.definition,i);function r(){var t=n.value;var i=n.options.some(function(e){return e.value===t});i||n.options.splice(0,0,{value:t,label:e.get("properties.selectValue")})}function a(){var t=n.args.handler.getDimensions(),e,i,a,o;n.options.splice(0,n.options.length);for(o=0;o<t.length;++o){e=t[o];a=e.qDef.cId;i=n.args.handler.getDimensionLayout(a);e.qLibraryId&&i&&!i.qError?e.qError||n.options.push({value:a,label:i.title}):n.options.push({value:a,label:i&&i.qFallbackTitle||""})}r()}n.options=[];a();n.$on("layoutchanged",function(){a()})}]};return i}.apply(e,i),void 0!==r&&(t.exports=r))},803:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(125),n(253),n(254),n(50)],r=function(t,e,n,i,r){var a=1000.12,o=.1234,s=new Date(2014,1,17,15,30,40);function l(t,e,l,d,u,c){var p,f,g={},v;p=e.concat(t.options||[]).filter(function(t){if(t.fmt in g)return false;g[t.fmt]=true;return true});p=p.map(function(t){var e,r,u;switch(t.type){case"D":u=new i(c,"","","","D");r=s;break;case"M":u=new n(c,"","","","M");r=a;break;default:u=new n(c,"","","","F");r=/%$/.test(t.fmt)?o:a;break}if(t.label)e="function"===typeof t.label?t.label.call(null,l,d,c):t.label;else{e=u.format(r,t.fmt,t.thousand,t.decimal);t.fmt.indexOf(";")>=0&&(e+="; "+u.format(-r,t.fmt,t.thousand,t.decimal))}return{value:t.fmt,label:e,type:t.type}});f=[r.getValue(l,"qDef.qNumFormat.qType","F")];p=p.filter(function(t){return f.contains(t.type)});u.splice(0,u.length);for(v=0;v<p.length;++v)u.push(p[v]);return p}function d(t,e){var n=[];t.qDateFmt&&n.push({fmt:t.qDateFmt});n.push({fmt:"YYYY-MM-DD"});n.push({fmt:"DD MM YYYY"});n.push({fmt:"DD MMM YYYY"});n.push({fmt:"DD MMMM YYYY"});n.push({fmt:"MM/DD/YYYY"});n.push({fmt:"MMMM DD, YYYY"});t.qTimestampFmt&&n.push({fmt:t.qTimestampFmt});n.push({fmt:"YYYY-MM-DD hh:mm:ss[.fff]"});t.qTimeFmt&&n.push({fmt:t.qTimeFmt});n.push({fmt:"hh:mm:ss"});n.push({fmt:"h:mm:ss tt"});n.forEach(function(t){t.type="D";e.push(t)})}function u(t,e){var n=[];t.qMoneyFmt&&n.push({fmt:t.qMoneyFmt,type:"M"});n.forEach(function(n){n.decimal=t.qMoneyDecimalSep;n.thousand=t.qMoneyThousandSep;e.push(n)})}function c(t,e){var n=[],i=t.qThousandSep,r=t.qDecimalSep||".";if(t.qThousandSep){n.push({fmt:"#"+i+"##0"});n.push({fmt:"#"+i+"##0"+r+"0"});n.push({fmt:"#"+i+"##0"+r+"00"})}else{n.push({fmt:"0"});n.push({fmt:"0"+r+"0"});n.push({fmt:"0"+r+"00"})}n.push({fmt:"0%"});n.push({fmt:"0"+r+"0%"});n.push({fmt:"0"+r+"00%"});n.forEach(function(t){t.decimal=r;t.thousand=i;t.type="F";e.push(t)})}function p(t,e){c(t,e);u(t,e);d(t,e)}var f={template:e,controller:["$scope",function(e){var n=function t(){return e.data},i=[];t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);t.defineChange(e,e.args.handler);t.defineReadOnly(e,e.args.handler);t.defineValue(e,e.definition,n);e.options=[];p(e.args.localeInfo,i);l(e.definition,i,e.data,e.args.handler,e.options,e.args.localeInfo);e.$watch("data",function(t){l(e.definition,i,t||e.data,e.args.handler,e.options,e.args.localeInfo)})}]};return f}.apply(e,i),void 0!==r&&(t.exports=r))},804:function(t,e,n){var i;!(i=function(){return function(t,e){if(!t||isNaN(+e))return e;var e="-"==t.charAt(0)?-e:+e;var n=e<0?e=-e:0;var i=t.match(/[^\d\-\+#]/g);var r=i&&i[i.length-1]||".";var a=i&&i[1]&&i[0]||",";var t=t.split(r);e=e.toFixed(t[1]&&t[1].length);e=+e+"";var o=t[1]&&t[1].lastIndexOf("0");var s=e.split(".");(!s[1]||s[1]&&s[1].length<=o)&&(e=(+e).toFixed(o+1));var l=t[0].split(a);t[0]=l.join("");var d=t[0]&&t[0].indexOf("0");if(d>-1)while(s[0].length<t[0].length-d)s[0]="0"+s[0];else 0==+s[0]&&(s[0]="");e=e.split(".");e[0]=s[0];var u=l[1]&&l[l.length-1].length;if(u){var c=e[0];var p="";var f=c.length%u;for(var g=0,v=c.length;g<v;g++){p+=c.charAt(g);!((g-f+1)%u)&&g<v-u&&(p+=a)}e[0]=p}e[1]=t[1]&&e[1]?r+e[1]:"";return(n?"-":"")+e[0]+e[1]}}.call(e,n,e,t),void 0!==i&&(t.exports=i))},805:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(806),n(46),n(253),n(254),n(179)],r=function(t,e,n,i,r,a){var o,s,l,d,u,c=1000.12,p=new Date(2014,1,17,15,30,40),f=1.0453718171296298;function g(t,e){var n,i,r,a;switch(t.qDef.qNumFormat.qType){case"D":case"T":case"TS":a=s;n=p;break;case"IV":a=l;n=f;break;case"M":a=d;n=c;break;case"R":r=t.qDef.qNumFormat.qDec||".";i=t.qDef.qNumFormat.qThou;default:a=u;n=c;break}return a.format(n,"undefined"!==typeof e?e:t.qDef.qNumFormat.qFmt,i,r)}function v(t,e){t.qDef.qNumFormat.qFmt=a.getDefaultNumericFormat(t.qDef.qNumFormat,e)}function m(t,e,n){return t===a.getDefaultNumericFormat(e.qDef.qNumFormat,n)}o={template:e,controller:["$scope",function(e){var o=function t(){return e.data};var c=e.args.localeInfo;s=new r(c,"","","","D");l=new r(c,"","","","IV");d=new i(c,"","","","M");u=new i(c,"","","","F");t.defineLabel(e,e.definition,o,e.args.handler);t.defineVisible(e,e.args.handler);t.defineReadOnly(e,e.args.handler);t.defineChange(e,e.args.handler);t.defineValue(e,e.definition,o);d.thousandDelimiter=e.args.localeInfo.qMoneyThousandSep||"";d.decimalDelimiter=e.args.localeInfo.qMoneyDecimalSep||".";l.pattern=e.args.localeInfo.qTimeFmt;u.thousandDelimiter=e.args.localeInfo.qThousandSep||"";u.decimalDelimiter=e.args.localeInfo.qDecimalSep||".";e.onkeyup=function(t){e.$apply(function(){e.example=g(e.data,a.getNormalizedFormat(e.data.qDef.qNumFormat,t[0].value))})};e.example_title=n.get("properties.numberFormatting.example");function p(){e.example=g(e.data);e.resetting=false;e.isDefaultFormat=m(e.data.qDef.qNumFormat.qFmt,e.data,e.args.localeInfo);e.showReset="R"===e.data.qDef.qNumFormat.qType}e.reset=function(){if(!e.resetting){v(e.data,e.args.localeInfo);e.resetting=true;e.$emit("saveProperties")}};e.$watch("data",function(){p()});e.$on("datachanged",function(){p()});p()}]};return o}.apply(e,i),void 0!==r&&(t.exports=r))},806:function(t,e){t.exports='<div class="pp-component pp-string-component" ng-if="visible" tcl="string">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\n\t<div class="value">\n\t\t<input type="text" class="lui-input" maxlength="{{definition.maxlength || 255}}" tid="{{key}}" spellcheck="false"\n\t\t\t   ng-model="value" ng-class="{ \'qui-invalid\': invalid }" ng-disabled="readOnly" ng-change="change()"\n\t\t\t   ng-model-options="{ updateOn: \'blur\', allowInvalid: true }" qva-model-onkeyup pp-input-validator/>\n\n\t</div>\n</div>\n<div class="pp-component pp-number-formatter-component">\n\t<div class="label">{{example_title}}</div>\n\t<div class="value">{{example}}</div>\n</div>\n<button class="lui-button pp-add-property" qva-activate="reset()" qv-enter="reset()" ng-disabled="isDefaultFormat || resetting"\n        ng-show="showReset" q-translation="{{definition.resetTranslation}}"></button>\n'},807:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(808),n(809)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){return e.data};t.defineLabel(e,e.definition,n,e.args.handler);t.defineVisible(e,e.args.handler);t.defineChange(e,n,e.args.handler);t.defineValue(e,e.definition,n)}]};return n}.apply(e,i),void 0!==r&&(t.exports=r))},808:function(t,e){t.exports='<div class="pp-component pp-string-component pp-tags-component" ng-if="visible" tcl="tags">\n\t<div class="label" ng-if="label" title="{{label}}">{{label}}</div>\n\t<div class="tagcloudContainer">\n\t\t<qv-tagcloud tags="value" on-change="change()"></qv-tagcloud>\n\t</div>\n</div>\n'},809:function(t,e,n){"use strict";var i,r;!(i=[n(89),n(810)],r=function(t,e){var n=30;t.directive("qvTagcloud",["$parse",function(t){return{template:e,replace:true,restrict:"E",scope:{tags:"=",onChange:"&"},link:function e(i,r,a){i.tagInput="";var o=r.find(".qv-tagText");o.bind("blur",function(){i.$apply(function(){i.addTags()})});o.bind("keydown",function(t){if(13===t.which){t.stopPropagation();i.$apply(function(){i.addTags()})}});function s(t){var e=i.tags;t=t.trim();if(!t||-1!==e.indexOf(t)||e.length>=n)return;e.push(t)}i.removeTagAt=function(t){i.tags.splice(t,1);i.onChange()};i.addTags=function(){var t=i.tagInput;if(!t)return;i.tagInput="";var e=t.trim().split(",");e.forEach(s);i.tags.sort(function(t,e){return t.localeCompare(e)});i.onChange()};i.addTagsAndFocus=function(t){t.preventDefault();i.addTags();o.focus()};var l=t(a.update);l.assign&&l.assign(i.$parent,i.addTags)}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},81:function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={getCharacterCount:e,getCharacterIndexes:n,getIsCharacterEncapsulated:i,getNormalizedExpression:r,getFormattedAggregation:a};return t;function e(t,e){if(!t||!e)return 0;return t.split(e).length-1}function n(t,e){var n=[];if(!t||!e)return n;for(var i=0;i<t.length;i++){var r=t.charAt(i);r===e&&n.push(i)}return n}function i(t,n,i,r){if(!t||!i||!r)return false;var a=i===r;var o=e(t,i),s=e(t,r);var l=a?o>1:o+s>1;if(!l)return false;var d=t.substr(0,n),u=e(d,i);if(a){var c=o%2===0,p=u%2!==0;if(c)return p;var f=u>0&&u!==o;return f&&p}var g=e(d,r),v=o===s;if(v)return u>g;var m=u<g;if(m||0===s)return false;var h=o-s;return u<=h}function r(t){if(!t)return"";"="===t.charAt(0)&&(t=t.substr(1));var e=t.length-1;"["===t.charAt(0)&&"]"===t.charAt(e)&&(t=t.substring(1,e));return t}function a(t){if(!t)return"";return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}.apply(e,i),void 0!==r&&(t.exports=r))},810:function(t,e){t.exports='<div class="qv-cloud">\n\t<div class="qv-tageditor">\n\t\t<div class="lui-input-group">\n\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input qv-tagText" tid="tag-cloud-input" ng-model="tagInput" type="text" maxlength="31">\n\t\t\t<button class="lui-button  lui-input-group__item  lui-input-group__button" data-tid="tag-button">\n\t\t\t \t<span class="lui-button__icon  lui-icon  lui-icon--plus" q-title-translation="Tooltip.AddTag" ng-click="addTagsAndFocus( $event )"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div tid="tag-cloud-cloud" class="qv-tagCloud" data-value="tags">\n\t\t<span ng-repeat="tag in tags" class="qv-tagItem lui-tag">\n\t\t\t<div class="qv-tagContent">{{tag}}</div>\n\t\t\t <div class="lui-icon lui-icon--remove qv-clearTag" ng-click="removeTagAt( $index )" q-title-translation="Common.Delete"></div>\n\t\t</span>\n\t</div>\n</div>\n'},811:function(t,e,n){"use strict";var i,r;!(i=[n(50),n(51),n(812),n(59),n(137)],r=function(t,e,n,i,r){function a(t,e){if(!t.ref||e.filter(function(t){return!t.ref||!t.id}).length)throw"Invalid input to attribute-expression-ref property component. Requires ref for component and ref for each item."}function o(e,n){var i=r.getById(n,e.id)||{};return t.getValue(i,e.ref,void 0)}var s={template:n,controller:["$scope",function(n){var s=n.definition.items||{};var l;var d=n.definition.ref;a(n.definition,s);function u(){n.innerData=[];var e=t.getValue(n.data,d,[]);n.items=Object.keys(s).filter(function(t,i){var r=s[t];n.innerData[i]=n.innerData[i]||{};n.innerData[i][r.ref]=o(r,e);n.innerData[i].id=r.id;if("function"===typeof r.show)return r.show(n.data,n.args.handler,n.args);if("boolean"===typeof r.show)return r.show;return true}).map(function(t){var e=s[t];return{component:i.findComponent(e),definition:e,key:t}});l||(l=n.$watch("innerData",function(){var e=t.getValue(n.data,d,[]);var i=e.length;var a=false;var l=[];s.forEach(function(i,s){var d=t.getValue(n.innerData[s],i.ref,null);var u=o(i,e);var c=r.getIndexById(e,i.id);if(null!==d&&""!==d){if(-1===c){e.push(n.innerData[s]);c=e.length-1;a=true}else if(d!==u){a=true;e[c][i.ref]=n.innerData[s][i.ref]}l[c]=true}else-1!==c&&delete e[c][i.ref]});for(var u=e.length-1;u>=0;u--)true!==l[u]&&e.splice(u,1);e=r.clean(e);a=a||i!==e.length;t.setValue(n.data,d,e);a&&n.change()},true))}n.$on("datachanged",function(){u()});n.$watch("data",function(){u()});n.$on("saveProperties",function(t){t.targetScope!==n&&t.stopPropagation()});e.defineVisible(n,n.args.handler);e.defineChange(n,n.args.handler)}]};return s}.apply(e,i),void 0!==r&&(t.exports=r))},812:function(t,e){t.exports='<div class="pp-component pp-attr-ref-component" ng-if="visible" tcl="items">\n\t<div ng-repeat="item in items track by item.key" tid="{{item.definition.tid}}" class="item">\n\t\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="innerData[$index]" x-args="args"></div>\n\t</div>\n</div>'},813:function(t,e,n){"use strict";var i,r;function a(t){a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return a(t)}!(i=[n(47),n(51),n(50),n(69),n(158),n(159),n(814),n(815),n(816)],r=function t(e,n,i,r,o,s,l,d,u){var c={template:d,controller:["$scope","luiPopover",p]};return c;function p(t,d){R(t);var c,p=null,f=27,g;var v={expressionRef:t.definition.expressionRef,elementRef:t.definition.elementRef,getElements:_()};n.defineChange(t,t.args.handler);n.defineVisible(t,t.args.handler);Object.defineProperty(t,"expression",{get:function e(){var n=i.getValue(t.data,v.expressionRef,"");n&&"object"===a(n)&&(n=n.qValueExpression.qExpr);return n},set:function e(n){var r={qValueExpression:{qExpr:n}};i.setValue(t.data,v.expressionRef,r)}});t.selectedElement=void 0;t.isLinked=true;t.isExpressionValid=true;Object.defineProperty(t,"MAX_LENGTH",{value:r.name,writable:false,configurable:false});t.unlink=E;t.onExpressionBlur=C;t.onKeyUp=I;t.onExpressionActivate=L;t.onExpressionEnter=T;t.openElementsPopover=k;t.isElementsPopoverOpen=M;t.openExpressionDialog=A;t.shouldForceEditInExpressionEditor=O;t.shouldShowEditInExpressionEditorMessage=F;var m=new o.ExpressionValidator(t.args.app),h=function e(n){t.isExpressionValid=n.valid};m.Update.bind(h);var x=new o.ExpressionValidator(t.args.app),b=function e(n){t.isExpressionValid=n.valid;t.change()};x.Update.bind(b);t.$on("$destroy",function(){m.Update.unbind(h);x.Update.unbind(b)});t.$on("datachanged",y);D();function y(e,n){t.data=n;D()}function D(){var n=v.getElements();function i(){var n=e.getValue(t.data,v.elementRef);if(!n){g=t.expression;t.isLinked=false;m.validate(t.expression);return}var i=q(n);i||$("No matching element found");w(i)}if("function"===typeof n.then)n.then(function(t){c=t;i()});else{c=n;i()}}function _(){var n=e.isFunction(t.definition.elements);return n?function e(){return t.definition.elements(t.args)}:function e(){return t.definition.elements}}function q(t){var e=c.filter(function(e){return e.id===t});return e.length>0?e[0]:null}function w(e){t.selectedElement=e;t.expression=e.exp;g=e.exp;t.isLinked=true}function E(){t.isLinked=false;t.selectedElement=void 0;e.setValue(t.data,v.elementRef,void 0);t.change()}function C(){if(!t.expression){t.expression=g;return}x.validate(t.expression);g=t.expression}function I(e){if(e.keyCode!==f)return;t.expression=g;l.blur(e.target)}function L(e){if(!O())return;l.blur(e.target);t.openExpressionDialog()}function T(t){l.blur(t.target)}function k(n){if(M()){S();return}var i={template:u,input:{elements:c,getSelectedElement:function e(){return t.selectedElement},onElementChanged:function n(i){w(i);e.setValue(t.data,v.elementRef,i.id);t.change();S()}},alignTo:n.target,dock:"bottom",closeOnResize:true,closeOnOutside:true};p=d.show(i);p.closing.then(function(t){l.clickedOnDropdownButton(t)&&(p=null)})}function M(){return!!p}function S(){if(!M())return;p.close();p=null}function A(){var e={expr:t.expression,title:t.expression?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title"};s.show(e).then(function(e){t.expression=e;t.change()})}function O(){return t.expression.length>t.MAX_LENGTH}function F(){return!t.isLinked&&O()}function R(t){t.args||P("args");t.args.handler||P("args.handler");t.data||P("data");t.definition||P("definition");t.definition.expressionRef||P("definition.expressionRef");t.definition.elementRef||P("definition.elementRef");t.definition.elements||P("definition.elements")}function P(t){$("Required data missing: $scope."+t)}function $(t){throw new Error("Component: SortByElement - "+t)}}}.apply(e,i),void 0!==r&&(t.exports=r))},814:function(t,e,n){"use strict";var i,r;!(i=[n(44)],r=function t(e){var n={blur:i,clickedOnDropdownButton:r};return n;function i(t){e(t).blur()}function r(t){return t&&!e(t.target).closest(".pp-sortbyelement-dd-button").length>0}}.apply(e,i),void 0!==r&&(t.exports=r))},815:function(t,e){t.exports='<div class="pp-component pp-string-component pp-sortbyelement-component" ng-if="visible" tcl="sort-by-element">\n\t\n\t<div class="value">\n\t\t<div class="lui-input-group">\n\n\t\t\t\x3c!-- Input for element --\x3e\n\t\t\t<input class="lui-input lui-input-group__item lui-input-group__input" \n\t\t\t\ttype="text"\n\t\t\t\ttitle="{{selectedElement.label}}"\n\t\t\t\tspellcheck="false"\n\t\t\t\tmaxlength="{{maxLength}}" \n\t\t\t\tng-if="isLinked" \n\t\t\t\tng-disabled="true"\n\t\t\t\tng-model="selectedElement.label" />\n\n\t\t\t\x3c!-- Input for expression --\x3e\n\t\t\t<input class="lui-input lui-input-group__item lui-input-group__input pp-sortbyelement-expression" \n\t\t\t\ttype="text"\n\t\t\t\tspellcheck="false"\n\t\t\t\tmaxlength="{{maxLength}}"\n\t\t\t\tng-if="!isLinked"\n\t\t\t\tng-readonly="isLocked()"\n\t\t\t\tng-class="{ \'lui-invalid\': !isExpressionValid, \'force-editor\': shouldForceEditInExpressionEditor() }" \n\t\t\t\tng-model="expression" \n\t\t\t\tqv-enter="onExpressionEnter($event)" \n\t\t\t\tqva-blur="onExpressionBlur()"\n\t\t\t\tng-keyup="onKeyUp($event)"\n\t\t\t\tqva-activate="onExpressionActivate($event)" />\n\n\t\t\t\x3c!-- Button for unlinking --\x3e\n\t\t\t<button class="lui-button lui-input-group__item lui-input-group__button" \n\t\t\t\tng-if="isLinked"\n\t\t\t\tq-title-translation="properties.boxplot.sorting.unlink"\n\t\t\t\tqva-activate="unlink()">\t\t\t\t\n\n\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--link"></span>\n\t\t\t</button>\n\n\t\t\t\x3c!-- Button for opening expression editor --\x3e\n\t\t\t<button class="lui-button lui-input-group__item lui-input-group__button" \n\t\t\t\tng-if="!isLinked" \n\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor"\n\t\t\t\tqva-activate="openExpressionDialog()">\n\n\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--expression edit-expression active"></span>\n\t\t\t</button>\n\n\t\t\t\x3c!-- Button for opening elements popover --\x3e\n\t\t\t<button class="lui-button lui-input-group__item lui-input-group__button pp-sortbyelement-dd-button" \n\t\t\t\tng-class="{\'lui-active\': isElementsPopoverOpen() }"\n\t\t\t\tq-title-translation="properties.boxplot.sorting.selectElement"\n\t\t\t\tqva-activate="openElementsPopover($event)">\n\n\t\t\t\t<span class="lui-caret"></span>\n\t\t\t</button>\n\n\t\t</div>\n\t</div>\n\n\t<div ng-if="shouldShowEditInExpressionEditorMessage()" class="hint" q-translation="properties.editInExpressionEditor"></div>\n\t\n</div>'},816:function(t,e){t.exports='<lui-popover class="add-popover-wrapper pp-sortbyelement-popover">\n\t<div class="lui-popover__body lui-popover__body lui-nopad">\n\t\t<ul class="lui-list">\n\t\t\t<li class="lui-list__item" \n\t\t\t\tng-repeat="element in elements" \n\t\t\t\tng-class="{ \'lui-active\': element === getSelectedElement() }"\n\t\t\t\tng-click="onElementChanged(element)">\n\n\t\t\t\t<span class="lui-list__text lui-list__action">{{element.label}}</span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</lui-popover>'},817:function(t,e,n){"use strict";var i,r;!(i=[n(51),n(818)],r=function t(e,n){var i={template:n,controller:["$scope",r]};return i;function r(t){e.defineVisible(t,t.args.handler)}}.apply(e,i),void 0!==r&&(t.exports=r))},818:function(t,e){t.exports='<div class="pp-component pp-nodata-component" ng-if="visible" tcl="nodata">\n\t<span q-translation="Common.NoData"></span>\n</div>'},819:function(t,e,n){"use strict";var i,r;!(i=[n(59),n(50),n(218),n(820)],r=function(t,e,n,i){var r={template:i,controller:["$scope",function(i){var r={expr:{ref:"cond",type:"string",component:"expression",expressionType:"ValueExpr",translation:"properties.hyperCube.calcCond",change:i.definition.condChange},customErrorMessage:{ref:"msg",component:"expression",defaultValue:"",type:"string",expressionType:"StringExpr",expression:"optional",placeholderTranslation:"Object.ErrorMessage.CalculationCondition",translation:"properties.hyperCube.calcCondMessage",show:function t(n){var i=e.getValue(n,"cond");return i.qv&&""!==i.qv},change:i.definition.msgChange}};i.items=Object.keys(r).map(function(e){var n=r[e];return{component:t.findComponent(n),definition:n,key:e}});function a(){if(i.definition.ref)return e.getValue(i.data,i.definition.ref);return i.data}i.newData={};Object.defineProperty(i.newData,"cond",{get:function t(){var e=a();var r=n.getPropCondition(e,i.definition.oldCondRef);return{qv:r}},set:function t(e){var r=a();n.setPropCondition(r,e.qv,i.definition.oldCondRef)}});Object.defineProperty(i.newData,"msg",{get:function t(){var e=a();var i=n.getPropMessage(e);return{qv:i}},set:function t(e){var i=a();n.setPropMessage(i,e.qv)}})}]};return r}.apply(e,i),void 0!==r&&(t.exports=r))},820:function(t,e){t.exports='<div class="pp-component pp-items-component" tcl="items">\n\t<div ng-repeat="item in items track by item.key" tid="{{item.key}}" class="item" ng-class="{ \'grouped\': definition.grouped }">\n\t\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="newData" x-args="args"></div>\n\t</div>\n</div>'},821:function(t,e,n){"use strict";var i,r;!(i=[n(822),n(59),n(46),n(47),n(45),n(71),n(63),n(192)],r=function(t,e,n,i,r,a,o,s){var l={template:t,controller:["$scope","qvConfirmDialog",function(t,l){t.disableAutoChart=o.getFlag("DISABLE_AUTO_CHART")||s.isVariableDefined("DISABLE_AUTO_CHART");"sheet"===t.data.qInfo.qType?t.visible=false:t.visible=true;var d=t.data.visualization;t.data.autoMode="auto-chart"===d;t.label=i.getValue(t.data,"model.layout.title","");t.iconName=t.args.iconName;var u={title:n.get("ToAutoChart.Dialog.Header"),message:n.get("ToAutoChart.Dialog.Content1")+"<div class='sub-body'>"+n.get("ToAutoChart.Dialog.Content2")+"</div>",okLabel:n.get("Common.Apply")};var c=function e(){function n(){return t.data.model&&"widget"===t.data.model.layout.visualization}function i(){return t.data.object&&t.data.object.ext&&(t.data.object.ext.data.dimensions||t.data.object.ext.data.measures)}var r=!!t.data.model&&(!!t.data.model.layout.extensionMeta&&t.data.model.layout.extensionMeta.isThirdParty);var a=!!t.data.object&&(!!t.data.object.ext&&!!t.data.object.ext.importProperties&&!!t.data.object.ext.exportProperties);var o=!!t.data.autoMode&&(t.data.autoMode&&!!t.data.model&&(!t.data.model.properties.qUndoExclude||!t.data.model.properties.qUndoExclude.generated));if(n())return o||!i();return!a||r||o};t.shouldHideToggleSwitch=!t.data.autoMode&&c();var p=n.get("ChartSuggestion.Header");t.switchComponent={component:e.findComponent({type:"items",component:"switch"}),definition:{ref:"autoMode",type:"boolean",component:"switch",defaultValue:"auto-chart"===d,options:[{value:true,label:p},{value:false,label:p}],label:function e(){var n=i.getValue(t.data,"model.layout.showTitles",false),r=n?i.getValue(t.data,"model.layout.title",t.label):"";return r},inverse:!o.getFlag("BRIGHT_THEME"),show:t.visible,shouldUpdateTitle:true,context:"header",change:function t(){var e=new r;e.resolve(false);return e.promise},interceptor:function t(){return l.show(u).closed},interceptorPredicate:function t(e){return e}},data:t.data,args:t.args};t.$on("layoutchanged",function(e,n){(n.title||""===n.title)&&(t.label=n.showTitles?n.title:"")});if(a.view===a.Views.masterObject){t.switchComponent.definition.show=false;t.visible=false}}]};return l}.apply(e,i),void 0!==r&&(t.exports=r))},822:function(t,e){t.exports='<div class="pp-component pp-header-with-switch-component" tid="assistance-header" tcl="switch">\n\t<div class="header-with-switch-icon">\n\t\t<span class="type-icon lui-icon lui-icon--{{iconName}}"></span>\n\t</div>\n\t<div class="switch-container" ng-if="!disableAutoChart">\t\t\t\n\t\t\t<div class="label" ng-if="label" ng-show="shouldHideToggleSwitch" title="{{label}}">\n\t\t\t\t{{label}}\n\t\t\t</div>\n\t\t\t<div ng-hide="shouldHideToggleSwitch" \n\t\t\t\t include-pp-component \t\t\t\t\n\t\t\t\t x-component="switchComponent.component" \n\t\t\t\t x-definition="switchComponent.definition" \n\t\t\t\t x-data="switchComponent.data" \n\t\t\t\t x-args="switchComponent.args"></div>\t\t\n\t</div>\n</div>\n'},823:function(t,e){t.exports='<div class="pp-nm-di qv-pp-sortable" ng-class="{ \'draggable\': isItemDraggable(item), \'dragged\': item.isDragged }">\n\n\t\x3c!-- Description --\x3e\n\t<div class="pp-nm-di__description" ng-if="showItemDescription(item)">\n\t\t{{getItemDescription(item)}}\n\t</div>\n\n\t\x3c!-- Header --\x3e\n\t<div class="pp-nm-di__header"\n\t\t ng-class="{\n\t\t\t \'expanded\': item.expanded,\n\t\t\t \'invalid\': item.isInvalid(),\n\t\t\t \'disabled\': item.disabled,\n\t\t\t \'draggable\': isItemDraggable(item) }"\n\t\t ng-style="item.style"\n\t\t ng-click="expandClicked($event, item)"\n\t\t qva-context-menu="openContextMenu($event, item)">\n\n\t\t\x3c!-- Change aggregation dropdown --\x3e\n\t\t<button class="lui-button pp-nm-di__header-aggregation"\n\t\t\t\tng-show="showChangeAggregation(item)"\n\t\t\t\tng-click="openChangeAggregationPopover($event, item)"\n\t\t\t\tng-class="{ \'lui-active\': isChangeAggregationPopoverOpen(item) }"\n\t\t\t\ttitle="{{item.currentAggregation}}">\n\t\t\t{{item.currentAggregation}}\n\t\t</button>\n\n\t\t\x3c!-- Header content --\x3e\n\t\t<div class="pp-nm-di__header-content">\n\n\t\t\t\x3c!-- Header title --\x3e\n\t\t\t<div class="pp-nm-di__header-title" title="{{getItemHeaderTitle(item)}}">\n\t\t\t\t{{getItemHeaderTitle(item)}}\n\t\t\t</div>\n\n\t\t\t\x3c!-- Header icons --\x3e\n\t\t\t<i ng-if="item.markerClass" ng-class="item.markerClass"></i>\n\t\t\t<i class="lui-icon pp-nm-di__header-toggle lui-icon--arrow-right" ng-class="{ \'expanded\': item.expanded }"></i>\n\t\t\t<i class="lui-icon lui-icon--draggable pp-nm-di__draggable qv-pp-sortable-handle" pp-di-draggable-hover q-title-translation="Common.Move"></i>\n\t\t</div>\n\t</div>\n\n\t\x3c!-- Content --\x3e\n\t<div class="pp-nm-di__content" ng-if="item.expanded">\n\n\t\t\x3c!-- Content body - Master or inline dimension / measure --\x3e\n\t\t<div class="pp-nm-di__content-body">\n\t\t\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="item.data" x-args="item.args"></div>\n\t\t</div>\n\n\t\t\x3c!-- Content footer - Remove button --\x3e\n\t\t<div class="pp-nm-di__content-footer">\n\t\t\t<button class="lui-button pp-nm-di__remove-button" ng-click="removeItem(item)">\n\t\t\t\t<span class="lui-button__icon lui-icon lui-icon--bin remove-icon" q-title-translation="Common.Delete"></span>\n\t\t\t\t<span class="lui-button__text" q-translation="Common.Delete"></span>\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n'},824:function(t,e){t.exports='<div class="pp-nm-di qv-pp-sortable pseudo" ng-class="{ \'draggable\': isItemDraggable(item), \'dragged\': item.isDragged }">\n\n\t\x3c!-- Description --\x3e\n\t<div class="pp-nm-di__description" ng-if="showItemDescription(item)">\n\t\t{{getItemDescription(item)}}\n\t</div>\n\n\t\x3c!-- Header --\x3e\n\t<div class="pp-nm-di__header" \n\t\t ng-style="item.style"\n\t\t ng-class="{ \'draggable\': isItemDraggable(item) }">\n\n\t\t\x3c!-- Header content --\x3e\n\t\t<div class="pp-nm-di__header-content">\n\n\t\t\t\x3c!-- Header title --\x3e\n\t\t\t<div class="pp-nm-di__header-title" q-translation="Common.Values"></div>\n\n\t\t\t\x3c!-- Header icons --\x3e\n\t\t\t<i ng-if="item.markerClass" ng-class="item.markerClass"></i>\t\t\n\t\t\t<i class="lui-icon lui-icon--draggable pp-nm-di__draggable qv-pp-sortable-handle" pp-di-draggable-hover q-title-translation="Common.Move"></i>\n\t\t</div>\n\t</div>\n</div>'},825:function(t,e){t.exports='<div class="pp-data-empty-hint">\n\t<span q-translation="Common.NoData"></span>\n</div>'},826:function(t,e){t.exports='<div class="pp-expandable-list-header" qva-activate="expandClicked($event,item);"\n\t ng-style="item.style"\n\t ng-class="{ \'expanded\': item.expanded, \'invalid\': item.isInvalid(), \'qv-pp-sortable\': item.sortable }">\n\t<span class="priority" ng-if="item.showPriority">{{item.priority}}</span>\n\t<i class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t<span class="text" title="{{item.title()}}">{{item.title()}}</span>\n\t<span class="lui-icon lui-icon--handle pp-move-item qv-pp-sortable-handle" ng-if="item.sortable" q-title-translation="Common.Move"></span>\n</div>\n<div class="pp-expandable-list-content" ng-if="item.expanded">\n\t<div include-pp-component x-component="item.component" x-definition="item.definition" x-data="item.data" x-args="item.args"></div>\n</div>\n'}}]);