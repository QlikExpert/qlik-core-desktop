(window["qJsonp"]=window["qJsonp"]||[]).push([[7],Array(50).concat([function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(47)],r=function(t){function e(t){return"object"===o(t.items)&&"array"!==t.type&&("items"===t.type||"items"===t.component||"expandable-items"===t.component||"accordion"===t.component||!t.type&&!t.component)}function n(t,e,n){if("string"!==typeof e)return e;switch(t){case"integer":e=parseInt(e,10);isNaN(e)&&(e=n);break;case"number":e=parseFloat(e);isNaN(e)&&(e=n);break;case"boolean":e="true"===e;break}return e}function i(t,e){if("function"===typeof e.defaultValue)return e.defaultValue();if("undefined"!==typeof e.defaultValue)return e.defaultValue;if(Array.isArray(e.options))return e.options[0].value;switch(t){case"array":return[];case"string":return"";case"integer":return 0;case"number":return 0;case"boolean":return false;default:return null}}function r(n){var r={};function o(n){var s,a,l;if(n.schemaIgnore)return;if(e(n)){s=Object.keys(n.items);for(l=0;l<s.length;l++){a=n.items[s[l]];a&&o(a)}}else n.ref&&!n.schemaIgnore&&t.setValue(r,n.ref,i(n.type,n))}if("array"===n.type&&n.items){r={};o({type:"items",items:n.items})}else o(n);return r}function s(t,e){return"undefined"!==typeof e.undefinedValue?e.undefinedValue:i(t,e)}return{getValue:t.getValue,setValue:t.setValue,getTypeValue:n,getDefaultValue:i,getDefaults:r,isHierarchical:e,getUndefinedValue:s}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(50),n(45),n(47),n(46)],r=function(t,e,n,i,r){function s(t,e,n){return"function"===typeof t.refFn?t.refFn(e,n):t.ref}var a={defineValue:function n(i,r,o,l){var c,u,d;function p(t){var n=s(r,o(),i.args);var a=e.getValue(o(),n);if("undefined"===typeof a)return e.getUndefinedValue(t,r);return a}function f(n,l,c){var u=e.getTypeValue(n,l,c);var d=o();var p=s(r,d,i.args);r.rollbackInvalid?a.validateType(u,r,d)?e.setValue(d,p,u):t.getService("$timeout")(function(){t.$rootScope.$broadcast("pp-revalidate")}):e.setValue(d,p,u)}if(r.convertFunctions){u=function t(){return r.convertFunctions.get(p,r,i.args)};d=function t(e){return r.convertFunctions.set(e,f,r,i.args)}}else{u=function t(){return p(r.type)};d=function t(n){var i=e.getDefaultValue(r.type,r);f(r.type,n,i)}}c="undefined"!==typeof l?l:"value";Object.defineProperty(i,c,{get:u,set:d})},defineExpression:function t(n,i,r){var a=n.definition.expression,l=n.definition.expressionType,c="optional"===a||"always"===a,u=i?"qValueExpression":"qStringExpression";!l&&c&&(l=i?"ValueExpression":"StringExpression");n.expressionType=l;n.isExpressionDefinition=c;Object.defineProperty(n,"displayValue",{get:function t(){var e=n.value;if(e&&"object"===o(e)){e=e[u].qExpr;e&&"="!==e[0]&&(e="="+e)}return e},set:function t(e){var i=c&&e&&0===e.indexOf("=");var r;if(e&&i){r={};r[u]={qExpr:e.substr(1)}}else r=e;n.value=r}});n.isExpression=function(){if("always"===a)return true;if("optional"===a){var t=s(n.definition,n.data,n.args);var i=e.getValue(n.data,t);return"object"===o(i)}return!!l};n.isLocked=function(){if(c){var t=n.value;"object"===o(t)&&(t=t[u].qExpr);if(!t||i&&"number"===typeof t)return false;var e=r&&-1!==t.indexOf("\n");return t&&(e||t.length>n.maxlength)}return false}},defineChange:function t(e,n){function i(){e.$emit("saveProperties")}e.change=function(){if("function"===typeof e.definition.change){var t=e.definition.change(e.data,n,e.args.properties,e.args);"object"===o(t)&&t.then?t.then(function(t){false!==t&&i()}):false!==t&&i()}else i()}},defineVisible:function t(e,n){var i=e.definition.show;"function"===typeof i?Object.defineProperty(e,"visible",{get:function t(){return i(e.data,n,e.args)}}):e.visible="boolean"!==typeof i||i},defineReadOnly:function t(e,n){var i=e.definition.readOnly;"function"===typeof i?Object.defineProperty(e,"readOnly",{get:function t(){return i(e.data,n,e.args)}}):e.readOnly="boolean"===typeof i&&i},definePlaceholder:function t(e,n){n.placeholderTranslation?e.placeholder=r.get(n.placeholderTranslation):n.placeholder&&(e.placeholder=n.placeholder)},defineLabel:function t(e,n,i,o){n.translation?e.label=r.get(n.translation):"function"===typeof n.label?Object.defineProperty(e,"label",{get:function t(){return n.label(i(),o)}}):n.label&&(e.label=n.label);return""},defineCustom:function t(e,n,i){var r=e.definition[i];"function"===typeof r?Object.defineProperty(e,i,{get:function t(){return r(e.data,n,e.args,e)}}):r&&(e[i]=r)},fillOptions:function t(e,i,s,a,l){var c=new n;function u(){var t=e.options;"function"===typeof t&&(t=e.options.call(null,i,s,l));if("object"===o(t)&&"function"===typeof t.then)return t;return n.resolve(t)}function d(t){return t.filter(function(t){return!!t}).map(function(t){var e={value:t.value};t.translation?e.label=r.get(t.translation):t.label?e.label=t.label:e.label=t.value;t.tooltipTranslation?e.tooltip=r.get(t.tooltipTranslation):t.tooltip&&(e.tooltip=t.tooltip);return e})}u().then(function(t){t=d(t);a.splice(0,a.length);for(var e=0;e<t.length;++e)a.push(t[e]);c.resolve()},c.reject);return c.promise},validateType:function t(e,n,r,o){var s=false;"boolean"===typeof n.invalid&&(s=s||n.invalid);"function"===typeof n.invalid&&(s=s||n.invalid.call(null,r,o.properties,o));if("number"===n.type)if(i.isNumeric(e)){"number"===typeof n.max&&e>n.max&&(s=true);"number"===typeof n.min&&e<n.min&&(s=true)}else s=true;if("integer"===n.type)if(i.isInteger(e)){"number"===typeof n.max&&e>n.max&&(s=true);"number"===typeof n.min&&e<n.min&&(s=true)}else s=true;if("string"===n.type){"undefined"!==typeof n.maxlength&&(s=s||e.length>n.maxlength);"undefined"!==typeof n.minlength&&(s=s||e.length<n.minlength)}return!s}};return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(48),n(44),n(319),n(41)],r=function(t,e,n,i){var r=["js","css","html","json"];var o=["break","do","instanceof","typeof","case","else","new","var","catch","finally","return","void","continue","for","switch","while","debugger","function","this","with","default","if","throw","delete","in","try","class","enum","extends","super","const","export","import","implements","let","private","public","yield","interface","package","protected","static","null","true","false"];function s(t,e){return(new RegExp(e+"=(.+?)(&|$)").exec(t)||[null,null])[1]}function a(t,e){var n=new RegExp(e+"=(.+?)(&|$)","g"),i=[],r;while(r=n.exec(t))i.push(decodeURIComponent(r[1]));return i}function l(t){document.title=t+" | Dev Hub"}function c(t){var n=[];e.forEach(t,function(t,i){e.isObject(t)&&(t.key=i);n.push(t)});return n}function u(t){if(location.hash){var e=new RegExp(t+"{(.*)}","");var n=location.hash.match(e);return!!(n&&n.length>1)&&decodeURIComponent(n[1])}return false}function d(){return window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1)}function p(t){if(t){var e=window.location.href,n=e.indexOf("#");n>0&&(window.location.hash="")}window.location.reload()}function f(t){return g(t)&&t.indexOf(".")<0}function h(t,e,n){var i=v(e,t);i||(i=n.some(function(e){return v(e.items,t)}));return i}function v(t,e){return t.filter(function(t){return t.id.toLowerCase()===e.toLowerCase()}).length>0}function g(t){return!!(t&&t.length&&t.length>0)&&(/^[\.0-9a-zA-Z_-]+$/.test(t)&&!/^\./.test(t))}function m(t){var e=/^[$A-Z_][0-9A-Z_$]*$/i;return e.test(t)&&-1===o.indexOf(t)}function b(t){var e=/^[$A-Z_][0-9A-Z_$]*$/i;return e.test(t)}function y(t){return-1!==o.indexOf(t)}function x(e,n,i){return i?t.isInteger(e)&&t.isInteger(n)&&e>=0&&n>=0&&n>=e:t.isInteger(e)&&t.isInteger(n)&&n>=e}function w(t){if(!t)return false;var e=t.lastIndexOf(".");if(e<0)return false;return r.indexOf(t.substr(t.lastIndexOf(".")+1).toLowerCase())>-1}function q(t){var e=/^[a-z]+[a-zA-Z0-9]*\b/g;return e.test(t)}function _(t){var e=/[^A-Z0-9]/i;return e.test(t)}function C(t){return t.substr(t.lastIndexOf(".")+1).toLowerCase()}function S(t){return t.substr(0,t.lastIndexOf("."))}function D(t){return t.replace(/[^a-z0-9]/gi,"-").toLowerCase()}function E(t){var e="";for(var n=0;n<t.length-1;n++)e+="."+t[n]+", ";e+="."+t[t.length-1];return e}var k,T;function A(){if(!T){T=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;n.fn.mutation=function(t,e,n){if(T){e=e||{subtree:false,attributes:true};k=new T(function(e){e.forEach(function(e){n?n(e,t):t(e.target,e.attributeName,e)})});return this.each(function(){k.observe(this,e)})}}}}function I(t,e){if(e){t.find("span[q-title-translation='Devhub.EditItem']").css({"pointer-events":"all"});t.find("*").not("span[q-title-translation='Devhub.EditItem']").css({"pointer-events":"none"})}else t.find("*").css({"pointer-events":"auto"})}function O(){var t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return("x"===e?n:3&n|8).toString(16)})}function L(t,e,n){function i(t){t.debounceTimer&&clearTimeout(t.debounceTimer);t.debounceTimer=null}return function(){var r=this,o=arguments,s;i(n);s=setTimeout(function(){t.apply(r,o)},e);n.debounceTimer=s}}return{getURLParameter:s,getURLParameters:a,setBrowserTitle:l,getHashParameter:u,getPrefix:d,reload:p,isInteger:function e(n){return t.isInteger(n)},extend:function t(){return e.extend.apply(null,arguments)},deepCopy:function t(){return e.copy.apply(null,arguments)},isValidExtensionName:f,isExistingExtensionName:h,isValidName:g,isValidFunctionName:m,isJsReservedWord:y,isValidSyntax:b,isValidInterval:x,isValidCamelCase:q,hasInvalidCharacters:_,sanitizeFileName:D,hasValidFileExtension:w,getFileExtension:C,getFileName:S,fileExtensionArrayToString:E,objectToArray:c,addMutationObserver:A,toggleElementSubtreeInteraction:I,generateId:O,debounce:L,conversions:i,__onlytest__:{_isIdInList:v}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i;!(i=function(){var t=/xyz/.test(function(){var t})?/\b_super\b/:/.*/;var e=function t(){};e.extend=function e(n,i){var r=this.prototype;if("string"!==typeof n){i=n;n="Class"}var o=Object.create(this.prototype);for(var s in i)o[s]="function"===typeof i[s]&&"function"===typeof r[s]&&t.test(i[s])?function(t,e){return function(){var n=this._super;this._super=r[t];var i=e.apply(this,arguments);this._super=n;return i}}(s,i[s]):i[s];if(!/^[_a-z][_a-z\d]*$/i.test(n))throw new Error("Invalid subclass name. Alphanumericals only.");var a=new Function("return (function "+n+"(){ typeof this.init === 'function' && this.init.apply(this, [].slice.call(arguments)) });")();a.prototype=o;a.prototype.constructor=a;a.extend=e;return a};return e}.call(e,n,e,t),void 0!==i&&(t.exports=i))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(79),n(46),n(45),n(481),n(67),n(482),n(47),n(75),n(66)],r=function(t,e,i,r,o,s,a,l,c){var u={MAX_NAME_LENGHT:80,MAX_URL_LENGTH:2083,EDITOR_SUPPORTED_FILE_TYPES:{media:["png","gif","jpeg","jpg"],source:["qext","js","html","htm","xml","json","css","txt"]}};var d=["OnLicenseAccessDenied","OnLicenseAccessDeniedPendingUserSync","OnSessionClosed","OnNoAppFound","OnEngineWebsocketFailed","OnNoEngineAvailable","OnSessionTimedOut","OnSessionClosed","OnNoDataPrepServiceAvailable","OnDataPrepServiceWebsocketFailed"];var p=t.getService("qwErrorService"),f=s.NxLocalizedErrorCode;t.service("qwCommonService",[function(){e.setLanguage("en-US");e.setOnError(function(e){t.getService("$delayedModal").isOpened||p.dialogIsOpen()||i.ready.then(function(){var t={name:"Devhub.Refresh",tid:"9d0c13",callback:function t(){window.location.reload(true)}};e.code===f.LOCERR_PERSONAL_VERSION_EXPIRED?p.raiseError("Devhub.ErrorCode.12001",i.get("ErrorCode."+e.code)):"OnSessionLoggedOut"===e.method||"OnSessionTimedOut"===e.method?window.location.replace(l.basePath+"qps/logout?targetUri="+l.reloadURI):e.method&&d.indexOf(e.method)>-1?p.raiseError("Devhub.ErrorDialog.Title","ProxyError."+e.method,t):"OnSessionLoggedOut"===e.method?p.raiseError("Devhub.LoggedOut",e.message,t):p.raiseError("Devhub.ErrorDialog.Title",e.message,t)})});var s=[];var h={pending:false};var v;function g(t,e){s[t]||(s[t]=[]);s[t].push(e)}function m(t,e){s[t]&&s[t].forEach(function(n){"function"===typeof n&&n(t,e)})}var b={host:window.location.hostname,prefix:window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1),port:window.location.port,isSecure:"https:"===window.location.protocol};function y(t,n){h.pending=true;n&&(b.identity=Math.random().toString(36).substring(7));v=e.getGlobal(b);if(!h["app_list"]||t){h["app_list"]=new r;v.getAppList(function(t){var e=[];t.forEach(function(t){e.push({id:t.qDocId,type:t.qDocName,published:!(!t.qMeta||!t.qMeta.published)&&t.qMeta.published})});h["app_list"].resolve(e);if(n&&!!h.pending){h.pending=false;v.session.close();v=null}})}return h["app_list"].promise}function x(t){return o.listVisualizations(t)}function w(t,e){var n=new r;t.getList("FieldList",function(t){e&&n.resolve(t.qFieldList.qItems.sort(function(t,e){if(t.qName<e.qName)return-1;if(e.qName<t.qName)return 1}));n.resolve(t.qFieldList.qItems)});return n.promise}function q(t){var e=new r;t.getList("DimensionList",function(t){e.resolve(t.qDimensionList.qItems)});return e.promise}function _(t){var e=new r;t.getList("MeasureList",function(t){e.resolve(t.qMeasureList.qItems)});return e.promise}function C(){if(!h["product_info"]){b.identity=Math.random().toString(36).substring(7);h["product_info"]=new r;v=e.getGlobal(b);v.session.enigmaPromise.then(function(){c.setup(v.session.__enigmaSession);r.all({qvVersion:v.getProductVersion(),isPersonalMode:v.isPersonalMode(),isCloud:c.isCloud()}).then(function(t){h["product_info"].resolve({version:t.qvVersion.qReturn,isPersonal:t.isPersonalMode.qReturn,isCloud:t.isCloud})})})}return h["product_info"].promise}function S(){return v}function D(){a.initializeCodearea({angularModule:t,publicPath:n.p+"assets/external/sensei-codearea/"});return C()}return{init:D,constants:u,config:b,getApplist:y,getObjectList:x,getFieldList:w,getDimensionList:q,getMeasureList:_,getProductInfo:C,getGlobalInstance:S,registerWatcher:g,notifyWatchers:m}}])}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(44),n(62),n(41),n(46),n(45)],r=function(t,e,n){n.service("qwConfigService",[function(){var n="qwWidgetEditorConfig";var i={solution:false,newObj:false,find:function t(e,n){this.solution=false;this.recursive(e,n);return this.solution},findSet:function t(e,n,i){this.solution=false;this.newObj||(this.newObj=e);this.recursive(e,n,i);return this.newObj},recursive:function t(e,n,i){if("undefined"!==typeof e[n]){this.solution=e[n];i&&(e[n]=i);return true}var r;if("[object Object]"===Object.prototype.toString.call(e))for(var o in e){r=i?this.findSet(e[o],n,i):this.find(e[o],n);if(r)return r}if("[object Array]"===Object.prototype.toString.call(e))for(var s=0;s<e.length;s++){r=i?this.findSet(e[s],n,i):this.find(e[s],n);if(r)return r}return false}};var r={};var s=t.extend(r,JSON.parse(localStorage.getItem(n)));var a={toolPath:"default",toolTitle:"",general:{undoRedo:false},rightPanel:{active:false,open:false},leftPanel:{active:false,open:false},toolbarSearch:false,bottomBar:{active:false,openView:false},selectionsBar:{enabled:false,toggled:false}};var l=t.extend({},a);var c;function u(t){c=e.extend(l,t);return c}function d(){return c||l}function p(){c=l=t.extend({},a);return c}return{getConfig:function t(e){return e?i.find(s,e):s},setConfig:function t(r,a){if("object"===o(r)){s=e.extend(r,JSON.parse(localStorage.getItem(n)));localStorage.setItem(n,JSON.stringify(s));return s}var l=i.findSet(s,r,a);localStorage.setItem(n,JSON.stringify(l));return l},getToolConfig:d,setToolConfig:u,resetDefaultConfig:p}}])}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[],r=function(){var t={missing:{template:"<div></div>",controller:[function(){}]}};function e(e){var n=e.component;if("string"===typeof n){if(t[n])return t[n];window.console.log('Error! No component found with name "'+n+'"');return t.missing}if("object"===o(n))return n;switch(e.type){case"items":return t.items;case"string":return t.string;case"integer":return t.integer;case"number":return t.number;case"boolean":return t.checkbox;case"array":if(e.items)return t.list;return t.slider;default:if(e.type){window.console.log('Error! No component found for type "'+e.type+'"');return t.missing}window.console.log('Warning! Missing component/type in definition. Using "items" component.');return t.items}}function n(e){return t[e]}function i(t){return!!n(t)}function r(e,n){if(t[e])throw"Property panel component already loaded: "+e;t[e]=n}return{getComponent:n,hasComponent:i,findComponent:e,addComponent:r}}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(45),n(172),n(52),n(46),n(70),n(108),n(54),n(56),n(85)],r=function(t,e,n,i,r,o,s,a){t.service("qwNavigationService",[function(){var l=t.getService("qvLoader");var c=t.getService("qwConfigService");var u=t.getService("qwPermissionService");var d=t.getService("qwErrorService");var p="";function f(){var t=window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1);var e=window.location.href;e=e.split("/");return e[0]+"//"+e[2]+("/"===t[t.length-1]?t.substr(0,t.length-1):t)}function h(){if(0===p.length){var t=window.location.pathname.substr(window.location.pathname.toLowerCase().indexOf("/dev-hub/"),window.location.pathname.length).replace("/dev-hub/","").replace(/\//,"");return""===t?"dev-hub":t}return p}function v(t){p=t.split("/")[t.split("/").length]?t.split("/")[t.split("/").length]:t.split("/")[t.split("/").length-1]}function g(t,e,n){var i=f();var r="";var o="#qext{"+t+"}";r="mashup"===e?"/dev-hub/mashup-editor/":"/dev-hub/extension-editor/";if(true===n)window.open(i+r+o);else if(window.location.pathname.indexOf(r)>-1){window.location.hash=o;window.location.reload(true)}else window.location.href=i+r+o}function m(t,e,n,i){i=i||false;var r=f();var o="/dev-hub/widget-editor/";var s=e?"#qlib{"+t+"/"+e+"}":"#qlib{"+t+"}";if(true===n)window.open(r+o+s);else if(window.location.pathname.indexOf(o)>-1){window.location.replace(r+o+s);i&&window.location.reload(true)}else window.location.href=r+o+s}function b(t,e){t?window.open(e.link):location.href=e.link}var y=[];var x=[];function w(){return x.sort(function(t,e){t="function"===typeof t?t():t;e="function"===typeof e?e():e;return t.order-e.order})}function q(){var t=new n;var e=[];y.forEach(function(t){var n=t();h()&&n.link&&n.link.indexOf(h())>=0&&(n.disabled=true);e.push(n)});t.resolve(e.sort(function(t,e){return t.order-e.order}));return t.promise}function _(){var t=c.getToolConfig();t&&r.setBrowserTitle(o.get(t.toolTitle))}function C(){location.href=f()+"/dev-hub"}function S(e){a.init(e,a.customEvents.DEV_HUB,null);if(/((\?|\&)qlikTicket\=([^&]+))/.test(window.location.search)){var n=h();var r="dev-hub"!==n?"/dev-hub/"+n:"/dev-hub";history["pushState"](null,null,f()+r)}return t.getService("$timeout")(function(){i.bypassed.add(C);i.parse(document.location.pathname)})}function D(t){var e=window.open();s.getWbFolder(t).then(function(n){var i=n.replace(/[\r\n]/g,"").split(";").filter(function(t){return-1!==t.indexOf(".html")&&""!==t.trim()})[0];e.location.replace("../extensions/"+t+"/"+i)}).catch(function(){d.raiseError(o.get("Devhub.ErrorIncomplete","mashup"),o.get("Devhub.ErrorIncompleteWbFolder","mashup"))})}return{init:S,registerRoute:function t(e,n){var r=window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1);r=r.substr(0,r.length-1);var o=r+e;i.addRoute(o,function(){a.trackEvent(a.customEvents.CLIENT_VIEW_LOADED,{viewName:e});v(o);n().then(function(){_();l.close(true)})})},getContainer:function t(){return e("#container")},addNavigationMenuItemProvider:function t(e){if(!e||!(e instanceof Function))throw"Navigation menu item provider should be a function, which will be invoked to get menu item";y.unshift(e)},addToolsPanelItem:function t(e){var n=e.entity;n&&u.canShow(n).then(function(t){e.disabled=!t});x.push(e)},setBrowserTitle:_,openUrlInNewTabIfCtrlKeyPressed:b,getToolsPanelItems:w,getBasePath:f,getCurrentLocation:h,openExtension:g,openWidgetLibrary:m,viewMashup:D,createNavigationMenuItems:q}}])}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(94),n(45),n(328),n(333),n(334),n(335),n(133),n(67),n(47),n(46),n(336)],r=function(t,e,n,i,r,o,s,a,l,c,u,d){var p=["OnLicenseAccessDenied","OnLicenseAccessDeniedPendingUserSync","OnNoAppFound","OnEngineWebsocketFailed","OnNoEngineAvailable","OnNoDataPrepServiceAvailable","OnDataPrepServiceWebsocketFailed"];var f=["OnSessionLoggedOut","OnSessionTimedOut","OnSessionClosed"];var h=["GetObject","GetLayout","GetAppLayout","GetProperties","GetAppProperties","GetEffectiveProperties","GetFullPropertyTree","GetDimension","GetMeasure","GetVariableById","GetVariableByName","GetBookmark","GetScriptEx"];var v=["GetProperties","GetFullPropertyTree"];var g=void 0;function m(e,n,r,o,s){if(e.code===l.LocalizedErrorCode.LOCERR_GENERIC_ABORTED)return;t.getService("$timeout")(function(){if(e.isHandled)return;e.isHandled=true;o&&o.hasHandlers("closed")&&"closed"===o.originalEvent?o.emit("closed",e):o&&o.hasHandlers("error")&&"closed"!==o.originalEvent?o.emit("error",e):r?r():n?n(e):i.showDialog(e,s)},1e3)}function b(t,e,n){var i=[];if(!t.warnings)return;if(1===t.warnings.length&&t.warnings[0]===l.LocalizedWarningCode.LOCWARN_EXPORT_DATA_TRUNCATED)return;for(var o=0;o<t.warnings.length;o++)i.push({code:t.warnings[o]});n&&n.hasHandlers("warning")?n.emit("warning",t):e?e(t):r.showDialog(i)}function y(t,e,i){var r=e.handle?t.apis.getApi(e.handle):void 0;if(r&&!r.isCancelled&&i.code===l.LocalizedErrorCode.LOCERR_GENERIC_ABORTED&&h.indexOf(e.method)>-1){i.isHandled=true;return e.retry()}return n.reject(i)}function x(t,e,i){if(i.code===a.enums.LocalizedErrorCode.LOCERR_HC_MODAL_OBJECT_ERROR){i.isHandled=true;return t.app.abortModalSelection().then(function(){return e.retry()})}return n.reject(i)}function w(t){"undefined"===typeof t&&(t={});"undefined"===typeof t.urlParams&&(t.urlParams={});t.ttl=parseFloat(c.getParameterByName("ttl"));isNaN(t.ttl)||(t.suspendOnClose=true);"string"!==typeof t.host&&(t.host=c.hostname);"string"!==typeof t.port&&(t.port=c.port||void 0);"string"!==typeof t.prefix&&(t.prefix="/"===c.basePath?"":c.basePath);"boolean"!==typeof t.isSecure?t.secure=c.isSecure:t.secure=t.isSecure;"string"!==typeof t.reloadURI?t.urlParams.reloadUri=c.reloadURI:t.urlParams.reloadUri=t.reloadURI;"undefined"!==typeof t.serverNodeId&&(t.urlParams.serverNodeId=t.serverNodeId);if("undefined"===typeof t.identity){var e=c.getParameterByName("identity");e&&(t.identity=e)}"/"===t.prefix&&(t.prefix="");return t}var q={},_;function C(i,r){var s=q[i];if(!s){var c=r.responseInterceptors?r.responseInterceptors:[];s=o.create({Promise:t.getService("$q"),schema:a,mixins:d,url:i,suspendOnClose:r.suspendOnClose,createSocket:function t(e){return new WebSocket(e)},requestInterceptors:[{onFulfilled:function t(e,n){if(-1!==v.indexOf(n.method)){n.return_empty=true;n.delta=false}return n}}],responseInterceptors:c.concat([{onRejected:y},{onRejected:x},{onRejected:function t(e,i,o){var s="Not connected";if(o.message===s)return n.reject(o);r.qEvent&&(r.qEvent.originalEvent="error");m(o,r.onError,void 0,r.qEvent);return n.reject(o)}}])});s.sessionConfig=r;s.on("notification:*",function(t,n){var i=-1!==p.indexOf(t);var o=-1!==f.indexOf(t);function s(t){if(r.qEvent&&r.qEvent.hasHandlers("error")){r.qEvent.originalEvent="ProxyError";r.qEvent.emit("error",t)}else r.onError&&r.onError(t)}"OnAuthenticationInformation"===t&&e.parse(n);"fatal"===n.severity&&(i?u.ready.then(function(){s({method:t,message:u.get("ProxyError."+t)})}):s({method:t,message:n.message?n.message:n}));o&&(g?g():i=true);i&&m({message:"ProxyError."+t,refreshButton:true},r.onError,void 0,r.qEvent);"OnConnected"===t&&"SESSION_ERROR_NO_LICENSE"===n.qSessionState&&m({message:"SessionError.SessionErrorNoLicense",refreshButton:false},r.onError,void 0,r.qEvent,true)});s.on("traffic:received",function(t){r.qEvent&&(r.qEvent.originalEvent="traffic:received");b(t,r.onWarning,r.qEvent)});s.on("closed",function(){r.qEvent&&(r.qEvent.originalEvent="closed");u.ready.then(function(){m({code:l.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST,message:u.get("ErrorCode."+l.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST)},r.onError,r.onClose,r.qEvent)});_===q[i]&&(_=void 0);delete q[i]});q[i]=s;_=_||s}return s}function S(t,e,n){t=t||"";e.appId=t;var i=s.buildUrl(e);var r=C(i,e);return r.open().then(function(e){if(!t)return{global:e};r.openDocPromise||(r.openDocPromise=e.openDoc(t,"","","",!!n).then(function(t){t.global=e;return t}));return r.openDocPromise}).catch(function(t){if(t.srcElement instanceof WebSocket){t={message:"ErrorDialog.NoConnectionCreated"};e.qEvent&&(e.qEvent.originalEvent="error");m(t,e.onError,void 0,e.qEvent)}throw t})}function D(t,e){t=t||c.getParameterByName("app");if(!t&&!e&&_)return n.resolve(_.app);e=w(e);var i="true"===c.getParameterByName("noData");return S(t,e,i)}return{get:function t(e,n){n=w(n);return e?this.getApp(e,n):this.getGlobal(n)},getApp:function t(e,n){return D(e,n)},getSessionApp:function t(e,i){return this.getGlobal(i).then(function(t){var r=e&&"?transient="!==e?t.createSessionAppFromApp(e):t.createSessionApp();return r.then(function(e){return{global:t,app:e}}).catch(function(e){if(e.code===l.LocalizedErrorCode.LOCERR_APP_ALREADY_OPEN){e.isHandled=true;return t.getActiveDoc()}i.qEvent&&(i.qEvent.originalEvent="error");m(e,i.onError,void 0,i.qEvent);return n.reject(e)})})},getGlobal:function t(e){e=w(e);return S(void 0,e).then(function(t){return t.global})},setLogoutHandler:function t(e){g=e},_unsupported_clearSessions:function t(){q={}}}}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(77)],r=function(t,e){var n;"use strict";t.service("qwErrorService",[function(){var i=t.getService("luiDialog");function r(t,e,n){o(t,e);s(t,n)}function o(t,r,o){n&&n.close();n=i.show({controller:e.component.controller,template:e.component.template,input:{title:t||"Devhub.ErrorDialog.Title",message:r,button:o}})}function s(t,e){window.console.error(t,e)}return{raiseError:o,raiseException:r,silentError:s,dialogIsOpen:function t(){return void 0!==n}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(133)],r=function(t){var e=t.enums;for(var n in e)e["Nx"+n]=e[n];return e}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={};Object.defineProperties(t,{name:{value:255,writable:false},url:{value:2e3,writable:false},description:{value:512,writable:false},expression:{value:64e3,writable:false},script:{value:5e4,writable:false},textImage:{value:12e3,writable:false}});return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(62),n(45),n(46),n(52),n(83)],r=function(t,e,n,i,r){var o=t.getService("$contentApi");var s="/api/wes/v1/extensions";var a=["qlik-dashboard-bundle","qlik-visualization-bundle"];function l(t,e){var n=r.getFileExtension(t);var i=S(n);e instanceof ArrayBuffer&&(e=new Blob([e]));return{fileName:t,extension:n,content:e||i.defaultContent,contentType:null,mode:i.editorMode,lastModified:null,isDirty:true}}function c(t){return["gif","png","jpeg","jpg"].indexOf(t)>-1}function u(t){return["eot","woff","woff2","ttf","otf"].indexOf(t)>-1}function d(t,e){var r=new n;var o=[];t.isDirty()&&t.files.forEach(function(n){if(n.isDirty){if(!c(n.extension)){var i=e?e(n.fileName):void 0;n.content=n.newContent?n.newContent:i?i.getValue():n.content}o.push(M(t.extensionUniqueName,n))}});n.all(o).then(function(){r.resolve(t)},function(t){r.reject({errName:"ExtensionUploadToQRSErr",errMessage:i.get(t.errMessage),errObject:t})});return r.promise}function p(t,e){var n=e.files.filter(function(e){return e.fileName.toLowerCase()===t.toLowerCase()});return n.length>0}function f(t,e){var i=new n;i.resolve(e.files.splice(e.files.indexOf(t),1));return i.promise}var h=function t(e,r){var o=new n;if(p(e,r))o.reject({errorMsg:i.get("Devhub.FileAlreadyExists",e)});else{var s=N(e,true);true===s.success?b(r.extensionUniqueName,e).then(function(t){true===t?o.reject({errorMsg:i.get("Devhub.FileAlreadyExists",e)}):M(r.extensionUniqueName,l(e,null)).then(function(t){t.isDirty=true;r.files.push(t);L(r.extensionUniqueName,r.files).then(function(){o.resolve(r)}).catch(function(t){o.reject(t)})}).catch(function(t){o.reject(t)})}):o.reject({errorMsg:s.errorMsg})}return o.promise};var v=function t(i,r){var o=new n;var s=e.extend({},r);s.files=r.files.slice();f(i,s);n.all({deleteFileFromRepo:m(r.extensionUniqueName,i.fileName),saveFilesToWbFolder:L(r.extensionUniqueName,s.files)}).then(function(){f(i,r);o.resolve(r)}).catch(function(t){o.reject(t)});return o.promise};function g(t,e){var n={method:"GET",url:"/extensions/"+t+"/"+e+"?"+Date.now(),cache:false};c(r.getFileExtension(e))||u(r.getFileExtension(e))?n.responseType="blob":n.transformResponse=function(t){return t};return o.request(n)}var m=function t(e,i){var r=new n;b(e,i).then(function(t){t?o.request({method:"DELETE",url:"/qrs/extension/"+e+"/deletecontent?externalpath="+i}).then(function(){r.resolve()}).catch(function(t){r.reject(t)}):r.resolve()});return r.promise};function b(t,e){return o.request({method:"GET",url:"/extensions/"+t+"/"+e}).then(function(){return true}).catch(function(){return false})}function y(t){var e=new n;o.request({method:"DELETE",url:s+"/"+t}).then(function(){e.resolve()}).catch(function(n){var r="404"===n.errors[0].status?"Devhub.ErrorExtensionNotFound":"Devhub.ErrorExtensionDelete";e.reject({errMsg:i.get(r,t),errObject:n})});return e.promise}function x(t){var e=new n;o.request({method:"POST",url:"/qrs/extension/name/"+t.name,data:JSON.stringify(t,null,"\t")}).then(function(){e.resolve(t)}).catch(function(t){e.reject({errName:"errCreateExtension",errMessage:i.get("Devhub.ErrorCreateExtension"),errObject:t})});return e.promise}function w(t,e){var i=r.getFileExtension(e);var o=S(i);var s=new n;g(t,e).then(function(t){var n=t.data;var r=t.headers;s.resolve({success:true,file:{fileName:e,extension:i,content:n,contentType:r()["content-type"],mode:o.editorMode,lastModified:r()["last-modified"],isDirty:false}})}).catch(function(t){s.resolve({success:false,errObject:t,file:{fileName:e,extension:i,content:o.defaultContent,contentType:null,mode:o.editorMode,lastModified:null,isDirty:true,loadingErr:t}})});return s.promise}function q(t){var e=new n;var r=new FileReader;r.onload=function(n){e.resolve(l(t.name,n.target.result))};r.onerror=function(t){e.reject({errName:"errFileReader",errMessage:i.get("Devhub.ErrorReadingLocalFile"),errObject:t})};(!t.type.match("image.*")&&!t.type.match("font")||t.type.match("svg")&&t.type.match("xml"))&&""!==t.type?r.readAsText(t):r.readAsArrayBuffer(t);return e.promise}function _(t){var e=[];var r=new n;g(t,"wbfolder.wbl").then(function(o){var s=o.data;if(s.length>0){var a=I(s);a.forEach(function(n){e.push(w(t,n))});n.all(e).then(function(t){var e=t.map(function(t){return t.file});r.resolve(e)}).catch(function(e){r.reject({errName:"loadFilesFromRepo",errMessage:i.get("Devhub.ErrorLoadingFilesFromRepo",t),errObject:e})})}else r.reject({errName:"wbFolderEmpty",errMessage:i.get("Devhub.wbFolderEmpty",t)})}).catch(function(){r.reject({errName:"ErrorIncompleteWbFolder",errMessage:i.get("Devhub.ErrorIncompleteWbFolder",t)})});return r.promise}function C(t){var e=new n;g(t,"wbfolder.wbl").then(function(t){e.resolve(t.data)}).catch(function(){e.reject()});return e.promise}function S(t){switch(t.toLowerCase()){case"html":return{defaultContent:"<div></div>",editorMode:"htmlmixed"};case"js":return{defaultContent:"// JavaScript\r\n",editorMode:"javascript"};case"qext":case"json":return{defaultContent:"{\r\n\r\n}",editorMode:"javascript"};case"css":return{defaultContent:"/* CSS */\r\n",editorMode:"css"};case"gif":case"png":case"jpg":case"jpeg":return{defaultContent:void 0,editorMode:void 0};default:return{defaultContent:"",editorMode:"javascript"}}}var D=function t(r,o){var s=new n;q(r).then(function(t){if(p(t.fileName,o))s.reject({errMessage:i.get("Devhub.ErrorImportDuplicateFile",t.fileName)});else{var r=e.extend({},o);r.files=o.files.slice();r.files.push(t);n.all({saveFileInRepo:M(o.extensionUniqueName,t),saveFilesToWbFolder:L(o.extensionUniqueName,r.files)}).then(function(t){t.saveFileInRepo.selected=true;s.resolve(r)}).catch(function(t){s.reject(t)})}}).catch(function(t){s.reject({errName:"errorReadLocalFile",errMessage:i.get("Devhub.ErrorReadingLocalFile"),errObject:t})});return s.promise};function E(t,e){var r=new n;_(t).then(function(n){var o=A(n);var s=o.replace("-template","");var a=/-template/.test(o)?k(n,t,e):T(n,t,e);a.push(l("wbfolder.wbl",P(a)));if(s){a.forEach(function(t){t.isDirty=true});var c={extensionUniqueName:e,files:a,type:s,isDirty:function t(){return true}};x({name:e,type:s}).then(function(){d(c).then(function(t){r.resolve(t)}).catch(function(t){r.reject({errName:"errDuplicateExtensionTasks",errMessage:i.get("Devhub.ErrorCopyingExtension"),errObject:t})})}).catch(function(t){r.reject({errName:"errDuplicateExtensionTasks",errMessage:i.get("Devhub.ErrorCopyingExtension"),errObject:t})})}}).catch(function(t){r.reject(t)});return r.promise}function k(t,e,n){t.forEach(function(t){t.fileName=t.fileName.replace(e,n);if(t.content&&t.content.length>0){t.content.indexOf("${name}")>-1&&(t.content=t.content.replace(/\${name}/g,n));["js","css","html","htm","json"].indexOf(t.extension)>-1&&(t.content=t.content.replace(new RegExp(e,"g"),n));if("qext"===t.extension){var i=JSON.parse(t.content);i.name=n;i.type=i.type.replace("-template","");t.content=JSON.stringify(i,null,"\t")}}});return t}function T(t,e,n){var i=[];t.forEach(function(t){var r=t.fileName;var o=false;var s=new RegExp("^("+e+"\\.)","i");if(s.test(t.fileName)){t.fileName=o=t.fileName.replace(e,n);i[r]=o}if(t.content&&t.content.length>0&&"qext"===t.extension){var a=JSON.parse(t.content);a.name=n;t.fileName=n+"."+t.extension;t.content=JSON.stringify(a,null,"\t")}});t.forEach(function(t){if(["js","css","html","htm","json"].indexOf(t.extension)>-1){var e;for(var n in i){e=new RegExp(n,"g");t.content=t.content.replace(e,i[n])}if(["css"].indexOf(t.extension)>-1){e=new RegExp(n.split(".")[0],"g");t.content=t.content.replace(e,i[n].split(".")[0])}}});return t}function A(t){var n=e.findWhere(t,{extension:"qext"});if(n&&n.content)return JSON.parse(n.content).type}function I(t){var e=t.replace(/[\r\n]/g,"").split(";");return e.filter(function(t){return""!==t.trim()})}function O(t){var e=new n;g(t,"wbfolder.wbl").then(function(t){var n=t.data;if(n.length>0){var o=I(n);var s=o.filter(function(t){return"qext"===r.getFileExtension(t)});1===s.length?e.resolve(o):e.reject({errName:"moreThanOneQEXT",errMessage:i.get("Devhub.ErrorMoreThanOneQEXT")})}}).catch(function(){e.reject({errName:"ErrorIncompleteWbFolder",errMessage:i.get("Devhub.ErrorIncompleteWbFolder",t)})});return e.promise}function L(t,e){return M(t,l("wbfolder.wbl",P(e)))}function P(t){return t.map(function(t){return t.fileName}).join(";\r\n")}function M(t,e){var r=new n;if("qext"===e.extension)try{JSON.parse(e.content)}catch(t){r.reject({errName:"InvalidJsonFormat",errMessage:i.get("Devhub.InvalidJsonFormat",e.fileName),errObject:t});return r.promise}o.request({method:"POST",url:"/qrs/extension/"+t+"/uploadfile?externalpath="+encodeURIComponent(e.fileName)+"&overwrite=true",data:e.content}).then(function(){g(t,e.fileName).then(function(t){var n=t.headers;e.lastModified=n("last-modified");e.isDirty=false;r.resolve(e)}).catch(function(t){r.reject({errName:"LoadFileFromQRSErr",errMessage:i.get("Devhub.ErrorReadingLocalFile",e.fileName),errObject:t})})}).catch(function(t){r.reject({errName:"ExtensionUploadToQRSErr",errMessage:i.get("Devhub.ErrorCreatingFile",e.fileName),errObject:t})});return r.promise}var N=function t(e,n){if(n){if(/^[\.0-9a-zA-Z_-]+\..{2,4}$/.test(e)){if(!r.hasValidFileExtension(e))return{success:false,errorMsg:i.get("Devhub.InvalidFileName")};return{success:true}}return{success:false,errorMsg:i.get("Devhub.InvalidFileName")}}var o=e&&r.isValidExtensionName(e);return{success:o,errorMsg:o?void 0:i.get("Devhub.InvalidExtensionName")}};function j(t){var e=new n;o.getExtensions().then(function(n){true===t?e.resolve(R(n)):e.resolve(n)});return e.promise}function F(t){return j(true).then(function(n){return e.filter(n.extensionList,function(e){return e.qext.type===t})})}var R=function t(e){var n={extensionList:[],templateList:[]};for(var i in e){var o=/^(.*)\-template$/.exec(e[i].type);if(o){var s=o[1];var l=n.templateList.filter(function(t){return t.type===s});if(l.length>0)l[0].items.push({id:i,name:e[i].name||i,title:e[i].name||i});else{var c={type:s,items:[{id:i,name:e[i].name||i,title:e[i].name||i}]};n.templateList.push(c)}}else{var u=e[i].bundle&&a.indexOf(e[i].bundle.id)>-1;u||n.extensionList.push({id:i,title:e[i].name||i,qext:e[i],src:e[i].preview&&-1!==e[i].preview.indexOf(".")?r.getPrefix()+"extensions/"+i+"/"+e[i].preview:""})}}return n};return{isValidFileName:N,isFileInAssets:p,isImage:c,getWbFolder:C,createFileObject:l,getExtensionFileObjectsFromRepo:_,getExtensionFileListFromRepo:O,saveFileInRepo:M,saveFilesToRepo:d,removeFileFromAssets:f,addNewFile:h,getExtensionsFromRepo:j,getExtensionsByType:F,deleteExtensionFromRepo:y,deleteFileFromRepo:m,deleteFile:v,importFromLocal:D,duplicateExtension:E,saveFilesToWbFolder:L,readLocalFile:q,createExtensionInRepo:x,_loadFileFromRepo:g,__onlytest__:{_getFileDefaults:S,_getFilesFromWbFolderContent:I,_isFileInRepo:b}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(57),n(132)],r=function(t,e){var n={},i,r,o,s,a,l;n.States={analysis:0,edit:1,play:2,editstory:3,insight:4,selections:5};n.Views={overview:0,sheet:1,story:2,object:3,masterObject:4,dataManager:7,dataSpaceScriptEditor:8,dataSpaceAssociations:9,dataSpaceDataModel:10};t.mixin(n);n.notification("StateChanged");n.notification("SheetChanged");n.notification("StoryChanged");n.setState=function(t){if(t!==r){a=r;r=t;n.StateChanged.emit(i,r,l,a);i===n.Views.sheet||i===n.Views.object||i===n.Views.masterObject?e.setUrl(e.buildUrl("sheet",o.layout.qInfo.qId,"state",Object.keys(n.States)[t])):i===n.Views.story&&e.setUrl(e.buildUrl("story",o.layout.qInfo.qId,"state",Object.keys(n.States)[t],"slide",s))}};n.setView=function(t){if(t!==i){l=i;i=t;t===n.Views.overview&&(o=null);n.StateChanged.emit(i,r,l,a)}};n.setSheet=function(t,e){var s=false;if(t!==o){o=t;l=i;i=n.Views.sheet;n.SheetChanged.emit(t);s=true}if(n.States[e]!==r){a=r;r=n.States[e]||n.States.analysis;s=true}s&&n.StateChanged.emit(i,r,l,a)};n.setStory=function(t,e,c){var u=false;if(t!==o){o=t;l=i;i=n.Views.story;n.StoryChanged.emit(t,c);u=true}else s!==c&&n.StoryChanged.emit(t,c);s=c;if(n.States[e]!==r){a=r;r=n.States[e]||n.States.editstory;u=true}u&&n.StateChanged.emit(i,r,l,a)};n.isInAnalysisMode=function(){return r===n.States.analysis};n.isInEditMode=function(){return r===n.States.edit};n.inStoryPlayState=function(){return n.inStorytelling()&&r===n.States.play};n.inStorytelling=function(){return i===n.Views.story};n.inAppOverView=function(){return i===n.Views.overview};n.inDataManager=function(){return i===n.Views.dataManager};n.inDataSpaceScriptEditor=function(){return i===n.Views.dataSpaceScriptEditor};n.inDataSpaceDataModel=function(){return i===n.Views.dataSpaceDataModel};n.inDataSpaceAssociations=function(){return i===n.Views.dataSpaceAssociations};n.inSheetView=function(){return i===n.Views.sheet};n.inObjectView=function(){return i===n.Views.object};n.inMasterObjectView=function(){return i===n.Views.masterObject};n.getModel=function(){return n.model};n.getAllStateKeys=function(){return Object.keys(n.States)};n.reset=function(){i=null;r=null;o=null;s=null;a=null;l=null};Object.defineProperties(n,{state:{get:function t(){return r}},view:{get:function t(){return i}},model:{get:function t(){return o},set:function t(e){o=e}}});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(57),n(95),n(374),n(375),n(378),n(183),n(63),n(83)],r=function(t,e,n,i,r,o,s,a){var l=JSON.parse(i);var c="sense";var u=null;var d=[];var p={};var f={};var h=true;var v={};var g=new r({providers:{default:true,qrs:!a.getFlag("DISABLE_ONPREM_THEMES")}});function m(){d.forEach(function(t){t.node.parentNode.removeChild(t.node);o.toggleCssClass(t.cssClass,false)});d=[]}e.create(v,"ThemeChanged");v.getCurrentTheme=function(){return u||c};v.applyTheme=function(e){var n=new t;e===u&&n.resolve(true);g.getRawJson(e).then(function(t){var i=o.parseTheme(t,l,true);u&&m();g.getThemePath(e).then(function(t){g.getResourceUrlParams(e).then(function(r){d=o.injectExtraStyleNodes(i,t,r);p=i;u=e;Object.keys(f).forEach(function(t){f[t].setTheme(u,p)});x();v.ThemeChanged.emit();n.resolve(true)})})}).catch(function(){n.resolve(false)});return n.promise};v.getThemeJSON=function(e){var n=new t;g.getRawJson(e).then(function(t){n.resolve(o.parseTheme(t,l,true))}).catch(function(t){n.reject(t)});return n.promise};v.saveTheme=function(t){n.setProperties({theme:t||v.getCurrentTheme()})};v.isValidTheme=function(e){return g.getType(e).then(function(){return t.resolve(true)}).catch(function(){return t.resolve(false)})};v.getAvailableThemes=function(){return g.getAvailableThemes()};v.getCustomThemesPage=function(t){return g.getCustomThemesPage(t)};v.getPagesTotal=function(){return g.getPagesTotal()};Object.defineProperty(v,"currentPalette",{iterable:false,get:function t(){var e;e=p.palettes&&p.palettes.ui&&p.palettes.ui[0]?p.palettes.ui[0].colors:l.palettes.ui[0].colors;"none"!==e[0]&&e.unshift("none");return e}});Object.defineProperty(v,"smallPalette",{iterable:false,get:function t(){return b}});Object.defineProperty(v,"firstPalette",{iterable:false,get:function t(){return p.palettes&&p.palettes.ui&&p.palettes.ui[0]?p.palettes.ui[0]:l.palettes.ui[0]}});Object.defineProperty(v,"themePalettes",{iterable:false,get:function t(){var e=[],n;for(var i=0;i<p.palettes.ui.length;i++)if(p.palettes&&p.palettes.ui&&p.palettes.ui[i]){n=p.palettes.ui[i];e.push(n)}else{n=l.palettes.ui[0];e.push(n)}return e}});Object.defineProperty(v,"deprecatedPalette",{iterable:false,get:function t(){return b}});Object.defineProperty(v,"scales",{iterable:false,get:function t(){return p.scales||l.scales}});Object.defineProperty(v,"dataPalettes",{iterable:false,get:function t(){return p.palettes&&p.palettes.data||l.palettes.data}});Object.defineProperty(v,"dataColors",{iterable:false,get:function t(){return p.dataColors||l.dataColors}});v.initializeService=function(t){f[t]||(f[t]=new s(t,u,p));return f[t]};v.getMatch=function(t){var e,n={linechart:"lineChart",barchart:"barChart",scatterplot:"scatterPlot",piechart:"pieChart",straightable:"straightTable",pivottable:"pivotTable",table:"straightTable","pivot-table":"pivotTable",listbox:"listBox",referenceline:"referenceLine",datacolors:"dataColors","text-image":"textImage",boxplot:"boxPlot",map:"mapChart",mapchart:"mapChart"};e=n[t.toLowerCase()]?n[t.toLowerCase()]:t;return e};var b=["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"];var y=["none","#ffffff","#46c646","#276e27","#b6d7ea","#7db8da","#4477aa","#8e477d","#ffcf02","#f8981d","#f93f17","#633d0c","#b0afae","#7b7a78","#545352","#000000"];function x(){var t=v.currentPalette;var e=true;t.forEach(function(t,n){y[n]&&y[n].toLowerCase()===t.toLowerCase()||(e=false)});h=e}v.resolveColor=function(t,e){e=e||v.currentPalette;if("undefined"!==typeof t&&null!==t){if(void 0!==t.index&&-1!==t.index&&e[t.index])return e[t.index];if(void 0!==t.color)return t.color?t.color:"none";if(h&&b[t])return b[t];if(e[t])return e[t];return t||"none"}return"none"};v.mapIndex=function(t,e,n){n=n||v.currentPalette;var i=e?n:b,r=e?b:n;t=r.indexOf(i[t]);return-1!==t?t:e?3:6};v.getPaletteScale=function(t,e){var n=this.dataPalettes;var i;n.some(function(e){if(e.propertyValue.toLowerCase()===t.toLowerCase()){i=e;return true}return false});i||(i=n[0]);if("pyramid"===i.type){e=e||i.scale.length;var r=Math.max(Math.min(i.scale.length-1,e-1)%i.scale.length,0);return i.scale[r]}return i.scale};u=c;p=o.parseTheme(l,l,true);return v}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(84),n(140)],r=function(t,e){function n(t){t=t.trim();if("="===t.charAt(0)){t=t.substring(1);t=t.trim()}var e=t.length-1;if("["===t.charAt(0)&&"]"===t.charAt(e)){t=t.substring(1,e);t=t.trim()}return t}function i(i,r){var o=e.expand(t.copy(r));var s,a;i=n(i);if(o)for(s=0;s<o.length;s++){a=o[s];if(a.qName===i)return a}return null}function r(t,e){var n,i;if(e)for(n=0;n<e.length;n++){i=e[n];if(i.qInfo.qId===t)return i}return null}function o(t,e){var n,i;if(e)for(n=0;n<e.length;n++){i=e[n];if(i.qInfo.qId===t)return i}return null}function s(n){return n.getFieldList().then(function(n){return e.expand(t.copy(n)).sort(function(t,e){return t.qName.toLowerCase().localeCompare(e.qName.toLowerCase())})})}function a(e){return e.getDimensionList().then(function(e){return t.copy(e).sort(function(t,e){return t.qData.title.toLowerCase().localeCompare(e.qData.title.toLowerCase())})})}function l(e){return e.getMeasureList().then(function(e){return t.copy(e).sort(function(t,e){return t.qData.title.toLowerCase().localeCompare(e.qData.title.toLowerCase())})})}return{findField:i,findLibraryDimension:o,findLibraryMeasure:r,getSortedFields:s,getSortedDimensions:a,getSortedMeasures:l}}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[n(45),n(41),n(11),n(91)],r=function(t,e,n,i){var r={};var o=null;r.setup=function(s){if(!o){o=new t;r.sessionPromise=o.promise;var a="CloudSuite"===n.getProductInfoSync().composition.deploymentType;var l=s.rpc.send({method:"GetConfiguration",handle:-1,params:[]});l.then(function(t){var n=!!t.result.qConfig.qFeatures.qIsDesktop;e.$rootScope.isPersonalMode=n;i.setBaseUrl(n);o.resolve({isPersonalMode:n,isCloud:a})})}return o.promise};r.inClient=function(){return document.body.classList.contains("qv-client")&&!document.body.classList.contains("qw")};r.isPersonalMode=function(){return s("isPersonalMode")};r.isDesktop=r.isPersonalMode;r.isCloud=function(){return s("isCloud")};function s(e){var n=new t;if(o)return o.promise.then(function(t){return t[e]});n.reject();return n.promise}return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={};function e(e){return t[e]}function n(e,n){t[e]=n}function i(e){delete t[e]}return{getType:e,getRegisteredNames:function e(){return Object.keys(t)},getLibraryInfo:function e(n){return t[n]?t[n].getLibraryInfo():null},getIconName:function e(n){return t[n]?t[n].getIconName():null},getIconChar:function e(n){return t[n]?t[n].getIconChar():null},registerType:n,removeType:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(483)],r=function(t){var e={template:t,controller:["$scope",function(t){var e=function e(){t.destroyComponent()};t.cancel=function(t){t.preventDefault();this.input.onCancel&&this.input.onCancel();e()};t.action=function(t){t.preventDefault();this.input.button&&this.input.button.callback&&this.input.button.callback();e()}}]};return{component:e}}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[n(71),n(80),n(198),n(141),n(449),n(453),n(203),n(210),n(213),n(214),n(215),n(216),n(480)],r=function(t,e,n,i,r,o,s,a){var l=e.inClient(),c,u;var d=new a;d.scope="root";if(!l){t.setState(t.States.analysis);t.setView(t.Views.sheet)}if(p()){document.body.classList.add("absolute-position-mashup");document.documentElement.classList.add("absolute-position-mashup")}c=new r(l);u=new s;o.init();function p(){var t=Array.prototype.slice.call(document.querySelectorAll("body > .qvobject, body > .qvplaceholder"));if(0===t.length)return false;return!t.some(function(t){return"absolute"!==t.style.position})}function f(t,e){i.setErrorCallback(t,e);n.setErrorCallback(t,e)}function h(t,e){d.register({scope:"root",name:t,callback:e})}function v(t){d.clear(t)}var g={openApp:i.openApp.bind({_qEvent:d}),currApp:i.currApp,getGlobal:n.get.bind({_qEvent:d}),setOnError:f,on:h,off:v,setLanguage:e.setLanguage,setDeviceType:e.setDeviceType,table:i.table,getAppList:n.getAppList,resize:e.resize,getExtensionList:e.getExtensionList,callRepository:e.callRepository,registerExtension:e.registerExtension,navigation:c,sessionApp:i.sessionApp,sessionAppFromApp:i.sessionAppFromApp,getThemeList:s.getThemeList,theme:u};Object.defineProperty(g,"Promise",{get:function t(){return e.Promise}});return g}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(48),n(41),n(45),n(47),n(168),n(46),n(74),n(75),n(171),n(92),n(76),n(99),n(146),n(144),n(210),n(446),n(60),n(448),n(83)],r=function(t,e,n,i,r,s,a,l,c,u,d,p,f,h,v,g,m){var b=false,y=false;var x={createVisualizationHtml:T,showVisualization:A,clearElement:I,appDoIt:O,setDefaultId:L,getDefaultListParam:P,createHypercubeDef:M,makeConfig:E,inClient:l.inClient,initClient:w,registerExtension:k,addPatches:N,isMeasure:j,validateColumns:R,createDefinition:V,convertDefinition:$,setLanguage:q,setDeviceType:_,resize:C,getExtensionList:S,callRepository:D,getExtensionSupport:H};Object.defineProperty(x,"Promise",{get:function t(){return n.Promise}});return x;function w(){if(!b){b=true;if(!l.inClient()){c.configureTouchSupport();r.init({Promise:e.getService("$q")}).then(function(){y||""!==s.localeDetected||s.setup({context:"devhub"})})}}}function q(t){y=true;s.setup({context:"devhub",language:t})}function _(t){m.setDeviceType(t)}function C(t){t?a.publish("/ui/object/resize."+t):a.publish("/resize/end")}function S(t){return p.getList().then(function(e){t&&t(e)})}function D(t,n,i){return e.getService("$contentApi").request({method:n||"GET",url:t,data:i})}function E(t){t=t||{};var e=t._qEvent?new v(t._qEvent.handlers):new v;e.scope=t._qEvent?t._qEvent.scope:null;return{host:t.host||i.hostname,port:t.port?t.port.toString():i.port,isSecure:t.isSecure||i.isSecure,reloadURI:t.reloadURI?t.reloadURI:i.reloadURI,transientApp:!!t.transientApp,prefix:t.prefix||i.basePath.replace("/extensions/","/"),openWithoutData:t.openWithoutData,identity:t.identity,subpath:t.subpath,qEvent:e}}function k(t,e,n){var i="extensions/"+t+"/"+t;window.define(i,e);u.registerExtension({id:t,data:n||{type:"visualization"}});return i}function T(t){var e="",n="";if(t&&t.currentSelections){(t.noInteraction||t.noSelections)&&(n=" style='pointer-events:none;'");e+='<qv-stage-current-selections class="qvt-selections" options="options" app="app"'+n+'></qv-stage-current-selections><div class="qv-global-search-container"'+n+"></div>"}else t&&t.showNavigationToolbar?e+='<qv-odag-toolbar class="qv-odag-bar-container" model="model" in-edit-mode="inEdit" stand-Alone="standAlone"></qv-odag-toolbar>':e+='<qv-object model="model" options="options" object="object"></qv-object>';return e}function A(i,r,o,s){var a=new n;"string"===typeof i&&(i=document.getElementById(i));if(i){var l=i[0]?i[0]:i;l.innerHTML=T(o);var c=t.element(l).scope();if(c){var u=c.$new(true);var d=t.copy(o)||{};d.isReadonly=false!==d.isReadonly;if(o){o.noSelections&&(d.selections=false);o.noInteraction&&(d.interactionState=f.STATIC);if(o.showNavigationToolbar){u.inEdit=false;u.standAlone=true}}var p=function n(){u.model=r;u.app=s;u.options=d;u.object={};var i=e.getService("$compile");i(t.element(l).children("qv-object, qv-stage-current-selections, qv-odag-toolbar"))(u)};if(h.isInit){d.direction=h.direction;p();a.resolve(u)}else h.init().then(function(){d.direction=h.direction;e.$apply(u,function(){p();a.resolve(u)})});e.$apply(u)}else a.reject(new Error("Element scope is undefined."))}else a.reject(new Error("Element is undefined."));return a.promise}function I(t,e){var i=function t(e){"string"===typeof e?e=document.getElementById(e):e[0]&&(e=e[0]);if(!e)return;e.innerHTML=""};if(e&&"function"===typeof e.then)return e.then(function(e){e.$destroy();i(t)}).catch(function(t){console.error(t)});i(t);return n.resolve()}function O(t,i,r){var o=new n;t.waitForOpen.promise.then(function(){var n=t.enigmaModel||t;e.$apply(e.$rootScope,function(){o.resolve(n[i].apply(n,r))})});return o.promise}function L(t,e){t.qInfo=t.qInfo||{};t.qInfo.qType=t.qInfo.qType||e||"mashup";t.qInfo.qId=t.qInfo.qId||"MU"+i.generateId()}function P(t,e){var n={};L(n,t);"BookmarkList"===t?n.qBookmarkListDef={qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description"}}:"SnapshotList"===t?n.qBookmarkListDef={qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}:"CurrentSelections"===t?n.qSelectionObjectDef=e||{}:"DimensionList"===t?n.qDimensionListDef={qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos"}}:"MeasureList"===t?n.qMeasureListDef={qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags"}}:"sheet"===t?n.qAppObjectListDef={qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",description:"/qMetaDef/description",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}:"masterobject"===t?n.qAppObjectListDef={qType:"masterobject",qData:{name:"/metadata/name",visualization:"/visualization",tags:"/metadata/tags"}}:"VariableList"===t?n.qVariableListDef={qType:"variable",qData:{tags:"/tags"}}:"story"===t?n.qAppObjectListDef={qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}:n["q"+t+"Def"]={};return n}function M(t,e,n){if(Array.isArray(t)&&!Array.isArray(e)){var i=e||{},r=[],o=[],s=[];t.forEach(function(t){if(j(t)){s.push(-1);o.push(t)}else{s.push(r.length);r.push(t)}});var a=r.length;s.forEach(function(t,e){if(t<0){s[e]=a;a++}});i.columnOrder=s;i.qInterColumnSortOrder=s;return M(r,o,i)}var l=n||{};if(t){var c=[];t.forEach(function(t){"string"===typeof t?c.push({qDef:{qFieldDefs:[t]}}):c.push(t)});l.qDimensions=c}var u=[];e.forEach(function(t){"string"===typeof t?u.push({qDef:{qDef:t}}):u.push(t)});l.qMeasures=u;l.qInitialDataFetch=[{qTop:0,qLeft:0,qHeight:20,qWidth:(l.qDimensions?l.qDimensions.length:0)+l.qMeasures.length}];n&&n.rows&&(l.qInitialDataFetch[0].qHeight=n.rows);return l}function N(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(e[i]instanceof Object&&!Array.isArray(e[i])?N(t+i+"/",e[i],n):n.push({qPath:t+i,qOp:"add",qValue:"string"===typeof e[i]?'"'+e[i]+'"':JSON.stringify(e[i])}))}function j(t){if("string"===typeof t)return 0===t.indexOf("=");if(t.qType)return"measure"===t.qType;return!!(t.qDef&&t.qDef.qDef||t.qSortBy||t.qAttributeExpressions)}function F(t,e,n){t=t?t+", ":"";return t+s.get(e,JSON.stringify(n))}function R(t){if(!Array.isArray(t))return s.get("Devhub.Cols.Array");var e;t.forEach(function(t){"object"===o(t)?t.qType?"measure"!==t.qType&&"dimension"!==t.qType?e=F(e,"Devhub.Cols.InvalidQtype",t):t.qLibraryId||(e=F(e,"Devhub.Cols.QlibraryIdMissing",t)):t.qDef?t.qDef.qDef?"string"!==typeof t.qDef.qDef&&(e=F(e,"Devhub.Cols.QdefString",t)):t.qDef.qFieldDefs?Array.isArray(t.qDef.qFieldDefs)||(e=F(e,"Devhub.Cols.QfielddefArray",t)):e=F(e,"Devhub.Cols.QdefOrQfielddefs",t):e=F(e,"Devhub.Cols.QdefOrQlibraryid",t):"string"!==typeof t&&(e=F(e,"Devhub.Cols.InvalidType",t))});return e}function V(t,e,i,r){var o=d.getType(e);if(!o)return n.reject(s.get("Devhub.Visualization.InvalidType",e));if(i){var a=R(i);if(a)return n.reject(a)}return t.model.waitForOpen.promise.then(function(){return g.createProperties(t.model.enigmaModel,e,i,r)})}function $(t,e,n,i){return g.convertProperties(t,e,n,i)}function H(t){var e=["export","exportData","viewData"];var i={};var r=t.layout.visualization||t.layout.qInfo&&t.layout.qInfo.qType;var o=d.getType(r);if(!o)return n.resolve(i);return o.getExtensionType().then(function(t){Object.keys(t.support).forEach(function(n){-1!==e.indexOf(n)&&(i[n]=t.support[n])});return i}).catch(function(){return i})}}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(47),n(8),n(45)],r=function(t,e,n,i,r){t.service("$contentApi",["$http",function(o){function s(t){t.headers||(t.headers={})}function a(t){t.params||(t.params={})}function l(t){var e=n.getRandomString(16);t.headers["X-Qlik-XrfKey"]=e;t.params.xrfkey=e;return t}function c(t){"/"===t.url[0]&&(t.url=t.url.substr(1));t.url=i.rootPath+t.url;return t}function u(t){var n=e.language;n&&(t.headers["Accept-Language"]="pseudo"!==n?n:"qps-ploc");return t}function d(e){var n;var i;var d;var p=new r;var f=p.promise;s(e);a(e);t.$rootScope.isPersonalMode||l(e);c(e);u(e);d=o(e);d.then(function(t){p.resolve(t);n&&n(t.data,t.status,t.headers,t.config)},function(t){if(i){p.resolve(t);i(t.data,t.status,t.headers,t.config)}else p.reject(t)});f.success=function(t){n=t;return f};f.error=function(t){i=t;return f};return f}function p(){var t={method:"GET",url:"/qrs/extension/schema"};return d(t).then(function(t){return t.data}).catch(function(t){throw t.data})}return{getExtensions:p,request:d}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i;!(i=function(){function t(t){return t&&"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t&&"function"===typeof t}function n(n,i){var r,o;if(!t(n))throw"No valid items were specified.";if(!e(i))throw"No valid action function was specified.";if(Array.prototype.forEach)n.forEach(i);else for(r in n){o=n[r];i(o)}}function i(e,n){if(!t(e))throw"No valid items were specified.";if(Array.prototype.indexOf)return-1!==e.indexOf(n);var i=e.length;while(i--)if(e[i]===n)return true;return false}function r(t,e){if(!t||!e||!t.length||!e.length)return false;var n=e.length,i;for(i=0;i<n;i++)if(t.indexOf(e[i])>-1)return true;return false}function o(t,e){if(!t||!e||!t.length||!e.length)return false;var n=t.indexOf(e[0]);if(-1!==n){for(var i=0;i<e.length;i++){var r=t.indexOf(e[i]);if(n>r)return false;n=r}return true}return false}function s(t,e,n){if(n>=t.length){var i=n-t.length;while(1+i--)t.push(void 0)}t.splice(n,0,t.splice(e,1)[0])}function a(t,e,n){var i=t[e];t[e]=t[n];t[n]=i}function l(t,e){var n;for(n=0;n<t.length;++n)t[n]>=0&&t[n]>=e&&++t[n];t.push(e)}function c(t,e,n){var i;for(i=0;i<t.length;++i)t[i]>=0&&t[i]>=e&&++t[i];t.splice(n,0,e)}function u(t,e){var n=0;var i;for(i=0;i<t.length;++i)t[i]>e?--t[i]:t[i]===e&&(n=i);t.splice(n,1);return n}function d(t,e){if(t.length>e)return t.slice(0,e);return t}function p(t){if(!(t instanceof Array))throw new Error("Argument is not an Array.");return t.slice(0)}return{forEach:n,contains:i,move:s,swap:a,limit:d,indexAdded:l,indexAddedAt:c,indexRemoved:u,intersects:r,isOrderedSubset:o,copy:p}}.call(e,n,e,t),void 0!==i&&(t.exports=i))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(52),n(47),n(70),n(54)],r=function(t,e,n,i,r){t.service("qwPermissionService",["$http",function(o){var s={delete:"canDelete",create:"canCreate",show:"canShow",readOnly:"isReadOnlyMode"};var a={extension:"extension",mashup:"extension",visualization:"extension",widget:"extension",widgetLibrary:"extension",webExtensionLibrary:"extension"};var l={};for(var c in a)l[c]=c;var u=false;var d=i.basePath;var p=t.getService("qwCommonService");function f(t,e,n){var r=i.getRandomString(16);var s=d+"qrs/"+t;s+=-1==t.indexOf("?")?"?":"&";s+="xrfKey="+r;return o({url:s,method:e,headers:{"Content-Type":"application/json","X-Qlik-XrfKey":r},data:n})}function h(t,e,n){return t+"_"+e+"_"+n}var v={};function g(t,n,i){var r=a[n];var o=h(t,r,i);if(!v[o]){v[o]={value:new e};var l=v[o].value;p.getProductInfo().then(function(e){e.isPersonal?l.resolve(t!==s.readOnly):m(t,r,i).then(function(t){l.resolve(t)})})}return v[o].value.promise}function m(t,i,o){var a=new e;var l=function e(n){a.reject("Failed to evaluate permissions for "+t+" "+i+(o?" "+o:"")+", because "+n)};if(t===s.create)f(i+"/previewcreateprivilege","POST",{}).then(function(t){a.resolve(t.data.value)},l);else if(t===s.readOnly){var c=o||n.getHashParameter("qext");c?u?f(i+"/full?filter=((name+eq+'"+c+"'))","GET",{}).then(function(t){if(0==t.data.length)a.resolve(void 0);else{var e=t.data[0];f(i+"/"+e.id,"PUT",e).then(function(t){a.resolve(t.data.id!=e.id)},function(t){403==t.status?a.resolve(true):l(t)})}},l):a.resolve(false):a.resolve(void 0)}else if(t===s.show)g(s.create,i).then(function(t){t?a.resolve(true):r.getExtensionsFromRepo(true).then(function(t){a.resolve(t.extensionList.length>0)})});else{if(t!==s.delete)throw"Illegal operation: "+t;a.resolve(true)}return a.promise}var b={entities:l,operations:s,permission:g,clearCache:function t(){var e=v;v={};return e}};var y={};for(var x in s){var w=s[x];b[w]=y[x]=function(t,e){return g(this,t,e)}.bind(w)}b.getPermissions=function(t){var n={};for(var i in y)n[i]=y[i](t);return e.all(n)};b.getAllPermissions=function(){var t={};for(var n in l)t[n]=b.getPermissions(n);return e.all(t)};return b}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(91),n(94),n(61),n(56)],r=function(t,e,n,i){var r=t.getService("qwConfigService");t.service("qwMenuService",[function(){var o=[];var s=[];var a=null;function l(t){var n=new e;var i=[];t.forEach(function(t){Array.prototype.push.apply(i,t())});n.resolve(i.sort(function(t,e){return t.order-e.order}));return n.promise}function c(){return l(o)}var u={};var d={userId:"",userDirectory:"",authenticated:false,anonymous:false};function p(){var t=[function(){return[u]}];return l(t)}function f(){return d}function h(t,e){if(!t||!e)return t;var n=t.split("://").pop();return n===t?e:e+"://"+n}function v(){var e=i;var n="NONE"!==e.userDirectory;if(e.loginUri||e.logoutUri||n){var r=t.getService("qwNavigationService").getCurrentLocation();var o="dev-hub"===r;d.authenticated=n&&o;d.anonymous=!n&&o;var s=e.loginUri?"Devhub.SignIn":"Devhub.SignOut";var a=function n(){if(e.loginUri)window.location.href=i.loginUri;else{var r=t.getService("$http");r({url:h(i.logoutUri,"https"),method:"DELETE"})}};d.showText=function(){return true};d.textActive=s;d.textInactive=s;d.onButtonClicked=a;d.userId=e.userId;d.userDirectory=e.userDirectory;a&&(u={tid:"4bfe28",order:98,icon:"lui-icon--log-out",text:s,onSelect:a})}}i.onDataReceived.then(v);function g(t){if(!t||!(t instanceof Function))throw"Menu item provider should be a function, which will be invoked to get menu item";o.unshift(t)}g(function(){return[{icon:"lui-icon--help",title:"Devhub.OpenHelpInNewTab",text:"Devhub.Help",openInNewTab:"always",tid:"4dfe26",order:98,onSelect:function t(){n.setBaseUrl();var e=r.getToolConfig();window.open(n.path+(e.helpPage||"DevHubStartPage"));return true},disabled:false}]});function m(t){s?s.unshift(t):s=[t]}function b(){return s}function y(){s&&(s=[])}function x(){return a}function w(t,e){t&&e&&"function"===typeof e&&(a={apps:t,currentApp:null,select:e,active:true})}function q(t){a&&(a.active=t)}return{addMenuItemProvider:g,addButton:m,getButtons:b,resetButtons:y,getAppSelector:x,bindAppSelector:w,getLogin:f,createLoginMenuItems:p,setAppSelectorActive:q,createDeferredMenuItemsFrom:l,createMenuItems:c}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(46),n(153),n(57)],r=function(t,e,n,i){var r=[],o={},s="";var a=[{id:"chart",name:"Widget.Type.chart",icon:"line-chart"},{id:"table",name:"Widget.Type.table",icon:"table"},{id:"kpi",name:"Widget.Type.kpi",icon:"kpi"},{id:"navigation",name:"Widget.Type.navigation",icon:"compass"},{id:"other",name:"Widget.Type.other"}];function l(t){var e=null;r.forEach(function(n,i){t.id===n.id&&(e=i)});null===e?r.push(t):r[e]=t;o[t.id]=t}var c=function t(e,n,i,r,o,s,a,l,c){this._version=0;s||(s={});Object.defineProperties(this,{libid:{value:e},id:{value:n},name:{value:i,writable:true},description:{value:r,writable:true},author:{value:o,writable:true},meta:{value:s,writable:true},dummy:{value:true===c?"true":null},html:{get:function t(){return this._html},set:function t(e){this._html=e;this._version++}},css:{get:function t(){return this._css},set:function t(e){this._css=e;this._version++}},properties:{value:a,writable:true},dependencies:{value:l,writable:true},version:{get:function t(){return this._version}},isLoaded:{get:function t(){return void 0!==this._html}}})};c.getIcon=function(t){var e;a.forEach(function(n){n.id===t&&n.icon&&(e=n.icon)});return e||"widget"};c.prototype.load=function(t){this.loadDfd&&!t||(this.loadDfd=n.loadWidget(this));return this.loadDfd};c.prototype.save=function(){var t=this;return n.saveTemplate(this).then(function(){c.Updated.emit(r);return t})};c.prototype.copy=function(t){return c.add({libid:t.libid||this.libid,id:t.id||this.id,name:t.name||this.name,description:t.description||""===t.description?t.description:this.description,author:t.author||this.author,meta:t.meta||this.meta,html:t.html||this.html,css:t.css||this.css,properties:t.properties||this.properties})};c.prototype.delete=function(){var t=n.deleteTemplate(this),e=this;r.forEach(function(t,n){t.id===e.id&&r.splice(n,1)});o&&o[e.id]&&delete o[e.id];t.then(function(){c.Updated.emit(r)});return t};c.prototype.move=function(t){var e=this;var i=this.copy({libid:t});return i.save().then(function(){return e.delete().then(function(){return n.reloadCachedLibraries().then(function(){return i})})})};c.getTemplateListFromLibrary=function(e){var i=[];var o=new t;r.length=0;n.getWidgetListFromLibrary(e).then(function(e){e.forEach(function(t){i.push(c.get(t.id,true,t.libid))});t.all(i).then(function(){o.resolve(r)})});return o.promise};c.getTemplateList=function(e){var i=[];if(!s||e){s=new t;n.getWidgetList(e).then(function(e){e.forEach(function(t){i.push(c.get(t.id,true,t.libid))});t.all(i).then(function(){s.resolve(r)})})}return s.promise};c.getLoaded=function(t){return o[t]};c.resetWidgetsProperties=function(t){o[t].propertiesObj&&o[t].propertiesObj.lastSavedProperties&&(o[t].properties=o[t].propertiesObj.lastSavedProperties)};c.get=function(i,r,s){if(i.indexOf("/")>-1){var a=i.split("/");s=a[0];i=a[1]}var u=new t;if(o[i]){var d=o[i];d.isLoaded||r?u.resolve(d):d.load().then(function(){u.resolve(d)},function(t){u.reject(t)})}else{if(!s){var p=n.getLibForId(i);s=p?p.id:void 0}s?n.getTemplate(s,i).then(function(t){t.properties||(t.properties={});var n=new c(s,i,t.name||e.get("Widget.NoName"),t.description||"",t.author||"",t.meta||{},t.properties,t.dependencies||{});n.lastModified=t.lastModified;l(n);n.isLoaded||r?u.resolve(n):n.load().then(function(){u.resolve(n)},function(t){n.err=t;u.resolve(n)})}).catch(function(){var t=new c(s,i);u.resolve(t)}):u.reject(e.get("Error.NoLibraryForWidget",i))}return u.promise};c.add=function(t){if(!t.id||!t.libid)return false;var e=new c(t.libid,t.id,t.name||"",t.description||"",t.author||"",t.meta,t.properties,t.dependencies||{},t.dummy);e.html=t.html||"";e.css=t.css||"";l(e);n.addTemplate(e);c.Updated.emit(r);return e};i.create(c,"Updated");c.types=a;return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(45),n(46),n(70),n(100),n(91),n(101),n(496),n(499),n(501),n(503),n(505),n(77),n(512),n(514)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v){var g=t.getService("luiDialog");var m=t.getService("qwErrorService");return{openExtension:b,openLibrary:y,showWelcomeDialog:x,createExtension:w,createLibrary:q,createWidget:_,duplicateExtension:C,showDeleteLibraryDialog:S,showDeleteExtensionDialog:D,showDeleteWidgetDialog:E,showNewFileDialog:k,showImportLibraryDialog:T,openAlertSaveFileDialog:A};function b(t){var e=new n;r.getExtensionsByType(t.type).then(function(n){t.currentExtension&&(n=n.filter(function(e){return e.id!==t.currentExtension}));g.show({controller:l.component.controller,template:l.component.template,input:{extensions:n,title:"Devhub.OpenProject",type:t.type,callback:function t(n){e.resolve(n)}}})});return e.promise}function y(t){var e=new n;o.getList(true).then(function(n){n=n.filter(function(e){return e.id!==t});g.show({controller:l.component.controller,template:l.component.template,input:{extensions:n,title:"Widget.OpenLibrary",type:"widget-library",callback:function t(n){e.resolve(n)}}})});return e.promise}function x(t){g.show({controller:c.component.controller,template:c.component.template,input:{buttons:t.buttons,help:function e(){s.setBaseUrl();window.open(s.path+(t.toolConfig.helpPage||"DevHubStartPage"))}}})}function w(t,e){var i=new n;r.getExtensionsFromRepo(true).then(function(n){var r=[];r=t?n.templateList.filter(function(e){return e.type===t}):n.templateList;var o=g.show({controller:u.component.controller,template:u.component.template,input:{type:t,templates:e?null:r,duplicate:e||null,assets:n,callback:function t(e){if(e.errMessage){m.raiseError(null,e.errMessage);o.close();i.reject()}else i.resolve(e)}}})});return i.promise}function q(){var t=new n;r.getExtensionsFromRepo(true).then(function(e){var n=g.show({controller:d.component.controller,template:d.component.template,input:{assets:e,callback:function e(i){if(i.errName||i.errMessage){m.raiseError(i.errName,i.errMessage);n.close();t.reject()}else t.resolve(i)}}})});return t.promise}function _(t){var e=new n;o.getList().then(function(n){g.show({controller:p.component.controller,template:p.component.template,input:{libraryList:n,library:t||null,callback:function t(n){e.resolve(n)}}})}).catch(function(t){e.reject(t)});return e.promise}function C(t,e){return r.getWbFolder(t).then(function(){return w(e,t)}).catch(function(){m.raiseError(i.get("Devhub.ErrorIncomplete",e),i.get("Devhub.ErrorIncompleteWbFolder",e))})}function S(t){var e=new n;var r=g.show({controller:f.component.controller,template:f.component.template,input:{title:"Devhub.DeleteLibraryTitle",message:i.get("Devhub.DeleteLibraryDialogMessage",t.data.name),button:{name:"Devhub.Delete",tid:"9d0c05",callback:function n(){return o.delete(t.id).then(function(){e.resolve()}).catch(function(t){a.handleDeleteError(t);e.reject()}).finally(function(){r.close()})}}}});return e.promise}function D(t){var e=new n;var o=g.show({controller:f.component.controller,template:f.component.template,input:{title:"Devhub.Delete",message:i.get("Devhub.DeleteExtensionDialogMessage",t.qext?t.qext.name:t.data.name),button:{name:"Devhub.Delete",tid:"9d0c06",callback:function n(){r.deleteExtensionFromRepo(t.id).then(function(){e.resolve()}).catch(function(t){a.handleDeleteError(t);e.reject();o.close()}).finally(function(){o.close()})}}}});return e.promise}function E(t){var e=new n;var i=g.show({controller:f.component.controller,template:f.component.template,input:{title:"Widget.Delete",message:"Widget.DeleteWidget",button:{name:"Devhub.Delete",tid:"9d0c07",callback:function n(){t().then(function(){e.resolve()}).finally(function(){i.close()})}}}});return e.promise}function k(t){g.show({controller:h.component.controller,template:h.component.template,input:{assets:t}})}function T(){var t=new n;var r=e("<input type='file' accept='application/zip,application/x-zip,application/x-zip-compressed'>");r=r.clone(false);r.change(function(e){e.preventDefault();var n=g.show({controller:v.component.controller,template:v.component.template,input:{selectedFile:r[0].files[0],callback:function e(r){if(r.error){m.raiseError(null,i.get(r.error));n.close();t.reject()}else t.resolve(r)}}})});r.click();return t.promise}function A(t){return g.show({controller:f.component.controller,template:f.component.template,input:{title:"Devhub.AlertUnsavedFiles",message:"Devhub.AlertUnsavedFilesMessage",button:{name:"Devhub.Continue",tid:"9d0c09",callback:t}}})}}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;!(i=[n(109)],r=function(t){var e={},n=t.serverHelpBaseUrl;function i(){var t=location.pathname.split("/").slice(-2,-1)[0];location.pathname.toLowerCase().indexOf("/dev-hub/")>-1?t="dev-hub":"qmc"!==t.toLowerCase()&&(t="client");n+=t+"/"}e.setBaseUrl=function(e){n=e?t.personalHelpBaseUrl:t.serverHelpBaseUrl;i()};Object.defineProperty(e,"path",{get:function t(){return n}});i();return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(8),n(76),n(174),n(194),n(99),n(63)],r=function(t,e,i,r,o,s,a){var l=null;var c=false;function u(t,i){i=i||{};i.previewIconURL||"string"===typeof i.preview&&i.preview.match(/\.(?:png|gif|jpe?g|svg)$/)&&(i.cloud?i.previewIconURL="/api/v1/extensions/"+i.id+"/file/"+i.preview:i.folder?i.previewIconURL=n.p+i.folder+"/"+t+"/"+i.preview:i.previewIconURL=e.rootPath+"extensions/"+t+"/"+i.preview);i.icon&&"extension"!==i.icon||(i.icon="puzzle");i.description=i.description||i.name;i.template=i.template||t;i.isLibraryItem=false!==i.isLibraryItem;i.isThirdParty=true;i.name=i.name||i.template||t;return i}function d(t){if(t.data&&"visualization"===t.data.type){if(i.getType(t.id.toLowerCase())){t.data.bundle?console.warn("Bundled extension already loaded (this is likely correct): "+t.id):console.error("Extension id already registered: "+t.id);return}var e=u(t.id,t.data);o.registerThirdPartyLibraryInfo(t.id,e);i.registerType(t.id,new r({type:t.id,path:t.path||"extensions/"+t.id+"/"+t.id}))}}function p(t){if(!c){i.registerType("listbox",new r({type:"listbox",path:"extensions.qliktech/listbox/listbox"}));i.registerType("filterpane",new r({type:"filterpane",path:"extensions.qliktech/filterpane/filterpane"}));a.getFlag("CONTAINER_OBJECT")&&i.registerType("container",new r({type:"container",path:"extensions.qliktech/container/container"}));a.getFlag("DISABLE_AUTO_CHART")||i.registerType("auto-chart",new r({type:"auto-chart",path:"extensions.qliktech/auto-chart/auto-chart"}));i.registerType("boxplot",new r({type:"boxplot",path:"extensions.qliktech/boxplot/boxplot"}));i.registerType("histogram",new r({type:"histogram",path:"extensions.qliktech/histogram/histogram"}));i.registerType("distributionplot",new r({type:"distributionplot",path:"extensions.qliktech/distributionplot/distributionplot"}));i.registerType("waterfallchart",new r({type:"waterfallchart",path:"extensions.qliktech/waterfallchart/waterfallchart"}));i.registerType("gauge",new r({type:"gauge",path:"extensions.qliktech/gauge/gauge"}));i.registerType("kpi",new r({type:"kpi",path:"extensions.qliktech/kpi/kpi"}));i.registerType("table",new r({type:"table",path:"extensions.qliktech/straight-table/straight-table"}));i.registerType("pivot-table",new r({type:"pivot-table",path:"extensions.qliktech/pivot-table/pivot-table"}));i.registerType("barchart",new r({type:"barchart",path:"extensions.qliktech/barchart/barchart"}));i.registerType("piechart",new r({type:"piechart",path:"extensions.qliktech/piechart/piechart"}));i.registerType("scatterplot",new r({type:"scatterplot",path:"extensions.qliktech/scatterplot/scatterplot"}));i.registerType("linechart",new r({type:"linechart",path:"extensions.qliktech/linechart/linechart"}));i.registerType("combochart",new r({type:"combochart",path:"extensions.qliktech/combochart/combochart"}));i.registerType("treemap",new r({type:"treemap",path:"extensions.qliktech/treemap/treemap"}));i.registerType("map",new r({type:"map",path:""}));i.registerType("text-image",new r({type:"text-image",path:"extensions.qliktech/text-image/text-image"}));i.registerType("widget",new r({type:"widget",path:"extensions.qliktech/widget/widget"}));c=true}if(!t)return f()}function f(){if(!l){var e=a.getFlag("DISABLE_ONPREM_EXTENSIONS")?t.resolve([]):s.getList();l=e.then(function(t){t.forEach(d)})}return l}function h(t){i.removeType(t);o.remove(t)}return{load:p,isLoaded:function t(e){return!!i.getType(e)},registerExtension:d,removeExtension:h}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(322),n(50),n(47)],r=function(t,e,n){var i={},r={},o;o={type:"items",component:"accordion",items:{settings:{uses:"settings"}}};function s(t,n,i){var r,o,a,l=null;if(t.ref===n)return t;if(e.isHierarchical(t)){r=Object.keys(t.items);for(a=0;a<r.length;++a){o=t.items[r[a]];if(o.ref===n){l=o;break}if(i){l=s(o,n,i);if(null!==l)break}}}return l}function a(r,s,l){var c,u,d;l=l||t;r||(r=o);if(s&&i[s])return i[s];var p;while(r.uses){d=e.getValue(l,r.uses);if(!d)throw"No defaults found for: "+r.uses;p=d.uses;r=n.extend(true,{},d,r);if(!p){delete r.uses;break}r.uses=p}if(e.isHierarchical(r)||"array"===r.type&&r.items){u={};Object.keys(r.items).forEach(function(t){r.items[t]&&(u[t]=a(r.items[t],null,l))});c=n.extend({},r,{items:u})}else c=n.extend({},r);s&&!i[s]&&(i[s]=c);return c}function l(t,i,r){var o=a(t,r);return i?n.extend(true,e.getDefaults(o),i):e.getDefaults(o)}function c(t){function n(t){var i={};function r(t){return-1!==t.search(/\.\d/g)}function o(t){var n={type:t.type,defaultValue:e.getDefaultValue(t.type,t)};t.maxlength&&(n.maxlength=t.maxlength);t.min&&(n.min=t.min);t.max&&(n.max=t.max);t.expression&&(n.expression=t.expression);t.options&&"boolean"!==t.type&&(n.enum=t.options.map(function(t){return t.value}));return n}function s(t){var a,l,c,u,d,p;if(e.isHierarchical(t)){a=Object.keys(t.items);for(d=0;d<a.length;d++){l=a[d];c=t.items[l];s(c)}}else if(t.ref&&"array"===t.type&&t.items){u=n({type:"items",items:t.items});p={type:"array",items:u};r(t.ref)||e.setValue(i,t.ref,p)}else if(t.ref){p=o(t);r(t.ref)||e.setValue(i,t.ref,p)}}s(t);return i}return n(t)}function u(t){var n=[];function i(t){var r,o,s;if(e.isHierarchical(t)){r=Object.keys(t.items);for(s=0;s<r.length;++s){o=t.items[r[s]];o.snapshot&&n.push(o);i(o)}}}i(t);return n}function d(t,e){if(e&&r[e])return r[e];var n=[];function i(t){t.globalChange&&n.push(t.globalChange);"items"!==t.type&&"array"!==t.type||!t.items||Object.keys(t.items).forEach(function(e){t.items[e]&&i(t.items[e])})}i(t);e&&!r[e]&&(r[e]=n);return n}return{findDefinition:s,findSnapshotProperties:u,findGlobalListeners:d,mapDefinition:a,mapProperties:l,getPropertyHierarchy:c}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44)],r=function(t){var e={},n,i,r,o,s=false,a=t.Deferred();e.parse=function(t){n=t.userId;i=t.userDirectory;s=t.mustAuthenticate;o=t.loginUri;r=t.logoutUri;true===s&&t.loginUri&&(window.location.href=t.loginUri);a.resolve(this)};e.onDataReceived=a.promise();Object.defineProperties(e,{userId:{get:function t(){return n}},userDirectory:{get:function t(){return i}},mustAuthenticate:{get:function t(){return s}},loginUri:{get:function t(){return o}},logoutUri:{get:function t(){return r}}});return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(371),n(57),n(45),n(47)],r=function(t,e,n,i){var r={},o=null,s=null,a=false;e.mixin(r);r.notification("UpdateObjProps");function l(e){o=e;t.get(o).then(function(t){t.Invalidated.bind(c)})}function c(){var t;p().then(function(e){t=e;r.UpdateObjProps.emit(t)})}function u(){return t.getList().then(function(e){return e.getLayout().then(function(e){if(e&&e.length)return l(e[0].qInfo.qId);if(a)return t.create({}).then(function(t){return t.getLayout().then(function(){return l(t.id)})});s=new n;s.resolve();return s.promise})})}function d(e,n){return t.get(e).then(function(t){return t.getProperties().then(function(e){var r={};r=i.extend(true,e,n);r.sheetLogoThumbnail.qStaticContentUrl&&delete r.sheetLogoThumbnail.qStaticContentUrl;return t.setProperties(r)})})}function p(){if(o)return t.get(o).then(function(t){return t.getLayout()});s=new n;s.resolve({});return s.promise}r.setProperties=function(t){if(!o){a=true;return u().then(function(){return d(o,t)})}a=false;return d(o,t)};r.getProperties=function(){if(!o){a=false;return u().then(p)}return p()};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(372),n(135),n(180),n(45),n(47)],r=function(t,e,n,i,r){var o={},s,a,l;s=t.extend("App",{init:function t(n,r,o,s,l){var c=this;o&&a||(a=c);c.rpcOptions=r||{};c.rpcOptions.onError=s;c.rpcOptions.onWarning=l;c.session=e.get(n,r);c.session.modelCache[n]=i.resolve(c);c.waitForOpen=new i;c._super({id:n,session:c.session,checkCreate:true});try{c.open().then(function(){c.waitForOpen.resolve(c)},function(t){c.waitForOpen.reject({error:t})})}catch(t){c.waitForOpen.reject({isHandled:false,error:t})}},open:function t(){var e=this;e.session.Error.bind(function(t){setTimeout(function(){t.error&&!t.error.isHandled&&window.console.log("Error from Engine:",t)},1e3)});function i(){e.enigmaModel=e.session.__enigmaApp;e.handle=e.enigmaModel.handle;e.engineApp=n.bootstrap(e.enigmaModel);e.engineApp.name=e.id;e.enigmaModel.engineApp=e.engineApp;s.current===e&&n.setCurrentApp(e.engineApp);e.bindToRPC()}return e.session.enigmaPromise.then(i)},close:function t(e){delete o[this.cacheId];this.session.close();if(a===this){a=void 0;l=true}return this._super(e)},createSessionObject:function t(e){return this.rpc("CreateSessionObject","qReturn",[e])},createSessionVariable:function t(e){return this.rpc("CreateSessionVariable","qReturn",[e])},doSave:function t(){return this.rpc("DoSave",null)},getProperties:function t(){return this._super("GetAppProperties")},setProperties:function t(e){return this._super(e,"SetAppProperties")},checkExpression:function t(e,n){var i=[e];n&&i.push(n);return this.rpc("CheckExpression",null,i)},checkNumberOrExpression:function t(e){return this.rpc("CheckNumberOrExpression",null,[e])},evaluateExpression:function t(e){return this.rpc("Evaluate","qReturn",[e])},getConfiguration:function t(){return this.session.rpc({method:"GetConfiguration",handle:-1,params:[]}).then(function(t){return t.result.qConfig})},getVersion:function t(){return this.session.rpc({method:"QvVersion",handle:-1,params:[]}).then(function(t){return t.result.qReturn})},getListOfFunctions:function t(){return this.session.rpc({method:"GetFunctions",handle:-1,params:[]}).then(function(t){return t.result.qFunctions})},getLocaleInfo:function t(){return this.rpc("GetLocaleInfo","qReturn")},getExpressions:function t(){return this.rpc("GetExpressions","qExpressions")},getStreams:function t(){var e=this;return e.streamsList?i.resolve(e.streamsList):this.session.rpc({method:"GetStreamList",handle:-1,params:[]}).then(function(t){e.streamsList=t.result.qStreamList;return e.streamsList})},getPublishableStreams:function t(){var e=this.getLayout();var n=this.getStreams();var r=new i;i.all({layout:e,streams:n}).then(function(t){var e=t.streams.filter(function(e){return t.layout.stream?e.qId===t.layout.stream.id&&-1!==e.privileges.indexOf("publish"):-1!==e.privileges.indexOf("publish")});r.resolve(e)});return r.promise},getMatchingFields:function t(e){return this.rpc("GetMatchingFields",null,[e])},getContentLibraries:function t(){return this.rpc("GetContentLibraries").then(function(t){return t.qList.qItems})},getLibraryContent:function t(e){return this.rpc("GetLibraryContent",null,[e]).then(function(t){return t.qList.qItems})},getMediaList:function t(){return this.rpc("GetMediaList").then(function(t){return t.qList.qItems})},findMatchingFields:function t(e,n){return this.rpc("FindMatchingFields",null,[e,n])},abortModal:function t(e){return this.enigmaModel.switchModalSelection(e)},switchModal:function t(e,n,r){this.enigmaModel.switchModalSelection(e&&e.enigmaModel,n,r);return i.resolve()},setModal:function t(e){this.enigmaModel.setModalSelection(e&&e.enigmaModel)},isModal:function t(){return this.enigmaModel.isInModalSelection()},publish:function t(e){return this.rpc("Publish",null,[e])}});Object.defineProperty(s,"current",{get:function t(){return a}});s.makeCacheId=function(t,e){var n=t.toLowerCase();if(e){n+=e.host?"/"+e.host:"/";n+=e.identity?"/"+e.identity:"/";n+=e.openWithoutData?"/openWithoutData":"/";n+=e.port?"/"+e.port:"/";n+=e.prefix?"/"+e.prefix:"/";n+=e.subpath?"/"+e.subpath:"/"}return n};s.get=function(t,e,n,r,o){if(!arguments.length&&l)return i.reject(new Error("The current app has been closed"));var a=s.getSync(t,e,n,r,o);return a.waitForOpen.promise};s.getSync=function(t,e,n,i,a){t=t||r.getParameterByName("app")||"?transient=";"undefined"===typeof e&&(e={});"string"!==typeof e.host&&(e.host=r.hostname);"string"!==typeof e.port&&(e.port=r.port);"string"!==typeof e.prefix&&(e.prefix="/"===r.basePath?"":r.basePath);"boolean"!==typeof e.isSecure&&(e.isSecure=r.isSecure);"string"!==typeof e.reloadURI&&(e.reloadURI=r.reloadURI);var l=s.makeCacheId(t,e);var c=o[l]=o[l]||new s(t,e,n,i,a);c.cacheId=l;return c};s.create=function(t,e){return e.rpc({method:"CreateApp",handle:-1,params:[t]}).then(function(t){return t.result})};s.remove=function(t,e){return e.rpc({method:"DeleteApp",handle:-1,params:[t]}).then(function(t){return t.result})};s.getList=function(t){return t.rpc({method:"GetDocList",handle:-1,params:[]}).then(function(t){return t.result.qDocList})};return s}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(382)],r=function(t,e){var n=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,i=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d(\.\d+)?)\)$/i,r=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i,o=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i,s=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i,a=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i,l=Math.floor,c=Math.round,u;u=t.extend({init:function t(){var n=0,i=0,r=0,o=1,s,a,d,p,f,h,v,g,m,b,y,x;this._invalid=false;if(arguments[0]instanceof u){n=arguments[0]._r;i=arguments[0]._g;r=arguments[0]._b;o=arguments[0]._a;this._invalid=arguments[0]._invalid}else if(arguments.length<3)if("string"===typeof arguments[0]){x=arguments[0];if(y=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i.exec(x)){n=parseInt(y[1],10);i=parseInt(y[2],10);r=parseInt(y[3],10)}else if(y=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d(\.\d+)?)\s*\)$/i.exec(x)){n=parseInt(y[1],10);i=parseInt(y[2],10);r=parseInt(y[3],10);o=parseFloat(y[4])}else if(y=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(x)){n=parseInt(y[1],16);i=parseInt(y[2],16);r=parseInt(y[3],16);o=1}else if(y=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(x)){n=parseInt(y[1]+y[1],16);i=parseInt(y[2]+y[2],16);r=parseInt(y[3]+y[3],16);o=1}else if(y=/^hsl\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(x)){s=parseFloat(y[1]);a=parseFloat(y[3]);p=parseFloat(y[5]);s%=360;a/=100;p/=100;s=s<0?0:s>360?360:s;a=a<0?0:a>1?1:a;p=p<0?0:p>1?1:p;h=p<=.5?2*p*a:(2-2*p)*a;v=s/60;g=h*(1-Math.abs(v%2-1));m=[];v=Math.floor(v);switch(v){case 0:m=[h,g,0];break;case 1:m=[g,h,0];break;case 2:m=[0,h,g];break;case 3:m=[0,g,h];break;case 4:m=[g,0,h];break;case 5:m=[h,0,g];break;default:m=[0,0,0]}b=p-.5*h;n=m[0]+b;i=m[1]+b;r=m[2]+b;n=c(255*n);i=c(255*i);r=c(255*r);o=1}else if(y=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(x)){s=parseFloat(y[1]);a=parseFloat(y[3]);p=parseFloat(y[5]);o=parseFloat(y[7]);s%=360;a/=100;p/=100;s=s<0?0:s>360?360:s;a=a<0?0:a>1?1:a;p=p<0?0:p>1?1:p;h=p<=.5?2*p*a:(2-2*p)*a;v=s/60;g=h*(1-Math.abs(v%2-1));m=[];v=Math.floor(v);switch(v){case 0:m=[h,g,0];break;case 1:m=[g,h,0];break;case 2:m=[0,h,g];break;case 3:m=[0,g,h];break;case 4:m=[g,0,h];break;case 5:m=[h,0,g];break;default:m=[0,0,0]}b=p-.5*h;n=m[0]+b;i=m[1]+b;r=m[2]+b;n=c(255*n);i=c(255*i);r=c(255*r)}else if(y=/^hsv\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*\)$/i.exec(x)){s=parseFloat(y[1]);a=parseFloat(y[3]);f=parseFloat(y[5]);s%=360;a/=100;f/=100;s=s<0?0:s>360?360:s;a=a<0?0:a>1?1:a;f=f<0?0:f>1?1:f;h=f*a;v=s/60;g=h*(1-Math.abs(v%2-1));m=[];v=Math.floor(v);switch(v){case 0:m=[h,g,0];break;case 1:m=[g,h,0];break;case 2:m=[0,h,g];break;case 3:m=[0,g,h];break;case 4:m=[g,0,h];break;case 5:m=[h,0,g];break;default:m=[0,0,0]}b=f-h;n=m[0]+b;i=m[1]+b;r=m[2]+b;n=c(255*n);i=c(255*i);r=c(255*r);o=1}else if(e[x.toLowerCase()]){d=x.toLowerCase();n=e[d].r;i=e[d].g;r=e[d].b;o="number"===typeof e[d].a?e[d].a:1}else this._invalid=true}else if("number"===typeof arguments[0]&&arguments[0]>=0&&"argb"===arguments[1]){o=(4278190080&arguments[0])>>>24;o/=255;n=(16711680&arguments[0])>>16;i=(65280&arguments[0])>>8;r=255&arguments[0]}else if("number"===typeof arguments[0]&&arguments[0]>=0){n=(16711680&arguments[0])>>16;i=(65280&arguments[0])>>8;r=255&arguments[0]}else this._invalid=true;else if(arguments.length>=3){n=arguments[0];i=arguments[1];r=arguments[2];o=arguments.length>=4?arguments[3]:1}else this._invalid=true;isNaN(n+i+r+o)&&(this._invalid=true);this._r=l(n);this._g=l(i);this._b=l(r);this._a=o;this._spaces={}},isInvalid:function t(){return this._invalid},setAlpha:function t(e){this._a=e;this._spaces={}},getAlpha:function t(){return this._a},toRGB:function t(){this._spaces.rgb||(this._spaces.rgb=u.toRGB(this));return this._spaces.rgb},toRGBA:function t(){this._spaces.rgba||(this._spaces.rgba=u.toRGBA(this));return this._spaces.rgba},toString:function t(){this._spaces.rgb||(this._spaces.rgb=u.toRGB(this));return this._spaces.rgb},toHex:function t(){this._spaces.hex||(this._spaces.hex=u.toHex(this));return this._spaces.hex},toHSL:function t(e){this._spaces.hsl||(this._spaces.hsl=u.toHSL(this,e));return this._spaces.hsl},toHSLA:function t(e){this._spaces.hsla||(this._spaces.hsla=u.toHSLA(this,e));return this._spaces.hsla},toHSV:function t(){var e=this.toHSVComponents();return"hsv("+e.h+","+e.s+","+e.v+")"},toHSVComponents:function t(){this._spaces.hsvComp||(this._spaces.hsvComp=u.toHSVComponents(this));return this._spaces.hsvComp},toNumber:function t(){this._spaces.num||(this._spaces.num=u.toNumber(this));return this._spaces.num},isDark:function t(){return this.isInvalid()||this.getLuminance()<125},getLuminance:function t(){"undefined"===typeof this._lumi&&(this._lumi=.299*this._r+.587*this._g+.114*this._b);return this._lumi},shiftLuminance:function t(e){var n,i,r,o,s,a=this.toHSLA();s=/^hsla\(\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?%?)\s*,\s*(\d+(\.\d+)?%?)\s*,(\d(\.\d+)?)\)$/i.exec(a);n=parseFloat(s[1]);i=parseFloat(s[3]);r=parseFloat(s[5]);o=parseFloat(s[7]);r+=e;r=Math.max(0,Math.min(r,100));return"hsla("+n+","+i+","+r+","+o+")"},isEqual:function t(e){if(e instanceof u)return this._r===e._r&&this._g===e._g&&this._b===e._b;e=new u(e);return this._r===e._r&&this._g===e._g&&this._b===e._b},blend:function t(e,n){var i=l(this._r+(e._r-this._r)*n),r=l(this._g+(e._g-this._g)*n),o=l(this._b+(e._b-this._b)*n),s=l(this._a+(e._a-this._a)*n);return"rgba("+[i,r,o,s].join(",")+")"},createShiftedColor:function t(e){(void 0===e||isNaN(e))&&(e=1);var n=this.getLuminance(),i=this._g<126?1:1+this._g/512,r=this.shiftLuminance(20*(n*i<220?.8+1/(n+1)*4:-(.8+n/255*1))*e);return new u(r)}});u.toRGB=function t(e){if(e instanceof u)return"rgb("+[e._r,e._g,e._b].join(",")+")";"string"===typeof e&&(e=u.toNumber(e));var n=(16711680&e)>>16,i=(65280&e)>>8,r=255&e;return"rgb("+n+","+i+","+r+")"};u.toRGBA=function t(e,n){if(e instanceof u)return"rgba("+[e._r,e._g,e._b,"undefined"!==typeof n?n:e._a].join(",")+")";"string"===typeof e&&(e=u.toNumber(e));var i=(16711680&e)>>16,r=(65280&e)>>8,o=255&e;return"rgba("+i+","+r+","+o+","+("undefined"!==typeof n?n:e._a)+")"};u.toHex=function t(e){var n,i,r;if(e instanceof u){n=e._r.toString(16);i=e._g.toString(16);r=e._b.toString(16);1===n.length&&(n="0"+n);1===i.length&&(i="0"+i);1===r.length&&(r="0"+r);return"#"+[n,i,r].join("")}"string"===typeof e&&(e=u.toNumber(e));n=((16711680&e)>>16).toString(16);i=((65280&e)>>8).toString(16);r=(255&e).toString(16);1===n.length&&(n="0"+n);1===i.length&&(i="0"+i);1===r.length&&(r="0"+r);return"#"+n+i+r};u.toHSL=function(t,e){var n,i,r,o=0,s,a,l,c,d;"string"===typeof t&&(t=new u(t));n=t._r/255;i=t._g/255;r=t._b/255;l=Math.max(n,i,r);c=Math.min(n,i,r);a=e?.21*n+.72*i+.07*r:(l+c)/2;if(l===c)o=s=0;else{d=l-c;s=a>.5?d/(2-l-c):d/(l+c);switch(l){case n:o=(i-r)/d+(i<r?6:0);break;case i:o=(r-n)/d+2;break;case r:o=(n-i)/d+4;break}o/=6}return"hsl("+360*o+","+100*s+","+100*a+")"};u.toHSLA=function(t,e){var n,i,r,o,s=0,a,l,c,d,p;"string"===typeof t&&(t=new u(t));n=t._r/255;i=t._g/255;r=t._b/255;o=t._a;c=Math.max(n,i,r);d=Math.min(n,i,r);l=e?.21*n+.72*i+.07*r:(c+d)/2;if(c===d)s=a=0;else{p=c-d;a=l>.5?p/(2-c-d):p/(c+d);switch(c){case n:s=(i-r)/p+(i<r?6:0);break;case i:s=(r-n)/p+2;break;case r:s=(n-i)/p+4;break}s/=6}return"hsla("+360*s+","+100*a+","+100*l+","+o+")"};u.toHSVComponents=function(t){var e,n,i,r=0,o,s,a,l,c;"string"===typeof t&&(t=new u(t));e=t._r/255;n=t._g/255;i=t._b/255;a=Math.max(e,n,i);l=Math.min(e,n,i);s=a;if(a===l)r=o=0;else{c=a-l;o=0===c?0:c/s;switch(a){case e:r=(n-i)/c+(n<i?6:0);break;case n:r=(i-e)/c+2;break;case i:r=(e-n)/c+4;break}r/=6}return{h:360*r%360,s:100*o,v:100*s}};u.toNumber=function t(){if(1===arguments.length&&arguments[0]instanceof u)return(arguments[0]._r<<16)+(arguments[0]._g<<8)+arguments[0]._b;var e=0,n=0,i=0,r,o;if(1===arguments.length&&"string"===typeof arguments[0]){o=arguments[0];if(r=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i.exec(o)){e=parseInt(r[1],10);n=parseInt(r[2],10);i=parseInt(r[3],10)}else if(r=/^#([A-f0-9]{2})([A-f0-9]{2})([A-f0-9]{2})$/i.exec(o)){e=parseInt(r[1],16);n=parseInt(r[2],16);i=parseInt(r[3],16)}else if(r=/^#([A-f0-9])([A-f0-9])([A-f0-9])$/i.exec(o)){e=parseInt(r[1]+r[1],16);n=parseInt(r[2]+r[2],16);i=parseInt(r[3]+r[3],16)}}return(e<<16)+(n<<8)+i};u.blend=function t(e,n,i){e=u.toNumber(e);n=u.toNumber(n);var r=(16711680&e)>>16,o=(65280&e)>>8,s=255&e,a=(16711680&n)>>16,l=(65280&n)>>8,c=255&n,d=r+(a-r)*i,p=o+(l-o)*i,f=s+(c-s)*i;return(d<<16)+(p<<8)+f};u.getBlend=function t(e,n,i){var r=e._r+(n._r-e._r)*i,o=e._g+(n._g-e._g)*i,s=e._b+(n._b-e._b)*i,a=e._a+(n._a-e._a)*i;return new u(r,o,s,a)};u.isCSSColor=function(t){if(arguments.length>1||"string"!==typeof t)return false;return n.test(t)||i.test(t)||r.test(t)||o.test(t)||s.test(t)||a.test(t)||e[t.toLowerCase()]};u.getBestContrast=function(t,e,n){var i=t.getLuminance();return Math.abs(i-e.getLuminance())>Math.abs(i-n.getLuminance())?e:n};u.getContrast=function(t,e){if(!t||!e)return;var n=t.getLuminance()/100,i=e.getLuminance()/100;return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)};u.isDark=function(){var t={getLuminance:u.prototype.getLuminance,isInvalid:u.prototype.isInvalid};u.prototype.init.apply(t,[].slice.call(arguments));return u.prototype.isDark.call(t)};u.useDarkLabel=function(t,e){return t._a>.5?!t.isDark():!e};return u}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i;!(i=function(){function t(t,e){0===arguments.length?this.set(0,0):this.set(t,e)}t.prototype={toString:function t(){return this.x+" "+this.y},clone:function e(){return new t(this.x,this.y)},set:function t(e,n){this.x=e;this.y=n},equal:function t(e){return this.x===e.x&&this.y===e.y},closeTo:function t(e,n){if(!e)return false;return Math.abs(this.x-e.x)<n&&Math.abs(this.y-e.y)<n},distanceTo:function t(e){if(!e)return NaN;return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}};return t}.call(e,n,e,t),void 0!==i&&(t.exports=i))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(41),n(83)],r=function(t,e){var n={list:[]},i=null;n.getList=function(n){function r(t){e.getService("$contentApi").getExtensions().then(function(e){o.list=[];for(var n in e)e.hasOwnProperty(n)&&o.list.push({id:n,data:e[n]});t.resolve(o.list)},function(){o.list=[];t.resolve(o.list)});return t.promise}var o=this;if(null===i){i=new t;return r(i)}if(n)return r(new t);return i.promise};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(99),n(153),n(493),n(70),n(52)],r=function(t,e,n,i,r){var o=[],s;function a(t,e){e.widgets=e.widgets||[];Object.defineProperties(this,{id:{value:t},data:{value:e,writable:true}});e.type="widget-library"}a.prototype.save=a.save=function(t){t=t||this;return n.saveLibrary(t)};a.create=function(e){var i=new t;a.getList().then(function(t){var r=t.filter(function(t){return t.id===e.id});r.length>1?i.reject("Devhub.LibraryNameNotUniqueErrorMessage"):i.resolve(n.createLibrary(e.id,e.data.description))});return i.promise};a.delete=function(e){var n=new t;r.deleteExtensionFromRepo(e).then(function(){s=void 0;n.resolve()}).catch(function(t){n.reject(t)});return n.promise};a.getList=function(n){function i(t){o=[];e.getList(true).then(function(e){e.forEach(function(t){"widget-library"===t.data.type&&o.push(new a(t.id,t.data))});t.resolve(o)});return t.promise}if(s){if(n)return i(new t)}else{s=new t;i(s)}return s.promise};a.get=function(e){var i=new t;n.getLibrary(e).then(function(t){i.resolve(new a(e,t))}).catch(function(){i.reject()});return i.promise};a.import=function(t){return i.importLibrary(t,this)};return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(46),n(66)],r=function(t,e){var n=t.getService("qwErrorService");function i(t,i,r,s){var a=t;while("object"===o(a))a=a.errObject;var l="Forbidden"===a?e.get(i):r||t.errMessage||t.errMsg||a||"";n.raiseError(null,l,s)}return{handleSaveError:function t(e,n){i(e,"Devhub.UpdateProbablyForbidden",n,{name:"Devhub.Refresh",tid:"9d0c10",callback:function t(){window.location.reload(true)}})},handleDeleteError:function t(e,n){i(e,"Devhub.DeleteProbablyForbidden",n)}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(78),n(47)],r=function(t,e,n){t.filter("searchFilter",function(){return function(t,i){if(!t||!t.filter)return true;if(!i||0===i.length)return t;return t.filter(function(t){var r=new RegExp(e.string(n.escapeRegExp(i)),"gi");return r.test(e.string(t.title?t.title:t.data?t.data.name:t.name))})}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(79),n(47),n(52),n(46),n(92),n(76),n(104),n(93),n(45),n(87),n(100),n(101),n(88),n(525),n(527),n(529),n(77),n(531),n(533),n(544),n(546),n(226),n(90),n(54),n(56),n(160),n(66),n(61),n(85)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w,q){var _=t.getService("qwCommonService");var C=t.getService("qwConfigService");var S=t.getService("qwErrorService");var D=t.getService("qwNavigationService");var E=t.getService("$timeout");var k=t.getService("qwPermissionService");var T=t.getService("luiDialog");t.service("qwWidgetEditorService",["$rootScope",function(A){var I=C.getToolConfig();var O=this;var L={id:"",type:"",icon:"",title:"",isDirty:false};var P={apItems:[],currentApItemObject:L,currentLibrary:"",assetsPanelTitle:"",currentWidgetTemplate:void 0,currentPropertyDefinition:void 0,qvObject:void 0,isDirty:function t(e){return e.id===P.currentApItemObject.id&&P.currentApItemObject.isDirty}};var M={onClick:false,onDrag:false,onRightClick:false};var N={};function j(t){var e=t;P.libraries&&P.libraries.forEach(function(n){n.id.toLowerCase()===t.toLowerCase()&&(e=n.id)});return e}function F(){var t=new u;u.all({templates:B(),apps:_.getApplist(false,true),libraries:p.getList(),types:s.load(),permission:k.getPermissions(k.entities.widget)}).then(function(e){P.apps=e.apps;P.libraries=e.libraries;for(var n in e.permission)N[n]=e.permission[n];var i=r.getHashParameter("qlib");if(i){var s=i.split("/")[0]?j(i.split("/")[0]):void 0;var a=i.split("/")[1]?i.split("/")[1]:void 0;p.get(s).then(function(){st(s);a&&R(a)}).catch(function(){Y()})}else Y();t.resolve(e);window.onbeforeunload=function(){if(P.currentApItemObject.isDirty)return o.get("Devhub.AlertUnsavedFilesMessage")}});return t.promise}function R(t){if(t===P.currentApItemObject.id)return true;P.currentApItemObject.isDirty?rt(function(){H();P.currentApItemObject.isDirty=false;R(t)}):d.get(t).then(function(t){V(t);I.panelEditor&&(I.panelEditor.isOpen=false);_.notifyWatchers("reloadContent")})}function V(t){D.openWidgetLibrary(t.libid,t.id);P.currentApItemObject={id:t.id,libid:t.libid,title:t.name};P.currentWidgetTemplate=t;$();z()}function $(){P.currentWidgetTemplate.cssObj={content:P.currentWidgetTemplate.css,extension:"css",isDirty:false};P.currentWidgetTemplate.htmlObj={content:P.currentWidgetTemplate.html,extension:"html",isDirty:false};P.currentWidgetTemplate.propertiesObj={isDirty:false};P.currentWidgetTemplate.isDirty=function(){return P.currentWidgetTemplate.htmlObj.isDirty||P.currentWidgetTemplate.cssObj.isDirty||P.currentWidgetTemplate.propertiesObj.isDirty};P.currentWidgetTemplate.properties?P.currentWidgetTemplate.propertiesObj.lastSavedProperties=e.extend(true,{},P.currentWidgetTemplate.properties):P.currentWidgetTemplate.properties={};mt(P.currentWidgetTemplate.properties)}function H(){if(!P.currentWidgetTemplate.dummy){P.currentWidgetTemplate.load(true);P.currentWidgetTemplate.properties=P.currentWidgetTemplate.propertiesObj.lastSavedProperties}}function z(){if(!P.currentApp)return;var t=P.currentWidgetTemplate,n=t.id,r=l.getDefinition(t);var o=c.mapProperties(r,{templateId:n},n);var s=a.getType("widget");s.getInitialProperties(o).then(function(t){t.qInfo.qId="preview_object_"+i.generateId();P.currentApp.createGenericObject(t).then(function(t){var n=e(".qw-preview");y.show(n,t.enigmaModel);var i=n.find(".qv-object").scope();P.qvObject=i.object;A.$broadcast("refreshPropertyPanel");_.notifyWatchers("refreshPreview")})})}function B(){return d.getTemplateList(true).then(function(t){P.apItems=t.map(function(t){return{id:t.id,libid:t.libid,type:t.meta.type,icon:d.getIcon(t.meta.type),title:t.name||"[no name]"}}).filter(function(t){return"Template"!==t.title&&t.libid===P.currentLibrary});return P.apItems})}function W(t){if(P.currentApp){P.currentApp.close().then(function(){P.currentApp=void 0;W(t)});return}P.apps.forEach(function(e){e.type===t.currentApp.type&&(P.currentApp=n.openApp(e.id,_.config))});z()}function U(){var t=this;if(P.currentWidgetTemplate.isDirty()||""===P.currentApItemObject.id)if("Template"===P.currentWidgetTemplate.name)E(function(){G(t)});else{P.currentWidgetTemplate.html=P.currentWidgetTemplate.htmlObj.content;P.currentWidgetTemplate.css=P.currentWidgetTemplate.cssObj.content;P.currentWidgetTemplate.save().then(function(){P.currentWidgetTemplate.propertiesObj.lastSavedProperties=e.extend(true,{},P.currentWidgetTemplate.properties);P.currentApItemObject.isDirty=false;$();B().then(function(){var t=P.apItems.filter(function(t){return t.title===P.currentWidgetTemplate.name});if(t&&t.length>0){P.currentApItemObject=t[0];_.notifyWatchers("reloadContent")}_.notifyWatchers("projectFilesSaved")})}).catch(f.handleSaveError)}}function G(){T.show({controller:v.component.controller,template:v.component.template,input:{currentTemplate:P.currentWidgetTemplate,libraryList:P.apItems,type:P.currentWidgetTemplate.meta.type,save:function t(e,n,i){var o=new u;var s=P.currentWidgetTemplate;p.get(P.currentWidgetTemplate.libid).then(function(){var t=r.generateId();P.currentWidgetTemplate=P.currentWidgetTemplate.copy({id:t,name:""!==e.trim()?e:P.currentWidgetTemplate.name,description:n||"",meta:i});P.currentWidgetTemplate.html=s.htmlObj.content;P.currentWidgetTemplate.css=s.cssObj.content;d.resetWidgetsProperties(s.id);I.panelEditor.isOpen=false;$();z();D.openWidgetLibrary(P.currentLibrary,t);P.currentApItemObject=L;U();s.dummy||s.load(true);_.notifyWatchers("reloadContent")}).finally(function(){o.resolve(P.currentWidgetTemplate)});return o.promise}}})}function K(t){T.show({controller:x.component.controller,template:x.component.template,input:{insert:function e(n){t(n)}}})}function Y(){var t=P.libraries?P.libraries.length:0;h.showWelcomeDialog({toolConfig:I,buttons:[{text:"Widget.CreateNew",title:0===t?"Tooltip.NoLibraries":N.create?"":"Tooltip.NoExtensionCreatePermission",iconClass:"lui-icon--plus",onActivated:function t(){ot()},disabled:0===t||!N.create},{text:"Devhub.CreateLibrary",title:N.create?"":"Tooltip.NoExtensionCreatePermission",iconClass:"lui-icon--plus",onActivated:function t(){ct()},disabled:!N.create},{text:"Widget.OpenLibrary",title:0===t?"DevHub.NoLibrariesToOpen":"",iconClass:"lui-icon--folder",onActivated:function t(){lt()},disabled:0===t}]})}function X(t,e){p.get(P.currentLibrary).then(function(n){T.show({controller:m.component.controller,template:m.component.template,input:{library:n,widget:t,name:t,rename:function t(n){Z(e,n)}}})})}function Z(t,e){d.get(t).then(function(t){t.name=e;t.save().then(function(){B()})})}function J(t){var e=d.add(t);return e.save()}function Q(t){return d.get(t).then(function(t){return t.delete()})}function tt(t,e){return d.get(t).then(function(t){return t.move(e)})}function et(){var t={libid:P.currentLibrary,id:r.generateId(),dummy:true,name:"Template",icon:"template"};P.currentWidgetTemplate=d.add(t);P.currentApItemObject=L;$();z()}function nt(t){h.showDeleteWidgetDialog(function(){return Q(t.id).then(function(){if(t.id===P.currentWidgetTemplate.id){D.openWidgetLibrary(P.currentLibrary);et()}B().then(function(){_.notifyWatchers("reloadContent")})})})}function it(t,e,n){T.show({controller:g.component.controller,template:g.component.template,input:{libraryList:P.libraries,libraryId:e,libraryName:at(e),currentTemplate:P.currentWidgetTemplate,widgetName:n,move:function e(n,i){tt(t,n).then(function(e){if(t===P.currentWidgetTemplate.id)if(i){st(e.libid);R(e.id);A.$broadcast("refreshPropertyPanel")}else{B();D.openWidgetLibrary(P.currentLibrary);et();_.notifyWatchers("reloadContent")}else if(P.currentApItemObject.isDirty&&i)rt(function(){H();st(e.libid);R(e.id)});else if(i){st(e.libid);R(e.id)}else B()})}}})}function rt(t){T.show({controller:b.component.controller,template:b.component.template,input:{title:"Devhub.AlertUnsavedFiles",message:"Devhub.AlertUnsavedFilesMessage",button:{name:"Devhub.Continue",tid:"9d0c15",callback:t}}})}function ot(){h.createWidget(P.currentLibrary).then(function(t){var e={libid:t.library,id:r.generateId(),name:t.name,description:t.description,author:t.author,icon:"template",meta:""===t.meta.type?{type:"other"}:t.meta,dependencies:t.dependencies};P.currentApItemObject.isDirty?rt(function(){H();P.currentApItemObject.isDirty=false;J(e).then(function(t){st(t.libid);I.panelEditor&&I.panelEditor.isOpen&&(I.panelEditor.isOpen=false);R(t.id)})}):J(e).then(function(t){st(t.libid);I.panelEditor&&I.panelEditor.isOpen&&(I.panelEditor.isOpen=false);R(t.id)})})}function st(t){P.currentLibrary=t;P.assetsPanelTitle=at(t);et();B().then(function(){_.notifyWatchers("reloadContent")})}function at(t){var e="";if(!P.libraries)return false;P.libraries.forEach(function(n){n.id===t&&(e=n.data.name)});return e}function lt(){h.openLibrary(P.currentLibrary).then(function(t){if(P.currentApItemObject.isDirty)rt(function(){H();P.currentApItemObject.isDirty=false;D.openWidgetLibrary(t.id);st(t.id)});else{D.openWidgetLibrary(t.id);st(t.id)}})}function ct(){h.createLibrary().then(function(t){if(t&&t.cancel)return true;D.openWidgetLibrary(t.name,void 0,false,true)}).catch(function(t){S.raiseException(null,o.get("Devhub.ErrorOccurredAndRefresh"),t)})}function ut(t){d.get(t).then(function(t){T.show({controller:w.component.controller,template:w.component.template,input:{libraryList:P.libraries,library:P.currentLibrary,settings:{name:t.name,description:t.description,author:t.author,type:t.meta.type,dependencies:t.dependencies},saveWidget:function e(n){t.name=n.name;t.dependencies=n.dependencies;t.description=n.description;t.meta.type=n.type;t.author=n.author;t.save().then(function(){B();z()})}}})})}function dt(t){P.currentWidgetTemplate.properties||(P.currentWidgetTemplate.properties={});P.currentWidgetTemplate.properties=t;mt(P.currentWidgetTemplate.properties)}M.onRightClick=function(e,n){var i=t.getService("qvContextMenu").menu();i.addItem({translation:"Devhub.Edit",tid:"edit-master",select:function t(){R(e.id)},disabled:N.readOnly});i.addItem({translation:"DevHub.Rename",tid:"rename-master",select:function t(){X(e.title,e.id)},disabled:N.readOnly});i.addItem({translation:"Devhub.Delete",tid:"remove-master",select:function t(){nt(e)},disabled:!N.delete});i.addItem({translation:"Devhub.Move",tid:"move-master",select:function t(){it(e.id,e.libid,e.title)},disabled:P.libraries.length<=1||N.readOnly});i.addItem({translation:"Widget.Settings",tid:"settings-master",select:function t(){ut(e.id)},disabled:N.readOnly});t.getService("qvContextMenu").show(i,{position:{x:n.pageX,y:n.pageY}})};M.onClick=function(t){R(t.id)};M.onChange=function(t){E.cancel(O.updating);O.updating=E(function(){if(t){t.$apply(function(){t.editorConfiguration.data.content=t.editorConfiguration.codeMirror.getValue();var e=P.currentWidgetTemplate;e.html=e.htmlObj.content;e.css=e.cssObj.content;_.notifyWatchers("refreshPreview")});P.currentApItemObject&&(P.currentApItemObject.isDirty=P.currentWidgetTemplate.isDirty())}},250)};M.onDropIntoPropPanel=function(t,n,i){var r=i.data.mode||"add";var o=t.split(".")[1];var s=pt(bt());var a;if("add"===r){a=e.extend(true,{},n.definition);["data","sorting","header"].indexOf(a.type)>-1?l.addSection(s,a.type,a):"item"===o?l.addItem(s,a):s[a.type]=[]}else if("move"===r){a=e.extend(true,{},n.definition.item);l.moveItem(s,i.data.origScope.definition,a.parent,a.order,i.data.oldParent)}gt(s)};function pt(t){var e=t;t.settings&&t.settings.forEach(function(t,n){isNaN(e.settings[n].order)&&(e.settings[n].order=n);e.settings[n].parent||(e.settings[n].parent="settings")});return e}M.onEditComponent=function(t,e,n){if(I.panelEditor.editingComponent&&P.currentPropertyDefinition.ref===e.ref){I.panelEditor.editingComponent=false;P.currentPropertyDefinition=void 0;q.close()}else{P.currentPropertyDefinition=e;I.panelEditor.editingComponent=true;var i=ht(t,e);var r={ref:i.ref,componentType:t,element:i.element,definition:i.definition,isActive:n,properties:bt(),delete:function e(){vt(t,P.currentPropertyDefinition)},save:function e(n){ft(t,P.currentPropertyDefinition,n)},close:function t(){I.panelEditor.editingComponent=false;P.currentPropertyDefinition=void 0;q.close()}};q.show(r)}};function ft(t,e,n){var i=bt();switch(t){case"section-data":i.dimensions=n.dimensions;i.measures=n.measures;break;case"section-header":i.sections&&i.sections.forEach(function(t){t.ref===e.ref&&(t.label=n.label)});break;case"editable-item":var r=l.stripScope(e.ref);i.settings&&i.settings.forEach(function(t,e){t["ref"]===r&&(i.settings[e]=n)});break}gt(i)}function ht(t,n){var i={ref:"",element:false,definition:false};var r=bt();switch(t){case"section-data":i.ref=P.currentPropertyDefinition.ref;i.element=e("[tid='"+i.ref+"'] > .pp-section-header")[0];var s={ref:i.ref,label:o.get("Devhub.Data"),dimensions:r.dimensions?r.dimensions:{max:0,min:0},measures:r.measures?r.measures:{max:1,min:1}};i.definition=e.extend(true,{},s);break;case"section-sorting":i.ref=n.ref;i.element=e("[tid='"+i.ref+"'] > .pp-section-header")[0];i.definition={ref:i.ref,label:o.get("Devhub.Sorting")};break;case"section-header":i.ref=n.ref;i.element=e("[tid='"+i.ref+"'] > .pp-expandable-list-header")[0];i.definition=e.extend(true,{},n);break;case"editable-item":i.ref=P.currentPropertyDefinition.ref;i.element=e("[data-ref='"+P.currentPropertyDefinition.ref+"']")[0];i.definition=e.extend(true,{},P.currentPropertyDefinition);break}return i}function vt(t,e){var n=bt();switch(t){case"section-data":l.removeSection(n,e.ref);break;case"section-sorting":l.removeSection(n,e.ref);break;case"section-header":l.removeSection(n,t,e.ref);break;case"editable-item":l.removeItem(n,e);break}gt(n)}function gt(t){dt(t);P.currentWidgetTemplate.propertiesObj.isDirty=true;P.currentApItemObject.isDirty=true;M.onChange();A.$broadcast("refreshPropertyPanel")}function mt(t){P.currentWidgetTemplate.propertiesCache||(P.currentWidgetTemplate.propertiesCache=[]);P.currentWidgetTemplate.propertiesCache.push(e.extend(true,{},t))}function bt(){return P.currentWidgetTemplate.propertiesCache[P.currentWidgetTemplate.propertiesCache.length-1]}return{init:F,reload:B,openApp:W,isDirty:function t(){if(P.currentWidgetTemplate&&P.currentWidgetTemplate.isDirty)return P.currentWidgetTemplate.isDirty();return false},setProperties:function t(e){P.currentWidgetTemplate.properties=e},getPropertiesFromCache:bt,getProperty:function t(e){return P.currentWidgetTemplate.properties[e]},getCurrentWidgetTemplate:function t(){return P.currentWidgetTemplate},assets:P,permission:N,actions:M,getToolConfig:function t(){return C.getToolConfig()},save:U,saveAs:G,savePropertiesStatus:mt,insertIconsAndSnippets:K,createPreview:z,openCreateNewWidgetDialog:ot,openDeleteWidgetDialog:nt,createLibraryDialog:ct,openLibraryDialog:lt,openWelcomeDialog:Y,openRenameDialog:X}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){var e=["showtitles","title","subtitle","footnote"],n="header",i="data",r="sorting",o="settings",s="settings.";var a={};function l(t){if(t&&0===t.indexOf(s))return t.substring(9);return t}function c(t){if(t&&0!==t.indexOf(s))return s+t;return t}function u(t,e){var n=e.length;var i=0;var r=false;if(t){t.forEach(function(t){if(t.ref&&0===t.ref.indexOf(e)){var o=parseInt(t.ref.substring(n));o>i&&(i=o);a[e]&&o===a[e]+1&&(r=true)}});a[e]&&!r||(a[e]=i)}else a[e]=0;a[e]+=1;return e+a[e]}function d(t,e){t&&t.forEach(function(n,i){n["ref"]===e&&t.splice(i,1)})}function p(t,e){var n=-1;t&&t.some(function(t,i){if(t["ref"]===e){n=i;return true}});return n}function f(t){if(t.settings)return t.settings.sort(function(t,e){if(t.order===e.order)return 0;if(!t.order||t.order<e.order)return-1;return 1});return[]}function h(t,e){if(t.settings)return t.settings.filter(function(t){return(t.parent||o)===e}).sort(function(t,e){if(t.order===e.order)return 0;if(!t.order||t.order<e.order)return-1;return 1});return[]}function v(e){var n=t.extend(true,{},e);n.type=n.type||"string";n.label=n.label||n.ref;n.defaultValue=n.defaultValue||"boolean"!==n.type&&"";"string"!==n.type||n.component||(n.expression=n.expression||"optional");"text"===e.component?delete n.ref:n.ref=c(n.ref);return n}function g(t,e){var n={},i=h(t,e);i.forEach(function(t){n[t.ref]=v(t)});return n}function m(t){w(t,n,{ref:o})}function b(t,e){if(e===n)return true;if(e===i)return!y(t)&&!x(t);if(e===r)return(y(t)||x(t))&&true!==t.sorting;return false}function y(t){return void 0!==t.measures&&(t.measures.max>0||void 0===t.measures.max)}function x(t){return void 0!==t.dimensions&&(t.dimensions.max>0||void 0===t.dimensions.max)}function w(t,e,o){switch(e){case i:t.measures={min:1,max:1};break;case n:t.sections=t.sections||[];var s=o||{};s.type=e;s.ref=s.ref||u(t.sections,e);s.label=s.label||"Settings";t.sections.push(s);break;case r:t.sorting=true;break}}function q(t,e,n){if(e===i){delete t.measures;delete t.dimensions;delete t.sorting;return}if(e===r){delete t.sorting;return}"section-header"===e&&h(t,n).forEach(function(e){D(t,e)});d(t.sections,n)}function _(t,n){if(!n||"q"===n.substr(0,1).toLowerCase())return false;if(e.indexOf(n.toLowerCase())>-1)return false;var i=true;t.settings&&t.settings.forEach(function(t){t.ref===n&&(i=false)});return i}function C(t,e,n){e=e.item||e;t.settings||(t.settings=[]);t.sections||m(t);e.parent&&"general"!==e.parent||(e.parent=o);e.ref=e.ref||u(t.settings,"property");e.label=e.label||e.ref.substr(0,1).toUpperCase()+e.ref.substring(1);n||E(t,e);t.settings.push(e)}function S(t,e,n,i,r){e=e.item||e;e.ref=l(e.ref);var o=e.parent===n;"undefined"===typeof e.order&&(e.order=p(t.settings,e.ref));var s=e.order;e.parent=n;D(t,e,o,r);e.order=i-(e.order<i&&o?1:0);o&&E(t,e,false,s);C(t,e,o)}function D(t,e,n,i){e=e.item||e;d(t.settings,l(e.ref));n||E(t,e,true,null,i)}function E(t,e,n,i,r){var o=h(t,r||e.parent);isNaN(e.order)||e.order>o.length||e.order<0?e.order=o.length:n||"undefined"===typeof i?n?o.forEach(function(t){t.order>e.order&&t.order--}):o.forEach(function(t){t.order>=e.order&&t.order++}):i<e.order?o.forEach(function(t){t.order>i&&t.order<=e.order&&t.order--}):o.forEach(function(t){t.order>=e.order&&t.order<i&&t.order++})}function k(t){var e={};if(t&&t.properties){x(t.properties)&&(e.dimensions=t.properties.dimensions);y(t.properties)&&(e.measures=t.properties.measures)}return e}function T(t){var e={type:"items",component:"accordion",items:{}};if(t&&t.properties){var n=t.properties;if(y(n)||x(n)){e.items.data={uses:i,items:{measures:{disabledRef:""},dimensions:{disabledRef:""}}};n.sorting&&(e.items.sorting={uses:r})}e.items.settings={uses:"settings",items:{}};(!n.sections||n.sections.length<1)&&n.settings&&n.settings.length>0&&m(n);n.sections&&n.sections.length>0&&n.sections.forEach(function(t){e.items.settings.items[t.ref]={ref:t.ref,type:"items",label:t.label,items:g(n,t.ref)}})}return e}return{addScope:c,stripScope:l,canAddSection:b,addSection:w,removeSection:q,addItem:C,removeItem:D,moveItem:S,getData:k,getDefinition:T,isValidRef:_,getSectionItemsArr:h,getSectionsItemsArr:f}}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;!(i=[n(44),n(106)],r=function(t,e){var n={a:65,alt:18,b:66,backspace:8,c:67,ctrl:17,d:68,del:46,down:40,e:69,end:35,f:70,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,enter:13,esc:27,g:71,h:72,home:36,i:73,insert:45,j:74,k:75,l:76,left:37,m:77,n:78,o:79,p:80,pagedown:34,pageup:33,q:81,r:82,right:39,s:83,shift:16,space:32,t:84,tab:9,u:85,up:38,v:86,w:87,win:224,x:88,y:89,z:90,cmd:91,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:48,"*":106},i="qvKeyboardShortcuts",r=false,o;function s(){this.groups=[];this.shortcuts=[];this.timer={id:null};this.isReleased=true;this.currentEvent=void 0}s.prototype.createGroup=function(t,e){var n=this,i,r;for(r=0;r<this.groups.length;r++)if(this.groups[r].name===t){i=this.groups[r];break}if(!i){i={name:t,priority:e,active:false,shortcuts:[]};this.groups.push(i);this.groups.sort(function(t,e){return t.priority-e.priority})}return{registerKeys:function t(e,r,o){n.registerKeys(i,e,r,o)},unregisterKeys:function t(e,n){var r=i.shortcuts;for(var o=0;o<r.length;o++)if(r[o].keyCombo===e&&r[o].callback===n){r.splice(o,1);break}},on:function t(){n.activateGroup(i)},off:function t(){n.deactivateGroup(i)},delete:function t(){n.deactivateGroup(i);n.deleteGroup(i)}}};s.prototype.activateGroup=function(e){var n=this;e.active=true;if(!r){r=true;t(document).on("keydown."+i,function(t){n.handleEvent(t)})}};s.prototype.deactivateGroup=function(e){var n;e.active=false;n=this.groups.reduce(function(t,e){e.active&&t++;return t},0);if(0===n&&r){r=false;t(document).off("keydown."+i)}};s.prototype.deleteGroup=function(t){this.groups=this.groups.filter(function(e){return e!==t})};s.prototype.registerKeys=function(t,e,i,r){var o=e.toLowerCase().split("+"),s={keyCombo:e,ctrlKey:false,shiftKey:false,altKey:false,keyCode:null,name:"",callback:null,allowInAllContexts:!!(r&&"allowInInput"in r)&&r.allowInInput,preventDefault:!(r&&"preventDefault"in r)||r.preventDefault,delay:r&&"delay"in r?r.delay:250};for(var a in n)for(var l=0;l<o.length;l++){s.name=e.toLowerCase();s.callback=i;"ctrl"!==o[l]&&"cmd"!==o[l]||(s.ctrlKey=true);"alt"===o[l]&&(s.altKey=true);"shift"===o[l]&&(s.shiftKey=true);o[l]===a&&17!==n[a]&&16!==n[a]&&91!==n[a]&&18!==n[a]&&(s.keyCode=n[a])}t.shortcuts.push(s)};s.prototype.preventDefault=function(){this.currentEvent&&this.currentEvent.preventDefault()};s.prototype.handleEvent=function(t){var i=this;this.currentEvent=t;function r(e,r,s,a){var l,c;for(var u=0;u<i.groups.length;u++){l=i.groups[u];if(l.active)for(var d=l.shortcuts.length-1;d>=0;d--){c=l.shortcuts[d];if((c.keyCode===n["*"]||c.keyCode===a&&c.ctrlKey===e&&c.shiftKey===r&&c.altKey===s)&&!o(t,c))break}}}function o(t,n){var i=e.isInput(document.activeElement);return!(i&&!n.allowInAllContexts)&&s(t,n)}function s(t,e){e.preventDefault&&t.preventDefault();if("number"!==typeof i.timer.id){e.delay>0&&(i.timer.id=setTimeout(function(){a()},e.delay));if(true===e.callback(e,t)){a();return true}}}function a(){clearTimeout(i.timer.id);delete i.timer.id}t.shiftKey?!t.ctrlKey&&!t.metaKey||t.altKey?t.ctrlKey||t.metaKey||!t.altKey?r(false,true,false,t.which):r(false,true,true,t.which):r(true,true,false,t.which):!t.ctrlKey&&!t.metaKey||t.altKey?t.ctrlKey||t.metaKey||!t.altKey?r(false,false,false,t.which):r(false,false,true,t.which):r(true,false,false,t.which)};o=new s;return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(9),n(71),n(320),n(63),n(11),n(47),n(321)],r=function t(e,n,i,r,o,s,a){var l="de-senseclient-usagemetrics";var c=30;var u=o.getProductInfoSync();var d;var p;function f(t){return{productName:s.getValue(t,"composition.productName"),productId:s.getValue(t,"composition.senseId"),deploymentEnv:s.getValue(t,"composition.deploymentEnvironment")}}var t={_qm:null,_eventQueue:[],_enabled:true,init:function n(i,o,l){p=l;if(!r.getFlag("CLIENT_METRICS")||this._qm){this._enabled=!!r.getFlag("CLIENT_METRICS");return}var c=s.getRandomString(16);var f=(s.basePath||"/")+"qrs/datacollection/settings?";f+="xrfKey="+c;e.request({url:f,method:"GET",headers:{"Content-Type":"application/json","X-Qlik-XrfKey":c}}).then(function(e){if(false===s.getValue(e,"data.optIn",null)){t._enabled=false;return}h()}).catch(h);function h(){i.getAuthenticatedUser().then(function(e){var n="no-id";if("string"===typeof e&&e.toLowerCase().indexOf("userdirectory")>-1&&e.toLowerCase().indexOf("userid")>-1){var i=e.split(";").map(function(t){return t.split("=")}).reduce(function(t,e){return t.concat([e[1].trim()])},[]);var r=i[0]?i[0]:void 0;var o=i[1]?i[1]:void 0;var s=void 0!==r&&void 0!==o&&"none"===r.toLowerCase()&&0===o.toLowerCase().indexOf("anonymous");n=s?"anonymous_"+(1234567890*Math.random()).toString(32):r+"_"+o;n=a(n)}t._initQlikMetrics(n);t._processEventsInQueue()})}d=!o?this.customEvents.SENSE_CLIENT:o;var v={components:u.components,composition:u.composition};p&&(v.appInfo={isRtl:!!p.isRtl||false,theme:p.theme||"sense",published:!!p.published});this.trackEvent(this.customEvents.CLIENT_LOADED,v)},_initQlikMetrics:function e(n){t._qm=new i({apiKey:"Kt1Hy2dvEOa39mRMvSQLRaEOk7E6l28M229QmWt2",integrationId:l,productInfo:f(u)});t._qm.setPropOnEvents("userId",n);var r=u.components.filter(function(t){return"Client"===t.component})[0];r&&t._qm.setPropOnEvents("version",r.version);t._qm.start()},_processEventsInQueue:function t(){var e;while(this._eventQueue.length>0){e=this._eventQueue.shift();this._sendEvent(e.eventName,e.details)}},_sendEvent:function e(i,r){var o={currentState:n.state,currentView:n.view,details:r,appId:p?p.appId:""};t._qm.trackEvent(i,o,d)},trackEvent:function e(n,i){if(!this._enabled)return;t._qm?this._sendEvent(n,i):this._eventQueue.length<c&&this._eventQueue.push({eventName:n,details:i})},customEvents:{CLIENT_LOADED:"client_loaded",SENSE_CLIENT:"sense-client",CLIENT_VIEW_LOADED:"client_view_loaded",CLIENT_STATE_LOADED:"client_state_loaded",DATA_LOAD_CLICK:"data_load_click",DATA_LOAD_EDITOR:"data_load_editor",DATA_LOAD_ELAPSED_TIME:"data_load_elapsed_time",DATA_MANAGER_LOAD:"data_manager_load",TABLE_VIEW_CLICK:"table_view_click",BUBBLE_VIEW_CLICK:"bubble_view_click",LOAD_DATA_CLICK:"load_data_click",REFRESH_DATA_FROM_SOURCE:"refresh_data_from_source",ADD_DATA_BY_CONNECTOR:"add_data_by_connector",ADD_DATA_BY_CONNECTOR_SCRIPT_EDITOR:"add_Data_by_connector_script_editor",FOLDER_CLICK:"folder_click",CONNECTOR_CLICKED:"connector_clicked",DEV_HUB:"dev-hub",PAGE_RENDER_ERROR:"page_render_error",VIEW_LOAD_ERROR:"view_load_error",VIEW_RENDER_ERROR:"view_render_error",EXTENSION_LOAD_ERROR:"extension_load_error",INSIGHTS_CLICKED:"insights_clicked",INSIGHTS_SEARCH:"insights_search",INSIGHTS_ADD_CHART:"insights_add_chart",INSIGHTS_EXPORT:"insights_export",INSIGHTS_FIELD_PICKER:"insights_field_picker",INSIGHTS_FLIP_TO_TABLE:"insights_flip_to_table",GLOBAL_SELECTIONS_CLICKED:"global_selections_clicked",EXPLORE_SELECTIONS_OPENED:"explore_selections_opened",ASSOCIATIVE_INSIGHTS_GENERATED:"associative_insights_generated",NEW_SELECTION_MADE:"new_selection_made",NEW_MEASURE_CHOSEN:"new_measure_chosen",ASSOCIATIVE_INSIGHTS_CARD_CLICKED:"associative_insights_card_clicked",SELECT_POSSIBLE_CLICKED:"select_possible_clicked",SELECT_EXCLUDED_CLICKED:"select_excluded_clicked",INSIGHTS_CONFIDENCE_INDICATOR_CLICKED:"confidence_indicator_clicked",INSIGHTS_HIDE_CHART_CLICKED:"hide_chart_clicked",INSIGHTS_HELP_US_LEARN_CLICKED:"insights_help_us_learn_clicked",INSIGHTS_NOT_A_DIMENSION_CLICKED:"insights_not_a_dimension_clicked",INSIGHTS_NOT_A_MEASURE_CLICKED:"insights_not_a_measure_clicked",INSIGHTS_NEVER_PROPOSE_FIELD_CLICKED:"insights_never_propose_field_clicked",INSIGHTS_NEVER_PROPOSE_LIB_CLICKED:"insights_never_propose_lib_clicked",INSIGHTS_PROPOSE_FIELD_AGAIN_CLICKED:"insights_propose_field_again_clicked",INSIGHTS_LIGHT_EDITING_DRAG_AND_DROP:"insights_light_editing_drag_and_drop",INSIGHTS_LIGHT_EDITING_AGGREGATION_CHANGE:"insights_light_editing_aggregation_change",INSIGHTS_LIGHT_EDITING_FIELD_CHANGE:"insights_light_editing_field_change",STU_SET_NULLS_CLICK:"stu_set_nulls_click",STU_REPLACE_CLICK:"stu_replace_click",STU_REORDER_CLICK:"stu_reorder_click",STU_SPLIT_CLICK:"stu_split_click",STU_BUCKETING_CLICK:"stu_bucketing_click",GETTING_STARTED_QUICK_DATA_LOAD:"getting_started_quick_data_load",GETTING_STARTED_DATA_LOAD_EDITOR:"getting_started_data_load_editor",DATA_MANAGER_TABLES_COUNT:"data_manager_tables_count",DATA_MANAGER_TIME_SPENT:"data_manager_time_spent",APPLY_UNPIVOT:"apply_unpivot",ADD_CALCULATED_FIELD:"add_calculated_field",CONCATENATE_TABLES:"concatenate_tables",DATA_MODEL_VIEWER:"data_model_viewer",DATA_MODEL_VIEWER_LOAD:"data_model_viewer_load",DATA_LOAD_WITHOUT_TRANSFORMATION:"data_load_without_transformation",CHART_CREATED:"chart_created",CHART_DELETED:"chart_deleted",SHEET_RENDERED:"sheet_rendered",EXTENSION_PAINT_ERROR:"extension_paint_error",DOWNLOAD_DIALOG_OPEN:"download_dialog_open",DOWNLOAD_CONFIRMED:"download_confirmed"}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(46),n(11)],r=function(t,e){var n=e.getProductInfoSync();var i=n.externalUrls;t.ready.then(function(){i.serverHelpBaseUrl=i.serverHelpBaseUrl.replace("{language}",t.language);i.personalHelpBaseUrl=i.personalHelpBaseUrl.replace("{language}",t.language)});Object.defineProperty(i,"gettingStarted",{get:function e(){return i.qlikWebPageUrl+"/"+t.language+"-sense-gettingstarted"}});return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){return!!t.qTags&&-1!==t.qTags.indexOf("$dd_measure")}function e(t){return!!t.qTags&&-1!==t.qTags.indexOf("$dd_details")}function n(t){return!!t.qTags&&-1!==t.qTags.indexOf("$dd_dimension")}function i(t){return!!t.qTags&&-1!==t.qTags.indexOf("$directdiscovery")}function r(n){var i=n;n&&(i=n.filter(function(n){return!t(n)&&!e(n)}));return i}function o(i){var r="";var o={qTags:i};t(o)?r="DirectDiscovery.Measure":e(o)?r="DirectDiscovery.Details":n(o)&&(r="DirectDiscovery.Dimension");return r}return{isMeasure:t,isDetails:e,isDimension:n,removeMeasureAndDetailsFields:r,getTypeTranslationKey:o,isDirectDiscoveryField:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t=".autoCalendar";function e(e){var n=e?e.split(t).join(""):"";return n}return{trimAutoCalendarName:e}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45)],r=function(t,e){return{get:function n(i){var r=i?e.resolve(i.enigmaModel):t.getApp();return r.then(function(t){return t.getCurrentSelectionObject()})}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(45),n(145),n(50)],r=function(t,e,n,i){function r(t){var e=i.getValue(t,"selections.currentDataColIx",void 0);return i.getValue(t,"layout.qHyperCube.qDimensionInfo."+e+".qIsOneAndOnlyOne",false)}var o=t.extend({$scope:null,init:function t(e){this.$scope=e},onPaint:function t(){return e.resolve()},onResize:function t(){return e.resolve()},setInteractionState:function t(){},setFreeResize:function t(){},setDirection:function t(){},setSnapshotData:function t(){},setBackendApi:function t(){},getContextMenu:function t(){},getObjectMenu:function t(){},getSelectionToolbar:function t(){var e=[];r(this.$scope)||e.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function t(){this.selectionsApi.clear()},isDisabled:function t(){return!this.selectionsApi.selectionsMade}});return new n(this.$scope.backendApi,this.$scope.selectionsApi,false,false,e,[])},getPreferredSize:function t(){},onInit:function t(){return e.resolve()}});o.$inject=["$scope"];return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(460),n(461)],r=function(t,e){t.directive("objectAddTypeahead",[function(){return{template:e,scope:{},transclude:true,replace:true,restrict:"E",controller:["$scope",function(t){var e=this;t.items=[];function n(){var e=t.menu;if(t.activeItem){var n=t.activeItem;var i=n.getPosition();i.top<0?e.setScrollTop(n.getOffsetTop()):i.top+n.getHeight()>e.getHeight()&&n.scrollIntoView(false)}else e.setScrollTop(0)}this.activate=function(e){t.activeItem=e};this.nextItem=function(i){var r=t.items.indexOf(t.activeItem);"undefined"!==typeof i&&(r=(r+i)%t.items.length);r===t.items.length-1?e.activate(null):-1===r?e.activate(t.items[0]):e.activate(t.items[r+1]);n()};this.prevItem=function(i){var r=t.items.indexOf(t.activeItem);"undefined"!==typeof i&&(r=(r-i+t.items.length)%t.items.length);0===r?e.activate(null):-1===r?e.activate(t.items[t.items.length-1]):e.activate(t.items[r-1]);n()};this.getActiveItem=function(){return t.activeItem};this.selectActiveItem=function(){t.activeItem&&t.activeItem.select()};this.select=function(e){t.select({item:e});t.activeItem=null};this.setMenu=function(e){t.menu=e};this.addItem=function(e){t.items.push(e)};this.removeItem=function(e){var n=t.items.indexOf(e);n>=0&&t.items.splice(n,1)}}]}}]);t.directive("objectAddTypeaheadInput",[function(){return{require:["^objectAddTypeahead","ngModel"],link:function t(e,n,i,r){var o=r[0],s=r[1];n.on("keydown",function(t){t.stopPropagation();if(13===t.which||9===t.which){t.preventDefault();o.getActiveItem()?e.$apply(function(){o.selectActiveItem()}):e.$apply(function(){e.$eval(i.onEnter,{$event:t})})}else if(33===t.which){t.preventDefault();e.$apply(function(){o.prevItem(10)})}else if(34===t.which){t.preventDefault();e.$apply(function(){o.nextItem(10)})}else if(40===t.which){t.preventDefault();e.$apply(function(){o.nextItem()})}else if(38===t.which){t.preventDefault();e.$apply(function(){o.prevItem()})}else if(27===t.which){t.preventDefault();e.$apply(function(){e.$eval(i.onEscape,{$event:t})})}});e.$watch(o.getActiveItem,function(t){t?t.item.label&&n.val(t.item.label):n.val(s.$modelValue)});e.$watch(s.$modelValue,function(t){t||o.activate(null)})}}}]);t.directive("objectAddTypeaheadMenu",[function(){return{require:"^objectAddTypeahead",link:function t(e,n,i,r){e.controller=r;r.setMenu({getHeight:function t(){return n.height()},setScrollTop:function t(e){n[0].scrollTop=e}})}}}]);t.directive("objectAddTypeaheadItem",[function(){return{require:"^objectAddTypeahead",link:function t(e,n,i,r){var o=e.$eval(i.objectAddTypeaheadItem);var s={item:o,getOffsetTop:function t(){return n[0].offsetTop},scrollIntoView:function t(e){n[0].scrollIntoView(e)},getPosition:function t(){return n.position()},getHeight:function t(){return n.height()},select:function t(){a()}};function a(){e.$eval(i.onSelect,{item:o})}r.addItem(s);e.$on("$destroy",function(){r.removeItem(s)});e.$watch(function(){var t=r.getActiveItem();if(t)return t.item===o;return false},function(t){t?n.addClass("object-add-typeahead-active"):n.removeClass("object-add-typeahead-active")});n.on("mouseenter",function(){n.addClass("object-add-typeahead-hover")});n.on("mouseleave",function(){n.removeClass("object-add-typeahead-hover")});n.on("qv-activate",function(t){t.preventDefault();e.$apply(function(){a()})})}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(48),n(55),n(46),n(45),n(217),n(465),n(113),n(143),n(67),n(218)],r=function(t,e,n,i,r,o,s,a,l,c){function u(t){return t.qErrorCode===l.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function d(t){return t.qErrorCode===l.NxLocalizedErrorCode.LOCERR_CALC_NOT_CALCULATED}function p(t,e){var n={holder:null,type:""};var i=e&&t[e]?t[e].qHyperCube:t.qHyperCube;if(i&&i.qError){n.holder=i;n.errorTranslationFunc=a.getHyperCubeError}else if(t.layers&&t.layers.length&&t.layers[0].qHyperCube){t.layers[0].qHyperCube.qError?n.holder=t.layers[0].qHyperCube:t.layers[0].geodata.qHyperCube.qError&&(n.holder=t.layers[0].geodata.qHyperCube);n.errorTranslationFunc=a.getHyperCubeError}else if(t.qListObject&&t.qListObject.qError){n.holder=t.qListObject;n.errorTranslationFunc=a.getListObjectError}else if(t.qListObject.qDimensionInfo&&t.qListObject.qDimensionInfo.qError.qErrorCode){n.holder=t.qListObject.qDimensionInfo;n.errorTranslationFunc=a.getDimensionError}return n}function f(t){var e=t.qError.qErrorCode;switch(e){case l.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED:return c.getLayoutMsg(t)||""}if(t.qError.qContext){var i=[t.qError.qContext];return n.get("ErrorCode."+e,i)}}var h=s.extend({$scope:null,init:function n(i){this.$scope=i;i.hasSoftError=false;i.hasHardError=false;i.showMore=function(n){var o=t.element("<div>").appendTo("body");o.showComponent(r,{alignTo:t.element(n.target),error:i.error,onClose:function t(){o.remove();e.preventGestures()}})}},onPaint:function t(){var e=this.$scope,r;var o=e.object.error;if(!o){var s=e.layout;var a=e.object.ext&&e.object.ext.options?e.object.ext.options.hyperCubePath:"";var l=p(s,a);if(l.holder){r=f(l.holder)||l.errorTranslationFunc(l.holder.qError.qErrorCode);o=u(l.holder.qError)?{class:"soft-error",message:r}:{class:"hard-error",title:n.get("Object.Error"),message:r}}}e.error=o;return i.resolve()}});h.$inject=["$scope"];return{template:o,controller:h,isCalcCondNotCalculatedErr:d}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(48),n(52),n(498),n(117),n(118)],r=function(t,e,n,i,r){var o=function o(){return{restrict:"EA",transclude:true,replace:true,scope:{data:"="},template:r,link:function r(o,s,a){o.scroll=!a.qScroll||a.qScroll;o.$watch(function(){return s.attr("q-scroll")},function(t,e){t!==e&&(o.scroll=t)});var l={dragSpeedModifier:1,namespace:"dev-hub-scrollbar"},c=n.element(s[0].querySelector(".qw-scroll-cnt")),u=n.element(s[0].querySelector(".qw-scroll-scrlb-cnt")),d=n.element(u.children()[0]),p=n.element(s[0].querySelector(".qw-scroll-wrapper")),f=s[0].offsetHeight,h=0,v=0,g=false,m=c.parent(),b=t.getService("qwDragScrollService"),y=t.getService("qwUiEventsService"),x=-1!==window.navigator.userAgent.toLowerCase().indexOf("firefox");m.css({"-ms-overflow-style":"none",overflow:"hidden"});d.css({width:"7px",right:"0","border-radius":"0",opacity:"0"});m.on("scroll",function(){var t=m.scrollTop();d.css("top",t/l.dragSpeedModifier+"px")});var w=i.debounce(function(){c.css("height","auto");f=s[0].offsetHeight;v=c[0].scrollHeight||0;c.css("height",v+"px");if(f>v){v=f;e(s).attr("isscrollable","false");x||p.css("overflow","hidden");d.css("cursor","default")}else{e(s).attr("isscrollable","true");x||p.css("overflow","auto");d.css("cursor","pointer")}h=f/v*f;l.dragSpeedModifier=Math.max(1,(v-f)/(f-h));b.set("config","dragSpeedModifier",l.dragSpeedModifier,s&&s.scope()?s.scope().$id:null);d.css("height",h+"px");d.css("transition","opacity .3s ease-in-out, border-radius .1s linear, width .1s linear, right .1s linear");c[0].scrollHeight<=f?d.css("opacity",0):d.css("opacity",1)},200,o);c.on("DOMNodeInserted",w);c.on("DOMNodeRemoved",w);n.element(window).on("resize",function(){w()});window.navigator.userAgent.toLowerCase().indexOf("firefox")>=0&&c.on("wheel",function(t){b.setVars(o.$id);t.preventDefault();void 0!==t.originalEvent&&(t=t.originalEvent);var e=t.deltaY;b.scrollDelta(40*e);return false});d.on("mousedown",function(t){b.setNewVar(o.$id);b.set("vars",o.$id,p,"scrollContainer");b.set("vars",o.$id,{x:t.clientX,y:t.clientY},"eventStartOffset");b.set("vars",o.$id,m.scrollTop(),"scrollTop",true);g=true;var n=[document],i=e("iFrame");i.length>0&&n.push(i[0].contentWindow);y.registerEvent({element:n,type:["move"],namespace:l.namespace,uiEventHandler:function t(e){b.scrollTotal(e,l.dragSpeedModifier)}});y.registerEvent({element:n,type:["end"],namespace:l.namespace,uiEventHandler:function t(){g=false;d.css("opacity",0);y.unregisterEvent({element:n,type:["move"],namespace:"dev-hub-scrollbar"})}})});y.registerEvent({element:s,type:["enter"],namespace:l.namespace,uiEventHandler:function t(){if(b.get("vars",o.$id,"dragClone"))return;b.set("vars",o.$id,p,"scrollContainer");f=s[0].offsetHeight;c[0].scrollHeight>f&&setTimeout(function(){d.css("opacity",1)},200)},unique:true});y.registerEvent({element:s,type:["leave"],namespace:l.namespace,uiEventHandler:function t(){g||d.css("opacity",0)}});w();o.$watch(function(){return s.is(":visible")},function(t,e){if(t!==e&&true===t){f=s[0].offsetHeight;w();m.scrollTop(0)}});o.$watch(function(){return c.children().height()},function(t,e){t!==e&&w()})}}};t.directive("qScroll",o)}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44)],r=function(t,e){t.service("qwUiEventsService",[function(){var t={pointerEnabled:window.PointerEvent||window.MSPointerEvent};function n(t){if(t.element&&t.uiEventHandler&&t.type){var n=e(t.element).attr("devhub-uievents-locked")||"",i=t.type,o="devhub-uievents",s=t.element;t.eventNames="";t.data||(t.data={});t.unique||(t.unique=false);t.once||(t.once=false);t.locked||(t.locked=false);"string"===typeof t.namespace&&""!==t.namespace&&(o=t.namespace);"string"===typeof i?i=[i]:i;"string"!==typeof s&&s.length||(s=[s]);e(i).each(function(i,s){if(!n||-1===n.indexOf(s)){t.eventNames+=r(s,o)+" ";if(t.locked&&true===t.locked){if(""!==n){n=n.split(",");n.push(s);n=n.join()}else n=s+"."+o;e(t.element).attr("devhub-uievents-locked",n)}}});if(t.eventNames&&""!==t.eventNames){t.data||(t.data={});t.unique&&true===t.unique&&e(t.element).off(t.eventNames);e.each(s,function(n,i){var r={};e.extend(true,r,t.data);r.element=i;t.once?e(i).one(t.eventNames,r,function(e){t.uiEventHandler(e)}):e(i).on(t.eventNames,r,function(e){e.originalEvent?r.clientPos={clientX:e.originalEvent.clientX?e.originalEvent.clientX:e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientX:0,clientY:e.originalEvent.clientY?e.originalEvent.clientY:e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].clientY:0}:r.clientPos={clientX:e.clientX,clientY:e.clientY};t.uiEventHandler(e)})});return true}}return false}function i(t){var n,i,o,s;if(t.element&&t.type){n=t.element;i=t.type;s="";o=t.namespace;"string"!==typeof n&&n.length||(n=[n]);"string"!==typeof i&&i.length||(i=[i]);o&&""!==o||(o="devhub-uievents");e(i).each(function(t,e){s+=r(e,o)+" "});e(n).each(function(t,n){e(n).off(s)});return true}return false}function r(e,n){var i="";switch(e.toString().toLowerCase()){case"start":i=t.pointerEnabled?"pointerdown."+n+" MSPointerDown."+n+" touchstart."+n:"mousedown."+n+" pointerdown."+n+" MSPointerDown."+n+" touchstart."+n;break;case"end":i=t.pointerEnabled?"pointerup."+n+" MSPointerUp."+n+" touchend."+n:"mouseup."+n+" pointerup."+n+" MSPointerUp."+n+" touchend."+n;break;case"move":i=t.pointerEnabled?"pointermove."+n+" MSPointerMove."+n+" touchmove."+n:"mousemove."+n+" pointermove."+n+" MSPointerMove."+n+" touchmove."+n;break;case"enter":i=t.pointerEnabled?"pointerenter."+n+" MSPointerOver."+n+" touchenter."+n:"mouseenter."+n+" pointerenter."+n+" MSPointerOver."+n+" touchenter."+n;break;case"leave":i=t.pointerEnabled?"pointerleave."+n+" MSPointerOut."+n+" touchleave."+n:"mouseleave."+n+" pointerleave."+n+" MSPointerOut."+n+" touchleave."+n;break;default:i=e.toString()+"."+n;break}return i}return{registerEvent:n,unregisterEvent:i}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(44),n(46),n(117)],r=function(t,e,n){t.service("qwDragScrollService",[function(){var i={config:{threshold:5,dragSpeedModifier:{}},vars:{default:{dragClone:null,$dragClone:null,offset:{x:0,y:0,left:0,top:0},iFrameBoundClientRect:{},startEvent:false,dragOrScroll:0,eventStartOffset:{x:0,y:0},scrollTop:0,scrollContainer:null,iFrame:null,isScrollable:false,$scrlbCnt:null,$scrlb:null,currentDragSpeedMod:1}}},r=i.vars.default,s=i.config,a=t.getService("qwUiEventsService");var l=false;function c(t,e,n,r,o,s){if(!s&&"vars"===t&&!i.vars[e]){d(e,n,r);return}if(r){i[t][e]||(i[t][e]={});i[t][e][r]=n}else i[t][e]=n;o&&p(e)}function u(t,e,n){var r=false;n?i[t][e]&&(r=i[t][e][n]):r=i[t][e];return r}function d(t,e,n){var r=JSON.parse(JSON.stringify(u("vars","default")));e&&n&&(r[n]=e);c("vars",t,r,null,null,true);return i.vars[t]}function p(t){r=i.vars[t]?i.vars[t]:d(t)}function f(t){if(!t.element)return false;t.service=t.service?t.service:"";t.call=t.call?t.call:"";t.startDragCall=t.startDragCall?t.startDragCall:"";t.endDragCall=t.endDragCall?t.endDragCall:"";t.containers=t.containers?t.containers:[document];t.dragClass=t.dragClass?t.dragClass:"qv-draggable";t.classes=t.classes?t.classes:[".qvdropzone"];t.type=t.type?t.type:"visualization";t.namespace=t.namespace?t.namespace:"dev-hub";t.disabledTouchClasses=t.disabledTouchClasses?t.disabledTouchClasses:[];t.hideScrollBars=t.hideScrollBars||false;t.containerClass=t.containerClass||".qw-list.qw-object-list";t.toolService=t.toolService||"";t.dropService=t.dropService||"";t.mode=t.mode||"add";var n=-1,o={},l=e(t.element),c=t.containerElement?t.containerElement:l.closest(t.containerClass),u=c.scope().$id;p(u);n=e.inArray("iframe",t.containers);r.iFrame=-1!==n;a.registerEvent({element:t.element,type:"mousewheel DOMMouseScroll",namespace:t.namespace,uiEventHandler:function t(){"true"===c.attr("isscrollable")&&r.scrollContainer&&r.scrollContainer.css("overflow","auto")},unique:true});a.registerEvent({element:t.element,type:"start",namespace:t.namespace,uiEventHandler:function d(p){var f=!!("UL"===t.element.nodeName&&l.hasClass("devhub-draggable")||l.find("ul").hasClass("devhub-draggable")),v=[document],m=c.scope().$id,b=!(!f||!e(p.srcElement||p.originalEvent.srcElement||p.originalEvent.explicitOriginalTarget).hasClass("qv-draggable"));var y=e(p.originalEvent.srcElement||p.originalEvent.originalTarget);r=i.vars[u];r.isScrollable="true"===c.attr("isscrollable");r.scrollContainer=e(t.element).closest(".qw-scroll-wrapper");r.startEvent=true;r.dragOrScroll=0;r.eventStartOffset={y:p.originalEvent.changedTouches?p.originalEvent.changedTouches[0].clientY:p.originalEvent.clientY,x:p.originalEvent.changedTouches?p.originalEvent.changedTouches[0].clientX:p.originalEvent.clientX};r.currentDragSpeedMod=s.dragSpeedModifier[m]?s.dragSpeedModifier[m]:1;t.dragCloneDef&&(r.dragCloneDef=t.dragCloneDef);if(r.scrollContainer.length>0){r.scrollContainer.css("overflow","hidden");r.scrollTop=r.scrollContainer.scrollTop()}if(!r.isScrollable&&!f)return;!r.isScrollable&&f&&(r.dragOrScroll=2);if(r.isScrollable&&!f){r.dragOrScroll=1;r.scrollContainer.length>0&&-1===window.navigator.userAgent.toLowerCase().indexOf("firefox")&&r.scrollContainer.css("overflow","auto")}if(f){e(t.containers).each(function(t,i){o[t]=e(t===n?e(i)[0].contentWindow.document:i)});"mousedown"!==p.originalEvent.type&&"mouse"!==p.originalEvent.pointerType&&4!==p.originalEvent.pointerType||(r.dragOrScroll=2)}if(r.isScrollable){r.$scrlbCnt=c.find(".qw-scroll-scrlb-cnt");r.$scrlb=e(r.$scrlbCnt.children()[0])}r.iFrame&&v.push(e("iFrame")[0].contentWindow);if(r.isScrollable&&!f&&("mousedown"===p.originalEvent.type||"mouse"===p.originalEvent.pointerType||4===p.originalEvent.pointerType))return;a.registerEvent({element:v,type:"move",uiEventHandler:function e(n){h({event:n,namespace:t.namespace,containers:o,classes:t.classes,type:t.type,call:t.call,startDragCall:t.startDragCall,dragClass:t.dragClass,service:t.service,notify:t.notify,hideScrollBars:t.hideScrollBars,toolService:t.toolService,dropService:t.dropService,mode:t.mode,elements:v})},unique:true,namespace:t.namespace});e(t.disabledTouchClasses).each(function(t,n){e(document).find(n).each(function(t,n){e(n).css({"pointer-events":"none","touch-action":"none","ms-touch-action":"none"})})});a.registerEvent({element:v,type:["end"],namespace:t.namespace,uiEventHandler:function n(){r.startEvent=false;r.scrollContainer&&r.scrollContainer.length>0&&r.scrollContainer.css("overflow","hidden");if(r.dragClone){r.$dragClone.remove();r.dragClone=null;r.$dragClone=null;t.hideScrollBars&&e.each(t.hideScrollBars,function(t,n){e(n).css("overflow","auto")});x({containers:o,classes:t.classes});a.unregisterEvent({element:[document,e("iframe").contents()[0]],type:["end"],namespace:t.namespace});if(b&&t.notify){var i=t;if("string"!==typeof t.notify.type){i=e.extend(true,{},t);y.is(i.notify.type.selector)&&y.hasClass(i.notify.type.class)&&i.notify.type.replace&&(i.notify[i.notify.type.replace]=y.attr("type"))}g(i)}}},unique:true,once:true})},unique:true});return true}function h(t){if(true===r.startEvent)if(r.dragClone)t.event.data.element.defaultView&&t.event.data.element.defaultView.self===window.top?r.$dragClone.css("transform","translate("+(t.event.data.clientPos.clientX-r.offset.x)+"px, "+(t.event.data.clientPos.clientY-r.offset.y)+"px)"):r.$dragClone.css("transform","translate("+(t.event.originalEvent.clientX-r.offset.x+r.iFrameBoundClientRect.left)+"px, "+(t.event.originalEvent.clientY-r.offset.y+r.iFrameBoundClientRect.top)+"px)");else switch(r.dragOrScroll){case 0:r.dragOrScroll=b(t.event);break;case 1:r.scrollContainer.css("overflow","auto");q(t.event);break;case 2:var n=t.event,i=null,o=null,s=t;r.scrollContainer.css("overflow","hidden");t.event.originalEvent&&(n=t.event.originalEvent);i=n.srcElement||n.originalTarget;o=e(i);if(!o.hasClass(t.dragClass)){r.startEvent=false;return}if(t.notify){if("string"!==typeof t.notify.type){s=e.extend(true,{},t);o.is(s.notify.type.selector)&&o.hasClass(s.notify.type.class)&&(s.notify[s.notify.type.replace]=o.attr("type"))}g(s)}if(!r.dragClone){r.isScrollable&&r.$scrlb.css("opacity","0");var l="LI"===i.nodeName?o:o.parents().closest("li"),c=l.offset();if(r.dragCloneDef){l=i.nodeName===r.dragCloneDef.nodeName&&o.hasClass(r.dragCloneDef.hasClass)?o:o.parents().closest("div"+r.dragCloneDef.hasClass);c=l.offset()}r.iFrame&&(r.$iFrame=e("iframe"));if(!c)return;t.hideScrollBars&&e.each(t.hideScrollBars,function(t,n){e(n).css("overflow","hidden")});r.offset.x=(n.clientX||n.changedTouches[0].clientX)-c.left;r.offset.y=(n.clientY||n.changedTouches[0].clientY)-c.top;y({containers:t.containers,classes:t.classes,service:t.service,call:t.call,type:t.type,toolService:t.toolService,dropService:t.dropService,mode:t.mode,event:t.event,elements:t.elements});r.$iFrame&&(r.iFrameBoundClientRect=r.$iFrame[0].getBoundingClientRect());m({ele:l[0],event:n})}break}else{var u=[document];var d=e("iFrame")[0];d&&u.push(d.contentWindow);a.unregisterEvent({element:u,type:"move",namespace:t.namespace})}}function v(t){if("string"===typeof t)return{notify:t,data:""};Array.isArray(t);if("object"===o(t)){var n=[],i={notify:"",data:{}};e.each(t,function(t,e){"notify"===t?i.notify=e:i.data[t]=e});n.push(i);return n}}function g(n){var i=t.getService(n.service);n.mode&&(n.notify.mode=n.mode);var r=v(n.notify);i["notify"]&&e.each(r,function(t,e){i["notify"](e.notify,e.data,true)})}function m(t){if(r.dragClone){r.$dragClone.remove();r.dragClone=null;r.$dragClone=null}r.dragClone=t.ele.cloneNode(true);r.$dragClone=e(r.dragClone);r.$dragClone.attr("id","draggable");var n=e(t.ele).attr("ng-repeat").split(" ")[0];s.scope=e(t.ele).scope()[n];var i=t.event.srcElement||t.event.originalTarget;r.$dragClone.css({position:"absolute","z-index":99998,top:"0px",left:"0px",height:i.clientHeight-5+"px",width:i.clientWidth-6+"px",transform:"translate("+((t.event.clientX||t.event.changedTouches[0].clientX)-r.offset.x)+"px, "+((t.event.clientY||t.event.changedTouches[0].clientY)-r.offset.y)+"px)",opacity:1,"pointer-events":"none"});r.$dragClone.addClass("ui-draggable-dragging");e("body").append(r.$dragClone);return true}function b(t){var e=t.clientX?t.clientX:t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientX:t.originalEvent.clientX,n=t.clientY?t.clientY:t.originalEvent.changedTouches?t.originalEvent.changedTouches[0].clientY:t.originalEvent.clientY,i=Math.abs(e-r.eventStartOffset.x),o=Math.abs(n-r.eventStartOffset.y);if(i>=s.threshold||o>=s.threshold)return o/i>=1?1:2;return 0}function y(t){if(t&&t.containers&&t.classes&&t.service&&t.call&&t.type){e.each(t.containers,function(i,r){e.each(t.classes,function(i,o){var s=o;if(Array.isArray(o)){s=o[0];o=o[1]}e(r).find(s).each(function(i,r){a.registerEvent({element:r,type:["enter","leave"],namespace:"devhub-uievents-drophover",uiEventHandler:function i(a){if(s===o){e(r).toggleClass("draggedover");e(r).prev(".empty-header-msg").toggleClass("hide-text")}else{e(r).closest(o).toggleClass("draggedover");e(r).closest(o).prev(".empty-header-msg").toggleClass("hide-text")}e(".draggedover").attr({text:n.get("Devhub.PlaceHere")});w(a,t.service,t.call,t.type,t.toolService,t.mode)},unique:true})})});l=t.event.originalEvent&&t.event.originalEvent.changedTouches&&navigator.vendor&&navigator.vendor.toLowerCase().indexOf("google")>-1&&navigator.userAgent.toLowerCase().indexOf("chrome/")>-1;if(l){var o=0,s=0,c={},u={},d=document;if(r[0]&&r[0].defaultView&&r[0].defaultView!==window.top){r=document;c=e("iframe");u=c.offset();o=u.left;s=u.top;e(c[0].contentWindow.document).find(".icon-drophere").css("pointer-events","none");d=c[0].contentWindow.document}a.registerEvent({element:r,type:"touchmove",uiEventHandler:function i(r){t.classes.forEach(function(i){var a=i,l=i,c={};if(Array.isArray(i)){a=i[0];l=i[1]}a=a.substr(1);if(r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]){var u=d.elementFromPoint(r.originalEvent.changedTouches[0].clientX-o,r.originalEvent.changedTouches[0].clientY-s);if(u&&u.classList&&u.classList.contains(a))e(d).find("."+a).each(function(i,o){if(o===u){c="."+a===l?e(o):e(o).closest(l);c.addClass("draggedover");c.attr({text:n.get("Devhub.PlaceHere")})}var s=e.extend(r,{});s.currentTarget=u;w(s,t.service,t.call,t.type,t.toolService,t.mode,false,c)});else{e(d).find(l).each(function(t,e){e.classList.remove("draggedover")});w(r,t.service,t.call,t.type,t.toolService,t.mode,true)}}})},unique:true,namespace:t.namespace})}});return true}return false}function x(t){if(t&&t.containers&&t.classes){e.each(t.containers,function(n,i){e.each(t.classes,function(t,n){e(i).find(n).each(function(t,n){e(n).off("mouseenter.devhub-uievents-drophover pointerenter.devhub-uievents-drophover touchenter.devhub-uievents-drophover mouseleave.devhub-uievents-drophover pointerleave.devhub-uievents-drophover touchleave.devhub-uievents-drophover")})})});return true}return false}function w(n,i,r,o,c,u,d,p){if(""===r)return;if(!d&&("mouseenter"===n.type||"pointerenter"===n.type||"MSPointerEnter"===n.type||"touchenter"===n.type||l&&"touchmove"===n.type))a.registerEvent({element:l&&"touchmove"===n.type?document:n.currentTarget,type:["end"],namespace:"devhub-uievents-drop",uiEventHandler:function n(d){var f=t.getService(i);var h=e(d.currentTarget);d.data.toolService=c;d.data.mode=u;l&&d.originalEvent&&d.originalEvent.changedTouches&&(h=p||e(document.elementFromPoint(d.originalEvent.changedTouches[0].clientX,d.originalEvent.changedTouches[0].clientY)));f[r](o,s.scope,h.attr("data-id")||h.attr("id")||h.attr("tid"),d);s.scope=null;e(d.currentTarget).removeClass("draggedover");a.unregisterEvent({element:l&&"touchmove"===d.type?document:d.currentTarget,type:["end"],namespace:"devhub-uievents-drop"})},unique:true,once:true});else{d&&l&&"touchmove"===n.type&&a.unregisterEvent({element:document,type:["end"],namespace:"devhub-uievents-dropchrometouch"});a.unregisterEvent({element:n.currentTarget,type:["end"],namespace:"devhub-uievents-drop"})}}function q(t,e){t.preventDefault();var n=t.data.clientPos.clientY-r.eventStartOffset.y;t.originalEvent&&"touch"===t.originalEvent.pointerType?"touch"===t.originalEvent.pointerType&&(n=-n):n*=e||r.currentDragSpeedMod;n+=r.scrollTop;C(n)}function _(t){if(r.scrollContainer){var e=Math.max(0,r.scrollContainer.scrollTop()+t);C(e)}}function C(t){r.scrollContainer&&r.scrollContainer.scrollTop(t)}return{isDragOrScrollVertical:b,initDropZones:y,terminateDropZones:x,addDragScroll:f,set:c,get:u,setNewVar:d,setVars:p,scrollTotal:q,scrollDelta:_}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(516)],r=function(t,e){var n={restrict:"E",replace:true,transclude:true,template:e,controller:[function(){}]};t.directive("qwDevHubStage",function(){return n});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(517)],r=function(t,e){var n={restrict:"E",replace:true,transclude:true,template:e,controller:[function(){}]};t.directive("qwWorkArea",function(){return n});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(521)],r=function(t){var e={template:t,controller:["$scope",function(t){t.ok=function(){this.input.cancel();t.closeView()};t.closeView=function(){t.destroyComponent()}}]};return{component:e}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){var i,r,o;(function(s){true;!(r=[n(44)],i=s,o="function"===typeof i?i.apply(e,r):i,void 0!==o&&(t.exports=o))})(function(t){t.ui=t.ui||{};var e=t.ui.version="1.12.1";var n=0;var i=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events");i&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData);t.widget=function(e,n,i){var r,o,s;var a={};var l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;if(!i){i=n;n=t.Widget}t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i)));t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)};t[l]=t[l]||{};r=t[l][e];o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)};t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]});s=new n;s.options=t.widget.extend({},s.options);t.each(i,function(e,i){if(!t.isFunction(i)){a[e]=i;return}a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e=this._super;var n=this._superApply;var o;this._super=t;this._superApply=r;o=i.apply(this,arguments);this._super=e;this._superApply=n;return o}}()});o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c});if(r){t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)});delete r._childConstructors}else n._childConstructors.push(o);t.widget.bridge(e,o);return o};t.widget.extend=function(e){var n=i.call(arguments,1);var r=0;var o=n.length;var s;var a;for(;r<o;r++)for(s in n[r]){a=n[r][s];n[r].hasOwnProperty(s)&&void 0!==a&&(t.isPlainObject(a)?e[s]=t.isPlainObject(e[s])?t.widget.extend({},e[s],a):t.widget.extend({},a):e[s]=a)}return e};t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"===typeof o;var a=i.call(arguments,1);var l=this;if(s)this.length||"instance"!==o?this.each(function(){var n;var i=t.data(this,r);if("instance"===o){l=i;return false}if(!i)return t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'");if(!t.isFunction(i[o])||"_"===o.charAt(0))return t.error("no such method '"+o+"' for "+e+" widget instance");n=i[o].apply(i,a);if(n!==i&&void 0!==n){l=n&&n.jquery?l.pushStack(n.get()):n;return false}}):l=void 0;else{a.length&&(o=t.widget.extend.apply(null,[o].concat(a)));this.each(function(){var e=t.data(this,r);if(e){e.option(o||{});e._init&&e._init()}else t.data(this,r,new n(o,this))})}return l}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0];this.element=t(i);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=t();this.hoverable=t();this.focusable=t();this.classesElementLookup={};if(i!==this){t.data(i,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){t.target===i&&this.destroy()}});this.document=t(i.style?i.ownerDocument:i.document||i);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy();t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i=e;var r;var o;var s;if(0===arguments.length)return t.widget.extend({},this.options);if("string"===typeof e){i={};r=e.split(".");e=r.shift();if(r.length){o=i[e]=t.widget.extend({},this.options[e]);for(s=0;s<r.length-1;s++){o[r[s]]=o[r[s]]||{};o=o[r[s]]}e=r.pop();if(1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];i[e]=n}}this._setOptions(i);return this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){"classes"===t&&this._setOptionClasses(e);this.options[t]=e;"disabled"===t&&this._setOptionDisabled(e);return this},_setOptionClasses:function(e){var n,i,r;for(n in e){r=this.classesElementLookup[n];if(e[n]===this.options.classes[n]||!r||!r.length)continue;i=t(r.get());this._removeClass(r,n);i.addClass(this._classes({element:i,keys:n,classes:e,add:true}))}},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t);if(t){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(e){var n=[];var i=this;e=t.extend({element:this.element,classes:this.options.classes||{}},e);function r(r,o){var s,a;for(a=0;a<r.length;a++){s=i.classesElementLookup[r[a]]||t();s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get());i.classesElementLookup[r[a]]=s;n.push(r[a]);o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}}this._on(e.element,{remove:"_untrackClassesElement"});e.keys&&r(e.keys.match(/\S+/g)||[],true);e.extra&&r(e.extra.match(/\S+/g)||[]);return n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,false)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,true)},_toggleClass:function(t,e,n,i){i="boolean"===typeof i?i:n;var r="string"===typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};o.element.toggleClass(this._classes(o),i);return this},_on:function(e,n,i){var r;var o=this;if("boolean"!==typeof e){i=n;n=e;e=false}if(i){n=r=t(n);this.bindings=this.bindings.add(n)}else{i=n;n=this.element;r=this.widget()}t.each(i,function(i,s){function a(){if(!e&&(true===o.options.disabled||t(this).hasClass("ui-state-disabled")))return;return("string"===typeof s?o[s]:s).apply(o,arguments)}"string"!==typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/);var c=l[1]+o.eventNamespace;var u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.off(n).off(n);this.bindings=t(this.bindings.not(e).get());this.focusable=t(this.focusable.not(e).get());this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"===typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o;var s=this.options[e];i=i||{};n=t.Event(n);n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();n.target=this.element[0];o=n.originalEvent;if(o)for(r in o)r in n||(n[r]=o[r]);this.element.trigger(n,i);return!(t.isFunction(s)&&false===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"===typeof r&&(r={effect:r});var s;var a=r?true===r||"number"===typeof r?n:r.effect||n:e;r=r||{};"number"===typeof r&&(r={duration:r});s=!t.isEmptyObject(r);r.complete=o;r.delay&&i.delay(r.delay);s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e]();o&&o.call(i[0]);n()})}});var r=t.widget;(function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=t.fn.position;function u(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function d(e,n){return parseInt(t.css(e,n),10)||0}function p(e){var n=e[0];if(9===n.nodeType)return{width:e.width(),height:e.height(),offset:{top:0,left:0}};if(t.isWindow(n))return{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}};if(n.preventDefault)return{width:0,height:0,offset:{top:n.pageY,left:n.pageX}};return{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];t("body").append(r);n=o.offsetWidth;r.css("overflow","scroll");i=o.offsetWidth;n===i&&(i=r[0].clientWidth);r.remove();return e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}};t.fn.position=function(e){if(!e||!e.of)return c.apply(this,arguments);e=t.extend({},e);var l,f,h,v,g,m,b=t(e.of),y=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),q={};m=p(b);b[0].preventDefault&&(e.at="left top");f=m.width;h=m.height;v=m.offset;g=t.extend({},v);t.each(["my","at"],function(){var t=(e[this]||"").split(" "),n,i;1===t.length&&(t=r.test(t[0])?t.concat(["center"]):o.test(t[0])?["center"].concat(t):["center","center"]);t[0]=r.test(t[0])?t[0]:"center";t[1]=o.test(t[1])?t[1]:"center";n=s.exec(t[0]);i=s.exec(t[1]);q[this]=[n?n[0]:0,i?i[0]:0];e[this]=[a.exec(t[0])[0],a.exec(t[1])[0]]});1===w.length&&(w[1]=w[0]);"right"===e.at[0]?g.left+=f:"center"===e.at[0]&&(g.left+=f/2);"bottom"===e.at[1]?g.top+=h:"center"===e.at[1]&&(g.top+=h/2);l=u(q.at,f,h);g.left+=l[0];g.top+=l[1];return this.each(function(){var r,o,s=t(this),a=s.outerWidth(),c=s.outerHeight(),p=d(this,"marginLeft"),m=d(this,"marginTop"),_=a+p+d(this,"marginRight")+x.width,C=c+m+d(this,"marginBottom")+x.height,S=t.extend({},g),D=u(q.my,s.outerWidth(),s.outerHeight());"right"===e.my[0]?S.left-=a:"center"===e.my[0]&&(S.left-=a/2);"bottom"===e.my[1]?S.top-=c:"center"===e.my[1]&&(S.top-=c/2);S.left+=D[0];S.top+=D[1];r={marginLeft:p,marginTop:m};t.each(["left","top"],function(n,i){t.ui.position[w[n]]&&t.ui.position[w[n]][i](S,{targetWidth:f,targetHeight:h,elemWidth:a,elemHeight:c,collisionPosition:r,collisionWidth:_,collisionHeight:C,offset:[l[0]+D[0],l[1]+D[1]],my:e.my,at:e.at,within:y,elem:s})});e.using&&(o=function(t){var r=v.left-S.left,o=r+f-a,l=v.top-S.top,u=l+h-c,d={target:{element:b,left:v.left,top:v.top,width:f,height:h},element:{element:s,left:S.left,top:S.top,width:a,height:c},horizontal:o<0?"left":r>0?"right":"center",vertical:u<0?"top":l>0?"bottom":"middle"};f<a&&i(r+o)<f&&(d.horizontal="center");h<c&&i(l+u)<h&&(d.vertical="middle");n(i(r),i(o))>n(i(l),i(u))?d.important="horizontal":d.important="vertical";e.using.call(this,t,d)});s.offset(t.extend(S,{using:o}))})};t.ui.position={fit:{left:function(t,e){var i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,a=r-s,l=s+e.collisionWidth-o-r,c;if(e.collisionWidth>o)if(a>0&&l<=0){c=t.left+a+e.collisionWidth-o-r;t.left+=a-c}else t.left=l>0&&a<=0?r:a>l?r+o-e.collisionWidth:r;else a>0?t.left+=a:l>0?t.left-=l:t.left=n(t.left-s,t.left)},top:function(t,e){var i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,a=r-s,l=s+e.collisionHeight-o-r,c;if(e.collisionHeight>o)if(a>0&&l<=0){c=t.top+a+e.collisionHeight-o-r;t.top+=a-c}else t.top=l>0&&a<=0?r:a>l?r+o-e.collisionHeight:r;else a>0?t.top+=a:l>0?t.top-=l:t.top=n(t.top-s,t.top)}},flip:{left:function(t,e){var n=e.within,r=n.offset.left+n.scrollLeft,o=n.width,s=n.isWindow?n.scrollLeft:n.offset.left,a=t.left-e.collisionPosition.marginLeft,l=a-s,c=a+e.collisionWidth-o-s,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0],f,h;if(l<0){f=t.left+u+d+p+e.collisionWidth-o-r;(f<0||f<i(l))&&(t.left+=u+d+p)}else if(c>0){h=t.left-e.collisionPosition.marginLeft+u+d+p-s;(h>0||i(h)<c)&&(t.left+=u+d+p)}},top:function(t,e){var n=e.within,r=n.offset.top+n.scrollTop,o=n.height,s=n.isWindow?n.scrollTop:n.offset.top,a=t.top-e.collisionPosition.marginTop,l=a-s,c=a+e.collisionHeight-o-s,u="top"===e.my[1],d=u?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1],h,v;if(l<0){v=t.top+d+p+f+e.collisionHeight-o-r;(v<0||v<i(l))&&(t.top+=d+p+f)}else if(c>0){h=t.top-e.collisionPosition.marginTop+d+p+f-s;(h>0||i(h)<c)&&(t.top+=d+p+f)}}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments);t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments);t.ui.position.fit.top.apply(this,arguments)}}}})();var o=t.ui.position;var s=t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}});var a=t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var l="ui-effects-",c="ui-effects-style",u="ui-effects-animated",d=t;t.effects={effect:{}};(function(t,e){var n="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},l=o.support={},c=t("<p>")[0],u,d=t.each;c.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=c.style.backgroundColor.indexOf("rgba")>-1;d(s,function(t,e){e.cache="_"+t;e.props.alpha={idx:3,type:"percent",def:1}});function p(t,e,n){var i=a[e.type]||{};if(null==t)return n||!e.def?null:e.def;t=i.floor?~~t:parseFloat(t);if(isNaN(t))return e.def;if(i.mod)return(t+i.mod)%i.mod;return 0>t?0:i.max<t?i.max:t}function f(e){var n=o(),i=n._rgba=[];e=e.toLowerCase();d(r,function(t,r){var o,a=r.re.exec(e),l=a&&r.parse(a),c=r.space||"rgba";if(l){o=n[c](l);n[s[c].cache]=o[s[c].cache];i=n._rgba=o._rgba;return false}});if(i.length){"0,0,0,0"===i.join()&&t.extend(i,u.transparent);return n}return u[e]}o.fn=t.extend(o.prototype,{parse:function(n,i,r,a){if(n===e){this._rgba=[null,null,null,null];return this}if(n.jquery||n.nodeType){n=t(n).css(i);i=e}var l=this,c=t.type(n),h=this._rgba=[];if(i!==e){n=[n,i,r,a];c="array"}if("string"===c)return this.parse(f(n)||u._default);if("array"===c){d(s.rgba.props,function(t,e){h[e.idx]=p(n[e.idx],e)});return this}if("object"===c){d(s,n instanceof o?function(t,e){n[e.cache]&&(l[e.cache]=n[e.cache].slice())}:function(e,i){var r=i.cache;d(i.props,function(t,e){if(!l[r]&&i.to){if("alpha"===t||null==n[t])return;l[r]=i.to(l._rgba)}l[r][e.idx]=p(n[t],e,true)});if(l[r]&&t.inArray(null,l[r].slice(0,3))<0){l[r][3]=1;i.from&&(l._rgba=i.from(l[r]))}});return this}},is:function(t){var e=o(t),n=true,i=this;d(s,function(t,r){var o,s=e[r.cache];if(s){o=i[r.cache]||r.to&&r.to(i._rgba)||[];d(r.props,function(t,e){if(null!=s[e.idx]){n=s[e.idx]===o[e.idx];return n}})}return n});return n},_space:function(){var t=[],e=this;d(s,function(n,i){e[i.cache]&&t.push(n)});return t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=s[i],l=0===this.alpha()?o("transparent"):this,c=l[r.cache]||r.to(l._rgba),u=c.slice();n=n[r.cache];d(r.props,function(t,i){var r=i.idx,o=c[r],s=n[r],l=a[i.type]||{};if(null===s)return;if(null===o)u[r]=s;else{l.mod&&(s-o>l.mod/2?o+=l.mod:o-s>l.mod/2&&(o-=l.mod));u[r]=p((s-o)*e+o,i)}});return this[i](u)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});if(1===n[3]){n.pop();e="rgb("}return e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){null==t&&(t=e>2?1:0);e&&e<3&&(t=Math.round(100*t)+"%");return t});if(1===n[3]){n.pop();e="hsl("}return e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();e&&n.push(~~(255*i));return"#"+t.map(n,function(t){t=(t||0).toString(16);return 1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});o.fn.parse.prototype=o.fn;function h(t,e,n){n=(n+1)%1;if(6*n<1)return t+(e-t)*n*6;if(2*n<1)return e;if(3*n<2)return t+(e-t)*(2/3-n)*6;return t}s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=t[3],o=Math.max(e,n,i),s=Math.min(e,n,i),a=o-s,l=o+s,c=.5*l,u,d;u=s===o?0:e===o?60*(n-i)/a+360:n===o?60*(i-e)/a+120:60*(e-n)/a+240;d=0===a?0:c<=.5?a/l:a/(2-l);return[Math.round(u)%360,d,c,null==r?1:r]};s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*h(s,o,e+1/3)),Math.round(255*h(s,o,e)),Math.round(255*h(s,o,e-1/3)),r]};d(s,function(n,r){var s=r.props,a=r.cache,l=r.to,c=r.from;o.fn[n]=function(n){l&&!this[a]&&(this[a]=l(this._rgba));if(n===e)return this[a].slice();var i,r=t.type(n),u="array"===r||"object"===r?n:arguments,f=this[a].slice();d(s,function(t,e){var n=u["object"===r?t:e.idx];null==n&&(n=f[e.idx]);f[e.idx]=p(n,e)});if(c){i=o(c(f));i[a]=f;return i}return o(f)};d(s,function(e,r){if(o.fn[e])return;o.fn[e]=function(o){var s=t.type(o),a="alpha"===e?this._hsla?"hsla":"rgba":n,l=this[a](),c=l[r.idx],u;if("undefined"===s)return c;if("function"===s){o=o.call(this,c);s=t.type(o)}if(null==o&&r.empty)return this;if("string"===s){u=i.exec(o);u&&(o=c+parseFloat(u[2])*("+"===u[1]?1:-1))}l[r.idx]=o;return this[a](l)}})});o.hook=function(e){var n=e.split(" ");d(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,s,a="";if("transparent"!==i&&("string"!==t.type(i)||(r=f(i)))){i=o(r||i);if(!l.rgba&&1!==i._rgba[3]){s="backgroundColor"===n?e.parentNode:e;while((""===a||"transparent"===a)&&s&&s.style)try{a=t.css(s,"backgroundColor");s=s.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}};t.fx.step[n]=function(e){if(!e.colorInit){e.start=o(e.elem,n);e.end=o(e.end);e.colorInit=true}t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})};o.hook(n);t.cssHooks.borderColor={expand:function(t){var e={};d(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t});return e}};u=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(d);(function(){var e=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){if("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr){d.style(t.elem,n,t.end);t.setAttr=true}}});function i(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]]){i=r.length;while(i--){n=r[i];"string"===typeof r[n]&&(o[t.camelCase(n)]=r[n])}}else for(n in r)"string"===typeof r[n]&&(o[n]=r[n]);return o}function r(e,i){var r={},o,s;for(o in i){s=i[o];e[o]!==s&&(n[o]||!t.fx.step[o]&&isNaN(parseFloat(s))||(r[o]=s))}return r}t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});t.effects.animateClass=function(n,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o=t(this),s=o.attr("class")||"",a,c=l.children?o.find("*").addBack():o;c=c.map(function(){var e=t(this);return{el:e,start:i(this)}});a=function(){t.each(e,function(t,e){n[e]&&o[e+"Class"](n[e])})};a();c=c.map(function(){this.end=i(this.el[0]);this.diff=r(this.start,this.end);return this});o.attr("class",s);c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:false,complete:function(){n.resolve(e)}});this.el.animate(this.diff,i);return n.promise()});t.when.apply(t,c.get()).done(function(){a();t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})});l.complete.call(o[0])})})};t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"===typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})})();(function(){t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(u)||e(n)}}(t.expr.filters.animated));false!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){var n=0,i=e.length;for(;n<i;n++)null!==e[n]&&t.data(l+e[n],t[0].style[e[n]])},restore:function(t,e){var n,i=0,r=e.length;for(;i<r;i++)if(null!==e[i]){n=t.data(l+e[i]);t.css(e[i],n)}},setMode:function(t,e){"toggle"===e&&(e=t.is(":hidden")?"show":"hide");return e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(true),height:e.outerHeight(true),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}e.wrap(i);(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus");i=e.parent();if("static"===e.css("position")){i.css({position:"relative"});e.css({position:"relative"})}else{t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")});t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i);isNaN(parseInt(n[i],10))&&(n[i]="auto")});e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}e.css(r);return i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;if(e.parent().is(".ui-effects-wrapper")){e.parent().replaceWith(e);(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")}return e}});t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){if(!i){i=n;n="effect"}t.effects.effect[e]=i;t.effects.effect[e].mode=n;return i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n)));t.dequeue()},saveStyle:function(t){t.data(c,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(c)||"";t.removeData(c)},mode:function(t,e){var n=t.is(":hidden");"toggle"===e&&(e=n?"show":"hide");(n?"hide"===e:"show"===e)&&(e="none");return e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight());if(/^(static|relative)/.test(i)){i="absolute";n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder");e.data(l+"placeholder",n)}e.css({position:i,left:r.left,top:r.top});return n},removePlaceholder:function(t){var e=l+"placeholder",n=t.data(e);if(n){n.remove();t.removeData(e)}},cleanUp:function(e){t.effects.restoreStyle(e);t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){r=r||{};t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])});return r}});function e(e,n,i,r){if(t.isPlainObject(e)){n=e;e=e.effect}e={effect:e};null==n&&(n={});if(t.isFunction(n)){r=n;i=null;n={}}if("number"===typeof n||t.fx.speeds[n]){r=i;i=n;n={}}if(t.isFunction(i)){r=i;i=null}n&&t.extend(e,n);i=i||n.duration;e.duration=t.fx.off?0:"number"===typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default;e.complete=r||n.complete;return e}function n(e){if(!e||"number"===typeof e||t.fx.speeds[e])return true;if("string"===typeof e&&!t.effects.effect[e])return true;if(t.isFunction(e))return true;if("object"===typeof e&&!e.effect)return true;return false}t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=t.effects.effect[n.effect],r=i.mode,o=n.queue,s=o||"fx",a=n.complete,l=n.mode,c=[],d=function(e){var n=t(this),i=t.effects.mode(n,l)||r;n.data(u,true);c.push(i);r&&("show"===i||i===r&&"hide"===i)&&n.show();r&&"none"===i||t.effects.saveStyle(n);t.isFunction(e)&&e()};if(t.fx.off||!i)return l?this[l](n.duration,a):this.each(function(){a&&a.call(this)});function p(e){var o=t(this);function s(){o.removeData(u);t.effects.cleanUp(o);"hide"===n.mode&&o.hide();d()}function d(){t.isFunction(a)&&a.call(o[0]);t.isFunction(e)&&e()}n.mode=c.shift();if(false===t.uiBackCompat||r)if("none"===n.mode){o[l]();d()}else i.call(o[0],n,s);else if(o.is(":hidden")?"hide"===l:"show"===l){o[l]();d()}else i.call(o[0],n,d)}return false===o?this.each(d).each(p):this.queue(s,d).queue(s,p)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);r.mode="show";return this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);r.mode="hide";return this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"===typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);r.mode="toggle";return this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])});return i},cssClip:function(t){if(t)return this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)");return i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),p=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){p.remove();t.isFunction(n)&&n()})}});function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.fx.step.clip=function(e){if(!e.clipInit){e.start=t(e.elem).cssClip();"string"===typeof e.end&&(e.end=i(e.end,e.elem));e.clipInit=true}t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}})();(function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}});t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){var e,n=4;while(t<((e=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}});t.each(e,function(e,n){t.easing["easeIn"+e]=n;t.easing["easeOut"+e]=function(t){return 1-n(1-t)};t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})})();var p=t.effects;var f=t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]];if("show"===e.mode){r.cssClip(a.clip);l&&l.css(t.effects.clipToBox(a));a.clip=s}l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing);r.animate(a,{queue:false,duration:e.duration,easing:e.easing,complete:n})});var h=t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,c="show"===a,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),h=e.duration/f,v=e.easing,g="up"===u||"down"===u?"top":"left",m="up"===u||"left"===u,b=0,y=s.queue().length;t.effects.createPlaceholder(s);o=s.css(g);d||(d=s["top"===g?"outerHeight":"outerWidth"]()/3);if(c){r={opacity:1};r[g]=o;s.css("opacity",0).css(g,m?2*-d:2*d).animate(r,h,v)}l&&(d/=Math.pow(2,p-1));r={};r[g]=o;for(;b<p;b++){i={};i[g]=(m?"-=":"+=")+d;s.animate(i,h,v).animate(r,h,v);d=l?2*d:d/2}if(l){i={opacity:0};i[g]=(m?"-=":"+=")+d;s.animate(i,h,v)}s.queue(n);t.effects.unshift(s,y,f+1)});var v=t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,c=a||"vertical"===s;i=o.cssClip();r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left};t.effects.createPlaceholder(o);if("show"===e.mode){o.cssClip(r.clip);r.clip=i}o.animate(r,{queue:false,duration:e.duration,easing:e.easing,complete:n})});var g=t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",u="+="===c?"-=":"+=",d={opacity:0};t.effects.createPlaceholder(r);i=e.distance||r["top"===l?"outerHeight":"outerWidth"](true)/2;d[l]=c+i;if(s){r.css(d);d[l]=u+i;d.opacity=1}r.animate(d,{queue:false,duration:e.duration,easing:e.easing,complete:n})});var m=t.effects.define("explode","hide",function(e,n){var i,r,o,s,a,l,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=c,d=t(this),p=e.mode,f="show"===p,h=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/u),g=Math.ceil(d.outerHeight()/c),m=[];function b(){m.push(this);m.length===c*u&&y()}for(i=0;i<c;i++){s=h.top+i*g;l=i-(c-1)/2;for(r=0;r<u;r++){o=h.left+r*v;a=r-(u-1)/2;d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:g,left:o+(f?a*v:0),top:s+(f?l*g:0),opacity:f?0:1}).animate({left:o+(f?0:a*v),top:s+(f?0:l*g),opacity:f?1:0},e.duration||500,e.easing,b)}}function y(){d.css({visibility:"visible"});t(m).remove();n()}});var b=t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:false,duration:e.duration,easing:e.easing,complete:n})});var y=t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),c=!!e.horizFirst,u=c?["right","bottom"]:["bottom","right"],d=e.duration/2,p=t.effects.createPlaceholder(i),f=i.cssClip(),h={clip:t.extend({},f)},v={clip:t.extend({},f)},g=[f[u[0]],f[u[1]]],m=i.queue().length;l&&(a=parseInt(l[1],10)/100*g[s?0:1]);h.clip[u[0]]=a;v.clip[u[0]]=a;v.clip[u[1]]=0;if(o){i.cssClip(v.clip);p&&p.css(t.effects.clipToBox(v));v.clip=f}i.queue(function(n){p&&p.animate(t.effects.clipToBox(h),d,e.easing).animate(t.effects.clipToBox(v),d,e.easing);n()}).animate(h,d,e.easing).animate(v,d,e.easing).queue(n);t.effects.unshift(i,m,4)});var x=t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0);t.effects.saveStyle(i);i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:false,duration:e.duration,easing:e.easing,complete:n})});var w=t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,d="effect"!==u,p=e.scale||"both",f=e.origin||["middle","center"],h=s.css("position"),v=s.position(),g=t.effects.scaledDimensions(s),m=e.from||g,b=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s);if("show"===u){o=m;m=b;b=o}r={from:{y:m.height/g.height,x:m.width/g.width},to:{y:b.height/g.height,x:b.width/g.width}};if("box"===p||"both"===p){if(r.from.y!==r.to.y){m=t.effects.setTransition(s,l,r.from.y,m);b=t.effects.setTransition(s,l,r.to.y,b)}if(r.from.x!==r.to.x){m=t.effects.setTransition(s,c,r.from.x,m);b=t.effects.setTransition(s,c,r.to.x,b)}}if(("content"===p||"both"===p)&&r.from.y!==r.to.y){m=t.effects.setTransition(s,a,r.from.y,m);b=t.effects.setTransition(s,a,r.to.y,b)}if(f){i=t.effects.getBaseline(f,g);m.top=(g.outerHeight-m.outerHeight)*i.y+v.top;m.left=(g.outerWidth-m.outerWidth)*i.x+v.left;b.top=(g.outerHeight-b.outerHeight)*i.y+v.top;b.left=(g.outerWidth-b.outerWidth)*i.x+v.left}s.css(m);if("content"===p||"both"===p){l=l.concat(["marginTop","marginBottom"]).concat(a);c=c.concat(["marginLeft","marginRight"]);s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};if(r.from.y!==r.to.y){o=t.effects.setTransition(n,l,r.from.y,o);s=t.effects.setTransition(n,l,r.to.y,s)}if(r.from.x!==r.to.x){o=t.effects.setTransition(n,c,r.from.x,o);s=t.effects.setTransition(n,c,r.to.x,s)}d&&t.effects.saveStyle(n);n.css(o);n.animate(s,e.duration,e.easing,function(){d&&t.effects.restoreStyle(n)})})}s.animate(b,{queue:false,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===b.opacity&&s.css("opacity",m.opacity);if(!d){s.css("position","static"===h?"relative":h).offset(e);t.effects.saveStyle(s)}n()}})});var q=t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(true,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);if(e.fade){s.from.opacity=1;s.to.opacity=0}t.effects.effect.size.call(this,s,n)});var _=t.effects.define("puff","hide",function(e,n){var i=t.extend(true,{},e,{fade:true,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)});var C=t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(e.times||5)+(a?1:0),c=e.duration/l,u=0,d=1,p=i.queue().length;if(o||!i.is(":visible")){i.css("opacity",0).show();u=1}for(;d<l;d++){i.animate({opacity:u},c,e.easing);u=1-u}i.animate({opacity:u},c,e.easing);i.queue(n);t.effects.unshift(i,p,l+1)});var S=t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,p={},f={},h={},v=r.queue().length;t.effects.createPlaceholder(r);p[u]=(d?"-=":"+=")+s;f[u]=(d?"+=":"-=")+2*s;h[u]=(d?"-=":"+=")+2*s;r.animate(p,c,e.easing);for(;i<a;i++)r.animate(f,c,e.easing).animate(h,c,e.easing);r.animate(f,c,e.easing).animate(p,c/2,e.easing).queue(n);t.effects.unshift(r,v,l+1)});var D=t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d=e.distance||o["top"===c?"outerHeight":"outerWidth"](true),p={};t.effects.createPlaceholder(o);i=o.cssClip();r=o.position()[c];p[c]=(u?-1:1)*d+r;p.clip=o.cssClip();p.clip[s[l][1]]=p.clip[s[l][0]];if("show"===a){o.cssClip(p.clip);o.css(c,p[c]);p.clip=i;p[c]=r}o.animate(p,{queue:false,duration:e.duration,easing:e.easing,complete:n})});var p;false!==t.uiBackCompat&&(p=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}));var E=p;t.ui.focusable=function(e,n){var i,r,o,s,a,l=e.nodeName.toLowerCase();if("area"===l){i=e.parentNode;r=i.name;if(!e.href||!r||"map"!==i.nodeName.toLowerCase())return false;o=t("img[usemap='#"+r+"']");return o.length>0&&o.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(l)){s=!e.disabled;if(s){a=t(e).closest("fieldset")[0];a&&(s=!a.disabled)}}else s="a"===l&&e.href||n;return s&&t(e).is(":visible")&&k(t(e))};function k(t){var e=t.css("visibility");while("inherit"===e){t=t.parent();e=t.css("visibility")}return"hidden"!==e}t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});var T=t.ui.focusable;var A=t.fn.form=function(){return"string"===typeof this[0].form?this.closest("form"):t(this[0].form)};var I=t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length)return;var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler);t.push(this);this.form.data("ui-form-reset-instances",t)},_unbindFormResetHandler:function(){if(!this.form.length)return;var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1);e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}};if("1.7"===t.fn.jquery.substring(0,3)){t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0;r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0);o&&(n-=parseFloat(t.css(e,"margin"+this))||0)});return n}t.fn["inner"+n]=function(e){if(void 0===e)return o["inner"+n].call(this);return this.each(function(){t(this).css(r,s(this,e)+"px")})};t.fn["outer"+n]=function(e,i){if("number"!==typeof e)return o["outer"+n].call(this,e);return this.each(function(){t(this).css(r,s(this,e,true,i)+"px")})}});t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}var O=t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var L=t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}();var P=t.fn.labels=function(){var e,n,i,r,o;if(this[0].labels&&this[0].labels.length)return this.pushStack(this[0].labels);r=this.eq(0).parents("label");i=this.attr("id");if(i){e=this.eq(0).parents().last();o=e.add(e.length?e.siblings():this.siblings());n="label[for='"+t.ui.escapeSelector(i)+"']";r=r.add(o.find(n).addBack(n))}return this.pushStack(r)};var M=t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);if(i&&"static"===e.css("position"))return false;return r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)};var N=t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}});var j=t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}});var F=t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");e.collapsible||false!==e.active&&null!=e.active||(e.active=0);this._processPanels();e.active<0&&(e.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;if(i){e=t("<span>");this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header);e.prependTo(this.headers);n=this.active.children(".ui-accordion-header-icon");this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){if("active"===t){this._activate(e);return}if("event"===t){this.options.event&&this._off(this.headers,this.options.event);this._setupEvents(e)}this._super(t,e);"collapsible"!==t||e||false!==this.options.active||this._activate(0);if("icons"===t){this._destroyIcons();e&&this._createIcons()}},_setOptionDisabled:function(t){this._super(t);this.element.attr("aria-disabled",t);this._toggleClass(null,"ui-state-disabled",!!t);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(e.altKey||e.ctrlKey)return;var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=false;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1];break}if(o){t(e.target).attr("tabIndex",-1);t(o).attr("tabIndex",0);t(o).trigger("focus");e.preventDefault()}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels();if(false===e.active&&true===e.collapsible||!this.headers.length){e.active=false;this.active=t()}else if(false===e.active)this._activate(0);else if(this.active.length&&!t.contains(this.element[0],this.active[0]))if(this.headers.length===this.headers.find(".ui-state-disabled").length){e.active=false;this.active=t()}else this._activate(Math.max(0,e.active-1));else e.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(e){this._off(t.not(this.headers));this._off(e.not(this.panels))}},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r);i.attr("aria-labelledby",n)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(n.event);if("fill"===i){e=r.height();this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");if("absolute"===i||"fixed"===i)return;e-=n.outerHeight(true)});this.headers.each(function(){e-=t(this).outerHeight(true)});this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else if("auto"===i){e=0;this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show();e=Math.max(e,t(this).css("height","").height());n||t(this).hide()}).height(e)}},_activate:function(e){var n=this._findActive(e)[0];if(n===this.active[0])return;n=n||this.active[0];this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop})},_findActive:function(e){return"number"===typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,n);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,c=l?t():s.next(),u=o.next(),d={oldHeader:o,oldPanel:u,newHeader:l?t():s,newPanel:c};e.preventDefault();if(a&&!r.collapsible||false===this._trigger("beforeActivate",e,d))return;r.active=!l&&this.headers.index(s);this.active=a?t():s;this._toggle(d);this._removeClass(o,"ui-accordion-header-active","ui-state-active");if(r.icons){n=o.children(".ui-accordion-header-icon");this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)}if(!a){this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active");if(r.icons){i=s.children(".ui-accordion-header-icon");this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)}this._addClass(s.next(),"ui-accordion-content-active")}},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=n;this.prevHide=i;if(this.options.animate)this._animate(n,i,e);else{i.hide();n.show();this._toggleComplete(e)}i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1);n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){s._toggleComplete(n)};"number"===typeof d&&(o=d);"string"===typeof d&&(r=d);r=r||d.easing||u.easing;o=o||d.duration||u.duration;if(!e.length)return t.animate(this.showProps,o,r,p);if(!t.length)return e.animate(this.hideProps,o,r,p);i=t.show().outerHeight();e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}});t.hide().animate(this.showProps,{duration:o,easing:r,complete:p,step:function(t,n){n.now=Math.round(t);if("height"!==n.prop)"content-box"===l&&(a+=n.now);else if("content"!==s.options.heightStyle){n.now=Math.round(i-e.outerHeight()-a);a=0}}})},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active");this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed");e.length&&(e.parent()[0].className=e.parent()[0].className);this._trigger("activate",null,t)}});var R=t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}e||(e=t.body);e.nodeName||(e=t.body);return e};var V=t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target);var i=t(t.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&n.not(".ui-state-disabled").length){this.select(e);e.isPropagationStopped()||(this.mouseHandled=true);if(n.has(".ui-menu").length)this.expand(e);else if(!this.element.is(":focus")&&i.closest(".ui-menu").length){this.element.trigger("focus",[true]);this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)}}},"mouseenter .ui-menu-item":function(e){if(this.previousFilter)return;var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);if(n[0]!==i[0])return;this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t);this.mouseHandled=false}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=true;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=false;i=this.previousFilter||"";o=false;r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode);clearTimeout(this.filterTimer);r===i?o=true:r=i+r;n=this._filterMenuItems(r);n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n;if(!n.length){r=String.fromCharCode(e.keyCode);n=this._filterMenuItems(r)}if(n.length){this.focus(e,n);this.previousFilter=r;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",true);s._addClass(i,"ui-menu-icon","ui-icon "+a);n.attr("aria-haspopup","true").prepend(i);e.attr("aria-labelledby",n.attr("id"))});this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front");e=l.add(this.element);n=e.find(this.options.items);n.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")});r=n.not(".ui-menu-item, .ui-menu-divider");o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper");n.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t);this.element.attr("aria-disabled",String(t));this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type);this._scrollIntoView(e);this.active=e.first();i=this.active.children(".ui-menu-item-wrapper");this._addClass(i,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",i.attr("id"));r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);n=e.children(".ui-menu");n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n);this.activeMenu=e.parent();this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;if(this._hasScroll()){n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0;i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0;r=e.offset().top-this.activeMenu.offset().top-n-i;o=this.activeMenu.scrollTop();s=this.activeMenu.height();a=e.outerHeight();r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a)}},blur:function(t,e){e||clearTimeout(this.timer);if(!this.active)return;this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",t,{item:this.active});this.active=null},_startOpening:function(t){clearTimeout(this.timer);if("true"!==t.attr("aria-hidden"))return;this.timer=this._delay(function(){this._close();this._open(t)},this.delay)},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer);this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element);this._close(i);this.blur(e);this._removeClass(i.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element);t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(e&&e.length){this._close();this.focus(t,e)}},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(e&&e.length){this._open(e.parent());this._delay(function(){this.focus(t,e)})}},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0));i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]());this.focus(n,i)},nextPage:function(e){var n,i,r;if(!this.active){this.next(e);return}if(this.isLastItem())return;if(this._hasScroll()){i=this.active.offset().top;r=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){n=t(this);return n.offset().top-i-r<0});this.focus(e,n)}else this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())},previousPage:function(e){var n,i,r;if(!this.active){this.next(e);return}if(this.isFirstItem())return;if(this._hasScroll()){i=this.active.offset().top;r=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){n=t(this);return n.offset().top-i+r>0});this.focus(e,n)}else this.focus(e,this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,true);this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element);this.valueMethod=this.element[o||s?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly")){e=true;i=true;n=true;return}e=false;i=false;n=false;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=true;this._move("previousPage",r);break;case o.PAGE_DOWN:e=true;this._move("nextPage",r);break;case o.UP:e=true;this._keyEvent("previous",r);break;case o.DOWN:e=true;this._keyEvent("next",r);break;case o.ENTER:if(this.menu.active){e=true;r.preventDefault();this.menu.select(r)}break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:if(this.menu.element.is(":visible")){this.isMultiLine||this._value(this.term);this.close(r);r.preventDefault()}break;default:n=true;this._searchTimeout(r);break}},keypress:function(i){if(e){e=false;this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault();return}if(n)return;var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i);break}},input:function(t){if(i){i=false;t.preventDefault();return}this._searchTimeout(t)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(t){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(t);this._change(t)}});this._initSource();this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(e){e.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;if(this.isNewMenu){this.isNewMenu=false;if(e.originalEvent&&/^mouse/.test(e.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});return}}r=n.item.data("ui-autocomplete-item");false!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value);i=n.item.attr("aria-label")||r.value;if(i&&t.trim(i).length){this.liveRegion.children().hide();t("<div>").text(i).appendTo(this.liveRegion)}},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;if(this.element[0]!==t.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=r;this._delay(function(){this.previous=r;this.selectedItem=i})}false!==this._trigger("select",e,{item:i})&&this._value(i.value);this.term=this._value();this.close(e);this.selectedItem=i}});this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e);"source"===t&&this._initSource();"appendTo"===t&&this.menu.element.appendTo(this._appendTo());"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0));e&&e[0]||(e=this.element.closest(".ui-front, dialog"));e.length||(e=this.document[0].body);return e},_initSource:function(){var e,n,i=this;if(t.isArray(this.options.source)){e=this.options.source;this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}}else if("string"===typeof this.options.source){n=this.options.source;this.source=function(e,r){i.xhr&&i.xhr.abort();i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}}else this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching);this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;if(!e||e&&!n&&!i){this.selectedItem=null;this.search(null,t)}},this.options.delay)},search:function(t,e){t=null!=t?t:this._value();this.term=this._value();if(t.length<this.options.minLength)return this.close(e);if(false===this._trigger("search",e))return;return this._search(t)},_search:function(t){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t));this._trigger("response",null,{content:t});if(!this.options.disabled&&t&&t.length&&!this.cancelSearch){this._suggest(t);this._trigger("open")}else this._close()},close:function(t){this.cancelSearch=true;this._close(t)},_close:function(t){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",t)}},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){if(e.length&&e[0].label&&e[0].value)return e;return t.map(e,function(e){if("string"===typeof e)return{label:e,value:e};return t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e);this.isNewMenu=true;this.menu.refresh();n.show();this._resizeMenu();n.position(t.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(!this.menu.element.is(":visible")){this.search(null,e);return}if(this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)){this.isMultiLine||this._value(this.term);this.menu.blur();return}this.menu[t](e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(t,e);e.preventDefault()}},_isContentEditable:function(t){if(!t.length)return false;var e=t.prop("contentEditable");if("inherit"===e)return this._isContentEditable(t.parent());return"true"===e}});t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}});t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments);if(this.options.disabled||this.cancelSearch)return;n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults;this.liveRegion.children().hide();t("<div>").text(n).appendTo(this.liveRegion)}});var $=t.ui.autocomplete;var H=/ui-corner-([a-z]){2,6}/g;var z=t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o;var s={};if(!r)return;if("controlgroupLabel"===i){o=e.element.find(r);o.each(function(){var e=t(this);if(e.children(".ui-controlgroup-label-contents").length)return;e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")});e._addClass(o,null,"ui-widget ui-widget-content ui-state-default");n=n.concat(o.get());return}if(!t.fn[i])return;s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}};e.element.find(r).each(function(){var r=t(this);var o=r[i]("instance");var a=t.widget.extend({},s);if("button"===i&&r.parent(".ui-spinner").length)return;o||(o=r[i]()[i]("instance"));o&&(a.classes=e._resolveClassesValues(a.classes,o));r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o||r[i]("instance"));n.push(l[0])})});this.childWidgets=t(t.unique(n));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n);this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction;var i={classes:{}};i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t];return i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");e.classes["ui-spinner-up"]="";e.classes["ui-spinner-down"]="";return e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(H,""));i[r]=(o+" "+e[r]).replace(/\s+/g," ")});return i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(t,e);if("disabled"===t){this._callChildMethod(e?"disable":"enable");return}this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();e=this.childWidgets;this.options.onlyVisible&&(e=e.filter(":visible"));if(e.length){t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r);r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)});this._callChildMethod("refresh")}}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n;var i=this;var r=this._super()||{};this._readType();n=this.element.labels();this.label=t(n[n.length-1]);this.label.length||t.error("No label found for checkboxradio widget");this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML});this.originalLabel&&(r.label=this.originalLabel);e=this.element[0].disabled;null!=e&&(r.disabled=e);return r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();if(t){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");this.icon&&this._addClass(this.icon,null,"ui-state-hover")}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e;var n=this.element[0].name;var i="input[name='"+t.ui.escapeSelector(n)+"']";if(!n)return t([]);e=this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length});return e.not(this.element)},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e);"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(t,e){if("label"===t&&!e)return;this._super(t,e);if("disabled"===t){this._toggleClass(this.label,null,"ui-state-disabled",e);this.element[0].disabled=e;return}this.refresh()},_updateIcon:function(e){var n="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=t("<span>");this.iconSpace=t("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if("checkbox"===this.type){n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")}else n+="ui-icon-blank";this._addClass(this.icon,"ui-checkboxradio-icon",n);e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked");this.icon.prependTo(this.label).after(this.iconSpace)}else if(void 0!==this.icon){this.icon.remove();this.iconSpace.remove();delete this.icon}},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0]));this.iconSpace&&(t=t.not(this.iconSpace[0]));t.remove();this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);null!==this.options.label&&this._updateLabel();e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var B=t.ui.checkboxradio;t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var t,e=this._super()||{};this.isInput=this.element.is("input");t=this.element[0].disabled;null!=t&&(e.disabled=t);this.originalLabel=this.isInput?this.element.val():this.element.html();this.originalLabel&&(e.label=this.originalLabel);return e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=true);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||false);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(e){if(e.keyCode===t.ui.keyCode.SPACE){e.preventDefault();this.element[0].click?this.element[0].click():this.element.trigger("click")}}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip()}},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;if(this.icon)i&&this._removeClass(this.icon,null,this.options.icon);else{this.icon=t("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");this.options.showLabel||this._addClass("ui-button-icon-only")}i&&this._addClass(this.icon,null,n);this._attachIcon(r);if(o){this._addClass(this.icon,null,"ui-widget-icon-block");this.iconSpace&&this.iconSpace.remove()}else{if(!this.iconSpace){this.iconSpace=t("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space")}this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(r)}},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=true);this._super(t)},_setOption:function(t,e){if("icon"===t)if(e)this._updateIcon(t,e);else if(this.icon){this.icon.remove();this.iconSpace&&this.iconSpace.remove()}"iconPosition"===t&&this._updateIcon(t,e);if("showLabel"===t){this._toggleClass("ui-button-icon-only",null,!e);this._updateTooltip()}if("label"===t)if(this.isInput)this.element.val(e);else{this.element.html(e);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition)}}this._super(t,e);if("disabled"===t){this._toggleClass(null,"ui-state-disabled",e);this.element[0].disabled=e;e&&this.element.blur()}},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t});this._updateTooltip()}});if(false!==t.uiBackCompat){t.widget("ui.button",t.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);if(this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary)this.options.icon&&(this.options.icons.primary=this.options.icon);else if(this.options.icons.primary)this.options.icon=this.options.icons.primary;else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end"}this._super()},_setOption:function(t,e){if("text"===t){this._super("showLabel",e);return}"showLabel"===t&&(this.options.text=e);"icon"===t&&(this.options.icons.primary=e);if("icons"===t)if(e.primary){this._super("icon",e.primary);this._super("iconPosition","beginning")}else if(e.secondary){this._super("icon",e.secondary);this._super("iconPosition","end")}this._superApply(arguments)}});t.fn.button=function(e){return function(){if(!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type"))return e.apply(this,arguments);t.ui.checkboxradio||t.error("Checkboxradio widget missing");if(0===arguments.length)return this.checkboxradio({icon:false});return this.checkboxradio.apply(this,arguments)}}(t.fn.button);t.fn.buttonset=function(){t.ui.controlgroup||t.error("Controlgroup widget missing");if("option"===arguments[0]&&"items"===arguments[1]&&arguments[2])return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);if("option"===arguments[0]&&"items"===arguments[1])return this.controlgroup.apply(this,[arguments[0],"items.button"]);"object"===typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items});return this.controlgroup.apply(this,arguments)}}var W=t.ui.button;t.extend(t.ui,{datepicker:{version:"1.12.1"}});var U;function G(t){var e,n;while(t.length&&t[0]!==document){e=t.css("position");if("absolute"===e||"relative"===e||"fixed"===e){n=parseInt(t.css("zIndex"),10);if(!isNaN(n)&&0!==n)return n}t=t.parent()}return 0}function K(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};t.extend(this._defaults,this.regional[""]);this.regional.en=t.extend(true,{},this.regional[""]);this.regional["en-US"]=t.extend(true,{},this.regional.en);this.dpDiv=Y(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}t.extend(K.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){Z(this._defaults,t||{});return this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase();r="div"===i||"span"===i;if(!e.id){this.uuid+=1;e.id="dp"+this.uuid}o=this._newInst(t(e),r);o.settings=t.extend({},n||{});"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?Y(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]);n.trigger=t([]);if(i.hasClass(this.markerClassName))return;this._attachments(i,n);i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(n);t.data(e,"datepicker",n);n.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove();if(s){n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>");e[a?"before":"after"](n.append)}e.off("focus",this._showDatepicker);n.trigger&&n.trigger.remove();i=this._get(n,"showOn");"focus"!==i&&"both"!==i||e.on("focus",this._showDatepicker);if("button"===i||"both"===i){r=this._get(n,"buttonText");o=this._get(n,"buttonImage");n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r));e[a?"before":"after"](n.trigger);n.trigger.on("click",function(){if(t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0])t.datepicker._hideDatepicker();else if(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]){t.datepicker._hideDatepicker();t.datepicker._showDatepicker(e[0])}else t.datepicker._showDatepicker(e[0]);return false})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");if(s.match(/[DM]/)){e=function(t){n=0;i=0;for(r=0;r<t.length;r++)if(t[r].length>n){n=t[r].length;i=r}return i};o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort")));o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())}t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);if(i.hasClass(this.markerClassName))return;i.addClass(this.markerClassName).append(n.dpDiv);t.data(e,"datepicker",n);this._setDate(n,this._getDefaultDate(n),true);this._updateDatepicker(n);this._updateAlternate(n);n.settings.disabled&&this._disableDatepicker(e);n.dpDiv.css("display","block")},_dialogDatepicker:function(e,n,i,r,o){var s,a,l,c,u,d=this._dialogInst;if(!d){this.uuid+=1;s="dp"+this.uuid;this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);t("body").append(this._dialogInput);d=this._dialogInst=this._newInst(this._dialogInput,false);d.settings={};t.data(this._dialogInput[0],"datepicker",d)}Z(d.settings,r||{});n=n&&n.constructor===Date?this._formatDate(d,n):n;this._dialogInput.val(n);this._pos=o?o.length?o:[o.pageX,o.pageY]:null;if(!this._pos){a=document.documentElement.clientWidth;l=document.documentElement.clientHeight;c=document.documentElement.scrollLeft||document.body.scrollLeft;u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+c,l/2-150+u]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");d.settings.onSelect=i;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);t.blockUI&&t.blockUI(this.dpDiv);t.data(this._dialogInput[0],"datepicker",d);return this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");if(!i.hasClass(this.markerClassName))return;n=e.nodeName.toLowerCase();t.removeData(e,"datepicker");if("input"===n){r.append.remove();r.trigger.remove();i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty();U===r&&(U=null)},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");if(!r.hasClass(this.markerClassName))return;n=e.nodeName.toLowerCase();if("input"===n){e.disabled=false;o.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if("div"===n||"span"===n){i=r.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t})},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");if(!r.hasClass(this.markerClassName))return;n=e.nodeName.toLowerCase();if("input"===n){e.disabled=true;o.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if("div"===n||"span"===n){i=r.children("."+this._inlineClass);i.children().addClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t});this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(t){if(!t)return false;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return true;return false},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,a,l=this._getInst(e);if(2===arguments.length&&"string"===typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null;r=n||{};if("string"===typeof n){r={};r[n]=i}if(l){this._curInst===l&&this._hideDatepicker();o=this._getDateDatepicker(e,true);s=this._getMinMaxDate(l,"min");a=this._getMinMaxDate(l,"max");Z(l.settings,r);null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,s));null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,a));"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e));this._attachments(t(e),l);this._autoSize(l);this._setDate(l,o);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);if(n){this._setDate(n,e);this._updateDatepicker(n);this._updateAlternate(n)}},_getDateDatepicker:function(t,e){var n=this._getInst(t);n&&!n.inline&&this._setDateFromField(n,e);return n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=true,a=o.dpDiv.is(".ui-datepicker-rtl");o._keyEvent=true;if(t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker();s=false;break;case 13:r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv);r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]);n=t.datepicker._get(o,"onSelect");if(n){i=t.datepicker._formatDate(o);n.apply(o.input?o.input[0]:null,[i,o])}else t.datepicker._hideDatepicker();return false;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target);s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target);s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D");s=e.ctrlKey||e.metaKey;e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D");s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D");s=e.ctrlKey||e.metaKey;e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D");s=e.ctrlKey||e.metaKey;break;default:s=false}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=false;if(s){e.preventDefault();e.stopPropagation()}},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput")){n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat"));i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1}},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i));if(n){t.datepicker._setDateFromField(i);t.datepicker._updateAlternate(i);t.datepicker._updateDatepicker(i)}}catch(t){}return true},_showDatepicker:function(e){e=e.target||e;"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]);if(t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)return;var n,i,r,o,s,a,l;n=t.datepicker._getInst(e);if(t.datepicker._curInst&&t.datepicker._curInst!==n){t.datepicker._curInst.dpDiv.stop(true,true);n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])}i=t.datepicker._get(n,"beforeShow");r=i?i.apply(e,[e,n]):{};if(false===r)return;Z(n.settings,r);n.lastVal=null;t.datepicker._lastInput=e;t.datepicker._setDateFromField(n);t.datepicker._inDialog&&(e.value="");if(!t.datepicker._pos){t.datepicker._pos=t.datepicker._findPos(e);t.datepicker._pos[1]+=e.offsetHeight}o=false;t(e).parents().each(function(){o|="fixed"===t(this).css("position");return!o});s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]};t.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});t.datepicker._updateDatepicker(n);s=t.datepicker._checkOffset(n,s,o);n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!n.inline){a=t.datepicker._get(n,"showAnim");l=t.datepicker._get(n,"duration");n.dpDiv.css("z-index",G(t(e))+1);t.datepicker._datepickerShowing=true;t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),l):n.dpDiv[a||"show"](a?l:null);t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus");t.datepicker._curInst=n}},_updateDatepicker:function(e){this.maxRows=4;U=e;e.dpDiv.empty().append(this._generateHTML(e));this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=17,s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&X.apply(s.get(0));e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em");e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi");e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus");if(e.yearshtml){n=e.yearshtml;setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml);n=e.yearshtml=null},0)}},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());n.left-=this._get(e,"isRTL")?r-s:0;n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0;n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0;n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0);n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+a):0);return n},_findPos:function(e){var n,i=this._getInst(e),r=this._get(i,"isRTL");while(e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e)))e=e[r?"previousSibling":"nextSibling"];n=t(e).offset();return[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;if(!s||e&&s!==t.data(e,"datepicker"))return;if(this._datepickerShowing){n=this._get(s,"showAnim");i=this._get(s,"duration");r=function(){t.datepicker._tidyDialog(s)};t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r);n||r();this._datepickerShowing=false;o=this._get(s,"onClose");o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(t.blockUI){t.unblockUI();t("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!t.datepicker._curInst)return;var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&!(t.datepicker._inDialog&&t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0]))return;this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i);this._updateDatepicker(o)},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);if(this._get(r,"gotoCurrent")&&r.currentDay){r.selectedDay=r.currentDay;r.drawMonth=r.selectedMonth=r.currentMonth;r.drawYear=r.selectedYear=r.currentYear}else{n=new Date;r.selectedDay=n.getDate();r.drawMonth=r.selectedMonth=n.getMonth();r.drawYear=r.selectedYear=n.getFullYear()}this._notifyChange(r);this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10);this._notifyChange(o);this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);if(t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0]))return;o=this._getInst(s[0]);o.selectedDay=o.currentDay=t("a",r).html();o.selectedMonth=o.currentMonth=n;o.selectedYear=o.currentYear=i;this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o);o.input&&o.input.val(n);this._updateAlternate(o);i=this._get(o,"onSelect");i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change");if(o.inline)this._updateDatepicker(o);else{this._hideDatepicker();this._lastInput=o.input[0];"object"!==typeof o.input[0]&&o.input.trigger("focus");this._lastInput=null}},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");if(o){n=this._get(e,"altFormat")||this._get(e,"dateFormat");i=this._getDate(e);r=this.formatDate(n,i,this._getFormatConfig(e));t(o).val(r)}},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));e=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";n="object"===typeof n?n.toString():n+"";if(""===n)return null;var r,o,s,a=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!==typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,v=-1,g=-1,m=-1,b=false,y,x=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;n&&r++;return n},w=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(a).match(o);if(!s)throw"Missing number at position "+a;a+=s[0].length;return parseInt(s[0],10)},q=function(e,i,r){var o=-1,s=t.map(x(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});t.each(s,function(t,e){var i=e[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase()){o=e[0];a+=i.length;return false}});if(-1!==o)return o+1;throw"Unknown name at position "+a},_=function(){if(n.charAt(a)!==e.charAt(r))throw"Unexpected literal at position "+a;a++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||x("'")?_():b=false;else switch(e.charAt(r)){case"d":g=w("d");break;case"D":q("D",u,d);break;case"o":m=w("o");break;case"m":v=w("m");break;case"M":v=q("M",p,f);break;case"y":h=w("y");break;case"@":y=new Date(w("@"));h=y.getFullYear();v=y.getMonth()+1;g=y.getDate();break;case"!":y=new Date((w("!")-this._ticksTo1970)/1e4);h=y.getFullYear();v=y.getMonth()+1;g=y.getDate();break;case"'":x("'")?_():b=true;break;default:_()}if(a<n.length){s=n.substr(a);if(!/^\s+/.test(s))throw"Extra/unparsed characters found in date: "+s}-1===h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=c?0:-100));if(m>-1){v=1;g=m;do{o=this._getDaysInMonth(h,v-1);if(g<=o)break;v++;g-=o}while(true)}y=this._daylightSavingAdjust(new Date(h,v-1,g));if(y.getFullYear()!==h||y.getMonth()+1!==v||y.getDate()!==g)throw"Invalid date";return y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;n&&i++;return n},c=function(t,e,n){var i=""+e;if(l(t))while(i.length<n)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",p=false;if(e)for(i=0;i<t.length;i++)if(p)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):p=false;else switch(t.charAt(i)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":p=true;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=false,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;i&&e++;return i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=false;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=true;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()===t.lastVal)return;var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate();t.drawMonth=t.selectedMonth=o.getMonth();t.drawYear=t.selectedYear=o.getFullYear();t.currentDay=i?o.getDate():0;t.currentMonth=i?o.getMonth():0;t.currentYear=i?o.getFullYear():0;this._adjustInstDate(t)},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;e.setDate(e.getDate()+t);return e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);while(l){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10);s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10);s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break}l=a.exec(n)}return new Date(r,o,s)},s=null==n||""===n?i:"string"===typeof n?o(n):"number"===typeof n?isNaN(n)?i:r(n):new Date(n.getTime());s=s&&"Invalid Date"===s.toString()?i:s;if(s){s.setHours(0);s.setMinutes(0);s.setSeconds(0);s.setMilliseconds(0)}return this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){if(!t)return null;t.setHours(t.getHours()>12?t.getHours()+2:0);return t},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate();t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth();t.drawYear=t.selectedYear=t.currentYear=s.getFullYear();r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t);this._adjustInstDate(t);t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){t.datepicker._selectMonthYear(i,this,"M");return false},selectYear:function(){t.datepicker._selectMonthYear(i,this,"Y");return false}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w,q,_,C,S,D,E,k,T,A,I,O,L,P,M,N,j,F,R,V=new Date,$=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),H=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),B=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),Y=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-G,tt=t.drawYear;if(Q<0){Q+=12;tt--}if(J){e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate()));e=Z&&e<Z?Z:e;while(this._daylightSavingAdjust(new Date(tt,Q,1))>e){Q--;if(Q<0){Q=11;tt--}}}t.drawMonth=Q;t.drawYear=tt;n=this._get(t,"prevText");n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-K,1)),this._getFormatConfig(t)):n;i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>";r=this._get(t,"nextText");r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+K,1)),this._getFormatConfig(t)):r;o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>";s=this._get(t,"currentText");a=this._get(t,"gotoCurrent")&&t.currentDay?X:$;s=W?this.formatDate(s,a,this._getFormatConfig(t)):s;l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>";c=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"";u=parseInt(this._get(t,"firstDay"),10);u=isNaN(u)?0:u;d=this._get(t,"showWeek");p=this._get(t,"dayNames");f=this._get(t,"dayNamesMin");h=this._get(t,"monthNames");v=this._get(t,"monthNamesShort");g=this._get(t,"beforeShowDay");m=this._get(t,"showOtherMonths");b=this._get(t,"selectOtherMonths");y=this._getDefaultDate(t);x="";for(q=0;q<U[0];q++){_="";this.maxRows=4;for(C=0;C<U[1];C++){S=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay));D=" ui-corner-all";E="";if(Y){E+="<div class='ui-datepicker-group";if(U[1]>1)switch(C){case 0:E+=" ui-datepicker-group-first";D=" ui-corner-"+(H?"right":"left");break;case U[1]-1:E+=" ui-datepicker-group-last";D=" ui-corner-"+(H?"left":"right");break;default:E+=" ui-datepicker-group-middle";D="";break}E+="'>"}E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===q?H?o:i:"")+(/all|right/.test(D)&&0===q?H?i:o:"")+this._generateMonthYearHeader(t,Q,tt,Z,J,q>0||C>0,h,v)+"</div><table class='ui-datepicker-calendar'><thead><tr>";k=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"";for(w=0;w<7;w++){T=(w+u)%7;k+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[T]+"'>"+f[T]+"</span></th>"}E+=k+"</tr></thead><tbody>";A=this._getDaysInMonth(tt,Q);tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A));I=(this._getFirstDayOfMonth(tt,Q)-u+7)%7;O=Math.ceil((I+A)/7);L=Y&&this.maxRows>O?this.maxRows:O;this.maxRows=L;P=this._daylightSavingAdjust(new Date(tt,Q,1-I));for(M=0;M<L;M++){E+="<tr>";N=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"";for(w=0;w<7;w++){j=g?g.apply(t.input?t.input[0]:null,[P]):[true,""];F=P.getMonth()!==Q;R=F&&!b||!j[0]||Z&&P<Z||J&&P>J;N+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===S.getTime()&&Q===t.selectedMonth&&t._keyEvent||y.getTime()===P.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!m?"":" "+j[1]+(P.getTime()===X.getTime()?" "+this._currentClass:"")+(P.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(F&&!m||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!m?"&#xa0;":R?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===$.getTime()?" ui-state-highlight":"")+(P.getTime()===X.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}E+=N+"</tr>"}Q++;if(Q>11){Q=0;tt++}E+="</tbody></table>"+(Y?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");_+=E}x+=_}x+=c;t._keyEvent=false;return x},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,c,u,d,p,f,h,v,g=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",x="";if(o||!g)x+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{l=i&&i.getFullYear()===n;c=r&&r.getFullYear()===n;x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");x+="</select>"}b||(y+=x+(o||!(g&&m)?"&#xa0;":""));if(!t.yearshtml){t.yearshtml="";if(o||!m)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{d=this._get(t,"yearRange").split(":");p=(new Date).getFullYear();f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?p+parseInt(t,10):parseInt(t,10);return isNaN(e)?p:e};h=f(d[0]);v=Math.max(h,f(d[1]||""));h=i?Math.max(h,i.getFullYear()):h;v=r?Math.min(v,r.getFullYear()):v;t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;h<=v;h++)t.yearshtml+="<option value='"+h+"'"+(h===n?" selected='selected'":"")+">"+h+"</option>";t.yearshtml+="</select>";y+=t.yearshtml;t.yearshtml=null}}y+=this._get(t,"yearSuffix");b&&(y+=(o||!(g&&m)?"&#xa0;":"")+x);y+="</div>";return y},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate();t.drawMonth=t.selectedMonth=s.getMonth();t.drawYear=t.selectedYear=s.getFullYear();"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"===typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth()));return this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");if(l){n=l.split(":");i=(new Date).getFullYear();s=parseInt(n[0],10);a=parseInt(n[1],10);n[0].match(/[+\-].*/)&&(s+=i);n[1].match(/[+\-].*/)&&(a+=i)}return(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");e="string"!==typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);return{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){if(!e){t.currentDay=t.selectedDay;t.currentMonth=t.selectedMonth;t.currentYear=t.selectedYear}var r=e?"object"===typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}});function Y(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,X)}function X(){if(!t.datepicker._isDisabledDatepicker(U.inline?U.dpDiv.parent()[0]:U.input[0])){t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");t(this).addClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover")}}function Z(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}t.fn.datepicker=function(e){if(!this.length)return this;if(!t.datepicker.initialized){t(document).on("mousedown",t.datepicker._checkExternalClick);t.datepicker.initialized=true}0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);if("string"===typeof e&&("isDisabled"===e||"getDate"===e||"widget"===e))return t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n));if("option"===e&&2===arguments.length&&"string"===typeof arguments[1])return t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n));return this.each(function(){"string"===typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)})};t.datepicker=new K;t.datepicker.initialized=false;t.datepicker.uuid=(new Date).getTime();t.datepicker.version="1.12.1";var J=t.datepicker;var Q=t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var tt=false;t(document).on("mouseup",function(){tt=false});var et=t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(true===t.data(n.target,e.widgetName+".preventClickEvent")){t.removeData(n.target,e.widgetName+".preventClickEvent");n.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(tt)return;this._mouseMoved=false;this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!==typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;if(!i||r||!this._mouseCapture(e))return true;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=true},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=false!==this._mouseStart(e);if(!this._mouseStarted){e.preventDefault();return true}}true===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(t){return n._mouseMove(t)};this._mouseUpDelegate=function(t){return n._mouseUp(t)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();tt=true;return true},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=true;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}(e.which||e.button)&&(this._mouseMoved=true);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=false!==this._mouseStart(this._mouseDownEvent,e);this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",true);this._mouseStop(e)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;tt=false;e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var nt=t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i){o.plugins[r]=o.plugins[r]||[];o.plugins[r].push([n,i[r]])}},call:function(t,e,n,i){var r,o=t.plugins[e];if(!o)return;if(!i&&(!t.element[0].parentNode||11===t.element[0].parentNode.nodeType))return;for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var it=t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(t,e){this._super(t,e);if("handle"===t){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(e){var n=this.options;if(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)return false;this.handle=this._getHandle(e);if(!this.handle)return false;this._blurActiveElement(e);this._blockFrames(true===n.iframeFix?"iframe":n.iframeFix);return true},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);if(i.closest(n).length)return;t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;this.helper=this._createHelper(e);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();t.ui.ddmanager&&(t.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(e);this.originalPosition=this.position=this._generatePosition(e,false);this.originalPageX=e.pageX;this.originalPageY=e.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this._setContainment();if(false===this._trigger("start",e)){this._clear();return false}this._cacheHelperProportions();t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e);this._mouseDrag(e,true);t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e);return true},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(e,true);this.positionAbs=this._convertPositionTo("absolute");if(!n){var i=this._uiHash();if(false===this._trigger("drag",e,i)){this._mouseUp(new t.Event("mouseup",e));return false}this.position=i.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";t.ui.ddmanager&&t.ui.ddmanager.drag(this,e);return false},_mouseStop:function(e){var n=this,i=false;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e));if(this.dropped){i=this.dropped;this.dropped=false}"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||true===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){false!==n._trigger("stop",e)&&n._clear()}):false!==this._trigger("stop",e)&&this._clear();return false},_mouseUp:function(e){this._unblockFrames();t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e);this.handleElement.is(e.target)&&this.element.trigger("focus");return t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear();return this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo);i&&r[0]===this.element[0]&&this._setPositionRelative();r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute");return r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" "));t.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&(this.offset.click.left=e.left+this.margins.left);"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left);"top"in e&&(this.offset.click.top=e.top+this.margins.top);"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];if("absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0});return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null;if(!r.containment){this.containment=null;return}if("window"===r.containment){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if("document"===r.containment){this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}"parent"===r.containment&&(r.containment=this.helper[0].parentNode);n=t(r.containment);i=n[0];if(!i)return;e=/(scroll|auto)/.test(n.css("overflow"));this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=n},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});if(e){if(this.containment){if(this.relativeContainer){i=this.relativeContainer.offset();n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else n=this.containment;t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left);t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top);t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left);t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)}if(s.grid){r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY;c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r;o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX;l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o}"y"===s.axis&&(l=this.originalPageX);"x"===s.axis&&(c=this.originalPageY)}return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){i=i||this._uiHash();t.ui.plugin.call(this,e,[n,i,this],true);if(/^(drag|start|stop)/.test(e)){this.positionAbs=this._convertPositionTo("absolute");i.offset=this.positionAbs}return t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[];t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");if(n&&!n.options.disabled){i.sortables.push(n);n.refreshPositions();n._trigger("activate",e,r)}})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=false;t.each(i.sortables,function(){var t=this;if(t.isOver){t.isOver=0;i.cancelHelperRemoval=true;t.cancelHelperRemoval=false;t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")};t._mouseStop(e);t.options.helper=t.options._helper}else{t.cancelHelperRemoval=true;t._trigger("deactivate",e,r)}})},drag:function(e,n,i){t.each(i.sortables,function(){var r=false,o=this;o.positionAbs=i.positionAbs;o.helperProportions=i.helperProportions;o.offset.click=i.offset.click;if(o._intersectsWith(o.containerCache)){r=true;t.each(i.sortables,function(){this.positionAbs=i.positionAbs;this.helperProportions=i.helperProportions;this.offset.click=i.offset.click;this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=false);return r})}if(r){if(!o.isOver){o.isOver=1;i._parent=n.helper.parent();o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",true);o.options._helper=o.options.helper;o.options.helper=function(){return n.helper[0]};e.target=o.currentItem[0];o._mouseCapture(e,true);o._mouseStart(e,true,true);o.offset.click.top=i.offset.click.top;o.offset.click.left=i.offset.click.left;o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left;o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top;i._trigger("toSortable",e);i.dropped=o.element;t.each(i.sortables,function(){this.refreshPositions()});i.currentItem=i.element;o.fromOutside=i}if(o.currentItem){o._mouseDrag(e);n.position=o.position}}else if(o.isOver){o.isOver=0;o.cancelHelperRemoval=true;o.options._revert=o.options.revert;o.options.revert=false;o._trigger("out",e,o._uiHash(o));o._mouseStop(e,true);o.options.revert=o.options._revert;o.options.helper=o.options._helper;o.placeholder&&o.placeholder.remove();n.helper.appendTo(i._parent);i._refreshOffsets(e);n.position=i._generatePosition(e,true);i._trigger("fromSortable",e);i.dropped=false;t.each(i.sortables,function(){this.refreshPositions()})}})}});t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor"));r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}});t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity"));r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}});t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(false));n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=false,s=i.scrollParentNotHidden[0],a=i.document[0];if(s!==a&&"HTML"!==s.tagName){r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed));r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))}else{r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed)));r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))}false!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}});t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[];t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,d,p,f,h=i.options,v=h.snapTolerance,g=n.offset.left,m=g+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(p=i.snapElements.length-1;p>=0;p--){l=i.snapElements[p].left-i.margins.left;c=l+i.snapElements[p].width;u=i.snapElements[p].top-i.margins.top;d=u+i.snapElements[p].height;if(m<l-v||g>c+v||y<u-v||b>d+v||!t.contains(i.snapElements[p].item.ownerDocument,i.snapElements[p].item)){i.snapElements[p].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[p].item}));i.snapElements[p].snapping=false;continue}if("inner"!==h.snapMode){r=Math.abs(u-y)<=v;o=Math.abs(d-b)<=v;s=Math.abs(l-m)<=v;a=Math.abs(c-g)<=v;r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top);o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top);s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left);a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)}f=r||o||s||a;if("outer"!==h.snapMode){r=Math.abs(u-b)<=v;o=Math.abs(d-y)<=v;s=Math.abs(l-g)<=v;a=Math.abs(c-m)<=v;r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top);o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top);s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left);a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)}!i.snapElements[p].snapping&&(r||o||s||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[p].item}));i.snapElements[p].snapping=r||o||s||a||f}}});t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});if(!s.length)return;r=parseInt(t(s[0]).css("zIndex"),10)||0;t(s).each(function(e){t(this).css("zIndex",r+e)});this.css("zIndex",r+s.length)}});t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex"));r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});var rt=t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return false;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=false;if(e[i]>0)return true;e[i]=1;r=e[i]>0;e[i]=0;return r},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable");t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(e);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(e);this._proportionallyResize()}this._setupHandles();n.autoHide&&t(this.element).on("mouseenter",function(){if(n.disabled)return;i._removeClass("ui-resizable-autohide");i._handles.show()}).on("mouseleave",function(){if(n.disabled)return;if(!i.resizing){i._addClass("ui-resizable-autohide");i._handles.hide()}});this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){n(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);n(this.originalElement);return this},_setOption:function(t,e){this._super(t,e);switch(t){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var e=this.options,n,i,r,o,s,a=this;this.handles=e.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=t();if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");r=this.handles.split(",");this.handles={};for(i=0;i<r.length;i++){n=t.trim(r[i]);o="ui-resizable-"+n;s=t("<div>");this._addClass(s,"ui-resizable-handle "+o);s.css({zIndex:e.zIndex});this.handles[n]=".ui-resizable-"+n;this.element.append(s)}}this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles){if(this.handles[n].constructor===String)this.handles[n]=this.element.children(this.handles[n]).first().show();else if(this.handles[n].jquery||this.handles[n].nodeType){this.handles[n]=t(this.handles[n]);this._on(this.handles[n],{mousedown:a._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){i=t(this.handles[n],this.element);o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth();r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");e.css(r,o);this._proportionallyResize()}this._handles=this._handles.add(this.handles[n])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!a.resizing){this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i));a.axis=s&&s[1]?s[1]:"se"}});if(e.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=false;for(n in this.handles){i=t(this.handles[n])[0];(i===e.target||t.contains(i,e.target))&&(r=true)}return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;this.resizing=true;this._renderProxy();n=this._num(this.helper.css("left"));i=this._num(this.helper.css("top"));if(o.containment){n+=t(o.containment).scrollLeft()||0;i+=t(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:n,top:i};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()};this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()};this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()};this.originalPosition={left:n,top:i};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio="number"===typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;r=t(".ui-resizable-"+this.axis).css("cursor");t("body").css("cursor","auto"===r?this.axis+"-resize":r);this._addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];this._updatePrevProperties();if(!l)return false;n=l.apply(this,[e,s,a]);this._updateVirtualBoundaries(e.shiftKey);(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e));n=this._respectSize(n,e);this._updateCache(n);this._propagate("resize",e);i=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();if(!t.isEmptyObject(i)){this._updatePrevProperties();this._trigger("resize",e,this.ui());this._applyChanges()}return false},_mouseStop:function(e){this.resizing=false;var n,i,r,o,s,a,l,c=this.options,u=this;if(this._helper){n=this._proportionallyResizeElements;i=n.length&&/textarea/i.test(n[0].nodeName);r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height;o=i?0:u.sizeDiff.width;s={width:u.helper.width()-o,height:u.helper.height()-r};a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null;l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null;c.animate||this.element.css(t.extend(s,{top:l,left:a}));u.helper.height(u.size.height);u.helper.width(u.size.width);this._helper&&!c.animate&&this._proportionallyResize()}t("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px");this.helper.css(t);return t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity};if(this._aspectRatio||t){e=o.minHeight*this.aspectRatio;i=o.minWidth/this.aspectRatio;n=o.maxHeight*this.aspectRatio;r=o.maxWidth/this.aspectRatio;e>o.minWidth&&(o.minWidth=e);i>o.minHeight&&(o.minHeight=i);n<o.maxWidth&&(o.maxWidth=n);r<o.maxHeight&&(o.maxHeight=r)}this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset();this._isNumber(t.left)&&(this.position.left=t.left);this._isNumber(t.top)&&(this.position.top=t.top);this._isNumber(t.height)&&(this.size.height=t.height);this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio);if("sw"===i){t.left=e.left+(n.width-t.width);t.top=null}if("nw"===i){t.top=e.top+(n.height-t.height);t.left=e.left+(n.width-t.width)}return t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);o&&(t.width=e.minWidth);s&&(t.height=e.minHeight);i&&(t.width=e.maxWidth);r&&(t.height=e.maxHeight);o&&c&&(t.left=a-e.minWidth);i&&c&&(t.left=a-e.maxWidth);s&&u&&(t.top=l-e.minHeight);r&&u&&(t.top=l-e.maxHeight);t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null;return t},_getPaddingPlusBorderDimensions:function(t){var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];for(;e<4;e++){n[e]=parseFloat(i[e])||0;n[e]+=parseFloat(r[e])||0}return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var t,e=0,n=this.helper||this.element;for(;e<this._proportionallyResizeElements.length;e++){t=this._proportionallyResizeElements[e];this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t));t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||t("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]);"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height});n._updateCache(i);n._propagate("resize",e)}})}});t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;if(!p)return;l.containerElement=t(p);if(/document/.test(d)||d===document){l.containerOffset={left:0,top:0};l.containerPosition={left:0,top:0};l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}}else{e=t(p);n=[];t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))});l.containerOffset=e.offset();l.containerPosition=e.position();l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]};i=l.containerOffset;r=l.containerSize.height;o=l.containerSize.width;s=l._hasScroll(p,"left")?p.scrollWidth:o;a=l._hasScroll(p)?p.scrollHeight:r;l.parentData={element:p,left:i.left,top:i.top,width:s,height:a}}},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,d={top:0,left:0},p=s.containerElement,f=true;p[0]!==document&&/static/.test(p.css("position"))&&(d=l);if(c.left<(s._helper?l.left:0)){s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left);if(u){s.size.height=s.size.width/s.aspectRatio;f=false}s.position.left=a.helper?l.left:0}if(c.top<(s._helper?l.top:0)){s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top);if(u){s.size.width=s.size.height*s.aspectRatio;f=false}s.position.top=s._helper?l.top:0}r=s.containerElement.get(0)===s.element.parent().get(0);o=/relative|absolute/.test(s.containerElement.css("position"));if(r&&o){s.offset.left=s.parentData.left+s.position.left;s.offset.top=s.parentData.top+s.position.top}else{s.offset.left=s.element.offset().left;s.offset.top=s.element.offset().top}n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left));i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top));if(n+s.size.width>=s.parentData.width){s.size.width=s.parentData.width-n;if(u){s.size.height=s.size.width/s.aspectRatio;f=false}}if(i+s.size.height>=s.parentData.height){s.size.height=s.parentData.height-i;if(u){s.size.width=s.size.height*s.aspectRatio;f=false}}if(!f){s.position.left=s.prevPosition.left;s.position.top=s.prevPosition.top;s.size.width=s.prevSize.width;s.size.height=s.prevSize.height}},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c});e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}});t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)});e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}});t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0});e._addClass(e.ghost,"ui-resizable-ghost");false!==t.uiBackCompat&&"string"===typeof e.options.ghost&&e.ghost.addClass(this.options.ghost);e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"===typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,p=Math.round((r.height-o.height)/u)*u,f=o.width+d,h=o.height+p,v=i.maxWidth&&i.maxWidth<f,g=i.maxHeight&&i.maxHeight<h,m=i.minWidth&&i.minWidth>f,b=i.minHeight&&i.minHeight>h;i.grid=l;m&&(f+=c);b&&(h+=u);v&&(f-=c);g&&(h-=u);if(/^(se|s|e)$/.test(a)){n.size.width=f;n.size.height=h}else if(/^(ne)$/.test(a)){n.size.width=f;n.size.height=h;n.position.top=s.top-p}else if(/^(sw)$/.test(a)){n.size.width=f;n.size.height=h;n.position.left=s.left-d}else{(h-u<=0||f-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this));if(h-u>0){n.size.height=h;n.position.top=s.top-p}else{h=u-e.height;n.size.height=h;n.position.top=s.top+o.height-h}if(f-c>0){n.size.width=f;n.position.left=s.left-d}else{f=c-e.width;n.size.width=f;n.position.left=s.left+o.width-f}}}});var ot=t.ui.resizable;t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=false);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&t.fn.draggable&&this._makeDraggable();this.options.resizable&&t.fn.resizable&&this._makeResizable();this._isOpen=false;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType))return t(e);return this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);t=e.parent.children().eq(e.index);t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;if(!this._isOpen||false===this._trigger("beforeClose",e))return;this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0]));this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=false,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);if(o>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",o+1);i=true}i&&!n&&this._trigger("focus",e);return i},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=true;this.opener=t(t.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1);this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]"));t.length||(t=this.element.find(":tabbable"));t.length||(t=this.uiDialogButtonPane.find(":tabbable"));t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable"));t.length||(t=this.uiDialog);t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault();n.call(this);this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE){e.preventDefault();this.close(e);return}if(e.keyCode!==t.ui.keyCode.TAB||e.isDefaultPrevented())return;var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");if(e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey){if((e.target===i[0]||e.target===this.uiDialog[0])&&e.shiftKey){this._delay(function(){r.trigger("focus")});e.preventDefault()}}else{this._delay(function(){i.trigger("focus")});e.preventDefault()}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault();this.close(t)}});e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(e,"ui-dialog-title");this._title(e);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(t.isEmptyObject(n)||t.isArray(n)&&!n.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i;i=t.extend({type:"button"},i);r=i.click;o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text};delete i.click;delete i.icon;delete i.iconPosition;delete i.showLabel;delete i.icons;"boolean"===typeof i.text&&delete i.text;t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging");e._blockFrames();e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window};e._removeClass(t(this),"ui-dialog-dragging");e._unblockFrames();e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"===typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing");e._blockFrames();e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),l=o.top-e.document.scrollTop();n.height=e.uiDialog.height();n.width=e.uiDialog.width();n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:e.window};e._removeClass(t(this),"ui-dialog-resizing");e._unblockFrames();e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget();this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");if(!t){t=[];this.document.data("ui-dialog-instances",t)}return t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show();this.uiDialog.position(this.options.position);t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=false,r={};t.each(e,function(t,e){n._setOption(t,e);t in n.sizeRelatedOptions&&(i=true);t in n.resizableRelatedOptions&&(r[t]=e)});if(i){this._size();this._position()}this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;if("disabled"===e)return;this._super(e,n);"appendTo"===e&&this.uiDialog.appendTo(this._appendTo());"buttons"===e&&this._createButtons();"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()});if("draggable"===e){i=o.is(":data(ui-draggable)");i&&!n&&o.draggable("destroy");!i&&n&&this._makeDraggable()}"position"===e&&this._position();if("resizable"===e){r=o.is(":data(ui-resizable)");r&&!n&&o.resizable("destroy");r&&"string"===typeof n&&o.resizable("option","handles",n);r||false===n||this._makeResizable()}"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});i.minWidth>i.width&&(i.width=i.minWidth);t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight();e=Math.max(0,i.minHeight-t);n="number"===typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none";"auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(t(e.target).closest(".ui-dialog").length)return true;return!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal)return;var e=true;this._delay(function(){e=false});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){if(e)return;if(!this._allowInteraction(t)){t.preventDefault();this._trackingInstances()[0]._focusTabbable()}}});this.overlay=t("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal)return;if(this.overlay){var t=this.document.data("ui-dialog-overlays")-1;if(t)this.document.data("ui-dialog-overlays",t);else{this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays")}this.overlay.remove();this.overlay=null}}});false!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e);this._superApply(arguments)}});var st=t.ui.dialog;t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=false;this.isout=true;this.accept=t.isFunction(i)?i:function(t){return t.is(i)};this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]};this._addToManager(n.scope);n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[];t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){var e=0;for(;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i);this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass();n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass();n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this._addHoverClass();this._trigger("over",e,this.ui(n))}},_out:function(e){var n=t.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this._removeHoverClass();this._trigger("out",e,this.ui(n))}},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=false;if(!i||(i.currentItem||i.element)[0]===this.element[0])return false;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&at(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)){r=true;return false}});if(r)return false;if(this.accept.call(this.element[0],i.currentItem||i.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",e,this.ui(i));return this.element}return false},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var at=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return false;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,p=u+n.proportions().height;switch(i){case"fit":return c<=o&&a<=d&&u<=s&&l<=p;case"intersect":return c<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<d&&u<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<p;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&s<=p||l>=u&&l<=p||s<u&&l>p)&&(o>=c&&o<=d||a>=c&&a<=d||o<c&&a>d);default:return false}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++){if(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))continue;for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display");if(!o[i].visible)continue;"mousedown"===s&&o[i]._activate.call(o[i],n);o[i].offset=o[i].element.offset();o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight})}},drop:function(e,n){var i=false;t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&at(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)){this.isout=true;this.isover=false;this._deactivate.call(this,n)}});return i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n);t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var i,r,o,s=at(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;if(!a)return;if(this.options.greedy){r=this.options.scope;o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r});if(o.length){i=t(o[0]).droppable("instance");i.greedyChild="isover"===a}}if(i&&"isover"===a){i.isover=false;i.isout=true;i._out.call(i,n)}this[a]=true;this["isout"===a?"isover":"isout"]=false;this["isover"===a?"_over":"_out"].call(this,n);if(i&&"isout"===a){i.isout=false;i.isover=true;i._over.call(i,n)}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable");e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}};false!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});var lt=t.ui.droppable;var ct=t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=t("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t);this._refreshValue()},_constrainedValue:function(t){void 0===t&&(t=this.options.value);this.indeterminate=false===t;"number"!==typeof t&&(t=0);return!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value;this._super(t);this.options.value=this._constrainedValue(e);this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e));this._super(t,e)},_setOptionDisabled:function(t){this._super(t);this.element.attr("aria-disabled",t);this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=t("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==e){this.oldValue=e;this._trigger("change")}e===this.options.max&&this._trigger("complete")}});var ut=t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){e.elementPos=t(e.element[0]).offset();e.selectees=t(e.options.filter,e.element[0]);e._addClass(e.selectees,"ui-selectee");e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:false,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=t("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY];this.elementPos=t(this.element[0]).offset();if(this.options.disabled)return;this.selectees=t(i.filter,this.element[0]);this._trigger("start",e);t(i.appendTo).append(this.helper);this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0});i.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=true;if(!e.metaKey&&!e.ctrlKey){n._removeClass(i.$element,"ui-selected");i.selected=false;n._addClass(i.$element,"ui-unselecting");i.unselecting=true;n._trigger("unselecting",e,{unselecting:i.element})}});t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r){i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected");n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting");r.unselecting=!i;r.selecting=i;r.selected=i;i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element});return false}})},_mouseDrag:function(e){this.dragged=true;if(this.options.disabled)return;var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;if(o>a){n=a;a=o;o=n}if(s>l){n=l;l=s;s=n}this.helper.css({left:o,top:s,width:a-o,height:l-s});this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=false,u={};if(!n||n.element===i.element[0])return;u.left=n.left+i.elementPos.left;u.right=n.right+i.elementPos.left;u.top=n.top+i.elementPos.top;u.bottom=n.bottom+i.elementPos.top;"touch"===r.tolerance?c=!(u.left>a||u.right<o||u.top>l||u.bottom<s):"fit"===r.tolerance&&(c=u.left>o&&u.right<a&&u.top>s&&u.bottom<l);if(c){if(n.selected){i._removeClass(n.$element,"ui-selected");n.selected=false}if(n.unselecting){i._removeClass(n.$element,"ui-unselecting");n.unselecting=false}if(!n.selecting){i._addClass(n.$element,"ui-selecting");n.selecting=true;i._trigger("selecting",e,{selecting:n.element})}}else{if(n.selecting)if((e.metaKey||e.ctrlKey)&&n.startselected){i._removeClass(n.$element,"ui-selecting");n.selecting=false;i._addClass(n.$element,"ui-selected");n.selected=true}else{i._removeClass(n.$element,"ui-selecting");n.selecting=false;if(n.startselected){i._addClass(n.$element,"ui-unselecting");n.unselecting=true}i._trigger("unselecting",e,{unselecting:n.element})}if(n.selected&&!e.metaKey&&!e.ctrlKey&&!n.startselected){i._removeClass(n.$element,"ui-selected");n.selected=false;i._addClass(n.$element,"ui-unselecting");n.unselecting=true;i._trigger("unselecting",e,{unselecting:n.element})}}});return false},_mouseStop:function(e){var n=this;this.dragged=false;t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting");i.unselecting=false;i.startselected=false;n._trigger("unselected",e,{unselected:i.element})});t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected");i.selecting=false;i.selected=true;i.startselected=true;n._trigger("selected",e,{selected:i.element})});this._trigger("stop",e);this.helper.remove();return false}});var dt=t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(t){this.button.focus();t.preventDefault()}});this.element.hide();this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");e=t("<span>").appendTo(this.button);this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(i).appendTo(this.button);false!==this.options.width&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=t("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault();e._setSelection();e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");if(null!=e.focusIndex&&i.index!==e.focusIndex){e._trigger("focus",t,{item:i});e.isOpen||e._select(i,t)}e.focusIndex=i.index;e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty();this._parseOptions(e);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!e.length)return;t=this._getSelectedItem();this.menuInstance.focus(null,t);this._setAria(t.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(t){if(this.options.disabled)return;if(this._rendered){this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem())}else this._refreshMenu();if(!this.menuItems.length)return;this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",t)},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){if(!this.isOpen)return;this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",t)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");this._setText(n,e.label);this._addClass(n,"ui-selectmenu-text");return n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;if(o.optgroup!==r){s=t("<li>",{text:o.optgroup});i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));s.appendTo(e);r=o.optgroup}i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});n.disabled&&this._addClass(i,null,"ui-state-disabled");this._setText(r,n.label);return i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";if(this.isOpen)n=this.menuItems.eq(this.focusIndex).parent("li");else{n=this.menuItems.eq(this.element[0].selectedIndex).parent("li");r+=":not(.ui-state-disabled)"}i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0);i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;if(!this.range)return;if(window.getSelection){t=window.getSelection();t.removeAllRanges();t.addRange(this.range)}else this.range.select();this.button.focus()},_documentClick:{mousedown:function(e){if(!this.isOpen)return;t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var t;if(window.getSelection){t=window.getSelection();t.rangeCount&&(this.range=t.getRangeAt(0))}else this.range=document.selection.createRange()},click:function(t){this._setSelection();this._toggle(t)},keydown:function(e){var n=true;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e);n=false;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e);n=false}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t));this._setAria(t);this._trigger("select",e,{item:t});t.index!==n&&this._trigger("change",e,{item:t});this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e});this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e);"appendTo"===t&&this.menuWrap.appendTo(this._appendTo());"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t);this.menuInstance.option("disabled",t);this.button.attr("aria-disabled",t);this._toggleClass(this.button,null,"ui-state-disabled",t);this.element.prop("disabled",t);if(t){this.button.attr("tabindex",-1);this.close()}else this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0));e&&e[0]||(e=this.element.closest(".ui-front, dialog"));e.length||(e=this.document[0].body);return e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;if(false===t){this.button.css("width","");return}if(null===t){t=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();t.disabled=this.element.prop("disabled");return t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))});this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);var pt=t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];n=i.values&&i.values.length||1;if(r.length>n){r.slice(n).remove();r=r.slice(0,n)}for(e=r.length;e<n;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;if(e.range){true===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]);if(this.range&&this.range.length){this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}else{this.range=t("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)}else{this.range&&this.range.remove();this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,c,u=this,d=this.options;if(d.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();n={x:e.pageX,y:e.pageY};i=this._normValueFromMouse(n);r=this._valueMax()-this._valueMin()+1;this.handles.each(function(e){var n=Math.abs(i-u.values(e));if(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===d.min)){r=n;o=t(this);s=e}});a=this._start(e,s);if(false===a)return false;this._mouseSliding=true;this._handleIndex=s;this._addClass(o,null,"ui-state-active");o.trigger("focus");l=o.offset();c=!t(e.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(e,s,i);this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);this._slide(t,this._handleIndex,n);return false},_mouseStop:function(t){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(t,this._handleIndex);this._change(t,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;if("horizontal"===this.orientation){e=this.elementSize.width;n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}i=n/e;i>1&&(i=1);i<0&&(i=0);"vertical"===this.orientation&&(i=1-i);r=this._valueMax()-this._valueMin();o=this._valueMin()+i*r;return this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};if(this._hasMultipleValues()){i.value=void 0!==e?e:this.values(t);i.values=n||this.values()}return i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r,o=this.value(),s=this.values();if(this._hasMultipleValues()){r=this.values(e?0:1);o=this.values(e);2===this.options.values.length&&true===this.options.range&&(n=0===e?Math.min(r,n):Math.max(r,n));s[e]=n}if(n===o)return;i=this._trigger("slide",t,this._uiHash(e,n,s));if(false===i)return;this._hasMultipleValues()?this.values(e,n):this.value(n)},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=e;this._trigger("change",t,this._uiHash(e))}},value:function(t){if(arguments.length){this.options.value=this._trimAlignValue(t);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,n){var i,r,o;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(n);this._refreshValue();this._change(null,e);return}if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();i=this.options.values;r=arguments[0];for(o=0;o<i.length;o+=1){i[o]=this._trimAlignValue(r[o]);this._change(null,o)}this._refreshValue()},_setOption:function(e,n){var i,r=0;if("range"===e&&true===this.options.range)if("min"===n){this.options.value=this._values(0);this.options.values=null}else if("max"===n){this.options.value=this._values(this.options.values.length-1);this.options.values=null}t.isArray(this.options.values)&&(r=this.options.values.length);this._super(e,n);switch(e){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(n);this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=r-1;i>=0;i--)this._change(null,i);this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(t){this._super(t);this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;t=this._trimAlignValue(t);return t},_values:function(t){var e,n,i;if(arguments.length){e=this.options.values[t];e=this._trimAlignValue(e);return e}if(this._hasMultipleValues()){n=this.options.values.slice();for(i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;2*Math.abs(n)>=e&&(i+=n>0?e:-e);return parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;t=i+e;t>this.options.max&&(t-=n);this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min)));return t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""});"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};if(this._hasMultipleValues())this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100;u["horizontal"===l.orientation?"left":"bottom"]=n+"%";t(this).stop(1,1)[c?"animate":"css"](u,a.animate);if(true===l.options.range)if("horizontal"===l.orientation){0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate);1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:false,duration:a.animate})}else{0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate);1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:false,duration:a.animate})}e=n});else{i=this.value();r=this._valueMin();o=this._valueMax();n=o!==r?(i-r)/(o-r)*100:0;u["horizontal"===this.orientation?"left":"bottom"]=n+"%";this.handle.stop(1,1)[c?"animate":"css"](u,a.animate);"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate);"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate);"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate);"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate)}},_handleEvents:{keydown:function(e){var n,i,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:e.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(t(e.target),null,"ui-state-active");n=this._start(e,s);if(false===n)return}break}o=this.options.step;i=r=this._hasMultipleValues()?this.values(s):this.value();switch(e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o);break}this._slide(e,s,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,n);this._change(e,n);this._removeClass(t(e.target),null,"ui-state-active")}}}});var ft=t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(t,e){this._super(t,e);"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=false,o=this;if(this.reverting)return false;if(this.options.disabled||"static"===this.options.type)return false;this._refreshItems(e);t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o){i=t(this);return false}});t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target));if(!i)return false;if(this.options.handle&&!n){t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=true)});if(!r)return false}this.currentItem=i;this._removeCurrentsFromItems();return true},_mouseStart:function(e,n,i){var r,o,s=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();s.containment&&this._setContainment();if(s.cursor&&"auto"!==s.cursor){o=this.document.find("body");this.storedCursor=o.css("cursor");o.css("cursor",s.cursor);this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)}if(s.opacity){this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity"));this.helper.css("opacity",s.opacity)}if(s.zIndex){this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex"));this.helper.css("zIndex",s.zIndex)}this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",e,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));t.ui.ddmanager&&(t.ui.ddmanager.current=this);t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e);this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=false;this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName){this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed);this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)}else{e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed));e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))}false!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(n=this.items.length-1;n>=0;n--){i=this.items[n];r=i.item[0];o=this._intersectsWithPointer(i);if(!o)continue;if(i.instance!==this.currentContainer)continue;if(r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){this.direction=1===o?"down":"up";if("pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i);this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);t.ui.ddmanager&&t.ui.ddmanager.drag(this,e);this._trigger("sort",e,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,n){if(!e)return;t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e);if(this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=true;t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return false},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null}));if("original"===this.options.helper){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove();t.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];e=e||{};t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))});!i.length&&e.key&&i.push(e.key+"=");return i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];e=e||{};n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")});return i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>a&&i+c<l,p="y"===this.options.axis||e+u>o&&e+u<s,f=d&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;if(!o)return false;e=this._getDragVerticalDirection();n=this._getDragHorizontalDirection();return this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1)},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--){r=t(l[n],this.document[0]);for(i=r.length-1;i>=0;i--){o=t.data(r[i],this.widgetFullName);o&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o])}}a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function c(){s.push(this)}for(n=a.length-1;n>=0;n--)a[n][0].each(c);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return false;return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--){r=t(p[n],this.document[0]);for(i=r.length-1;i>=0;i--){o=t.data(r[i],this.widgetFullName);if(o&&o!==this&&!o.options.disabled){d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]);this.containers.push(o)}}}for(n=d.length-1;n>=0;n--){s=d[n][1];a=d[n][0];for(i=0,c=a.length;i<c;i++){l=t(a[i]);l.data(this.widgetName+"-item",s);u.push({item:l,instance:s,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item));this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--){i=this.items[n];if(i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0])continue;r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item;if(!e){i.width=r.outerWidth();i.height=r.outerHeight()}o=r.offset();i.left=o.left;i.top=o.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left;this.containers[n].containerCache.top=o.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;if(!i.placeholder||i.placeholder.constructor===String){n=i.placeholder;i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper");"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src"));n||r.css("visibility","hidden");return r},update:function(t,r){if(n&&!i.forcePlaceholderSize)return;r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,d,p=null,f=null;for(n=this.containers.length-1;n>=0;n--){if(t.contains(this.currentItem[0],this.containers[n].element[0]))continue;if(this._intersectsWith(this.containers[n].containerCache)){if(p&&t.contains(this.containers[n].element[0],p.element[0]))continue;p=this.containers[n];f=n}else if(this.containers[n].containerCache.over){this.containers[n]._trigger("out",e,this._uiHash(this));this.containers[n].containerCache.over=0}}if(!p)return;if(1===this.containers.length){if(!this.containers[f].containerCache.over){this.containers[f]._trigger("over",e,this._uiHash(this));this.containers[f].containerCache.over=1}}else{r=1e4;o=null;u=p.floating||this._isFloating(this.currentItem);s=u?"left":"top";a=u?"width":"height";d=u?"pageX":"pageY";for(i=this.items.length-1;i>=0;i--){if(!t.contains(this.containers[f].element[0],this.items[i].item[0]))continue;if(this.items[i].item[0]===this.currentItem[0])continue;l=this.items[i].item.offset()[s];c=false;e[d]-l>this.items[i][a]/2&&(c=true);if(Math.abs(e[d]-l)<r){r=Math.abs(e[d]-l);o=this.items[i];this.direction=c?"up":"down"}}if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f]){if(!this.currentContainer.containerCache.over){this.containers[f]._trigger("over",e,this._uiHash());this.currentContainer.containerCache.over=1}return}o?this._rearrange(e,o,null,true):this._rearrange(e,null,this.containers[f].element,true);this._trigger("change",e,this._uiHash());this.containers[f]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[f];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[f]._trigger("over",e,this._uiHash(this));this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]);i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width());i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height());return i},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" "));t.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&(this.offset.click.left=e.left+this.margins.left);"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left);"top"in e&&(this.offset.click.top=e.top+this.margins.top);"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if("absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0});return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode);"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);if(!/^(document|window|parent)$/.test(r.containment)){e=t(r.containment)[0];n=t(r.containment).offset();i="hidden"!==t(e).css("overflow");this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());if(this.originalPosition){if(this.containment){e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left);e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top);e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left);e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)}if(r.grid){n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1];s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n;i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0];o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i}}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=false;var n,i=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())});if(this!==this.currentContainer&&!e){i.push(function(t){this._trigger("remove",t,this._uiHash())});i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer));i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))}function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(n=this.containers.length-1;n>=0;n--){e||i.push(r("deactivate",this,this.containers[n]));if(this.containers[n].containerCache.over){i.push(r("out",this,this.containers[n]));this.containers[n].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=false;e||this._trigger("beforeStop",t,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null}if(!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){false===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});function ht(t){return function(){var e=this.element.val();t.apply(this,arguments);this._refresh();e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super();var n=this.element;t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)});return e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();this.previous!==this.element.val()&&this._trigger("change",t)},mousewheel:function(t,e){if(!e)return;if(!this.spinning&&!this._start(t))return false;this._spin((e>0?1:-1)*this.options.step,t);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100);t.preventDefault()},"mousedown .ui-spinner-button":function(e){var n;n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);if(!e){this.element.trigger("focus");this.previous=n;this._delay(function(){this.previous=n})}}e.preventDefault();i.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;i.call(this)});if(false===this._start(e))return;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(!t(e.currentTarget).hasClass("ui-state-active"))return;if(false===this._start(e))return false;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:false});this.buttons.last().button({icon:this.options.icons.down,showLabel:false});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:this._repeat(null,1,e);return true;case i.DOWN:this._repeat(null,-1,e);return true;case i.PAGE_UP:this._repeat(null,n.page,e);return true;case i.PAGE_DOWN:this._repeat(null,-n.page,e);return true}return false},_start:function(t){if(!this.spinning&&false===this._trigger("start",t))return false;this.counter||(this.counter=1);this.spinning=true;return true},_repeat:function(t,e,n){t=t||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,e,n)},t);this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1);n=this._adjustValue(n+t*this._increment(this.counter));if(!this.spinning||false!==this._trigger("spin",e,{value:n})){this._value(n);this.counter++}},_increment:function(e){var n=this.options.incremental;if(n)return t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1);return 1},_precision:function(){var t=this._precisionOf(this.options.step);null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min)));return t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;e=null!==i.min?i.min:0;n=t-e;n=Math.round(n/i.step)*i.step;t=e+n;t=parseFloat(t.toFixed(this._precision()));if(null!==i.max&&t>i.max)return i.max;if(null!==i.min&&t<i.min)return i.min;return t},_stop:function(t){if(!this.spinning)return;clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",t)},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t){n=this._parse(this.element.val());this.options[t]=e;this.element.val(this._format(n));return}"max"!==t&&"min"!==t&&"step"!==t||"string"===typeof e&&(e=this._parse(e));if("icons"===t){i=this.buttons.first().find(".ui-icon");this._removeClass(i,null,this.options.icons.up);this._addClass(i,null,e.up);r=this.buttons.last().find(".ui-icon");this._removeClass(r,null,this.options.icons.down);this._addClass(r,null,e.down)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t);this.element.prop("disabled",!!t);this.buttons.button(t?"disable":"enable")},_setOptions:ht(function(t){this._super(t)}),_parse:function(t){"string"===typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t);return""===t||isNaN(t)?null:t},_format:function(t){if(""===t)return"";return window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();if(null===t)return false;return t===this._adjustValue(t)},_value:function(t,e){var n;if(""!==t){n=this._parse(t);if(null!==n){e||(n=this._adjustValue(n));t=this._format(n)}}this.element.val(t);this._refresh()},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:ht(function(t){this._stepUp(t)}),_stepUp:function(t){if(this._start()){this._spin((t||1)*this.options.step);this._stop()}},stepDown:ht(function(t){this._stepDown(t)}),_stepDown:function(t){if(this._start()){this._spin((t||1)*-this.options.step);this._stop()}},pageUp:ht(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:ht(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());ht(this._value).call(this,t)},widget:function(){return this.uiSpinner}});false!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var vt=t.ui.spinner;t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,"");i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,n.collapsible);this._processTabs();n.active=this._initialActive();t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort());false!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t();this._refresh();this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);if(null===e){i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i){e=n;return false}});null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active")));null!==e&&-1!==e||(e=!!this.tabs.length&&0)}if(false!==e){e=this.tabs.index(this.tabs.eq(e));-1===e&&(e=!n&&0)}!n&&false===e&&this.anchors.length&&(e=0);return e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=true;if(this._handlePageNav(e))return;switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=false;i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:e.preventDefault();clearTimeout(this.activating);this._activate(i);return;case t.ui.keyCode.ENTER:e.preventDefault();clearTimeout(this.activating);this._activate(i!==this.options.active&&i);return;default:return}e.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,r);if(!e.ctrlKey&&!e.metaKey){n.attr("aria-selected","false");this.tabs.eq(i).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",i)},this.delay)}},_panelKeydown:function(e){if(this._handlePageNav(e))return;if(e.ctrlKey&&e.keyCode===t.ui.keyCode.UP){e.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(e){if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(e,n){var i=this.tabs.length-1;function r(){e>i&&(e=0);e<0&&(e=i);return e}while(-1!==t.inArray(r(),this.options.disabled))e=n?e+1:e-1;return e},_focusNextTab:function(t,e){t=this._findNextTab(t,e);this.tabs.eq(t).trigger("focus");return t},_setOption:function(t,e){if("active"===t){this._activate(e);return}this._super(t,e);if("collapsible"===t){this._toggleClass("ui-tabs-collapsible",null,e);e||false!==this.options.active||this._activate(0)}"event"===t&&this._setupEvents(e);"heightStyle"===t&&this._setupHeightStyle(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)});this._processTabs();if(false!==e.active&&this.anchors.length)if(this.active.length&&!t.contains(this.tablist[0],this.active[0]))if(this.tabs.length===e.disabled.length){e.active=false;this.active=t()}else this._activate(this._findNextTab(Math.max(0,e.active-1),false));else e.active=this.tabs.index(this.active);else{e.active=false;this.active=t()}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(this.active.length){this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}else this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=t();this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");if(e._isLocal(i)){r=i.hash;s=r.substring(1);o=e.element.find(e._sanitizeSelector(r))}else{s=l.attr("aria-controls")||t({}).uniqueId()[0].id;r="#"+s;o=e.element.find(r);if(!o.length){o=e._createPanel(s);o.insertAfter(e.panels[n-1]||e.tablist)}o.attr("aria-live","polite")}o.length&&(e.panels=e.panels.add(o));c&&l.data("ui-tabs-aria-controls",c);l.attr({"aria-controls":s,"aria-labelledby":a});o.attr("aria-labelledby",a)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(n){this._off(n.not(this.tabs));this._off(i.not(this.anchors));this._off(r.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",true)},_setOptionDisabled:function(e){var n,i,r;t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=true):e=false);for(r=0;i=this.tabs[r];r++){n=t(i);if(true===e||-1!==t.inArray(r,e)){n.attr("aria-disabled","true");this._addClass(n,null,"ui-state-disabled")}else{n.removeAttr("aria-disabled");this._removeClass(n,null,"ui-state-disabled")}}this.options.disabled=e;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,true===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(t){t.preventDefault()}});this._on(this.anchors,n);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();if("fill"===e){n=i.height();n-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");if("absolute"===i||"fixed"===i)return;n-=e.outerHeight(true)});this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(true)});this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")}else if("auto"===e){n=0;this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n)}},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?t():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:c,newTab:a?t():o,newPanel:l};e.preventDefault();if(o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||false===this._trigger("beforeActivate",e,u))return;n.active=!a&&this.tabs.index(o);this.active=s?t():o;this.xhr&&this.xhr.abort();c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier.");l.length&&this.load(this.tabs.index(o),e);this._toggle(e,u)},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;this.running=true;function s(){i.running=false;i._trigger("activate",e,n)}function a(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(r.length&&i.options.show)i._show(r,i.options.show,s);else{r.show();s()}}if(o.length&&this.options.hide)this._hide(o,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active");a()});else{this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o.hide();a()}o.attr("aria-hidden","true");n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1);r.attr("aria-hidden","false");n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);if(i[0]===this.active[0])return;i.length||(i=this.active);n=i.find(".ui-tabs-anchor")[0];this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop})},_findActive:function(e){return false===e?t():this.tabs.eq(e)},_getIndex:function(e){"string"===typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']")));return e},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;if(false===n)return;if(void 0===e)n=false;else{e=this._getIndex(e);n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})}this._setOptionDisabled(n)},disable:function(e){var n=this.options.disabled;if(true===n)return;if(void 0===e)n=true;else{e=this._getIndex(e);if(-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(false,true);i._removeClass(r,"ui-tabs-loading");s.removeAttr("aria-busy");t===i.xhr&&delete i.xhr};if(this._isLocal(o[0]))return;this.xhr=t.ajax(this._ajaxSettings(o,n,a));if(this.xhr&&"canceled"!==this.xhr.statusText){this._addClass(r,"ui-tabs-loading");s.attr("aria-busy","true");this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t);i._trigger("load",n,a);l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})}},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}});false!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});var gt=t.ui.tabs;t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n);e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1);e.removeData("ui-tooltip-id");i=t.trim(i.join(" "));i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n);"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0];e.close(r,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))});this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);if(!i.length||i.data("ui-tooltip-id"))return;i.attr("title")&&i.data("ui-tooltip-title",i.attr("title"));i.data("ui-tooltip-open",true);e&&"mouseover"===e.type&&i.parents().each(function(){var e=t(this),i;if(e.data("ui-tooltip-open")){i=t.Event("blur");i.target=i.currentTarget=this;n.close(i,true)}if(e.attr("title")){e.uniqueId();n.parents[this.id]={element:this,title:e.attr("title")};e.attr("title","")}});this._registerCloseHandlers(e,i);this._updateContent(i,e)},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"===typeof i||i.nodeType||i.jquery)return this._open(e,t,i);n=i.call(t[0],function(n){r._delay(function(){if(!t.data("ui-tooltip-open"))return;e&&(e.type=o);this._open(e,t,n)})});n&&this._open(e,t,n)},_open:function(e,n,i){var r,o,s,a,l=t.extend({},this.options.position);if(!i)return;r=this._find(n);if(r){r.tooltip.find(".ui-tooltip-content").html(i);return}n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title"));r=this._tooltip(n);o=r.tooltip;this._addDescribedBy(n,o.attr("id"));o.find(".ui-tooltip-content").html(i);this.liveRegion.children().hide();a=t("<div>").html(o.find(".ui-tooltip-content").html());a.removeAttr("name").find("[name]").removeAttr("name");a.removeAttr("id").find("[id]").removeAttr("id");a.appendTo(this.liveRegion);function c(t){l.of=t;if(o.is(":hidden"))return;o.position(l)}if(this.options.track&&e&&/^mouse/.test(e.type)){this._on(this.document,{mousemove:c});c(e)}else o.position(t.extend({of:n},this.options.position));o.hide();this._show(o,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){if(o.is(":visible")){c(l.of);clearInterval(s)}},t.fx.interval));this._trigger("open",e,{tooltip:o})},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0];this.close(i,true)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)});e&&"mouseover"!==e.type||(i.mouseleave="close");e&&"focusin"!==e.type||(i.focusout="close");this._on(true,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);if(!o){r.removeData("ui-tooltip-open");return}n=o.tooltip;if(o.closing)return;clearInterval(this.delayedShow);r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title"));this._removeDescribedBy(r);o.hiding=true;n.stop(true);this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))});r.removeData("ui-tooltip-open");this._off(r,"mouseleave focusout keyup");r[0]!==this.element[0]&&this._off(r,"remove");this._off(this.document,"mousemove");e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title);delete i.parents[e]});o.closing=true;this._trigger("close",e,{tooltip:n});o.hiding||(o.closing=false)},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");this._addClass(i,"ui-tooltip-content");this._addClass(n,"ui-tooltip","ui-widget ui-widget-content");n.appendTo(this._appendTo(e));return this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove();delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");e.length||(e=this.document[0].body);return e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0];e.close(r,true);t("#"+n).remove();if(o.data("ui-tooltip-title")){o.attr("title")||o.attr("title",o.data("ui-tooltip-title"));o.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});false!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass);return t}});var mt=t.ui.tooltip})},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(79),n(45),n(46),n(44),n(52),n(72),n(54)],r=function(t,e,n,i,r,o,s){var a=t.getService("qwCommonService");t.service("qwSingleConfiguratorService",[function(){var t=a.config,l=a.constants;var c={currentApp:null,currentAppId:null,currentObj:null,currentSheet:null,currentSnapshot:null,apps:[],objects:[],languages:[],url:null,errorURL:false,iframe:null};var u={onClick:false,onDrag:false,onRightClick:false};var d={host:document.location.protocol+"//"+document.location.host,disableSelections:false,disableInteraction:true,clearSelections:true,disableAnimation:false,selectionsBar:false,selections:[],lang:false,theme:false,bookmark:false};var p=function n(){c.apps.forEach(function(n,i){if(n.id===c.currentAppId.id||-1!==n.id.lastIndexOf(c.currentAppId.id)){c.currentAppId=n;c.apps[i].app?c.currentApp=c.apps[i].app:c.currentApp=c.apps[i].app=e.openApp(c.currentAppId.id,t);if(c.currentApp){c.currentObj=c.currentSheet=null;d.selections=[];d.bookmark=false;if(c.currentApp.objects){c.objects=c.currentApp.objects;c.bookmarks=c.currentApp.bookmarks}else{a.getObjectList(c.currentApp).then(function(t){c.objects=c.currentApp.objects=c.apps[i].objects=t});c.currentApp.getList("BookmarkList",function(t){c.bookmarks=c.currentApp.bookmarks=c.apps[i].bookmarks=t.qBookmarkList.qItems})}}}else if(c.apps[i].app&&c.apps[i].app.close){c.apps[i].app.close();c.apps[i].app=null}});return c.currentApp.model.waitForOpen.promise};function f(){c.languages=i.languageList.filter(function(t){return"pseudo"!==t.short&&"zz"!==t.short}).map(function(t){return{value:t.long,label:t.label}}).sort(function(t,e){if(t.label<e.label)return-1;if(t.label>e.label)return 1;return 0});return c.languages}function h(){var t=new n;s.getAvailableThemes().then(function(e){t.resolve(e.custom?e.default.concat(e.custom):e.default)});return t.promise}var v=function t(){var e=new n;n.all({apps:a.getApplist(false,true)}).then(function(t){c.apps=t.apps;var n=o.getHashParameter("qapp");var i=n&&n.split(";")[0]?n.split(";")[0]:n;var r=n&&n.split(";")[1]?n.split(";")[1]:void 0;if(i){/\\/.test(i)?c.currentAppId={id:i,type:i.split("\\")[i.split("\\").length-1]}:c.currentAppId={id:i,type:i};p().then(function(){if(r){c.currentSheet=null;c.currentObj=r;b()}})}e.resolve(t)});f();this.getThemes().then(function(t){c.themes=t});return e.promise};var g=(t.isSecure?"https://":"http://")+t.host+(t.port?":"+t.port:"")+("/"===t.prefix[t.prefix.length-1]?t.prefix.substr(0,t.prefix.length-1):t.prefix);var m=function t(e){c.errorURL=!!e&&e.length>l.MAX_URL_LENGTH;if(c.errorURL)return false;return e.indexOf("&obj=")>-1||e.indexOf("&sheet=")>-1};var b=function t(){var e={};c.currentAppId&&(e.appid=c.currentAppId.id);c.currentObj&&(e.obj=c.currentObj);c.currentSheet&&(e.sheet=c.currentSheet);c.currentSnapshot&&(e.snapshot=c.currentSnapshot);d.identity&&(e.identity=d.identity);d.callback&&(e.callback=d.callback);d.lang&&false!==d.lang&&"false"!==d.lang&&(e.lang=d.lang.value);d.theme&&false!==d.theme&&"false"!==d.theme&&(e.theme=d.theme.id);d.bookmark&&false!==d.bookmark&&"false"!==d.bookmark&&(e.bookmark=d.bookmark.qInfo.qId);if(d.selectionsBar||d.debug||d.disableAnimation||d.disableInteraction||d.disableSelections||d.contextmenu){e.opt||(e.opt="");d.selectionsBar&&(e.opt+="currsel,");d.debug&&(e.opt+="debug,");d.disableAnimation&&(e.opt+="noanimate,");d.disableInteraction&&(e.opt+="nointeraction,");d.disableSelections&&(e.opt+="noselections,");d.contextmenu&&(e.opt+="ctxmenu,");e.opt=e.opt.slice(0,-1)}var n=r.param(e).replace(/\+/g,"%20");d.clearSelections&&(n+="&select=clearall");d.selections&&d.selections.forEach(function(t){var e=Object.keys(t);if(e.length>0){n+="&select="+encodeURIComponent(e[0])+",";t[e[0]].forEach(function(t,e){e>0&&(n+=",");isNaN(t.qNum)?n+=encodeURIComponent(t.qText):n+=t.qNum})}});n=g+"/single/?"+n;if(m(n)){c.url=n;c.iframe="<iframe src='"+n+"' style='border:none;width:100%;height:100%;'></iframe>"}};u.onClick=function(t,e){if(e.currentTarget.hasAttribute("data-id")){var n=e.currentTarget.getAttribute("data-id"),i=e.currentTarget.getAttribute("data-type");if("sheet"===i){c.currentSheet=n;c.currentObj=null}else{c.currentSheet=null;c.currentObj=n}}b()};return{init:v,assets:c,options:d,actions:u,isValidSingleUrl:m,getLanguages:f,getThemes:h,constructURL:b,openApp:p}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(79),n(48),n(46),n(45),n(602),n(52),n(70),n(101),n(88),n(77),n(603),n(66),n(54),n(56),n(61),n(85)],r=function(t,e,n,i,r,o,s,a,l,c,u,d){var p='.qvplaceholder {\tposition: relative;}.qvdropzone {\tborder-radius: 3px;\tborder: 1px dashed #B3B3B3;\tline-height: 100%;\tdisplay: flex;\tposition: absolute;\theight: 100%;\twidth: 100%;\ttop: 0;\tleft: 0;\tcolor: #B3B3B3;\tflex-direction: column;\tjustify-content: center;}.qvdropzone.draggedover,.qvobject.draggedover {\tborder: 2px dashed #fab761;}.qvwrapper {\tbox-sizing: border-box;\tposition: absolute !important;\theight: 22px !important;\twidth: 22px !important;\tz-index: 2;\tbackground-color: transparent !important;}.qvobject {\tborder: 2px solid transparent;}.qvdropzone,.qvwrapper {\t-webkit-box-sizing: border-box;\t-moz-box-sizing: border-box;\tbox-sizing: border-box;}.icon-drophere {\ttext-align: center;\theight: 40px;}.icon-drophere:before {\tfont-size: 38px;}.hint-drag {\tfont-size: 13px;\tfont-family: "QlikView Sans", sans-serif;\ttext-align: center;}.icon-drophere-small:before {\tfont-size: 20px;}.icon-trash {\tcolor: #808080;\tcursor: pointer;\tposition: absolute;\theight: 22px;\twidth: 22px;\tbackground-color: transparent;\ttext-align: center;}';var f=t.getService("qwCommonService");var h=t.getService("qwConfigService");var v=t.getService("qwErrorService");var g=t.getService("qwNavigationService");var m=t.getService("qwPermissionService");var b=t.getService("luiDialog");var y;t.service("qwMashupEditorService",[function(){var t={translator:r,extensionUniqueName:null,type:m.entities.mashup,currentApp:null,currentAppId:null,apps:[],files:[],url:null,mashupList:[],templateList:[],isDirty:function e(){var n=t.files.filter(function(t){return true===t.isDirty});return n.length>0}};var x;var w={onClick:false,onDrag:false,onRightClick:false};var q={};var _="";var C={welcomeDialog:function e(){u.showWelcomeDialog({toolConfig:x,buttons:[{text:"Devhub.CreateNewProject",title:t.permissions.create?0===t.templateList.length?"Tooltip.NoTemplates":"":"Tooltip.NoExtensionCreatePermission",iconClass:"lui-icon--plus",onActivated:function t(){C.createMashupDialog()},disabled:!t.permissions.create||0===t.templateList.length},{text:"Devhub.OpenProject",title:0===t.mashupList.length?"DevHub.NoProjectsToOpen":"",iconClass:"lui-icon--folder",onActivated:function t(){C.openMashupDialog()},disabled:0===t.mashupList.length}]})},createMashupDialog:function e(){u.createExtension("mashup").then(function(e){if(e&&e.cancel)return true;t.isDirty=function(){return false};g.openExtension(e.extensionUniqueName,e.type)})},openMashupDialog:function e(){u.openExtension({type:"mashup",currentExtension:t.extensionUniqueName}).then(function(e){t.isDirty=function(){return false};g.openExtension(e.id,"mashup",false)})},showNewFileDlg:function e(){return u.showNewFileDialog(t)},showFileDeleteDlg:function e(n){b.show({controller:d.component.controller,template:d.component.template,input:{title:"Devhub.DeleteFileDlgTitle",message:"Devhub.DeleteFileDlgMessage",button:{name:"Devhub.Delete",tid:"9d0c12",callback:function e(){l.deleteFile(n,t).catch(function(t){c.handleDeleteError(t,r.get("Devhub.ErrorFileDelete",n.fileName))})}}}})},importFileDlg:function n(){var i=e("#selectFileControl");i=i.clone(false);i.change(function(e){e.preventDefault();l.importFromLocal(i[0].files[0],t).then(function(e){t.files=e.files;t.activeTab=t.files.length>0?t.files[t.files.length-1].fileName:t.activeTab}).catch(function(t){v.raiseException(null,t.errMessage,t)})});return i.click()},alertSaveFileDialog:function t(e){u.openAlertSaveFileDialog(e)}};function S(e){y=e;x=h.getToolConfig();t.mashupList.length=0;t.templateList.length=0;var n=new o;o.all({apps:f.getApplist(false,true),groupedExtensions:l.getExtensionsFromRepo(true),permissions:m.getPermissions(m.entities.mashup)}).then(function(e){t.apps=e.apps;t.templateList=D(e.groupedExtensions.templateList);t.mashupList=e.groupedExtensions.extensionList.filter(function(t){return"mashup"===t.qext.type});var i=a.getHashParameter("qext");t.extensionUniqueName=i;t.baseUrl=g.getBasePath()+"/extensions/"+i;t.permissions=e.permissions;n.resolve(true);i?H(i):C.welcomeDialog();window.onbeforeunload=function(){if(t.isDirty())return r.get("Devhub.AlertUnsavedFilesMessage")}});return n.promise}function D(t){var e=t.filter(function(t){return"mashup"===t.type});return 0===e.length?[]:e[0].items}function E(t){return t.length>0?e.grep(q.htmlFile,function(e){return e.fileName===t}):q.htmlFile[0].fileName}function k(){return _.length>0?q.htmlFile.map(function(t){return t.fileName}).indexOf(_):0}function T(t){return t.isDirty&&y(t.fileName).doc?y(t.fileName).doc.getValue():t.content}function A(t){var e=T(t);t.isDirty=true;t.newContent=s.addHtmlAttr(q.mashupHtml,e);y(t.fileName).setValue(t.newContent)}function I(t,e,n){var i,r=T(q.jsFile[0]);if(t){var o=s.findAppById(t,r);if(false===o){i="app";var a=1;while(false!==s.findAppByVar(i,r)){i="app"+a;a++}r=s.addApp(r,i,t,"config")}else i=o.appVar}else i=false;r=e(r,i,n);if(r!==q.jsFile[0].content){q.jsFile[0].isDirty=true;q.jsFile[0].newContent=r;y(q.jsFile[0].fileName).setValue(r)}}function O(e){return f.getProductInfo().then(function(n){if(n.isPersonal){var i=t.apps.filter(function(t){return t.id===e||t.type===e});return i.length?i[0].type:void 0}return e})}function L(t,n,i){q.mashupHtml.innerHTML=T(q.htmlFile[0]);var r;return O(n.appid).then(function(o){var a=JSON.parse(q.qextFile[0].content);r=e(i?"#"+i:".qvplaceholder:first",q.mashupHtml);if(0===r.length){if(!a.allowPosition)return;r=e("<div></div>").attr("id",n.id);if("CurrentSelections"===n.id)r.attr("style","position:absolute;width:100%;");else{var l=0,c=9999;q.iframe.contents().find(".qvobject, .qvplaceholder").each(function(t,n){l=Math.max(l,e(n).offset().top+e(n).outerHeight());c=Math.min(c,e(n).offset().left)});r.attr("style","position:absolute;top:"+(l+50)+"px;left:"+c+"px;width:200px;height:200px;")}e("body",q.mashupHtml).append(r)}if("visualization"===t){I(o,s.addObject,[i,n.id]);r.removeClass("qvplaceholder").addClass("qvobject")}A(q.htmlFile[k()]);z()})}function P(t){q.mashupHtml.innerHTML=T(q.htmlFile[0]);var n=q.iframe.contents().find("#"+t);var i=e("#"+t,q.mashupHtml);i.removeClass("qvobject").addClass("qvplaceholder").removeAttr("data-qvid");n.html(i.html());I(false,s.delVisualization,[t]);A(q.htmlFile[k()]);z()}function M(t){var e=t.callback;var n=T(q.jsFile[0]);return!!n.match(new RegExp("(function\\s*"+e+"\\(.*\\){[\\S\\s]+?})","g"))}function N(t,e){var n=e.appId,i=e.callback;delete e.appId;delete e.callback;"list"===t?I(n,s.addList,[e,i]):"cube"===t&&I(n,s.addCube,[e,i]);z()}function j(t,e){"list"===t?I(false,s.delList,[e.callback]):"cube"===t&&I(false,s.delCube,[e.callback])}function F(e){e.preventDefault();t.currentAppId&&O(t.currentAppId.id).then(function(e){var n;var i={JS:T(q.jsFile[0]),HTML:T(q.htmlFile[0])};var r=s.findApps(i.JS);if(r&&r.length>0){n=r[0].appVar;e=r[0].appId}if(e){var a=s.findAppById(e,i.JS);if(false===a){n="app";var c=1;while(false!==s.findAppByVar(n,i.JS)){n="app"+c;c++}i.JS=s.addApp(i.JS,n,e,"config")}else n=a.appVar}else n=false;var u=s.toggleSelectionsBar(i,n,true);q.jsFile[0].content=u.JS;y(q.jsFile[0].fileName).setValue(u.JS);q.htmlFile[0].content=u.HTML;y(q.htmlFile[0].fileName).setValue(u.HTML);o.all([l.saveFileInRepo(t.extensionUniqueName,q.jsFile[0]),l.saveFileInRepo(t.extensionUniqueName,q.htmlFile[0])]).then(function(){if(q.iframe.length>0){q.iframe[0].contentWindow.location.reload(true);x.selectionsBar.toggled=s.hasSelectionsBar(q.jsFile[0].content)}})})}function R(){i.isDefined(q.htmlFile)&&(q.mashupHtml.innerHTML=q.htmlFile[0].content)}function V(t){var e={top:parseInt(t.css("margin-top").replace("px","")),left:parseInt(t.css("margin-left").replace("px",""))};return{top:t.position().top+e.top,left:t.position().left+e.left+t.outerWidth()-22}}function $(){q.mashupHtml=document.createElement("html");q.mashupHtml.innerHTML=q.htmlFile[0].content;q.iframe=e(".preview-panel").find("iframe");q.iframe.on("load",function(){var n=q.iframe[0].contentDocument.URL;_=n.replace(/^.*[\\\/]/,"").replace(/((\?|#).*)/,"");var i=E(_)[0].content;q.mashupHtml.innerHTML=i;t();e(this.contentWindow.window).resize(function(){t()});q.iframe.contents().click(function(){e(".object-preview").trigger("qv-outside")});return n});function t(){var t="<style type='text/css'>";t+=p;t+="</style>";q.iframe.contents().find("head").append(t);q.iframe.contents().find(".qvplaceholder").each(function(){var t=e(this).children(":first").hasClass("qv-object-wrapper");if(!t){e(this).empty();var n="icon-drophere";var i="";e(this).height()>85&&e(this).width()>75&&(i="<span class='hint-drag'>"+r.get("Devhub.DragObject")+"</span>");(e(this).height()<56||e(this).width()<60)&&(n+="&#32icon-drophere-small");e(this).append(e("<div class='qvdropzone'><span class='lui-icon lui-icon--drop "+n+"'></span>"+i+"</div>").attr("data-id",e(this).attr("id")))}});q.iframe.contents().find(".qvwrapper")&&q.iframe.contents().find(".qvwrapper").remove();q.iframe.contents().find(".qvobject").each(function(){e(this).parent().append(e("<div class='qvwrapper'></div>").attr("data-id",e(this).attr("id")).css(V(e(this))))});q.iframe.contents().find(".qvwrapper").each(function(){e(this).append("<span class='lui-icon lui-icon--remove icon-trash'></span>").on("click","span.icon-trash",function(){P(e(this).parent().attr("data-id"))})})}}function H(e){t.extensionUniqueName=e;l.getExtensionFileObjectsFromRepo(e,"mashup").then(function(n){s.convertOldMashup(n,false).then(function(n){t.files=n;q.qextFile=t.files.filter(function(t){return"qext"===t.extension});q.htmlFile=t.files.filter(function(t){return"html"===t.extension});q.jsFile=t.files.filter(function(t){return"js"===t.extension});var i=q.htmlFile.length>0?q.htmlFile[0].fileName:"";t.mashup=s.getMashupData(n)[0];t.url=f.config.prefix+"extensions/"+e+"/"+i+location.search;if(t.mashup&&t.mashup.appId){f.getProductInfo().then(function(e){if(e.isPersonal)t.currentAppId={id:t.mashup.appId,type:t.mashup.appId};else{var n=t.apps.filter(function(e){return e.id===t.mashup.appId});1===n.length&&(t.currentAppId={id:n[0].id,type:n[0].type})}W()});x.selectionsBar.toggled=s.hasSelectionsBar(q.jsFile[0].content);x.selectionsBar.enabled=false}$()})})}function z(){return l.saveFilesToRepo(t,y).then(function(){q.iframe.length>0&&q.iframe[0].contentWindow.location.reload(true)}).catch(c.handleSaveError)}function B(e){if(t.currentApp){t.currentApp.objects?t.objects=t.currentApp.objects:f.getObjectList(t.currentApp).then(function(n){t.objects=t.currentApp.objects=t.apps[e].objects=n});t.currentApp.fields?t.fields=t.currentApp.fields:f.getFieldList(t.currentApp,true).then(function(n){t.fields=t.currentApp.fields=t.apps[e].fields=n});t.currentApp.dimensions?t.dimensions=t.currentApp.dimensions:f.getDimensionList(t.currentApp).then(function(n){t.dimensions=t.currentApp.dimensions=t.apps[e].dimensions=n});t.currentApp.measures?t.measures=t.currentApp.measures:f.getMeasureList(t.currentApp).then(function(n){t.measures=t.currentApp.measures=t.apps[e].measures=n})}}function W(){if(!t.currentAppId||!t.currentAppId.type)return false;t.apps.forEach(function(e,i){if(e.type&&e.type===t.currentAppId.type){t.currentAppId=e;x.selectionsBar.enabled=true;if(t.apps[i].app){t.currentApp=t.apps[i].app;B(i)}else O(t.currentAppId.id).then(function(e){var r={host:f.config.host,prefix:f.config.prefix,port:f.config.port,isSecure:f.config.isSecure};r.reloadURI=(r.isSecure?"https://":"http://")+r.host+(r.port?":"+r.port:"")+t.url;t.currentApp=t.apps[i].app=n.openApp(e,r);B(i)})}else if(t.apps[i].app&&t.apps[i].app.close){t.apps[i].app.close();t.apps[i].app=null}})}w.onClick=function(){};w.onDrag=function(){return true};return{init:S,assets:t,actions:w,dialogs:{showNewFileDlg:C.showNewFileDlg,showFileDeleteDlg:C.showFileDeleteDlg,importFileDlg:C.importFileDlg,createMashupDialog:C.createMashupDialog,openMashupDialog:C.openMashupDialog,alertSaveFileDialog:C.alertSaveFileDialog},fixAppId:O,save:z,addListCube:N,removeListCube:j,toggleSelectionsBar:F,refreshPreview:R,addVisualization:L,removeVisualization:P,callbackExists:M,openApp:W,privates:q}}])}.apply(e,i),void 0!==r&&(t.exports=r))},,,,,,,function(t,e,n){"use strict";var i,r;!(i=[n(315),n(41)],r=function(t,e){var n={};function i(i,r,a){if(n.open&&r.id===n.target.id)n.close();else if(i){n=e.getService("luiPopover").show({template:t,alignTo:r,closeOnEscape:true,outsideIgnore:r.id,input:{menuOptions:i,select:function t(e,n){o(e,n)},selectAside:function t(e,n){s(e,n)},width:a}});n.open=true;n.target=r;n.closed.then(function(){r.id===n.target.id&&(n.open=false)})}return n}function r(){n.close()}function o(t,e){if(!e.disabled){e.onSelect(t,false);r()}}function s(t,e){e.onSelect(t,true);r()}return{show:i,close:r}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(172),n(47)],r=function(t,e){location.hash&&history.replaceState(null,null,location.href.replace("#!/",""));var n={};var i=e.getParameterByName("app");var r=e.getParameterByName("language");var o=e.getParameterByName("theme");var s=e.getParameterByName("debug");var a=e.getParameterByName("options");var l=e.getParameterByName("bookmark");var c=e.getParameterByName("noData");var u=e.getParameterByName("feature");var d=e.getParameterByName("ttl");var p=e.getParameterByName("identity");var f=[];var h=[];var v=[];var g=[];i&&f.push("app",i);r&&h.push("language",r);o&&h.push("theme",o);s&&h.push("debug",s);a&&h.push("options",a);l&&h.push("bookmark",l);c&&h.push("noData",true);u&&h.push("feature",u);d&&h.push("ttl",d);p&&h.push("identity",p);n.isSuffixInUse=function(t){for(var e=0;e<h.length;e++)if(h[e]===t)return true;return false};n.removePartialSuffix=function(t){var e=false;for(var i=0;i<h.length;i++)if(h[i]===t){h.splice(i,2);e=true;break}if(e){var r=location.href,o=new RegExp("/"+t+"/[^/]+","i");m();if(o.test(r)){r=r.replace(o,"");n.setUrl(r)}}return e};function m(){g.forEach(function(t){t.dispose()});v.forEach(function(t){n.addRoute(t)})}function b(){window.addEventListener("popstate",function(){var t=e.getParameterByName("app");if(i&&i!==t){location.href=location.href;return}n.parse()},false)}n.parse=function(e){t.parse(e||location.pathname)};n.addRoute=function(e){var n=this;var i=e.pattern;v.push(e);e.isPartial&&"/"===i&&(i="");var r=t.addRoute(i,function(){n.lastRoute&&n.lastRoute!==e&&n.lastRoute.DeRoute.emit();n.lastRoute=e;e.Route.emit.apply(e.Route,arguments)});g.push(r)};n.setUrl=function(t,e,i,r){e=true;var o=location.href.toLowerCase().indexOf("?x-")>-1;o&&(t=t.replace(/\?x-.+?=[^&]+/i,"").replace("&","?"));if(r)location.href=t;else if(t!==location.href){history[e?"replaceState":"pushState"](null,null,t);i||n.parse()}};n.start=function(){this.setUrl(location.href);b(this);n.parse()};n.buildUrl=function(){var t=Array.apply(null,arguments);var n="";var i="";var r;if(true===t[0]){n=t[1];t=t.slice(2)}else t.unshift.apply(t,f);h.length&&t.push.apply(t,h);t=t.map(function(t){return encodeURIComponent(t).replace(/'/g,"%27")});if(n){var o=new RegExp("([^/])/"+e.project+"/","i");i=e.baseURI.replace(o,"$1/"+n+"/")}else i=e.baseURI;r=i+t.join("/").replace(/[\/]+/g,"/");return r};n.buildHubUrl=function(){return window.customHubUrl?window.customHubUrl:this.buildUrl(true,"hub")};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(330)],r=function(t){return JSON.parse(t)}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44)],r=function(t){var e={},n=function e(){return t.extend.apply(t,[true].concat(Array.prototype.slice.call(arguments)))},i=t.isPlainObject,r=Array.isArray,o=function t(e){return"undefined"===typeof e},s=function t(e){return"function"===typeof e};function a(t){t&&(t=n({},{val:t}).val);return t}function l(t,e){return s(t[e])||"$$"===e.substring(0,2)||"_"===e.substring(0,1)}function c(t,e){var n="/",i=e.substring(1).split(n).slice(0,-1),r;i.forEach(function(e,n){if(n===i.length)return;r=+e;t=t[r||e]=o(t[r||e])?isNaN(r)?{}:[]:t[e]});return t}function u(t){Object.keys(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);n.configurable&&!l(t,e)&&delete t[e]})}function d(t,e){var n=true,o,s;if(i(t)&&i(e)){if(Object.keys(t).length!==Object.keys(e).length)return false;Object.keys(t).forEach(function(i){if(!d(t[i],e[i])){n=false;return false}});return n}if(r(t)&&r(e)){if(t.length!==e.length)return false;for(o=0,s=t.length;o<s;o++)if(!d(t[o],e[o]))return false;return true}return t===e}function p(t,n,i){var r=[],s=t.slice(),a,l,c=-1;function u(t,e,n){if(t[n]&&o(t[n].qInfo))return null;if(t[n]&&t[n].qInfo.qId===e)return n;for(var i=0,r=t.length;i<r;i++)if(t[i]&&t[i].qInfo.qId===e)return i;return-1}if(d(n,s))return r;if(null===n[0]||!o(n[0])&&o(n[0].qInfo)){r.push({op:"replace",path:i,value:n});return r}for(a=s.length-1;a>=0;--a){c=u(n,s[a]&&s[a].qInfo&&s[a].qInfo.qId,a);if(-1===c){r.push({op:"remove",path:i+"/"+a});s.splice(a,1)}else r=r.concat(e.generate(s[a],n[c],i+"/"+a))}for(a=0,l=n.length;a<l;++a){c=u(s,n[a]&&n[a].qInfo&&n[a].qInfo.qId);if(-1===c){r.push({op:"add",path:i+"/"+a,value:n[a]});s.splice(a,0,n[a])}else if(c!==a){r.push({op:"move",path:i+"/"+a,from:i+"/"+c});s.splice(a,0,s.splice(c,1)[0])}}return r}e.generate=function(t,n,s){s=s||"";var c=[];Object.keys(n).forEach(function(u){var f=a(n[u]),h=t[u],v=s+"/"+u;if(d(f,h)||l(n,u))return;o(h)?c.push({op:"add",path:v,value:f}):i(f)&&i(h)?c=c.concat(e.generate(h,f,v)):r(f)&&r(h)?c=c.concat(p(h,f,v)):c.push({op:"replace",path:s+"/"+u,value:f})});Object.keys(t).forEach(function(e){o(n[e])&&!l(t,e)&&c.push({op:"remove",path:s+"/"+e})});return c};e.apply=function(t,e){e.forEach(function(e){var o=c(t,e.path),s=e.path.split("/").splice(-1)[0],a=s&&isNaN(+s)?o[s]:o[+s]||o,l=e.from?e.from.split("/").splice(-1)[0]:null;if("add"===e.op||"replace"===e.op)if(r(o)){"-"===s&&(s=o.length);o.splice(+s,"add"===e.op?0:1,e.value)}else if(r(a)&&r(e.value)){var d=e.value.slice();a.length=0;a.push.apply(a,d)}else if(i(a)&&i(e.value)){u(a);n(a,e.value)}else o[s]=e.value;else if("move"===e.op){var p=c(t,e.from);if(r(o))o.splice(+s,0,p.splice(+l,1)[0]);else{o[s]=p[l];delete p[l]}}else"remove"===e.op&&(r(o)?o.splice(+s,1):delete o[s])})};e.clone=function(t){return n({},t)};e.createPatch=function(t,e,n){var i={op:t.toLowerCase(),path:n};"move"===i.op?i.from=e:"undefined"!==typeof e&&(i.value=e);return i};e.updateObject=function(t,i){if(!Object.keys(t).length){n(t,i);return}e.apply(t,e.generate(t,i))};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(57),n(45),n(64),n(67)],r=function(t,e,n,i,r){var o=r.NxLocalizedErrorCode;var s=null;var a=[];var l=1e3;var c=["GetObject","GetLayout","GetAppLayout","GetProperties","GetAppProperties","GetEffectiveProperties","GetFullPropertyTree","GetDimension","GetMeasure","GetVariableById","GetVariableByName","GetBookmark","GetScriptEx"];function u(t,e,n,i){t.Send.emit(n);n.outKey=-1;var r=e.send(n);t.dfdCache[n.id]=i;t.reqCache[n.id]=n;i.id=n.id;i.promise.requestId=r.requestId;return i.promise}function d(t){var n=this;e.mixin(n);n.notification("Open");n.notification("Close");n.notification("Send");n.notification("Data");n.notification("Error");n.notification("ClosedHandles");n.notification("ChangedHandles");n.notification("Notification");n.notification("Warning");n.changeHandlers={};n.cacheName=t.cacheName;n.dfdCache={};n.reqCache={};n.modelCache={};n.options=t;n.socket={url:""}}d.prototype={open:function t(){return this.enigmaPromise},onError:function t(e){var n=this;Object.keys(n.dfdCache).forEach(function(t){e.error={err:e,isHandled:true};n.dfdCache[t].reject(e)});n.Error.emit(e)},_cleanup:function t(){var n=this;if(!n.Close)return;n.Close.emit();for(var i in n.modelCache)n.modelCache[i].then(function(t){t.close(true)});e.release(n)},onClose:function t(){var e=this;if(e._isClosed)return;delete d.__cache[e.cacheName];d.useTimeoutOnClose?setTimeout(e._cleanup.bind(e),l):e._cleanup();e._isClosed=true},onData:function t(e){var n=this;var i=n.dfdCache[e.id];e.change&&n.handleChanged(e);e.close&&n.handleClosed(e);d.debounceApply(function(){if(e.handle&&!n.changeHandlers[e.handle]&&i)i.reject("No model mapped to handle");else if(e.result){n.Data.emit(e);e.warnings&&n.Warning.emit(e);i&&i.resolve(e)}else if(e.params){n.Notification.emit(e);i&&i.resolve(e)}else if(e.suspend){n.rpc({method:"Resume",params:[],handle:e.suspend[0]});i&&i.resolve(e)}else if(e.error){var t=n.reqCache[e.id];if(t)if(e.error.code===o.LOCERR_GENERIC_ABORTED&&c.indexOf(t.method)>-1){e.error.isHandled=true;u(n,n.__enigmaSession,t,i)}else{i&&i.reject(e);n.Error.emit(e)}}delete n.dfdCache[e.id];delete n.reqCache[e.id]})},handleChanged:function t(e){var n=this;e.change.forEach(function(t){var e=n.changeHandlers[t];e&&e.forEach(function(t){t()})});n.ChangedHandles.emit(e.change)},handleClosed:function t(e){var n=this;Object.keys(n.modelCache).forEach(function(t){n.modelCache[t].then(function(t){e.close.indexOf(t.handle)>-1&&t.close(true)})});n.ClosedHandles.emit(e.close)},close:function t(){var e=this;e.enigmaPromise.then(function(){e.__enigmaSession.close()})},suspend:function t(){var e=this;e.enigmaPromise.then(function(){e.__enigmaSession.suspendResume.suspend()})},resume:function t(e){var n=this;return n.enigmaPromise.then(function(){return n.__enigmaSession.suspendResume.resume(e)})},rpc:function t(e,i){var r=this;i||(i=new n);if(r.__enigmaSession)return u(r,r.__enigmaSession,e,i);return r.enigmaPromise.then(function(){return u(r,r.__enigmaSession,e,i)})},onChange:function t(e,n){this.changeHandlers[e]||(this.changeHandlers[e]=[]);this.changeHandlers[e].push(n)},getRequest:function t(e){return this.reqCache[e]||null}};d.useTimeoutOnClose=true;d.__cache={};d.createInput=function(t,e){e=e||{};e.appName=t;e.cacheName=d.buildUrl(e);return e};d.debounceApply=function(e){clearTimeout(s);a.push(e);s=setTimeout(function(){t.$apply(t.$rootScope,function(){for(var t=0;t<a.length;t++)try{a[t]()}catch(t){}a.length=0})})};function p(t,e,n,i){n.open().then(function(){t[e](i)})}function f(t){var e=t.__enigmaSession;e.on("suspended",function(e){"network"===e.initiator&&t.close()});e.on("closed",function(n){p(t,"onClose",e,n)});e.rpc.on("error-socket",function(n){p(t,"onError",e,n)});e.rpc.on("message",function(n){p(t,"onData",e,n)});e.rpc.on("notification",function(n){p(t,"onData",e,n)})}d.get=function(t,e){t=t||"";var n=d.createInput(t,e);var r;function o(t){r.__enigmaApp=t.app||t;r.__enigmaGlobal=t.global||t;r.__enigmaSession=(t.app||t.global||t).session;f(r)}r=d.__cache[n.cacheName]=new d(n);if(t&&"?transient="!==t&&!e.sessionApp)r.enigmaPromise=i.get(t,e).then(o);else if(e.sessionApp&&e.sessionApp.value&&e.sessionApp.appId){e.route="app/"+encodeURIComponent(e.sessionApp.appId);r.enigmaPromise=i.getSessionApp(e.sessionApp.appId,e).then(o)}else{"?transient="===t&&(e.route="app/"+encodeURIComponent(t));r.enigmaPromise=i.getGlobal(e).then(o)}return r};d.getIfCached=function(t,e){var n=d.createInput(t,e);return d.__cache[n.cacheName]};d.buildUrl=function(t){var e="",n=t.host,i="string"===typeof t.port?t.port:t.isSecure?443:4848;e+=t.isSecure?"wss":"ws";e+="://";e+=n||"localhost";if(t.port){e+=":";e+=i}e+=t.prefix||"/";t.subpath&&(e+=t.subpath+"/");t.route?e+=t.route:e+="app/"+encodeURIComponent(t.appName);t.identity&&(e+="/identity/"+encodeURIComponent(t.identity));e+="?reloadUri="+(t.reloadURI||"");return e};return d}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(137),n(50),n(384)],r=function(t,e,n){var i=["scatterplot","map"];var r=["scatterplot","map","barchart","linechart","combochart","piechart","treemap","distributionplot"];return{baseColor:{isSupported:function t(e){return e&&e.length&&-1===i.indexOf(e)}},colorBy:{isSupported:function t(e){return r.contains(e)}},colorByUpdater:function i(r,s){var a=e.getValue(r,"color.mode");var d=e.getValue(r,"color.auto");var p=e.getValue(r,s+"qDimensions",[]);var f=e.getValue(r,s+"qMeasures",[]);var h=e.getValue(r,s+"qLayoutExclude.qHyperCubeDef.qDimensions",[]);var v,g,m,b;var y=e.getValue(r,"visualization");if(d)o(p,h);else if(!d&&"byDimension"===a&&p.length){v=e.getValue(r,"color.byDimDef");v&&u(r,v.label);if(v&&v.activeDimensionIndex>-1){v.activeDimensionIndex=Math.min(v.activeDimensionIndex,p.length-1);g=p[v.activeDimensionIndex];b=n.getColorByDefinition("dimension",false,g);b.activeDimensionIndex=v.activeDimensionIndex;l(r,b)}else if(!v||!v.key){g=p[p.length-1];var x=s.split(".");2===p.length&&"map"===y&&"point"===r.layers[Number(x[1])].type&&(g=p[0]);m=t.getById(g.qAttributeDimensions,t.IDMAP.COLOR_BY_ALTERNATIVE);l(r,n.getColorByDefinition("dimension",!!m,m||g));if(m)return}c(r,true,p,h,f,e.getValue(r,"color.byDimDef.label"))}else if(d||"byMeasure"!==a||!p.length||"map"!==y&&!f.length){"byMultiple"===a&&f.length<2&&e.setValue(r,"color.mode","primary");o(p,h)}else{v=e.getValue(r,"color.byMeasureDef");v&&u(r,v.label);if(v&&v.activeMeasureIndex>-1){v.activeMeasureIndex=Math.min(v.activeMeasureIndex,f.length-1);if(v.activeMeasureIndex>-1){var w=f[v.activeMeasureIndex];b=n.getColorByDefinition("measure",false,w);b.activeMeasureIndex=v.activeMeasureIndex;l(r,b)}}else if((!v||!v.key)&&f.length){var q=f[0];g=p[p.length-1];m=t.getById(g.qAttributeExpressions,t.IDMAP.COLOR_BY_ALTERNATIVE);l(r,n.getColorByDefinition("measure",!!m,m||q));if(m)return}c(r,false,p,h,f,e.getValue(r,"color.byMeasureDef.label"))}},setColorByPropertyDef:l,resolveColorByPropertyDef:c,clearColorByItem:o};function o(e,n){e.forEach(function(e){s(e,t.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");s(e,t.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")});n.forEach(function(e){s(e,t.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeDimensions");s(e,t.IDMAP.COLOR_BY_ALTERNATIVE,"qAttributeExpressions")})}function s(e,n,i){if(e[i]){var r=t.getIndexById(e[i],n);r>=0&&e[i].splice(r,1)}else e[i]=[]}function a(t){return t.split(" ").length>1&&"="!==t[0]&&"["!==t[0]?"["+t+"]":t}function l(t,e,n,i){var r=n?"expression":e.type,o=t.color.mode,s=e.label||e.name||"";u(t,s);switch(r){case"field":o="byDimension";t.color.byDimDef={label:e.label||a(e.name),key:a(e.name),type:"expression",activeDimensionIndex:e.activeDimensionIndex};break;case"expression":o="byMeasure";t.color.byMeasureDef={label:n||e.label||e.name,key:n||e.name,type:"expression",activeMeasureIndex:e.activeMeasureIndex};break;case"dimension":o="byDimension";t.color.byDimDef={label:e.name,key:e.id,type:"libraryItem",activeDimensionIndex:e.activeDimensionIndex};break;case"measure":o="byMeasure";t.color.byMeasureDef={label:e.name,key:e.id,type:"libraryItem",activeMeasureIndex:e.activeMeasureIndex};break}if(!i){t.color.auto=false;t.color.mode=o}}function c(n,i,r,s,a,l){o(r,s);var c=r[r.length-1];if(c){var u=i?e.getValue(n,"color.byDimDef"):e.getValue(n,"color.byMeasureDef");if(u){var d=t.create(t.IDMAP.COLOR_BY_ALTERNATIVE);switch(u.type){case"expression":d.label=l||u.label;i?d.qDef=u.key:d.qExpression=u.key;d.matchMeasure=u.activeMeasureIndex;d.label&&"="===d.label.charAt(0)&&(d.labelExpRef="color.altLabel");break;case"libraryItem":if(!i){var p=-1;a.forEach(function(t,e){u.key===t.qLibraryId&&(p=e)});d.matchMeasure=p}d.qLibraryId=u.key;d.colorMapRef=u.key;break}if(i){d.qSortBy={qSortByAscii:1};c.qAttributeDimensions.push(d)}else c.qAttributeExpressions.push(d)}}}function u(t,e){if(!e)return;var n="="===e.charAt(0);t.color.altLabel=n?{qStringExpression:{qExpr:e.substr(1)}}:e}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={cellBackgroundColor:true,cellForegroundColor:true,colorByAlternative:true,colorByExpression:true,tooltip:true,urlLabel:true};return{create:function e(n,i){if(!n||!t[n])throw"Attribute Expressions Util: ID required";var r={};i&&Object.keys(i).forEach(function(t){r[t]=i[t]});r.id=n;r.qAttribute=true;return r},getById:function t(e,n,i){if(e){i=i||"id";return e.filter(function(t){return t[i]===n})[0]}return false},getIndexById:function t(e,n,i){var r=-1;if(e){i=i||"id";e.forEach(function(t,e){t[i]===n&&(r=e)})}return r},moveById:function t(e,n,i,r){var o=this.getIndexById(e,i,r);n=n||[];var s=this.getIndexById(n,i,r);if(-1!==o&&-1===s){var a=e.splice(o,1);n.push(a[0])}return n},moveByIdFromGroup:function t(e,n,i,r,o){i=i||"qAttributeExpressions";o=o||"id";for(var s=0;s<e.length;s++){var a=e[s][i];var l=n.length;this.moveById(a,n,r,o);if(l!==n.length)return n}return n},clean:function t(e){return e.filter(function(t){return t&&t.id})},IDMAP:{CELL_BACKGROUND_COLOR:"cellBackgroundColor",CELL_FOREGROUND_COLOR:"cellForegroundColor",COLOR_BY_ALTERNATIVE:"colorByAlternative",COLOR_BY_EXPRESSION:"colorByExpression",TOOLTIP:"tooltip",CELL_URL_LABEL:"urlLabel"}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(68)],r=function(t,e){var n,i=new e(0,0,0,0),r=new e(0,0,0,0);n=t.extend("CubeSlicer",{init:function t(){this.pages=[]},get:function t(e){return e.map(function(t){return this.getPage(t)}.bind(this))},getPage:function t(n){var o,s,a=[],l;for(s=0;s<this.pages.length;s++){o=this.pages[s].qArea;i.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);r.set(o.qLeft,o.qTop,o.qWidth,o.qHeight);l=r.intersection(i,true);a.push({coverage:l?l.clone():new e(0,0,0,0),idx:s});if(o.qLeft<=n.qLeft&&o.qLeft+o.qWidth>=n.qLeft+n.qWidth&&o.qTop<=n.qTop&&o.qTop+o.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[s])}a.sort(function(t,e){return e.coverage.width*e.coverage.height-t.coverage.width*t.coverage.height});if(a[0].coverage.height>0&&a[0].coverage.width>0)return this._extract(n,this.pages[a[0].idx]);return{qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0},qMatrix:[]}},destroy:function t(){this.clear()},isEmpty:function t(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function t(){this.pages=[]},store:function t(e){this.pages=e},containsArea:function t(e){var n;for(var i=0;i<this.pages.length;i++){n=this.pages[i].qArea;if(n.qLeft<=e.qLeft&&n.qLeft+n.qWidth>=e.qLeft+e.qWidth&&n.qTop<=e.qTop&&n.qTop+n.qHeight>=e.qTop+e.qHeight)return true}return false},contains:function t(e){if(!this.pages||!this.pages.length)return false;return 0===e.filter(function(t){return!this.containsArea(t)}.bind(this)).length},_extract:function t(e,n){i.set(e.qLeft,e.qTop,e.qWidth,e.qHeight);r.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var o=i.intersection(r,true),s,a,l;if(!o)return{qArea:{qTop:e.qTop,qLeft:e.qLeft,qWidth:0,qHeight:0},qMatrix:[]};l=Math.max(0,e.qTop-n.qArea.qTop);a=Math.max(0,e.qLeft-n.qArea.qLeft);s=n.qMatrix.slice(l,l+o.height).map(function(t){return t.slice(a,a+o.width)});return{qArea:{qTop:o.y,qLeft:o.x,qWidth:o.width,qHeight:o.height},qMatrix:s}}});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(47),n(46)],r=function(t,e,n){var i,r;r="Not supported in this object, need to implement in subclass.";i=t.extend({init:function t(e){e=e||{};this.dimensionDefinition=e.dimensionDefinition||{max:0};this.measureDefinition=e.measureDefinition||{max:0};e.dimensionDefinition&&(this.dimensionProperties=e.dimensionProperties||{});e.measureDefinition&&(this.measureProperties=e.measureProperties||{});e.globalChangeListeners&&(this.globalChangeListeners=e.globalChangeListeners);e.addDimensionLabel&&(this.addDimensionLabel=e.addDimensionLabel);this.app=e.app},setProperties:function t(e){this.properties=e},setGlobalChangeListeners:function t(e){this.globalChangeListeners=e},setLayout:function t(e){this.layout=e},type:function t(){throw"Must override this method"},getDimensions:function t(){return[]},getDimension:function t(e){var n=this.getDimensions(),i=0;for(i;i<n.length;++i)if(n[i].qDef.cId===e)return n[i];return null},minDimensions:function t(){if("function"===typeof this.dimensionDefinition.min)return this.dimensionDefinition.min.call(null,this.properties,this);return this.dimensionDefinition.min||0},maxDimensions:function t(e){e=e||0;if("function"===typeof this.dimensionDefinition.max)return this.dimensionDefinition.max.call(null,this.getMeasures().length-e);return isNaN(this.dimensionDefinition.max)?1e4:this.dimensionDefinition.max},canAddDimension:function t(){return this.getDimensions().length<this.maxDimensions()},minMeasures:function t(){if("function"===typeof this.measureDefinition.min)return this.measureDefinition.min.call(null,this.properties,this);return this.measureDefinition.min||0},maxMeasures:function t(e){e=e||0;if("function"===typeof this.measureDefinition.max)return this.measureDefinition.max.call(null,this.getDimensions().length-e);return isNaN(this.measureDefinition.max)?1e4:this.measureDefinition.max},canAddMeasure:function t(){return this.getMeasures().length<this.maxMeasures()},getMeasures:function t(){return[]},getLabels:function t(){return[]},getMeasure:function t(e){var n=this.getMeasures(),i=0;for(i;i<n.length;++i)if(n[i].qDef.cId===e)return n[i];return null},addDimension:function t(){throw r},getSorting:function t(){throw r},addFieldDimension:function t(e,n,i){var r=this.createFieldDimension(e,n,i);return this.addDimension(r)},addLibraryDimension:function t(e,n){var i=this.createLibraryDimension(e,n);return this.addDimension(i)},addMeasure:function t(){throw r},addExpressionMeasure:function t(e,n,i){var r=this.createExpressionMeasure(e,n,i);return this.addMeasure(r)},addLibraryMeasure:function t(e,n){var i=this.createLibraryMeasure(e,n);return this.addMeasure(i)},addAlternativeFieldDimension:function t(e,n,i){var r=this.createFieldDimension(e,n,i);return this.addDimension(r,true)},addAlternativeLibraryDimension:function t(e,n){var i=this.createLibraryDimension(e,n);return this.addDimension(i,true)},addAlternativeExpressionMeasure:function t(e,n,i){var r=this.createExpressionMeasure(e,n,i);return this.addMeasure(r,true)},addAlternativeLibraryMeasure:function t(e,n){var i=this.createLibraryMeasure(e,n);return this.addMeasure(i,true)},replaceDimension:function t(){throw r},replaceMeasure:function t(){throw r},autoSortDimension:function t(){throw r},autoSortMeasure:function t(){throw r},createFieldDimension:function t(n,i,r){var o=e.extend(true,{},this.dimensionProperties||{},r||{});o.qDef||(o.qDef={});o.qOtherTotalSpec||(o.qOtherTotalSpec={});if(n){o.qDef.qFieldDefs=[n];o.qDef.qFieldLabels=i?[i]:[""];o.qDef.qSortCriterias=[{qSortByLoadOrder:1}]}else{o.qDef.qFieldDefs=[];o.qDef.qFieldLabels=[];o.qDef.qSortCriterias=[]}o.qDef.autoSort=true;return o},createLibraryDimension:function t(n,i){var r=e.extend(true,{},this.dimensionProperties||{},i||{});r.qDef||(r.qDef={});r.qOtherTotalSpec||(r.qOtherTotalSpec={});r.qLibraryId=n;r.qDef.qSortCriterias=[{qSortByLoadOrder:1}];r.qDef.autoSort=true;delete r.qDef.qFieldDefs;delete r.qDef.qFieldLabels;return r},createExpressionMeasure:function t(n,i,r){var o=e.extend(true,{},this.measureProperties||{},r||{});o.qDef||(o.qDef={});o.qDef.qNumFormat||(o.qDef.qNumFormat={});o.qDef.qDef=n;o.qDef.qLabel=i;o.qDef.autoSort=true;return o},createLibraryMeasure:function t(n,i){var r=e.extend(true,{},this.measureProperties||{},i||{});r.qDef||(r.qDef={});r.qDef.qNumFormat||(r.qDef.qNumFormat={});r.qLibraryId=n;r.qDef.autoSort=true;delete r.qDef.qDef;delete r.qDef.qLabel;return r},updateGlobalChangeListeners:function t(){this.globalChangeListeners&&(this.globalChangeListeners||[]).forEach(function(t){t&&"function"===typeof t&&t(this.properties,this)}.bind(this))},removeDimension:function t(){throw r},removeMeasure:function t(){throw r},moveDimension:function t(){throw r},moveMeasure:function t(){throw r},changeSorting:function t(){throw r},getAddDimensionLabel:function t(){return this.addDimensionLabel||n.get("Visualization.Requirements.AddDimension")}});return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(191),n(110),n(111),n(63),n(192)],r=function(t,e,n,i,r){function o(e,o,s,a){var l;if(i.getFlag("DISABLE_AUTO_CHART")||r.isVariableDefined("DISABLE_AUTO_CHART")||a&&a.shiftKey||!e.classifications&&!s.isDerived){l=t.createFieldDimension(e.qName);t.autoSortDimension(l,[e]);return{id:"newObject",args:{template:"filterpane",children:[t.createDefaultListBox(l,n.trimAutoCalendarName(e.qName))],init:{}}}}var c={id:"newObject",args:{template:"auto-chart",init:{qHyperCubeDef:{qDimensions:[],qMeasures:[],qInterColumnSortOrder:[0]}},annotatedFields:o}};var u={qDef:{qFieldDefs:[e.qName],qSortCriterias:[{qSortByLoadOrder:1}]}};c.args.init.qHyperCubeDef.qDimensions.push(u);return c}function s(t){var e=[];for(var i=0;i<t.length;++i){var r=t[i];r.isDateField=l(r);r.isGeoField=c(r);e.push(r);if(r.qDerivedFieldData)for(var o=0;o<r.qDerivedFieldData.qDerivedFieldLists.length;++o){var s=r.qDerivedFieldData.qDerivedFieldLists[o];for(var a=0;a<s.qFieldDefs.length;++a){var u=s.qFieldDefs[a];e.push({qName:u.qName,displayName:n.trimAutoCalendarName(u.qName),qSrcTables:r.qSrcTables,qTags:u.qTags,isDerived:true,isDerivedFromDate:r.isDateField,sourceField:r.qName,derivedDefinitionName:s.qDerivedDefinitionName})}}}return e}function a(t,e,i){var r=[];if(e)for(var s=0;s<e.qDerivedFieldLists.length;++s){var a=e.qDerivedFieldLists[s];for(var l=0;l<a.qFieldDefs.length;++l){var c=a.qFieldDefs[l];r.push({id:c.qName,qName:c.qMethod,name:c.qName,displayName:n.trimAutoCalendarName(c.qName),qSrcTables:t.qSrcTables,srcTables:t.qSrcTables,qTags:c.qTags,tags:c.qTags,type:"field",isDerived:true,isDerivedFromDate:i,getDropOption:o.bind(null,c,null),sourceField:t.qName,derivedDefinitionName:a.qDerivedDefinitionName})}}return r}function l(t){if(t.qDerivedFieldData)return t.qTags.indexOf("$date")>-1||t.qTags.indexOf("$timestamp")>-1;return false}function c(t){return t.qTags.indexOf("$geoname")>-1}var u={create:function t(n,i){var r=n.map(function(t){var n=l(t);var r=c(t);var s=o.bind(null,t,null);var u=void 0;var d=void 0;var p=void 0;if(i){var f=i._getFields(t.qName,t.qSrcTables);if(f.length>0){u=i.getClassifications(t.qName,t.qSrcTables);d=i.getDataTypes(t.qName,t.qSrcTables);p=i.getDefaultAggregation(t.qName,t.qSrcTables)}s=o.bind(null,t,f);t["defaultAggregation"]=p;t["classifications"]=u;t["dataTypes"]=d}var h={id:t.qName,name:t.qName,type:"field",dataTypes:[],classifications:[],defaultAggregation:"",isDateField:n,isGeoField:r,srcTables:t.qSrcTables,sourceField:t.sourceField,calendarTemplateName:t.derivedDefinitionName,getDropOption:s,tags:t.qTags,icon:e.isDirectDiscoveryField(t)?"direct-discovery":"",iconTooltip:e.getTypeTranslationKey(t.qTags),derivedFields:t.qDerivedFieldData?a(t,t.qDerivedFieldData,n):[]};if(i){h.dataTypes=d;h.classifications=u;h.defaultAggregation=p}return h});return r},expand:s,createFromArray:function t(e,n){var i,r=[];for(i=0;i<e.length;i++){n&&(e[i].qName=e[i][n]);r.push({name:e[i].qName,type:"field",getDropOption:o.bind(null,e[i],null)})}return r},getTables:function t(e){var n=e;var i,r,o;o=[];for(i=0;i<n.length;++i)for(r=0;r<n[i].qSrcTables.length;++r)-1===o.indexOf(n[i].qSrcTables[r])&&o.push(n[i].qSrcTables[r]);return o}};return u}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(41),n(96),n(67),n(112),n(197),n(399),n(46),n(400),n(402),n(403),n(198),n(199),n(80),n(404),n(414),n(415),n(128)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m){var b=i.NxLocalizedErrorCode;var y,x,w={},q;function _(t){this.fieldCache={};this.stateCache={};Object.defineProperties(this,{id:{value:t.id},model:{value:t}});t.session&&Object.defineProperties(this,{global:{value:new d(t.session)},bookmark:{value:new c(t)},variable:{value:new u(t,this)},visualization:{value:new h(this)}});Object.defineProperties(this,{theme:{value:new g(t)}});t.rpcOptions&&t.rpcOptions.qEvent&&(this.qEvent=t.rpcOptions.qEvent);this.getAppLayout()}_.prototype.clearAll=function(t,e){return f.appDoIt(this.model,"clearAll",[t||false,e||"$"])};_.prototype.back=function(){return f.appDoIt(this.model,"back")};_.prototype.forward=function(){return f.appDoIt(this.model,"forward")};_.prototype.lockAll=function(t){return f.appDoIt(this.model,"lockAll",[t||"$"])};_.prototype.unlockAll=function(t){return f.appDoIt(this.model,"unlockAll",[t||"$"])};function C(e,n){var i=n||new t;e.getLayout().then(function(){i.resolve(e)},function(t){i.reject(t)});return i.promise}_.prototype.getObject=function(e,n,i){var o,s,l=this.model;var c=this;if(!n){n=e;e=void 0}o=new t;l.waitForOpen.promise.then(function(){if("CurrentSelections"===n){if(e){var u=i||{};u.currentSelections=true;s=f.showVisualization(e,null,u,l)}r.get(l).then(function(t){t.close=function(){return f.clearElement(e,s)};o.resolve(t)})}else if("AppNavigationBar"===n&&m["ODAG_MASHUP"]){var d=i||{};i.app=l;d.showNavigationToolbar=true;s=f.showVisualization(e,i,d,l);o.resolve()}else l.enigmaModel.getObject(n).then(function(n){return C(n).then(function(n){var r;if(e){r=new t;s=f.showVisualization(e,n,i);n.close=function(){n.Closed.emit();return r.promise};n.Closed.once(function(){f.clearElement(e,s).then(function(){r.resolve()})})}C(n,o)})},function(t){t.error&&t.error.code===b.LOCERR_GENERIC_NOT_FOUND&&(t={message:a.get("Object not found"),code:t.error.code});if(c.qEvent&&c.qEvent.hasHandlers("error")){c.qEvent.emit("error",t);t.isHandled=true}else if(y){y(t);t.isHandled=true}o.reject(t)})},function(){o.reject()});return o.promise};_.prototype.getSnapshot=function(t,e){if(!e){e=t;t=void 0}var n=this.model;return n.waitForOpen.promise.then(function(){return o.get(e,n).then(function(e){t&&f.showVisualization(t,e.enigmaModel,{APIType:s,noInteraction:true});return e.getLayout().then(function(){return e})})})};_.prototype.getObjectProperties=function(t){var e=this.model;return e.waitForOpen.promise.then(function(){return e.enigmaModel.getObject(t)}).then(function(t){return t.getProperties().then(function(){return t})})};_.prototype.getFullPropertyTree=function(t){var e=this.model;return e.waitForOpen.promise.then(function(){return e.enigmaModel.getObject(t)}).then(function(t){return t.getFullPropertyTree().then(function(e){t.propertyTree=e;return t})})};_.prototype.createGenericObject=function(e,n){var i=this;return i.model.waitForOpen.promise.then(function(){var t=n?function(t){n(t,i)}:function(){};f.setDefaultId(e);return i.model.enigmaModel.getOrCreateSessionObject(e).then(function(e){e.Invalidated.bind(function(){e.getLayout().then(t)});e.close=function(){return i.destroySessionObject(e.id).then(function(){e.emit("closed",e);return e})};e.Closed.bind(function(){i.model.enigmaModel._listCache&&i.model.enigmaModel._listCache[this.id]&&delete i.model.enigmaModel._listCache[this.id]});return e.getLayout().then(function(n){t(n);return e})},function(t){if(y){y(t.error,i);t.error.isHandled=true}})},function(){return t.reject()})};_.prototype.destroySessionObject=function(t){return f.appDoIt(this.model,"destroySessionObject",[t])};_.prototype.createCube=function(t,e){return this.createGenericObject({qHyperCubeDef:t},e)};_.prototype.createList=function(t,e){return this.createGenericObject({qListObjectDef:t},e)};_.prototype.getList=function(t,e){return this.createGenericObject(f.getDefaultListParam(t),e)};_.prototype.getAppObjectList=function(t,e){if(!e){e=t;t="sheet"}return this.getList(t,e)};_.prototype.searchSuggest=function(t,e,n){var i=f.appDoIt(this.model,"searchSuggest",[e,t]).then(function(t){return{qResult:t}});n&&i.then(function(t){n(t)});return i};_.prototype.searchAssociations=function(t,e,n,i){var r=f.appDoIt(this.model,"searchAssociations",[n||{},t,e]).then(function(t){return{qResults:t}});i&&r.then(function(t){i(t)});return r};_.prototype.searchResults=function(t,e,n,i){var r=f.appDoIt(this.model,"searchResults",[n||{},t,e]).then(function(t){return{qResult:t}});i&&r.then(function(t){i(t)});return r};_.prototype.selectAssociations=function(t,e,n){return f.appDoIt(this.model,"selectAssociations",[n||{},e,t])};_.prototype.getAppLayout=function(e){var n=this,i=new t,r=e?function(t){e(t.layout,n)}:function(){};n.model.waitForOpen?n.model.waitForOpen.promise.then(function(){n.model.Invalidated&&n.model.Invalidated.bind(function(){C(n.model).then(r)});C(n.model).then(function(t){r(t);i.resolve(t)})}):C(n.model).then(function(t){r(t);i.resolve(t)});return i.promise};_.prototype.addAlternateState=function(t){return f.appDoIt(this.model,"addAlternateState",[t])};_.prototype.removeAlternateState=function(t){return f.appDoIt(this.model,"removeAlternateState",[t])};_.prototype.doReload=function(t,e,n){this.fieldCache={};return f.appDoIt(this.model,"doReload",[t||0,e||false,n||false])};_.prototype.doSave=function(t){return f.appDoIt(this.model,"doSave",[t])};_.prototype.field=function(t,e){var n=e?t+"/"+e:t;this.fieldCache[n]||(this.fieldCache[n]=new l(this,t,e));return this.fieldCache[n]};_.prototype.table=function(t,e){return new p(this,t,e)};_.setErrorCallback=function(t,e){y=t;x=e};_.prototype.createTable=function(t,e,n){var i=f.createHypercubeDef(t,e,n);return new p(this,this.createGenericObject({qHyperCubeDef:i}))};_.prototype.selectionState=function(t){var e=t||"$";if(!this.stateCache[e]){var n=f.getDefaultListParam("CurrentSelections",{qStateName:e});this.stateCache[e]=new v(this,this.createGenericObject(n),e)}return this.stateCache[e]};_.prototype.getScript=function(){if(this.model.getScript)return this.model.getScript().then(function(t){return{qScript:t}});return this.model.rpc("GetScript")};_.prototype.setScript=function(t){var e=this.model;var n="function"===typeof this.model.setScript?function(t){return e.setScript(t)}:function(t){return e.rpc("SetScript",null,[t])};var i="function"===typeof this.model.checkScriptSyntax?function(){return e.checkScriptSyntax().then(function(t){return{qErrors:t}})}:function(){return e.rpc("CheckScriptSyntax")};function r(t,e){return e.qErrors&&e.qErrors.length>0?e:t}return n(t).then(function(t){return i().then(function(e){return r(t,e)})})};_.currApp=function(t){var e;e=t&&t.backendApi&&t.backendApi.model.session&&(t.backendApi.model.session.currentApp||t.backendApi.model.session.app)?t.backendApi.model.session.currentApp||t.backendApi.model.session.app:t&&t.backendApi&&t.backendApi.model.app?t.backendApi.model.app:n.current;if(!e)return null;q||(q=new _(e));if(q.model===e)return q;return new _(e)};_.openApp=function(i,r){f.initClient();i=i||"";r=r||{};this._qEvent&&(r._qEvent=this._qEvent);var o=f.makeConfig(r),s=n.makeCacheId(i,o),a,l;if(w[s])return w[s];a=y?function(t){y(t||{code:b.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:y;x&&(l=x);var c=n.getSync(i,o,true,a,l);if(c){var u=new _(c);u.close=function(){var e=new t;setTimeout(function(){delete w[s];e.resolve(c.close(false))},200);return e.promise};c.waitForOpen.promise.then(function(){document.addEventListener("onAppStateChanged",function(t){if(t.detail&&t.detail.inForegroundNow){e.getService("$delayedModal").close();c.enigmaModel.session.resume(true)}else if(t.detail&&!t.detail.inForegroundNow){u.fieldCache={};u.stateCache={};c.enigmaModel.session.suspend()}})});w[s]=u}return w[s]};_.sessionApp=function(t){return this.sessionAppFromApp("?transient=",t)};_.sessionAppFromApp=function(e,i){var r;f.initClient();var o=f.makeConfig(i),s=n.makeCacheId(e,o),a;o.identity=o.identity||"sessionapp";o.sessionApp={value:true,appId:e};a=function t(e){if(e&&1002===e.code){e.isHandled=true;return}y&&y({code:b.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})};var l=n.getSync(e,o,true,a,x);if(l){r=new _(l);r.close=function(){var e=new t;setTimeout(function(){delete w[s];e.resolve(l.close(false))},200);return e.promise}}return r};_.table=function(t,e){var n=_.currApp(t);return n.table(t,e)};_.prototype.on=function(t,e){this.qEvent.register({scope:"QApp",name:t,callback:e})};_.prototype.off=function(t){this.qEvent.clear(t)};return _}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(64)],r=function(t,e){function n(n){return n?t.resolve(n.enigmaModel):e.getApp()}var i={};i.get=function(t,e){return n(e).then(function(e){return e.getBookmark(t)})};i.apply=function(t,e){return n(e).then(function(e){return e.applyBookmark(t)})};i.create=function(t,e){return n(e).then(function(e){return e.createBookmark(t)})};i.remove=function(t,e){return n(e).then(function(e){return e.destroyBookmark(t)})};i.getList=function(t){return n(t).then(function(t){return t.getBookmarkListObject()})};i.getListLayout=function(t){return n(t).then(function(t){return t.getBookmarkList()})};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(67),n(46)],r=function(t,e){var n=t.NxLocalizedErrorCode;function i(t){return"ErrorCode."+t}return{getDimensionError:function t(r){var o;o=r===n.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidDimension":r===n.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingDimension":i(r);return e.get(o)},getMeasureError:function t(r){var o;o=r===n.LOCERR_CALC_INVALID_DEF?"Object.ErrorMessage.InvalidMeasure":r===n.LOCERR_CALC_NOT_IN_LIB?"Object.ErrorMessage.MissingMeasure":i(r);return e.get(o)},getHyperCubeError:function t(n){var r=i(n);return e.get(r)},getListObjectError:function t(n){var r=i(n);return e.get(r)}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(95),n(57)],r=function(t,e){var n={};var i=false;var r="ltr";var o=false;e.mixin(n);n.notification("DirectionChanged");n.init=function(){return t.getProperties().then(function(t){o=true;return n.setRtl(t&&t.rtl)})};n.setRtl=function(t){if(i!==t){i=t;r=i?"rtl":"ltr";n.DirectionChanged.emit(r)}return r};Object.defineProperty(n,"isInit",{get:function t(){return o}});Object.defineProperty(n,"isRtl",{get:function t(){return i}});Object.defineProperty(n,"direction",{get:function t(){return r}});function s(t){n.setRtl(t.rtl)}t.UpdateObjProps.bind(s);return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53)],r=function(t){var e;e=t.extend("SelectionToolbar",{menuButtons:[],init:function t(e,n,i,r,o,s){o=o||[];this.menuButtons=s||[];var a=[];this.backendApi=e;this.selectionsApi=n;this.showMenu=i;this.showLock=r;o&&o.length&&a.push({clazz:"sel-toolbar-separator",buttonClass:"sel-toolbar-icon-separator",isDisabled:function t(){return true}});a.push({name:"Tooltip.CancelSelections",tid:"selection-toolbar.undo",isIcon:false,iconClass:"lui-icon lui-icon--close",buttonClass:"sel-toolbar-cancel",action:function t(){this.selectionsApi.cancel()}});a.push({name:"Tooltip.ConfirmSelections",tid:"selection-toolbar.refresh",iconClass:"lui-icon lui-icon--tick",buttonClass:"sel-toolbar-confirm",action:function t(){this.selectionsApi.confirm()},isDisabled:function t(){return!this.selectionsApi.selectionsMade}});this.buttons=o.concat(a)},hasState:function t(e){if(!e)return true;var n=this.backendApi.getDimensionInfos();for(var i=0;i<n.length;++i)for(var r=0;r<e.length;++r)if(n[i].qStateCounts[e[r]]>0)return true;return false}});return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={STATIC:0,ANALYSIS:1,EDIT:2};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(206)],r=function(t){var e=t.extend({init:function t(e,n){this._super(e.cache,n);this._selectedShapes=[];this.handler=e;this.options=n;this.components=n.components||{}},release:function t(){this._super();this.components={};this._selectedShapes=[];this.handler=null},resetSelectedShapes:function t(){this._selectedShapes.length=0},getSelectedShapes:function t(){return this._selectedShapes},toggleSelectedShape:function t(e){var n=this._selectedShapes.indexOf(e);-1!==n?this._selectedShapes.splice(n,1):this._selectedShapes.push(e)},setActiveMode:function t(e){this._activeMode=e},getActiveMode:function t(){return this._activeMode},register:function t(e,n){this.handler.register(e,n)},deregister:function t(e,n){this.handler.deregister(e,n)},getActiveDimensions:function t(){return this.activeComponent.getSelectionIndices()},toggle:function t(){},toggleRect:function t(){},start:function t(){},update:function t(){},end:function t(){},cancel:function t(){},move:function t(){},leave:function t(){},getTransformedPoint:function t(e,n){return this._super(e,n,this.handler.containerRect)},getPagePoint:function t(e,n,i){return this._super(e,n,i,this.handler.containerRect)},shapeFromPoint:function t(e){return this.shapesFrom.shapeFromPoint(e)},shapesFromPoints:function t(e){return this.shapesFrom.shapesFromPoints(e)},shapesFromLines:function t(e){return this.shapesFrom.shapesFromLines(e)},shapesFromPolygon:function t(e){return this.shapesFrom.shapesFromPolygon(e)},shapesFromRect:function t(e,n){return this.shapesFrom.shapesFromRect(e,n)},shapesFromRectForDirection:function t(e,n,i){return this.shapesFrom.shapesFromRectForDirection(e,n,i)},shapesFromRange:function t(e,n,i,r){return this.shapesFrom.shapesFromRange(e,n,i,r)},shapesFromDimensionValue:function t(e){return this.shapesFrom.shapesFromDimensionValue(e)},groupedItemsFromShapes:function t(e){return this.shapesFrom.groupedItemsFromShapes(e)},shapesFromIndex:function t(e,n){return this.shapesFrom.shapesFromIndex(e,n)},ToggleFlag:{select:1,deselect:2,auto:4,replace:8},toggleSelection:function t(e,n){var i=this.handler._disableSelections,r=this.ToggleFlag,o=this.handler.ToggleShape,s=this.handler.ToggleShapes,a=this.toggleSelectedShape.bind(this),l;n=n||r.auto;function c(t){var r=e.filter(t);r.forEach(function(t){if(!i){t.selected=!t.selected;a(t);o.emit(t,n)}});r.length>0&&s.emit(e,n)}if(n&r.select)c(function(t){return!t.selected});else if(n&r.deselect)c(function(t){return t.selected});else if(n&r.auto)c(function(){return true});else if(n&r.replace){l=e;e=this.handler.cache.data;c(function(t){return t.selected});e=l;c(function(){return true})}},clearSelection:function t(){var e=this.handler.Clear,n=this.handler.cache.data,i=this.ToggleFlag.deselect;this.toggleSelection(n,i);e.emit()}});e.defaultOptions={};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(78),n(84),n(60),n(73),n(459),n(110),n(111),n(46),n(114)],r=function(t,e,n,i,r,o,s,a,l){var c=100;function u(t,n){if(""===n)return t;return t.filter(function(t){if("undefined"===typeof t.value)return false;return e.string(t.value.toLowerCase()).indexOf(e.string(n.toLowerCase()))>-1})}var d={template:o,controller:["$scope",function(e){e.search={term:""};e.isDirectDiscoveryField=s.isDirectDiscoveryField;e.getDirectDiscoveryTypeTranslationKey=s.getTypeTranslationKey;e.autoFocus=i.treatAsDesktop();e.position||(e.position="right");e.onEscape=function(t){if(""!==e.search.term){t.stopPropagation();e.search.term=""}else e.close()};e.onEnter=function(t){if(""!==e.search.term){t.stopPropagation();e.addFieldDimension({value:e.search.term})}else e.close()};e.getFieldDisplayName=function(t){return""===e.search.term?t.label:a.trimAutoCalendarName(t.value)};var o=null;e.$watch("search.term",function(i){function s(){var t=u(o.fields,i);var r=u(o.dimensions,i);var s=u(o.activeDimensions,i);if(r.length+s.length>c){r=n.limit(r,Math.max(c-s.length,0));t=[]}else t.length+r.length+s.length>c&&(t=n.limit(t,Math.max(c-r.length-s.length,0)));e.fields=t;e.dimensions=r;e.activeDimensions=s}o?s():t.all({fields:r.getSortedFields(e.app),dimensions:r.getSortedDimensions(e.app)}).then(function(t){var n=t.fields.map(function(t){var e=t.isDerived&&""===i?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):t.qName;return{toolTip:t.qName,label:e,value:t.qName,trimmedValue:t.displayName,qTags:t.qTags,isDerived:t.isDerived,isDateField:t.isDateField,isGeoField:t.isGeoField,activeDimensionIndex:-1}});var r=t.dimensions.map(function(t){return{label:t.qData.title,value:t.qData.title,libraryId:t.qInfo.qId,isDrillDown:"H"===t.qData.grouping,activeDimensionIndex:-1}});var a=[];e.activeDimensions&&e.activeDimensions.length&&e.activeDimensions.forEach(function(t,e){var i={};if(t.qLibraryId){r.forEach(function(e){if(e.libraryId===t.qLibraryId){i.label=e.label;i.value=e.value}});i.libraryId=t.libraryId}else n.forEach(function(e){if(e.value===t.qDef.qFieldDefs[0]){i.label=e.label;i.value=e.value}});i.translatedTitle=l.get("properties.colorBy.currentDimension",e+1);i.activeDimensionIndex=e;a.push(i)});o={fields:n,dimensions:r,activeDimensions:a};s()})})}],scope:{alignTo:"=",app:"=",addFieldDimension:"=",addLibraryDimension:"=",qvaOutsideIgnoreFor:"=",close:"=",position:"=",allowExpressionEditor:"@",selectColorByDimIndex:"="}};return d}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(78),n(47),n(84),n(60),n(73),n(462),n(110),n(111),n(46),n(114)],r=function(t,e,n,i,r,o,s,a,l,c){var u=100;function d(t,n){if(""===n)return t;return t.filter(function(t){if("undefined"===typeof t.value)return false;return e.string(t.value.toLowerCase()).indexOf(e.string(n.toLowerCase()))>-1})}var p={template:s,controller:["$scope",function(e){e.search={term:""};e.isDirectDiscoveryField=a.isDirectDiscoveryField;e.getDirectDiscoveryTypeTranslationKey=a.getTypeTranslationKey;e.autoFocus=r.treatAsDesktop();e.position||(e.position="right");e.onEscape=function(t){if(""!==e.search.term){t.stopPropagation();e.search.term=""}else e.close()};e.onEnter=function(t){if(""!==e.search.term){t.stopPropagation();e.addExpressionMeasure({value:e.search.term})}else e.close()};e.showFromField=function(t){e.currentField=t;e.step2=true};e.goBack=function(t){t.preventDefault();e.currentField=null;e.step2=false};e.$watch("currentField",function(t){e.fieldSuggestions=t?["Sum","Count","Avg","Min","Max"].map(function(t){var i=n.escapeField(e.currentField.value);return{aggregation:t,field:i}}):[]});e.addFromField=function(t){var n=t.aggregation+"("+t.field+")";e.addExpressionMeasure({value:n})};e.getFieldDisplayName=function(t){return""===e.search.term?t.label:l.trimAutoCalendarName(t.value)};var s=null;e.$watch("search.term",function(n){function r(){var t=d(s.measures,n);var r=d(s.fields,n);var o=d(s.activeMeasures,n);if(t.length+o.length>u){t=i.limit(t,Math.max(u-o.length,0));r=[]}else t.length+o.length+r.length>u&&(r=i.limit(r,Math.max(u-t.length-o.length,0)));e.fields=r;e.measures=t;e.activeMeasures=o}s?r():t.all({fields:o.getSortedFields(e.app),measures:o.getSortedMeasures(e.app),activeMeasures:e.activeMeasures}).then(function(t){var e=t.fields.map(function(t){var e=t.isDerived&&""===n?t.qName.substring(t.qName.lastIndexOf(".")+1,t.qName.length):t.qName;return{toolTip:t.qName,value:t.qName,trimmedValue:t.displayName,label:e,field:t.qName,qTags:t.qTags,isDerived:t.isDerived,isDateField:t.isDateField,isGeoField:t.isGeoField,activeMeasureIndex:-1}});var i=t.measures.map(function(t){return{value:t.qData.title,label:t.qData.title,libraryId:t.qInfo.qId,activeMeasureIndex:-1}});var o=[];t.activeMeasures&&t.activeMeasures.length&&(o=t.activeMeasures.map(function(t,n){var r={};t.qLibraryId?i.forEach(function(e){if(e.libraryId===t.qLibraryId){r.value=e.value;r.label=e.label}r.libraryId=t.libraryId}):e.forEach(function(e){if(e.value===t.qDef.qDef){r.label=e.label;r.value=e.value}});r.translatedTitle=c.get("properties.colorBy.currentMeasure",n+1);r.activeMeasureIndex=n;return r}));s={fields:e,measures:i,activeMeasures:o};r()})})}],scope:{alignTo:"=",app:"=",addExpressionMeasure:"=",addLibraryMeasure:"=",addActiveMeasure:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"=",allowExpressionEditor:"@"}};return p}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(463)],r=function(t){var e={create:n};return e;function n(){return new t}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(58),n(486),n(152)],r=function(t,e,n){t.directive("tabviewScroller",function(){return{template:n,scope:{showNewButton:"@?",onNewActivated:"&?",iconNewTitle:"@",iconPrevTitle:"@",iconNextTitle:"@"},controller:["$scope","$element","$timeout",function(t,n,i){var r=n[0].parentNode;var o=r.querySelector(".tabset");var s=o.querySelectorAll(".tab");var a=o.offsetWidth;var l;c();function c(){s=o.querySelectorAll(".tab");a=o.offsetWidth;if(s.length>0){var t=s[s.length-1];var e=t.offsetLeft-o.offsetLeft;var n=t.offsetWidth;l=e+n}}function u(){o.scrollLeft<l-a&&l-a>0?t.scrollForwardDisabled=false:t.scrollForwardDisabled=true;o.scrollLeft>0?t.scrollBackwardDisabled=false:t.scrollBackwardDisabled=true}t.scrollForwardDisabled=true;t.scrollBackwardDisabled=true;t.$watch(function(){return o.querySelectorAll(".file").length},function(t,e){i(function(){c();e<t&&0!==e&&(o.scrollLeft=l-a);u()})});e.on("end",function(){i(function(){c();u()})});t.scrollForward=function(){o.scrollLeft+=65;c();u()};t.scrollBackwards=function(){o.scrollLeft-=65;u()};t.newActivated=function(){t.onNewActivated()}}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(487),n(213),n(214),n(215)],r=function(){}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(41),n(99),n(70),n(83)],r=function(t,e,n,i){var r={},o,s=[];return{saveTemplate:w,getTemplate:_,deleteTemplate:C,addTemplate:D,getWidgetList:c,getWidgetListFromLibrary:u,loadWidget:S,getLibForId:l,loadFile:d,getLibrary:m,saveLibrary:h,deleteLibrary:v,createLibrary:g,reloadCachedLibraries:x};function a(t){return(t.libid?t.libid:t.id)+"/"+t.id}function l(t){var e=s.filter(function(e){return e.data.widgets&&e.data.widgets.indexOf(t)>-1});e.length>1&&console.log("Duplicate libraries for widget:"+t,e);return e[0]}function c(e){if(!o||e){o=new t;var i=[];n.getList(e).then(function(t){s.length=0;t.forEach(function(t){if("widget-library"===t.data.type){s.push(t);t.data.widgets&&t.data.widgets.forEach(function(e){i.push({libid:t.id,id:e})})}});o.resolve(i)})}return o.promise}function u(e){var i=[];var r=new t;n.getList(false).then(function(t){s.length=0;t.forEach(function(t){if("widget-library"===t.data.type&&t.id===e){s.push(t);t.data.widgets&&t.data.widgets.forEach(function(e){i.push({libid:t.id,id:e})})}});r.resolve(i)});return r.promise}function d(t,n){return e.getService("$contentApi").request({method:"GET",url:"/extensions/"+t+(n?"?"+(new Date).getTime():""),cache:false})}function p(n,i,r){var o=new t;if(r){d(n).then(function(t){var e=t.headers;e("last-modified")!==r?o.reject("File modified by another user"):p(n,i).then(function(){o.resolve()}).catch(function(t){o.reject(t)})});return o.promise}var s=n.split("/");e.getService("$contentApi").request({method:"POST",url:"/qrs/extension/"+s[0]+"/uploadfile?externalpath="+s[1]+"&overwrite=true",data:i}).then(function(){o.resolve()}).catch(function(t){o.reject(t)});return o.promise}function f(n){var i=new t;var r=n.split("/");e.getService("$contentApi").request({method:"DELETE",url:"/qrs/extension/"+r[0]+"/deletecontent?externalpath="+r[1]}).then(function(){i.resolve()}).catch(function(t){i.reject(t)});return i.promise}function h(e){var n=new t;p(a(e)+".qext",JSON.stringify(e.data,null,2)).then(function(){n.resolve()},function(t){n.reject(t)});return n.promise}function v(t){return f(a(t)+".qext")}function g(t,e){return i.createExtensionInRepo({name:t,description:e,type:"widget-library"})}function m(t){return d(t+"/"+t+".qext",true).then(function(t){return t.data})}function b(e,n){var i=new t;m(e).then(function(t){t.widgets||(t.widgets=[]);t.widgets.push(n);h({id:e,data:t}).then(function(){i.resolve()},function(t){i.reject(t)})});return i.promise}function y(e,n){var i=new t;m(e).then(function(t){if(t.widgets){t.widgets=t.widgets.filter(function(t){return t!==n});h({id:e,data:t}).then(function(){i.resolve()},function(t){i.reject(t)})}else i.reject()});return i.promise}function x(){var e=new t;n.getList(true).then(function(t){s.length=0;t.forEach(function(t){"widget-library"===t.data.type&&s.push(t)});e.resolve()}).catch(function(t){e.reject(t)});return e.promise}function w(e){var n=new t,i=a(e);p(i+".json",JSON.stringify({name:e.name,description:e.description,author:e.author,library:e.libid,meta:e.meta,properties:e.properties,dependencies:e.dependencies},null,2),e.lastModified).then(function(){var t="<style>"+e.css+"</style>\n<div>"+e.html+"</div>";p(i+".html",t).then(function(){e.lastModified?d(i+".json",true).then(function(t){var n=t.headers;e.lastModified=n("last-modified")}).then(function(){n.resolve()}):b(e.libid,e.id).then(function(){d(i+".json",true).then(function(t){var n=t.headers;e.lastModified=n("last-modified")}).then(function(){n.resolve()})})},function(t){n.reject(t)})},function(t){n.reject(t)});return n.promise}function q(e){var n=new t;d(e+".json",true).then(function(t){var e=t.data;var i=t.headers;e.lastModified=i("last-modified");n.resolve(e)}).catch(function(t){n.reject(t)});return n.promise}function _(t,e){var n=t+"/"+e;r[n]||(r[n]=q(n));return r[n]}function C(e){var n=new t,i=a(e);f(i+".json").then(function(){y(e.libid,e.id).then(function(){f(i+".html").then(function(){delete r[i];n.resolve()},function(t){n.reject(t)})},function(t){n.reject(t)})},function(){n.reject()});return n.promise}function S(e){var n=new t,i=a(e);d(i+".html",true).then(function(t){var i=t.data;var r=document.createElement("div");r.innerHTML=i;var o=r.getElementsByTagName("script");var s=o.length;while(s--)o[s].parentNode.removeChild(o[s]);var a=r.getElementsByTagName("style");if(1===a.length){e.css=a[0].innerHTML;var l=r.getElementsByTagName("div");e.html=l[0].innerHTML;n.resolve()}else n.reject("Widget.InvalidTemplate")}).catch(function(){n.reject()});return n.promise}function D(e){var n=a(e);if(!r[n]){var i=new t;r[n]=i.promise;i.resolve(e)}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(75)],r=function(t){var e={ERROR:{value:0,name:"Error"},WARNING:{value:1,name:"Warning"},INFO:{value:2,name:"Information"}};var n=false;function i(t,e,n){this.message=t;this.source=e;this.type=n}function r(i){var r;switch(i.type){case e.ERROR:r=console.error;break;case e.WARNING:r=console.warn;break;case e.INFO:r=console.info;break;default:break}n||t.inClient()||r(i.type.name," ",i.message)}function o(t,n){var o=new i(t,n,e.ERROR);r(o)}function s(t,n){var o=new i(t,n,e.WARNING);r(o)}function a(t,n){var o=new i(t,n,e.INFO);r(o)}function l(t){n=t}return{error:o,warn:s,info:a,suppress:l}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(45),n(46),n(52),n(121),n(54),n(156),n(522),n(66),n(157),n(90)],r=function(t,e,n,i,r){var s=t.getService("qwErrorService");var a=t.getService("qwConverterComService");var l=t.getService("qwConverterDataService");var c=t.getService("qwCommonService");var u=t.getService("toastService");var d=t.getService("$timeout");var p=t.getService("luiDialog");t.service("qwConverterService",[function(){var f;var h={};var v=false;var g={};var m={currentApItemObject:{id:""},senseApps:null,currentObj:null,currentSheet:null,apItems:[],objects:[],url:null,errorURL:false,iframe:null,assetsPanelTitle:n.get("Devhub.QlikViewDocuments"),view:function t(){return b.view}};var b={selectedVizViewGroup:"indexTableSheets",view:"default",currentView:"",toggles:{},selected:{},currentApp:""};var y={};var x={dataAssets:{stateObject:b,tabs:[{ref:"visualizations",label:"Devhub.Visualizations"},{ref:"dimensions",label:"Devhub.Dimensions"},{ref:"measures",label:"Devhub.Measures",tooltip:"Devhub.InfoMeasures"},{ref:"variables",label:"Devhub.Variables",tooltip:"Devhub.InfoVariables"},{ref:"disabled",label:"Devhub.UnconvertedObjects",tooltip:"Devhub.InfoUnconvertedObjects"}]},includes:{qwTransTabset:{}},qwrequires:{},persistent:true};var w={default:{qwrequires:{root:{"qw-dynamic-component[1]":{dataAssets:{},includes:{qwWelcomeScreen:{}},qwrequires:{}}}}},visualizations:{qwrequires:{root:{"qw-dynamic-component[1]":x,"qw-dynamic-component[2]":{dataAssets:{stateObject:b,state:"selectedVizViewGroup",data:y,title:"Devhub.GroupBy",selectButtons:true,buttons:[{value:"indexTableSheets",label:"Devhub.Sheets"},{value:"indexTableVisualizationsType",label:"Devhub.ObjectType"}]},includes:{qwGroupingRow:{}},qwrequires:{},dynClasses:["first-dyn-row"],eventAssets:{change:O,getAllSelectedStatus:L,toggleSelect:M}},"qw-dynamic-component[3]":{dataAssets:{stateObject:b,state:"selectedVizViewGroup",data:y,repeatDataKeys:[],repeatState:"selectedVizViewGroup"},includes:{qwCollapsibleRow:{dataAssets:{rowItems:{dynTypes:["arrow","header"],dynValues:["","id"]},params:{infos:[false,"counter"]}}}},qwrequires:{"qw-dynamic-component[4]":{includes:{qwCollapsibleRow:{dataAssets:{leading:{dynTypes:["","header","header","header","selectButtons"],dynValues:["","Devhub.Name","Devhub.ObjectType","Devhub.Select"],translator:true,id:"leadingRow",condition:[null,"selectedVizViewGroup === 'indexTableSheets'"]},rowItems:{dynTypes:["","input","label","checkbox"],dynValues:["","title","type","checkdis"]},params:{infos:[false,false,"id"]}}}},dynClasses:["second-layer"]}},dynClasses:["first-layer"],eventAssets:{change:O,getAllSelectedStatus:L,toggleSelect:M,changeValue:j}}}}},dimensions:{qwrequires:{root:{"qw-dynamic-component[1]":x,"qw-dynamic-component[2]":{dataAssets:{stateObject:b,state:"selectedVizViewGroup",data:y,repeatDataKeys:["appData"],repeatState:"view"},includes:{qwCollapsibleRow:{dataAssets:{leading:{dynTypes:["header","header","header","selectButtons"],dynValues:["Devhub.Name","Devhub.Fields","Devhub.Select","selected"],translator:true,id:"leadingRow"},rowItems:{dynTypes:["input","fields","checkbox"],dynValues:["title","fields","checkdis"]}}}},dynClasses:["only-one-layer","first-dyn-row"],eventAssets:{change:O,getAllSelectedStatus:L,toggleSelect:M,changeValue:j}}}}},measures:{qwrequires:{root:{"qw-dynamic-component[1]":x,"qw-dynamic-component[2]":{dataAssets:{stateObject:b,data:y,repeatDataKeys:["appData"],repeatState:"view"},includes:{qwCollapsibleRow:{dataAssets:{leading:{dynTypes:["header","header","header","selectButtons"],dynValues:["Devhub.Name","Devhub.Expression","Devhub.Select"],translator:true,id:"leadingRow"},rowItems:{dynTypes:["input","expression","checkbox"],dynValues:["title","definition","checkdis"]}}}},dynClasses:["only-one-layer","first-dyn-row"],eventAssets:{change:O,getAllSelectedStatus:L,toggleSelect:M,changeValue:j}}}}},variables:{qwrequires:{root:{"qw-dynamic-component[1]":x,"qw-dynamic-component[2]":{dataAssets:{stateObject:b,data:y,repeatDataKeys:["appData"],repeatState:"view"},includes:{qwCollapsibleRow:{dataAssets:{leading:{dynTypes:["header","header"],dynValues:["Devhub.Name","Variable.Definition"],translator:true,id:"leadingRow"},rowItems:{dynTypes:["label","label"],dynValues:["id","definition"]}}}},dynClasses:["first-dyn-row","only-one-layer"]}}}},disabled:{qwrequires:{root:{"qw-dynamic-component[1]":x,"qw-dynamic-component[2]":{dataAssets:{stateObject:b,data:y,repeatDataKeys:["appData"],repeatState:"view"},includes:{qwCollapsibleRow:{dataAssets:{leading:{dynTypes:["header","header"],dynValues:["Devhub.Name","Devhub.ObjectType"],translator:true,id:"leadingRow"},rowItems:{dynTypes:["label","label"],dynValues:["title","type"]}}}},dynClasses:["first-dyn-row","only-one-layer"]}}}}};var q={onClick:function t(e){_(e)},onDrag:false,onRightClick:false};function _(t){b.currentApp!==t.id&&l.loadAppData(t.id).then(function(e){v=false;Object.keys(e).forEach(function(t){y[t]=e[t]});b.selected={};b.currentApp=t.id;m.currentApItemObject.id=t.id;C(["visualizations","dimensions","measures","variables"],e);Object.keys(g).forEach(function(t){"function"===typeof g[t].changeState&&g[t].changeState("visualizations")});h._onChangeView=d(function(){console.log("changeView");I("visualizations",false,true)})})}function C(t,e){t.forEach(function(t){b.selected[t]=b.selected[t]||{};e.project[t].forEach(function(e){b.selected[t][e]=true})})}function S(){var t=new e;e.all({senseApps:F(),assetsInfo:k(true)}).then(function(e){var n=i.getHashParameter("qvwapp");if(n){_({id:n});window.location.hash="";"function"===typeof window.history.replaceState&&history.replaceState({},"",window.location.href.slice(0,-1))}m.senseApps=e.senseApps;t.resolve(e)}).catch(function(t){s.raiseError(null,t.errMessage)});return t.promise}function D(){return a.getAllProjects()}function E(t,e){m.apItems=t.map(function(t){if(e)return{type:t,id:t,title:t};return{id:t,data:{name:t,type:"qv-app"}}}).sort(function(t,e){return t.id.localeCompare(e.id)})}function k(t){var n=new e;D().then(function(e){E(e.data.data,t);n.resolve(m.apItems)}).catch(function(t){s.raiseError(null,t.errMessage?t.errMessage:t);n.resolve([])});return n.promise}function T(t){var e=t||b.view;var n=JSON.parse(JSON.stringify(w[e]));Object.keys(n.qwrequires.root).forEach(function(t){n.qwrequires.root[t].dataAssets=w[e].qwrequires.root[t].dataAssets;n.qwrequires.root[t].eventAssets=w[e].qwrequires.root[t].eventAssets});return n}function A(t){f=t;f.qwrequires=T().qwrequires}function I(t,e,n){if(!e&&b.currentView===t&&!n||b.currentView===b.view&&!t&&!n)return;f.spinner=true;if(!e&&v)return;d(function(){b.view=t||b.view();b.currentView=b.view.toString();var n=T().qwrequires.root;Object.keys(f.qwrequires.root).forEach(function(t){!e&&f.qwrequires.root[t].persistent||delete f.qwrequires.root[t]});f.$apply();Object.keys(n).forEach(function(t){f.qwrequires.root[t]=n[t]});f.$apply();f.$$postDigest(function(){f.spinner=false})})}function O(t,e,n){var i=false;var r=false;var o=0;if("undefined"===typeof e){b.selected[b.currentView]&&"undefined"!==typeof b.selected[b.currentView][t]&&(i=JSON.parse(JSON.stringify(b.selected[b.currentView][t])));var s=setInterval(function(){if(b.selected[b.currentView]&&"undefined"!==typeof b.selected[b.currentView][t]&&"undefined"!==typeof i&&i!==b.selected[b.currentView][t]){r=b.selected[b.currentView][t];clearInterval(s);P(t,r,n)}o+=1;if(o>1e3){clearInterval(s);o=0}},1)}else{b.selected[b.currentView]=b.selected[b.currentView]||{};b.selected[b.currentView][t]=e;P(t,e,n)}}function L(t){t=t||this;if(!t.dataAssets||!t.dataAssets.repeatState)return;var e=true;var n=b[t.dataAssets.repeatState];if("view"===t.dataAssets.repeatState||"default"===n){if(!t.dataAssets.stateObject.selected[t.dataAssets.stateObject.currentView])return false;t.dataAssets.data.appData[t.dataAssets.stateObject.currentView].forEach(function(n){t.dataAssets.stateObject.selected[t.dataAssets.stateObject.currentView][n.id]||(e=false)});return e}if(!t.$parent.repeater)return false;var i=Object.keys(t.dataAssets.data[n])[t.$parent.repeater.key];var r=t.dataAssets.data[n][i];var o=r&&r.dataTable?t.dataAssets.data.appData[r.dataTable[0]]:"";if(r&&o){e=true;r.index.forEach(function(t){if(!b.selected[b.currentView]||b.selected[b.currentView]&&!b.selected[b.currentView][o[t].id]){e=false;return e}})}return e}function P(t,e,n){var i=y.project[b.currentView].indexOf(t);e?-1===i&&y.project[b.currentView].push(t):-1!==i&&y.project[b.currentView].splice(i,1);n&&a.saveSelection(b.currentApp,b.currentView,y.project[b.currentView])}function M(t){t=t||this;var e=!L(t);var n=t.repeater&&t.repeater.repeats||t.dataAssets.data.appData[t.dataAssets.stateObject.currentView];var i=false;n.forEach(function(r,o){if("leadingRow"!==r.id&&"leadingRow2"!==!r.id){i=o+1===n.length;t.changed(r.id,e,i)}})}function N(t){return a.createSenseApp(t)}function j(t){var e=m.currentApItemObject.id;var n=b.currentView;var r=y["indexTable"+i.conversions.capitalizeString(b.currentView,false)][t];var s="object"===o(r)?r.key:r;a.updateEntity(e,n,t,{title:y.appData[n][s].title})}q.onRightClick=function(e,i){var o=t.getService("qvContextMenu").menu();o.addItem({translation:"Devhub.Delete",tid:"remove-master",select:function t(){p.show({controller:r.component.controller,template:r.component.template,closeOnEscape:false,input:{title:"Devhub.Delete",tid:"",message:n.get("Devhub.DeleteExtensionDialogMessage",e.id),buttons:[{title:"Devhub.Cancel",tid:"24f78"},{title:"Devhub.OK",tid:"24f77"}],actions:{"Devhub.OK":function t(){a.deleteQvwApp(e.id).then(function(){u.showToast({message:n.get("Devhub.ConverterAppDeletedToastMsg")});k(true);e.id===m.currentApItemObject.id&&window.location.reload(true)})}}}})}});t.getService("qvContextMenu").show(o,{position:{x:i.pageX,y:i.pageY}})};function F(){var t=new e;c.getApplist(true).then(function(t){m.senseApps=t.filter(function(t){return!t.published})}).catch(function(t){s.raiseError(null,t.errMessage)}).finally(function(){t.resolve(m.senseApps)});return t.promise}return{init:S,assets:function t(){return m},setScope:A,changeView:I,actions:q,getAssetsInfo:k,data:y,states:b,setComponent:function t(e,n){g[e]=n},getViewDefinitions:T,createSenseApp:N,getUnpublishedApps:F,getApiPath:a.getApiPath,__onlytest__:{getImportedApps:D,mapImportedAppsToAssets:E,openApp:_,timeout:h,getSelectionState:C,utils:i,changeProject:O,updateProjectSelection:P,getAllSelectedStatus:L}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(66)],r=function(t,e){t.service("qwConverterComService",["$http",function(n){var i=t.getService("qwErrorService");var r=window.location.pathname.substr(0,window.location.pathname.toLowerCase().lastIndexOf("/dev-hub")+1);""===r&&(r="/");var o=window.location.protocol+"//"+window.location.hostname+":"+window.location.port+r+"api/converter/v1/";function s(t,i,r){var o=e();n[t](i,r).then(function(t){if("OK"===t.statusText||200===t.status)o.resolve({msg:"Devhub.ConverterAppCreatedSuccess",data:t.data});else{o.reject(t.statusText);a(t.statusText)}},function(t){o.reject(t.statusText);a(t.statusText)});return o.promise}function a(t){i.raiseError("Devhub.ConverterError",t||"Devhub.ConverterGenericError")}function l(t){return s("get",o+"projects/"+t)}function c(t){return s("get",o+"projects/"+t+"/configuration")}function u(){return s("get",o+"projects/")}function d(){return o}function p(t,e,n){return s("put",o+"projects/"+t+"/configuration/"+e,n)}function f(t){return s("post",o+"projects/"+t+"/build")}function h(t){return s("delete",o+"projects/"+t)}function v(t,e,n,i){return s("patch",o+"projects/"+t+"/"+e+"/"+n,i)}return{getAllProjects:u,getAsset:l,getProject:c,errorHandler:a,getApiPath:d,saveSelection:p,createSenseApp:f,updateEntity:v,deleteQvwApp:h}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(523),n(524),n(65),n(60)],r=function(t,e,n,i,r){var o={template:n,scope:{input:"="},controller:["$scope","$element",function(t,e){if(r.treatAsDesktop()){e.on("mouseenter",function(){t.input.pause()});e.on("mouseleave",function(){t.input.resume(2e3)})}t.toastAction=function(){t.input.action();t.input.close()}}]};var s={};s.showToast=function(t){return e.notify(t,a)};function a(t){var e=i.show(o,{input:t});s.close=e.destroy;return{close:e.destroy}}t.service("toastService",function(){return s});return{service:s,component:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(57),n(53),n(96)],r=function(t,e,n){var i={Expression:0,NumberOrExpression:1};var r=e.extend("ExpressionValidator",{init:function e(r,o){this.currentExpr=null;this.nextExpr=null;this.hasOutstandingCall=false;this.app=r||n.current&&n.current.enigmaModel;this.mode=o||i.Expression;t.create(this,"Update")},onResponse:function t(e){var n,i,r,o,s;this.hasOutstandingCall=false;if(this.nextExpr){n=this.nextExpr;i=this.nextLabels;this.nextExpr=null;this.nextLabels=null;this.callEngine(n,i)}else{n=this.currentExpr;r=!e.qErrorMsg&&0===e.qBadFieldNames.length;for(o=0;o<e.qBadFieldNames.length;o++){s=e.qBadFieldNames[o];s.name=n.substr(s.qFrom||0,s.qCount)}this.Update.emit({valid:r,data:{error:e.qErrorMsg,bad:e.qBadFieldNames}})}},callEngine:function t(e,n){var r=this;if(this.hasOutstandingCall)throw new Error("Invalid state");this.currentExpr=e;this.hasOutstandingCall=true;var o;o=this.mode===i.NumberOrExpression?this.app.checkNumberOrExpression(e):this.app.checkExpression(e,n||[]);o.then(function(t){r.onResponse(t)},function(){r.onResponse({qErrorMsg:"Error",qBadFieldNames:[]})})},validate:function t(e,n){if(this.hasOutstandingCall){this.nextExpr=e;this.nextLabels=n}else this.callEngine(e,n)}});return{ExpressionValidator:r,Modes:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(64),n(45),n(140),n(41),n(554),n(555),n(556),n(557),n(558),n(71),n(559),n(69),n(560),n(46),n(561),n(55),n(563),n(63),n(566),n(60),n(568),n(569),n(593),n(595)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w){var q=null,_=null,C=[];function S(){if(_){_.close();_=null}}function D(t){if(C[t]){C[t].close();C[t]=null}}function E(t,e){e.preventDefault();var n=t.controller.previewText();t.codearea.contextApi.replaceSelection(n)}function k(t,e){e.preventDefault();t.codearea.contextApi.replaceSelection(t.controller.selectedFunction.value+"()");var n=t.codearea.contextApi.getCursor();n.ch+=-1;t.codearea.contextApi.setCursor(n)}function T(t,e){e.preventDefault();t.codearea.contextApi.replaceSelection(t.controller.selectedVariable.qName)}function A(t,e){e.preventDefault();"0"===t.controller.setExpressionOption?w.getCurrentSelections(t.controller.app,t.controller.selectedAlternateState).then(function(e){void 0!==e&&void 0!==e.qSetExpression&&""!==e.qSetExpression?t.codearea.contextApi.replaceSelection("{"+e.qSetExpression+"}"):void 0!==e&&void 0!==e.qSetExpression||M()}):t.controller.selectedBookmark&&w.getSelectionsFromBookmarkId(t.controller.app,t.controller.selectedBookmark.value,t.controller.selectedAlternateState).then(function(e){void 0!==e&&void 0!==e.qSetExpression&&""!==e.qSetExpression?t.codearea.contextApi.replaceSelection("{"+e.qSetExpression+"}"):void 0!==e&&void 0!==e.qSetExpression||M()})}function I(t,e){t.functionTipOptions={service:e,view:v}}function O(e,n,i,o){if(!i)return;if(_){a();return}i=i.replace(/\n/g," ");/^(input|textarea)$/i.test(document.activeElement.tagName)&&t.support.touch&&document.activeElement.blur();function s(){a();n.codearea.contextApi.focus()}function a(){t(document).off("keydown",s);t(document).off("mouseup",s);S()}_=r.getService("luiPopover").show({template:"<lui-popover><lui-popover-body><p>{{input.text}}</p></lui-popover-body></lui-popover>",input:{text:i},controller:["$element",function(t){t.css("z-index","1022")}],alignTo:o.target,closeOnEscape:true,closeOnOutside:true,dock:"top",autoFocus:false});_.closed.then(function(){a()});t(document).one("keydown",{self:this},s);t(document).one("mouseup",{self:this},s)}function L(t,e){var n={expression:t,validity:e.validity};return f.validateExpr(n,p)}function P(t){var e={};t.forEach(function(t){t.fglist.forEach(function(n){e[n]||(e[n]=[]);e[n].push(t.func)})});return e}function M(){var t=r.getService("qvAlertDialog");return t.show({title:h.get("ErrorDialog.Title"),message:h.get("ExpressionEditor.TooManySelections"),closeOnEscape:false})}function N(){var t={statusText:"",errorMsg:"",extraErrorMsg:"",status:"",expr:"",expandedExpr:"",codeArea:null};return t}var j=false;var F=b.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3");var R=F&&b.getFlag("ALT_STATE_ONE");var V={template:o,sections:{fields:{key:"fields",translation:"ExpressionEditor.Fields",template:s,state:{sectionExpanded:true,table:{label:"",value:""},field:{label:"",value:""},aggregfunc:{label:"",value:""},setExpressionCheckBox:false,distinctCheckBox:"",totalCheckBox:""},expanded:true},functions:{key:"functions",translation:"ExpressionEditor.Functions",template:a,state:{sectionExpanded:false,functionCategory:{label:"",value:"ALL"},funct:{label:"",value:""}},expanded:false},setExpressions:{key:"setExpressions",translation:"ExpressionEditor.SetExpressions",template:c,state:{sectionExpanded:false,setExpressionOption:"0",selectedBookmark:"",selectedAlternateState:""},expanded:false},variables:{key:"variables",translation:"ExpressionEditor.Variables",template:l,state:{sectionExpanded:false,variable:"",sysVarsCheckBox:false,showVariablesFirstTime:true},expanded:false}},controller:["$scope","$element","$timeout",function(e,n,i){e.stringLimits=p;e.controller=e.input.controller;e.codearea={content:e.input.expr};e.validity={expression:true};e.initializeToolbar=function(){e.undoDisabled=false;e.redoDisabled=false};e.exposeSetExpression=b.getFlag("SET_EXPRESSION_CHECKBOX");e.isAdvancedPart3=b.getFlag("ADVANCED_EXPRESSION_EDITOR_PART3");e.sections=V.sections;e.items=[V.sections.fields,V.sections.functions,V.sections.setExpressions,V.sections.variables];e.$watch("controller.helpmodeActive",function(){if(e.controller.helpmodeActive){e.helpmodeTooltip="Tooltip.HelpMode.Exit";if(e.isAdvancedPart3){e.undoDisabled=true;e.redoDisabled=true}}else{e.helpmodeTooltip="Tooltip.HelpMode.Enter";if(e.isAdvancedPart3){e.undoDisabled=false;e.redoDisabled=false}}});e.$watch("controller.selectedFunctionCategory",function(t){e.sections.functions.state.functionCategory=t;e.controller.setFunctionCategoryFilter(t)});e.$watch("controller.selectedFunction",function(t){e.sections.functions.state.funct=t;t&&(e.controller.selectedFunctionTip=e.input.expressionBnfModel.getFunctionTip(t.value))});e.$watch("controller.selectedTable",function(t){e.sections.fields.state.table=t;e.controller.setTableFilter(t)});e.$watch("controller.selectedField",function(t){e.sections.fields.state.field=t});e.$watch("controller.selectedFunction",function(t){e.sections.fields.state.funct=t});e.$watch("controller.selectedCommonFunction",function(t){e.sections.fields.state.aggregfunc=t});e.$watch("controller.currentOption",function(t){if(e.exposeSetExpression){e.sections.fields.state.setExpressionCheckBox=t;t&&w.getCurrentSelections(e.app,e.controller.stateName).then(function(n){if(void 0!==n&&void 0!==n.qSetExpression&&""!==n.qSetExpression)e.controller.setCurrentSelections(n.qSetExpression);else if(void 0===n||void 0===n.qSetExpression){e.controller.currentOption=!t;e.sections.fields.state.setExpressionCheckBox=!t;M()}else{e.controller.currentOption=!t;e.items[0].state.setExpressionCheckBox=!t}}).catch(function(){e.controller.currentOption=!t;e.sections.fields.state.setExpressionCheckBox=!t})}});e.$watch("controller.distinctOption",function(t){e.sections.fields.state.distinctCheckBox=t});e.$watch("controller.totalOption",function(t){e.sections.fields.state.totalCheckBox=t});e.$watch("controller.showSystemVars",function(t){e.sections.variables.state.sysVarsCheckBox=t;e.controller.setSysVarsFilter()});e.$watch("controller.selectedVariable",function(t){e.sections.variables.state.variable=t;t?t.qDefinition&&0===t.qDefinition.indexOf("=")?e.app.evaluate(t.qDefinition).then(function(n){e.controller.showVariableInfo(t.qDefinition,n)}):e.controller.showVariableInfo(t.qDefinition,t.qDefinition):e.controller.showVariableInfo("","")});e.enableTouchOverlay=g.utils.touch;e.insertTextHandler=E.bind(null,e);e.insertFunctionHandler=k.bind(null,e);e.insertVariableHandler=T.bind(null,e);e.insertSetExpressionHandler=A.bind(null,e);e.info=N();e.showErrorMessage=O.bind(null,n,e);e.qlikviewReloadScriptMode={name:"qlikviewscript",service:e.input.expressionBnfModel};e.helpModeOptions={syntax:"chartsyntax",service:e.input.expressionBnfModel};e.autocompleteOptions={completeSingle:false,service:e.input.expressionBnfModel};I(e,e.input.expressionBnfModel);e.cancel=function(){e.close();e.$destroy()};function o(t){return t.replace(/(\r\n|\r|\n)/,"\r\n")}e.confirm=function(){var t=o(e.codearea.content);var n=L(t,e);(n||e.input.allowEmpty&&""===t)&&e.close(t)};u.StateChanged.bind(e.cancel);function s(t){e.info.codeArea=e.codearea;t=o(t);e.validity.expression||L(t,e)}x.treatAsDesktop()&&i(function(){i(function(){e.codearea.contextApi.focus();e.codearea.contextApi.setCursor(e.codearea.contextApi.lineCount(),0)})});e.$watch("codearea.content",s);e.openPopover=function(t){var n=t.currentTarget.dataset.context;q&&C&&q!==n&&D(q);q=n;if(!C[n]){C[n]=r.getService("luiPopover").show({template:y.template,controller:y.controller,alignTo:t.currentTarget,input:{context:n,ctrl:e.controller,closePopover:D,items:e.controller.getData(q),setSelectedItem:e.controller.setSelectedItem},position:"bottom",closeOnEscape:true});C[n].closed.then(function(){D(n)})}};i(function(){t(".qv-expandable-list-component").on("scroll",function(){D()})});e.closePopoverIfOpen=function(e){var n=t(e.currentTarget).parents(".popover-wrapper").length>0,i=t(e.target).hasClass("expression-editor-dropdown"),r=t(e.target).hasClass("label");n||i||r||D(q)};e.$on("$destroy",function(){S();D(q);t(".qv-expandable-list-component").off("scroll");j=false;u.StateChanged.unbind(e.cancel)});e.onHelpmode=function(){e.controller.helpmodeActive=!e.controller.helpmodeActive;t(document.body).toggleClass("help-mode",e.controller.helpmodeActive)};function a(){e.controller.helpmodeActive=false}e.onUndo=function(){a();e.codearea.contextApi.undo()};e.onRedo=function(){a();e.codearea.contextApi.redo()};e.initializeToolbar();e.changeCurrentSetExpressionOption=function(t){if(!F)return;e.sections.setExpressions.state.setExpressionOption=t;e.controller.selectedBookmark="";e.controller.selectedAlternateState="";"0"===t?R&&e.controller.currentSelectionsAlternateStates.length>0&&(e.controller.selectedAlternateState=e.controller.currentSelectionsAlternateStates[0].value):e.controller.bookmarks.length>0&&(e.controller.selectedBookmark=e.controller.bookmarks[0])};e.$watch("controller.selectedBookmark",function(t){if(!F)return;e.sections.setExpressions.state.selectedBookmark=t;R&&t&&t.alternateStates.length>0&&(e.controller.isStateInArray(t.alternateStates,e.controller.selectedAlternateState)||(e.controller.selectedAlternateState=t.alternateStates[0].value))});e.$watch("controller.selectedAlternateState",function(t){R&&(e.sections.setExpressions.state.selectedAlternateState=t)})}]};function $(t){var o=t.app?n.resolve(t.app.enigmaModel):e.getApp();return o.then(function(e){return n.all({bnf:m.get(e),fields:e.getFieldList(),variables:e.getVariableList(),layout:e.getLayout(),bookmarks:e.getBookmarkList()}).then(function(o){if(j)return n.reject();var s=o.bnf;var a=i.expand(o.fields);var l=P(s.getFunctionsAndCategories());var c=String(t.expr||"");var u={title:t.title,allowEmpty:t.allowEmpty,labels:t.labels,expr:c,mode:t.mode,controller:d.create({fields:a,sections:V.sections,functions:l,variables:o.variables,bookmarks:o.bookmarks,translator:h,exposeSetExpression:b.getFlag("SET_EXPRESSION_CHECKBOX"),isAdvancedPart3:F,isAlternateState:R,showAlternateStates:R&&e.layout.qStateNames.length>0,stateName:t.stateName,published:true===o.layout.published,app:e}),app:e,expressionBnfModel:s};j=true;var p=r.getService("luiDialog").show({template:V.template,controller:V.controller,input:u,closeOnOutside:false,showArrow:false});return p.closed.then(function(t){return void 0===t?n.reject():t})})})}function H(){return j}return{_insertTextHandler:E,show:$,isOpen:H}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(118)],r=function(t,e){t.service("qwPanelEditorService",["$rootScope",function(n){var i=t.getService("qwDragScrollService");var r;var o;var s;var a;function l(e){o=e;r=t.getService(e)}function c(e){a=e;s=t.getService(a)}var u={dragState:{state:false,data:{}}};function d(t,e,i){if(i){u[t].state=!u[t].state;u[t].data=e;n.$apply()}return u[t].state+(Object.keys(u[t].data).length>0?","+JSON.stringify(u[t].data):"")}var p=false;function f(t){if(p)return;var n=t.find(".pe-section-list");n.each(function(t,n){i.addDragScroll({element:n,classes:[[".qw-pe-dropspot",".qw-pe-dropzone",".pp-data-container"]],service:a,call:"doDrop",hideScrollBars:[],notify:{notify:"dragState",type:{selector:"li",class:"pe-item",replace:"type"}},type:"add."+e(n).attr("type"),toolService:o,dropService:s})});n.length>0&&(p=true)}function h(t){var n=["string","boolean"];t.items.settings&&"items"===t.items.settings.type&&"expandable-items"===t.items.settings.component&&e.each(t.items.settings.items,function(i){if("general"!==i&&"metadata"!==i){var r=t.items.settings.items[i].items;e.each(r,function(t,e){n.indexOf(e.type)>-1&&"text"!==e.component&&(r[t]={component:"editable",service:o,item:e})})}})}function v(t,e,n){r.actions.onEditComponent(t,e,n)}return{setToolService:l,setPanelDropService:c,notify:d,initDragAndDrop:f,dragAndDropInitialized:function t(){return p},addEditModeToDefinition:h,editSection:v}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(49),n(48),n(631),n(632),n(54),n(234),n(633),n(634),n(635),n(227),n(236),n(237),n(636),n(162),n(637),n(638),n(639),n(238),n(640),n(643),n(644),n(645),n(646),n(647),n(650)],r=function(t,e,n,i){var r=t.getService("qwCommonService");t.directive("qwEditor",["$timeout",function(t){return{replace:true,restrict:"E",scope:{editors:"=",editorConfigProvider:"="},template:i,link:function n(i,s,a){var l;s.on("keydown",function(t){t.isDefaultPrevented()&&t.stopPropagation()});var c=a.editorId;var u=i.editorConfigProvider(c);u.editorId=c;var d=o(u);i.editors&&(i.editors[c]=u);i.editorConfiguration=u;i.undoDisabled=true;i.redoDisabled=true;i.fontSize=13;i.fontMax=25;i.fontMin=13;function p(){var t=i.editorConfiguration.codeMirror.historySize();i.undoDisabled=0===t["undo"];i.redoDisabled=0===t["redo"]}function f(){t(function(){u.codeMirror&&u.codeMirror.refresh()})}function h(){l=u.codeMirror.getDoc().changeGeneration()}function v(){t(function(){u.data&&u.codeMirror&&u.data.content!==u.codeMirror.getValue()&&u.codeMirror.setValue(u.data.content);u.codeMirror.getDoc().clearHistory();p();h()})}e.keyMap.default["Shift-Tab"]="indentLess";u.codeMirror=new e(s.find("div.qw-editor-container")[0],d);h();f();u.codeMirror.on("change",function(e){u.onChange&&u.onChange(i,c,a);t(function(){i.$apply(function(){u.data.isDirty=!e.isClean(l);u.data.newContent=e.getDoc().getValue()})});p()});i.$on("$destroy",function(){u.codeMirror=void 0;t(function(){u.codeMirror=void 0;u.data&&u.data&&delete u.codeMirror},1e3)});i.$on("refresh",function(){f()});i.toggleMaximize=function(t){u.toolbarConfig.onEditorToggleMaximize&&u.toolbarConfig.onEditorToggleMaximize(u,t);f()};i.changeFontSize=function(t){"increase"===t&&i.fontSize<i.fontMax?i.fontSize+=3:"decrease"===t&&i.fontSize>i.fontMin&&(i.fontSize-=3);u.codeMirror.getWrapperElement().style["font-size"]=i.fontSize+"px";f()};u.insertMarkup=function(t){var e=u.codeMirror.getDoc();var n=e.getSelection();var i=e.getCursor();if(n.length>0)e.replaceSelection(t);else{var r={line:i.line,ch:i.ch};e.replaceRange(t,r)}};r.registerWatcher("reloadContent",v);r.registerWatcher("gridResize",f);r.registerWatcher("projectFilesSaved",h)},controller:["$scope",function(t){return t}]}}]);function o(t){var e={inputStyle:"textarea",lineWrapping:false,lineNumbers:true,matchBrackets:true,autoCloseBrackets:true,matchTags:{bothTags:true},autoCloseTags:true,mode:"javascript",indentUnit:4,indentWithTabs:true,smartIndent:false,tabSize:4,placeholder:"",value:t.data&&t.data.content?t.data.content:""};t&&(e=n.extend(e,t));return e}}.apply(e,i),void 0!==r&&(t.exports=r))},,,,,,,,,,function(t,e,n){"use strict";var i,r;!(i=[n(44),n(60)],r=function(t,e){return{configureTouchSupport:function n(){t(document.body.parentElement).addClass("touch-"+(e.treatAsDesktop()?"off":"on"))}}}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(53),n(93),n(185),n(194),n(47),n(41),n(195),n(396),n(205),n(443)],r=function(t,e,n,i,r,s,a,l,c){var u;function d(t,e){var i=r.extend(true,{},n,e);i.libraryInfo=t.getLibraryInfo();return i}function p(t){return a.loadExtension(t).then(function(e){return d(t,e)})}s.componentDirective("qvaIncludeObject",{model:"=",ext:"=",options:"="});u=t.extend("ExtensionType",{init:function t(e){var n=e.type;this.type=n;this.path=e.path;this.libraryInfo=i.getLibraryInfo(n);this.components=e.components||[]},getLibraryInfo:function t(){return this.libraryInfo},getIconName:function t(){return this.libraryInfo.icon},getIconChar:function t(){return this.libraryInfo.iconChar||"g"},getModelCtor:function t(){return p(this).then(function(t){return t.Model})},getInitialProperties:function t(n){var i=this;return p(i).then(function(t){var o=r.extend(true,{qInfo:{qType:i.type},visualization:i.type},t.initialProperties,n);if(t.libraryInfo.isThirdParty){t.libraryInfo.version&&!o.version&&(o.version=t.libraryInfo.version);o.extensionMeta=r.extend(true,{},t.libraryInfo)}return e.mapProperties(t.definition,o,i.type)}).catch(function(){return{qInfo:{qType:i.type},visualization:i.type}})},load:function t(){return p(this).then(function(t){t=r.extend(true,{},t);if(t.View)for(var e in l)if(l.hasOwnProperty(e)&&!o(t.View[e]===l[e]))throw"extension.View property is missing DefaultView "+e;"undefined"===typeof t.View&&(t.View=l);"undefined"===typeof t.controller&&(t.controller=c);return t})},getExtensionType:function t(){return p(this)}});return u}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(325)],r=function(t){return{isContinuousChart:function e(n){if(!n.qHyperCube)return false;var i=this.canBeContinuousChart(n),r=t.isTimeDimension(i,n.qHyperCube.qDimensionInfo[0]),o="linechart"===n.visualization||n.qHyperCube.qMeasureInfo.some(function(t){return t.series&&"line"===t.series.type}),s=false;s=n.dimensionAxis&&n.dimensionAxis.continuousAuto?r&&o:i&&n.preferContinuousAxis;return s},canBeContinuousChart:function t(e){if(!e.qHyperCube||e.qHyperCube.qDimensionInfo.length<1)return false;var n=e.qHyperCube.qDimensionInfo[0].qTags||[];return e.qHyperCube.qDimensionInfo[0].qContinuousAxes&&n.indexOf("$numeric")>=0}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t=[{resource:"sheet",canCreate:true},{resource:"bookmark",canCreate:true},{resource:"story",canCreate:true},{resource:"searchhistory",canCreate:true},{resource:"dimension",canCreate:true},{resource:"measure",canCreate:true},{resource:"masterobject",canCreate:true},{resource:"snapshot",canCreate:true}];var e=true;function n(t,n){t.length||(t=["update","publish","export","exportdata","changeowner","delete"]);e&&(t=[]);n=n||{};n.update=-1!==t.indexOf("update");n.publish=-1!==t.indexOf("publish");n.export=-1!==t.indexOf("export");n.exportData=-1!==t.indexOf("exportdata");n.changeOwner=-1!==t.indexOf("changeowner");n.remove=-1!==t.indexOf("delete");return n}function i(t,n){n=n||{};for(var i in n)delete n[i];if(e)return n;t.forEach(function(t){t.canCreate&&(n["create"+t.resource[0].toUpperCase()+t.resource.substring(1)]=true)});return n}function r(r,o){var s={};r.permissions||Object.defineProperty(r,"permissions",{configurable:false,enumerable:false,get:function a(){if(r){if(o){e=r.qReadOnly;i(r.create||t,s)}n(r.privileges||r.qMeta&&r.qMeta.privileges||[],s)}return s}});return r}return{mapToLayout:r,parse:n,parseCreate:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{isSnapshotData:t};function t(t){return t&&!!t.sourceObjectId}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){return Math.round(100*t)/100}return{recalculateBounds:function t(e,n,i,r,o){if(e.bounds){var s;var a={x:e.bounds.x,y:e.bounds.y,width:e.bounds.width,height:e.bounds.height};if(n!==r){s=r/n;a.x=a.x/s;a.width=a.width/s}if(i!==o){s=o/i;a.y=a.y/s;a.height=a.height/s}return a}return this.getBounds(e,r,o)},compareBounds:function t(e,n){return e&&n&&e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},alignToGrid:function t(e,n){if(n.bounds){var i=this.getAligmentToGrid(n.bounds,e.columns,e.rows);n.row=i.row;n.col=i.col;n.rowspan=i.rowspan||1;n.colspan=i.colspan||1}return n},getAligmentToGrid:function e(n,i,r){var o={};o.row=Math.ceil(t(n.y/100*r));o.col=Math.ceil(t(n.x/100*i));o.rowspan=Math.floor(t(n.y/100*r+n.height/100*r))-o.row;o.colspan=Math.floor(t(n.x/100*i+n.width/100*i))-o.col;return o},getInfluenceOnGrid:function e(n,i,r){var o=n;var s={};s.row=Math.floor(t(o.y/100*r));s.col=Math.floor(t(o.x/100*i));s.rowspan=Math.ceil(t(o.y/100*r+o.height/100*r))-s.row;s.colspan=Math.ceil(t(o.x/100*i+o.width/100*i))-s.col;return s},getBounds:function t(e,n,i){return{y:e.row/i*100,x:e.col/n*100,width:e.colspan/n*100,height:e.rowspan/i*100}},splitBounds:function t(e,n,i,r){var o;var s;if("left"===n||"right"===n){o=i%2;s=e.width/i*(i-o)/2;return{near:{width:s,x:e.x,y:e.y,height:e.height},far:{width:e.width/i*(i+o)/2,x:e.x+s,y:e.y,height:e.height}}}o=r%2;s=e.height/r*(r-o)/2;return{near:{width:e.width,x:e.x,y:e.y,height:s},far:{width:e.width,x:e.x,y:e.y+s,height:e.height/r*(r+o)/2}}},calculateCollapseHeight:function t(e,n){var i=0;for(var r=0;r<n.length;r++)n[r].row+n[r].rowspan>i&&(i=n[r].row+n[r].rowspan);var o=Math.floor(e.height-e.height*(i/e.rows));return o},calculateExtendedRowsAndHeight:function t(e,n){var i={height:e.height,rows:e.rows};e.height||(e.height=100);i.height=e.height+n;i.height<100&&(i.height=100);var r=i.rows/e.height*100;i.rows=Math.floor(r*i.height/100);return i}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){var e;function n(t,e,n,i,r){void 0===n&&(n=r.qDecimalSep);void 0===i&&(i=r.qThousandSep);var o="",s,a,l,c;if("F"===t)if(0===e)o="#"+i+"##0";else{o="#"+i+"##0"+n;for(l=0;l<e;++l)o+="0"}else{for(l=0;l<e;++l)o+="#";if(e>3){c=o.length;s=o.substring(0,c-3);a=o.substr(c-3);o=s+i+a}}return o}return{setNumFmtPattern:function t(n,i,r){var o={type:i.qType||"U",nDec:"qType"===n?("F"===i.qType,2):"R"===i.qType?i.qnDec||10:"number"===typeof i.qnDec?Math.max(0,i.qnDec):2,thousandSep:i.qThou,decimalSep:i.qDec},s;s=this._getSeparators(n,"M"===i.qType,o.decimalSep,o.thousandSep,r);s.decimal!==e&&(o.decimalSep=s.decimal);s.thousand!==e&&(o.thousandSep=s.thousand);i.qType=o.type;i.qnDec=o.nDec;i.qDec=o.decimalSep;i.qThou=o.thousandSep;i.qFmt=this._getPattern(o.type,o.nDec,o.decimalSep,o.thousandSep,r);if(["D","T","TS","IV"].indexOf(o.type)>=0){i.qDec="";i.qThou=""}},_getSeparators:function t(e,n,i,r,o){var s=i,a=r,l="q"+(n?"Money":"");if("qType"===e){a=o[l+"ThousandSep"]||"";s=o[l+"DecimalSep"]||"."}else if("qThou"===e&&void 0===r){a=o[l+"ThousandSep"]||"";s=i||"."}else if("qDec"===e&&(void 0===i||""===i)){s=o[l+"DecimalSep"]||".";a=r||""}return{decimal:s||".",thousand:a||""}},_getPattern:function e(n,i,r,o,s){var a;switch(n){case"U":return"";case"I":return"#"+o+"##0";case"R":case"F":return this.getNDecPattern("F",i,r,o,s);case"M":a=s.qMoneyFmt;s.qMoneyDecimalSep&&(a=a.replace(new RegExp(t.escapeRegExp(s.qMoneyDecimalSep),"g"),r));s.qMoneyThousandSep&&(a=a.replace(new RegExp(t.escapeRegExp(s.qMoneyThousandSep),"g"),o));return a;case"D":return s.qDateFmt;case"T":return s.qTimeFmt;case"TS":return s.qTimestampFmt;case"IV":return"h:mm:ss";default:return""}},getDefaultNumericFormat:function t(e,i){return n("F",2,e.qDec,e.qThou||"",i)},getNDecPattern:n,getNormalizedFormat:function t(e,n){var i=e.qDec+e.qThou;if(/\u00a0/.test(i)&&!/\u0020/.test(i))return n.replace(/\u0020/g," ");return n}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(181),n(47)],r=function(t,e){function n(t,n){"object"===o(n)&&(n=e.extend(true,Array.isArray(n)?[]:{},n));if(t&&"qResult"!==t){var i={};i[t]=n;return i}return n}function i(t,e){var n=Object.keys(t);var i=e.In.map(function(t){return t.Name});return 0!==n.filter(function(t,e){return t===i[e]}).length}function r(t,e){var n=[];Array.isArray(e)&&1===e.length&&"object"===o(e[0])&&i(e[0],t)&&(e=e[0]);if(Array.isArray(e)||"object"!==o(e))Array.isArray(e)?n=e:n.push(e);else for(var r=0;r<t.In.length;++r)e&&void 0!==e[t.In[r].Name]?n.push(e[t.In[r].Name]):t.In[r].Optional&&void 0!==t.In[r].DefaultValue&&n.push(t.In[r].DefaultValue);return n}function s(t,e,i,o){var s=t[e];var a=1===s.Out.length?s.Out[0].Name:null;e=e.substring(0,1).toLowerCase()+e.substring(1);i[e]=function(){var t=Array.prototype.slice.call(arguments);t=r(s,t);var i=o[e].apply(o,t).then(n.bind(null,a));i.__protocolRequestId=i.requestId;return i}}var a={global:void 0,currentApp:void 0};a.bootstrap=function(e){if(!a.global){a.global={};a.global.enigmaGlobal=e.global;Object.keys(t.Global).forEach(function(n){s(t.Global,n,a.global,e.global)})}var n={};Object.keys(t.Doc).forEach(function(i){s(t.Doc,i,n,e)});return n};a.setCurrentApp=function(t){a.currentApp=t};a.getCurrentApp=function(){return a.currentApp};"undefined"!==typeof window&&(window.engineModuleGlobal=a);return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(133)],r=function(t){return t.structs}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(9)],r=function(t){var e={};e.getJson=function(e){return t.get(e,{responseType:"json"}).then(function(t){if(t.data)return t.data;console.warn("Theme parsing error for theme: "+e);return{}}).catch(function(t){console.warn("Couldn't get theme: "+e+". Error: "+t);return{}})};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(97)],r=function(t,e){function n(t,e,i,r,o){var s=l(e,i,r);if("."===s.charAt(0)){e.shift();return t.apply(null,[n(t,e,i,r,o)].concat(o))}return s}function i(t,e,i,r,o,s){var l=a(""===e?null:e.split("."),o);return n(t,l,i,r,s)}var r={shift:function t(n,i){var r=new e(n);var o=r.isDark()?parseInt(i):-parseInt(i);return new e(r.shiftLuminance(o)).toHex()},fontSize:function t(e,n){var t=parseInt(e);t*=parseInt(n)/100;return Math.ceil(t)+"px"},inherit:function t(e){return e},alpha:function t(n,i){var r="transparent"===n.toLowerCase()?new e("rgba(0,0,0,0)"):new e(n);r.setAlpha(i/100);return r.toRGBA()}};function o(t,e){var n=t;for(var i=0;i<e.length;i++){if(!n[e[i]])return null;n=n[e[i]]}return n}function s(t,e,n){var o=t.substring(1).split("(")[0];var s=/\(\s*([^)]+?)\s*\)/.exec(t);s=s&&s[1]?s[1].split(/\s*,\s*/):[];try{return i(r[o],e,n,this._theme,this._basePathSteps,s)}catch(t){console.warn("Cound not execute function: "+o+", function might not be implemented or arguments are incorrect.")}}function a(t,e){var n=[];var i,r;if(t){var o=t.length;while(o>=0){i=e.slice();r=i.length;while(r>=0){n.push(i.concat(t));i.pop();r--}t.pop();o--}}else{i=e.slice();r=i.length;while(r>=0){n.push(i.concat());i.pop();r--}}return n}function l(t,e,n){for(var i=0;i<t.length;i++){var r=o(n,t[i]);if(null!==r&&r[e])return r[e]}}function c(t,e,n){var i;if(""===t)i=a(null,n);else{var r=t.split(".");i=a(r,n)}return l(i,e,this._theme)}var u=t.extend("ThemeStyleResolver",{init:function t(e,n,i){this._basePath=e;this._basePathSteps=e.split(".");this._theme=i;this._id=n;this.layoutMap={1:"spark",3:"xsmall",7:"small",15:"medium",31:"full",m:"mobile"}},setTheme:function t(e,n){this._theme=n;this._id=e},setBasePath:function t(e){this._basePath=e;this._basePathSteps=e.split(".")},getStyle:function t(e,n,i){var r=void 0===i||i;var o=f(d(this._id,this._basePath,e,n));if(r&&void 0!==o)return o;var a=this._basePathSteps.concat();var l=c.call(this,e,n,a);l&&l.charAt&&"."===l.charAt(0)&&(l=s.call(this,l,e,n));r&&l&&p(d(this._id,this._basePath,e,n),l);return l},scaleFontSize:function t(e,n,i){if("string"===typeof n)switch(n){case"large":n=31;break;case"medium":n=15;break;case"small":n=7;break;case"tiny":n=1;break;default:n=15}var r={spark:1,xsmall:.9,small:.95,full:".discrete"===i?1:1.2};return r[this.layoutMap[n]]?Math.floor(parseInt(e)*r[this.layoutMap[n]])+"px":parseInt(e)+"px"}});function d(){var t="";for(var e=0;e<arguments.length;e++)arguments[e]&&arguments[e].length&&(t+=(""!==t?".":"")+arguments[e]);return t}u._cache={};function p(t,e){u._cache[t]=e}function f(t){return u._cache[t]}u.clearCache=function(){u._cache={}};return u}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(128),n(72),n(50),n(383),n(136)],r=function(t,e,n,i,r){var o=1e3;var s=r.baseColor;function a(t){return true!==n.getValue(t,"color.reverseScheme")}function l(t){return"byExpression"===n.getValue(t,"color.mode")&&false===n.getValue(t,"color.expressionIsColor")}function c(t){return"byExpression"===n.getValue(t,"color.mode")&&true===n.getValue(t,"color.expressionIsColor")}function u(t){var e=i.getDimensionLayouts(t)[0];return e&&e.qCardinal>o}function d(t){return"byDimension"===t.color.mode&&!(n.getValue(t,"color.byDimDef.activeDimensionIndex")>-1)||"byMeasure"===t.color.mode&&!(n.getValue(t,"color.byMeasureDef.activeMeasureIndex")>-1)}function p(){var t=[];var n=e.dataPalettes;n.forEach(function(e){if("true"!==e.disabled){var n={type:"classes",component:"color-scale",translation:e.translation||e.name,value:e.propertyValue};"pyramid"===e.type?n.colors=e.scale[e.scale.length-1]:n.colors=e.scale;t.push(n)}});return t}function f(){var t=[];var n=e.scales;n.forEach(function(e){if(!e.disabled){var n={component:"color-scale",reverse:this.helpers.schemeIsReverse,translation:e.translation||e.name,value:e.propertyValue};if("class-pyramid"===e.type){n.colors=e.scale[e.scale.length-1];n.type="classes"}else{n.colors=e.scale;n.type="gradient"}t.push(n)}},this);return t}function h(t){if(!t)return false;if(t.coloring&&t.coloring.baseColor&&t.coloring.baseColor.color)return t.coloring.baseColor;if(t.baseColor&&t.baseColor.color)return t.baseColor;return false}function v(t){return n.getValue(t,"layout.qHyperCube.qMeasureInfo",[]).filter(function(t){return!!h(t)}).length>0}function g(t){var e=n.getValue(t,"layout.layers",false);return e?e.filter(function(t){return n.getValue(t,"qHyperCube.qDimensionInfo",[]).filter(function(t){return!!h(t)}).length>0}).length>0:n.getValue(t,"layout.qHyperCube.qDimensionInfo",[]).filter(function(t){return!!h(t)}).length>0}function m(t,e){var i=n.getValue(t,e,void 0);if(!i||"undefined"===typeof i.label)return;"="===i.label.charAt(0)?t.color.altLabel={qStringExpression:{qExpr:i.label.substr(1)}}:t.color.altLabel=i.label}function b(t){return!n.getValue(t,"color.auto")&&"byDimension"===n.getValue(t,"color.mode")}function y(t){return!n.getValue(t,"color.auto")&&"byMeasure"===n.getValue(t,"color.mode")}function x(t,e){var n=y(t),i=b(t);if(!n&&!i)return;var r=n?t.color.byMeasureDef:t.color.byDimDef;r.label=e}var w={showLegend:function t(e){var r=n.getValue(e,"color.auto"),o=n.getValue(e,"color.mode"),s=n.getValue(e,"color.expressionIsColor"),a=i.getNumDimensions(e),l=i.getNumMeasures(e);return r&&(a>1||l>1)||!r&&"primary"!==o&&("byExpression"!==o||!s)},colorModeOptions:{primary:function t(){return true},dimension:function t(e){return i.getNumDimensions(e)>0&&i.getNumMeasures(e)<=1},multiColor:function t(e){return i.getNumMeasures(e)>1},measure:function t(e){return i.getNumDimensions(e)>0},expression:function t(e){return i.getNumMeasures(e)>=1}},persistentColorsShow:function t(e){return!n.getValue(e,"color.auto")&&"byDimension"===n.getValue(e,"color.mode")&&i.getNumMeasures(e)<=1},useDimValColShow:function t(e){void 0===n.getValue(e,"color.useDimColVal")&&n.setValue(e,"color.useDimColVal",false);return!n.getValue(e,"color.auto")&&"byDimension"===n.getValue(e,"color.mode")&&"libraryItem"===n.getValue(e,"color.byDimDef.type")},expressionLabelChange:function t(e){var i=n.getValue(e,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0"),r=n.getValue(e,"color");if(i){i.label=n.getValue(e,"color.expressionLabel");r&&(r.colorExpression=i.qExpression)}},attributeExpressionChange:function t(e){var i=n.getValue(e,"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0"),r=n.getValue(e,"color");if(i){i.id="colorByExpression";r&&(r.colorExpression=i.qExpression)}},attributeExpressionGlobalChange:function t(e){var i=n.getValue(e,"qHyperCubeDef.qMeasures",[]),r=n.getValue(e,"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",[]),o,s,a,l=null,c=function t(e,n){"colorByExpression"===e.id&&(s=n)};if(i.length+r.length>1){for(o=r.length-1;o>=0;--o){a=r[o].qAttributeExpressions||[];s=-1;a.every(c);s>=0&&(l=a.splice(s,1)[0])}for(o=i.length-1;o>=0;--o){a=i[o].qAttributeExpressions||[];s=-1;a.every(c);s>=0&&(l=a.splice(s,1)[0])}if(i.length){!i[0].qAttributeExpressions&&l&&(i[0].qAttributeExpressions=[]);l&&i[0].qAttributeExpressions.splice(0,0,l)}}var u=n.getValue(e,"color.colorExpression");1!==i.length||i[0].qAttributeExpressions&&0!==i[0].qAttributeExpressions.length||!u||(i[0].qAttributeExpressions=[{qExpression:u,id:"colorByExpression"}])},colorByGlobalChange:function t(e,n,i){r.colorByUpdater(e,i)},colorByDimensionChange:function t(e){m(e,"color.byDimDef")},colorByMeasureChange:function t(e){m(e,"color.byMeasureDef")},colorByLabelChange:function t(e){var i=n.getValue(e,"color.altLabel",""),r=i.qStringExpression?"="+i.qStringExpression.qExpr:i;if("="===r)return;x(e,r)}};var q={colorModeOptions:{primary:function t(){return true},dimension:function t(){return true},multiColor:function t(){return false},measure:function t(){return true},expression:function t(e){return i.getNumMeasures(e)>=1}},showLegend:function t(e){var i=n.getValue(e,"color.auto"),r=n.getValue(e,"color.expressionIsColor"),o=n.getValue(e,"color.mode");return!(!i&&"primary"===o||!i&&"byExpression"===o&&(r||void 0===r))},persistentColorsShow:function t(e){return!n.getValue(e,"color.auto")&&"byDimension"===n.getValue(e,"color.mode")},dimPrimaryMode:true};var _={colorModeOptions:{primary:function t(){return true},dimension:function t(){return true},multiColor:function t(){return false},measure:function t(){return true},expression:function t(e){return i.getNumMeasures(e)>=1}},showLegend:function t(e){return"primary"!==n.getValue(e,"color.mode")&&!n.getValue(e,"color.auto")},persistentColorsShow:function t(e){return!n.getValue(e,"color.auto")&&"byDimension"===n.getValue(e,"color.mode")}};var C={colorModeOptions:{primary:function t(){return true},dimension:function t(e){return i.getNumDimensions(e)>1},multiColor:function t(e){return i.getNumMeasures(e)>1},measure:function t(e){return i.getNumDimensions(e)<=1},expression:function t(e){return i.getNumMeasures(e)>=1}}};var S={colorModeOptions:{primary:function t(){return true},dimension:function t(e){return i.getNumDimensions(e)>=1},multiColor:function t(e){return i.getNumMeasures(e)>1},measure:function t(e){return i.getNumDimensions(e)>=1},expression:function t(e){return i.getNumDimensions(e)>=1}}};var D={colorModeOptions:{primary:function t(){return true},dimension:function t(){return true},multiColor:function t(){return false},measure:function e(){return t.COLOR_BY_MEA},expression:function t(e){return i.getNumDimensions(e)>=1}}};var E={scatterplot:_,piechart:q,linechart:C,map:S,distributionplot:D};function k(t,e){var n=E[t]||w;return n[e]||w[e]}var T=function t(r,o){var h=k(o,"colorModeOptions"),m=k(o,"persistentColorsShow"),x=k(o,"useDimValColShow"),w=k(o,"expressionLabelChange"),q=k(o,"attributeExpressionChange"),_=k(o,"attributeExpressionGlobalChange"),C=k(o,"colorByGlobalChange"),S=k(o,"colorByDimensionChange"),D=k(o,"colorByMeasureChange"),E=k(o,"colorByLabelChange");this.helpers={schemeIsReverse:a,showCompressionResolution:u,colorModeOptions:h,getMeasureSchemeOptions:f.bind(this),getDimensionSchemeOptions:p};this.color={colorMode:{options:function t(e){var t=[];"explore"===r&&t.push({value:"auto",translation:"Common.Auto"});h.primary(e)&&t.push({value:"primary",translation:"properties.colorMode.primary"});h.multiColor(e)&&t.push({value:"byMultiple",translation:"properties.colorMode.multicolored"});h.dimension(e)&&t.push({value:"byDimension",translation:"properties.colorMode.byDimension"});h.measure(e)&&t.push({value:"byMeasure",translation:"properties.colorMode.byMeasure"});h.expression(e)&&"explore"!==r&&t.push({value:"byExpression",translation:"properties.colorMode.byExpression"});return t},show:function t(e){return!n.getValue(e,"color.auto")}},paletteColor:{show:function t(i,r){if(!n.getValue(i,"color.paletteColor")){var o=e.resolveColor(n.getValue(i,"color.singleColor"));var a={index:-1,color:o};n.setValue(i,"color.paletteColor",a)}return!n.getValue(i,"color.auto")&&"primary"===n.getValue(i,"color.mode")&&!(s.isSupported(i.visualization)&&v(r)&&"measure"===n.getValue(i,"color.useBaseColors")||g(r)&&"dimension"===n.getValue(i,"color.useBaseColors"))},defaultValue:function t(){var n=e.dataColors.primaryColor;var i=e.currentPalette.indexOf(n);return{index:-1===i?Math.min(6,e.currentPalette.length-1):i}}},colorBy:{globalChange:C,dimension:{show:b,change:S},measure:{show:y,change:D},label:{show:function t(e){return!n.getValue(e,"color.auto")&&d(e)&&("byDimension"===n.getValue(e,"color.mode")&&"libraryItem"!==n.getValue(e,"color.byDimDef.type")||"byMeasure"===n.getValue(e,"color.mode")&&"libraryItem"!==n.getValue(e,"color.byMeasureDef.type"))},change:E}},baseColor:{show:function t(e,i){var r=n.getValue(e,"color.mode");return!n.getValue(e,"color.auto")&&("byMultiple"===r||"primary"===r)&&(v(i)&&s.isSupported(e.visualization)||g(i))},showColors:function t(e,i){return!n.getValue(e,"color.auto")&&"byMultiple"===n.getValue(e,"color.mode")&&"measure"===n.getValue(e,"color.useBaseColors")&&s.isSupported(e.visualization)&&i.layout.qHyperCube.qMeasureInfo.length>1&&v(i)},hasMeasureColor:function t(e){return v(e)},hasDimensionColor:function t(e){return g(e)},isSupported:function t(e){return s.isSupported(e)}},persistentColors:{show:function t(e){if(x(e))return m(e)&&!n.getValue(e,"color.useDimColVal");return m(e)},readOnly:function t(e){return n.getValue(e,"qHyperCubeDef.qDimensions.length")>1}},useDimColVal:{show:x},attributeExpression:{change:q,globalChange:_,show:function t(e){return!n.getValue(e,"color.auto")&&"byExpression"===n.getValue(e,"color.mode")&&i.getNumMeasures(e)>0}},expressionIsColor:{show:function t(e){return!n.getValue(e,"color.auto")&&"byExpression"===n.getValue(e,"color.mode")&&i.getNumMeasures(e)>0}},expressionLabel:{change:w,show:function t(e){return!n.getValue(e,"color.auto")&&l(e)&&i.getNumMeasures(e)>0}},colorSchemeMeasure:{show:function t(e){return!n.getValue(e,"color.auto")&&("byMeasure"===n.getValue(e,"color.mode")||l(e))}},reverseScheme:{show:function t(e){return!n.getValue(e,"color.auto")&&("byMeasure"===n.getValue(e,"color.mode")||l(e))}},colorSchemeDimension:{show:function t(e,i){return(!x(e)||!n.getValue(e,"color.useDimColVal"))&&!n.getValue(e,"color.auto")&&("byDimension"===n.getValue(e,"color.mode")||"byMultiple"===n.getValue(e,"color.mode"))&&!("measure"===n.getValue(e,"color.useBaseColors")&&s.isSupported(e.visualization)&&v(i)&&("byMultiple"===n.getValue(e,"color.mode")||n.getValue(e,"color.auto")&&i.layout.qHyperCube.qMeasureInfo.length>1))}},customRange:{show:function t(e){return!n.getValue(e,"color.auto")},autoMinMax:{show:function t(e){return"byMeasure"===n.getValue(e,"color.mode")||l(e)}},min:{show:function t(e){return("byMeasure"===n.getValue(e,"color.mode")||l(e))&&false===n.getValue(e,"color.autoMinMax")},invalid:function t(e){if("minMax"===n.getValue(e,"color.minMax"))return n.getValue(e,"color.measureMin")>=n.getValue(e,"color.measureMax");return false}},max:{show:function t(e){return("byMeasure"===n.getValue(e,"color.mode")||l(e))&&false===n.getValue(e,"color.autoMinMax")},invalid:function t(e){if("minMax"===n.getValue(e,"color.minMax"))return n.getValue(e,"color.measureMin")>=n.getValue(e,"color.measureMax");return false}}}};var T=k(o,"showLegend");this.legend={show:T,showTitle:{show:function t(e){return n.getValue(e,"legend.show")&&T(e)&&!c(e)}},dock:{show:function t(e){return n.getValue(e,"legend.show")&&T(e)}}}};return{getLogicFor:function t(e,n){return new T(e,n)}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(47),n(45),n(186),n(385),n(93),n(190),n(389),n(390),n(76),n(73),n(193),n(67)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p){function f(t,e){var n=i.getHyperCube(t,e);if(n)return n.qDimensionInfo||[];if(t.qChildList){var r=t.qChildList.qItems||[];return r.map(function(){return{}})}var o=!t.qListObject||!t.qListObject.qDimensionInfo||t.qListObject.qDimensionInfo.qError;return o?[]:[t.qListObject.qDimensionInfo]}function h(t,e){var n=i.getHyperCube(t,e);return n&&n.qMeasureInfo||[]}function v(t,e,n){var i,r,o,s,a,l;for(i=0;i<t.data.length;++i){for(r=0;r<t.data[i].dimensions.length;++r){o=t.data[i].dimensions[r];if(o.qLibraryId){a=u.findLibraryDimension(o.qLibraryId,e);a&&(o.title=a.qData.title)}}for(r=0;r<t.data[i].measures.length;++r){s=t.data[i].measures[r];if(s.qLibraryId){l=u.findLibraryMeasure(s.qLibraryId,n);l&&(s.title=l.qData.title)}}for(r=0;r<t.data[i].excludedDimensions.length;++r){o=t.data[i].excludedDimensions[r];if(o.qLibraryId){a=u.findLibraryDimension(o.qLibraryId,e);a&&(o.title=a.qData.title)}}for(r=0;r<t.data[i].excludedMeasures.length;++r){s=t.data[i].excludedMeasures[r];if(s.qLibraryId){l=u.findLibraryMeasure(s.qLibraryId,n);l&&(s.title=l.qData.title)}}}}return{BackendApi:r,template:l,hasDefaultTemplate:function t(){return this.template===l},mapProperties:function t(){this.mappedDefinition=o.mapDefinition(this.definition,this.type);this.globalChangeListeners=o.findGlobalListeners(this.mappedDefinition);var e=this.data&&this.data.dimensions;if(e){e.min="undefined"!==typeof e.min?e.min:1;e.max="undefined"!==typeof e.max?e.max:1e3}else if(!this.data){e=o.findDefinition(this.mappedDefinition,"qHyperCubeDef.qDimensions",true);e||(e=o.findDefinition(this.mappedDefinition,"qListObjectDef",true));e&&(e.obsolete=true)}this.dimensionDefinition=e;var n=this.data&&this.data.measures;if(n){n.min="undefined"!==typeof n.min?n.min:1;n.max="undefined"!==typeof n.max?n.max:1}else if(!this.data){n=o.findDefinition(this.mappedDefinition,"qHyperCubeDef.qMeasures",true);n&&(n.obsolete=true)}this.measureDefinition=n},getDefaultDimensionProperties:function t(){if(this.dimensionDefinition&&this.dimensionDefinition.obsolete)return o.mapProperties(this.dimensionDefinition);if(this.dimensionDefinition)return o.mapProperties(this.mappedDefinition.items.data.items.dimensions)},getDefaultMeasureProperties:function t(){if(this.measureDefinition&&this.measureDefinition.obsolete)return o.mapProperties(this.measureDefinition);if(this.measureDefinition)return o.mapProperties(this.mappedDefinition.items.data.items.measures)},getCreatePropertyHandler:function t(e){var n=this.globalChangeListeners,i,r;if(this.model&&this.model.layout&&this.model.layout.qListObject){i=o.mapProperties(this.dimensionDefinition);return new a({app:e,dimensionDefinition:this.dimensionDefinition,dimensionProperties:i})}i=this.getDefaultDimensionProperties();r=this.getDefaultMeasureProperties();return new s({app:e,dimensionDefinition:this.dimensionDefinition,measureDefinition:this.measureDefinition,dimensionProperties:i,measureProperties:r,globalChangeListeners:n})},hasError:function t(e){var n=e.layout,i=e.ext&&e.ext.options.hyperCubePath?n[e.ext.options.hyperCubePath].qHyperCube:n.qHyperCube;if(i)return!!i.qError;if(n.qListObject)return!!n.qListObject.qError;return false},showRequirements:function t(e){var n=e.ext.dimensionDefinition?e.ext.dimensionDefinition.min:0,i=e.ext.measureDefinition?e.ext.measureDefinition.min:0,r=f(e.layout,e.ext.options.hyperCubePath),o=h(e.layout,e.ext.options.hyperCubePath),s;function a(t){return t.qError&&t.qError.qErrorCode===p.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function l(t){return t&&t.qErrorCode!==p.NxLocalizedErrorCode.LOCERR_CALC_EVAL_CONDITION_FAILED}function c(t){return t.filter(function(t){return!a(t)}).length}var u=c(r),d=c(o);"function"===typeof n&&(n=n.call(null,d));"function"===typeof i&&(i=i.call(null,u));if(n>0&&u<n)return true;for(s=0;s<r.length;++s)if(l(r[s].qError))return true;if(i>0&&d<i)return true;for(s=0;s<o.length;++s)if(l(o[s].qError))return true;return false},addFieldDimension:function e(n,i){return i.model.getProperties().then(function(e){var r=i.getCreatePropertyHandler();r.setProperties(e);return r.addFieldDimension(n.value,n.trimmedValue).then(function(n){r.updateGlobalChangeListeners();t.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(e)})})},addLibraryDimension:function e(n,i){return i.model.getProperties().then(function(e){var r=i.getCreatePropertyHandler();r.setProperties(e);return r.addLibraryDimension(n.libraryId).then(function(n){r.updateGlobalChangeListeners();t.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(e)})})},addLibraryMeasure:function e(n,i){return i.model.getProperties().then(function(e){var r=i.getCreatePropertyHandler();r.setProperties(e);return r.addLibraryMeasure(n.libraryId).then(function(n){r.updateGlobalChangeListeners();t.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);i.model.setProperties(e)})})},addExpressionMeasure:function e(n,i){return i.model.getProperties().then(function(e){var r=i.getCreatePropertyHandler();r.setProperties(e);return r.addExpressionMeasure(n.value,n.trimmedValue).then(function(n){r.updateGlobalChangeListeners();t.$rootScope.$broadcast("pp-open-path","data."+n.qDef.cId);return i.model.setProperties(e)})})},getDropFieldOptions:function t(e,n,i,r,o){e.Add(i,n,o);e.ReplaceDimensions(i,n,o);e.AddFieldAsMeasure(i,n,o);e.ColorBy(i,n,o);r()},getDropDimensionOptions:function e(n,i,r,o,s){if(i.getDimensions().length<i.minDimensions())i.addLibraryDimension(n.item.id).then(function(e){r.setProperties(i.properties);t.$rootScope.$broadcast("pp-open-path","data."+e.qDef.cId)});else{n.Add(r,i,s);n.ReplaceDimensions(r,i,s);n.ColorBy(r,i,s);o()}},getDropMeasureOptions:function e(n,i,r,o,s){var a=i.getMeasures().length;if(a<i.minMeasures()||0===a&&a<i.maxMeasures())"expression"===n.item.type?i.addExpressionMeasure(n.item.name,"").then(function(e){r.setProperties(i.properties);t.$rootScope.$broadcast("pp-open-path","data."+e.qDef.cId)}):i.addLibraryMeasure(n.item.id).then(function(e){r.setProperties(i.properties);t.$rootScope.$broadcast("pp-open-path","data."+e.qDef.cId)});else{n.Add(r,i,s);n.ReplaceMeasures(r,i,s);n.ColorBy(r,i,s);o()}},getDropStateOptions:function t(e,n,i,r){e.ApplyAlternateState(i,n,e.item.id,"contextMenu.applyState");r()},getDropTemplateOptions:function t(e,n,i,r,o){var s=this,a=c.getType(e.item.template),l=["contextMenu.convertTo",e.item.name];s.type!==a.type?a.getExtensionType().then(function(t){!o.isReadonly&&!i.layout.qHasSoftPatches&&s.exportProperties&&t.importProperties&&e.menu.addItem({translation:l,tid:"convert",select:function n(){s._convert(a,t,e.item)}});r()},function(){r()}):r()},getDropOptions:function t(n,i,r){var o=n.model,s=this,a,l,c;l={field:"getDropFieldOptions",dimension:"getDropDimensionOptions",measure:"getDropMeasureOptions",template:"getDropTemplateOptions",expression:"getDropMeasureOptions",state:"getDropStateOptions"};a=i.item.type;c=l[a];if(c)return o.getProperties().then(function(t){var a=n.getCreatePropertyHandler();var l=e.extend(true,{},t);a.setProperties(l);a.setLayout(n.model&&n.model.layout);return s[c](i,a,o,r,n)});r()},_convert:function t(e,i,r){var o,s,a=this;n.all({initialProperties:e.getInitialProperties(r.init),propertyTree:a.model.getFullPropertyTree()}).then(function(t){try{o=a.exportProperties(t.propertyTree,a.options?a.options.hyperCubePath:void 0);n.all({dimensionList:a.model.app.getDimensionList(),measureList:a.model.app.getMeasureList()}).then(function(e){v(o,e.dimensionList,e.measureList);s=i.importProperties(o,t.initialProperties,i,i.options?i.options.hyperCubePath:void 0);a.model.getLayout().then(function(t){if(t.qHasSoftPatches){a.model.markAsCancelled();a.model.clearSoftPatches().then(function(){a.model.setFullPropertyTree(s).then(function(){a.model.markAsInvalid()})})}else a.model.setFullPropertyTree(s)})})}catch(t){}})},exportProperties:function t(e){if(e.qProperty.qHyperCubeDef)return d.hypercube.exportProperties(e);if(e.qProperty.qListObjectDef)return d.listbox.exportProperties(e);return d.other.exportProperties(e)},importProperties:function t(e,n,i){if(n.qHyperCubeDef)return d.hypercube.importProperties(e,n,i);if(n.qListObjectDef)return d.listbox.importProperties(e,n,i);return d.other.importProperties(e,n,i)},support:{cssScaling:false,sharing:false,colorBy:false,snapshot:false,export:false,exportData:true,viewData:false},options:{},hasNewType:function t(e,n){return e.type!==n}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){function e(e,n){n=n?n+".":"";return t.getValue(e,n+"qHyperCube.qDimensionInfo.length")>1}function n(e,n){n=n?n+".":"";return t.getValue(e,n+"qHyperCube.qMeasureInfo.length")>1}function i(t,n){if(!e(t,n))return 1;return o(t,n)}function r(e,n){n=n?n+".":"";return t.getValue(e,n+"qHyperCube.qSize.qcy")}function o(e,n){n=n?n+".":"";if(t.getValue(e,n+"qHyperCube.qStackedDataPages.0.qData.length"))return t.getValue(e,n+"qHyperCube.qStackedDataPages.0.qData.0.qSubNodes.length",0)+t.getValue(e,n+"qHyperCube.qStackedDataPages.0.qData.0.qDown",0)+t.getValue(e,n+"qHyperCube.qStackedDataPages.0.qData.0.qUp",0);var i=t.getValue(e,n+"qHyperCube.qEffectiveInterColumnSortOrder.0");var r=t.getValue(e,n+"qHyperCube.qDimensionInfo."+i);return l(r)}function s(t,n){if(!e(t,n))return r(t,n);return o(t,n)}function a(e,n){if(!e)return null;e=n?t.getValue(e,n):e;return e&&e.qHyperCube?e.qHyperCube:null}function l(t){return t.qCardinalities.qHypercubeCardinal}return{getHyperCube:a,hasSecondDimension:e,hasSecondMeasure:n,getStackedCubeSizeOf2Dims:o,getStackedCubeSizeOfMax2Dims:s,getOuterDimensionSizeOfMax2Dims:i,getDimensionSize:l}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(53),n(45),n(386),n(388)],r=function(t,e,n,i,r){var o;o=e.extend("BackendApi",{init:function t(e,n,o){this.model=e;this.localeInfo=e.app&&e.app.layout?e.app.layout.qLocaleInfo:{};this.path=n;n&&(this.dataPath=n.slice(1,-3));this.cacheCube=new i(e,"qDataPages",this.path,o);this.backendStackThrottle=new r(e,"qDataPages",this.path)},setPath:function t(e){this.path=e;e&&(this.dataPath=e.slice(1,-3));this.cacheCube.setPath(e);this.backendStackThrottle.setPath(e)},setCacheOptions:function t(e){this.cacheCube.setOptions(e)},updateCache:function t(){},applyPatches:function t(e,n){return this.model.applyPatches(e,n)},clearSoftProperties:function t(){var e=this;return this.model.getLayout().then(function(t){return t.qHasSoftPatches?e.model.clearSoftPatches():n.resolve()})},beginSelections:function t(){return this.model.app.switchModalSelection(this.model,this.path)},endSelections:function t(e){return this.model.app.switchModalSelection(null,null,e)},clearSelections:function t(e){e=e||0;return this.model.clearSelections(this.path,[e])},getDimensionInfos:function t(){if(!this.model.layout[this.dataPath].qDimensionInfo)return[];if(Array.isArray(this.model.layout[this.dataPath].qDimensionInfo))return this.model.layout[this.dataPath].qDimensionInfo;return[this.model.layout[this.dataPath].qDimensionInfo]},getMeasureInfos:function t(){return this.model.layout[this.dataPath].qMeasureInfo},getRowCount:function t(){return this.model.layout[this.dataPath].qSize.qcy},eachDataRow:function e(n){var i=this.model.layout[this.dataPath],r=true;i&&t.each(i.qDataPages,function(e,i){t.each(i.qMatrix,function(t,e){r=n(i.qArea.qTop+t,e);return r});return r})},drillUp:function t(e,n){return this.model.drillUp(this.path,e,n)},hasSelections:function t(){var e=this.getDimensionInfos();for(var n=0;n<e.length;++n)if(e[n].qStateCounts.qSelected>0)return true;return false},inSelections:function t(){return this.model.layout.qSelectionInfo&&this.model.layout.qSelectionInfo.qInSelections},destroy:function t(){this.cacheCube.destroy();this.backendStackThrottle.destroy()},getSize:function t(){return this.model.layout[this.dataPath].qSize}});return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(53),n(57),n(47)],r=function(t,e,n,i){var r,o={enabled:true,delay:50};r=e.extend("Throttle",{init:function t(){this.options={};this.ongoingRequests=[];this.queuedRequests=[];this.recentRequests=[];this.resolvedRequests=[];this._debounceTimer=null;this._latestResolvedRequestedAt=-1;n.mixin(this);this.notification("Send");this.notification("Cancel");this.setOptions({})},destroy:function t(){this.clear();this.recentRequests=[];this.resolvedRequests=[];n.release(this)},setOptions:function t(e){this.options=i.extend(true,{},o,this.options,e);this.enabled=this.options.enabled||false;this.delay=this.options.delay||-1},clear:function t(){clearTimeout(this._debounceTimer);var e;while(this.queuedRequests.length){e=this.queuedRequests.pop();e.dfd.reject()}while(this.ongoingRequests.length){e=this.ongoingRequests.pop();e.dfd.reject()}},queue:function e(n){var i=this.enabled?this.delay:-1,r=Date.now(),o={data:n,dfd:t(),wrapper:t(),requestedAt:r},a=Math.max(this._getAvgResolutionTime(),i),l=i<1,c=this.recentRequests.length<1,u=c||r-this.recentRequests.slice(-1)[0].requestedAt>a,d=r>this._latestResolvedRequestedAt+i;l||c||u||d?s.apply(this,[o,0]):s.apply(this,[o,Math.min(i,1e3)]);this.recentRequests.push(o);this.recentRequests.length>10&&(this.recentRequests=this.recentRequests.slice(-10));return o.dfd.promise},updateResolutionTime:function t(){this._latestResolvedRequestedAt=Date.now()},_getAvgResolutionTime:function t(){var e;if(this.resolvedRequests.length){e=0;this.resolvedRequests.forEach(function(t){e+=t.respondedAt-t.sentAt});e/=this.resolvedRequests.length}return e}});function s(t,e){var n=this;this.queuedRequests.push(t);clearTimeout(this._debounceTimer);e>=10?this._debounceTimer=setTimeout(function(){a.call(n)},e):a.call(n)}function a(){if(this.ongoingRequests.length){this.waitingForResponse=true;return}var t=this.queuedRequests.pop();t&&l.call(this,t);while(this.queuedRequests.length){t=this.queuedRequests.shift();t.dfd.reject()}}function l(t){this.waitingForResponse=false;this.ongoingRequests.push(t);var e=this,n=t.wrapper;t.sentAt=Date.now();n.promise.then(function(){e.ongoingRequests.splice(e.ongoingRequests.indexOf(t),1);t.respondedAt=Date.now();e.resolvedRequests.push({sentAt:t.sentAt,respondedAt:t.respondedAt,requestedAt:t.requestedAt});e.resolvedRequests.length>10&&(e.resolvedRequests=e.resolvedRequests.slice(-10));t.requestedAt>e._latestResolvedRequestedAt?t.dfd.resolve.apply(t.dfd,[].slice.call(arguments)):t.dfd.reject();e._latestResolvedRequestedAt=t.requestedAt},function(){e.ongoingRequests.splice(e.ongoingRequests.indexOf(t),1);t.respondedAt=Date.now();t.dfd.reject.apply(t.dfd,[].slice.call(arguments))}).finally(function(){e.waitingForResponse&&a.call(e)});this.Send.emit(t.data,n)}return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(138),n(68)],r=function(t,e){var n;function i(t,e){var n,i={};for(n in t)"qSubNodes"!==n&&t.hasOwnProperty(n)&&(i[n]=t[n]);e.push(i);return i}function r(t,e,o){var s,a,l,c=[],u=[],d=0,p=0;if(o.length){d=o[0].qUp||0;p=o[o.length-1].qDown||0}for(s=0;s<o.length;++s){a=o[s];a.qSubNodes.length>0&&(u=r(t,e,a.qSubNodes));l=null;if(0===a.qSubNodes.length&&n>=t&&n<=t+e||u.length>0){l=i(a,c);void 0!==l.qUp&&1===c.length&&(l.qUp=d+s);l.qSubNodes=u}0===a.qSubNodes.length&&n++;if(n===t+e){l&&void 0!==l.qDown&&(l.qDown=p+(o.length-1-s));break}}return c}function o(t,e,i){n=0;return r(t,e,i)}var s,a=new e(0,0,0,0),l=new e(0,0,0,0);s=t.extend("PivotCubeSlicer",{init:function t(){this._super();this.requestedAreas=[]},getPage:function t(n){var i,r,o=[],s;for(r=0;r<this.pages.length;r++){i=this.pages[r].qArea;a.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);l.set(i.qLeft,i.qTop,i.qWidth,i.qHeight);s=l.intersection(a,true);o.push({coverage:s?s.clone():new e(0,0,0,0),idx:r});if(i.qLeft<=n.qLeft&&i.qLeft+i.qWidth>=n.qLeft+n.qWidth&&i.qTop<=n.qTop&&i.qTop+i.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[r])}o.sort(function(t,e){return e.coverage.width*e.coverage.height-t.coverage.width*t.coverage.height});if(o[0].coverage.height>0&&o[0].coverage.width>0)return this._extract(n,this.pages[o[0].idx]);return{qLeft:[],qTop:[],qData:[],qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0}}},_extract:function t(e,n){var i,r;a.set(e.qLeft,e.qTop,e.qWidth,e.qHeight);l.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var s=a.intersection(l,true),c,u,d;if(!s)return{qLeft:[],qTop:[],qData:[],qArea:{qTop:e.qTop,qLeft:e.qLeft,qWidth:0,qHeight:0}};d=Math.max(0,e.qTop-n.qArea.qTop);u=Math.max(0,e.qLeft-n.qArea.qLeft);c=n.qData.slice(d,d+s.height).map(function(t){return t.slice(u,u+s.width)});i=o(d,s.height,n.qLeft);r=o(u,s.width,n.qTop);return{qLeft:i,qTop:r,qData:c,qArea:{qTop:s.y,qLeft:s.x,qWidth:s.width,qHeight:s.height}}}});return s}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(139),n(45),n(73),n(84),n(47),n(136),n(184)],r=function(t,e,n,i,r,o,s){var a=1e3,l=1e3;var c;function u(t,e){if(!t)return[];return e&&r.getValue(t,e)?r.getValue(t,e).qHyperCube:t.qHyperCube}c=t.extend({init:function t(e){this._super(e);this.path=e.path},setProperties:function t(e){if(!e)return;this._super(e);this.hcProperties=this.path?r.getValue(e,(this.path?this.path+".":"")+"qHyperCubeDef"):e.qHyperCubeDef;if(!this.hcProperties)return;this.hcProperties.qDimensions||(this.hcProperties.qDimensions=[]);this.hcProperties.qMeasures||(this.hcProperties.qMeasures=[]);this.hcProperties.qInterColumnSortOrder||(this.hcProperties.qInterColumnSortOrder=[]);this.hcProperties.qLayoutExclude||(this.hcProperties.qLayoutExclude={});this.hcProperties.qLayoutExclude.qHyperCubeDef||(this.hcProperties.qLayoutExclude.qHyperCubeDef={});this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions=[]);this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures||(this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures=[]);this.hcProperties.qDimensions.forEach(function(t){if(void 0!==t.autoSort){t.qDef.autoSort=t.autoSort;delete t.autoSort}});this.hcProperties.qMeasures.forEach(function(t){if(void 0!==t.autoSort){t.qDef.autoSort=t.autoSort;delete t.autoSort}})},canColorBy:function t(e,n){var i=e||{qHyperCubeDef:this.hcProperties||this.properties.qHyperCubeDef},r=this.layout?this.layout.visualization:null,s=i.qHyperCubeDef.qDimensions.length>=this.minDimensions()&&i.qHyperCubeDef.qMeasures.length>=this.minMeasures();if(o.colorBy.isSupported(r)||n)return s&&this.layout&&this.layout.color?c.canColorBy(i,r):{};return false},getDimensions:function t(){return this.hcProperties?this.hcProperties.qDimensions:[]},getMeasures:function t(){return this.hcProperties?this.hcProperties.qMeasures:[]},getLabels:function t(){return this.getMeasures().filter(function(t){return!t.qLibraryId&&!!t.qDef.qLabel}).map(function(t){return t.qDef.qLabel})},getSorting:function t(){return this.hcProperties.qInterColumnSortOrder},addDimension:function t(n,o,s){var l=this.getDimensions(),c=this;n.qDef.cId||(n.qDef.cId=r.generateId());n.qOtherTotalSpec||(n.qOtherTotalSpec={});if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n);return e.resolve(n)}if(l.length<this.maxDimensions()){s=void 0!==s?s:l.length;l.splice(s,0,n);return this.autoSortDimension(n).then(function(){i.indexAdded(c.hcProperties.qInterColumnSortOrder,"undefined"!==typeof s?s:l.length-1);if("function"===typeof c.dimensionDefinition.add)return e.when(c.dimensionDefinition.add.call(c,n,c.properties,c)).then(function(){return n});return n})}if(l.length<a){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n);return e.resolve(n)}},reinsertDimension:function t(n,o,s){var l=this.getDimensions(),c=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n);if("function"===typeof c.dimensionDefinition.move)return e.when(c.dimensionDefinition.move.call(c,n,c.properties,c)).then(function(){return n})}else if(l.length<this.maxDimensions()){s=void 0!==s?s:l.length;l.splice(s,0,n);i.indexAdded(c.hcProperties.qInterColumnSortOrder,"undefined"!==typeof s?s:l.length-1);if("function"===typeof c.dimensionDefinition.move)return e.when(c.dimensionDefinition.move.call(c,n,c.properties,c)).then(function(){return n})}else if(l.length<a){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(s,0,n)}return e.resolve(n)},addMeasure:function t(n,o,s){var a=this.getMeasures(),c=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n);return e.resolve(n)}s=void 0!==s?s:a.length;if(a.length<this.maxMeasures()){a.splice(s,0,n);return this.autoSortMeasure(n).then(function(){i.indexAdded(c.hcProperties.qInterColumnSortOrder,c.getDimensions().length+a.length-1);if("function"===typeof c.measureDefinition.add)return e.when(c.measureDefinition.add.call(null,n,c.properties,c)).then(function(){return n});return n})}if(a.length<l){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n);return e.resolve(n)}},getDimensionLayouts:function t(){var e=u(this.layout,this.path);return e?e.qDimensionInfo:[]},getDimensionLayout:function t(e){return this.getDimensionLayouts().filter(function(t){return e===t.cId})[0]},getMeasureLayouts:function t(){var e=u(this.layout,this.path);return e?e.qMeasureInfo:[]},getMeasureLayout:function t(e){return this.getMeasureLayouts().filter(function(t){return e===t.cId})[0]},reinsertMeasure:function t(n,o,s){var a=this.getMeasures(),c=this;n.qDef.cId||(n.qDef.cId=r.generateId());if(o){s=void 0!==s?s:this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n)}else{s=void 0!==s?s:a.length;if(a.length<this.maxMeasures()){a.splice(s,0,n);i.indexAdded(c.hcProperties.qInterColumnSortOrder,c.getDimensions().length+a.length-1);if("function"===typeof c.measureDefinition.move)return e.when(c.measureDefinition.move.call(null,n,c.properties,c,true)).then(function(){return n})}else if(a.length<l){s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.length;this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(s,0,n)}}return e.resolve(n)},replaceDimension:function t(e,n){var i=this.getDimensions(),o=i[e],s=this;return this.autoSortDimension(n).then(function(){n.qDef.cId=r.generateId();i[e]=n;"function"===typeof s.dimensionDefinition.replace&&s.dimensionDefinition.replace.call(null,n,o,e,s.properties,s);return n})},replaceMeasure:function t(e,n){var i=this.getMeasures(),o=i[e],s=this;return this.autoSortMeasure(n).then(function(){n.qDef.cId=r.generateId();i[e]=n;"function"===typeof s.measureDefinition.replace&&s.measureDefinition.replace.call(null,n,o,e,s.properties,s);return n})},autoSortDimension:function t(e){var i=this;function r(t){t.forEach(function(t,n){var r=t.qTags;var o={qSortByLoadOrder:1};if("function"===typeof i.dimensionDefinition.autoSort)i.dimensionDefinition.autoSort(e,i.properties,r,o,i);else{o.qSortByNumeric=1;o.qSortByAscii=1}e.qDef.qSortCriterias?e.qDef.qSortCriterias[n]=o:e.qDef.qSortCriterias=[o]})}return e.qLibraryId?this.app.getDimensionList().then(function(t){var i=n.findLibraryDimension(e.qLibraryId,t);i&&r(i.qData.info);return e}):this.app.getFieldList().then(function(t){var i=n.findField(e.qDef.qFieldDefs[0],t);i&&r([i]);return e})},autoSortMeasure:function t(n){n.qSortBy={qSortByLoadOrder:1,qSortByNumeric:-1};return e.resolve(n)},removeDimension:function t(n,r){var o;if(r){o=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions.splice(n,1);if("function"===typeof this.dimensionDefinition.remove)return e.when(this.dimensionDefinition.remove.call(null,o,this.properties,this,n))}else{o=this.hcProperties.qDimensions.splice(n,1)[0];i.indexRemoved(this.hcProperties.qInterColumnSortOrder,n);if("function"===typeof this.dimensionDefinition.remove)return e.when(this.dimensionDefinition.remove.call(null,o,this.properties,this,n))}return e.resolve(o)},removeMeasure:function t(n,r){var o;if(r)o=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures.splice(n,1)[0];else{o=this.hcProperties.qMeasures.splice(n,1)[0];i.indexRemoved(this.hcProperties.qInterColumnSortOrder,this.getDimensions().length+n);if("function"===typeof this.measureDefinition.remove)return e.when(this.measureDefinition.remove.call(null,o,this.properties,this,n))}return e.resolve(o)},moveDimension:function t(n,r){var o=this.getDimensions(),s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qDimensions,a,l,c;if(n<o.length&&r<o.length)i.move(o,n,r);else if(n<o.length&&r>=o.length){l=r-o.length;c=s.splice(0,1)[0];o.push(c);c=o.splice(n,1)[0];s.splice(l,0,c)}else if(n>=o.length&&r<o.length){a=n-o.length;c=o.splice(o.length-1,1)[0];s.splice(0,0,c);c=s.splice(a+1,1)[0];o.splice(r,0,c)}else{a=n-o.length;l=r-o.length;i.move(s,a,l)}return e.resolve(c)},moveMeasure:function t(n,r){var o=this.getMeasures(),s=this.hcProperties.qLayoutExclude.qHyperCubeDef.qMeasures,a,l,c;if(n<o.length&&r<o.length)i.move(o,n,r);else if(n<o.length&&r>=o.length){l=r-o.length;c=s.splice(0,1)[0];o.push(c);c=o.splice(n,1)[0];s.splice(l,0,c)}else if(n>=o.length&&r<o.length){a=n-o.length;c=o.splice(o.length-1,1)[0];s.splice(0,0,c);c=s.splice(a+1,1)[0];o.splice(r,0,c)}else{a=n-o.length;l=r-o.length;i.move(s,a,l)}return e.resolve(c)},changeSorting:function t(e,n){i.move(this.hcProperties.qInterColumnSortOrder,e,n)},setSorting:function t(e){e&&e.length===this.hcProperties.qInterColumnSortOrder.length&&(this.hcProperties.qInterColumnSortOrder=e)}});c.canColorBy=function(t,e){var n={primary:true};if(t){var i=s.getLogicFor("hard",e).helpers.colorModeOptions;n.byDimension=i.dimension(t);n.byMeasure=i.measure(t);n.byMultiple=i.multiColor(t);n.byExpression=i.expression(t)}return n};return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){return{autoSortDimension:function t(e,n){e.qDef.qSortCriterias=[];e.qDef.autoSort=true;n?n.forEach(function(t,n){e.qDef.qSortCriterias[n]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1}}):e.qDef.qSortCriterias[0]={qSortByState:1,qSortByLoadOrder:1,qSortByNumeric:1,qSortByAscii:1};return e},createFieldDimension:function t(e){return{qDef:{qFieldDefs:[e],qFieldLabels:[e],qSortCriterias:[]}}},createLibraryDimension:function t(e){return{qLibraryId:e,qDef:{qSortCriterias:[]}}},createDefaultListBox:function e(n,i){var r=t.extend(true,{},n),o;r.qShowAlternatives=true;for(o=0;o<r.qDef.qSortCriterias.length;++o)r.qDef.qSortCriterias[o].qSortByState=1;i=!i&&n.qDef.qLabelExpression?{qStringExpression:{qExpr:n.qDef.qLabelExpression}}:i||n.qDef.qFieldLabels&&n.qDef.qFieldLabels.length&&""!==n.qDef.qFieldLabels[0]?i||(n.qDef.qFieldLabels&&n.qDef.qFieldLabels.length?n.qDef.qFieldLabels[0]:""):n.qDef.qFieldDefs[0];return{qInfo:{qType:"listbox"},qListObjectDef:r,title:i,visualization:"listbox"}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={};return{get:function e(){return t},isVariableSet:function e(n){return"1"===t[n]},isVariableDefined:function e(n){return!!t[n]},load:function e(n){return n.getVariableList().then(function(e){e.forEach(function(e){e.qName&&(t[e.qName]=e.qDefinition)});return t}).catch(function(){return t})}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(47),n(391),n(84),n(50),n(93),n(46),n(136),n(190),n(137),n(392)],r=function(t,e,n,i,r,s,a,l,c,u){var d,p,f,h,v,g,m=Math.pow(2,53)-1;function b(t,e,n){e.hasOwnProperty(t)&&(n[t]=e[t])}function y(t,e,n,i){e.hasOwnProperty(t)?n[t]=e[t]:n[t]=i}function x(e,n){var r=t.extend(true,{},n,e);i.getValue(r,"qOtherTotalSpec.qOtherCounted")||i.setValue(r,"qOtherTotalSpec.qOtherCounted",{qv:"10"});i.getValue(r,"qOtherTotalSpec.qOtherLimit")||i.setValue(r,"qOtherTotalSpec.qOtherLimit",{qv:"0"});r.hasOwnProperty("othersLabel")||(r.othersLabel=s.get("properties.dimensionLimits.others"));return r}function w(e,n){return t.extend(true,{},n,e)}function q(t){return-1!==["qMetaDef","descriptionExpression","labelExpression"].indexOf(t)}d={exportProperties:function r(o,s){var a=new e,l=o.qProperty,c=s?i.getValue(l,s).qHyperCubeDef:l.qHyperCubeDef,u=a.data[0],d,p,f;c.qInterColumnSortOrder||(c.qInterColumnSortOrder=[]);for(d=0;d<c.qDimensions.length;++d)u.dimensions.push(c.qDimensions[d]);if(c.qLayoutExclude&&c.qLayoutExclude.qHyperCubeDef&&c.qLayoutExclude.qHyperCubeDef.qDimensions)for(d=0;d<c.qLayoutExclude.qHyperCubeDef.qDimensions.length;++d)u.excludedDimensions.push(c.qLayoutExclude.qHyperCubeDef.qDimensions[d]);for(d=0;d<c.qMeasures.length;++d)u.measures.push(c.qMeasures[d]);if(c.qLayoutExclude&&c.qLayoutExclude.qHyperCubeDef&&c.qLayoutExclude.qHyperCubeDef.qMeasures)for(d=0;d<c.qLayoutExclude.qHyperCubeDef.qMeasures.length;++d)u.excludedMeasures.push(c.qLayoutExclude.qHyperCubeDef.qMeasures[d]);u.interColumnSortOrder=c.qInterColumnSortOrder.concat();if(c.qLayoutExclude&&c.qLayoutExclude.qHyperCubeDef&&c.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder){var h=c.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.concat();n.isOrderedSubset(h,u.interColumnSortOrder)&&(u.interColumnSortOrder=h)}delete c.qLayoutExclude;for(p in l)a.properties[p]=l[p];if(s){a.properties.qHyperCubeDef=i.getValue(l,s).qHyperCubeDef;delete i.getValue(l,s).qHyperCubeDef}l.qLayoutExclude||(l.qLayoutExclude={});if(l.qLayoutExclude.disabled){for(p in l.qLayoutExclude.disabled){f=p;a.properties.hasOwnProperty(f)||(a.properties[f]=l.qLayoutExclude.disabled[p])}delete l.qLayoutExclude.disabled}if(l.qLayoutExclude.changed){S(l);delete l.qLayoutExclude.changed}l.qLayoutExclude.quarantine&&!t.isEmpty(l.qLayoutExclude.quarantine)||delete l.qLayoutExclude;return a},importProperties:function e(i,o,s,a){var l={qChildren:[]},c={},u=i.data[0],d,p,f,h,v={layout:{templateId:o.templateId}};s.mapProperties(v);var g=s.getDefaultDimensionProperties();var C=s.getDefaultMeasureProperties();var S=s.data&&s.data.measures;S||(S=s.definition&&s.definition.items&&s.definition.items.measures||{max:0});var D="function"===typeof S.max?S.max(u.dimensions.length):isNaN(S.max)?m:S.max;var E="function"===typeof S.min?S.min(u.dimensions.length):isNaN(S.min)?0:S.min;var k=s.data&&s.data.dimensions;k||(k=s.definition&&s.definition.items&&s.definition.items.dimensions||{max:0});var T="function"===typeof k.max?k.max(D):isNaN(k.max)?m:k.max;var A="function"===typeof k.min?k.min(E):isNaN(k.min)?0:k.min;c.qLayoutExclude||(c.qLayoutExclude={});c.qLayoutExclude.disabled={};c.qLayoutExclude.quarantine={};for(p in i.properties)"qLayoutExclude"===p?i.properties[p].quarantine&&(c.qLayoutExclude.quarantine=t.extend(true,{},i.properties[p].quarantine)):"qHyperCubeDef"===p&&a||(o.hasOwnProperty(p)||q(p)?c[p]=i.properties[p]:c.qLayoutExclude.disabled[p]=i.properties[p]);if(a&&i.properties.qHyperCubeDef){c[a]=c[a]||{};c[a].qHyperCubeDef=i.properties.qHyperCubeDef}c=t.extend(true,{},o,c);var I=a?o[a].qHyperCubeDef:o.qHyperCubeDef;var O=a?c[a].qHyperCubeDef:c.qHyperCubeDef;O.qDimensions.length=0;O.qMeasures.length=0;if(u.dimensions.length>T&&T>0||u.measures.length>D&&D>0||u.excludedDimensions.length&&u.dimensions.length+u.excludedDimensions.length>A||u.excludedMeasures.length&&u.measures.length+u.excludedMeasures.length>E||!D&&u.measures.length||!T&&u.dimensions.length){O.qLayoutExclude||(O.qLayoutExclude={});O.qLayoutExclude.qHyperCubeDef||(O.qLayoutExclude.qHyperCubeDef={});(u.dimensions.length>T&&T>0||u.excludedDimensions&&u.excludedDimensions.length&&u.dimensions.length+u.excludedDimensions.length>A)&&(O.qLayoutExclude.qHyperCubeDef.qDimensions||(O.qLayoutExclude.qHyperCubeDef.qDimensions=[]));(u.measures.length>D&&D>0||u.excludedMeasures&&u.excludedMeasures.length&&u.measures.length+u.excludedMeasures.length>E)&&(O.qLayoutExclude.qHyperCubeDef.qMeasures||(O.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!D&&u.measures.length&&(O.qLayoutExclude.qHyperCubeDef.qMeasures||(O.qLayoutExclude.qHyperCubeDef.qMeasures=[]));!T&&u.dimensions.length&&(O.qLayoutExclude.qHyperCubeDef.qDimensions||(O.qLayoutExclude.qHyperCubeDef.qDimensions=[]))}if(T>0)for(f=0;f<u.dimensions.length;++f)O.qDimensions.length<T?O.qDimensions.push(x(u.dimensions[f],g)):O.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(u.dimensions[f],g));else if(u.dimensions.length)for(f=0;f<u.dimensions.length;++f)O.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(u.dimensions[f],g));if(u.excludedDimensions.length)for(f=0;f<u.excludedDimensions.length;++f)O.qDimensions.length<A?O.qDimensions.push(x(u.excludedDimensions[f],g)):O.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(u.excludedDimensions[f],g));if(D>0)for(f=0;f<u.measures.length;++f)O.qMeasures.length<D?O.qMeasures.push(w(u.measures[f],C)):O.qLayoutExclude.qHyperCubeDef.qMeasures.push(w(u.measures[f],C));else if(u.measures.length)for(f=0;f<u.measures.length;++f)O.qLayoutExclude.qHyperCubeDef.qMeasures.push(w(u.measures[f],C));if(u.excludedMeasures.length)for(f=0;f<u.excludedMeasures.length;++f)O.qMeasures.length<E?O.qMeasures.push(w(u.excludedMeasures[f],C)):O.qLayoutExclude.qHyperCubeDef.qMeasures.push(w(u.excludedMeasures[f],C));h=O.qDimensions.length+O.qMeasures.length;O.qInterColumnSortOrder=u.interColumnSortOrder.concat();f=O.qInterColumnSortOrder.length;if(f!==h){O.qLayoutExclude&&(O.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=u.interColumnSortOrder.concat());while(f!==h)if(f<h){n.indexAdded(O.qInterColumnSortOrder,f);++f}else{--f;n.indexRemoved(O.qInterColumnSortOrder,f)}}d=r.mapProperties(r.mapDefinition(s.definition,s.type),{},s.type);var L=a?d[a]&&d[a].qHyperCubeDef:d.qHyperCubeDef;["qAlwaysFullyExpanded","qSuppressMissing","qSuppressZero"].filter(function(t){return L&&"undefined"===typeof L[t]}).forEach(function(t){b(t,I,O)});b("qMaxStackedCells",I,O);b("qNoOfLeftDims",I,O);y("qInitialDataFetch",I,O,[{qTop:0,qLeft:0,qWidth:0,qHeight:0}]);y("qMode",I,O,"S");y("qReductionMode",I,O,"N");y("qSortbyYValue",I,O);y("qIndentMode",I,O);y("qShowTotalsAbove",I,O);_(c,i,o);l.qProperty=c;return l}};p={exportProperties:function t(n){var i=new e,r=n.qProperty,o=r.qListObjectDef,s=i.data[0],a,l,c;(o.qLibraryId||o.qDef&&o.qDef.qFieldDefs[0])&&s.dimensions.push({qLibraryId:o.qLibraryId,qDef:o.qDef,title:o.title,qOtherTotalSpec:{}});if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qDimensions)for(a=0;a<o.qLayoutExclude.qHyperCubeDef.qDimensions.length;++a)s.excludedDimensions.push(o.qLayoutExclude.qHyperCubeDef.qDimensions[a]);if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qMeasures)for(a=0;a<o.qLayoutExclude.qHyperCubeDef.qMeasures.length;++a)s.excludedMeasures.push(o.qLayoutExclude.qHyperCubeDef.qMeasures[a]);if(o.qLayoutExclude&&o.qLayoutExclude.qHyperCubeDef&&o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder)for(a=0;a<o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.length;++a)s.interColumnSortOrder.push(o.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder[a]);delete o.qLayoutExclude;for(l in r)i.properties[l]=r[l];if(r.qLayoutExclude&&r.qLayoutExclude._disabled){for(l in r.qLayoutExclude._disabled){c="_"===l.substr(0,1)?l.substring(1):l;i.properties.hasOwnProperty(c)||(i.properties[c]=r.qLayoutExclude.disabled[l])}delete r.qLayoutExclude.disabled}if(s.dimensions.length>0)for(a=0;a<s.dimensions[0].qDef.qSortCriterias.length;++a)s.dimensions[0].qDef.qSortCriterias[a].qSortByFrequency=0;return i},importProperties:function e(n,i){var r={qChildren:[]},o={},s=n.data[0],a=1,l,c;o.qLayoutExclude||(o.qLayoutExclude={});o.qLayoutExclude.disabled={};for(l in n.properties)"qLayoutExclude"===l?n.properties[l].quarantine&&(o.qLayoutExclude.quarantine=t.extend(true,{},n.properties[l].quarantine)):i.hasOwnProperty(l)||q(l)?o[l]=n.properties[l]:o.qLayoutExclude.disabled[l]=n.properties[l];o=t.extend(true,{},i,o);o.qListObjectDef.qLayoutExclude||(o.qListObjectDef.qLayoutExclude={});o.qListObjectDef.qLayoutExclude.qHyperCubeDef||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef={});o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions=[]);o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures=[]);o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder||(o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder=[]);for(c=0;c<s.dimensions.length;++c)if(c<a){o.qListObjectDef.qDef=s.dimensions[c].qDef;o.qListObjectDef.qLibraryId=s.dimensions[c].qLibraryId}else o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(s.dimensions[c]);for(c=0;c<s.excludedDimensions.length;++c)o.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions.push(x(s.excludedDimensions[c]));for(c=0;c<s.measures.length;++c)o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(s.measures[c]);for(c=0;c<s.excludedMeasures.length;++c)o.qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures.push(s.excludedMeasures[c]);for(c=0;c<s.interColumnSortOrder.length;++c)o.qListObjectDef.qLayoutExclude.qHyperCubeDef.qInterColumnSortOrder.push(s.interColumnSortOrder[c]);o.qListObjectDef.qInitialDataFetch=i.qListObjectDef.qInitialDataFetch;_(o,n,i);r.qProperty=o;return r}};f={importProperties:function t(e,n,r){var o=this.hypercube.importProperties(e,n,r),s=i.getValue(o,"qProperty.visualization"),c=i.getValue(o,"qProperty.qHyperCubeDef.qDimensions",[]),u=i.getValue(o,"qProperty.qHyperCubeDef.qMeasures",[]),d=i.getValue(o,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",[]),p=i.getValue(o,"qProperty.color.colorExpression",""),f=i.getValue(o,"qProperty.color.mode",""),h=i.getValue(o,"qProperty.color.auto",""),v=i.getValue(o,"qProperty.color.persistent",false);var g=l.canColorBy(o.qProperty,s);if(g[f])if(h)a.colorByUpdater(o.qProperty,"qHyperCubeDef.");else if("byDimension"!==f&&"byMeasure"!==f||!c.length){if("byExpression"===f&&u.length){d.splice(0,0,{qExpression:p,id:"colorByExpression"});i.setValue(o,"qProperty.qHyperCubeDef.qMeasures.0.qAttributeExpressions",d)}}else a.colorByUpdater(o.qProperty,"qHyperCubeDef.");else{i.setValue(o,"qProperty.color.mode","primary");i.setValue(o,"qProperty.color.auto",true);a.colorByUpdater(o.qProperty,"qHyperCubeDef.")}c.length>1&&!v&&C("color.persistent",true,o);c.forEach(function(t){"qTotalMode"in t.qOtherTotalSpec&&delete t.qOtherTotalSpec.qTotalMode});return o},exportProperties:function t(e){var n=this.hypercube.exportProperties(e);var i=n.data[0];c.moveByIdFromGroup(i.dimensions.concat(i.excludedDimensions),[],"qAttributeDimensions",c.IDMAP.COLOR_BY_ALTERNATIVE);c.moveByIdFromGroup(i.dimensions.concat(i.excludedDimensions),[],"qAttributeExpressions",c.IDMAP.COLOR_BY_ALTERNATIVE);c.moveByIdFromGroup(i.measures.concat(i.excludedMeasures),[],"qAttributeExpressions",c.IDMAP.COLOR_BY_EXPRESSION);return n}};h={importProperties:function e(n,i,r){var o=this.colorChart.importProperties.apply(this,[n,i,r]),s=o.qProperty,a,l;i.measureAxis&&"undefined"===typeof i.measureAxis.autoMinMax?E(s,"unsupportedAutoMinMax")||t.extend(s.measureAxis,i.measureAxis):E(s,"supportedAutoMinMax")||t.extend(s.measureAxis,i.measureAxis);if(n.properties.measureAxes&&!i.measureAxes&&i.measureAxis&&"undefined"!==typeof i.measureAxis.autoMinMax){var c=[];s.qHyperCubeDef.qMeasures.length>0&&s.qHyperCubeDef.qMeasures.forEach(function(t){if(t.qDef.series){c[t.qDef.series.axis]||(c[t.qDef.series.axis]={axis:t.qDef.series.axis,type:{line:0,marker:0,bar:0,total:0}});["bar","marker","line"].contains(t.qDef.series.type)&&c[t.qDef.series.axis].type[t.qDef.series.type]++;c[t.qDef.series.axis].type.total++}});if(c.length){var u="barchart"===i.visualization?"bar":"linechart"===i.visualization?"line":"";u&&(a=c.filter(function(t){return t.type[u]>0}).sort(function(t,e){return e.type[u]-t.type[u]}));a&&a.length||(a=c.sort(function(t,e){return e.type.total-t.type.total}));a&&a[0]&&t.extend(s.measureAxis,n.properties.measureAxes[a[0].axis])}else t.extend(s.measureAxis,n.properties.measureAxes[0])}if(s.qHyperCubeDef.qDimensions.length>1){l=s.qHyperCubeDef.qInterColumnSortOrder.indexOf(0);if(0!==l){a=s.qHyperCubeDef.qInterColumnSortOrder[0];s.qHyperCubeDef.qInterColumnSortOrder[0]=0;s.qHyperCubeDef.qInterColumnSortOrder[l]=a}}return o},exportProperties:function t(e){var n=this.colorChart.exportProperties.apply(this,[e]);if("gauge"===n.properties.visualization){D("measureAxis.min",n,"unsupportedAutoMinMax");D("measureAxis.max",n,"unsupportedAutoMinMax")}else{D("measureAxis.min",n,"supportedAutoMinMax");D("measureAxis.max",n,"supportedAutoMinMax")}return n}};v={importProperties:function t(e,n,r){var o,s=this.hypercube.importProperties(e,n,r),a=i.getValue(s,"qProperty.qHyperCubeDef.qDimensions",[]),l=a.length,c=i.getValue(s,"qProperty.qHyperCubeDef.qMeasures",[]).length,u=i.getValue(s,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]),d,p=true;l+c===u.length&&i.setValue(s,"qProperty.qLayoutExclude.quarantine.interColSortOrder",u.concat());var f=i.getValue(s,"qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder");if(f){u=f;d=f.slice();i.setValue(s,"qProperty.qHyperCubeDef.qInterColumnSortOrder",u);delete s.qProperty.qLayoutExclude.quarantine.pivotInterColSortOrder}else u.length=0;var h=u.indexOf(-1)>-1;var v=l+h;if(v>u.length)for(o=u.length;o<v;o++)u.indexOf(o)<0&&u.push(o-h);for(o=u.length-1;o>=0;o--)u[o]>=l&&u.splice(o,1);c>1&&u.indexOf(-1)<0?u.push(-1):c<2&&u.indexOf(-1)>-1&&u.splice(u.indexOf(-1),1);l>0&&-1===i.getValue(s,"qProperty.qHyperCubeDef.qNoOfLeftDims",-1)&&i.setValue(s,"qProperty.qHyperCubeDef.qNoOfLeftDims",l);if(d&&u&&d.length===u.length){for(o=0;o<d.length;o++)if(d[o]!==u[o]){p=false;break}p&&E(s.qProperty,"noOfLeftDims")}a.forEach(function(t){"qTotalMode"in t.qOtherTotalSpec||(t.qOtherTotalSpec.qTotalMode="TOTAL_EXPR")});return s},exportProperties:function t(e){var n=i.getValue(e,"qProperty.qHyperCubeDef.qInterColumnSortOrder",[]);var r=n.slice(0);var o=n.indexOf(-1);o>-1&&n.splice(o,1);var s=this.hypercube.exportProperties(e),a=s.properties.qHyperCubeDef,l=a.qDimensions.length,c=a.qMeasures.length,u=a.qInterColumnSortOrder;i.setValue(s,"properties.qLayoutExclude.quarantine.pivotInterColSortOrder",r);D("qHyperCubeDef.qNoOfLeftDims",s,"noOfLeftDims");delete s.properties.qHyperCubeDef.qNoOfLeftDims;var d=i.getValue(s,"properties.qLayoutExclude.quarantine.interColSortOrder");if(d){u=d;i.setValue(s,"properties.qHyperCubeDef.qInterColumnSortOrder",u);i.setValue(s,"data.0.interColumnSortOrder",u);delete s.properties.qLayoutExclude.quarantine.interColSortOrder}for(var p=u.length;p<l+c;p++)u.length<=p&&u.push(p);return s}};function _(t,e,n){"masterobject"===e.properties.qInfo.qType?t.qInfo.qType="masterobject":t.qInfo.qType=n.qInfo.qType;t.visualization=n.visualization}function C(t,e,n){var r=n.qProperty,s=n.qProperty.qLayoutExclude;if(!/boolean|number|string/.test(o(e))){i.setValue(r,t,e);return}if(s){s.changed||(s.changed={});s.changed[t]={from:i.getValue(r,t),to:e}}i.setValue(r,t,e)}function S(t){for(var e in t.qLayoutExclude.changed)t.qLayoutExclude.changed[e].to===i.getValue(t,e)&&i.setValue(t,e,t.qLayoutExclude.changed[e].from)}function D(t,e,n){var r=e.properties,s=e.properties.qLayoutExclude,a=i.getValue(r,t),l,c;if(!/boolean|number|string/.test(o(a)))try{l=JSON.stringify(a);c=l.match(/:\{/g);c=c?c.length:0;if(c>2)return;a=JSON.parse(l)}catch(t){return}if(!s){e.properties.qLayoutExclude={quarantine:{}};s=e.properties.qLayoutExclude}s.quarantine||(s.quarantine={});s.quarantine[n]||(s.quarantine[n]={});s.quarantine[n][t]=a}function E(t,e){var n,r=t.qLayoutExclude?t.qLayoutExclude.quarantine:{};if(!r[e])return false;r=r[e];for(n in r)i.setValue(t,n,r[n]);delete t.qLayoutExclude.quarantine[e];return true}g={importProperties:function e(n,i){var r={qChildren:[]},o={},s;o.qLayoutExclude||(o.qLayoutExclude={});o.qLayoutExclude.disabled={};for(s in n.properties){if("qLayoutExclude"===s)continue;i.hasOwnProperty(s)||q(s)?o[s]=n.properties[s]:o.qLayoutExclude.disabled[s]=n.properties[s]}o=t.extend(true,{},i,o);_(o,n,i);r.qProperty=o;return r},exportProperties:function t(n){var i=new e,r=n.qProperty,o,s;for(o in r)i.properties[o]=r[o];r.qLayoutExclude||(r.qLayoutExclude={});if(r.qLayoutExclude.disabled)for(o in r.qLayoutExclude.disabled){s=o;i.properties.hasOwnProperty(s)||(i.properties[s]=r.qLayoutExclude.disabled[o])}delete r.qLayoutExclude;return i}};return{importCommonProperties:_,isMasterItemProp:q,hypercube:d,listbox:p,axisChart:h,colorChart:f,pivotChart:v,other:g,changeProperty:C,quarantineProperty:D,unquarantineObject:E,quarantineConditionalShow:u.quarantine,unquarantineConditionalShow:u.unquarantine}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(63)],r=function(t,e){var n={};function i(t){t&&delete n[t]}function r(e,i){if(!e)throw new Error("Missing type: "+e);var r={translationKey:"",icon:"",iconChar:"e",isLibraryItem:true,visible:true};n[e]=t.extend(r,i)}function o(e,n){if(!n.icon)throw new Error("Missing icon for type: "+e);if(!n.iconChar)throw new Error("Missing iconChar for type: "+e);if(false!==n.isLibraryItem&&!n.descriptionKey)throw new Error("Missing descriptionKey for type: "+e);var i={name:e,template:e,author:"Qlik",isThirdParty:false};r(e,t.extend(i,n))}function s(e,n){var i={name:e,description:n.description||"",template:e,icon:"puzzle",iconChar:"g",isThirdParty:true};var o=t.extend(i,n);"bar-chart-vertical"===o.icon&&(o.icon="bar-chart");r(e,o)}e.getFlag("DISABLE_AUTO_CHART")||o("auto-chart",{descriptionKey:"Template.preview.description.auto-chart",translationKey:"Object.AutoChart",icon:"effects",iconChar:"Ñ",visible:false});o("barchart",{descriptionKey:"Template.preview.description.barchart",translationKey:"Object.BarChart",icon:"bar-chart",iconChar:"!"});o("combochart",{descriptionKey:"Template.preview.description.combochart",translationKey:"Object.ComboChart",icon:"combo-chart",iconChar:"‚"});e.getFlag("CONTAINER_OBJECT")&&o("container",{descriptionKey:"En containerförklaring",translationKey:"Object.Container",icon:"low-resolution",iconChar:"g"});o("distributionplot",{descriptionKey:"Template.preview.description.distributionplot",translationKey:"Object.DistributionPlot",icon:"distributionplot",iconChar:"♡"});o("boxplot",{descriptionKey:"Template.preview.description.boxplot",translationKey:"Object.BoxPlot",icon:"boxplot",iconChar:"★"});o("filterpane",{descriptionKey:"Template.preview.description.filterpane",translationKey:"Object.FilterPane",icon:"filterpane",iconChar:"."});o("gauge",{descriptionKey:"Template.preview.description.gauge",translationKey:"Object.Gauge",icon:"gauge-chart",iconChar:")"});o("histogram",{descriptionKey:"Template.preview.description.histogram",translationKey:"Object.Histogram",icon:"histogram",iconChar:"⚑"});o("kpi",{descriptionKey:"Template.preview.description.kpi",translationKey:"Object.Kpi",icon:"kpi",iconChar:"1"});o("linechart",{descriptionKey:"Template.preview.description.linechart",translationKey:"Object.LineChart",icon:"line-chart",iconChar:"%"});o("listbox",{descriptionKey:"Template.preview.description.listbox",translationKey:"Object.Listbox",icon:"list",iconChar:"-",isLibraryItem:false});o("piechart",{descriptionKey:"Template.preview.description.piechart",translationKey:"Object.PieChart",icon:"pie-chart",iconChar:"&"});o("pivot-table",{descriptionKey:"Template.preview.description.pivot-table",translationKey:"Object.PivotTable",icon:"pivot-table",iconChar:"("});o("map",{descriptionKey:"Template.preview.description.map",translationKey:"Object.Map",icon:"map",iconChar:","});o("scatterplot",{descriptionKey:"Template.preview.description.scatterplot",translationKey:"Object.ScatterPlot",icon:"scatter-chart",iconChar:"+"});o("table",{descriptionKey:"Template.preview.description.table",translationKey:"Object.Table",icon:"table",iconChar:"'"});o("text-image",{descriptionKey:"Template.preview.description.text-image",translationKey:"Object.TextImage",icon:"text",iconChar:"/"});o("treemap",{descriptionKey:"Template.preview.description.treemap",translationKey:"Object.Treemap",icon:"treemap",iconChar:"»"});o("waterfallchart",{descriptionKey:"Template.preview.description.waterfallchart",translationKey:"Object.WaterfallChart",icon:"waterfallchart",iconChar:"⚒"});o("widget",{translationKey:"Object.Widget",icon:"widget",iconChar:"■",name:"Widget",description:"Qlik Sense Widget",isLibraryItem:false});return{registerThirdPartyLibraryInfo:s,remove:i,getLibraryInfo:function e(i){return t.extend({},n[i])}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.loadExtension=u;var i=a(n(79));var r=a(n(393));var o=a(n(394));var s=a(n(41));n(395);function a(t){return t&&t.__esModule?t:{default:t}}var l={};var c=false;function u(t){return new Promise(function(e,a){var u;u=t.libraryInfo.isThirdParty?t.path:t.typePath||t.type;if(l[u]){a(l[u]);return}var d;if(t.libraryInfo.isThirdParty){if(!c){window.requirejs.config.call(null,{paths:{extensions:"../extensions"}});window.define("text",[],function(){return r.default});window.define("css",[],function(){return o.default});window.define("qlik",[],function(){return i.default});window.define("qvangular",[],function(){return s.default});window.requirejs(["qlik"],function(){});c=true}d=new Promise(function(t,e){window.requirejs([u],t,e)})}else switch(t.type){case"widget":d=n.e(4).then(n.t.bind(null,690,7));break;default:d=Promise.resolve().then(n.t.bind(null,220,7))}return d.then(function(t){t=t.__esModule&&t.default?t.default:t;e(t)},function(t){l[u]=t;console.error(t);a(t)})})}},function(t,e,n){"use strict";var i,r;!(i=[n(48),n(45),n(74)],r=function(t,e,i){function r(t,e,n,i){this.app=t;this.model=e;this.toggled=false;this.element=n;this.options=i;this.sourceClass="qv-view-original";this.tableClass="qv-view-data-table"}r.prototype.getSourceElement=function(){var t;t="string"===typeof this.element?document.getElementById(this.element).querySelector(".qv-object-wrapper"):this.element[0]?this.element[0].querySelector(".qv-object-wrapper"):this.element.querySelector(".qv-object-wrapper");return t};r.prototype.show=function(){var i=this;if(this.showIsAnimating)return e.resolve(i.toggled);this.showIsAnimating=true;var r=n(141);return new r(i.app).visualization.create("table",i.model,{totals:{show:false}}).then(function(t){var n=new e;var r;i.options?i.options.onRendered=function(){n.resolve()}:i.options={onRendered:function t(){n.resolve()}};i.sourceElement=i.getSourceElement();var o=i.sourceElement.parentElement;i.qvis=t;i.originalObjectId=i.model.id;i.tableElement=document.createElement("div");i.tableElement.classList.add(i.tableClass);o.insertBefore(i.tableElement,i.sourceElement);r=t.show(i.tableElement,i.options);return e.all([r,n.promise]).then(function(t){i.scope=t[0]})}).then(function(){var n=new e;i.sourceElement.classList.remove("chart-fade-in");i.sourceElement.classList.add("chart-fade-out");t.element(i.sourceElement).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){t.element(i.sourceElement).off();i.sourceElement.classList.add(i.sourceClass);i.tableElement.classList.add("table-fade-in");i.toggled=true;i.showIsAnimating=false;n.resolve(i.toggled)});return n.promise})};r.prototype.getObject=function(){if(this.scope)return this.scope.object};r.prototype.hide=function(){var n=this;var r=new e;if(this.hideIsAnimating)return e.resolve(n.toggled);this.hideIsAnimating=true;n.tableElement.classList.remove("table-fade-in");n.tableElement.classList.add("table-fade-out");t.element(n.tableElement).on("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){n.sourceElement.classList.remove(n.sourceClass);i.publish("/ui/object/resize."+n.originalObjectId);n.sourceElement.classList.remove("chart-fade-out");n.sourceElement.classList.add("chart-fade-in");n.qvis.close();n.tableElement.parentNode.removeChild(n.tableElement);n.toggled=false;n.hideIsAnimating=false;r.resolve(n.toggled)});return r.promise};r.prototype.toggle=function(){return this.toggled?this.hide():this.show()};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(142),n(45),n(64)],r=function(t,e,n){function i(t){return t?e.resolve(t.enigmaModel):n.getApp()}var r={},o=500;r.getLibraryContent=function(t,e){return i().then(function(n){return n.getSnapshotListObject().then(function(n){n.Invalidated&&n.Invalidated.unbind();n.Invalidated.bind(e);return n.getLayout().then(function(e){return e.filter(function(e){var n=true;t&&(n=t===e.qData.sourceObjectId);return!e.qData.isClone&&n})})})})};r.unbindList=function(){return i().then(function(t){return t.getSnapshotListObject().then(function(t){t.Invalidated.unbind()})})};r.getSnapshotCount=function(t){return i().then(function(e){return e.getSnapshotList().then(function(e){var n=0;for(var i=0;i<e.length;i++)e[i].qData.isClone||e[i].qData.sourceObjectId!==t||n++;return n})})};r.create=function(e,n){e&&(e.qInfo={qType:"snapshot"});return i().then(function(i){return i.getSnapshotList().then(function(i){var s=0;for(var a=0;a<i.length;a++)i[a].qData.isClone||s++;var l=s<o;return!!l&&t.create.call(r,e,n).then(function(t){return{limit:l,id:t.id}})})})};r.get=function(e,n){return t.get(e,n)};r.remove=function(e,n){return t.remove(e,n)};r.getEmbedded=function(t){return t.enigmaModel.getSnapshotObject()};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(96),n(67),n(135),n(80)],r=function(t,e,n,i,r){var o=n.NxLocalizedErrorCode;var s,a;function l(t,e,n,i){return t.session.rpc({method:e,handle:-1,params:n||[]}).then(function(t){i&&i(t.result);return t.result})}function c(n,i,r){t.$apply(t.$rootScope,function(){e.getList(n).then(function(t){r&&n.close();i(t)},function(){s&&s({code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"ErrorCode."+o.LOCERR_GENERIC_CONNECTION_LOST})})})}function u(t){r.initClient();if(t instanceof i){this.session=t;this.qEvent=t.options.qEvent}else if(t.app&&t.rpc){var e=i.getIfCached(t.app.id,t.sessionConfig);this.session=e||i.get(t.app.id,t.sessionConfig);this.session.open()}else{this.session=i.get("?transient=",t);this.session.open();this.qEvent=t.qEvent}}u.setErrorCallback=function(t,e){s=t;a=e};u.get=function(t){t=t||{};this._qEvent&&(t._qEvent=this._qEvent);var e=r.makeConfig(t);e.onError=s?function(t){t=t||{};t.code!==o.LOCERR_GENERIC_CONNECTION_LOST&&s(t||{code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:s;return new u(e)};u.getAppList=function(t,e){var n=r.makeConfig(e);n.onError=s?function(t){t=t||{};t.code!==o.LOCERR_GENERIC_CONNECTION_LOST&&s(t||{code:o.LOCERR_GENERIC_CONNECTION_LOST,message:"Connection lost"})}:s;a&&(n.onWarning=a);var l=i.get("?transient=",n);l.open();c(l,t,true)};u.prototype.getAppList=function(t){c(this.session,t,false)};u.prototype.getAuthenticatedUser=function(t){return l(this,"GetAuthenticatedUser",[],t)};u.prototype.isPersonalMode=function(t){return l(this,"IsPersonalMode",[],t)};u.prototype.getQTProduct=function(t){return l(this,"QTProduct",[],t)};u.prototype.getProductVersion=function(t){return l(this,"ProductVersion",[],t)};u.prototype.cancelReload=function(){return l(this,"CancelReload")};u.prototype.getProgress=function(t,e){return l(this,"GetProgress",[t],e)};u.prototype.GetProgress=function(t,e){return this.getProgress(t,e)};u.prototype.on=function(t,e){this.qEvent.register({scope:"QGlobal",name:t,callback:e})};u.prototype.off=function(t){this.qEvent.clear(t)};return u}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(57),n(143),n(80)],r=function(t,e,n){function i(t,n,i){Object.defineProperties(this,{qFallbackTitle:{value:t.qFallbackTitle},qSortIndicator:{value:t.qSortIndicator},qReverseSort:{value:t.qReverseSort||false},col:{value:n},isOrderedBy:{value:n===i.qHyperCube.qEffectiveInterColumnSortOrder[0]},isDimension:{value:n<i.qHyperCube.qDimensionInfo.length},selections:{value:[]},parent:{value:i}});this.isDimension?Object.defineProperties(this,{qCardinal:{value:t.qCardinal},qStateCounts:{value:t.qStateCounts},qDimensionInfo:{value:t}}):Object.defineProperties(this,{qMax:{value:t.qMax},qMin:{value:t.qMin},qMeasureInfo:{value:t}});t.qGroupFieldDefs&&t.qGroupFieldDefs.length>0&&Object.defineProperties(this,{field:{value:i.app.field(t.qGroupFieldDefs[t.qGroupPos])}});t.qError&&Object.defineProperties(this,{errorCode:{value:t.qError.qErrorCode},errorMessage:{value:this.isDimension?e.getDimensionError(t.qError.qErrorCode):e.getMeasureError(t.qError.qErrorCode)}})}i.prototype.orderBy=function(){var t=[this.col];this.parent.qHyperCube.qEffectiveInterColumnSortOrder.forEach(function(e){e!==t[0]&&t.push(e)});var e=[{qPath:"/"+this.parent.defPath+"/qInterColumnSortOrder",qOp:"replace",qValue:"["+t.join(",")+"]"}];return this.parent.model.applyPatches(e,true)};i.prototype.reverseOrder=function(){var t=this.col<this.parent.qHyperCube.qDimensionInfo.length;var e=[{qPath:"/"+this.parent.defPath+(t?"/qDimensions/"+this.col:"/qMeasures/"+(this.col-this.parent.qHyperCube.qDimensionInfo.length))+"/qDef/qReverseSort",qOp:"replace",qValue:(!this.qReverseSort).toString()}];return this.parent.model.applyPatches(e,true)};i.prototype.isSelected=function(t){return this.selections.indexOf(t)>-1};i.prototype.toggleSelect=function(t){var e=this.selections.indexOf(t);e<0?this.selections.push(t):this.selections.splice(e,1)};i.prototype.selectRange=function(t,e,n,i){var r={qMeasureIx:this.col-this.parent.qHyperCube.qDimensionInfo.length,qRange:{qMin:t,qMax:e,qMinInclEq:n,qMaxInclEq:i}};return this.parent.model.rangeSelectHyperCubeValues("/"+this.parent.defPath,[r],[],false)};function r(t,e,n,i){Object.defineProperties(this,{qDimensionInfo:{value:e},qText:{value:t.qIsOtherCell?e.othersLabel:t.qText},qElemNumber:{value:t.qElemNumber},qState:{value:t.qState},col:{value:n},selected:{get:function t(){return this.header.isSelected(this.qElemNumber)}},header:{get:function t(){return this.parent.headers[this.col]}},parent:{value:i}});isNaN(t.qNum)||Object.defineProperties(this,{qNum:{value:t.qNum}})}r.prototype.select=function(){this.header.toggleSelect(this.qElemNumber);return this.parent.view&&this.parent.view.selectValues?this.parent.view.selectValues(this.col,[this.qElemNumber],true):this.parent.model.selectHyperCubeValues("/"+this.parent.defPath,this.col,[this.qElemNumber],true)};function o(t,e,n){Object.defineProperties(this,{qMeasureInfo:{value:e},qGrandTotal:{value:n},qText:{value:t.qText}});isNaN(t.qNum)||Object.defineProperties(this,{qNum:{value:t.qNum}})}o.prototype.getPercentOfMax=function(){return Math.round(100*this.qNum/this.qMeasureInfo.qMax*100)/100};o.prototype.getPercent=function(){return Math.round(100*this.qNum/this.qGrandTotal.qNum*100)/100};function s(t,e,n){var i=[],s=[],a=[],l=e.qDimensionInfo.length,c=e.columnOrder;t.forEach(function(t,a){a<l?i.push(new r(t,e.qDimensionInfo[a],a,n)):s.push(new o(t,e.qMeasureInfo[a-l],e.qGrandTotalRow[a-l]))});c?c.forEach(function(t){a.push(t<l?i[t]:s[t-l])}):a=i.concat(s);Object.defineProperties(this,{dimensions:{value:i},measures:{value:s},cells:{value:a}})}function a(e,n,i){t.create(this,"OnData");Object.defineProperties(this,{app:{value:e},path:{value:i||"qHyperCube"},defPath:{get:function t(){return this.path+"Def"}},rows:{value:[]},headers:{value:[]},totals:{value:[]},rowCount:{get:function t(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcy}},colCount:{get:function t(){if(this.qHyperCube&&this.qHyperCube.qSize)return this.qHyperCube.qSize.qcx}}});if("function"===typeof n.then){var r=this;n.then(function(t){l(r,t)})}else{var o=n.backendApi?n.backendApi.model:n;l(this,o,n.backendApi?n:void 0)}}function l(t,e,n){Object.defineProperties(t,{model:{value:e},view:{value:n}});c(t);if(t.model&&t.model.Validated){t._OnModelValid=function(){c(t)};t.model.Validated.bind(t._OnModelValid)}}function c(t){!t.qHyperCube&&t.model.layout&&(t.qHyperCube=t.model.layout[t.path]);if(t.model&&t.model.layout&&t.model.layout.qSelectionInfo&&t.model.layout.qSelectionInfo.qInSelections)return;t.headers.length=0;t.totals.length=0;t.rows.length=0;if(t.qHyperCube){var e=t.qHyperCube.qDimensionInfo?t.qHyperCube.qDimensionInfo.length:0,n=t.qHyperCube.columnOrder;t.qHyperCube.qDimensionInfo&&t.qHyperCube.qDimensionInfo.forEach(function(e,r){if(n){var o=n.indexOf(r);t.headers[o]=new i(e,r,t)}else t.headers.push(new i(e,r,t))});t.qHyperCube.qMeasureInfo&&t.qHyperCube.qMeasureInfo.forEach(function(r,o){if(n){var s=n.indexOf(o+e);t.headers[s]=new i(r,o+e,t)}else t.headers.push(new i(r,o+e,t))});t.qHyperCube.qGrandTotalRow&&t.qHyperCube.qGrandTotalRow.forEach(function(e,n){t.totals.push(new o(e,t.qHyperCube.qMeasureInfo[n]))});u(t,t.qHyperCube.qDataPages)}t.OnData.emit()}function u(t,e){e&&e.forEach(function(e){e.qMatrix.forEach(function(e){t.rows.push(new s(e,t.qHyperCube,t))})})}a.prototype.getMoreData=function(){if(this.requestActive)return;if(this.rowCount<=this.rows.length)return;this.requestActive=true;var t=this,e={qTop:this.rows.length,qLeft:0,qWidth:this.colCount,qHeight:50};return t.view?t.view.backendApi.getData([e]).then(function(e){u(t,e);t.requestActive=false;t.OnData.emit()}):t.qHyperCube?t.model.getHyperCubeData("/qHyperCubeDef",[e]).then(function(e){u(t,e);t.requestActive=false;t.OnData.emit()}):null};a.prototype.getColByName=function(t){if(!t)return;var e=t.toUpperCase(),n;this.headers.forEach(function(t,i){t.qFallbackTitle.toUpperCase()===e&&(n=i)});return n};a.prototype.exportData=function(t,e){t=t||{};return this.model.exportData(t.format||"OOXML","/"+this.defPath,t.filename,t.state||"P").then(function(i){var r=this.app.global;var o=r&&r.session.options;o=n.makeConfig(o);var s=o.prefix+i.qUrl.substring(1);t.download&&window.open(s);e&&e(s);return s}.bind(this))};a.prototype.destroy=function(){if(this.model&&this.model.Validated&&this._OnModelValid){this.model.Validated.unbind(this._OnModelValid);delete this._OnModelValid}};return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(45),n(201),n(409),n(47)],r=function(t,e,n,i,r,o){var s={template:r,scope:{id:"@",app:"=",object:"=",onDone:"=",size:"=",area:"="},controller:["$scope","$element",function(t,e){var n=l(t.id,t.object,t.area,t.app),i={width:t.size.width,height:t.size.height},r=n.snap;t.data=n.data;t.style={width:i.width+"px",height:i.height+"px"};r.then(function(e){t.onDone(e)});t.$on("$destroy",function(){n.cancel()});e.on("$destroy",function(){t.$destroy()})}]};var a=[];function l(t,r,s,a){var l=e.getService("$timeout"),c=n();var u=false;function p(){u=true;c.reject()}var f={object:{}},h=n.all({model:r&&r.model||a.getObject(t),viewState:r&&r.getViewState?r.getViewState():void 0}).then(function(t){if(u)return{};f.model=t.model;f.options={viewState:t.viewState,components:{scrollArea:{show:true}},onRendered:function t(e){c.resolve({doSnap:!e})}};return l(function(){return f.object.loaded?f.object.loaded.then(function(){var t=f.object;if(!t.supportExport()&&"auto-chart"!==o.getValue(t,"ext.type"))return;return c.promise.then(function(e){if(false===e.doSnap||"auto-chart"===o.getValue(t,"ext.type")&&!t.supportExport())return;var n=d(s,f.object.layout,f.object);return i.prepSnapshotData(f.object.layout,f.object,true,{ignoreReducedData:false},false).then(function(t){return f.object.model.app.getLayout().then(function(e){n.snapshotData=i.formatSnapshotForRendering(t,e.qLocaleInfo);return n})})})}):{}},0,false)});return{data:f,snap:h,cancel:p}}function c(e){var n=a.indexOf(e);n>=0&&a.splice(n,1);var i=t(e).children("div");if(i.scope&&i.scope()){i.scope().$destroy();i.scope().destroyComponent()}t(e).remove()}function u(){var t;while(t=a.pop())c(t)}function d(t,e,n){var i=n.ext&&n.ext.libraryInfo&&n.ext.libraryInfo.isThirdParty;var r={id:e.qInfo.qId,type:e.qInfo.qType,snapshotData:null,area:t,children:[],isExtension:i,title:e.title||""};return r}return{snapshot:function e(r,o,l,u,p,f){var h=n();var v={type:"object",size:o,snapshotData:{}};if(l&&l.loaded&&(l.ext&&l.ext.libraryInfo.isThirdParty||o.width===u.width&&o.height===u.height))return l.loaded.then(function(){v=d(p,l.layout,l);if(!l.supportExport())return v;return i.prepSnapshotData(l.layout,l,true,{ignoreReducedData:false},false).then(function(t){return l.model.app.getLayout().then(function(e){v.snapshotData=i.formatSnapshotForRendering(t,e.qLocaleInfo);return v})})});var g=document.createElement("div");g.className="qv-snapshotter";a.push(g);document.body.appendChild(g);t(g).showComponent(s,{id:r,object:l,size:o,area:p,app:f,onDone:function t(e){h.resolve(e);c(g)}});return h.promise},loadObject:l,cancel:function t(){u()}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(44),n(47),n(46),n(41),n(95),n(197),n(45),n(71),n(144)],r=function(t,e,n,i,r,s,a,l,c){var u=1e3,d=null;function p(t){var e=!d||d!==t;if(e){d=t;setTimeout(function(){d=null},u)}return e}function f(t,e,n){var i=new a,r=t.layout,o=r.qInfo.qId;if(p(o))return h(r,t,true,n).then(function(t){delete t.qInfo;return v(e,t)});i.reject();return i.promise}function h(n,i,o,s,c){var u=new a,d=new Date,p=o?e.extend(true,{},n):n;b(i,p,c).then(function(){r.getProperties().then(function(r){p.snapshotData={object:{size:i.objectSize},rtl:void 0!==r.rtl&&r.rtl};i.setSnapshotData(p,s||{}).then(function(){if(o){p.qInfo.qId=e.generateId();p.visualizationType=n.qInfo.qType;p.sourceObjectId=n.qInfo.qId;p.sheetId=l.model?l.model.id:"";p.timestamp=d.getTime();p.isClone=false;p.qMetaDef={title:n.title};p.supportExport=i.supportExport();delete p.qExtendsId;var r=t(".qv-panel-sheet");p.snapshotData.parent={h:r.length?r.height():t(window).height(),w:r.length?r.width():t(window).width()}}else{p.snapshotData.object.origDataPages=i.model.layout.snapshotData.object.origDataPages;p.snapshotData.content&&(p.snapshotData.content.chartData=e.extend(true,{},i.model.layout.snapshotData.content.chartData))}u.resolve(p)})})});return u.promise}function v(t,e){var r=new a;s.create(e).then(function(e){if(e.limit){g(t.find(".qv-object"));r.resolve(e.id)}else i.getService("qvAlertDialog").show({title:n.get("Storytelling.Snapshot.MaxLimitReached.Title"),message:n.get("Storytelling.Snapshot.MaxLimitReached.Text"),closeLabel:n.get("Common.OK")})});return r.promise}function g(e){e.prepend(t('<div class="qv-snapshot-tool-flash '+c.direction+'" />').bind("oanimationend animationend webkitAnimationEnd",function(){t(this).remove()}))}function m(t){return s.getSnapshotCount(t)}function b(t,n,i){var r=[],s=[],l=new a;"undefined"===typeof i&&(i=true);n.qExtendsId&&"text-image"===n.visualization?t.model.app.getObject(n.qExtendsId).then(function(t){t.getProperties().then(function(t){c(t)})}):t.model.getProperties().then(function(t){c(t)});function c(t){d(r,"qStaticContentUrl",n,i);d(s,"qStaticContentUrlDef",t);u();l.resolve(n)}function u(){r.forEach(function(t,n){e.extend(true,t,s[n])})}function d(t,e,n,i){for(var r in n)if(n.hasOwnProperty(r)&&"qHyperCube"!==r&&"qHyperCubeDef"!==r)if(r===e){if(i){delete n[r];n.qStaticContentUrlDef={}}t.push(n.qStaticContentUrlDef)}else"object"===o(n[r])&&d(t,e,n[r],i)}return l.promise}function y(t,e){var i=JSON.stringify({data:t,appLocaleInfo:e||{},language:n.language});return i}return{createSnapshot:f,getNumberOfSnapshots:m,prepSnapshotData:h,prepareStaticContent:b,formatSnapshotForRendering:y}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45)],r=function(t,e){function n(n){return n?e.resolve(n.enigmaModel):t.getApp()}var i={};i.create=function(t,e){return n(e).then(function(e){return e.createSheet(t)})};i.remove=function(t,e){return n(e).then(function(e){return e.destroyObject(t)})};i.get=function(t,e){return n(e).then(function(e){return e.getObject(t)})};i.getList=function(t){return n(t).then(function(t){return t.getSheetListObject()})};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(416),n(72)],r=function(t,e){function n(){}n.getThemeList=function(){return e.getAvailableThemes().then(function(t){return t.custom?t.default.concat(t.custom):t.default})};n.prototype.apply=function(t){return e.applyTheme(t).then(function(t){return t})};n.prototype.get=function(n){return e.getThemeJSON(n).then(function(e){return new t(n,e)})};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e,n,i,r,o,s){if(t instanceof Array&&!t[0].pointInside&&!t.pointInside)throw"The shape must implement a `pointInside` function";this.setShape(t);this.selected=!!e;this.value=n;this.parent=i;this.index=r;this.objectShapes={};if(o){this.parent=o.parent;this.node=o;this.rowIndex=o.data.rowIndex;this.label=o.data.qText;this.id=o.data.qElemNo}s&&t&&(this.objectShapes[s]=t instanceof Array?t:[t])}t.prototype={getShapes:function t(e){return(e||0===e)&&this.objectShapes&&this.objectShapes[e]?this.objectShapes[e]:this.shapes?this.shapes:[this.shape]},addShape:function t(e,n){this.objectShapes[e]instanceof Array||(this.objectShapes[e]=[]);this.objectShapes[e].push(n);this.shapes.push(n)},setShape:function t(e){this.shape=e instanceof Array?e[0]:e;this.shapes=e?e instanceof Array?e:[e]:[]},addValue:function t(e){void 0===this.value&&(this.value=[]);this.value instanceof Array||(this.value=[this.value]);this.value.push(e)}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(113),n(47),n(45),n(417),n(427),n(429),n(430),n(145),n(108),n(431)],r=function(t,e,n,i,r,o,s,a,l){var c;function u(t,e,i,r){s.begin();return t.updateData(i.layout).then(function(){if(!e.isDestroyed&&r.visible){var o=t.$element;i.ext.hasDefaultTemplate()&&(o=o.children().first());return t.paint(o,i.layout)}return n.resolve()}).finally(s.end).catch(function(t){l.trackEvent(l.customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof t?t:t.message,stack:t.stack,extension:i.object&&i.object.type?i.object.type.type:"undefined",isThirdParty:i.object&&i.object.type&&i.object.type.libraryInfo.isThirdParty})})}c=t.extend({$scope:null,$element:null,api:null,view:null,_create:function t(n,i,o,s,a,l,c,u){s.navigation=false!==s.navigation;var d=this._createView(n,i,o,s,l,c,u);var p=new r;if(a.selections){var f=e.extend(true,{},a.selections,s.selections||{});false!==s.selections&&true!==s._disableSelections&&this._createSelections(d,n,i,f,p)}a.tooltips&&false!==s.tooltips&&this._createTooltip(d,n,i,e.extend(true,{},a.tooltips,s.tooltips||{}),p,s.cssTransform,u);return d},_createView:function t(e,n,i,r,o,s,a){return new i(e,n,r,o,s,a)},_createSelections:function t(e,n,i,r,o){var s=this.selectionService.createSelections(n,i,r,o);e.setSelections(s);return s},_createTooltip:function t(e,n,r,o,s,a,l){var c=new i(r,o,s);c.setCssTransform(a);l.cancel=function(){c.cancel()};e.setTooltips(c)},init:function t(e,n,i){this.$scope=e;this.$element=n;this.selectionService=i;var r=this,o=this.view=this._create(e,n,e.ext.View,e.options,e.ext.options,e.backendApi,e.selectionsApi,e.tooltipApi);o.initialize();this._handleSpecialCaseForSyntaxSugarInExtension(o);o.mounted(n);e.$on("$destroy",function(){if(o){o.beforeDestroy();o.destroy(o);e.options=null;r.view=null;r.isDestroyed=true;o=null}})},_handleSpecialCaseForSyntaxSugarInExtension:function t(e){var n=this.$scope.object.ext,i=["View","constructor","options","init"],r;for(r in n){if(-1!==i.indexOf(r))continue;e[r]&&(e[r]=n[r])}},onPaint:function t(e,i){var r=this.view;var s=this.$scope;var a=this;var l=s.object&&s.object.model;if(!r||r.suppressOnPaint(s.layout)||!l)return n.resolve();o.isModalSelectionModel(l)&&r.selectionsApi&&r.selectionsApi.confirm();r.refreshSelections();r.prePaint(s.layout);return s.ext.options&&s.ext.options.usingDerivedProperties&&!s.backendApi.isSnapshot?l.getEffectiveProperties().then(function(t){return r.updateDerivedProperties(t,s.layout).then(function(t){return t?n.resolve(false):u.call(this,r,a,s,i)})}).catch(function(){}):u.call(this,r,a,s,i)},onResize:function t(e,i){var r=this.view;var o=this.$scope;r.refreshSelections();return n.resolve().then(function(){var t=r.$element;o.ext.hasDefaultTemplate()&&(t=t.children().first());return r.resize(t,e,i)}).catch(function(){})},setInteractionState:function t(e){this.view&&this.view.setInteractionState(e)},setFreeResize:function t(e){this.view&&this.view.setFreeResize(e)},setDirection:function t(e){this.view&&this.view.setDirection(e)},setBackendApi:function t(e){this.view.setBackendApi(e)},setSnapshotData:function t(e,n){return this.view.setSnapshotData(e,n)},getContextMenu:function t(e,n,i){return this.view.getContextMenu(e,n,i)},getSelectionToolbar:function t(){var e=this.view.getSelectionToolbar();if(Array.isArray(e))return new a(this.$scope.backendApi,this.$scope.selectionsApi,false,false,e,[]);return e},getViewState:function t(){return this.view.getViewState()},getPreferredSize:function t(){return this.view.getPreferredSize()}});c.$inject=["$scope","$element","qvDefaultViewSelectionService"];return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(53),n(98),n(418)],r=function(t,e,n,i){function r(t){var e=this.indexOf(t);if(e>=0)return this.splice(e,1);return null}function o(t,e){return Object.keys(e).filter(function(n){return e[n].filter(function(e){return e===t}).length})[0]}var s=e.extend({init:function e(n,r){this.options=t.extend(true,{},{components:{}},r);this._selectedShapes=[];this._cssTransform={scale:1};this.components=this.options.components;this.shapesFrom=new i(n,r)},setActiveComponent:function t(e){this.activeComponent=e;this.shapesFrom.activeComponent=e},initComponent:function t(){throw new Error("base.js: initComponent has to be implemented in subclass")},setComponent:function t(e,n){var i=Array.isArray(n)?n.concat():[n];i.forEach(function(t){var e=o(t,this.components);e&&this.removeComponent(e,t)},this);switch(e){case"x":case"y":case"dataArea":case"colorLegend":this.components[e]&&this.components[e].forEach(function(t){-1===i.indexOf(t)&&this.deregister(this,t)},this);i.forEach(function(t){this.components[e]&&-1!==this.components[e].indexOf(t)||this.register(this,t)},this);this.components[e]=i;break;default:throw"Key "+e+" not implemented"}},addComponent:function t(e,n){switch(e){case"x":case"y":case"dataArea":case"colorLegend":this.components[e]||(this.components[e]=[]);var i=r.call(this.components[e],n);!i&&this.register(this,n);this.components[e].push(n);break;default:throw"Key "+e+" not implemented"}},removeComponent:function t(e,n){switch(e){case"x":case"y":case"dataArea":case"colorLegend":this.components[e]&&n&&r.call(this.components[e],n);n&&this.components[e]&&this.components[e].length||delete this.components[e];this.deregister(this,n);break;default:throw"Key "+e+" not implemented"}},register:function t(){},deregister:function t(){},getComponent:function t(e,i,r){var o=new n(e-r.x,i-r.y);return Object.keys(this.components).map(function(t){return this.components[t]},this).reduce(function(t,e){return t.concat(e)}).filter(function(t){var e=(t.chartScale||1)*this._cssTransform.scale;return this.getRect(t).pointInside(o.x/e,o.y/e)},this)[0]},getRect:function t(e){return e.rect},getComponentKey:function t(e){return Object.keys(this.components).filter(function(t){return this.components[t].indexOf(e)>=0},this)[0]},getTransformedPoint:function t(e,i,r){var o=this.getRect(this.activeComponent||this.components.dataArea[0]),s=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new n((e-o.x*s*this._cssTransform.scale-r.x)/this._cssTransform.scale,(i-o.y*s*this._cssTransform.scale-r.y)/this._cssTransform.scale)},getPagePoint:function t(e,i,r,o){var s=this.getRect(r||this.activeComponent||this.components.dataArea[0]),a=(this.activeComponent||this.components.dataArea[0]).chartScale||1;return new n(e+s.x*a+o.x,i+s.y*a+o.y)},release:function t(){this.activeComponent=null;this.shapesFrom&&this.shapesFrom.release();this.components=null;this.options.components=null;this.shapesFrom=null}});return s}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53)],r=function(t){var e=t.extend({init:function t(){},tap:{},taptwo:{},tapthree:{},swipe:{},swipetwo:{},rotate:{},mousemove:{},mouseleave:{},mousewheel:{},wheelswipe:{},exclusive:function t(){return false},active:function t(){return true}});return{extend:function n(){return 2===arguments.length?e.extend.call(t,arguments[0],arguments[1]):new(e.extend(arguments[0]))}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(53),n(57),n(209)],r=function(t,e,n,i){var r=t(document),o=[],s="chart-interaction";function a(t){return s+"."+t}function l(t,e){return t.priority-e.priority}function c(t,e){if(t.filter(function(t){return t.target===e.target&&t.container===e.container}).length)return null;e.priority=isNaN(e.priority)?0:e.priority;t.push(e);t.sort(l);return e}function u(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function d(t,e,n){return t.filter(function(t){return t[n]===e})}var p={tap:{containers:[]},taptwo:{containers:[]},tapthree:{containers:[]},swipe:{containers:[]},swipetwo:{containers:[]},wheelswipe:{containers:[]},rotate:{containers:[]}};var f={mousemove:{containers:[]},mouseleave:{containers:[]},mousewheel:{containers:[]},mouseup:{containers:[]}};function h(t,n,i){var r=t.gesture,o=t.action,s=t.item.targets,a;for(var l=0;l<s.length;l++){a=s[l].target;if(a.active(s[l].data)){a.preventDefault&&("touchmove"===n.type||"touchstart"===n.type||"touchend"===n.type?e.WebkitHack.prevent():n.preventDefault());a[r][o]&&a[r][o].apply(this,[n,i,s[l].data]);if(a.exclusive())break}}}function v(t,e,n){var i=t.gesture,r=t.item.targets,o;for(var s=0;s<r.length;s++){o=r[s].target;if(o.active()){o.preventDefault&&e.preventDefault();o[i].apply(this,[e,n,r[s].data]);if(o.exclusive&&o.exclusive())break}}}function g(t,e){t.handlers.start=function(n,i){h.apply(this,[{gesture:e,action:"start",item:t},n,i])};t.handlers.end=function(n,i){h.apply(this,[{gesture:e,action:"end",item:t},n,i])};if(["swipe","swipetwo","wheelswipe","rotate"].contains(e)){t.handlers.update=function(n,i){h.apply(this,[{gesture:e,action:"update",item:t},n,i])};t.handlers.cancel=function(n,i){h.apply(this,[{gesture:e,action:"cancel",item:t},n,i])}}}function m(t,e){var n={id:a(e),options:{preventDefault:false}};Object.keys(t.handlers).forEach(function(e){n[e]=t.handlers[e]});switch(e){case"swipe":n.options.useMomentum=true;n.options.inertia=.5;case"tap":n.options.touches=1;break;case"swipetwo":n.options.useMomentum=true;n.options.inertia=.5;case"taptwo":n.options.touches=2;break;case"tapthree":n.options.touches=3;break;case"wheelswipe":case"rotate":default:break}return n}function b(t){switch(t){case"taptwo":case"tapthree":return"tap";case"swipetwo":return"swipe";case"tap":case"swipe":case"wheelswipe":case"rotate":default:return t}}function y(t,n){var i=p[n].containers.filter(function(e){return e.container===t.container})[0];if(!i){i={container:t.container,targets:[],handlers:{}};g(i,n);i.unbind=e(t.container)[b(n)](m(i,n));p[n].containers.push(i)}c(i.targets,t);return i}function x(e,n){var i=f[n].containers.filter(function(t){return t.container===e.container})[0];if(!i){i={container:e.container,targets:[],handler:null};i.handler=function(t){v.apply(this,[{gesture:n,item:i},t])};var r=n+"."+s+("mousewheel"===n?" DOMMouseScroll."+s:"");var o=t(e.container);o.on(r,i.handler);i.unbindJqueryEvents=function(){o.off(r,i.handler)}}c(i.targets,e);return i}function w(t){switch(t){case"tap":case"swipe":case"taptwo":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":return"touche";case"mousemove":case"mouseleave":case"mousewheel":case"mouseup":return"jquery";default:break}}var q=n.extend({init:function t(){i.mixin(this);this.notification("ShiftToggle");this.notification("CtrlToggle");this.notification("KeyPressed");this.notification("MouseUp");this.notification("MouseLeave");r.on("keydown."+s,function(t){if(16!==t.which||this.shiftPressed){if(17===t.which&&!this.ctrlPressed){this.ctrlPressed=true;this.CtrlToggle.emit(this.ctrlPressed)}}else{this.shiftPressed=true;this.ShiftToggle.emit(this.shiftPressed)}}.bind(this));r.on("keyup."+s,function(t){if(16===t.which&&this.shiftPressed){this.shiftPressed=false;this.ShiftToggle.emit(this.shiftPressed)}else if(17===t.which&&this.ctrlPressed){this.ctrlPressed=false;this.CtrlToggle.emit(this.ctrlPressed)}this.KeyPressed.emit(t.which)}.bind(this));r.on("mouseup."+s,function(t){this.MouseUp.emit(t)}.bind(this));r.on("mouseleave."+s,function(t){this.MouseLeave.emit(t)}.bind(this));this.shiftPressed=false;this.ctrlPressed=false},addInteraction:function t(e,n,i,r,s){var a=c(o,{target:e,container:n,priority:i,types:{},data:s});if(!a)throw new Error("Duplicate add of interaction, potential leak detected.");r.forEach(function(t){if(!e[t])throw new Error("Interaction reciver does not implement the specified interaction type: "+t);switch(t){case"tap":case"taptwo":case"swipe":case"swipetwo":case"wheelswipe":case"tapthree":case"rotate":a.types[t]=y(a,t);break;case"mousewheel":case"mousemove":case"mouseleave":case"mouseup":a.types[t]=x(a,t);break;default:throw"The specified interaction type does not exist: "+t}})},removeInteraction:function t(n,i){var r=d(o,n,"target");i&&(r=d(r,i,"container"));r&&r.length&&r.forEach(function(t){Object.keys(t.types).forEach(function(n){var i=t.types[n];u(i.targets,t);if(!i.targets.length)if("touche"===w(n)){e(i.container).off("*",a(n));u(p[n].containers,i)}else i.unbindJqueryEvents()});u(o,t)})},removeAllInteraction:function t(){Object.keys(p).forEach(function(t){p[t].containers.forEach(function(n){e(n.container).off("*",a(t))});p[t].containers=[]});o=[]}});var _=new q;return{ShiftToggle:_.ShiftToggle,CtrlToggle:_.CtrlToggle,KeyPressed:_.KeyPressed,MouseUp:_.MouseUp,MouseLeave:_.MouseLeave,addInteraction:_.addInteraction,removeInteraction:_.removeInteraction,removeAllInteraction:_.removeAllInteraction,preventGestures:function t(n){if(!n.gestureHandler)throw"Interaction.js, preventGestures: Called with invalid binder";e.preventGestures(n.gestureHandler)},_unitTestExposure:{toucheHandlers:p}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(55)],r=function(t,e){var n=e.Gesture.augment(function(t){this.defaults={which:2,radiusThreshold:3};this.start=function(t,n){if(e.utils.touch)return;if(e.utils.msPointer&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType)return;if(this.isValidMouseButton(t,this.options.which)){this.initiated=true;n.startPoint=n.points[0];this.binder.start.call(this,t,n)}};this.update=function(t,e){if(!this.started&&e.startPoint&&e.startPoint.distanceTo(e.points[0])>=this.options.radiusThreshold){this.started=true;this.binder.update.call(this,t,e)}else this.started&&this.binder.update.call(this,t,e)};this.end=function(t,e){if(this.initiated){this.binder.end.call(this,t,e);this.initiated=false}};function n(){t.apply(this,arguments)}return n});e.gestures.add("wheelswipe",n);function i(t,e){t.gestures.forEach(function(n){n!==e&&t.cancelGesture(n)})}function r(t){var e=0,n=0,i=0,r=60;t.wheelDelta&&(e=t.wheelDelta/r);t.detail&&(e=-t.detail/3);i=e;if(void 0!==t.axis&&t.axis===t.HORIZONTAL_AXIS){i=0;n=-1*e}void 0!==t.wheelDeltaY&&(i=t.wheelDeltaY/r);void 0!==t.wheelDeltaX&&(n=-1*t.wheelDeltaX/r);return{delta:e,deltaX:n,deltaY:i,x:t.pageX,y:t.pageY}}function o(t,e,n){var i,r;return function(){var o=n||this;var s=+new Date,a=arguments;if(i&&s<i+e){clearTimeout(r);r=setTimeout(function(){i=s;t.apply(o,a)},e)}else{i=s;t.apply(o,a)}}}var s={debouceTimer:null};function a(t,e,n){return function(){var i=this,r=arguments,o;n=n||s;l(n);o=setTimeout(function(){t.apply(i,r)},e);n.debounceTimer=o}}function l(t){t=t||s;t.debounceTimer&&clearTimeout(t.debounceTimer);t.debounceTimer=null}function c(e){if(!e)return;e=e.map(function(t){return t.qGroupFieldDefs?t.qGroupFieldDefs[t.qGroupPos||0]:t.qFallbackTitle});t.$rootScope.$broadcast("locked-feedback",[e]);a(function(){t.$rootScope.$broadcast("locked-feedback",[e,true])},100)()}return{getMouseWheelData:r,cancelGestures:i,throttle:o,debounce:a,cancelDebounce:l,showLockedFeedback:c}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){this.handlers=t||[]}t.prototype.register=function(t){this.handlers[t.name]||(this.handlers[t.name]=[]);this.handlers[t.name].push({scope:t.scope,callback:t.callback})};t.prototype.emit=function(t,e){if(this.handlers[t]){var n=this.handlers[t].filter(function(t){return"root"!==t.scope}).length>0;for(var i in this.handlers[t])(n&&"root"!==this.handlers[t][i].scope||!n)&&this.handlers[t][i].callback(e)}};t.prototype.hasHandlers=function(t){return!!this.handlers[t]};t.prototype.clear=function(t){t?delete this.handlers[t]:this.handlers=[]};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44)],r=function(t){var e="[A-Za-zªµºÀ-ÖØ-öø-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͽΆΈ-ϵϷ-҂Ҋ-։ः-हऻऽ-ीॉ-ौॎ-ॐक़-ॡ।-ॿং-হঽ-ীে-ৌৎ-ৡ০-ৱ৴-৺ਃ-ਹਾ-ੀਖ਼-੯ੲ-ੴઃ-હઽ-ીૉ-ૌૐ-ૡ૦-૯ଂ-ହଽ-ାୀେ-ୌୗ-ୡ୦-୷ஃ-ிு-ௌௐ-௲ఁ-ఽు-ౄౘ-ౡ౦-౯౿-ಹಽ-ೋೕ-ೡ೦-ീെ-ൌൎ-ൡ൦-ෆා-ෑෘ-ะา-ำเ-ๆ๏-ະາ-ຳຽ-ໆ໐-༗༚-༴༶༸༾-ཬཿ྅ྈ-ྌ྾-࿅࿇-ာေးျ-ြဿ-ၗၚ-ၝၡ-ၰၵ-ႁႃ-ႄႇ-ႌႎ-ႜ႞-ፚ፠-ᎏᎠ-Ᏼᐁ-ᙿᚁ-ᚚᚠ-ᜑᜠ-ᜱ᜵-ᝑᝠ-ᝰក-ាើ-ៅះ-ៈ។-៚ៜ០-៩᠐-ᢨᢪ-ᤜᤣ-ᤦᤩ-ᤱᤳ-ᤸ᥆-᧚ᨀ-ᨖᨙ-ᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪭ᬄ-ᬳᬵᬻᬽ-ᭁᭃ-᭪᭴-᭼ᮂ-ᮡᮦ-ᮧ᮪-ᯥᯧᯪ-ᯬᯮ᯲-ᰫᰴ-ᰵ᰻-᱿᳓᳡ᳩ-ᳬᳮ-ᶿḀ-ᾼιῂ-ῌῐ-Ίῠ-Ῥῲ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎ-⅏Ⅰ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-ⳤⳫ-ⳮⴀ-⵰ⶀ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ㆺㇰ-㈜㈠-㉏㉠-㉻㉿-㊰㋀-㋋㋐-㍶㍻-㏝㏠-㏾㐀-䶵一-ꒌꓐ-ꘌꘐ-ꙮꚀ-ꛯ꛲-꛷Ꜣ-ꞇ꞉-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠤꠧ꠰-꠷ꡀ-ꡳꢀ-ꣃ꣎-꣙ꣲ-ꤥ꤮-ꥆꥒ-ꥼꦃ-ꦲꦴ-ꦵꦺ-ꦻꦽ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂ-ꯤꯦ-ꯧꯩ-꯬꯰-ﬗＡ-Ｚａ-ｚｦ-ￜ]";var n="[־׀׃׆א-״߀-ߪߴ-ߵߺ-ࠕࠚࠤࠨ࠰-ࡘ࡞‏יִײַ-ﬨשׁ-ﭏ]";var i="[؈؋؍؛-ي٭-ٯٱ-ەۥ-ۦۮ-ۯۺ-܍ܐܒ-ܯݍ-ޥޱﭐ-ﴽﵐ-﷼ﹰ-ﻼ]";var r='[\t-\r-"&-*;-@[-`{-~¡¦-©«-¬®-¯´¶-¸»-¿×÷ʹ-ʺ˂-ˏ˒-˟˥-˭˯-˿ʹ-͵;-΅·϶֊؆-؇؎-؏۞۩߶-߹௳-௸௺౸-౾༺-༽᎐-᎙᐀ ᚛-᚜៰-᠊᠎᥀-᥅᧞-᧿᾽᾿-῁῍-῏῝-῟῭-`´- ‐-\u2029‵-⁃⁅- ⁼-⁾₌-₎℀-℁℃-℆℈-℉℔№-℘℞-℣℥℧℩℺-℻⅀-⅄⅊-⅍⅐-⅟↉-∑∔-⌵⍻-⎔⎖-⒇⓪-⚫⚭-⟿⤀-⭙⳥-⳪⳹-⳿⸀-〄〈-〠〰〶-〷〽-〿゛-゜゠・㇀-㇣㈝-㈞㉐-㉟㉼-㉾㊱-㊿㋌-㋏㍷-㍺㏞-㏟㏿䷀-䷿꒐-꓆꘍-꘏꙳꙾-ꙿ꜀-꜡ꞈ꠨-꠫꡴-꡷﴾-﴿﷽︐-︙︰-﹏﹑﹔﹖-﹞﹠-﹡﹤-﹨﹫！-＂＆-＊；-＠［-｀｛-･￢-￤￨-�]';var o=new RegExp(e);var s=new RegExp(n);var a=new RegExp(i);var l=new RegExp(r);var c=String.fromCharCode(8206),u=String.fromCharCode(8207);var d,p;function f(){void 0===p&&y();return p}function h(t){return o.test(t)}function v(t){return s.test(t)||a.test(t)}function g(t){return l.test(t)}function m(t){var e=t?t.length:0,n,i;for(n=0;n<e;n++){i=t[n];if(h(i))return"ltr";if(v(i))return"rtl"}return"ltr"}function b(t){if(p)return"auto";return m(t)}function y(){var t=document.createElement("div"),e=document.getElementsByTagName("body")[0];t.setAttribute("style","position: absolute; width: 1px; height: 1px; top: -999px; overflow: scroll; white-space:nowrap;");t.setAttribute("dir","rtl");e.appendChild(t);d=x(t);p=w(t);e.removeChild(t)}function x(t){t.innerHTML="RTL-SCROLL-TEST";var e="reverse";if(t.scrollLeft>0)e="default";else{t.scrollLeft=1;0===t.scrollLeft&&(e="negative")}return e}function w(e){e.innerHTML="لا أحد يحب الألم بذاته، يسعى ورائه أو يبت";var n;switch(d){case"reverse":n=false;break;case"default":n=e.scrollLeft>0;break;case"negative":t(e).scrollLeft(-1e3);n=e.scrollLeft<0;break;default:n=false}return n}y();function q(t,e,n){n=isNaN(n)?0:n;if(t&&"reverse"===d)return e+n;return e-n}return{supportDirAuto:f,detectTextDirection:m,getAutoOrAlternativeDirection:b,isLtrChar:h,isRtlChar:v,isNeutralChar:g,lrm:c,rlm:u,scrollImplementation:d,getScrollPos:q}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(132),n(450),n(47)],r=function(t,e,n){var i={getUrlForHub:function e(){return t.buildHubUrl().replace("/noData/true","")},getUrlForSheet:function i(r,o,s){var a=n.getParameterByName("app");o||(o=e.analysis(a).state);if(s)return t.buildUrl(true,"sense","app",a,"sheet",r,"state",o,"overlay",s);return t.buildUrl(true,"sense","app",a,"sheet",r,"state",o)},getUrlForStory:function i(r,o,s){var a=n.getParameterByName("app");"undefined"===typeof o&&(o=e.story(a).state||"editstory");return s?t.buildUrl(true,"sense","app",a,"story",r,"state",o,"slide",s):t.buildUrl(true,"sense","app",a,"story",r,"state",o)},getUrlForOverview:function e(){var i=n.getParameterByName("app");return t.buildUrl(true,"sense","app",i)},getUrlForDataModelViewer:function e(){var i=n.getParameterByName("app");return t.buildUrl(true,"datamodelviewer","app",i)},getUrlForDataLoadEditor:function e(){var i=n.getParameterByName("app");return t.buildUrl(true,"dataloadeditor","app",i)},getUrlForDataManager:function e(){var i=n.getParameterByName("app");return t.buildUrl(true,"sense","app",i,"datamanager","datamanager")},goToHub:function e(){t.setUrl(i.getUrlForHub(),false,false,true)},goToOverview:function e(){t.setUrl(i.getUrlForOverview())},goToDataManager:function e(){t.setUrl(i.getUrlForDataManager())},goToDataModelViewer:function e(){t.setUrl(i.getUrlForDataModelViewer())},goToDataLoadEditor:function e(){t.setUrl(i.getUrlForDataLoadEditor())},goToSheet:function e(n,r,o){t.setUrl(i.getUrlForSheet(n,r,o))},goToStory:function e(n,r,o){t.setUrl(i.getUrlForStory(n,r,o))}};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(454)],r=function(t,e){var n;function i(e,n,i){return t.Event(e,{pageX:i.pagePoints[0].x,pageY:i.pagePoints[0].y,ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey,originalEvent:n,gestureData:i})}e(document.body).tap({options:{preventDefault:false},start:function e(i){n=t(i.target)},end:function t(e,r){var o=i("qv-activate",e,r);0===n.closest(":disabled").length&&n.trigger(o);n=null}});var r=e.Gesture.augment(function(t){this.defaults={precedence:6};this.start=function(t,e){this.binder.start.call(this,t,e)};function e(){t.apply(this,arguments)}return e});e.gestures.add("press",r);e(document.body).press({start:function e(n,r){var o=i("qv-press",n,r);t(n.target).trigger(o)}});t.addOutsideEvent("qv-press","qv-outside","touchstart","touchend")}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55)],r=function(t,e){function n(e,n,i){return t.Event(e,{pageX:i.pagePoints[0].x,pageY:i.pagePoints[0].y,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,originalEvent:n,gestureData:i})}var i;e(document.body).tap({options:{preventDefault:false},start:function e(n){i=t(n.target)}});e(document.body).swipe({options:{preventDefault:false,radiusThreshold:8},start:function t(e,r){var o=n("qv-swipestart",e,r);i.trigger(o)},update:function t(e,r){var o=n("qv-swipeupdate",e,r);i.trigger(o)},cancel:function e(){var n=t.Event("qv-swipecancel");i.trigger(n)},end:function t(o,s){e.utils.isMouse(o)||r();var a=n("qv-swipe",o,s);i.trigger(a)}});function r(){var t;function e(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",i,true);document.removeEventListener("mouseup",r,true)}function n(t){t.preventDefault();t.stopPropagation()}function i(t){t.preventDefault();t.stopPropagation()}function r(n){n.preventDefault();n.stopPropagation();e();clearTimeout(t)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",i,true);document.addEventListener("mouseup",r,true);t=setTimeout(e,350)}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55)],r=function(t,e){var n=e.Gesture.augment(function(n){var i=false;this.defaults={radiusThreshold:10,timeThreshold:510,touches:1,precedence:4,preventDefault:false,which:1,interval:10};this.on=function(t){this.count=0;e(t).longtap({id:this.id,options:{precedence:this.options.precedence,preventDefault:this.options.preventDefault,touches:this.options.touches,which:this.options.which,areaThreshold:this.options.areaThreshold,timeThreshold:this.options.timeThreshold,interval:this.options.interval},start:this.longtapStart.bind(this),update:this.longtapUpdate.bind(this),cancel:this.longtapCancel.bind(this),end:this.longtapEnd.bind(this)}).swipe({id:this.id,options:{precedence:this.options.precedence+1,preventDefault:this.options.preventDefault,radiusThreshold:this.options.radiusThreshold,touches:this.options.touches},start:this.swipeStart.bind(this),update:this.swipeUpdate.bind(this),end:this.swipeEnd.bind(this),cancel:this.swipeCancel.bind(this)})};this.off=function(t){e(t).off("longtap",this.id);e(t).off("swipe",this.id)};this.longtapStart=function(){i=false};this.longtapUpdate=function(t,e){100===e.percentage&&(i=true)};this.longtapEnd=function(){this.binder.cancel()};this.longtapCancel=function(){i||this.binder.cancel()};this.swipeStart=function(e,n){var r=t(e.target).is("input, textarea");i&&!r?this.binder.start(e,n):i&&r&&(i=false)};this.swipeUpdate=function(t,e){i&&this.binder.update(t,e)};this.swipeEnd=function(t,e){if(i){o();this.binder.end(t,e);i=false}};this.swipeCancel=function(){i=false;this.binder.cancel()};function r(){n.apply(this,arguments)}function o(){var t;function e(){document.removeEventListener("mousedown",n,true);document.removeEventListener("mousemove",i,true);document.removeEventListener("mouseup",r,true)}function n(t){t.preventDefault();t.stopPropagation()}function i(t){t.preventDefault();t.stopPropagation()}function r(n){n.preventDefault();n.stopPropagation();e();clearTimeout(t)}document.addEventListener("mousedown",n,true);document.addEventListener("mousemove",i,true);document.addEventListener("mouseup",r,true);t=setTimeout(e,350)}return r});e.gestures.add("longtapswipe",n)}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(45),n(76),n(455),n(92),n(456),n(74),n(174),n(47),n(46),n(457),n(115),n(58),n(113),n(205),n(146),n(201),n(72),n(177),n(209),n(108),n(220),n(469),n(470),n(472),n(476)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w){var q=new l({type:"invalid",path:"objects.error-handling/invalid-type"});function _(){var t=/\.(qlik-stage|qlikcloud)\.com/;var e=window.location.hostname.match(t)||[];return e.length}var C={INVALID:0,RENDERED:1};e.componentDirective("qvObjectContent",{object:"=",backendApi:"=",ext:"=",options:"=",layout:"=",selectionsApi:"=",tooltipApi:"=",throbberApi:"=",onInit:"="},null,function(t,e,n){e.onInit(t,e,n)});function S(t){t.selectionsApi&&t.selectionsApi.active&&t.selectionsApi.confirm()}function D(t,n){var i;function r(){return!t.options||false!==t.options.isVisible}function o(){S(n)}function s(){if(!r())return;e.$apply(t,function(){n.resize()});n.throbberApi.resize();n.explore.resize()}function l(){i||(i=setTimeout(function(){s();clearTimeout(i);i=null},100))}t.$on("resizeCell",function(){l()});a.subscribe("/ui/object/resize."+t.$id,function(){l()});f.on("start."+t.$id,o);t.$on("$destroy",function(){clearTimeout(i);a.unsubscribe("."+t.$id);f.off("start."+t.$id,o)})}function E(t,e){t.object._forcePaint=true;function n(n){if(!t.model.isCancelled){t.layout=n;e.setLayout(n,t.options)}}function i(t){if(!t)return;e.model&&s(e.model);o(t);e.setModel(t)}function r(){e.setRenderState(C.INVALID)}function o(i){i.Invalidated&&!i.isCancelled&&i.Invalidated.bind(r);e.subscription=t.model.layoutSubscribe(n)}function s(n){n&&n.Invalidated&&n.Invalidated.unbind(r);n&&n.isValidating&&t.options._softCancelOnRemove&&n.markAsCancelled();e.subscription&&e.subscription.dispose()}t.$watch("model",i);t.$on("$destroy",function(){s(t.model)})}function k(t){return parseInt(t)/13+"em"}function T(t,e){if(!e.qInfo)return;var n=b.initializeService("object."+b.getMatch(e.visualization||e.qInfo.qType));t.styles={backgroundColor:{"background-color":n.getStyle("","backgroundColor")},title:{"font-size":k(n.getStyle("title.main","fontSize")),color:n.getStyle("title.main","color")},subTitle:{"font-size":k(n.getStyle("title.subTitle","fontSize")),color:n.getStyle("title.subTitle","color")},footer:{"font-size":k(n.getStyle("title.footer","fontSize")),color:n.getStyle("title.footer","color"),"background-color":n.getStyle("title.footer","backgroundColor")}}}function A(t,n,i,o){var s,a,l,c;var d,f;n.setObjectClass=function(e){c||(c=i.find(".qv-object"));if(c[0]){(e||void 0===d)&&(d=c[0].clientWidth);(e||void 0===f)&&(f=c[0].clientHeight)}var o=r.getLayoutMode(d,f);var s=n.type&&n.type.type;var a=[];n._inEditState&&a.push("qv-mode-edit");n.hasValidContent()||a.push("qv-incomplete");n.supportSnapshot()&&a.push("qv-can-take-snapshot");n.selectionsApi&&n.selectionsApi.active&&a.push("qv-selections-active");n.objectSize={w:d,h:f};t.options.layoutMode=o;var l="qv-layout-"+r.getLayoutModeKey(o);a.push(l);t.objectClass="qv-object-"+s;a.push(t.objectClass);n.selectionClass&&a.push(n.selectionClass);t.classList=a;t.wrapperClassList=[];t.object&&t.object.hasFrame&&t.object.showTitles&&!!t.layout.footnote&&t.wrapperClassList.push("has-footnote");t.options.thinHeader=!n.showTitles||""===t.layout.title&&""===t.layout.subtitle&&!n._inEditState};function h(){return!t.options||false!==t.options.isVisible}n.update=function(){if(!this.valid)return;T(t,t.layout);var i=this;s=e.getService("$timeout")(function(){n.backendApi&&n.backendApi.updateCache(t.layout);n.setObjectClass();t.$digest();i.loadContent();var e=n.type===q&&t.options.hardError;o.contentLoaded().then(function(i){if(!i.isDestroyed)try{return i.onPaint(t.layout,{visible:h()}).then(function(i){if(false===i)return;if(e){n.setRenderState(C.INVALID);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null,"INVALID")}else{n.setRenderState(C.RENDERED);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null)}}).catch(function(){n.setRenderState(C.INVALID);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null)})}catch(e){n.setRenderState(C.INVALID);n.error={class:"hard-error",title:u.get("Object.Error"),message:u.get("Object.ErrorMessage.RenderingFailed",n.ext&&n.ext.type)};w.trackEvent(w.customEvents.EXTENSION_PAINT_ERROR,{message:"string"===typeof e?e:e.message,stack:e.stack,extension:n.type?n.type.type:"undefined",isThirdParty:n.type&&n.type.libraryInfo.isThirdParty});o.updateContent(p).then(function(i){i.onPaint(t.layout,{visible:false}).then(function(){n.setRenderState(C.RENDERED);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null,e)})});throw e}})})};n.resize=function(){if(!h())return;n.setRenderState(C.INVALID);a=e.getService("$timeout")(function(){n.setObjectClass(true);o.contentLoaded().then(function(e){e.isDestroyed||e.onResize(t.layout).then(function(){n.setRenderState(C.RENDERED)}).catch(function(){})}).catch(function(){})})};n.onResize=function(){o.contentLoaded().then(function(e){e.onResize(t.layout).then(function(){n.setRenderState(C.RENDERED)})})};t.$on("$destroy",function(){var t=e.getService("$timeout");t.cancel(s);t.cancel(a);l&&l.reject()})}function I(t,r,o,s){var a=n(),l;o.loaded=a.promise;o.valid=false;o.loadContent=function(){var e={options:t.options,object:o,layout:t.layout,ext:o.ext};var n;n=o.ext.hasError(e)?p:o.ext.showRequirements(e)?d:o.ext;s.updateContent(n)};o.reset=function(){if(!this.valid)return;t.options=c.extend({},t.resetOptions,{isZoomed:t.options.isZoomed,interactionState:t.options.interactionState,direction:t.options.direction,onRendered:t.options.onRendered});a=n();this.loaded=a.promise;this.valid=false};o.validate=function(){if(this.valid)return;if(this.layout&&this.type&&this.ext){this.valid=true;a.resolve()}};o.setExtension=function(e){this.ext=e;t.ext=e;if("invalid"!==e.type){e.mapProperties(this.model);this.setBackendApi();if(e.migrate){this.model.migrate={properties:e.migrate.properties||function(t){return t},snapshot:e.migrate.snapshot||function(t){return t}};"function"===typeof e.migrate.snapshot&&y.isSnapshotData(this.model.layout)&&e.migrate.snapshot(this.model.layout)}else this.model.migrate={properties:function t(e){return e},snapshot:function t(e){return e}}}this.validate();this.update();this.ext.model=this.model};o.setBackendApi=function(){var e=t.options.APIType||this.ext.BackendApi;var n=this.backendApi=new e(this.model);s.contentLoaded().then(function(t){t.setBackendApi(n)})};o.setType=function(n,i){this.backendApi&&this.backendApi.destroy();this.ext=null;this.backendApi=null;this.hasContent=false;this.type=n;n.load().then(function(a){if(o.type!==n)return;n!==q&&(o.error=null);function l(){o.setExtension(a);O(t,r,o,s);if(i){e.$rootScope.$broadcast("refreshPropertyPanel");e.$rootScope.$broadcast("reloadExploreContent")}}if("function"===typeof a.init){var c=a.init.call(null,r,o.layout);c&&"function"===typeof c.then?c.then(function(){l()},function(e){o.setRenderState(C.INVALID);o.error={class:"hard-error",title:u.get("Object.Invalid.Title"),message:e||u.get("Object.ErrorMessage.RenderingFailed",a.type)};s.updateContent(p).then(function(n){n.onPaint(t.layout,{visible:false}).then(function(){o.setRenderState(C.RENDERED);"function"===typeof t.options.onRendered&&t.options.onRendered.call(null,e)})});l()}):l()}else l()},function(){o.setType(q);_()?o.error={class:"hard-error",title:u.get("Object.Invalid.Title"),message:u.get("Object.ErrorMessage.NotFound.Cloud.Extensions",n.type)}:o.error={class:"hard-error",title:u.get("Object.Invalid.Title"),message:u.get("Object.ErrorMessage.NotFound",n.type)};o.isInvalid=true;o.setObjectClass()})};o.setModel=function(t){this.model=t;if(this.ext){this.ext.model=t;this.setBackendApi()}};o.on=function(){s.contentLoaded().then(function(t){t.view&&t.view.on()})};o.off=function(){s.contentLoaded().then(function(t){t.view&&t.view.off()})};o.isOn=function(){return s.contentLoaded().then(function(t){return t.view?t.view.isOn():null})};o.setInteractionState=function(n){o._interactionState=n;o._inEditState=n===g.EDIT;o._inAnalysisState=n===g.ANALYSIS;t.options.interactionState=n;this._inEditState&&o.viewDataToggled&&o.toggleDataView();s.contentLoaded().then(function(t){n!==g.ANALYSIS&&S(o);t.setInteractionState(n);e.getService("$timeout").cancel(l);l=e.getService("$timeout")(function(){o.setObjectClass()})})};o.getInteractionState=function(){return o._interactionState};o.inAnalysisState=function(){return o._inAnalysisState};o.inEditState=function(){return o._inEditState};o.setFreeResize=function(e){t.options.freeResize=e;s.contentLoaded().then(function(t){t.setFreeResize(e)})};o.setDirection=function(e){if(!e||t.options.direction===e)return;t.options.direction=e;s.contentLoaded().then(function(t){t.setDirection(e);o.update()})};o.setLayout=function(t){this.layout=t;var e=t.visualization||t.qInfo&&t.qInfo.qType;var n=i.getType(e);var r=n;t.extensionMeta&&t.extensionMeta.name&&(r=t.extensionMeta.name);if(t.qError){n=q;this.error={title:"Object.Error",message:"Object.Invalid.Info"}}if(!n){n=q;_()?this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound.Cloud.Extensions",r,e]}:this.error={title:"Object.Invalid.Title",message:["Object.ErrorMessage.NotFound",r,e]}}if(this.ext&&this.ext.hasNewType&&this.ext.hasNewType(this,n,t)||this.type!==n){this.reset();this.setType(n,!!this.type)}this.isInvalid=n===q;this.isLink=!this.isInvalid&&!!t.qExtendsId;this.showTitles=false!==t.showTitles;this.validate();this.update()}}function O(n,i,r){function o(e){var n=t(e.target);if(r.selectionsApi.ignoreOnOutside(n))return;r.selectionsApi.getDockToElement().off(".object");r.selectionsApi.confirm()}r.activateSelections=function(){if("undefined"===typeof r.ext.options.selections)return;r.inAnalysisState()&&r.selectionsApi.activate()};r.selectionsApi&&"function"===typeof r.selectionsApi.destroy&&r.selectionsApi.destroy();function s(){r.backendApi&&r.backendApi.endSelections(true);return null}r.tooltipApi={cancel:function t(){},destroy:function t(){}};r.selectionsApi={destroy:function e(){this._activatedCallbacks=[];this._deactivatedCallbacks=[];t(window).off("onbeforeunload",s)},active:false,selectionsMade:false,_activatedCallbacks:[],_deactivatedCallbacks:[],on:function t(){},off:function t(){},ignoreOnOutside:function t(e){return!!(e.closest(".qv-selection-toolbar").length||e.closest(".selections-data-area-ui").length)},getDockToElement:function t(){return i},getMenuMaxHeight:function t(){return r.selectionsApi.getDockToElement().outerHeight()},getSelectionToolbarWidthOffset:function t(){return 0},refreshToolbar:function t(){e.getService("qvSelectionToolbarService").refresh()},watchActivated:function t(e){this._activatedCallbacks.push(e);return function(){var t=this._activatedCallbacks.indexOf(e);this._activatedCallbacks.splice(t,1)}.bind(this)},activated:function a(l){this.active=true;l||r.backendApi.beginSelections();t(window).on("onbeforeunload",s);if(!n.options.isPopover){this.getDockToElement().on("qv-outside.object",o);e.$apply(n,function(){r.setObjectClass();r.getSelectionToolbar().then(function(t){var o={toolbar:t,selectionsApi:r.selectionsApi,options:n.options,menuMaxHeight:r.selectionsApi.getMenuMaxHeight(),offsetWidth:r.selectionsApi.getSelectionToolbarWidthOffset()};var s=i.parent().closest(".qv-object-wrapper").length?i.parent().closest(".qv-object-wrapper"):i;e.getService("qvSelectionToolbarService").open(s,r.selectionsApi.getDockToElement(),o)})})}this._activatedCallbacks.forEach(function(t){t.call(this)},this)},watchDeactivated:function t(e){this._deactivatedCallbacks.push(e);return function(){var t=this._deactivatedCallbacks.indexOf(e);this._deactivatedCallbacks.splice(t,1)}.bind(this)},deactivated:function i(){t(window).off("onbeforeunload",s);this.active=false;this.selectionsMade=false;r.tooltipApi.cancel();if(!n.options.isPopover){r.selectionsApi.getDockToElement().off(".object");e.$apply(n,function(){r.setObjectClass();e.getService("qvSelectionToolbarService").close()})}this._deactivatedCallbacks.forEach(function(t){t.call(this)},this)},confirm:function t(){r.selectionsApi.deactivateSearch&&r.selectionsApi.deactivateSearch();r.backendApi.endSelections(true);r.tooltipApi.cancel();this.deactivated()},cancel:function t(){r.selectionsApi.deactivateSearch&&r.selectionsApi.deactivateSearch();r.backendApi.endSelections(false);r.tooltipApi.cancel();this.deactivated()},clear:function t(){r.backendApi.clearSelections();r.tooltipApi.cancel();this.selectionsMade=false},toggleKeyboardAccelerators:function t(){},getKeyAsToggleSelected:function t(e){return!(e.metaKey||e.ctrlKey)},search:function t(){},confirmSearch:function t(){},cancelSearch:function t(){},activate:function t(){if(this.active)return;this.activated()},notifyLockedSelections:function t(e){x.showLockedFeedback(e)}};r.selectionsApi.watchDeactivated(function(){n.$emit("childSelectionActive",false)});r.selectionsApi.watchActivated(function(){n.$emit("childSelectionActive",true)})}function L(t,n){var i,r,o;n.throbberApi&&"function"===typeof n.throbberApi.destroy&&n.throbberApi.destroy();function s(i,s){e.getService("$timeout").cancel(r);e.getService("$timeout").cancel(o);if(n.selectionsApi&&n.selectionsApi.active)n.throbberApi.hide();else if(t.model&&void 0===t.model.state)n.throbberApi.show();else if(t.model&&t.model.isCancelled)n.throbberApi.isQueryCanceled=true;else if(i){r=e.getService("$timeout")(function(){t.model&&t.model.isValidating&&n.throbberApi.show()},s);o=e.getService("$timeout")(function(){if(true===n.throbberApi.isVisible){n.throbberApi.isLongRunningQuery=true;n.throbberApi.isQueryCanceled=false}},8e3)}else{n.throbberApi.hide();n.throbberApi.isLongRunningQuery=false}}n.throbberApi={resizeCallbacks:[],isVisible:false,isLongRunningQuery:false,isQueryCanceled:false,initialize:function e(){i=t.$watch("model.isValidating",function(t){s(t,1e3)})},reset:function t(e){s(e,0)},show:function t(){n.throbberApi.isVisible=true;n.throbberApi.isQueryCanceled=false;n.throbberApi.isLongRunningQuery=false},hide:function t(){n.throbberApi.isVisible=false;n.throbberApi.isLongRunningQuery=false;e.getService("$timeout").cancel(r);e.getService("$timeout").cancel(o)},off:function t(){i();e.getService("$timeout").cancel(r);e.getService("$timeout").cancel(o)},destroy:function t(){n.throbberApi.off();n.throbberApi.resizeCallbacks.length=0},resize:function t(){n.throbberApi.resizeCallbacks.forEach(function(t){t()})},watchResize:function t(e){var i=n.throbberApi.resizeCallbacks;i.push(e);return function t(){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}};n.throbberApi.initialize()}function P(t,e){e.explore={resizeCallbacks:[],resize:function t(){e.explore.resizeCallbacks.forEach(function(t){t()})},watchResize:function t(n){e.explore.resizeCallbacks.push(n)},unwatchResize:function t(n){var i=e.explore.resizeCallbacks.indexOf(n);-1!==i&&e.explore.resizeCallbacks.splice(i,1)},destroy:function t(){e.explore.resizeCallbacks=[]}}}e.directive("qvObject",function(){return{restrict:"E",replace:true,template:s,scope:{options:"=",model:"=",object:"=?",navMenu:"=",snapshot:"=?"},controller:["$scope","qvDefaultViewSelectionService",function(t,e){var i=n();this.updateContent=function(e){var r=t.object;if(r&&r.content!==e){"undefined"!==typeof r.content&&(i=n());r.content=e}return i.promise};this.contentLoaded=function(){return i.promise};t.onInit=function(t,n,r){t instanceof h||(t=new(v.extend(t))(n,r,e));i.resolve(t)}}],link:function i(r,s,a,l){var u=r.object={},f;r.options||(r.options={});r.options.zoomEnabled=!!a.zoomObject;r.resetOptions=c.extend({},r.options);Object.defineProperties(u,{hasFrame:{get:function t(){return!r.options.isPopover&&!u.isInvalid}},isReadonly:{get:function t(){return!u||u.isLink||u.isInvalid||r.options.isReadonly}},isInteractive:{get:function t(){return!!u&&r.options.interactionState!==g.STATIC}},hasSoftProperties:{get:function t(){return!!this.ext&&!!this.ext.mappedSoftDefinition}}});u.getCreatePropertyHandler=function(){var t=u.model.app;return u.ext.getCreatePropertyHandler(t)};u.getPropertyPanelContent=function(){return u.loaded.then(function(){var t=u.getCreatePropertyHandler();var e=u.ext.mappedDefinition||u.ext.definition;var n=u.ext.globalChangeListeners;return{definition:e,globalChangeListeners:n,type:u.type,app:u.model.app,backendApi:u.backendApi,handler:t,iconName:u.ext.libraryInfo.icon,titleRef:"title",ext:u.ext}})};u.getSoftPropertyContent=function(){return u.loaded.then(function(){var t=u.ext.mappedSoftDefinition||u.ext.softDefinition;return{definition:t,type:u.type,backendApi:u.backendApi}})};u.setSnapshotData=function(t,e){return l.contentLoaded().then(function(n){return n.setSnapshotData(t,e)})};u.getViewState=function(){return l.contentLoaded().then(function(t){return t.getViewState?t.getViewState():void 0})};u.getPreferredSize=function(){return l.contentLoaded().then(function(t){var e=t.getPreferredSize();return e?e.then(function(t){var e=s.find("footer"),n=s.find("header"),i=35;return{w:t.w,h:t.h+(e.height()||0)+(n.height()||0)+i+s[0].offsetTop}}):void 0})};u.getSnapshotLayout=function(){return u.loaded.then(function(){return l.contentLoaded().then(function(){return m.prepSnapshotData(u.model.layout,u,true)})})};u.toggleDataView=function(){return l.contentLoaded().then(function(t){if(t.view&&"function"===typeof t.view.toggleDataView){void 0===t.view.toggled&&t.view.initDataView(s[0].parentElement);return t.view.toggleDataView().then(function(e){if(e){u.dataViewObject=t.view.getDataViewObject();u.dataViewObject.setOnBlurHandler(u.blur)}u.viewDataToggled=e})}return n.resolve()})};u.getDropOptions=function(t,e){return u.loaded.then(function(){return l.contentLoaded().then(function(){return u.ext.getDropOptions(u,t,e)})})};u.getContextMenu=function(t,e){return l.contentLoaded().then(function(n){return n.getContextMenu(u,t,e)})};u.getObjectMenu=function(t){return l.contentLoaded().then(function(e){return e.getObjectMenu(u,t)})};u.getSelectionToolbar=function(){return u.loaded.then(function(){return l.contentLoaded().then(function(t){return t.getSelectionToolbar()})})};u.reloadContent=function(){r.ext=u.ext=t.extend({},u.ext);u.loadContent();u.update()};u.canShowExploreMenu=function(){var t=this.content===d||this.content===p;return!this.isInvalid&&this.hasSoftProperties&&!t};function h(t,e,n){var i=u&&r.ext&&!(r.model&&!r.model.isValid&&!r.model.isValidating);e||(i=i&&t!==d);n||(i=i&&t!==p);return i}function v(t){var e=r.ext&&r.ext.support[t];if("function"===typeof e)return e.call(null,r.layout);if("boolean"===typeof e)return e;return false}u.supportCssScaling=function(){return h(this.content)&&v("cssScaling")};u.hasValidContent=function(){return h(this.content)};u.supportSnapshot=function(){if(!h(this.content))return false;var t=r.ext&&r.ext.snapshot&&r.ext.snapshot.canTakeSnapshot;if("undefined"===typeof t)return v("snapshot");if("function"===typeof t)return t.call(null,r.layout);if("boolean"===typeof t)return t;return false};u.supportObjectInfo=function(){if(!h(this.content))return false;if(u.isInvalid)return false;return this.layout.showDetails};u.supportExportData=function(){return h(this.content,false,true)&&v("exportData")};u.supportExport=function(){return h(this.content)&&v("export")};u.supportSharing=function(){return h(this.content)&&v("sharing")};u.supportViewData=function(){return h(this.content)&&v("viewData")};u.setRenderState=function(t){if(u&&u.renderState!==t){u.renderState=t;r.$emit("objectRenderStateChange",t)}};u.setOnFocusHandler=function(t){u.focus=t};u.setOnBlurHandler=function(t){u&&(u.blur=t)};u.cancel=function(){u.subscription.cancel();u.throbberApi.hide();u.throbberApi.isQueryCanceled=true;l.contentLoaded().then(function(t){t.view&&t.view.cancel()});"function"===typeof r.options.onCanceled&&r.options.onCanceled.call(null)};u.retry=function(){u.throbberApi.hide();u.throbberApi.reset(true);u.throbberApi.isQueryCanceled=false;r.model.markAsInvalid();r.model.getLayout().then(function(t){r.layout=t;u.setLayout(t)});l.contentLoaded().then(function(t){t.view&&t.view.retry()})};I(r,s,u,l);D(r,u);A(r,u,s,l);P(r,u);u.setRenderState(C.INVALID);function y(){u.update()}u._themeChangeWatcher=y;b.ThemeChanged.bind(u._themeChangeWatcher);o.load(r.options._skipRegisterExtensions).then(function(){E(r,u);L(r,u,l)});u.loaded.then(function(){r.cancelled=r.model.isCancelled});r.$watch("options.interactionState",function(t){var e=isNaN(t)?1:t;u.setInteractionState(e)});r.$watch("options.direction",function(t){u.setDirection(t)});r.$watch("options",function(t){t&&t.setController&&l.contentLoaded().then(function(){t.setController(u)})});r.$on("childSelectionActive",function(t,e){u&&(u.childInSelection=e);t.preventDefault()});r.titleClicked=function(){this.options._disableSelections||u._inEditState||l.contentLoaded().then(function(t){(t.view&&t.view.selections||t.$scope.interactive)&&u.activateSelections()})};r.cancel=function(){u.cancel()};r.retry=function(){u.retry()};var x=false;r.$on("$destroy",function(){if(x)return;x=true;e.getService("$timeout").cancel(f);b.ThemeChanged.unbind(u._themeChangeWatcher);if(u){S(u);u.selectionsApi&&"function"===typeof u.selectionsApi.destroy&&u.selectionsApi.destroy();if(u.tooltipApi){u.tooltipApi.destroy&&u.tooltipApi.destroy();u.tooltipApi=null}if(u.backendApi){u.backendApi.destroy();u.backendApi=null}u.throbberApi&&u.throbberApi.destroy();u.explore&&u.explore.destroy();u=null;r.object=null}})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(464),n(58)],r=function(t,e){return{template:t,controller:["$scope",function(t){function n(){t.onClose()}t.$on("$destroy",function(){e.off("start",n)});e.on("start",n)}]}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){return{getLayoutMsg:e,getPropCondition:n,setPropCondition:i,getPropMessage:r,setPropMessage:o};function e(t){return t.customErrorMessage&&t.customErrorMessage.calcCond||t.qCalcCondMsg}function n(e,n){return t.getValue(e,n||"qCalcCond.qv")||t.getValue(e,"qCalcCondition.qCond.qv")||""}function i(e,n,i){t.setValue(e,i||"qCalcCond.qv",n);t.setValue(e,"qCalcCondition.qCond.qv",n)}function r(e){var n=t.getValue(e,"customErrorMessage.calcCond");var i=t.getValue(e,"qCalcCondition.qMsg.qv");return n||i||""}function o(e,n){t.setValue(e,"customErrorMessage.calcCond","="!==n[0]?n:"");t.setValue(e,"qCalcCondition.qMsg.qv",n)}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45),n(47)],r=function(t,e,n){function i(n){return n?e.resolve(n.enigmaModel):t.getApp()}var r={};r.get=function(t,e){return i(e).then(function(e){return e.getMeasure(t)})};r.create=function(t,e){return i(e).then(function(e){t.qInfo.qId=t.qInfo.qId||n.generateId();return e.createMeasure(t)})};r.remove=function(t,e){return i(e).then(function(e){return e.destroyMeasure(t)})};r.getList=function(t){return i(t).then(function(t){return t.getMeasureListObject()})};r.getListLayout=function(t){return r.getList(t).then(function(t){return t.getLayout()})};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(46),n(467),n(217),n(468)],r=function(t,e,n,i,r,o){return{type:"invalid",template:o,definition:{type:"items",items:{}},support:{exportData:false},getContextMenu:function t(){},hasError:function t(){return false},showRequirements:function t(){return false},getCreatePropertyHandler:function t(e){return new i({app:e})},getDropFieldOptions:function t(){},getDropDimensionOptions:function t(){},getDropMeasureOptions:function t(){},controller:["$scope","luiPopover",function(i,o){var s=i.object.error,a=n.get(s.title),l;l=Array.isArray(s.message)?n.get(s.message[0],s.message.slice(1)):n.get(s.message);i.error={title:a,message:l};i.showButton=i.options&&"function"===typeof i.options.removeIt;i.remove=function(t){i.options.removeIt();t.stopPropagation()};i.showMore=function(n){o.show({template:r.template,controller:r.controller,alignTo:t(n.target)[0],input:{error:i.error,onClose:function t(){e.preventGestures()}}})}}]}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;var o=o||function(t){"use strict";if("undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))return;var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=t.webkitRequestFileSystem,l=t.requestFileSystem||a||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",d=0,p=4e4,f=function(t){var e=function(){"string"===typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,p)},h=function(t,e,n){e=[].concat(e);var i=e.length;while(i--){var r=t["on"+e[i]];if("function"===typeof r)try{r.call(t,n||t)}catch(t){c(t)}}},v=function(t){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type))return new Blob(["\ufeff",t],{type:t.type});return t},g=function(e,c,p){p||(e=v(e));var g=this,m=e.type,b=false,y,x,w=function(){h(g,"writestart progress write writeend".split(" "))},q=function(){if(x&&s&&"undefined"!==typeof FileReader){var i=new FileReader;i.onloadend=function(){var t=i.result;x.location.href="data:attachment/file"+t.slice(t.search(/[,;]/));g.readyState=g.DONE;w()};i.readAsDataURL(e);g.readyState=g.INIT;return}!b&&y||(y=n().createObjectURL(e));if(x)x.location.href=y;else{var r=t.open(y,"_blank");void 0===r&&s&&(t.location.href=y)}g.readyState=g.DONE;w();f(y)},_=function(t){return function(){if(g.readyState!==g.DONE)return t.apply(this,arguments)}},C={create:true,exclusive:false},S;g.readyState=g.INIT;c||(c="download");if(r){y=n().createObjectURL(e);setTimeout(function(){i.href=y;i.download=c;o(i);w();f(y);g.readyState=g.DONE});return}if(t.chrome&&m&&m!==u){S=e.slice||e.webkitSlice;e=S.call(e,0,e.size,u);b=true}a&&"download"!==c&&(c+=".download");(m===u||a)&&(x=t);if(!l){q();return}d+=e.size;l(t.TEMPORARY,d,_(function(t){t.root.getDirectory("saved",C,_(function(t){var n=function(){t.getFile(c,C,_(function(t){t.createWriter(_(function(n){n.onwriteend=function(e){x.location.href=t.toURL();g.readyState=g.DONE;h(g,"writeend",e);f(t)};n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&q()};"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=g["on"+t]});n.write(e);g.abort=function(){n.abort();g.readyState=g.DONE};g.readyState=g.WRITING}),q)}),q)};t.getFile(c,{create:false},_(function(t){t.remove();n()}),_(function(t){t.code===t.NOT_FOUND_ERR?n():q()}))}),q)}),q)},m=g.prototype,b=function(t,e,n){return new g(t,e,n)};if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(t,e,n){n||(t=v(t));return navigator.msSaveOrOpenBlob(t,e||"download")};m.abort=function(){var t=this;t.readyState=t.DONE;h(t,"abort")};m.readyState=m.INIT=0;m.WRITING=1;m.DONE=2;m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null;return b}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);true,t.exports?t.exports.saveAs=o:(true,null!==n(495))&&null!==n(173)&&!(i=[],r=function(){return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(507),n(223)],r=function(t,e,n){t.directive("qwDependenciesSelector",function(){return{restrict:"E",replace:true,template:e,scope:{dependencies:"=",onChange:"&"},controller:["$scope","$timeout",function(t,e){t.$watch("dependencies",function(t){t&&i()});function i(){n.getList().then(function(e){var n=e.filter(function(t){return!t.internal});t.customComponentsGroupedList=a(n);t.notFoundCustomComponents=[];var i=Object.keys(t.dependencies);i.length>0&&i.forEach(function(e){r(e,t.dependencies[e])})})}function r(e,n){var i=o(e,n,t.customComponentsGroupedList);if(-1!==i){t.customComponentsGroupedList[i].selected=true;t.customComponentsGroupedList[i].version=n}else t.notFoundCustomComponents.push({name:e,version:n,selected:true,notFound:true})}function o(t,e,n){var i=-1;var r=s(t,n);if(-1!==r)for(var o=0;o<n[r].versionsList.length;o++)if(n[r].versionsList[o]===e){i=r;break}return i}function s(t,e){var n=-1;for(var i=0;i<e.length;i++)if(e[i].name&&e[i].name===t){n=i;break}return n}function a(t){var e=[];t.forEach(function(t){var n=s(t.data.name,e);-1===n?e.push({name:t.data.name,versionsList:[t.data.version],selected:false,version:t.data.version}):e[n].versionsList.push(t.data.version)});return e}function l(e,n){var i=false;Object.keys(t.dependencies).forEach(function(r){e===r&&n===t.dependencies[r]&&(i=true)});return i}t.toggleDependency=function(n,i){t.onChange();if(n.notFound){l(n.name,n.version)&&delete t.dependencies[n.name];e(function(){t.notFoundCustomComponents.splice(i,1)},100);return}if(l(n.name,n.version))delete t.dependencies[n.name];else if(t.dependencies[n.name]){delete t.dependencies[n.name];t.dependencies[n.name]=n.version}else t.dependencies[n.name]=n.version};t.switchVersion=function(e){t.onChange();e.selected&&t.dependencies[e.name]&&(t.dependencies[e.name]=e.version)}}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(508),n(99),n(154),n(510)],r=function(t,e,n,i){function r(t){var n=this;return this.getList().then(function(i){return n._filterListByDependencies(i,t).then(function(t){return e.load(t)})})}function o(){var t=[];var e=this;return e._getExternalComponents().then(function(e){t=t.concat(e);return t})}function s(){var t=[];return n.getList().then(function(e){e.forEach(function(e){if(e.data&&"component"===e.data.type){e.path="extensions/"+e.id+"/"+e.id;t.push(e)}});return t})}function a(e,n){var r=new t;var o=[];for(var s in n){var a=n[s];var l=false;var c=s.toLowerCase();e.forEach(function(t){if(t.data.name.toLowerCase()===c&&t.data.version===a){o.push(t);l=true;return}});if(!l){var u="No matching component found for "+s+" (version: "+a+")";i.error(u,"custom components")}}r.resolve(o);return r.promise}return{init:r,getList:o,validateComponent:e.validateComponent,_getExternalComponents:s,_filterListByDependencies:a}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(52),n(221),n(66)],r=function(t,e,n,i){function r(r,o){var s=t.getService("qwErrorService");var a=t.getService("$http");var l=n.getPrefix()+"api/wes/v1/extensions";var c=l+"/export/"+r;var u={responseType:"blob"};return a.get(c,u).then(function(t){200===t.status?i.saveAs(t.data,o+".zip"):s.raiseError(null,e.get("Devhub.ErrorExtensionExport",o))}).catch(function(){s.raiseError(null,e.get("Devhub.ErrorExtensionExport",o))})}return{exportItem:r}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(538),n(97),n(539),n(225),n(541),n(542)],r=function(t,e,n,i){function r(t,e,n){void 0!==t.colors&&(t=t.colors);this._palette=t;this._index=-1;this._shift=n||false;void 0!==e.index&&(this._index=e.index);"none"===e&&(this._index=0);if(""===e){this._index=0;e="none"}if(this._index>=0&&this._index<this._palette.length)this._hex=this._palette[this._index];else if(void 0!==e.color){this._hex=e.color;this._index=t.indexOf(this._hex)}else{if(t[e]){this._hex=t[e];this._index=e}else{this._hex=e;this._index=t.indexOf(this._hex)}"none"===e&&(this._index=0)}this._defaultHSV={h:0,s:100,v:100};this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()}r.prototype._updateHexObj=function(){this._colorUtil=new n(this._hex);if(this._colorUtil.isInvalid())this._hexObj={value:"-"};else{var t=this._hex.substring(1,7);this._hexObj={value:t}}};r.prototype._updateWheelStatus=function(){this._index>=0&&this._index<this._palette.length+this._shift||0==this._index?this._isWheelUsed=false:this._isWheelUsed=true};r.prototype._updateHexToHsv=function(){this._colorUtil=new n(this._hex);this._colorUtil.isInvalid()?this._hsv=this._defaultHSV:this._hsv=this._colorUtil.toHSVComponents()};r.prototype._updateHsvToHex=function(t){this._colorUtil=new n("hsv("+this._hsv.h+","+this._hsv.s+","+this._hsv.v+")");this._colorUtil.isInvalid()&&t.$disableNone&&(this._colorUtil=new n(t.$defaultColor));if(this._colorUtil.isInvalid())this._hexObj="-";else{this._hexObj={value:this._colorUtil.toHex().substring(1,7)};this._hex="#"+this._hexObj.value}this._index=this._palette.indexOf(this._hex)};r.prototype.updateColor=function(t,e){this._colorUtil=new n(t);if(this._colorUtil.isInvalid()){this._hex="none";this._index=0}else{this._hex=t;this._index=e}this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updatePalette=function(t){void 0!==t.colors&&(t=t.colors);this._palette=t;this._index>=t.length&&(this._index=-1);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updateHex=function(t){this._hex=t;this._index=this._palette.indexOf(this._hex);this._updateHexToHsv();this._updateHexObj();this._updateWheelStatus()};r.prototype.updateHexUntrusted=function(t){var e="#"+t.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);this.updateHex(e)};r.prototype.getHsv=function(){return this._hsv};r.prototype.setHsv=function(t){this._hsv=t;this._updateHsvToHex()};r.prototype.syncHsv=function(){this._updateHsvToHex()};r.prototype.getHex=function(){return this._hex};r.prototype.getHexObj=function(){return this._hexObj};r.prototype.isWheelUsed=function(){return this._isWheelUsed};r.prototype.forceWheelUsed=function(t){this._isWheelUsed=t};r.prototype.isDark=function(){return this._colorUtil.isDark()};r.prototype.getIndex=function(){return this._index};r.prototype.clone=function(){return t.extend(true,{},this)};var o={template:e,controller:["$scope","$element","$timeout",function(t,e,o){var s=t.$inputViewValue;t.currentPalette=t.$palette;t.extended=t.$extended;var a=new r(t.currentPalette,s,t.$disableNone);t.$useGlyph&&(t.glyphIcon=t.$inputViewValue.icon);var l=null;var c;var u=false;Object.defineProperty(t,"hsv",{get:function t(){return a.getHsv()},set:function t(e){a.setHsv(e)}});Object.defineProperty(t,"foreColor",{get:function t(){return a.getHex()}});Object.defineProperty(t,"hex",{get:function t(){return a.getHexObj()},set:function t(){return a.setHexObj()}});Object.defineProperty(t,"isDark",{get:function t(){return a.isDark()}});Object.defineProperty(t,"customColor",{get:function e(){return a.isWheelUsed()&&t.extended},set:function t(e){a.forceWheelUsed(e)}});t.recentColors=i.getPersistentRecentColors();t.setGlyph=function(e,n,i){t.glyphIcon=i.icon;f()};t.onHexChange=h(p);t.colorClicked=h(function(e,n,i){t.$disableNone&&(n+=1);a.updateColor(i,n);f();u=true});t.recentColorClicked=h(function(e,n){if(!t.$disableNone||"none"!==n){a.updateHex(n);f();u=true}});t.onFoldoutClick=function(e){e.preventDefault();t.customColor=!t.customColor};t.onKeyPress=function(e){var n=e.which;13===n&&t.close()};t.getBackgroundStyle=function(t){if("none"!==t)return{"background-color":t}};function d(){return t.recentColors.length>0&&t.extended}t.showRecent=d();function p(t){if(6===t.length){var e="#"+t.replace(/[^0-9A-Fa-f]+/g,"").substring(0,6);this._colorUtil=new n(e);if(!this._colorUtil.isInvalid()){a.updateHexUntrusted(t);f();u=true}}}function f(){t.onColorChange(t.$useGlyph,a.getIndex(),t.foreColor,t.currentPalette,t.glyphIcon);t.extended&&i.stage(a.getHex())}function h(t){return function(){var e=this,n=arguments;l||(l=o(function(){t.apply(e,n);l=null},100))}}t.hueSatValueChanged=h(function(){a.syncHsv();u=true;c&&o.cancel(c);c=o(function(){f();c=null},300)});t.applyColor=function(){t.extended&&i.commit()};t.$on("$destroy",function(){u&&t.applyColor();e.find(".qv-cp-hex-input").off()})}]};return{popupComponent:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(75),n(550),n(59),n(551),n(50),n(552),n(47),n(553)],r=function(t,e,n,i,r,o,s,a){t.directive("qvPropertyPanel",function(){return{template:n,restrict:"E",replace:true,scope:{ignorePatches:"<"},controller:["$scope",function(t){var n={};t.subPanels=[];s.selectedObject&&s.selectedObject.getAllPropertyPanelContent().then(function(t){if(t){var e={components:null,localeInfo:null,app:null,ext:null,globalChangeListeners:null,handler:null};a.extend(e,t);d(e)}}).catch(function(){});function l(i){t.title=o.getValue(i,t.titleRef||"title");t.subtitle=i.subtitle;t.isInvalid=i.qError||"invalid"===n.type;e.inClient()&&(t.isPatched=i.qHasSoftPatches)}function c(t){return t.model.app.getObject(t.properties.qExtendsId).then(function(t){return t.getLayout().then(function(t){return t.permissions.update})})}t.$on("$destroy",function(){n.model&&n.model.Invalidated.unbind(u)});function u(){n.model.getLayout().then(function(e){var i=e.visualization||e.qInfo&&e.qInfo.qType;if(!i)return;if(i!==n.type){n.type=i;return}t.$broadcast("layoutchanged",e);l(e);n.model.getProperties().then(function(e){if(e.qInfo.qId!==n.model.id&&"widget"!==n.type)return;t.args.prevProperties=e;e=a.extend(true,{},e);t.data=e;t.args.properties=e;n.properties=e;n.handler&&n.handler.setProperties(e);t.isLinked=!!e.qExtendsId;t.$broadcast("datachanged",e);t.isLinked&&c(n).then(function(e){t.showEditMasterPropsBtn=e})})})}t.$on("saveProperties",function(e,i){e.stopPropagation();i=i||t.data;n.globalChangeListeners&&n.globalChangeListeners.forEach(function(e){e&&"function"===typeof e&&e(i,t.args.handler,t.args)});n.model.setProperties(i)});t.$on("updateContent",function(t,e){t.preventDefault();d(e)});function d(e){t.subPanels.length=0;r.loadComponents().then(function(){n.model&&n.model.Invalidated.unbind(u);var r=a.extend(true,{},e.properties);var o={prevProperties:null,properties:r,cache:e.cache,layout:e.layout,model:e.model,localeInfo:e.localeInfo,app:e.app,ext:e.ext,yMirrorMode:e.yMirrorMode};if(e.handler){e.handler.setProperties(r);e.handler.setLayout(e.layout);o.handler=e.handler}t.data=r;t.definition=e.definition;t.args=o;t.args.iconName=e.iconName;t.iconName=e.iconName;t.isLinked=!!r.qExtendsId;t.showEditMasterPropsBtn=false;t.isLinked&&c(e).then(function(e){t.showEditMasterPropsBtn=e});t.headerComponentDefinition={type:"items",component:"header-with-switch",translation:t.data.title};t.headerComponent=a.extend({},i.findComponent({type:"items",component:"header-with-switch"}));t.rootComponent=a.extend({},i.findComponent(e.definition));n=e;e.model.Invalidated.bind(u);l(e.layout);t.isReady=true;var s=n.definition.interceptor;if(s&&a.isFunction(s)){var d=s(t);if(d&&a.isFunction(d.then)){t.isReady=false;d.then(function(){t.isReady=true})}}(e.model.isInvalid||e.model.isValidating)&&u()})}t.savePatches=function(){n.model.getEffectiveProperties().then(function(t){n.model.setProperties(t).then(function(){n.model.clearSoftPatches()})})};t.clearPatches=function(){n.model.clearSoftPatches()}}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t=/[^\s\(\)\"\'\,\+\$\*\-\<\>\=\&\/\!\{\}\;\:\@\`\´\[\]]/;var e=/[\s\(\)\"\'\,\+\$\*\-\<\>\=\&\/\!\{\}\;\:\@\`\´\[\]]/;return{REGEXP_WORD:t,REGEXP_WORD_SEPARATOR:e}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(575),n(576)],r=function(t,e){function n(){this.posFrom=this.posTo=this.query=null;this.marked=[]}function i(i){var r=new n;var o;function s(e,n,r){return t.getSearchCursor(i,e,n,r)}function a(t){b.validQuery=true;var e=false;try{return e?new RegExp(e[1],-1===e[2].indexOf("i")?"":"i"):t}catch(e){b.validQuery=false;return t}}function l(){i.operation(function(){var t;if(!r.query)return;r.query=null;for(t=0;t<r.marked.length;++t)r.marked[t].clear();r.marked.length=0});d()}function c(t,n,c,u){var d=2e3;var p=0;l();if(t){i.operation(function(){r.query=a(t);var l={line:0,ch:0};!n&&o&&o.from()&&(l=o.from());o=s(r.query,{line:0,ch:0},u);p=e.getMaxNumberOfHits(i.getValue(),t,u);if(i.lineCount()<d)while(o.findNext())r.marked.push(i.markText(o.from(),o.to(),{className:"cm-searching"}));r.posFrom=r.posTo=i.getCursor();o=s(r.query,l,u)});c&&f();b.hits=p;return p}b.hits=0;return 0}var u;function d(){u&&u.clear()}function p(){d();u=i.markText(o.from(),o.to(),{className:"cm-current"});i.setCursor(o.to());r.posFrom=o.from();r.posTo=o.to()}function f(t,e){var n=o.find(t);if(n){p();i.scrollIntoView(o.from(),i.getScrollInfo().clientHeight/2)}else e&&e();return n}function h(t){o=s(r.query,{line:0,ch:0},t);return f(false)}function v(t){var e=i.lastLine();var n=i.getLine(e).length;o=s(r.query,{line:e,ch:n},t);return f(true)}function g(t,e,n,i){var s="string"===typeof r.query?e:o.pos.match[0].replace(r.query,e);o.atOccurrence||h(n);o.replace(s);b.hits--;var a=o.find(t);a?p():i&&i()}function m(t,e,n){if(!t)return;var l=0;t=a(t);i.operation(function(){for(o=s(t,void 0,n);o.findNext();){l++;var i="string"===typeof r.query?e:o.pos.match[0].replace(r.query,e);o.replace(i)}});b.hits=0;return l}var b={doSearch:c,clearMarkedSearch:l,doFindNext:f,doFindFirst:h,doFindLast:v,doReplaceAll:m,doReplace:g,hits:0,validQuery:true};return b}return{createSingleCodeareaSearcher:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(601),n(123),n(124)],r=function(t,e,n){var i={restrict:"E",replace:true,transclude:true,template:n,scope:{service:"@service"},controller:["$scope",function(n){var i=t.getService(n.service);n.assets=i.assets;n.options=i.options;n.openInNewWindow=function(){var t=window.open(n.assets.url,"_blank");t.focus()};n.assets.url="qwSingleConfiguratorService"!==n.service&&n.assets.url||null;n.$watch("assets.url",function(t,n){t!==n&&e("iframe").contents()[0]&&e("iframe").contents()[0].location.replace(t)})}]};t.directive("qwPreviewBox",function(){return i});return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(604),n(102),n(116),n(118),n(123),n(56),n(61),n(232)],r=function(t,e,n){t.directive("qwObjectsPanel",i);function i(){return{replace:true,restrict:"E",scope:{service:"@service"},template:n,controller:["$scope","$rootScope","$element",function(n,i,r){n.loading;var o=t.getService(n.service),s=t.getService("qwNavigationService"),a=t.getService("qwDragScrollService");var l=t.getService("$timeout");n.assets=o.assets;n.toolConfig=t.getService("qwConfigService").getToolConfig();n.currentLocation=s.getCurrentLocation();n.selectApp=function(){l(function(){n.loading=true;i.$broadcast("switchApp")})};n.click=function(t,e){o.actions.onClick?o.actions.onClick(t,e):null};n.rightClick=function(t,e){o.actions.onRightClick?o.actions.onRightClick(t,e):null};n.assets.onDrag=o.actions.onDrag;n.objectType=function(t){return"sheet"===t.type?e.get("Devhub.Sheet"):e.get("Devhub.Visualization")};n.$watch("assets.objects",function(t,e){n.loading=null;if(t!==e&&!r.dragAdded){r.dragAdded=true;a.addDragScroll({element:r.find(".lui-list")[0],containers:["iframe"],classes:[".qvdropzone",".qvobject"],service:"qwMashupEditorService",call:"addVisualization",type:"visualization",disabledTouchClasses:[".lui-list__aside",".lui-list__text"],namespace:"dev-hub-objects-panel"})}},true)}]}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(605)],r=function(t,e){t.directive("qvSpinner",function(){return{replace:true,template:e,restrict:"E",scope:{show:"=",showDelay:"=?",showForAtLeast:"=?",spinnerWidth:"@?",spinnerHeight:"@?",centerInParent:"=?"},controller:["$scope","$timeout",function(t,e){var n;var i;t.internalShow=false;function r(){t.showDelay?n=e(function(){o(t.showForAtLeast)},t.showDelay):o(t.showForAtLeast)}function o(n){t.internalShow=true;i=e(function(){},n)}function s(){n&&e.cancel(n);i&&i.then(function(){t.internalShow=false})}t.$watch("show",function(t){t?r():s()})}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(48),n(610)],r=function(t,e,n){var i={restrict:"E",replace:false,template:n,transclude:true,scope:{close:"&",closable:"=",visible:"="},controller:["$scope","$attrs",function(t,n){this.close=t.close;n.closable||(n.closable=true);t.isVisible=!e.isDefined(n.visible)||t.$eval(n.visible)}]};t.directive("qwAlert",function(){return i});return i}.apply(e,i),void 0!==r&&(t.exports=r))},,,,,,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(667),n(44),n(668),n(669),n(121)],r=function(t,e,n,i,r,o){var s=[];var a={progress:0};var l={status:1};t.directive("qwDropZoneJs",function(){return{template:i,restrict:"E",replace:true,scope:{service:"@service",isstartpage:"@isstartpage"},controller:["$scope",function(i){if("undefined"===typeof e)return;var c=t.getService(i.service||i.$parent.$parent.service);var u=c.getApiPath();var d=document.querySelectorAll(".qw-converter-qvw-dropzone");var p=t.getService("luiDialog");var f=false;Object.keys(d).forEach(function(t){if(-1===n.inArray(d[t],s)){var h=new e(d[t],{url:function t(e){var n=e[0].name.substr(0,e[0].name.length-4);return u+"projects/"+n},paramName:"qvwfile",method:"post",acceptedFiles:".qvw",maxFilesize:500,parallelUploads:1,maxFiles:1,filesizeBase:1024,thumbnailWidth:"100%",thumbnailHeight:100,createImageThumbnails:false,dictDefaultMessage:"",dictInvalidFileType:"Devhub.ConverterInvalidFile",dictFileTooBig:"Devhub.ConverterFileTooBig",dictResponseError:"Devhub.ConverterResponseError",dictMaxFilesExceeded:""});h.on("drop",function(){f=false});h.on("success",function(){l.status=2;c.getAssetsInfo(true).then(function(){i.isstartpage&&i.$parent.refresh()})});h.on("complete",function(){h.removeAllFiles(true)});h.on("uploadprogress",function(t){a.progress=t.upload.progress});h.on("error",function(t,e){p.show({controller:o.component.controller,template:o.component.template,closeOnEscape:false,input:{title:"Devhub.ConverterError",message:e,buttons:[{title:"Devhub.Close",tid:"2c49a"}]}});a.progress=100;l.status=0});h.on("addedfile",function(t){if(".qvw"===t.name.slice(-4).toLowerCase()&&h.options.filesizeBase*h.options.filesizeBase*h.options.maxFilesize>=t.size&&1===h.files.length){l.status=1;a.progress=0;p.show({controller:r.component.controller,template:r.component.template,closeOnEscape:false,input:{progress:a,cancel:function t(){h.removeAllFiles(true)},assetsConverted:l}})}else if(!f&&this.files.length>1){h.removeFile(this.files[1]);f=true;p.show({controller:o.component.controller,template:o.component.template,closeOnEscape:false,input:{title:"Devhub.ConverterError",message:"Devhub.ConverterMaxFilesExceeded",buttons:[{title:"Devhub.Close",tid:"2c45d"}]}})}});s.push(d[t])}})}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(71),n(671),n(241),n(243),n(103),n(160),n(117),n(56)],r=function(t,e,n,i){var r=t.getService("$cacheFactory"),o=r("qw-pp-object");var s=t.getService("qwPropertyPanelDragDropService");var a=t.getService("qwPropertyPanelService");var l=t.getService("qwPanelEditorService");var c=t.getService("qwConfigService");t.directive("qwPropertyPanel",function(){return{template:i,restrict:"E",replace:true,scope:{service:"@service",previewObject:"="},controller:["$scope",function(i){var r=false;var u=t.getService(i.service);a.setToolService(u);l.setPanelDropService("qwPropertyPanelService");i.toolConfig=c.getToolConfig();i.assets=u.assets;function d(t){var n=u.assets.currentApp.model.enigmaModel;t.getPropertyPanelContent().then(function(s){var c=s.type;l.addEditModeToDefinition(s.definition);e.all({appLayout:n.getLayout(),properties:t.model.getProperties(),layout:t.model.getLayout()}).then(function(e){var l={definition:s.definition,globalChangeListeners:s.globalChangeListeners,type:c.type,ext:s.ext,handler:s.handler,iconName:s.iconName,titleRef:s.titleRef,properties:e.properties,app:n,layout:e.layout,localeInfo:e.appLayout.qLocaleInfo,model:t.model,cache:o};u.assets.layout=l.layout;l=a.createDropZoneItems(l);i.$broadcast("updateContent",l);r=false})})}function p(){i.updateProperties()}n.SheetChanged.bind(p);i.$on("refreshPropertyPanel",function(){i.updateProperties()});i.$on("$destroy",function(){});i.updateProperties=function(){if(u.assets.qvObject&&!r){r=true;var t=u.assets.qvObject;t.loaded.then(function(){t.ext&&t.ext.mapProperties&&t.ext.mapProperties(t.model).then(function(){d(t)})})}};i.$watch(function(){return a.notify("dragState")},function(t,e){if(e!==t){var n=JSON.parse(t.substr(0,t.indexOf(",")));var i=JSON.parse(t.substr(t.indexOf(",")+1));s.activateHotSpots(n,i,a)}})}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(52),n(56),n(118),n(242),n(117)],r=function(t,e,n){t.service("qwPropertyPanelDragDropService",[function(){var i=t.getService("qwConfigService");var r=i.getToolConfig();var o=t.getService("qwDragScrollService");var s=t.getService("qwPropertyPanelDropZoneService");var a=t.getService("qwUiEventsService");var l="";var c="";var u="";var d={};var p={};var f={};var h=n.debounce(function(t){c=t.prefix;s.classifyZones(t,f);D(t.$panel,r.panelEditor&&r.panelEditor.isOpen);S(t.$panel)},300,p);function v(t,e,n){a.registerEvent({element:t,type:["enter"],namespace:n.namespace,uiEventHandler:function i(r){g({event:r,isFireFox:false,$hotSpot:t,$dropZone:e,ratio:"item"!==l?1:1.5,config:n})},unique:true});navigator.vendor&&navigator.vendor.toLowerCase().indexOf("google")>-1&&navigator.userAgent.toLowerCase().indexOf("chrome/")>-1&&a.registerEvent({element:document,type:["touchmove"],namespace:n.namespace,uiEventHandler:function i(r){g({event:r,isFireFox:false,$hotSpot:t,$dropZone:e,ratio:"item"!==l?1:1.5,config:n});m({event:r,$hotSpot:t,$dropZone:e,config:n,ratio:"item"!==l?1:1.5})},unique:true});a.registerEvent({element:t,type:["leave"],namespace:n.namespace,uiEventHandler:function i(r){m({event:r,$hotSpot:t,$dropZone:e,config:n,ratio:"item"!==l?1:1.5})},unique:true})}function g(t){f.$ul&&(f.ulmb=f.$ul.css("margin-bottom"));if("touchmove"===t.event.type&&t.event.originalEvent&&t.event.originalEvent.changedTouches&&t.event.originalEvent.changedTouches[0]){var e=document.elementFromPoint(t.event.originalEvent.changedTouches[0].clientX,t.event.originalEvent.changedTouches[0].clientY);if(e!==t.$hotSpot[0])return;if("0px"!==t.$dropZone.css("height"))return}t.$dropZone.attr("lastDropZone")&&(t.ratio="header"===l?1:2);(t.$dropZone.attr("lastinlastexpandablelist")||"sortingSection"===l||"item"===l&&true===t.$dropZone.scope().$last)&&(t.ratio=1);"sortingSection"===l&&t.config.$panel.find(".pp-data-container").closest(".ui-accordion-content-active").length>0&&t.$dropZone.css({"margin-top":"-10px"});f.height=parseInt(t.$hotSpot.css("height"));var n=f.height;"DataSection"===l&&(n=t.config.sectionHeight);t.$dropZone.css({height:n});t.isFireFox&&"header"!==l&&t.$hotSpot.css({marginTop:-t.config.sectionHeight/2});var i=(parseFloat(f.height)-4)*t.ratio+4;t.$hotSpot.css({height:i});f.delta=parseInt(i-f.height);f.modItem&&t.$hotSpot.attr("tid")!==f.modItem.attr("tid")&&f.modItem.css({height:f.modItem.height()-f.delta-18});f.$ul&&f.$ul.css("margin-bottom","");f.$li=t.$hotSpot.closest(".ui-accordion-content-active").find("li[ng-repeat][tid!='general']").last();f.limb=f.$li.css("margin-bottom");f.$li.css("margin-bottom","");if("header"===l&&t.$hotSpot.offset().top+t.$hotSpot.height()>f.$scrollEle.offset().top){var r=t.config.$panel.find(".ui-accordion-content-active");r.scrollTop(r[0].scrollHeight)}}function m(t){"header"===l&&b({config:t.config});"sortingSection"===l&&t.$dropZone.css({"margin-top":""});if("touchmove"===t.event.type&&t.event.originalEvent&&t.event.originalEvent.changedTouches&&t.event.originalEvent.changedTouches[0]){var e=document.elementFromPoint(t.event.originalEvent.changedTouches[0].clientX,t.event.originalEvent.changedTouches[0].clientY);if(e===t.$hotSpot[0])return;if("0px"===t.$dropZone.css("height"))return}t.$dropZone.css({height:0});"item"===l&&true===t.$dropZone.scope().$last&&(t.ratio=1);t.$hotSpot.css({height:(parseInt(t.$hotSpot.css("height"))-4)/t.ratio+4});f.modItem&&t.$hotSpot.attr("tid")!==f.modItem.attr("tid")&&f.modItem.css({height:f.modItem.height()+f.delta+18});if(f.$li){f.$li.css("margin-bottom",f.limb);delete f.$li}}function b(t){if(f.ulmb){var e=f.$ul||t.config.$panel.find("ul.pp-expandable-list");e.css("margin-bottom",f.ulmb)}delete f.ulmb;var n=t.config.$panel.find(".ui-accordion-content-active");n.scrollTop(n[0].scrollHeight)}function y(t,n,i){var r=i.config.$panel.find(".ui-accordion-content-active");var o=r[0];f.$scrollEle=r;var s=0;var a="";var c=window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1;l="header"!==n.type&&"section"!==n.type&&"dataSection"!==n.type&&"sortingSection"!==n.type?"item":n.type;if("header"===l){i.config.scrollTop=0;i.config.$panel.find("."+i.config.prefix+"takesItem").each(function(t,n){e(n).css({"margin-top":-i.config.sectionHeight/2})});c&&(s=o?o.scrollTop:0)}i.config.$panel.find("."+i.config.prefix+"takes"+l.substr(0,1).toUpperCase()+l.substr(1)).each(function(u,d){a=e(d);var p={service:i,$ele:a,$scrollEle:r,data:n,isFF:c,scrollTop:s};if(t){a.css({marginTop:0});switch(l){case"header":if(u<1){x(p);e(".pp-expandable-items-component ul").css("margin-bottom",i.config.sectionHeight+i.config.margin);r.scrollTop(o.scrollHeight)}break;case"dataSection":case"sortingSection":w(p);break;case"item":q(p);break}}else _(p);a.css({display:t?"block":"none"})})}function x(t){f.$ul||(f.$ul=t.$ele.closest("ul.pp-expandable-list"));var e=t.service.config.$panel.find(".pp-section:not(."+t.service.config.prefix+"dropzone)").length;t.$ele.css({height:t.$scrollEle.height(),top:t.service.config.sectionHeight*e});t.$scrollEle.scrollTop(t.$scrollEle[0].scrollHeight)}function w(t){t.$ele.css({height:t.service.config.$panel.height(),top:t.service.config.sectionHeight})}function q(t){if(true===t.$ele.scope().$last&&0===t.$ele.closest("li").next("li:not(."+t.service.config.prefix+"dropzone)").length){var e=C({service:t.service,$ele:t.$ele,$scrollEle:t.$scrollEle});t.$ele.css({height:Math.max(e-4,1.5*t.service.config.sectionHeight+t.service.config.margin),"margin-top":0});f.modItem=t.$ele}else{t.$ele.css({height:1.5*t.service.config.sectionHeight,"margin-top":0});delete f.modItem}}function _(t){t.service.config.$panel.find(".pp-expandable-items-component ul").css("margin-bottom","0px");if(f.$ul){f.$ul.css("height","");delete f.$ul}}function C(t){var n=t.service.config.$panel.find(".ui-accordion-content-active").height();f.$ul=t.$ele.closest("ul.pp-expandable-list");var i=f.$ul.children("li");var r=0;var o=false;i.each(function(n,i){if(i.hasAttribute("ng-repeat")){var o=e(i);t.$ele.closest("li")[0]!==i?r+=o.height():0===o.find("[tid='qw-pe-emptymessage']").length&&(r+=o.find(".pp-component").height())}});r+t.service.config.sectionHeight+t.service.config.margin>t.$scrollEle[0].scrollHeight&&f.$ul.css("margin-bottom",t.service.config.sectionHeight+t.service.config.margin);parseFloat(f.$ul.css("height"))<t.$scrollEle.height()&&(o=true);o&&f.$ul.css("height",n-r);var s=n-r-t.service.config.sectionHeight;o&&f.$ul.css("height",n);return s}function S(t){var n=t.find(".ui-accordion-content-active");n.each(function(t,i){o.addDragScroll({element:e(i).find(".pp-expandable-list")[0],containerElement:n,classes:[[".qw-pe-dropspot",".qw-pe-dropzone"]],service:"qwPropertyPanelService",call:"doDrop",hideScrollBars:[],notify:{notify:"dragState",type:{selector:"li",class:"pe-item",replace:"type"}},type:"add.item",dragCloneDef:{nodeName:"DIV",hasClass:"qv-draggable"},toolService:u,dropService:d,mode:"move"})})}function D(t,i){var r,o,s;var a=["general","sorting"];t.find(".pp-component").each(function(t,l){r=e(l);o=r.closest(".item").not(c+".dropzone");if(o.length>0&&-1===a.indexOf(o.closest("li").attr("tid"))){s=e(".ui-accordion-content-active").find(".pp-expandable-list");if(i){o.addClass("qv-draggable");s.addClass("devhub-draggable")}else{o.removeClass("qv-draggable");s.removeClass("devhub-draggable")}n.toggleElementSubtreeInteraction(o,i)}});var l=t.hasClass("ui-accordion-content-active")?t.find("li[ng-repeat][tid!='general']").last():t.find(".ui-accordion-content-active li[ng-repeat][tid!='general']").last();i?l.css("margin-bottom","44px"):l.css("margin-bottom","")}function E(n,i,r,o){o.data.origScope=e.extend(true,{},i);r&&(i=T(i,k(r),o));s=o.data.toolService;if("string"===typeof o.data.toolService)var s=t.getService(o.data.toolService);s.actions.onDropIntoPropPanel(n,i,o)}function k(t){var n=e("[tid='"+t+"']").closest("li").attr("tid");var i={};n&&(i.parent=n);i.order=parseInt(t.substr(t.lastIndexOf("-")+1));return i}function T(t,e,n){if("add"===n.data.mode||!t.definition||!t.definition.item||isNaN(t.definition.item.order)||!t.definition.item.parent||t.definition.item.parent!==e.parent||t.definition.item.order!==e.order&&t.definition.item.order+1!==e.order){t.definition||(t.definition={item:{}});if(t.definition.item){n.data.oldParent=t.definition.item.parent;t.definition.item.order=e.order;t.definition.item.parent=e.parent}else{t.definition.order=e.order;t.definition.parent=e.parent}}return t}function A(t){u=t}return{activateHotSpots:y,initDropZones:h,toggleDragDrop:D,doDrop:E,setToolService:A,registerHotSpotEvent:v,__onlytest__:{initDragAndDrop:S,enterHotSpot:g,leaveHotSpot:m}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44)],r=function(t,e){t.service("qwPropertyPanelDropZoneService",[function(){function t(t,e){var n={};switch(t){case"section":n={component:"accordion",type:"items"};break;case"subsection":n={component:"expandable-items",type:"items"};break;case"property":n={label:"",ref:e,component:"text"};break}return n}function n(t){var n=t.$panel.find(".pp-data-container"),i=e("<div></div>");i.addClass(t.prefix+"dropzone "+t.prefix+"dataDropzone");i.attr("tid",t.prefix+"dropzone0-1");n.append(i);return true}function i(t,n){var i=t.prefix;var o=false;n.cpWidth=t.$panel.width();t.$panel.find("."+i+"dropzone").each(function(n,s){var l=e(s);var c=l.children().first();if(c.hasClass(i+"dropspot")){var u=r(l,t);l.attr("tid")===i+"dropzone1"&&c.addClass(i+"takesSortingSection");u.inExpandableList&&c.addClass(i+"takesItem");if(u.lastInLastExpandableList||u.lastDropZone&&!u.inExpandableList&&!u.isData){c.addClass(i+"takesHeader");o=true}else c.removeClass(i+"takesHeader");if(u.isData){t.assets.dimensions?c.removeClass(i+"takesDimension "):c.addClass(i+"takesDimension ");t.assets.measures?c.removeClass(i+"takesMeasures "):c.addClass(i+"takesMeasures ")}u.lastDropZone||u.lastInLastExpandableList||u.lastAfterCollapsedExpandedList?c.addClass(i+"takesSection"):c.removeClass(i+"takesSection");u.isDataSectionDropZone&&c.addClass(i+"takesDataSection");if(u.lastInActiveContent&&u.inLastExpandableList&&!o){c.addClass(i+"takesHeader");o=true}else c.removeClass(i+"takesHeader");a({$hotSpot:c,$dropZone:l,config:t,append:false});if(u.lastInLastExpandableList){l.attr("lastinlastexpandablelist",true);l.closest(".pp-expandable-list-content").css("padding-bottom",t.sectionHeight+t.margin)}}})}function r(t,e){var n=true===t.scope().$last,i=false,r={},o=t.hasClass("qw-pe-dataDropzone");if(t.closest(".pp-section-content").hasClass("ui-accordion-content-active")){i=true;r=t.closest(".pp-section-content")}var s=t.find(".qw-pe-dropspot");var a=false;var l=false;var c=t.closest(".pp-expandable-list-content").length>0;var u=false;var d=false;var p=false;var f=s.attr("tid");var h=f.substr(f.indexOf("dropzone")+8);var v=h.split("-");var g=t.closest(".pp-expandable-list-content").closest("li");if(n&&i){a=t.closest(".pp-expandable-list-content").length>0;u=parseInt(v[1])>=r.find(".pp-expandable-list-header").length-1&&0===t.next().length||"general"===t.closest(".pp-expandable-list-content").parent().attr("tid");p=0===g.nextAll().find(".pp-expandable-list-header").length;l=a&&u&&p;u&&!c&&0===t.prevAll("li:not('.qw-pe-dropzone')").first().find(".pp-expandable-list-header.expanded").length&&(d=true)}return{lastInLastExpandableList:l,lastInActiveContent:u,lastAfterCollapsedExpandedList:d,inLastExpandableList:p,inExpandableList:c,lastDropZone:t.attr("lastDropZone"),isData:o,isDataSectionDropZone:t.attr("tid")===e.prefix+"dropzone0"}}function o(t){t.config.$panel.find("."+t.config.prefix+"dropzone").each(function(n,i){t.$dropZone=e(i);if(t.$dropZone.children().first().hasClass(t.config.prefix+"dropspot"))return true;s(t)});return true}function s(t){var n=e(t.$dropZone[0].cloneNode(false)),i=n.attr("tid"),r=i.substr(i.indexOf("dropzone")+8),o=r.split("-");0!==t.$dropZone.next().length||1!==o.length&&!t.$dropZone.hasClass(t.config.prefix+"dataDropzone")||t.$dropZone.attr("lastDropZone",true);a({$hotSpot:n,$dropZone:t.$dropZone,config:t.config,append:true});t.service.registerHotSpotEvent(n,t.$dropZone,t.config)}function a(t){var e=t.cache||{};e.cpWidth||(e.cpWidth=t.config.$panel.width());t.$hotSpot.css({position:"absolute",height:0,width:e.cpWidth,zIndex:1,display:"none"});t.$hotSpot.removeClass(t.config.prefix+"dropzone").addClass(t.config.prefix+"dropspot");t.$hotSpot.removeAttr("ng-repeat");t.append&&t.$dropZone.append(t.$hotSpot)}return{dropZone:t,createDataDropzone:n,createHotSpots:o,createHotSpot:s,classifyZones:i,styleAndAppendHotSpot:a}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(44),n(672),n(52),n(241),n(242)],r=function(t,e,n,i){t.service("qwPropertyPanelService",["$rootScope",function(r){var s={prefix:"qw-pe-",$panel:null,accordionAdjusted:false,namespace:"widgetEditorPropertyPanel",sectionHeight:38,dataSectionHeight:0,borderWidth:2,margin:6,scrollTop:0};var a=t.getService("qwPropertyPanelDropZoneService");var l=t.getService("qwPropertyPanelDragDropService");var c={};i.addMutationObserver();function u(t){var n=0,i={},r=e(".qv-panel-properties");e.each(t.definition.items,function(r,l){if(r.indexOf(s.prefix+"dropzone")>-1)delete t.definition.items[r];else{if("data"!==r&&"sorting"!==r){i[s.prefix+"dropzone"+n]=a.dropZone("section");var c=0,u=0;i[r]={};i[r][l.type]={};l.type&&e.each(l[l.type],function(t,d){if("object"===o(d)&&"metadata"!==t&&"general"!==t&&-1===t.indexOf(s.prefix+"dropzone")){i[r][l.type][s.prefix+"dropzone"+n+"-"+c]=a.dropZone("subsection");i[r][l.type][t]={};u=0;if(d.type){i[r][l.type][t][d.type]={};var p=0;e.each(d[d.type],function(e,f){if("object"===o(f)&&"general"!==t&&-1===e.indexOf(s.prefix+"dropzone")){i[r][l.type][t][d.type][s.prefix+"dropzone"+n+"-"+c+"-"+p]=a.dropZone("property",s.prefix+"dropzone"+n+"-"+c+"-"+p);p+=1;i[r][l.type][t][d.type]["property"+u]=f;u+=1}else i[r][l.type][t][d.type][e]=f});0===Object.keys(d[d.type]).length&&(i[r][l.type][t][d.type][s.prefix+"emptymessage"]=a.dropZone("property",s.prefix+"emptymessage"));i[r][l.type][t][d.type][s.prefix+"dropzone"+n+"-"+c+"-"+p]=a.dropZone("property",s.prefix+"dropzone"+n+"-"+c+"-"+p)}c+=1}else i[r][l.type][t]=d;e.each(d,function(e,n){"object"!==o(n)&&(i[r][l.type][t][e]=n)})});e.each(l,function(t,e){"object"!==o(e)&&(i[r][t]=e)});i[r].items[s.prefix+"dropzone"+n+"-"+c]=a.dropZone("section")}else i[r]=l;n+=1}});1!==n&&(i[s.prefix+"dropzone"+n]=a.dropZone("section"));t.definition.items=i;s.$panel=r;s.accordionAdjusted=false;s.count=n;s.scrollTop=0;d.observePanel(s.$panel,[{hasClass:["pp-section",true,0],attr:["tid",true,1]},{hasClass:["pp-expandable-items-component",true,0]}]);return t}var d={observePanel:function t(n,i){n.mutation(function(t,n){if(f(e(n),i)){d.observerExpandableListsItems(n);d.observeSectionContent()}},{subtree:true,childList:true,attributes:true},function(t,e){for(var n=0;n<t.addedNodes.length;++n)e(t,t.addedNodes[n])})},observerExpandableListsItems:function t(i){var r=e(i);if(r.hasClass("pp-expandable-items-component"))e.each(r.find("li"),function(t,i){e(i).find(".item[tid*='"+s.prefix+"dropzone']:not('."+s.prefix+"dropspot')").each(function(t,n){0===e(n).find("."+s.prefix+"dropspot").length&&p(s,n,true)});if(!i.getAttribute("isobserved")){e(i).mutation(function(t){if(0===e(".ui-draggable-dragging").length){var i;if(t.getAttribute("tid")&&t.getAttribute("tid").indexOf("qw-pe-dropzone")>-1){i=e("[tid='"+t.getAttribute("tid")+"']");i[0]&&!i.hasClass(s.prefix+"dropspot")&&0===i.find("."+s.prefix+"dropspot").length&&p(s,i[0],true)}if(t.getAttribute("tid")&&t.getAttribute("tid").indexOf("qw-pe-emptymessage")>-1){i=e("[tid='"+t.getAttribute("tid")+"']");i.attr("tid")===s.prefix+"emptymessage"&&i.children().length>0&&n.cleanupMessage(i,s)}}},{subtree:true,childList:false,attributes:true});d.observerExpandableListsItems(i);i.setAttribute("isobserved",true)}});else if(!r.hasClass(s.prefix+"dropspot")&&!r.children().first().hasClass(s.prefix+"dropspot")){n.cleanupDropZone(i,false,s);a.createHotSpots({config:s,service:l});l.initDropZones(s)}},observeSectionContent:function t(){s.$panel.find(".pp-section-content").each(function(t,n){n.getAttribute("isobserved")||e(n).mutation(function(){if(false===s.accordionAdjusted){var t=e(".pp-accordion-container");s.$accordion=t;s.assets=c.assets.currentWidgetTemplate.properties;if(t.hasClass("ui-accordion")){t.accordion("option","heightStyle","fill");t.accordion("refresh");t.on("accordionactivate",function(t,e){v(e);l.initDropZones(s)});var n=t.find(".ui-accordion-content-active").attr("x-path");n&&v(n);s.count<=t.accordion("option","active")&&t.accordion("option","active",s.count-1);s.accordionAdjusted=true;var i=e(".pp-expandable-items-component").scope();if(i){var r=i.expandClicked;i.expandClicked=function(t){r(t);a.createHotSpots({config:s,service:l});l.initDropZones(s)}}a.createDataDropzone(s);a.createHotSpots({config:s,service:l});l.initDropZones(s)}}});n.setAttribute("isobserved",true)})}};function p(t,i,r){n.cleanupDropZone(i,r,t);a.createHotSpot({config:t,service:l,$dropZone:e(i)});l.initDropZones(t)}function f(t,n){var i=false;e.each(n,function(e,n){var r=h(t,n);"boolean"===typeof r&&true===r&&(i=true)});return i}function h(t,e){var n=true;for(var i in e)if(e.hasOwnProperty(i)&&e[i].length>2)switch(e[i][2]){case 0:t[i](e[i][0])!==e[i][1]&&(n=false);break;case 1:(true===e[i][1]&&"undefined"===typeof t[i](e[i][0])||false===e[i][1]&&"undefined"!==typeof t[i](e[i][0]))&&(n=false);break}return n}var v=function t(e){if(!e)return;var n=e;"string"!==typeof e&&(n=e.newPanel.attr("x-path"));r.$broadcast("PanelEditor.updatePanelEditor",n)};function g(t){l.toggleDragDrop(e(".ui-accordion-content-active"),t)}var m={dragState:{state:false,data:{}}};function b(t,e,n){if(n){m[t].state=!m[t].state;m[t].data=e;r.$apply()}return m[t].state+(Object.keys(m[t].data).length>0?","+JSON.stringify(m[t].data):"")}return{config:s,switchDragDrop:g,createDropZoneItems:u,doDrop:function t(e,n,i,r){l.doDrop(e,n,i,r)},notify:b,setToolService:function t(e){c=e;l.setToolService(e)},getToolService:function t(){return c},__onlytest__:{evaluateConditions:f,observers:d}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(){Object.defineProperties(this,{transactions:{value:[],writable:true}})}t.prototype.addToBeginning=function(t){this.transactions.unshift(t)};t.prototype.clear=function(){this.transactions=[]};t.prototype.getTransactions=function(){return this.transactions};t.prototype.findTransactionById=function(t){if(t)for(var e=0;e<this.transactions.length;e++)if(this.transactions[e].id===t)return this.transactions[e]};return new t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(181),n(54)],r=function(t,e){var n=t.getService("qwCommonService");var i=JSON.parse(JSON.stringify(e));for(var r in i)for(var s in i[r])i[r][s]=i[r][s].In.reduce(function(t,e){t[e.Name]=e.DefaultValue;return t},{});function a(t){if(t.qId||t.qType)return t;var e=Object.keys(t),n;e.forEach(function(e){"object"!==o(t[e])||n||(n=a(t[e]))});return n}function l(t){if(!t)return;t.qFieldList&&t.qFieldList.qItems.forEach(function(t){p.all[t.qName]||(p.all[t.qName]=new p(t.qName,"Field"))});if(t.qId){var e=t.qId;p.all[e]||(p.all[e]=new p(e,t.qType))}else{var n=Object.keys(t);n.forEach(function(e){"object"===o(t[e])&&l(t[e])})}}function c(t,e){if(!e)return;if(e.qHandle){var n,i,r;if("Doc"===e.qType){n="Doc";i="Doc";r=t}else if("Field"===e.qType){n=t.qFieldName;i="Field";r=t}else if("GenericDimension"===e.qType||"GenericMeasure"===e.qType||"GenericVariable"===e.qType){n=t.qId;i=e.qType}else{var s=a(t);if(s){n=s.qId||s.qType;i=s.qType}}if(n){p.all[n]&&(n=n+"("+e.qHandle+")");p.all[n]=new p(n,i,r);p.all[n].handle=e.qHandle;p.handles[e.qHandle]=p.all[n]}}else{var l=Object.keys(e);l.forEach(function(n){"object"===o(e[n])&&c(t,e[n])})}}function u(t){t.forEach(function(t){p.handles[t].state="Invalid"})}function d(t){t.forEach(function(t){p.handles[t].state="Closed";p.handles[t].handle=0})}function p(t,e,n){Object.defineProperties(this,{id:{value:t},type:{value:e},name:{get:function t(){if(this.id===this.type||!this.type||0===this.id.indexOf(this.type))return this.id;return this.type+":"+this.id}},qixtype:{value:h(e)},description:{value:n},methods:{get:function t(){return i[this.qixtype]}},state:{value:"",writable:true},handle:{value:0,writable:true}})}p.all={};p.handles=[];p.clearAll=function(){p.all={};p.handles=[]};p.addGlobal=function(){var t="Global";p.all[t]=new p(t,t);p.all[t].handle=-1;p.handles[0]=p.all[t]};p.handleReply=function(t,e){var i=p.getDiscoveredObjectsCount();l(e);i!==p.getDiscoveredObjectsCount()&&n.notifyWatchers("DiscoveredObjectsChanged");c(t.params[0]||t.params,e);"GetLayout"!==t.method&&"GetAppLayout"!==t.method||(p.handles[t.handle].state="Valid");e.change&&u(e.change);e.close&&d(e.close)};var f={measure:{clazz:"GenericMeasure",getMethod:"GetMeasure"},dimension:{clazz:"GenericDimension",getMethod:"GetDimension"},bookmark:{clazz:"GenericBookmark",getMethod:"GetBookmark"},Field:{clazz:"Field",getMethod:"GetField"},variable:{clazz:"GenericVariable",getMethod:"GetVariableById"}};function h(t){if(i[t])return t;return f[t]?f[t].clazz:"GenericObject"}p.getGetMethod=function(t){return f[t]?f[t].getMethod:"GetObject"};p.getDiscoveredObjectsCount=function(){var t=0;var e=Object.keys(p.all);for(var n=0;n<e.length;n++)0===p.all[e[n]].handle&&t++;return t};p.hasDiscoveredObjects=function(){var t=Object.keys(p.all);for(var e=0;e<t.length;e++)if(0===p.all[t[e]].handle)return true};return p}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(684)],r=function(t,e){var n,i,r={};function o(t){var e,n;t=t.split(".");n=r[t.splice(0,1)[0]];e=new Function("return ("+JSON.stringify(n)+")."+t.join("."))();return e}i={transformParam:function t(e){if("string"!==typeof e)return e;try{return JSON.parse(e)}catch(t){return e}},replace:function e(n){n=t.extend(true,{},n);if(n.handle){n.handle=n.handle.replace(/\$\{([\w\W]*?)\}/g,function(t,e){if("apphandle"===e)return-1;if("dochandle"===e)return 1;return o(e)});n.handle=JSON.parse(n.handle)}if(Array.isArray(n.params))n.params=n.params.map(this.transformParam);else for(var i in n.params)n.params[i]=this.transformParam(n.params[i]);delete n.name;return n},execute:function t(e,n,o,s){var a=0,l=o.chain;function c(t){a++;r[l[a-1].name]=t;if(a===l.length){s&&s();return}e(i.replace(l[a])).then(c)}e(i.replace(l[0])).then(c)},executeRaw:function t(e,n,r){var o={chain:r};i.execute(e,n,o)},get:function e(i){return t.extend(true,{},n[i])}};var s=JSON.parse(e);Object.keys(s).forEach(function(t){s[t].chain.forEach(function(e,n){if("string"===typeof e){var i=s[t].chain;i.splice.apply(i,[n,1].concat(s[e].chain))}})});i.macros=n=s;return i}.apply(e,i),void 0!==r&&(t.exports=r))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(314),n(130),n(107),n(46),n(131),n(316),n(61),n(54),n(56),n(86),n(85)],r=function(t,e,n,i,r,o,s){var a=r.createGroup("devhub-toolbar",1);var l=t.getService("qwNavigationService");var c=t.getService("qwMenuService");var u=t.getService("qwCommonService");var d=t.getService("qwConfigService");var p=t.getService("qwPermissionService");var f={restrict:"EA",replace:true,template:n,controller:["$scope",function(n){function r(){n.toolConfig=d.getToolConfig();n.buttons=c.getButtons();n.login=c.getLogin();n.isSearch=false;n.query={};n.title=o.get(n.toolConfig.toolTitle);n.searchActive=n.toolConfig.toolbarSearch;n.toolConfig.entity&&p.isReadOnlyMode(n.toolConfig.entity).then(function(t){n.readOnly=t});n.appSelector=c.getAppSelector()}n.isSmallDevice=i.isSmallDevice;function f(t){n.$apply(function(){n.isSmallDevice=t})}n.$watch("query.text",function(e,n){e!==n&&t.$rootScope.$broadcast("newSearch",e)});function h(t){var n;t.srcElement?n=t.srcElement:t.target&&(n=t.target);e(n).addClass("composing");e(document.querySelector(".qui-searchfield .magnifying-glass")).addClass("composing-icon");e(document.querySelector(".qui-searchfield .clear-button")).addClass("composing-icon")}function v(t){var n;t.srcElement?n=t.srcElement:t.target&&(n=t.target);e(n).removeClass("composing");e(document.querySelector(".qui-searchfield .magnifying-glass")).removeClass("composing-icon");e(document.querySelector(".qui-searchfield .clear-button")).removeClass("composing-icon")}n.toggleSearch=function(){n.query.text="";n.isSearch=!n.isSearch;n.isSearch&&setTimeout(function(){var t=document.querySelector("#toolbar-start-page > div.hub-search-container > div.hub-search > div.lui-search > input");if(t){t.focus();t.addEventListener("compositionstart",h,false);t.addEventListener("compositionend",v,false)}})};n.openPopoverMenu=function(t){c.createMenuItems().then(function(e){s.show(e,t.target)})};n.openPopoverNavigation=function(t){l.createNavigationMenuItems().then(function(e){s.show(e,t.target)})};n.openPopoverLogin=function(t){c.createLoginMenuItems().then(function(e){s.show(e,t.target,150)})};var g={preventDefault:true,allowInInput:true,delay:0};function m(){n.$apply(function(){n.isSearch||n.toggleSearch()})}function b(){n.isSearch&&n.toggleSearch()}a.registerKeys("ctrl+f",m,g);a.registerKeys("esc",b,g);a.on();i.ViewChanged.bind(f);u.registerWatcher("initToolbar",r);n.$on("$destroy",function(){i.ViewChanged.unbind(f)})}]};t.directive("qwDevhubToolbar",function(){return f});return f}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div>\n\t<qui-toolbar class="devhub-toolbar">\n\t\t<qui-toolbar-left>\n\t\t\t<lui-button q-title-translation="Devhub.Navigation" id="nav-button" tid="4dd7ec"\n\t\t\t\t\t\tclass="lui-button--toolbar-inverse devhub-button qui-popover-button"\n\t\t\t\t\t\tng-click="openPopoverNavigation($event)">\n\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--compass"></span><span\n\t\t\t\tclass="lui-button__caret  lui-caret"></span>\n\t\t\t</lui-button>\n\t\t\t<lui-button q-title-translation="Devhub.Menu"\n\t\t\t\t\t\tid="menu-button" tid="6b4a87"\n\t\t\t\t\t\tclass="lui-button--toolbar-inverse devhub-button"\n\t\t\t\t\t\tng-click="openPopoverMenu($event)">\n\t\t\t\t<span\n\t\t\t\t\tng-class="{\'lui-icon--unordered-list\': toolConfig.toolPath !== \'dev-hub\', \'lui-icon--more\' : toolConfig.toolPath === \'dev-hub\'}"\n\t\t\t\t\tclass="lui-button__icon  lui-icon"></span>\n\t\t\t\t<span class="lui-button__caret  lui-caret" ng-if="toolConfig.toolPath !== \'dev-hub\'"></span>\n\t\t\t</lui-button>\n\t\t\t<qui-toolbar-button ng-repeat="btn in buttons" class="lui-button  lui-button--toolbar-inverse"\n\t\t\t\t\t\t\t\tqui-model="btn" ng-if="btn.position.left"></qui-toolbar-button>\n\t\t</qui-toolbar-left>\n\t\t<div class="devhub-title"><span>{{title}}</span></div>\n\t\t<qui-toolbar-right>\n\t\t\t<qui-toolbar-button ng-repeat="btn in buttons" class="lui-button  lui-button--toolbar-inverse"\n\t\t\t\t\t\t\t\tqui-model="btn" ng-if="btn.position.right"></qui-toolbar-button>\n\t\t\t<div class="dropdown-panel widget-select-app" ng-show="appSelector && appSelector.active">\n\t\t\t\t<lui-select x-model="appSelector.currentApp" x-variant="inverse" qui-value="app.id"\n\t\t\t\t\t\t\tx-options="app.type for app in appSelector.apps" x-change="appSelector.select($event)"\n\t\t\t\t\t\t\tng-disabled="toolConfig.panelEditor.isOpen">\n\t\t\t\t\t<option disabled class="default-option" value=""\n\t\t\t\t\t\t\tq-translation="{{appSelector.apps.length > 0 ? \'Devhub.NoAppSelected\' : \'Devhub.NoAppAvailable\'}}"></option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t</qui-toolbar-right>\n\t\t\x3c!--Login/logout button(s)/dropdown--\x3e\n\t\t<div class="lui-button--toolbar-inverse lui-button qui-popover-button login-button"\n\t\t\t tid="6b4a92"\n\t\t\t qui-model="login"\n\t\t\t id="login-button"\n\t\t\t ng-if="!isSearch && login.authenticated"\n\t\t\t ng-click="openPopoverLogin($event)">\n\t\t\t<div class="user">\n\t\t\t\t<div class="user-id">{{login.userId}}</div>\n\t\t\t\t<div class="user-dir">{{login.userDirectory}}</div>\n\t\t\t</div>\n\t\t\t<span class="lui-button__caret  lui-caret"></span>\n\t\t</div>\n\t\t<qui-toolbar-button class="login-button lui-button lui-button--toolbar-inverse log-in-button" qui-model="login"\n\t\t\t\t\t\t\tng-if="!isSearch && login.anonymous">{{login.text}}\n\t\t</qui-toolbar-button>\n\t\t\x3c!--Read-only marker--\x3e\n\t\t<div class="readonly-label" ng-if="readOnly" q-translation="DevHub.ReadOnlyMode"></div>\n\t\t\x3c!--Search field--\x3e\n\t\t<div class="hub-search-container" ng-if="searchActive">\n\t\t\t\x3c!--Search icon, show from start--\x3e\n\t\t\t<div ng-hide="isSearch" class="hub-toolbar-search hub-toolbar-flexbutton"\n\t\t\t\t q-title-translation="Devhub.Search">\n\t\t\t\t<span class="lui-icon  lui-icon--search" tid="8ba482" ng-click="toggleSearch()"></span>\n\t\t\t</div>\n\t\t\t\x3c!-- Search input field, show only when the search icon is pressed--\x3e\n\t\t\t<div ng-if="isSearch" class="hub-search">\n\t\t\t\t<lui-search x-variant="inverse" query="query.text" placeholder="Devhub.Search"></lui-search>\n\t\t\t</div>\n\t\t\t\x3c!--Search done button--\x3e\n\t\t\t<div ng-if="isSearch" class="hub-search-done">\n\t\t\t\t<button class="lui-button lui-button--inverse done-button" ng-click="toggleSearch()">\n\t\t\t\t\t<span q-translation="Devhub.Done"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</qui-toolbar>\n</div>\n'},function(t,e){t.exports='<lui-popover x-arrow="arrow"\n\t\t\t ng-style="{\'maxWidth\' : width ? (width + \'px\') : \'220px\', \'minWidth\' : width ? (width + \'px\') : \'220px\'}">\n\t<lui-popover-body class="menu-popover-body">\n\t\t<ul class="lui-list">\n\t\t\t<li tid="{{option.tid}}" q-title-translation="{{input.title}}" ng-repeat="option in input.menuOptions"\n\t\t\t\tclass="lui-list__item  lui-list__action" ng-class="{\'lui-disabled\': option.disabled}"\n\t\t\t\tng-click="input.select($event, option); $event.stopPropagation();">\n\t\t\t\t<span ng-if="option.icon" ng-class="option.icon" class="lui-icon lui-list__aside"></span>\n\t\t\t\t<span class="lui-list__text" q-translation="{{option.text}}"\n\t\t\t\t\t  q-title-translation="{{option.title}}"></span>\n\t\t\t\t<div class="list-divider" ng-if="option.openInNewTab === \'optional\'"></div>\n\t\t\t\t<button class="lui-fade-button" ng-if="option.openInNewTab"\n\t\t\t\t\t\tng-class="{ \'optional\' : option.openInNewTab === \'optional\'}"\n\t\t\t\t\t\tng-click="$event.stopPropagation();input.selectAside($event, option);">\n\t\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--new-tab"></span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t</ul>\n\t</lui-popover-body>\n</lui-popover>'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(63),n(317)],r=function(t,e,n,i){e.component("quiToolbar",{template:"<div class='qui-toolbar' ng-transclude />"});e.component("quiToolbarLeft",{template:"<div class='qui-buttonset-left' ng-transclude />"});e.component("quiToolbarRight",{template:"<div class='qui-buttonset-right' ng-transclude />"});e.component("quiToolbarButtonGroup",{template:"<div class='lui-buttongroup' ng-transclude />"});e.component("quiToolbarButton",{template:i,scope:{quiModel:"="},controller:["$scope",function(e){e.isMouseDown=false;e.onMouseDown=function(){e.isMouseDown=true};e.clientTabNavigation=n.getFlag("CLIENT_TAB_NAVIGATION");e.onButton=function(n){t.support.touch&&n.target.focus();e.quiModel.isToggleButton&&(e.quiModel.pressed=!e.quiModel.pressed);e.quiModel.isOpenedByClick=e.isMouseDown;e.isMouseDown=false;e.quiModel.onButtonClicked(e.quiModel,n)};function i(){var t=[];var n=e.quiModel;n.pressed?n.activeVariant?t.push(n.activeVariant):t.push("lui-active"):n.variant?t.push(n.variant):e.clientTabNavigation||t.push("lui-button--toolbar");e.classList=t}e.$watch("quiModel.pressed",i);e.$watch("quiModel.variant",i);e.$watch("quiModel.activeVariant",i);i()}]})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<button\n\t\ttid="{{quiModel.tid}}"\n\t\tng-click="onButton($event)"\n\t\tng-mousedown="onMouseDown()"\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tq-title-translation="{{(quiModel.pressed && quiModel.tooltipActive ? quiModel.tooltipActive : quiModel.tooltipInactive)}}"\n\t\tng-disabled="quiModel.isDisabled()"\n\t\tng-hide="quiModel.isHidden()"\n\t\tclass="lui-button"\n\t\ttext-inactive="{{quiModel.textInactive ? quiModel.textInactive : \'\'}}"\n\t\tng-class="classList">\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="quiModel.icon && quiModel.iconToTheLeft"\n\t\tclass="lui-button__icon  lui-icon  lui-icon--{{quiModel.icon}} center"\n\t></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && quiModel.showText()"\n\t\tclass="lui-button__text  item-title"\n\t\tqva-direction\n\t\tx-dir-text="{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}"\n\t>\n\t\t{{(quiModel.pressed && quiModel.textActive ? quiModel.textActive : quiModel.textInactive) | translate}}\n\t</span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="quiModel.icon && !quiModel.iconToTheLeft"\n\t\tclass="lui-button__icon  lui-icon  lui-icon--{{quiModel.icon}} center"\n\t></span>\n\t<span\n\t\tqva-outside-ignore-for="{{quiModel.name}}"\n\t\tng-if="!quiModel.dynamicText && !quiModel.textOnly && quiModel.isDropdownButton"\n\t\tclass="lui-button__caret  lui-caret"\n\t></span>\n\t<span class="lui-button__text" qva-outside-ignore-for="{{quiModel.name}}" ng-if="quiModel.dynamicText">\n\t\t{{ quiModel.dynamicText() }}\n\t</span>\n</button>\n'},,function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){var e=false;if(t&&t.length>3){e="";t=t.replace("qw","");t=t[0].toLowerCase()+t.substr(1);for(var n in t){var i=t[n];if("string"===typeof i){i===i.toUpperCase()&&(i="-"+i.toLocaleLowerCase());e+=i}}}return e}function e(t,e){var n=false;if(t){n=t;e&&(n=t.toLowerCase());n=n[0].toUpperCase()+n.substr(1)}return n}return{directiveToFile:t,capitalizeString:e}}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(50),n(75),n(323),n(324),n(327),n(179),n(46),n(72),n(69),n(47),n(184),n(63)],r=function(t,e,n,i,r,s,a,l,c,u,d,p){var f={sorting:n,axis:i};var h=d.getLogicFor("hard","default");function v(e,n){return t.getValue(e,"qDef.qNumFormat.qFmt")===s.getDefaultNumericFormat(e.qDef.qNumFormat,n?n.localeInfo:"")}function g(e){void 0===t.getValue(e,"color.useMeasureGradient")&&t.setValue(e,"color.useMeasureGradient",false);var n=t.getValue(e,"color.auto"),i=t.getValue(e,"color.mode");return!n&&"byMeasure"===i&&"libraryItem"===t.getValue(e,"color.byMeasureDef.type")}f.general={type:"items",translation:"properties.general",grouped:true,items:{showTitles:{translation:"properties.showTitles",type:"boolean",ref:"showTitles",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],snapshot:{tid:"property-showTitles"}},titles:{type:"items",show:function t(e){return false!==e.showTitles},items:{title:{translation:"Common.Title",component:"string",expression:"optional",ref:"title",defaultValue:""},subtitle:{translation:"properties.subtitle",type:"string",expression:"optional",ref:"subtitle",defaultValue:""},footnote:{translation:"properties.footnote",type:"string",expression:"optional",ref:"footnote",defaultValue:""}}},details:{type:"items",show:true,items:{showDetails:{translation:"properties.showDetails",type:"boolean",ref:"showDetails",component:"switch",defaultValue:false,options:[{value:true,translation:"Common.Show"},{value:false,translation:"properties.hide"}]},allowShowDetailsMessage:{component:"text",translation:"properties.allowShowDetails",style:"hint"}}}}};f.metadata={type:"items",translation:"properties.metadata",schemaIgnore:true,show:function t(e){return"masterobject"===e.qInfo.qType},grouped:true,items:{name:{translation:"Common.Name",type:"string",ref:"qMetaDef.title",minlength:1,rollbackInvalid:true,show:function t(e){return e.qMetaDef}},labelExpression:{translation:"metadata.labelExpression",type:"string",component:"expression",expressionType:"StringExpression",expression:"always",change:function t(e){var n=u.getValue(e,"labelExpression.qStringExpression.qExpr");n||(e.labelExpression=void 0)},ref:"labelExpression",show:function t(e){return!!e.qMetaDef}},description:{translation:"Common.Description",type:"string",component:"textarea",expression:"optional",change:function t(e,n,i){if("object"===o(i.qMetaDef.description)){i.descriptionExpression=i.qMetaDef.description;i.qMetaDef.description=""}else if("string"===typeof i.descriptionExpression&&i.descriptionExpression){i.qMetaDef.description=i.descriptionExpression;i.descriptionExpression=void 0}},refFn:function t(e){var n="object"===o(e.descriptionExpression);return n?"descriptionExpression":"qMetaDef.description"},maxlength:c.description,show:function t(e){return e.qMetaDef}},tags:{translation:"Common.Tags",component:"tags",type:"array",ref:"qMetaDef.tags",show:function t(e){return e.qMetaDef}}}};f.settings={type:"items",component:"expandable-items",translation:"Common.Appearance",items:{metadata:f.metadata,general:f.general}};p.getFlag("ALT_STATE_ONE")&&e.inClient()&&(f.settings.items.selections=r);f.addons={type:"items",component:"expandable-items",translation:"properties.addons",items:{}};f.dimensions={type:"array",component:"dimensions",translation:"Common.Dimensions",alternativeTranslation:"properties.alternative.dimensions",ref:"qHyperCubeDef.qDimensions",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qDimensions",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.dimensions.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"dimension",ref:"qLibraryId",translation:"Common.Dimension",show:function t(e){return e.qLibraryId}},inlineDimension:{component:"inline-dimension",show:function t(e){return!e.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},nullSuppression:{type:"boolean",ref:"qNullSuppression",defaultValue:false,translation:"properties.dimensions.showNull",inverted:true},dimensionLimits:{type:"items",items:{otherMode:{type:"string",component:"dropdown",ref:"qOtherTotalSpec.qOtherMode",translation:"properties.dimensionLimits.limitation",options:[{value:"OTHER_OFF",translation:"properties.dimensionLimits.none"},{value:"OTHER_COUNTED",translation:"properties.dimensionLimits.fixedNumber"},{value:"OTHER_ABS_LIMITED",translation:"properties.dimensionLimits.exactValue"},{value:"OTHER_REL_LIMITED",translation:"properties.dimensionLimits.relativeValue"}],defaultValue:"OTHER_OFF",readOnly:function t(e,n){return 0===n.getMeasures().length},change:function e(n){var i=t.getValue(n,"qOtherTotalSpec.qOtherMode"),r;if("OTHER_REL_LIMITED"===i){r=t.getValue(n,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"!==r[r.length-1]&&u.isNumeric(r)){n.qOtherTotalSpec.qOtherLimit||t.setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.qOtherTotalSpec.qOtherLimit.qv=r+"%"}}else if("OTHER_ABS_LIMITED"===i){r=t.getValue(n,"qOtherTotalSpec.qOtherLimit.qv","0");if(r.length&&"%"===r[r.length-1]){n.qOtherTotalSpec.qOtherLimit||t.setValue(n,"qOtherTotalSpec.qOtherLimit",{qv:"0"});n.qOtherTotalSpec.qOtherLimit.qv=r.substr(0,r.length-1)}}}},otherSortMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherSortMode",options:[{value:"OTHER_SORT_DESCENDING",translation:"properties.dimensionLimits.fixedNumber.sortDescendingLabel"},{value:"OTHER_SORT_ASCENDING",translation:"properties.dimensionLimits.fixedNumber.sortAscendingLabel"}],defaultValue:"OTHER_SORT_DESCENDING",show:function e(n,i){return"OTHER_COUNTED"===t.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},otherCounted:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherCounted",defaultValue:{qv:"10"},show:function e(n,i){return"OTHER_COUNTED"===t.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},otherLimitMode:{type:"string",component:"buttongroup",ref:"qOtherTotalSpec.qOtherLimitMode",options:[{value:"OTHER_GE_LIMIT",label:">=",tooltipTranslation:"properties.greaterOrEqualTo"},{value:"OTHER_GT_LIMIT",label:">",tooltipTranslation:"properties.greaterThan"},{value:"OTHER_LT_LIMIT",label:"<",tooltipTranslation:"properties.lessThan"},{value:"OTHER_LE_LIMIT",label:"<=",tooltipTranslation:"properties.lessOrEqualTo"}],defaultValue:"OTHER_GE_LIMIT",icon:true,smallIconFont:true,show:function e(n,i){var r=t.getValue(n,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&i.getMeasures().length>0}},otherLimit:{component:"expression",expressionType:"ValueExpr",ref:"qOtherTotalSpec.qOtherLimit",defaultValue:{qv:"0"},show:function e(n,i){var r=t.getValue(n,"qOtherTotalSpec.qOtherMode");return("OTHER_ABS_LIMITED"===r||"OTHER_REL_LIMITED"===r)&&i.getMeasures().length>0}},calculatedAgainstMessage:{component:"text",label:function t(e,n){var i=n.getMeasureLayouts()[0];return i?a.get("Properties.DimensionLimits.CalculatedAgainst",i.qFallbackTitle):a.get("Properties.DimensionLimits.NoMeasure")},show:function e(n){var i=t.getValue(n,"qOtherTotalSpec.qOtherMode");return"OTHER_OFF"!==i}}}},others:{type:"items",items:{suppressOther:{type:"boolean",ref:"qOtherTotalSpec.qSuppressOther",translation:"properties.dimensionLimits.showOthers",inverted:true,defaultValue:false,show:function e(n,i){return"OTHER_OFF"!==t.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},othersLabel:{type:"string",expression:"optional",ref:"qDef.othersLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function t(){return a.get("properties.dimensionLimits.others")},change:function t(e){if(e.qDef){var n=e.qDef.othersLabel||"";if("object"===o(n)){n=n.qStringExpression&&n.qStringExpression.qExpr||"";e.qOtherLabel={qv:0===n.indexOf("=")?n:"="+n}}else e.qOtherLabel={qv:n}}},show:function e(n,i){return!t.getValue(n,"qOtherTotalSpec.qSuppressOther")&&"OTHER_OFF"!==t.getValue(n,"qOtherTotalSpec.qOtherMode")&&i.getMeasures().length>0}},othersLabel2:{type:"string",component:"expression",expressionType:"StringExpr",ref:"qOtherLabel",translation:"properties.dimensionLimits.othersLabel",defaultValue:function t(){return a.get("properties.dimensionLimits.others")},show:false}}}}};f.measures={type:"array",component:"measures",translation:"Common.Measures",ref:"qHyperCubeDef.qMeasures",disabledRef:"qHyperCubeDef.qLayoutExclude.qHyperCubeDef.qMeasures",min:1,allowAdd:true,allowRemove:true,allowMove:true,addTranslation:"properties.measures.add",grouped:true,items:{libraryId:{type:"string",component:"library-item",libraryItemType:"measure",ref:"qLibraryId",translation:"Common.Measure",show:function t(e){return e.qLibraryId}},inlineMeasure:{component:"inline-measure",show:function t(e){return!e.qLibraryId}},autoSort:{ref:"qDef.autoSort",type:"boolean",defaultValue:true,show:false},cId:{ref:"qDef.cId",type:"string",show:false},numberFormatting:{type:"items",items:{numberFormattingType:{type:"string",component:"custom-formatter-dropdown",ref:"qDef.qNumFormat.qType",translation:"properties.numberFormatting",defaultValue:"U",schemaIgnore:true,options:[{value:"U",translation:"Common.Auto"},{value:"F",translation:"properties.numberFormatting.types.number"},{value:"M",translation:"properties.numberFormatting.types.money"},{value:"D",translation:"properties.numberFormatting.types.date"},{value:"IV",translation:"properties.numberFormatting.types.duration"},{value:"R",translation:"Common.Custom"},{value:"OFF",translation:"properties.numberFormatting.types.customFormatting"}],change:function t(e,n,i,r){s.setNumFmtPattern("qType",e.qDef.qNumFormat,r.localeInfo)}},numberFormattingMode:{type:"boolean",component:"switch",ref:"qDef.numFormatFromTemplate",translation:"properties.numberFormatting.formatting",defaultValue:true,options:[{value:true,translation:"properties.numberFormatting.simple"},{value:false,translation:"Common.Custom"}],show:function e(n){return["F","D","TS","T"].contains(t.getValue(n,"qDef.qNumFormat.qType"))}},numberFormattingTemplates:{type:"string",component:"number-formatter-dropdown",ref:"qDef.qNumFormat.qFmt",defaultValue:"#,##0",schemaIgnore:true,show:function e(n){var i=t.getValue(n,"qDef.qNumFormat.qType");return["F","D","TS","T"].contains(i)&&true===t.getValue(n,"qDef.numFormatFromTemplate",true)}},numDecimals:{type:"integer",ref:"qDef.qNumFormat.qnDec",translation:"properties.numberFormatting.nDec",defaultValue:2,schemaIgnore:true,min:0,max:14,show:false},numPrecisionDigits:{type:"integer",ref:"qDef.qNumFormat.qnDec",translation:"properties.numberFormatting.significantFigures",defaultValue:10,schemaIgnore:true,min:1,max:14,show:false},decimalSep:{type:"string",ref:"qDef.qNumFormat.qDec",translation:"properties.numberFormatting.dec",defaultValue:".",schemaIgnore:true,show:function e(n){var i=t.getValue(n,"qDef.qNumFormat.qType");return"R"===i},change:function t(e,n,i,r){s.setNumFmtPattern("qDec",e.qDef.qNumFormat,r.localeInfo)},invalid:function e(n){return t.getValue(n,"qDef.qNumFormat.qDec")===t.getValue(n,"qDef.qNumFormat.qThou")},readOnly:function t(e,n,i,r){return!v(e,r)}},thousandSep:{type:"string",ref:"qDef.qNumFormat.qThou",translation:"properties.numberFormatting.thousandSeparator",defaultValue:"",schemaIgnore:true,show:function e(n){var i=t.getValue(n,"qDef.qNumFormat.qType");return"R"===i},change:function t(e,n,i,r){s.setNumFmtPattern("qThou",e.qDef.qNumFormat,r.localeInfo)},invalid:function e(n){var i=t.getValue(n,"qDef.qNumFormat.qType");if("I"===i)return false;return t.getValue(n,"qDef.qNumFormat.qDec")===t.getValue(n,"qDef.qNumFormat.qThou")},readOnly:function t(e,n,i,r){return!v(e,r)}},format:{type:"string",component:"number-formatter",ref:"qDef.qNumFormat.qFmt",resetTranslation:"properties.numberFormatting.resetPattern",translation:"properties.numberFormatting.formatPattern",defaultValue:"",schemaIgnore:true,show:function t(e){return m(e)},change:function t(e){e.qDef.qNumFormat.qFmt=s.getNormalizedFormat(e.qDef.qNumFormat,e.qDef.qNumFormat.qFmt)},invalid:function t(e,n,i){if(["D","T","TS","IV"].contains(e.qDef.qNumFormat.qType))return false;var r="R"===e.qDef.qNumFormat.qType?e.qDef.qNumFormat.qDec:i.localeInfo["q"+("M"===e.qDef.qNumFormat.qType?"Money":"")+"DecimalSep"],o=new RegExp("(0|#)"+u.escapeRegExp(r)+"0*#*"),s=(e.qDef.qNumFormat.qFmt||"").split(";"),a=s[0].match(o),l=a&&a[0]?a[0].length-2:0,c=s[1]?s[1].match(o):null,d=c&&c[0]?c[0].length-2:0;return l>15||d>15}}}}}};function m(e){var n=t.getValue(e,"qDef.qNumFormat.qType");return["R","M","IV"].contains(n)||"U"!==n&&false===t.getValue(e,"qDef.numFormatFromTemplate",true)}f.reflines={type:"array",ref:"refLine.refLines",translation:"properties.referenceLines",itemTitleRef:"label",allowAdd:true,allowRemove:true,allowMove:true,add:function t(e,n){var i=l.initializeService("object."+l.getMatch(n.visualization||n.qInfo.qType));var r=i.getStyle("referenceLine.label.name","color");var o=l.currentPalette.indexOf(r);e.paletteColor={index:o,color:r}},addTranslation:"properties.referenceLines.add",items:{show:{ref:"show",translation:"Common.Show",type:"boolean",defaultValue:true},label:{ref:"label",translation:"Common.Label",type:"string"},paletteColor:{ref:"paletteColor",translation:"properties.color",type:"object",component:"color-picker",dualOutput:true,show:function e(n){if(!t.getValue(n,"paletteColor")){var i=l.resolveColor(t.getValue(n,"color"));var r={index:-1,color:i};t.setValue(n,"paletteColor",r)}return true}},expressionValue:{ref:"refLineExpr.value",translation:"properties.referenceLines.expression",type:"number",expression:"optional",expressionType:"ValueExpression",defaultValue:0,change:function t(e){var n=e.refLineExpr;"object"===o(n.value)?n.label={qStringExpression:{qExpr:n.value.qValueExpression.qExpr}}:n.label=""+n.value}},expressionLabel:{ref:"refLineExpr.label",translation:"properties.referenceLines.expression",type:"string",expression:"optional",expressionType:"StringExpression",defaultValue:"0",show:false}}};f.staticCalcCond={type:"items",items:{expr:{ref:"qHyperCubeDef.qCalcCond",type:"string",component:"expression",expressionType:"ValueExpr",translation:"properties.hyperCube.calcCond"},customErrorMessage:{ref:"qHyperCubeDef.customErrorMessage.calcCond",component:"textarea",defaultValue:"",type:"string",placeholderTranslation:"Object.ErrorMessage.CalculationCondition",translation:"properties.hyperCube.calcCondMessage",show:function e(n){var i=t.getValue(n,"qHyperCubeDef.qCalcCond");return i.qv&&""!==i.qv}}}};f.dataHandling={type:"items",translation:"properties.dataHandling",grouped:true,items:{suppressZero:{ref:"qHyperCubeDef.qSuppressZero",defaultValue:false,translation:"properties.hyperCube.showZero",type:"boolean",inverted:true},calcCond:{uses:"staticCalcCond"}}};f.calcCond={component:"calc-cond",ref:"qHyperCubeDef",schemaIgnore:true};f.colorsAndLegend={type:"items",translation:"properties.colorsAndLegend",grouped:true,items:{colors:{type:"items",items:{autoColor:{ref:"color.auto",type:"boolean",translation:"properties.colors",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},colorMode:{ref:"color.mode",type:"string",component:"dropdown",options:h.color.colorMode.options,defaultValue:"primary",show:h.color.colorMode.show,globalChange:function t(e,n){h.color.colorBy.globalChange(e,n,"qHyperCubeDef.")}},colorByDimension:{ref:"color.byDimDef",schemaIgnore:true,translation:"properties.colorBy.selectDimension",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"dimension",show:h.color.colorBy.dimension.show,change:h.color.colorBy.dimension.change},colorByMeasure:{ref:"color.byMeasureDef",schemaIgnore:true,translation:"properties.colorBy.selectMeasure",type:"object",defaultValue:{},component:"color-by-dropdown",libraryItemType:"measure",show:h.color.colorBy.measure.show,change:h.color.colorBy.measure.change},colorByLabel:{type:"string",ref:"color.altLabel",schemaIgnore:true,translation:"Common.Label",expression:"optional",show:h.color.colorBy.label.show,change:h.color.colorBy.label.change},baseColors:{type:"items",items:{useBaseColor:{ref:"color.useBaseColors",type:"string",translation:"properties.useLibraryColors",component:"dropdown",show:h.color.baseColor.show,globalChange:function e(n){"byMultiple"===t.getValue(n,"color.mode","")&&"dimension"===t.getValue(n,"color.useBaseColors","")&&t.setValue(n,"color.useBaseColors","measure")},defaultValue:"off",options:function t(e,n){var i=[{value:"off",translation:"Common.None"}];h.color.baseColor.hasMeasureColor(n)&&h.color.baseColor.isSupported(e.visualization)&&i.push({value:"measure",translation:"Common.Measure"});h.color.baseColor.hasDimensionColor(n)&&"byMultiple"!==e.color.mode&&i.push({value:"dimension",translation:"Common.Dimension"});return i}},measureColor:{translation:"properties.libraryColors",component:"measure-color",show:h.color.baseColor.showColors}}},paletteColor:{ref:"color.paletteColor",translation:"properties.color",type:"object",component:"color-picker",readOnly:h.color.paletteColor.readOnly,dualOutput:true,show:h.color.paletteColor.show,defaultValue:h.color.paletteColor.defaultValue},useDimColVal:{ref:"color.useDimColVal",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:h.color.useDimColVal.show},useMeasureGradient:{ref:"color.useMeasureGradient",translation:"properties.libraryColors",type:"boolean",component:"switch",defaultValue:true,options:[{value:true,translation:"properties.on"},{value:false,translation:"properties.off"}],show:function t(e){return g(e)}},persistentColors:{ref:"color.persistent",translation:"properties.colorPersistence",type:"boolean",defaultValue:false,show:h.color.persistentColors.show,readOnly:h.color.persistentColors.readOnly},attributeExpression:{type:"string",component:"expression",expressionType:"measure",schemaIgnore:true,ref:"qHyperCubeDef.qMeasures.0.qAttributeExpressions.0.qExpression",change:h.color.attributeExpression.change,globalChange:h.color.attributeExpression.globalChange,translation:"Common.Expression",show:h.color.attributeExpression.show},expressionIsColor:{ref:"color.expressionIsColor",translation:"properties.expressionIsColor",type:"boolean",defaultValue:true,show:h.color.expressionIsColor.show},expressionLabel:{type:"string",ref:"color.expressionLabel",translation:"Common.Label",change:h.color.expressionLabel.change,show:h.color.expressionLabel.show},colorSchemeMeasure:{ref:"color.measureScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:t.getValue(l,"scales.0.propertyValue","sg"),items:h.helpers.getMeasureSchemeOptions,show:function e(n){return h.color.colorSchemeMeasure.show(n)&&(!g(n)||!t.getValue(n,"color.useMeasureGradient"))}},reverseScheme:{ref:"color.reverseScheme",translation:"properties.reverseColorScheme",type:"boolean",defaultValue:false,show:h.color.reverseScheme.show},colorSchemeDimension:{ref:"color.dimensionScheme",type:"string",translation:"properties.colorScheme",component:"item-selection-list",defaultValue:t.getValue(l,"dataPalettes.0.propertyValue","12"),items:h.helpers.getDimensionSchemeOptions,show:h.color.colorSchemeDimension.show},customRange:{type:"items",items:{autoMinMax:{ref:"color.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],show:h.color.customRange.autoMinMax.show},min:{ref:"color.measureMin",translation:"properties.axis.min",expression:"optional",type:"number",show:h.color.customRange.min.show,invalid:h.color.customRange.min.invalid},max:{ref:"color.measureMax",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:h.color.customRange.max.show,invalid:h.color.customRange.max.invalid}},show:h.color.customRange.show}}},legend:{show:h.legend.show,type:"items",items:{show:{ref:"legend.show",type:"boolean",translation:"properties.legend.show",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"properties.off"}]},dock:{type:"string",component:"dropdown",ref:"legend.dock",translation:"properties.legend.position",options:[{value:"auto",translation:"Common.Auto"},{value:"right",translation:"properties.dock.right"},{value:"bottom",translation:"Common.Bottom"},{value:"left",translation:"properties.dock.left"},{value:"top",translation:"Common.Top"}],defaultValue:"auto",show:h.legend.dock.show},showTitle:{ref:"legend.showTitle",translation:"properties.legend.showTitle",type:"boolean",defaultValue:true,show:h.legend.showTitle.show}}}}};f.data={type:"items",component:"hypercube-data",translation:"Common.Data",addTranslation:"Properties.AddData",allowAdd:true,items:{dimensions:f.dimensions,measures:f.measures}};f.layers={component:"layers"};return f}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{type:"array",component:"sorting",translation:"properties.sorting",sortIndexRef:"qHyperCubeDef.qInterColumnSortOrder",allowMove:true,schemaIgnore:true,items:{dimensions:{type:"items",component:"expandable-items",ref:"qHyperCubeDef.qDimensions",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function t(e,n){if(e.qDef.autoSort)return n.autoSortDimension(e).then(function(){})}},dimension:{component:"sorting-dimension",type:"items",ref:"",sortingItems:{expression:true,frequency:false,numeric:true,ascii:true}}}},measures:{type:"items",component:"expandable-items",grouped:true,ref:"qHyperCubeDef.qMeasures",items:{autoSort:{ref:"qDef.autoSort",type:"boolean",translation:"properties.sorting",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}],change:function t(e,n){if(e.qDef.autoSort)return n.autoSortMeasure(e).then(function(){})}},measure:{component:"sorting-measure",ref:"",sortingItems:{numeric:true,ascii:true}}}}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(46),n(175),n(326)],r=function(t,e,n){var i={type:"items",items:{autoMinMax:{ref:"measureAxis.autoMinMax",type:"boolean",translation:"properties.axis.range",component:"switch",defaultValue:true,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},minMax:{type:"string",component:"dropdown",ref:"measureAxis.minMax",options:[{translation:"properties.axis.min",value:"min"},{translation:"Common.Max",value:"max"},{translation:"properties.axis.minMax",value:"minMax"}],defaultValue:"min",show:function t(e){return e.measureAxis&&!e.measureAxis.autoMinMax}},min:{ref:"measureAxis.min",translation:"properties.axis.min",expression:"optional",type:"number",show:function t(e){return e.measureAxis&&["min","minMax"].contains(e.measureAxis.minMax)&&!e.measureAxis.autoMinMax},invalid:function t(e){if(e.measureAxis&&"minMax"===e.measureAxis.minMax)return e.measureAxis.min>=e.measureAxis.max;return false}},max:{ref:"measureAxis.max",translation:"Common.Max",expression:"optional",type:"number",defaultValue:10,show:function t(e){return e.measureAxis&&["max","minMax"].contains(e.measureAxis.minMax)&&!e.measureAxis.autoMinMax},invalid:function t(e){if(e.measureAxis&&"minMax"===e.measureAxis.minMax)return e.measureAxis.min>=e.measureAxis.max;return false}}}};var r=[{value:"all",translation:"properties.axis.show.all"},{value:"labels",translation:"properties.axis.show.labels"},{value:"title",translation:"properties.axis.show.title"},{value:"none",translation:"Common.None"}];var o=[{value:2,translation:"properties.gridLine.wide"},{value:1,translation:"properties.gridLine.medium"},{value:.5,translation:"properties.gridLine.narrow"}];var s={type:"items",items:{show:{type:"string",component:"dropdown",ref:"dimensionAxis.show",translation:"properties.axis.labelsAndTitle",options:r,defaultValue:"all",snapshot:{title:function e(n){return t.get("properties."+this.getXYAxis(n)+"Axis")},getXYAxis:function t(e){return n.isVertical(e)?"x":"y"},group:false,tid:function t(e){return"property-"+this.getXYAxis(e)+"Axis"}}},label:{type:"string",component:"dropdown",ref:"dimensionAxis.label",translation:"properties.axis.labelOrientation",options:[{value:"auto",translation:"Common.Auto"},{value:"horizontal",translation:"Common.Horizontal"},{value:"tilted",translation:"properties.labels.tilted"}],defaultValue:"auto",show:function t(i,r,o){return n.isVertical(o.layout)&&i.dimensionAxis&&["all","labels"].contains(i.dimensionAxis.show)&&!e.isContinuousChart(o.layout)}},dock:n.getAxisDockProperties("dimensionAxis",{major:true})}};return{measureAxis:{type:"items",label:t.get("properties.yAxis"),grouped:true,items:{axis:{type:"items",items:{show:{type:"string",component:"dropdown",ref:"measureAxis.show",translation:"properties.axis.labelsAndTitle",options:r,defaultValue:"all"},dock:n.getAxisDockProperties("measureAxis"),spacing:{ref:"measureAxis.spacing",translation:"properties.axis.scale",type:"number",component:"dropdown",defaultValue:1,options:o,show:function t(e){return e.measureAxis&&"none"!==e.measureAxis.show}}}},minMax:i}},flippableMeasureAxis:{uses:"axis.measureAxis",label:function e(i,r){var e,o="x",s=n.getMeasures(i,r).map(function(t){return t.qFallbackTitle}).join(", ");n.isVertical(r.layout)&&(o="y");e=s?t.get("properties."+o+"AxisWithInfo",[s]):t.get("properties."+o+"Axis");return e},items:{axis:{type:"items",items:{show:{snapshot:{title:function e(n){return t.get("properties."+this.getXYAxis(n)+"Axis")},getXYAxis:function t(e){return n.isVertical(e)?"y":"x"},group:false,tid:function t(e){return"property-"+this.getXYAxis(e)+"Axis"}}},dock:{options:function t(e,i,r){var o,s;if(n.isVertical(i.layout)){o=r.yMirrorMode?"properties.dock.right":"properties.dock.left";s=r.yMirrorMode?"properties.dock.left":"properties.dock.right"}else{o="Common.Bottom";s="Common.Top"}return[{value:"near",translation:o},{value:"far",translation:s}]}}}}}},dimensionAxis:{type:"items",label:n.dimensionAxisLabelFn,grouped:true,items:{continuousGroup:{type:"items",items:{auto:{ref:"dimensionAxis.continuousAuto",translation:"properties.axis.continuous",type:"boolean",component:"switch",defaultValue:true,undefinedValue:false,options:[{value:true,translation:"Common.Auto"},{value:false,translation:"Common.Custom"}]},preferContinuous:{type:"boolean",ref:"preferContinuousAxis",translation:"properties.axis.preferContinuous",defaultValue:true,undefinedValue:false,show:function t(e){return!e.dimensionAxis.continuousAuto},readOnly:function t(n,i,r){return!e.canBeContinuousChart(r.layout)}},miniChart:{type:"boolean",ref:"showMiniChartForContinuousAxis",translation:"properties.showMiniChart",defaultValue:true,undefinedValue:true,show:function t(n,i,r){return e.isContinuousChart(r.layout)}}}},othersGroup:s}},picasso:{dimensionAxis:{type:"items",label:n.dimensionAxisLabelFn,items:{othersGroup:s}},measureAxis:{type:"items",uses:"axis.flippableMeasureAxis"}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={hasTimeTag:function t(e){return e&&e.qTags&&e.qTags.some(function(t){return["$date","$timestamp","$time"].indexOf(t)>=0})},isTimeDimension:function t(e,n){if(!n||!e)return false;var i=this.hasTimeTag(n);return!!i||n.qNumFormat&&["D","TS","T"].contains(n.qNumFormat.qType)},maxNumberOfLines:12,maxNumberOfDataPoints:2e3};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(46),n(175),n(50)],r=function(t,e,n){var i="qHyperCubeDef";function r(t){if(!t||!t.orientation||e.isContinuousChart(t))return true;return"vertical"===t.orientation}function o(t,e){return e?e.getDimensionLayouts():t&&t.qHyperCubeDef?t.qHyperCubeDef.qDimensions.map(function(t){return t.qDef}):[]}function s(t,e){return e?e.getMeasureLayouts():t.qHyperCubeDef.qMeasures.map(function(t){return t.qDef})}function a(e,n){var i,s="y",a=o(e,n).map(function(t){return t&&t.qFallbackTitle?t.qFallbackTitle:""}).join(", ");r(n&&n.layout)&&(s="x");i=a?t.get("properties."+s+"AxisWithInfo",[a]):t.get("properties."+s+"Axis");return i}var l={left:"properties.dock.left",right:"properties.dock.right",bottom:"Common.Bottom",top:"Common.Top"};function c(t,e){return{ref:t+".dock",translation:"Common.Position",type:"string",component:"dropdown",defaultValue:"near",options:function t(n,i,o){var s,a;var c;if(e&&e.direction)c=e.direction;else{var u=r(o.layout);c=u&&e&&!e.major||!u&&e&&e.major?"y":"x"}if("x"===c){s=l.bottom;a=l.top}else{s=o.yMirrorMode?l.right:l.left;a=o.yMirrorMode?l.left:l.right}return[{value:"near",translation:s},{value:"far",translation:a}]},show:function e(n){return n[t]&&"none"!==n[t].show}}}function u(t,e,r){r=r||i;return n.getValue(e.properties,r+".qDimensions",[])[0]===t}return{isVertical:r,getDimensions:o,getMeasures:s,dimensionAxisLabelFn:a,getAxisDockProperties:c,dockStringMap:l,isFirstDimension:u}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(46),n(47),n(64),n(63)],r=function(t,e,n,i){var r={"":t.get("AlternateState.InheritedState"),$:t.get("AlternateState.DefaultState")};function o(t){return{value:t,translation:""===t||"$"?r[t]:t}}function s(t){var n=t.slice();for(var i=0;i<n.length;i++){var r=n[i];n[i]=e.ellipseText(r,80)}return n}var a=function e(n,i){return n.localeCompare(i,t.language)};function l(){return n.getApp().then(function(t){return t.getAppLayout().then(function(t){var e=s(t.qStateNames.sort(a));return["","$"].concat(e).map(o)})})}var c=false;function u(t){return"masterobject"===t.qInfo.qType}return{type:"items",translation:"Common.AlternateStates",items:{alternateState:{ref:"qStateName",type:"string",translation:"AlternateState.SelectState",component:"dropdown",defaultValue:"",options:function t(e){return l().then(function(t){c=t.length>1&&i.getFlag("ALT_STATE_ONE")&&!u(e);return t})},readOnly:function t(){return!c}},allowShowDisclaimner:{component:"text",translation:"AlternateState.MasterItem.Disclaimer",style:"hint",show:function t(e){var n=e.qInfo.qType;return!("masterobject"===n||"sheet"===n)}}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(132),n(109),n(329),n(332)],r=function(t,e,n,i,r){var o=false;function s(t,e){return"ErrorDialog.AppClosed"===t.message||"ProxyError.OnNoEngineAvailable"===t.message||"OnEngineWebsocketFailed"===t.method||t.code===e.LOCERR_APP_NOT_FOUND||t.code===e.LOCERR_APP_CONNECT_FAILED}function a(i){var o=t.getService("qvConfirmDialog").show({message:c(e.get("ErrorDialog.Title"),r.getErrorDescription(i)),okLabel:e.get("Common.Refresh"),cancelLabel:e.get("ErrorDialog.GoToHub.Button"),closeOnEscape:false});o.closed.then(function(t){t?r.refreshPage():location.href=n.buildHubUrl()});return o}function l(n){t.getService("clientSections").get(function(t){t.HubSection_Home?a(n):u(e.get("ErrorDialog.Title"),r.getErrorDescription(n))})}function c(t,e){return'<h2 class="inline-title">'+t+"</h2><span>"+e+"</span>"}function u(n,i){var s=t.getService("qvAlertDialog").show({message:c(n,i),closeLabel:e.get("Common.Refresh"),closeOnEscape:false});s.closed.then(function(){o=false;r.refreshPage()});return s}function d(i,s){var a=n.isSuffixInUse("noData");var l=t.getService("qvAlertDialog").show({message:c(i,s),closeLabel:e.get(a?"Dialog.Button.Open.With.Data":"Dialog.Button.Open.Without.Data"),closeOnEscape:false});l.closed.then(function(){o=false;if(a)n.removePartialSuffix("noData");else{var t=location.href;var e=t.lastIndexOf("/")===t.length-1;var i="noData/true";e||(i="/"+i);n.setUrl(t+i)}r.refreshPage()});return l}function p(n,i,s){var a=c(n,i);var l=t.getService("qvAlertDialog").show({message:a,closeOnEscape:true,keepOpen:s||false});l.closed.then(function(){o=false;t.$rootScope.$broadcast("errorHandlerClosed",a,{name:e.get("Common.Refresh"),callback:r.refreshPage})});return l}function f(n,i){var s=c(n,i);var a=t.getService("qvConfirmDialog").show({message:s,okLabel:e.get("Common.Refresh"),cancelLabel:e.get("Common.Close"),closeOnEscape:true});a.closed.then(function(n){o=false;n?r.refreshPage():t.$rootScope.$broadcast("errorHandlerClosed",s,{name:e.get("Common.Refresh"),callback:r.refreshPage})});return a}function h(t){return o||t.code===r.errors.LOCERR_JSON_RPC_INVALID_PARAMETERS}function v(t,n){if(h(t))return;o=true;e.ready.then(function(){if(s(t,r.errors))l(t);else if(r.isLocErr(t,r.errors))f(e.get("ErrorDialog.Title"),r.getErrorDescription(t));else if(t.code===r.errors.LOCERR_GENERIC_CONNECTION_LOST)u(e.get("ErrorDialog.Title"),r.getErrorDescription(t));else if(t.code===r.errors.LOCERR_PERSONAL_VERSION_EXPIRED){var o=e.get("Info.QlikView.Personal.Upgrade",["<a href='"+i.personalUpgradeUrl+"' target='_blank'>"+i.personalUpgradeBase+"</a>"]);u(e.get("ErrorCode.12001.Sense.Desktop.Expired"),o)}else"ProxyError.OnSessionTimedOut"===t.message?u(e.get("TimeoutDialog.Title"),r.getErrorDescription(t)):t.code===r.errors.LOCERR_APP_ALREADY_OPEN_IN_DIFFERENT_MODE?d(e.get("ErrorDialog.Title"),r.getErrorDescription(t)):t.refreshButton?u(e.get("ErrorDialog.Title"),r.getErrorDescription(t)):p(e.get("ErrorDialog.Title"),r.getErrorDescription(t),n)})}function g(t){var e=t.error;var n=t.keepOpen;var i=e.type;if(h(e))return;o=true;if("refreshDialog"===i)return u(e.title,e.message);if("refreshCloseDialog"===i)return f(e.title,e.message);return p(e.title,e.message,n)}return{showDialog:v,showDialogReact:g,isOpen:function t(){return o}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(46),n(67),n(331),n(109)],r=function(t,e,n,i){var r=Object.assign({},e.NxLocalizedErrorCode,n.NxLocalizedErrorCode);function o(){window.__private__notifyRefresh__?window.parent.postMessage("refresh","*"):setTimeout(function(){location.reload(true)})}function s(t){var e=false;switch(t.code){case r.LOCERR_SERVER_OUT_OF_SESSION_AND_USER_CALS:case r.LOCERR_SERVER_OUT_OF_SESSION_CALS:case r.LOCERR_SERVER_OUT_OF_USAGE_CALS:case r.LOCERR_SERVER_OUT_OF_CALS:case r.LOCERR_SERVER_OUT_OF_NAMED_CALS:case r.LOCERR_SERVER_LICENSE_EXPIRED:e=true;break;default:break}return e}function a(e){return e.code?t.get("ErrorCode."+e.code,e.parameter):t.get(e.message)}function l(t){return t.code===r.LOCERR_PERSONAL_VERSION_EXPIRED}function c(t){return"ProxyError.OnSessionTimedOut"===t.message}function u(e){var n=e.error;var o=e.blockingDialog;var u="closeDialog";var d=t.get(a(n));var p=t.get("ErrorDialog.Title");if(s(n,r))u="refreshCloseDialog";else if(l(n)){p=t.get("ErrorCode.12001.Sense.Desktop.Expired");d=t.get("Info.QlikView.Personal.Upgrade",["<a href='"+i.personalUpgradeUrl+"' target='_blank'>"+i.personalUpgradeBase+"</a>"]);u="refreshDialog"}else if(c(n)){p=t.get("TimeoutDialog.Title");u="refreshDialog"}return{type:o?"refreshDialog":u,title:p,message:d}}function d(t){var e=t.error;var n={type:null,title:null,message:null,code:e.code,error:e};return Object.assign({},n,u(t))}var p={getMessageObject:d,getErrorDescription:a,isLocErr:s,refreshPage:o,errors:r};return p}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{NxLocalizedErrorCode:{LOCERR_JSON_RPC_ENTITY_NOT_FOUND:-32001,LOCERR_JSON_RPC_ACCESS_DENIED:-32002,LOCERR_JSON_RPC_APP_DUPLICATION_FAILED:-32003}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(75),n(94),n(83)],r=function(t,e,n){var i=["HubSection_Home"],r=null,o;n.onDataReceived.then(function(t){o=t.userDirectory});t.service("clientSections",["$contentApi",function(t){var n={};function s(){var t={};for(var e in i)t[i[e]]=true;n=t;return t}return{getSync:function t(){return Object.assign({},n)},get:function a(l){var c=!!l;l=l||function t(){};if(!e.sessionPromise)return l(s());function u(t){var e={};if(!t.data&&!Array.isArray(t.data))return;for(var r in i)t.data.indexOf(i[r])>-1&&(e[i[r]]=true);n=e;return l(e)}function d(){return(r||(r=t.request({method:"POST",url:"/qrs/systemrule/security/evaluatetransientresources",data:i,cache:true}))).then(u).catch(u)}function p(){return"NONE"!==o?d():l(s())}return e.sessionPromise.then(function(t){return t.isPersonalMode||t.isCloud||!c?l(s()):p()}).catch(function(){return l(s())})}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(67),n(109)],r=function(t,e,n,i,r){var o=false;var s=i.LocalizedWarningCode;var a=[];var l={code:s.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON,id:"ExpireWarningShown",shown:Date.now()<parseInt(localStorage.ExpireWarningShown,10),interval:864e5};var c={code:s.LOCWARN_PERSONAL_RELOAD_REQUIRED,id:"HiddenScriptWarningShown",shown:sessionStorage.HiddenScriptWarningShown};function u(t,e){var n=-1;for(var i=0;i<t.length;i++)if(t[i].code===e){n=i;break}return n}function d(t,e){if(e.shown){var n=u(t,e.code);-1!==n&&t.splice(n,1)}else if(-1!==u(t,e.code)){e.shown=true;e.interval?localStorage.setItem(e.id,Date.now()+e.interval):sessionStorage.setItem(e.id,true)}}function p(){o=true}function f(){o=!!a.length;a.length&&v()}function h(t,n){var i='<h2 class="inline-title">'+t+"</h2><span>"+n+"</span>";var r=e.getService("qvAlertDialog").show({message:i,closeOnEscape:true});r.opened.then(p);r.closing.then(f)}function v(){var t;var e;var i=a.shift();if("undefined"!==typeof i.code&&i.code===s.LOCWARN_PERSONAL_VERSION_EXPIRES_SOON){e=n.get("Info.QlikSenseDesktop.Upgrade.Expiring",["<a href='"+r.personalUpgradeUrl+"' target='_blank'>"+r.personalUpgradeBase+"</a>"]);t=n.get("Info.QlikSenseDesktop.Upgrade.Expiring.Title")}else{t=n.get("WarningDialog.Title");e="undefined"!==typeof i.code?n.get("WarningCode."+i.code):n.get(i.message)}h(t,e)}function g(e){var i=t.extend(true,[],e);d(i,l);d(i,c);if(i.length>0){a.push.apply(a,i);o||n.ready.then(function(){v()})}}return{showDialog:g}}.apply(e,i),void 0!==r&&(t.exports=r))},,,function(t,e,n){"use strict";var i,r;!(i=[n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(360),n(361),n(362),n(363),n(364),n(365),n(367),n(369),n(370)],r=function(t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w,q,_,C,S,D,E,k,T,A){return[t,e,n,i,r,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w,q,_,C,S,D,E,k,T,A]}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable","Field"],init:function t(e){var n=e.api;n.getAppLayout&&(n.session.app=n);n.app=n.session.app;n.enigmaModel=e.api;n.Promise=e.config.Promise}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{types:"Doc",extend:{getProperties:function t(){return this.getAppProperties()},setProperties:function t(e){return this.setAppProperties(e)},getLayout:function t(){return this.getAppLayout()},getPublishableStreams:function t(){return this.Promise.all([this.getLayout(),this.global.getStreamList()]).then(function(t){return t[1].filter(function(e){return t[0].stream?e.qId===t[0].stream.id&&-1!==e.privileges.indexOf("publish"):-1!==e.privileges.indexOf("publish")})})}},init:function t(e){this.Promise=e.config.Promise;var n=e.api;n.waitForOpen=this.Promise.defer();n.waitForOpen.resolve()}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45)],r=function(t){return{types:"Doc",extend:{abortModalSelection:function t(e){e=void 0===e||e;this.setModalSelection(null);return this.abortModal(e)},switchModalSelection:function e(n,i,r){var o;n=n||null;i=i||"";r=void 0===r||r;o=Array.isArray(i)?i:[i];this.isInModalSelection()&&this.modalSelectionObject.endSelections(r);if(n&&!n.isClosed){this.setModalSelection(n);return n.beginSelections(o)}this.setModalSelection(null);return t.resolve()},setModalSelection:function t(e){this.modalSelectionObject=e},isInModalSelection:function t(){return this.modalSelectionObject&&!this.modalSelectionObject.isClosed}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(67)],r=function(t,e){function n(n){return function i(){var r=[].slice.call(arguments);var o=this._getCache;var s=r.splice(0,1)[0];var a=n+r.join("");if(o[a])return o[a];var l=s.apply(this,r).then(function(t){t.on("closed",function(){delete o[a]});return t}).catch(function(){delete o[a];return t.reject({error:{code:e.NxLocalizedErrorCode.LOCERR_GENERIC_NOT_FOUND}})});o[a]=l;return l}}var i=n("generic-get-");var r=n("variable-get-");var o=n("field-get-");var s={types:"Doc",override:{},init:function t(e){e.api._getCache={}}};["getObject","getBookmark","getDimension","getMeasure","getVariableById"].forEach(function(t){s.override[t]=i});["getVariable","getVariableByName"].forEach(function(t){s.override[t]=r});s.override.getField=o;return s}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(176)],r=function(t){return{types:"Doc",override:{getContentLibraries:function t(e){return e().then(function(t){return t.qItems})},getLibraryContent:function t(e,n){return e(n).then(function(t){return t.qItems})}},extend:{getOrCreateSessionObject:function t(e){var n=this;var i=e.qInfo.qId;n._listCache[i]||(n._listCache[i]=n.createSessionObject(e));return n._listCache[i]},getListData:function t(e){return this.getListObject(e).then(function(t){return t.getLayout()})},getListObject:function e(n){var i=this;var r=Object.keys(n).filter(function(t){return-1!==t.indexOf("ListDef")})[0];if(!r)throw new Error("Invalid list definition");r&&(r=r.replace(/Def$/g,""));var s=n.qInfo.qId;i._listCache[s]||i.getOrCreateSessionObject(n).then(function(e){var n=e.getLayout.bind(e);e.getLayout=function(){return n().then(function(e){var n=e[r].qItems;n.forEach(function(e){"object"===o(e)&&t.mapToLayout(e)});return e[r].qItems})};return e});return i._listCache[s]}},init:function t(e){e.api._listCache={}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"BookmarkList",qType:"BookmarkList"},qBookmarkListDef:{qType:"bookmark",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",sheetId:"/sheetId",selectionFields:"/selectionFields",creationDate:"/creationDate"}}};var e={types:"Doc",extend:{getBookmarkList:function e(){return this.getListData(t)},getBookmarkListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"CurrentSelection",qType:"CurrentSelection"},qSelectionObjectDef:{}};var e={types:["Doc"],extend:{getCurrentSelectionObject:function e(){return this.getOrCreateSessionObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e,n,i){return t.getField(e,i).then(function(t){return t[n]()})}var e={types:["CurrentSelection"],extend:{clearField:function e(n,i){return t(this.app,n,"clear",i)},lockField:function e(n){return t(this.app,n,"lock")},unlockField:function e(n){return t(this.app,n,"unlock")},clearAll:function t(){return this.app.clearAll()},back:function t(){return this.app.back()},forward:function t(){return this.app.forward()}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"DimensionList",qType:"DimensionList"},qDimensionListDef:{qType:"dimension",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",grouping:"/qDim/qGrouping",info:"/qDimInfos",labelExpression:"/qDim/qLabelExpression"}}};var e={types:"Doc",extend:{getDimensionList:function e(){return this.getListData(t)},getDimensionListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"FieldList",qType:"FieldList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true}};var e={qInfo:{qId:"FieldOnTheFlyList",qType:"FieldOnTheFlyList"},qFieldListDef:{qShowSystem:false,qShowHidden:false,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var n={qInfo:{qId:"FieldOnTheFlyWithHiddenList",qType:"FieldOnTheFlyWithHiddenList"},qFieldListDef:{qShowSystem:false,qShowHidden:true,qShowSrcTables:true,qShowSemantic:true,qShowDerivedFields:true,qShowDefinitionOnly:true}};var i={types:"Doc",extend:{getFieldList:function e(){return this.getListData(t)},getFieldListObject:function e(){return this.getListObject(t)},getOnTheFlyListObject:function t(){return this.getListObject(e)},getOnTheFlyWithHiddenListObject:function t(){return this.getListObject(n)}}};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={types:["FieldList"],extend:{expand:function t(){return this.getLayout().then(function(t){var e=[];for(var n=0;n<t.length;++n){var i=t[n];e.push(i);if(i.qDerivedFieldData)for(var r=0;r<i.qDerivedFieldData.qDerivedFieldLists.length;++r){var o=i.qDerivedFieldData.qDerivedFieldLists[r];for(var s=0;s<o.qFieldDefs.length;++s){var a=o.qFieldDefs[s];e.push({qName:a.qName,qSrcTables:i.qSrcTables,qTags:a.qTags,isDerived:true,sourceField:i.qName,derivedDefinitionName:o.qDerivedDefinitionName})}}}return e})}}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"MasterObjectList",qType:"MasterObjectList"},qAppObjectListDef:{qType:"masterobject",qData:{name:"/qMetaDef/title",labelExpression:"/labelExpression",visualization:"/visualization",tags:"/qMetaDef/tags"}}};var e={types:"Doc",extend:{getMasterObjectList:function e(){return this.getListData(t)},getMasterObjectListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"MeasureList",qType:"MeasureList"},qMeasureListDef:{qType:"measure",qData:{title:"/qMetaDef/title",tags:"/qMetaDef/tags",labelExpression:"/qMeasure/qLabelExpression"}}};var e={types:"Doc",extend:{getMeasureList:function e(){return this.getListData(t)},getMeasureListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"ODAGAppLinkList",qType:"ODAGAppLinkList"},qAppObjectListDef:{qType:"odagapplink",qData:{odagLinkRef:"/qMetaDef/odagLinkRef",timestamp:"/qMetaDef/timestamp"}}};var e={types:"Doc",extend:{getODAGAppLinkList:function e(){return this.getListData(t)},getODAGAppLinkObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"SheetList",qType:"SheetList"},qAppObjectListDef:{qType:"sheet",qData:{title:"/qMetaDef/title",labelExpression:"/labelExpression",description:"/qMetaDef/description",descriptionExpression:"/descriptionExpression",thumbnail:"/thumbnail",cells:"/cells",rank:"/rank",columns:"/columns",rows:"/rows"}}};var e={types:"Doc",extend:{getSheetList:function e(){return this.getListData(t)},getSheetListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"SnapshotList",qType:"SnapshotList"},qBookmarkListDef:{qType:"snapshot",qData:{title:"/title",libraryTitle:"/qMetaDef/title",description:"/qMetaDef/description",sourceObjectId:"/sourceObjectId",visualizationType:"/visualizationType",timestamp:"/timestamp",snapshotData:"/snapshotData",isClone:"/isClone"}}};var e={types:"Doc",extend:{getSnapshotListObject:function e(){return this.getListObject(t)},getSnapshotList:function e(){return this.getListData(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"StoryList",qType:"StoryList"},qAppObjectListDef:{qType:"story",qData:{title:"/qMetaDef/title",description:"/qMetaDef/description",thumbnail:"/thumbnail",rank:"/rank"}}};var e={types:"Doc",extend:{getStoryList:function e(){return this.getListData(t)},getStoryListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"UndoInfo",qType:"UndoInfo"},qUndoInfoDef:{},markers:[]};var e={types:["Doc"],extend:{getUndoInfoObject:function e(){return this.getOrCreateSessionObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45)],r=function(t){var e=true,n=[],i=null,r=false;function o(e){var i=n[n.length-1],r;r=e(i||t.resolve());n.push(r);return r}function s(t){if(r){t.markers.length=0;r=false}}return{types:["UndoInfo"],extend:{undo:function i(){var s=this;function a(i){return i.then(function(){return s.getLayout().then(function(i){if(i.qUndoInfo.qUndoCount>0)return s.app.undo().then(function(){return s.getLayout().then(function(i){e=i.markers.length%2===0;if(!e)return a(t.resolve());n.splice(0,1)})});e=i.markers.length%2===0;e||(r=true);n.splice(0,1)})})}return o(a)},redo:function i(){var s=this;function a(i){return i.then(function(){return s.getLayout().then(function(i){if(i.qUndoInfo.qRedoCount>0){r=false;return s.app.redo().then(function(){return s.getLayout().then(function(){e=i.markers.length%2===0;if(!e)return a(t.resolve());n.splice(0,1)})})}n.splice(0,1)})})}return o(a)},reset:function t(){var e=this;return e.getLayout().then(function(t){if(!t.qUndoInfo.qUndoCount&&!t.qUndoInfo.qRedoCount)return;if(t.markers.length)return e.getProperties().then(function(t){t.markers.length=0;return e.setProperties(t).then(function(){return e.app.clearUndoBuffer()})});return e.app.clearUndoBuffer()})},startGroup:function n(){var o=this;return o.getLayout().then(function(n){return o.getProperties().then(function(a){e=a.markers.length%2===0;if(e||r){i=Date.now();s(a);a.markers.push(n.qUndoInfo.qUndoCount+1);return o.setProperties(a).then(function(){return t.resolve(i)})}return t.resolve(i)})})},endGroup:function n(r){if(!r)throw new Error("Must provide groupId to stop group.");var o=this;return o.getLayout().then(function(n){return o.getProperties().then(function(s){e=s.markers.length%2===0;if(e||r!==i)return t.resolve();i=null;s.markers.push(n.qUndoInfo.qUndoCount+1);return o.setProperties(s)})})}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={qInfo:{qId:"VariableList",qType:"VariableList"},qVariableListDef:{qType:"variable",qShowReserved:true,qShowConfig:true,qData:{tags:"/tags"}}};var e={types:"Doc",extend:{getVariableList:function e(){return this.getListData(t)},getVariableListObject:function e(){return this.getListObject(t)}}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={types:"GenericObject",override:{exportData:function t(e,n,i,r,o){n=n||"OOXML";i=i||"";r=r||"";o=o||"P";return e(n,i,r,o)}}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(57),n(134),n(359),n(176)],r=function(t,e,n,i){return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{setState:function t(e){var i=this.state;this.state=e;if(i===this.state)return;e===n.INVALID?this.Invalidated.emit():e===n.VALID?this.Validated.emit():e===n.VALIDATING?this.Validating.emit():e===n.CLOSED?this.Closed.emit():e===n.CLOSING?this.Closing.emit():e===n.CANCELLED&&this.Cancelled.emit()},markAsInvalid:function t(){this.state=-99;this.setState(n.INVALID)},markAsCancelled:function t(){this.setState(n.CANCELLED)},clearPending:function t(){var e=this;for(var n in e.ongoingRequests)delete e.ongoingRequests[n]}},override:{getLayout:function t(i){var r="GetLayout"+this.delta;var o=11e3;var s=this;if(s.isValid&&s.layout)return s.Promise.resolve(s.layout);s.isValidating||s.setState(n.VALIDATING);if(s.ongoingRequests[r])return s.ongoingRequests[r];var a=i().then(function(t){s.isValid||e.updateObject(s.layout,t);if(s.ongoingRequests[r]===a){s.setState(n.VALID);delete s.ongoingRequests[r]}return s.layout}).catch(function(t){delete s.ongoingRequests[r];t.code===o&&(t.isHandled=true);return s.Promise.reject(t)});s.ongoingRequests[r]=a;return a},getProperties:function t(n){var i="GetPropertiesfalse";var r=this;if(r.isValid&&!r.needCacheProperties)return r.Promise.resolve(r.properties);if(r.ongoingRequests[i])return r.ongoingRequests[i];var o=n().then(function(t){var n=e.generate(r._properties,t);r._properties=t;e.apply(r.properties,n);r.isValid&&(r.needCacheProperties=false);return r.properties});r.ongoingRequests[i]=o;o.catch(function(){}).finally(function(){delete r.ongoingRequests[i]});return o},setProperties:function t(n,i){var r=this;return n(i).then(function(){e.updateObject(r._properties,r.properties)})}},init:function e(r){var o=r.api;t.mixin(o);o.notification("Validated");o.notification("Invalidated");o.notification("Validating");o.notification("Closed");o.notification("Closing");o.notification("Cancelled");o.setState(n.INVALID);o.layout={};o.properties={};o._properties={};o.needCacheProperties=true;o.ongoingRequests={};i.mapToLayout(o.layout,!!o.getAppLayout);o.on("changed",function(){o.clearPending();o.needCacheProperties=true;o.setState(n.INVALID)});o.on("closed",function(){for(var t in o.ongoingRequests)o.ongoingRequests[t].then&&o.ongoingRequests[t].then(null,function(t){t.isHandled=true});o.setState(n.CLOSED)});o.Cancelled.bind(function(){o.clearPending()});Object.defineProperties(o,{isValid:{get:function t(){return this.state===n.VALID}},isValidating:{get:function t(){return this.state===n.VALIDATING}},isInvalid:{get:function t(){return this.state===n.INVALID}},isClosed:{get:function t(){return this.state===n.CLOSED}},isClosing:{get:function t(){return this.state===n.CLOSING}},isCancelled:{get:function t(){return this.state===n.CANCELLED}}})}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(177)],r=function(t){function e(e,n){var i=t.isSnapshotData(n)?e.migrate.snapshot:e.migrate.properties;if("function"!==typeof i)throw new Error("migration function not a function: expected function, got "+o(i));return i(n)}return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{migrate:{properties:function t(e){return e},snapshot:function t(e){return e}}},override:{getProperties:function t(n){var i=this;return n().then(function(t){return e(i,t)})},setProperties:function t(n,i){return n(e(this,i))}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){this.getLayout=function(t){this.requestPromise=t.getLayout().then(function(e){this.requestPromise=null;if(t.isCancelled)return;this.fn(e)}.bind(this)).catch(function(){})}.bind(this,t);this.onInvalidated=function(){this.getLayout()}.bind(this);this.api=t;this.fn=null}t.prototype.subscribe=function(t){if("function"!==typeof t)throw new Error("Observer must be a function");if("function"===typeof this.fn)return;this.fn=t;this.api.Invalidated.bind(this.onInvalidated);this.getLayout()};t.prototype.dispose=function(){this.api.Invalidated.unbind(this.onInvalidated)};t.prototype.cancel=function(){if(this.requestPromise){this.api.app.global.cancelRequest(this.requestPromise.requestId);this.api.markAsCancelled();this.requestPromise=null;return true}return false};t.prototype.retry=function(){this.api.isCancelled&&this.getLayout()};return{types:["Doc","GenericObject","GenericDimension","GenericMeasure","GenericBookmark","GenericVariable"],extend:{layoutSubscribe:function e(n){var i=new t(this);i.subscribe(n);return i}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(134)],r=function(t){function e(t){var e=t.qHyperCubeDef;if(e&&e.qMeasures&&e.qDimensions){var n=e.qDimensions.concat(e.qMeasures);n.forEach(function(t){t.qAttributeExpressions&&t.qAttributeExpressions.forEach(function(t){t.qAttribute=true})})}}return{types:["GenericObject"],override:{setProperties:function t(n,i){e(i);return n(i)},getEffectiveProperties:function e(n){var i=this;return n().then(function(e){i.effectiveProperties=i.effectiveProperties||e;t.updateObject(i.effectiveProperties,e);return i.effectiveProperties})}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(47)],r=function(t){return{types:"Doc",override:{createBookmark:function e(n,i){return n(t.extend(true,{},{qInfo:{qType:"bookmark"},qMetaDef:{title:"",description:""},creationDate:(new Date).toISOString()},i))}},extend:{createSheet:function t(e){return this.createObject({qInfo:{qType:"sheet"},qMetaDef:{title:e.title||"",description:e.description||""},rank:void 0!==o(e.rank)?e.rank:-1,thumbnail:{qStaticContentUrlDef:e.thumbnail||null},columns:24,rows:12,cells:[],qChildListDef:{qData:{title:"/title"}}})},createStory:function t(e){return this.createObject({qInfo:{qType:"story"},qMetaDef:{title:e.title||"",description:""},rank:void 0!==o(e.rank)?e.rank:-1,thumbnail:{qStaticContentUrlDef:e.thumbnail||null},qChildListDef:{qData:{title:"/title",rank:"/rank"}}})},createMasterObject:function t(e){e=e||{};return this.createObject({qInfo:{qType:"masterobject"},qMetaDef:{title:e.title||"",description:e.description||"",tags:e.tags||""}})}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(94),n(45)],r=function(t,e){var n,i;t.onDataReceived.then(function(t){if("NONE"!==t.userDirectory){n=t.userId;i=t.userDirectory}});return{types:["GenericObject"],override:{publish:function t(n){return this.getLayout().then(function(t){return t.permissions.publish?n():e.reject("Permission denied")})},unPublish:function t(r){return this.getLayout().then(function(t){var o=t.qMeta;var s=o.published&&!o.approved;var a=o.owner.userId===n&&o.owner.userDirectory===i;return s&&a?r():e.reject("Permission denied")})}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(366),n(45),n(76),n(178),n(108)],r=function(t,e,n,i,r,o){return{types:"sheet",extend:{edit:function t(e){var n=this;return n.getProperties().then(function(t){e(t);return n.setProperties(t)})},getObject:function t(n,i){return this.getLayout().then(function(t){return e.getObject(t,n,i)})},moveObject:function t(i,r){return this.edit(function(t){var o=e.getObject(t,i);if(r.split){r=e.splitCell(t,r.pos,r.split);if(!r)return n.reject()}e.moveObject(o,r,t)})},swapObjects:function t(n,i){return this.edit(function(t){e.swapObjects(t,n,i)})},addObject:function r(s){var a=this,l=s.template,c=s.cell.pos,u=i.getType(l),d=s.init,p=s.children||[];var f;f=d.qExtendsId?n.resolve(t.extend({qInfo:{qType:l}},d)):u.getInitialProperties(d);return n.all({initProps:f,props:a.getFullPropertyTree()}).then(function(i){var r=i.initProps,s=i.props;if(c.split){c=e.splitCell(s.qProperty,c.pos,c.split);if(!c)return n.reject()}r.qInfo.qId=t.generateId();o.trackEvent(o.customEvents.CHART_CREATED,{chart_type:u.type,chart_id:r.qInfo.qId,chart_isThirdParty:u.libraryInfo?u.libraryInfo.isThirdParty:void 0});var l=e.setObject(s.qProperty,c,r.qInfo.qId,r.qInfo.qType);var d=false;if(l)for(var f=0;f<s.qChildren.length;f++)if(s.qChildren[f].qProperty.qInfo.qId===l){s.qChildren[f].qProperty=r;s.qChildren[f].qChildren=[];e.addChildrenToObject(s.qChildren[f],p);d=true;break}if(!d){var h=s.qChildren.push({qChildren:[],qProperty:r});e.addChildrenToObject(s.qChildren[h-1],p)}return a.setFullPropertyTree(s)})},getObjectById:function t(e){var n,i,r=this.layout.cells;for(n=0;n<r.length;++n){i=r[n];if(e===i.name)return i}return null},removeObject:function t(n){var i=this;return i.getFullPropertyTree().then(function(t){var r=e.objIndex(t.qProperty,n),s=t.qProperty.cells[r].name;if(-1===r)throw new Error("invalid pos");t.qProperty.cells.splice(r,1);for(var a=0;a<t.qChildren.length;a++)if(t.qChildren[a].qProperty.qInfo.qId===s){o.trackEvent(o.customEvents.CHART_DELETED,{chart_type:t.qChildren[a].qProperty.qInfo.qType,chart_id:s,chart_isThirdParty:!!t.qChildren[a].qProperty.extensionMeta});t.qChildren.splice(a,1);break}return i.setFullPropertyTree(t)})},setCloneChildrenInfos:function t(i){var r=this;return n.all([r.getChildInfos(),i.getChildInfos(),i.getProperties()]).then(function(t){var n=t[0];var r=t[1];var o=t[2];n.forEach(function(t,n){var i=e.findCellForId(t.qId,o.cells);i&&(i.name=r[n].qId)});return i.setProperties(o).then(function(){return i})})},clone:function t(){var e=this;return e.app.cloneObject(this.id).then(function(t){return e.app.getObject(t)}).then(function(t){return e.setCloneChildrenInfos(t)})},extendSheet:function t(e){var n=this;return this.getProperties().then(function(t){var i=t.rows;var o=r.calculateExtendedRowsAndHeight(t,e);t.height=o.height;t.rows=o.rows;for(var s=0;s<t.cells.length;s++)t.cells[s].bounds=r.recalculateBounds(t.cells[s],t.columns,i,t.columns,t.rows);return n.setProperties(t).then(function(){return[i,t.rows,t.columns]})})},isCustomSize:function t(){return this.layout&&this.layout.layoutOptions&&"CUSTOM"===this.layout.layoutOptions.sheetMode}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(178)],r=function(t,e){var n=47;var i=10;var r=54;return{objIndex:function t(n,i){var r,o;var s=-1;for(r=0;r<n.cells.length;++r){o=n.cells[r];if(e.compareBounds(o.bounds,i.bounds))return r;o.col===i.col&&o.row===i.row&&(s=r)}return s},getObject:function t(e,n,i){var r=this.objIndex(e,n);if(-1===r){if(i)return null;throw new Error("invalid pos")}return e.cells[r]},moveObject:function t(n,i,r){n.col=i.col;n.row=i.row;n.colspan=i.colspan;n.rowspan=i.rowspan;n.bounds=i.bounds?i.bounds:e.getBounds(i,r.columns,r.rows)},setObject:function t(e,n,i,r){var o=this.getObject(e,n,true);var s=o?o.name:null;if(o){o.name=i;o.type=r}else e.cells.push({name:i,type:r,col:n.col,row:n.row,colspan:n.colspan,rowspan:n.rowspan,bounds:n.bounds});return s},splitPos:function t(n,i,r,o){var s=n.bounds||e.getBounds(n,r,o);var a=e.getAligmentToGrid(s,r,o);var l={col:a.col,row:a.row,colspan:a.colspan,rowspan:a.rowspan};var c={col:a.col,row:a.row,colspan:a.colspan,rowspan:a.rowspan};var u=e.splitBounds(s,i,a.colspan,a.rowspan);l.bounds=u.near;c.bounds=u.far;if("left"===i||"right"===i){var d=Math.ceil(n.colspan/2);l.colspan-=d;c.col+=n.colspan-d;c.colspan=d}if("top"===i||"bottom"===i){var p=Math.ceil(n.rowspan/2);l.rowspan-=p;c.row+=n.rowspan-p;c.rowspan=p}if("top"===i||"left"===i){var f=l;l=c;c=f}return{pos1:l,pos2:c}},swapObjects:function t(n,i,r){var o=this.getObject(n,i),s=this.getObject(n,r,true);this.moveObject(o,e.alignToGrid(n,r),n);s&&this.moveObject(s,e.alignToGrid(n,i),n)},splitCell:function t(n,i,r){var o=this.getObject(n,i,false);e.alignToGrid(n,o);if(!o||(o.colspan!==i.colspan||o.rowspan!==i.rowspan)&&!e.compareBounds(o.bounds,i.bounds))return false;var s=this.splitPos(o,r,n.columns,n.rows);delete s.pos1.bounds;delete s.pos2.bounds;this.moveObject(o,s.pos1,n);return s.pos2},ifSplit:function t(n,i,r,o){var s=e.getAligmentToGrid(i.pos.bounds,r,o);if(0===s.rowspan||0===s.colspan)return false;if("vertical"===n){if(i.pos.bounds.height>=2/o*100)return true}else if("horizontal"===n&&i.pos.bounds.width>=2/r*100)return true;return false},findCellForId:function t(e,n){return n.filter(function(t){return t.name===e})[0]},addChildrenToObject:function e(n,i){for(var r=0;r<i.length;r++){var o=i[r];o.qInfo.qId=t.generateId();n.qChildren.push({qChildren:[],qProperty:o})}},getExtendedSheetSize:function t(e,n){var o=n&&e.layoutOptions&&e.layoutOptions.extendable?r:i;return{height:"calc("+e.height+"% - "+o+"px)"}},getCustomSheetSize:function t(e,r){var o=4,s=5,a=e.pxHeight-i-n-o,l=e.pxWidth-i-o,c=r/2-a/2,u=c>s?"calc(50% - "+a/2+"px)":s+"px";return{height:a+"px",width:l+"px",top:u}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(368),n(69)],r=function(t,e,n){return{types:"sheet",extend:{removeNavPoint:function t(e){var n=this;return this.getProperties().then(function(t){if(!t.navPoints)return;for(var i=0;i<t.navPoints.length;i++){var r=t.navPoints[i];if(r.info.id===e){t.navPoints.splice(i,1);break}}return n.setProperties(t)})},addNavPoint:function i(r){var o={info:{type:"odagNavPoint"},title:"",odagLinkRefID:""};o=t.extend(o,r.data);o.info.id||(o.info.id=t.generateId());var s=this;return this.getProperties().then(function(i){i.navPoints||(i.navPoints=[]);var a=i.navPoints.map(function(t){return t.title});if(a.indexOf(o.title)>-1){var l=e.generateUniqueName(a,o.title);l=t.crop(l,n.name);o.title=l}var c=false;if(r.insertBeforeNavPointID)for(var u=0;u<i.navPoints.length;u++){var d=i.navPoints[u];if(d.info.id===r.insertBeforeNavPointID){i.navPoints.splice(u,0,o);c=true;break}}c||i.navPoints.push(o);return s.setProperties(i)})},getNavPoints:function t(){return this.getProperties().then(function(t){return t.navPoints?t.navPoints:[]})},reorderNavPoints:function t(e){var n=this;return this.getProperties().then(function(t){t.navPoints=e;return n.setProperties(t)})},moveNavPoint:function t(e,n){var i=this;return this.getProperties().then(function(t){if(!e)return;var r=null;var o=null;n||(o=t.navPoints.length-1);for(var s=0;s<t.navPoints.length;s++){var a=t.navPoints[s];a.info.id===e?r=s:n&&a.info.id===n&&(o=s);if(null!==r&&null!==o)break}r<o&&n&&o--;null!==r&&null!==o&&t.navPoints.splice(o,0,t.navPoints.splice(r,1)[0]);return i.setProperties(t)})},removeRefToLinkIDFromNavPoints:function t(e){var n=this;return this.getProperties().then(function(t){var i=t.navPoints?t.navPoints:[];for(var r=0;r<i.length;r++){var o=t.navPoints[r];o.odagLinkRefID===e&&(o.odagLinkRefID="")}return n.setProperties(t)})}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){var e={};e.nextIndex=function(e,n){var i=1;var r;r=""===n?new RegExp("^\\((\\d+)\\)$"):new RegExp("^"+t.escapeRegExp(n)+" \\((\\d+)\\)$");e.forEach(function(t){var e=r.exec(t);if(e&&2===e.length){var n=parseInt(e[1],10);i=Math.max(n+1,i)}});return i};e.generateUniqueName=function(t,n){var i=e.nextIndex(t,n);return""===n?"("+i+")":n+" ("+i+")"};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){function e(t,e){if(t.qData.rank<e.qData.rank)return-1;if(t.qData.rank>e.qData.rank)return 1;return 0}if(Array.isArray(t)&&t.length>0)return t.sort(e);return t}return{types:"slide",extend:{duplicate:function e(n){var i,r=this;return n.getLayout().then(function(e){var o=t(e.qChildList.qItems.slice());for(var s=0;s<o.length;s++){var a=o[s];if(a.qInfo.qId===r.id){var l=o[s],c=o[s+1];(c||l)&&(i=c&&!l?c.qData.rank-1:!c&&l?l.qData.rank+1:(l.qData.rank+c.qData.rank)/2)}}return n.createSlide({rank:i}).then(function(t){return t.copyFrom(r.id).then(function(){return t.getProperties().then(function(e){e.rank=i;return t.setProperties(e)})})})})}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){return{types:"story",extend:{clone:function t(){var e=this;return e.app.cloneObject(this.id).then(function(t){return e.app.getObject(t)})},createSlide:function e(n){return this.createChild(t.extend(true,{qInfo:{qId:t.generateId(),qType:"slide"},rank:-1,qChildListDef:{qData:{title:"/title",sheetId:"/sheetId",ratio:"/ratio",position:"/position",dataPath:"/dataPath",srcPath:"/srcPath",visualization:"/visualization",visualizationType:"/visualizationType",style:"/style"}}},n))}}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(96),n(64)],r=function(t,e,n){var i={};var r={};var o={qInfo:{qType:"appprops"},sheetTitleBgColor:"",sheetTitleGradientColor:"",sheetTitleColor:"",sheetLogoThumbnail:{qStaticContentUrlDef:null},sheetLogoPosition:"",rtl:false,theme:"sense"};var s={qInfo:{qId:"AppPropsList",qType:"AppPropsList"},qAppObjectListDef:{qType:"appprops",qData:{sheetTitleBgColor:"/sheetTitleBgColor",sheetTitleGradientColor:"/sheetTitleGradientColor",sheetTitleColor:"/sheetTitleColor",sheetLogoThumbnail:"/sheetLogoThumbnail",sheetLogoPosition:"/sheetLogoPosition",rtl:"/rtl",theme:"/theme"}}};function a(t){t=t||e.current;return t?t.waitForOpen.promise.then(function(){return t.enigmaModel}):n.getApp()}r.create=function(e,n){return a(n).then(function(n){var i=t.extend(true,{},o,e);return n.createObject(i)})};r.get=function(t,e){return a(e).then(function(e){return e.getObject(t)})};r.getList=function(t){return a(t).then(function(t){return i[t.id]=i[t.id]||t.getListObject(s)})};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(57),n(53),n(134),n(373),n(67)],r=function(t,e,n,i,r,o){var s=o.NxLocalizedErrorCode;var a=["GetLayout","GetAppLayout","AbortModal","DoSave"];function l(t,e){Array.isArray(e)?i.apply(t,e):i.updateObject(t,e)}var c=n.extend("RPCBase",{init:function t(n){var i=this;e.mixin(i);i.notification("Validated");i.notification("Invalidated");i.notification("Validating");i.notification("Closed");i.notification("Closing");i.notification("Cancelled");i.modelType="RPCBase",i.id=n.id;i.session=n.session;i.handle=n.handle;i.checkCreate=n.checkCreate;i._properties={};i.properties={};i.propertyTree={};i.ongoingRequests={};i.needCacheProperties=true;i._effectiveProperties={};i.effectiveProperties={};i.needCacheEffectiveProperties=true;i.enigmaModel=n.enigmaModel;i.setState(c.States.INVALID);"App"!==i.constructor.name&&i.bindToRPC()},bindToRPC:function t(){var e=this;e.layout=e.enigmaModel.layout;e.session.onChange(e.handle,e.changeHandler.bind(e));e.Cancelled.bind(e.clearPending.bind(e))},changeHandler:function t(){var e=this;e.clearPending();e.needCacheProperties=true;e.needCacheEffectiveProperties=true;e.isCancelled||e.setState(c.States.INVALID)},clearPending:function t(){for(var e in this.ongoingRequests)delete this.ongoingRequests[e]},setState:function t(e){var n=this;var i=n.state;delete this.__layoutRPCId;n.state=e;if(i===n.state)return;e===c.States.INVALID?n.Invalidated.emit():e===c.States.VALID?n.Validated.emit():e===c.States.VALIDATING?n.Validating.emit():e===c.States.CLOSED?n.Closed.emit():e===c.States.CLOSING?n.Closing.emit():e===c.States.CANCELLED&&n.Cancelled.emit()},getLayout:function e(){var n=this;var i="GetLayout";if(n.isValid||n.isCancelled)return t.resolve(n.layout);n.isValidating||n.setState(c.States.VALIDATING);if(n.ongoingRequests[i])return n.ongoingRequests[i];function r(){n.setState(c.States.VALID);return n.layout}var o=n.enigmaModel.getLayout();var s=o.then(r);n.__layoutRPCId=o.reqId;n.ongoingRequests[i]=s;return s},getProperties:function e(n){var r=this,o=false;n=n||"GetProperties";if(r.isValid&&!r.needCacheProperties)return t.resolve(r.properties);if(r.ongoingRequests[n+o])return r.ongoingRequests[n+o];var s=r.rpc(n,"qProp",[],{delta:o}).then(function(t){var e=i.generate(r._properties,t);r._properties=t;i.apply(r.properties,e);r.isValid&&(r.needCacheProperties=false);return r.properties}).catch(function(){});r.ongoingRequests[n+o]=s;return s},getEffectiveProperties:function e(){var n=this,r=false;var o="GetEffectiveProperties";if(n.isValid&&!n.needCacheEffectiveProperties)return t.resolve(n.effectiveProperties);if(n.ongoingRequests[o+r])return n.ongoingRequests[o+r];var s=n.rpc(o,"qProp",[],{delta:r}).then(function(t){var e=i.generate(n._effectiveProperties,t);n._effectiveProperties=t;i.apply(n.effectiveProperties,e);n.isValid&&(n.needCacheEffectiveProperties=false);return n.effectiveProperties});n.ongoingRequests[o+r]=s;return s},hasChanges:function t(){var e=i.generate(this._properties,this.properties);return e.length>0},markAsInvalid:function t(){this.state=-99;this.setState(c.States.INVALID)},markAsCancelled:function t(){this.setState(c.States.CANCELLED)},getFullPropertyTree:function t(e){var n=this,i=false;e=e||"GetFullPropertyTree";return n.rpc(e,"qPropEntry",[],i).then(function(t){n._propertyTree=t;l(n.propertyTree,t);return n.propertyTree})},setProperties:function t(e,n,r){var o=this;n=n||"SetProperties";Array.isArray(e)||(e=[e]);return this.rpc(n,null,e,r).then(function(){i.updateObject(o._properties,o.properties)})},setFullPropertyTree:function t(e,n,i){n=n||"SetFullPropertyTree";Array.isArray(e)||(e=[e]);return this.rpc(n,null,e,i)},save:function e(){return this.hasChanges()?this.setProperties(this.properties):t.resolve()},saveTree:function t(){return this.setFullPropertyTree(this.propertyTree)},getChildInfos:function t(){return this.rpc("GetChildInfos","qInfos",[])},close:function e(n){var i=this;n||(i.rpcOptions.onClose=i.rpcOptions.onClose?i.rpcOptions.onClose:function(){});i.setState(c.States.CLOSING);var o=t.resolve();delete i.session.changeHandlers[i.handle];delete i.session.modelCache[i.id];for(var s in i.ongoingRequests)i.ongoingRequests[s].then&&i.ongoingRequests[s].then(null,function(t){t.error.isHandled=true});return o.then(function(){i.setState(c.States.CLOSED);r.addToQueue(i)})},rpc:function e(n,i,r,o){o=o||{delta:false,raw:false};var l=this;var c=[].slice.call(arguments);if(!l.handle&&"App"===l.constructor.name)return l.waitForOpen.promise.then(function(){return l.rpc.apply(l,c)});var u={method:n,handle:this.handle,params:r||[]};o.delta&&(u.delta=true);if(!l.session||l.isClosing||l.isClosed)return t.reject();var d=l.session.rpc(u).then(function(t){return i?t.result[i]:o.raw?t:t.result}).catch(function(e){if(e.error.code===s.LOCERR_HC_MODAL_OBJECT_ERROR){e.error.isHandled=true;return l.session.currentApp.abortModal().then(function(){return l.rpc.apply(l,c)})}return t.reject(e)});if(a.indexOf(n)>-1){l.ongoingRequests[n+o.delta]=d;d.finally(function(){delete l.ongoingRequests[n+o.delta]})}d.rpcId=u.id;return d}});c.getModel=function(e,n,i){var r=n.modelCache[e],o=this;function s(i){delete n.modelCache[e];return t.reject({error:{code:i&&i.error&&i.error.code,message:"No object with Id "+e+" found",parameter:e}})}if(!e)return t.reject("No ID given to RPCBase#getModel");if(r)return r;r=i().then(function(t){return new o({id:t.id,session:n,handle:t.handle,enigmaModel:t})},s);n.modelCache[e]=r;return r};c.getLayout=function(t,e){return this.get(t,e).then(function(t){return t.getLayout().then(function(t){return t})})};c.getProperties=function(t,e){return this.get(t,e).then(function(t){return t.getProperties().then(function(){return t})})};c.extend=function(t,e){var i=n.extend.call(this,t,e);i.getLayout=c.getLayout;i.getProperties=c.getProperties;i.getModel=c.getModel;return i};Object.defineProperties(c.prototype,{isValid:{get:function t(){return this.state===c.States.VALID}},isValidating:{get:function t(){return this.state===c.States.VALIDATING}},isInvalid:{get:function t(){return this.state===c.States.INVALID}},isClosed:{get:function t(){return this.state===c.States.CLOSED}},isClosing:{get:function t(){return this.state===c.States.CLOSING}},isCancelled:{get:function t(){return this.state===c.States.CANCELLED}}});c.States={VALID:1,INVALID:2,VALIDATING:3,CLOSED:5,CLOSING:6,CANCELLED:7};return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(57),n(127)],r=function(t,e){var n=[];function i(t){return t.Invalidated&&t.Invalidated.observers&&0===t.Invalidated.observers.length}function r(){var t=n.length,r;while(t--){r=n[t];e.RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Checking model (id, handle, model):",r.id,r.handle,r);if(i(r)){o(r);n.splice(t,1)}}}function o(n){e.RELEASEMODELS&&window.console.info("[DBGFLG:RELEASEMODEL] Releasing model (id):",n.id);t.release(n);for(var i in n)delete n[i]}function s(t){n.push(t)}setInterval(r,1e4);return{addToQueue:s}}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[n(53),n(45),n(46),n(376),n(377)],r=function(t,e,n,i,r){var o;var s=20;var a="Invalid theme id";var l={DEFAULT:"default",QRS:"qrs"};var c=t.extend("ThemeLoader",{init:function t(e){this._cachedThemes=null;this.config=e;this.providers={default:i,qrs:r};this.THEME_TYPE=l;this.ERROR_THEME_ID=a},getAvailableThemes:function t(){var n=this,i=new e,r=[],o=Object.keys(this.providers),s={default:[],custom:[]};if(this._cachedThemes)return e.resolve(this._cachedThemes);if(!this.config||!this.config.providers)return e.resolve(s);o.forEach(function(t){n.config.providers[t]&&r.push(n.providers[t].getThemeLists())});e.all(r).then(function(t){t.forEach(function(t){s.default=s.default.concat(t.default);s.custom=s.custom.concat(t.custom)});n._sortAlphabetically(s.custom);n._cachedThemes=s;i.resolve(s)});return i.promise},getCustomThemesPage:function t(n){var i,r=this,a;if(o&&o<n)return e.resolve([]);i=new e;this.getAvailableThemes().then(function(t){a=r._getPageFromList(n,t.custom,s);i.resolve(a)});return i.promise},getType:function t(n){var i=this,r=new e;this.getAvailableThemes().then(function(t){var e=Object.keys(t),o,s,l,c=null;while(!c){for(s=0;s<e.length;s++){o=e[s];l=i._getThemeTypeInList(t[o],n);if(l){c=l;break}}break}c?r.resolve(c):r.reject(a)});return r.promise},getRawJson:function t(n){var i=this;if(!n)return e.reject(a);return this.getType(n).then(function(t){return i.providers[t].loadJson(n)}).catch(function(t){return e.reject(t)})},getThemePath:function t(n){var i=this;if(!n)return e.reject(a);return this.getType(n).then(function(t){return i.providers[t].getResourcePath(n)})},getResourceUrlParams:function t(n){var i=this;if(!n)return e.reject(a);return this.getType(n).then(function(t){return i.providers[t].getResourceUrlParams()})},getPagesTotal:function t(){var n=this,i=new e;if(o)return e.resolve(o);this.getAvailableThemes().then(function(t){o=n._calculateNbrOfPages(t.custom,s);i.resolve(o)});return i.promise},_sortAlphabetically:function t(e){return e.sort(function t(e,i){var r="pseudo"===n.language?"en-US":n.language;return e.name.localeCompare(i.name,r)})},_getThemeTypeInList:function t(e,n){var i=null;if(e)for(var r=0;r<e.length;r++)if(e[r].id===n){i=e[r].type;break}return i},_getPageFromList:function t(e,n,i){var r=e||e>0?e:0;var o=r*i;var s=(r+1)*i;n.length<s&&(s=n.length);return n.slice(o,s)},_calculateNbrOfPages:function t(e,n){return Math.ceil(e.length/n)}});return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(46),n(45),n(8),n(182)],r=function(t,e,n,i){var r={};function o(){var t=n.rootPath+"resources/assets/external/sense-themes-default/default-themes.json";return i.getJson(t).then(function(t){return r._resolveDefaultConfiguration(t)})}function s(t){return a(t).then(function(t){var e=r._getJsonPath(t);return i.getJson(e)})}function a(t){var i=n.rootPath+"resources/assets/external/sense-themes-default/";return e.resolve(i+encodeURIComponent(t))}function l(){return""}r._resolveDefaultConfiguration=function(t){var n=new e;r._waitForTranslator().then(function(){var e={default:t.default,custom:[]};r._translateNames(e.default);r._setType(e.default);n.resolve(e)});return n.promise};r._waitForTranslator=function(){return t.ready};r._getJsonPath=function(t){return t+"/theme.json"};r._translateNames=function(e){e.forEach(function(e){e.name=t.get(e.name)})};r._setType=function(t){t.forEach(function(t){t.type="default"})};r.getThemeLists=o;r.loadJson=s;r.getResourcePath=a;r.getResourceUrlParams=l;return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(8),n(45),n(182)],r=function(t,e,n,i){var r={};function o(){var t=new n;var e={default:[],custom:[]};r._getExtensionsFromQrs().then(function(n){for(var i in n)r._isThemeExtension(n,i)&&e.custom.push({id:i,name:n[i]["name"],type:"qrs"});t.resolve(e)},function(){t.resolve(e)});return t.promise}function s(t){return a(t).then(function(t){var e=r._getJsonPath(t);return i.getJson(e)})}function a(t){var i=e.rootPath+"extensions/"+encodeURIComponent(t);return n.resolve(i)}function l(){return""}r._getExtensionsFromQrs=function(){return t.getService("$contentApi").getExtensions()};r._isThemeExtension=function(t,e){return t.hasOwnProperty(e)&&t[e]["type"]&&"theme"===t[e]["type"]};r._getJsonPath=function(t){return t+"/theme.json"};r.getThemeLists=o;r.loadJson=s;r.getResourcePath=a;r.getResourceUrlParams=l;return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(44),n(47),n(379)],r=function(t,e,n){var i=["palette","colorSchemes.qualitativeScales","colorSchemes.ordinalScales","scales","palettes.data","palettes.ui"];function r(t,e){for(var n in t)"object"===o(t[n])&&null!==t[n]?r(t[n],e):"string"===typeof t[n]&&"@"===t[n].charAt(0)&&(t[n]=e[t[n]])}function s(t){n.generateScales(t)}function a(t,e){var i;if(t){i=n.validatePalettesOrScales(t);i&&i.length&&i.forEach(function(t){console.warn("Theme parsing error, scale declaration: "+t)})}if(e){i=n.validatePalettesOrScales(e,true);i&&i.length&&i.forEach(function(t){console.warn("Theme parsing error, scale declaration: "+t)})}}function l(t){t.forEach(function(t){if(t.colors)for(var e=0;e<t.colors.length;e++)t.colors[e]&&(t.colors[e]=t.colors[e].toLowerCase())})}var c={};c.injectStyleNode=function(t,e,n){var i=document.createElement("link");var r=n||"";i.setAttribute("rel","stylesheet");i.setAttribute("href",t+"/"+e+r);document.head.appendChild(i);return i};c.injectExtraStyleNodes=function(t,e,n){var i=[];t.customStyles&&t.customStyles.length&&t.customStyles.forEach(function(t){if(t.cssRef&&t.cssRef.length&&"css"===t.cssRef.split(".").pop()){i.push({node:c.injectStyleNode(e,t.cssRef,n),cssClass:t.classRef});t.classRef&&t.classRef.length&&c.toggleCssClass(t.classRef,true)}});return i};c.toggleCssClass=function(e,n){e&&e.length&&t("body").toggleClass(e,n)};c.parseTheme=function(t,n,o){var c={};r(t,t._variables);r(n,n._variables);false===t._inherit?e.extend(true,c,t):e.extend(true,c,n,t);o&&i.forEach(function(n){var i=e.getValue(t,n);void 0!==i&&e.setValue(c,n,i)});c.scales&&s(c.scales);c.palettes&&c.palettes.ui&&l(c.palettes.ui);a(c.scales,c.palettes?c.palettes.data:null);return c};return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(380),n(97)],r=function(t,e){function n(t,e,n){var i=.25+(e+1)/n*.25;var r=.5-i;var o=.5+i;var s=o-r;return r+t/1*s}function i(e,n){var i=[],r=new t;i.push(e[0]);n||i.push(e[0]);var o=1;for(;o<e.length-1;o++){i.push(e[o]);i.push(e[o])}i.push(e[o]);n||i.push(e[o]);for(var s=0;s<i.length;s+=2)r.addColorPart(i[s],i[s+1]);return r}function r(t,i,r){var o=[];for(var s=0;s<i+1;s++){var a;switch(i){case 0:a=t.getColor(.5);break;default:var l=n(1/i*s,i,r);a=t.getColor(l);break}o.push(new e(a).toHex())}return o}function o(t,e,n){var o=i(t,true);var s=r(o,e-1,e);var a=i(s,n);var l=[null];for(var c=0;c<e;c++)l.push(r(a,c,e));return l}function s(t){t.forEach(function(t){if("class"===t.type){var e=o(t.scale,Math.max(t.scale.length,7),false);t.scale=e;t.type="class-pyramid"}})}function a(t,e){var n={};var i=[];t.forEach(function(t,r){e?-1===["pyramid","row"].indexOf(t.type)&&i.push("Improper type for data palette: "+t.name):-1===["class","class-pyramid","gradient"].indexOf(t.type)&&i.push("Improper type for data scale: "+t.name);-1!==["pyramid","class-pyramid"].indexOf(t.type)?Array.isArray(t.scale)&&Array.isArray(t.scale[t.scale.length-1])&&"string"===typeof t.scale[t.scale.length-1][0]||i.push("Improper scale structure for: "+t.name):Array.isArray(t.scale)&&"string"===typeof t.scale[0]||i.push("Improper scale structure for: "+t.name);t.propertyValue||(t.propertyValue="scale"+r);n[t.propertyValue]?i.push("Duplicate property values for: "+t.name):n[t.propertyValue]=true});return i}return{createPyramidFromColors:o,generateScales:s,validatePalettesOrScales:a}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(381)],r=function(t,e){var n,i=Math.max,r=Math.min,o=e.retriveColor(13816530);function s(t,e,n){var o;t=r(i(t,1e-12),.999999999999);if(n){var s=0;while(s<n.length&&n[s]<=t)s++;o=n.length-(s+(t-n[s-1])/(n[s]-n[s-1]))}else o=e-t*e;return o}function a(t){t=t||this._startLevel;return r(t,this._colorParts.length-1)}function l(t){t.forEach(function(t){t.forEach(function(t){t.reverse()});t.reverse()})}n=t.extend({init:function t(){this._colorParts=[];this._startLevel=0;this._reverse=false;this._max=1;this._min=0;this._span=1;this._invalidSpan=false},addColorPart:function t(n,r,o){o=o||0;this._startLevel=i(o,this._startLevel);this._colorParts[o]||(this._colorParts[o]=[]);this._colorParts[o].push([e.retriveColor(n),e.retriveColor(r)])},setLimits:function t(e){if(!e){this._limits=null;this._expandedLimits=null;return}this._limits=e;this._expandedLimits=[0].concat(e,[1])},setMaxMinValues:function t(e,n){if(!(e>=n)||isNaN(e)||isNaN(n))throw"Incorrect arguments to color-scale->setMaxMinValues";this._max=e;this._min=n;this._span=e-n},setReverse:function t(e){if(this._reverse!==e){this._reverse=e;l(this._colorParts)}},getColor:function t(n,i){var r,l,c,u,d,p,f;var h=0===this._span?.5:(n-this._min)/this._span;if(isNaN(n)||isNaN(h))return o;i=a.apply(this,[i]);r=s(h,this._colorParts[i].length,this._expandedLimits);l=Math.floor(r);l=l===r?l-1:l;u=this._colorParts[i][l];d=u[0];p=u[1];if(n===this._min)return p;if(n===this._max)return d;c=r-l;f=e.retriveBlend(d,p,c);return f},getColors:function t(e){var n=[],i;for(i=0;i<e.length;i++)n.push(this.getColor(e[i]));return n},getSegmentIndex:function t(e){var n=a.call(this);var i=s(e,this._colorParts[n].length,this._expandedLimits);var r=Math.floor(i);r=r===i?r-1:r;return r},getLegendParts:function t(e){var n=[],i,r,o;e=a.apply(this,[e]);r=this._colorParts[e].length;for(i=0;i<r;++i){o=this._colorParts[e][i];var s={grad:o,color:o[0],solid:o[0]===o[1],index:i};this._expandedLimits&&(s.limits=[this._expandedLimits[r-i-1],this._expandedLimits[r-i]]);n.push(s)}return n}});n._limitFunction=s;return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(97)],r=function(t){var e={},n={},i=5e3,r=0,o=Math.floor;function s(t,e){return function(){var n=function t(){},i,r;n.prototype=t.prototype;i=new n;r=t.apply(i,e);return Object(r)===r?r:i}}function a(){r++}function l(){var o,l,c,u;if(arguments.length<3)"string"===typeof arguments[0]?o=arguments[0]:"number"===typeof arguments[0]&&arguments[0]>=0&&(o=arguments[0]+"");else if(arguments.length>=3){o=arguments[0];for(c=0;c>arguments.length;c++)o+=","+arguments[c]}if(o&&e[o])return e[o];u=s(t,arguments)();l=u.isInvalid()?"INVALID":u._r+","+u._g+","+u._b+","+u._a;if(n[l])u=n[l];else{if(r>=i)return u;n[l]=u;a()}o&&(e[o]=u);return u}function c(e,l,c){var u,d;var p=o(e._r+(l._r-e._r)*c),f=o(e._g+(l._g-e._g)*c),h=o(e._b+(l._b-e._b)*c),v=o(e._a+(l._a-e._a)*c);u=p+","+f+","+h+","+v;if(n[u])d=n[u];else{d=s(t,[p,f,h,v])();if(r>=i)return d;n[u]=d;a()}return d}function u(){e={};n={};r=0}return{retriveColor:l,retriveBlend:c,clear:u}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkgrey:{r:169,g:169,b:169},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},grey:{r:128,g:128,b:128},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightgrey:{r:211,g:211,b:211},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},transparent:{r:255,g:255,b:255,a:0},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(50)],r=function(t){var e={getDimensions:function e(n){return t.getValue(n,"qHyperCubeDef.qDimensions",[])},getNumDimensions:function e(n){return t.getValue(n,"qHyperCubeDef.qDimensions.length",0)},getMeasures:function e(n){return t.getValue(n,"qHyperCubeDef.qMeasures",[])},getNumMeasures:function e(n){return t.getValue(n,"qHyperCubeDef.qMeasures.length",0)},getDimensionLayouts:function e(n,i){var r=t.getValue(n,i?i+".qHyperCube":"qHyperCube",null);if(r)return r.qDimensionInfo;return[]},getDimensionLayout:function t(e,n,i){return this.getDimensionLayouts(n,i).filter(function(t){return e===t.cId})[0]},getMeasureLayouts:function e(n,i){var r=t.getValue(n,i?i+".qHyperCube":"qHyperCube",null);if(r)return r.qMeasureInfo;return[]},getMeasureLayout:function t(e,n,i){return this.getMeasureLayouts(n,i).filter(function(t){return e===t.cId})[0]}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e,n){var i={},r,o,s;switch(t){case"dimension":if(n.qLibraryId){i.type="dimension";i.name=n.qLibraryId;i.id=n.qLibraryId}else{i.type="field";if(e){i.name=n.label||n.qDef;i.id=n.qDef}else{r=n.qDef,o=!!r.qLabelExpression,s=r.qFieldLabels&&r.qFieldLabels[0];i.name=r.qFieldDefs[0];i.label=o?r.qLabelExpression:s?r.qFieldLabels[0]:r.qFieldDefs[0]}}break;case"measure":if(n.qLibraryId){i.type="measure";i.name=n.qLibraryId;i.id=n.qLibraryId}else{i.type="expression";if(e){i.name=n.label||n.qExpression;i.id=n.qExpression}else{r=n.qDef,o=!!r.qLabelExpression,s=!!r.qLabel;i.name=r.qDef;i.label=o?r.qLabelExpression:s?r.qLabel:r.qDef}}break;default:throw new Error("Default-property-logic.js: getColorByDefinition: Illegal input")}return i}return{getColorByDefinition:t}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(187)],r=function(t){var e;function n(t,e){if(e){if(t[e]){if(t[e].qHyperCube)return e+".qHyperCube";if(t[e].qListObject)return e+".qListObject"}if(-1!==e.indexOf("Def",e.length-3))return e.slice(0,e.length-3);return e}return t.qHyperCube?"qHyperCube":"qListObject"}e=t.extend("GenericApi",{init:function t(e,i){var r=n(e.layout,i);this._super(e,"/"+r+"Def");this.isHyperCube=-1!==this.dataPath.indexOf("qHyperCube");this.cacheCube.setMethodName(this.isHyperCube?"getHyperCubeData":"getListObjectData")},getBackendApi:function t(n){return new e(this.model,n)},getProperties:function t(){return this.model.getProperties()},setProperties:function t(e){return this.model.setProperties(e)},applyPatches:function t(e,n){return this.model.applyPatches(e,n)},clearSoftPatches:function t(){return this.model.clearSoftPatches()},save:function t(){return this.model.setProperties(this.model.properties)},clearSelections:function t(){return this.model.resetMadeSelections()},updateCache:function t(e){if(e&&e[this.dataPath]){this.cacheCube.set(e[this.dataPath].qDataPages);this.cacheCube.setCubeSize(e[this.dataPath].qSize)}else this.cacheCube.clear()},getData:function t(e){var n=this.cacheCube.getData(e),i=this;n.then(function(t){i.model.layout[i.dataPath].qDataPages.push(t[0])});return n},getDataRow:function t(e){var n=this.model.layout[this.dataPath];if(n){var i=n.qDataPages.length;for(var r=0;r<i;r++){var o=n.qDataPages[r];if(e>=o.qArea.qTop&&e<o.qArea.qTop+o.qArea.qHeight)return o.qMatrix[e-o.qArea.qTop]}}return null},selectValues:function t(e,n,i){if(this.isHyperCube)return this.model.selectHyperCubeValues(this.path,e,n,i);return this.model.selectListObjectValues(this.path,n,i)},select:function t(e,n,i){return this.selectValues(n,e,i)},getReducedData:function t(e,n,i){if(this.isHyperCube)return this.model.getHyperCubeReducedData(this.path,e,n,i||"D1");return null},selectRange:function t(e,n,i){n=!!n;i=i||[];return this.model.rangeSelectHyperCubeValues(this.path,e,i,n)},search:function t(e){if(this.isHyperCube)return null;return this.model.searchListObjectFor(this.path,e)},abortSearch:function t(){if(this.isHyperCube)return null;return this.model.abortListObjectSearch(this.path)},acceptSearch:function t(e){if(this.isHyperCube)return null;return this.model.acceptListObjectSearch(this.path,e)},getPivotData:function t(e){if(this.isHyperCube)return this.model.getHyperCubePivotData(this.path,e);return null},getStackData:function t(e,n){if(this.isHyperCube)return this.model.getHyperCubeStackData(this.path,e,n||1e3);return null},expandTop:function t(e,n,i){return this.model.expandTop(this.path,e,n,i||false)},expandLeft:function t(e,n,i){return this.model.expandLeft(this.path,e,n,i||false)},collapseTop:function t(e,n,i){return this.model.collapseTop(this.path,e,n,i)},collapseLeft:function t(e,n,i){return this.model.collapseLeft(this.path,e,n,i)}});return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(47),n(45),n(188),n(138),n(387),n(189)],r=function(t,e,n,i,r,o,s){var a,l={mode:"S",enabled:true,debouncing:{enabled:true,delay:50},height:250,width:250,maxTotalArea:1e4};a=t.extend("CacheCube",{init:function t(e,n,a,l){this.model=e;this.responseProperty=n;this.options={};this.cubeHeight=0;this.cubeWidth=0;this.setOptions(l||{});this.setPath(a);"K"===this.options.mode?this.cube=new o:"P"===this.options.mode?this.cube=new s:this.cube=new r;this.throttle=new i;var c=this;this.throttle.Send.bind(function(t,e){var n=c._getDirections(c.throttle.recentRequests.map(function(t){return{top:t.data[0].qTop,left:t.data[0].qLeft}}));var i=c._getAreasToCache(t,n.vertical,n.horizontal);c.cacheData(i,t).then(function(t){c.cube?e.resolve(t):e.reject()},function(){e.reject()})});this._modelBinding=function(){c.clear()};this.model.Invalidated.bind(this._modelBinding)},destroy:function t(){this.cube.destroy();this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle;delete this.cube},setMethodName:function t(e){this.method=e},setPath:function t(e){this.path=e},setCubeSize:function t(e){this.cubeHeight=e.qcy;this.cubeWidth=e.qcx},setOptions:function t(n){if(!n)return;this.options=e.extend(true,{},l,this.options,n);this.cacheHeight=this.options.height;this.cacheWidth=this.options.width;this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function t(){this.cube&&this.cube.clear();this.throttle&&this.throttle.clear()},set:function t(e){this.clear();if(!e||!e.length)return;this.cube.store(e)},cacheData:function t(e,n){var i=function t(e){if(this.cube){this.cube.store(e);return this.cube.get(n)}return e};return"getHyperCubeStackData"===this.method&&this.options.maxStackedValues?this.model[this.method](this.path,e,this.options.maxStackedValues).then(i.bind(this)):this.model[this.method](this.path,e).then(i.bind(this))},getData:function t(e){if(!this.model)return n.reject();if(!this.enabled||!this.cubeHeight||!this.cubeWidth)return this.model[this.method](this.path,e);var i,r,o=[];for(i=0;i<e.length;++i){r=e[i];o.push({qTop:Math.max(Math.floor(r.qTop),0),qLeft:Math.max(r.qLeft,0),qHeight:Math.min(r.qHeight,this.cubeHeight-Math.floor(r.qTop)),qWidth:Math.min(r.qWidth,this.cubeWidth-r.qLeft)})}if(this.cube.contains(o)){this.throttle.updateResolutionTime();return n.resolve(this.cube.get(o))}if(0===o[0].qTop&&this.cube.isEmpty()&&this.throttle.ongoingRequests.length+this.throttle.queuedRequests.length===0){this.throttle.updateResolutionTime();return this.cacheData(o,o)}return this.throttle.queue(o)},_getDirections:function t(e){if(!e||e.length<2)return{vertical:0,horizontal:0};var n=e.slice(-2),i=n[1].top-n[0].top,r=n[1].left-n[0].left;return{vertical:i<0?-1:i>0?1:0,horizontal:r<0?-1:r>0?1:0}},_getAreasToCache:function t(e,n,i){var r,o,s,a,l,c,u,d,p,f=[],h=this.cacheHeight;"undefined"===typeof n&&(n=0);"undefined"===typeof i&&(i=0);this.cacheHeight*this.cacheWidth*e.length>this.options.maxTotalArea&&(h=Math.floor(this.options.maxTotalArea/(e.length*this.cacheWidth)));for(r=0;r<e.length;++r){o=0!==n?Math.floor(.5*Math.max(0,h-e[r].qHeight)):0;s=0!==i?Math.floor(.5*Math.max(0,this.cacheWidth-e[r].qWidth)):0;a=o*n-o;l=s*i-s;c=0!==n?Math.max(0,Math.min(Math.max(e[r].qHeight,h),this.cubeHeight)):e[r].qHeight;u=0!==i?Math.max(0,Math.min(Math.max(e[r].qWidth,this.cacheWidth),this.cubeWidth)):e[r].qWidth;d=Math.max(0,Math.min(e[r].qTop+a,this.cubeHeight-c));p=Math.max(0,Math.min(e[r].qLeft+l,this.cubeWidth-u));f.push({qTop:d,qHeight:c,qLeft:p,qWidth:u})}return f}});return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(68)],r=function(t,e){var n,i=new e(0,0,0,0),r=new e(0,0,0,0);n=t.extend("StackedCubeSlicer",{init:function t(){this.pages=[]},get:function t(e){return e.map(function(t){return this.getPage(t)}.bind(this))},getPage:function t(n){var o,s,a=[],l;for(s=0;s<this.pages.length;s++){o=this.pages[s].qArea;i.set(n.qLeft,n.qTop,n.qWidth,n.qHeight);r.set(o.qLeft,o.qTop,o.qWidth,o.qHeight);l=r.intersection(i,true);a.push({coverage:l?l.clone():new e(0,0,0,0),idx:s});if(o.qLeft<=n.qLeft&&o.qLeft+o.qWidth>=n.qLeft+n.qWidth&&o.qTop<=n.qTop&&o.qTop+o.qHeight>=n.qTop+n.qHeight)return this._extract(n,this.pages[s])}a.sort(function(t,e){return e.coverage.width*e.coverage.height-t.coverage.width*t.coverage.height});if(a[0].coverage.height>0&&a[0].coverage.width>0)return this._extract(n,this.pages[a[0].idx]);return{qArea:{qTop:n.qTop,qLeft:n.qLeft,qWidth:0,qHeight:0},qData:[]}},destroy:function t(){this.clear()},isEmpty:function t(){return!this.pages||!this.pages[0]||!this.pages[0].qArea.qHeight||!this.pages[0].qArea.qWidth},clear:function t(){this.pages=[]},store:function t(e){this.pages=e},containsArea:function t(e){var n;for(var i=0;i<this.pages.length;i++){n=this.pages[i].qArea;if(n.qLeft<=e.qLeft&&n.qLeft+n.qWidth>=e.qLeft+e.qWidth&&n.qTop<=e.qTop&&n.qTop+n.qHeight>=e.qTop+e.qHeight)return true}return false},contains:function t(e){if(!this.pages||!this.pages.length)return false;return 0===e.filter(function(t){return!this.containsArea(t)}.bind(this)).length},_extract:function t(e,n){i.set(e.qLeft,e.qTop,e.qWidth,e.qHeight);r.set(n.qArea.qLeft,n.qArea.qTop,n.qArea.qWidth,n.qArea.qHeight);var o=i.intersection(r,true),s,a;if(!o)return{qArea:{qTop:e.qTop,qLeft:e.qLeft,qWidth:0,qHeight:0},qData:[]};a=Math.max(0,e.qTop-n.qArea.qTop);var l=n.qData[0];var c=l.qSubNodes;s={};for(var u in l)l.hasOwnProperty(u)&&(s[u]="qSubNodes"===u?c.slice(a,a+o.height):l[u]);s.qUp+=a;s.qDown+=n.qArea.qHeight-o.height-a;return{qArea:{qTop:o.y,qLeft:o.x,qWidth:o.width,qHeight:o.height},qData:[s]}}});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(47),n(188)],r=function(t,e,n){var i,r={enabled:true,debouncing:{enabled:true,delay:50}};i=t.extend({init:function t(e,i,r){this.model=e;this.responseProperty=i;this.options={};this.setOptions({});this.setPath(r);this.throttle=new n;this.throttle.Send.bind(function(t,e){o.model[o.method](o.path,t).then(function(t){e.resolve(t)},function(){e.reject()})});var o=this;this._modelBinding=function(){o.clear()};this.model.Invalidated.bind(this._modelBinding)},setMethodName:function t(e){this.method=e},setPath:function t(e){this.path=e},setOptions:function t(n){this.options=e.extend(true,{},r,this.options,n);this.enabled=this.options.enabled||false;this.debouncing={enabled:this.options.debouncing.enabled||false,delay:this.options.debouncing.delay||-1}},clear:function t(){this.throttle&&this.throttle.clear()},destroy:function t(){this.throttle.destroy();this.model&&this.model.Invalidated&&this.model.Invalidated.unbind(this._modelBinding);this._modelBinding=null;delete this.model;delete this.throttle},set:function t(){this.clear()},getData:function t(e){if(!this.enabled)return this.model[this.method](this.path,e);return this.throttle.queue(e)}});return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(139),n(191),n(73),n(47)],r=function(t,e,n,i,r){var o=e.extend({init:function t(e){this._super(e)},minDimensions:function t(){return 1},maxDimensions:function t(){return 1},minMeasures:function t(){return 0},maxMeasures:function t(){return 0},autoSortDimension:function t(e){return n.autoSortDimension(e)},getDimensions:function t(){var e=this.properties.qListObjectDef.qDef;if((!e||!e.qFieldDefs||!e.qFieldDefs.length)&&!this.properties.qListObjectDef.qLibraryId)return[];return[this.properties.qListObjectDef]},addDimension:function t(e){var o=this;function s(){o.properties.qListObjectDef=r.extend(true,o.properties.qListObjectDef,e);"function"===typeof o.dimensionDefinition.add&&o.dimensionDefinition.add.call(null,e,o.properties,o)}return e.qLibraryId?this.app.getDimensionList().then(function(t){var r=i.findLibraryDimension(e.qLibraryId,t);r&&n.autoSortDimension(e,r.qData.info);s();return e}):this.app.getFieldList().then(function(t){var r=i.findField(e.qDef.qFieldDefs[0],t);r&&n.autoSortDimension(e,[r]);s();return e})},replaceDimension:function e(i,o){var s=this,a=r.extend(true,this.properties.qListObjectDef,o);n.autoSortDimension(o);if(o.qLibraryId){delete a.qDef.qFieldDefs;delete a.qDef.qFieldLabels}else delete a.qLibraryId;s.properties.qListObjectDef=a;return t.resolve(o)},removeDimension:void 0,getDimensionLayouts:function t(){return[this.getDimensionLayout()]},getDimensionLayout:function t(){return this.layout&&this.layout.qListObject&&this.layout.qListObject.qDimensionInfo?this.layout.qListObject.qDimensionInfo:""},getMeasures:function t(){return this.properties.qListObjectDef.qExpressions},getMeasureLayout:function t(){return this.layout&&this.layout.qListObject&&this.layout.qListObject.qExpressions&&this.layout.qListObject.qExpressions[0]?this.layout.qListObject.qExpressions[0].qExpr:""}});return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div style="height: 100%; position: relative;"></div>\n'},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){t=void 0!==t?t:1;this.data=[];for(var e=0;e<t;++e)this.data.push({dimensions:[],measures:[],excludedDimensions:[],excludedMeasures:[],interColumnSortOrder:[]});this.properties={}}return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){return{quarantine:e,unquarantine:n};function e(e){var n=t.getValue(e,"properties.qHyperCubeDef.qMeasures",[]);var i=t.getValue(e,"properties.qHyperCubeDef.qDimensions",[]);n.forEach(r.bind(null,e,"measures"));i.forEach(r.bind(null,e,"dimensions"))}function n(e){var n=t.getValue(e,"qProperty.qHyperCubeDef.qMeasures",[]);var i=t.getValue(e,"qProperty.qHyperCubeDef.qDimensions",[]);n.forEach(o.bind(null,e,"measures"));i.forEach(o.bind(null,e,"dimensions"))}function i(t){return t&&t.qCond&&t.qCond.qv}function r(e,n,r){var o=t.getValue(r,"qDef.cId");var s="qLayoutExclude.quarantine.conditionalShowHide."+n;if(!i(r.qCalcCondition))return;if(!o){o=t.generateId();t.setValue(r,"qDef.cId",o)}t.setValue(e.properties,s+"."+o,r.qCalcCondition);delete r.qCalcCondition}function o(e,n,r){var o=t.getValue(r,"qDef.cId");var s="qProperty.qLayoutExclude.quarantine.conditionalShowHide."+n;if(!o)return;var a=t.getValue(e,s+"."+o);if(i(a)){r.qCalcCondition=a;t.setValue(e,s+"."+o,void 0)}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){(function(t){var n,i;!(n=[t],i=function(t){"use strict";var e,n,i,r,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!==typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,p=c&&(location.port||void 0),f={},h=t.config&&t.config()||{};function v(t,e){return void 0===t||""===t?e:t}function g(t,e,n,i){if(e===i)return true;if(t===n){if("http"===t)return v(e,"80")===v(i,"80");if("https"===t)return v(e,"443")===v(i,"443")}return false}e={version:"2.0.15",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(l);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var t,e,n;if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!==typeof ActiveXObject)for(e=0;e<3;e+=1){n=s[e];try{t=new ActiveXObject(n)}catch(t){}if(t){s=[n];break}}return t},parseName:function(t){var e,n,i,r=false,o=t.lastIndexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");if(-1!==o&&(!s||o>1)){e=t.substring(0,o);n=t.substring(o+1)}else e=t;i=n||e;o=i.indexOf("!");if(-1!==o){r="strip"===i.substring(o+1);i=i.substring(0,o);n?n=i:e=i}return{moduleName:e,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,n,i,r){var o,s,a,l=e.xdRegExp.exec(t);if(!l)return true;o=l[2];s=l[3];s=s.split(":");a=s[1];s=s[0];return(!o||o===n)&&(!s||s.toLowerCase()===i.toLowerCase())&&(!a&&!s||g(o,a,n,r))},finishLoad:function(t,n,i,r){i=n?e.strip(i):i;h.isBuild&&(f[t]=i);r(i)},load:function(t,n,i,r){if(r&&r.isBuild&&!r.inlineText){i();return}h.isBuild=r&&r.isBuild;var o=e.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=n.toUrl(s),l=h.useXhr||e.useXhr;if(0===a.indexOf("empty:")){i();return}!c||l(a,u,d,p)?e.get(a,function(n){e.finishLoad(t,o.strip,n,i)},function(t){i.error&&i.error(t)}):n([s],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,i)})},write:function(t,n,i,r){if(f.hasOwnProperty(n)){var o=e.jsEscape(f[n]);i.asModule(t+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,n,i,r,o){var s=e.parseName(n),a=s.ext?"."+s.ext:"",l=s.moduleName+a,c=i.toUrl(s.moduleName+a)+".js";e.load(l,i,function(n){var i=function(t){return r(c,t)};i.asModule=function(t,e){return r.asModule(t,c,e)};e.write(t,l,i,o)},o)}};if("xhr"===h.env||!h.env&&e.createXhr())e.get=function(t,n,i,r){var o=e.createXhr(),s;o.open("GET",t,true);if(r)for(s in r)r.hasOwnProperty(s)&&o.setRequestHeader(s.toLowerCase(),r[s]);h.onXhr&&h.onXhr(o,t);o.onreadystatechange=function(e){var r,s;if(4===o.readyState){r=o.status||0;if(r>399&&r<600){s=new Error(t+" HTTP status: "+r);s.xhr=o;i&&i(s)}else n(o.responseText);h.onXhrComplete&&h.onXhrComplete(o,t)}};o.send(null)};else if("rhino"===h.env||!h.env&&"undefined"!==typeof Packages&&"undefined"!==typeof java)e.get=function(t,e){var n,i,r="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";try{n=new java.lang.StringBuffer;i=a.readLine();i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1));null!==i&&n.append(i);while(null!==(i=a.readLine())){n.append(s);n.append(i)}l=String(n.toString())}finally{a.close()}e(l)};else if("xpconnect"===h.env||!h.env&&"undefined"!==typeof Components&&Components.classes&&Components.interfaces){i=Components.classes;r=Components.interfaces;Components.utils["import"]("resource://gre/modules/FileUtils.jsm");o="@mozilla.org/windows-registry-key;1"in i;e.get=function(t,e){var n,s,a,l={};o&&(t=t.replace(/\//g,"\\"));a=new FileUtils.File(t);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream);n.init(a,1,0,false);s=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream);s.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);s.readString(n.available(),l);s.close();n.close();e(l.value)}catch(t){throw new Error((a&&a.path||"")+": "+t)}}}return e}.apply(e,n),void 0!==i&&(t.exports=i))}).call(this,n(82)(t))},function(t,e,n){(function(e){"use strict";var n="onreadystatechange",i="onload",r="createElement",o=false,s,a={},l={},c=/^\/|^[^:]*:\/\//,u=/url\s*\(['"]?([^'"\)]*)['"]?\)/g,d=e.document,p,f={};d&&(p=d.head||(d.head=d.getElementsByTagName("head")[0]));function h(t){return l[t]}function v(t,e){var r=t.link;r[n]=r[i]=function(){if(!r.readyState||"complete"==r.readyState){l["event-link-onload"]=true;S(t);e()}}}function g(t,e){return t.lastIndexOf(".")<=t.lastIndexOf("/")?t+"."+e:t}function m(t){var e=t.split("!"),n,i=1,r;while(n=e[i++]){r=n.split("=",2);e[r[0]]=2!=r.length||r[1]}return e}var b;function y(t,e){if(document.createStyleSheet){b||(b=document.createStyleSheet());document.styleSheets.length>=30&&D()}var n=t[r]("link");n.rel="stylesheet";n.type="text/css";n.setAttribute("_curl_movable",true);e&&(n.href=e);return n}var x;function w(){if(!x){x=d[r]("div");x.id="_cssx_load_test";p.appendChild(x)}return"-5px"==d.defaultView.getComputedStyle(x,null).marginTop}function q(t){var e,n,i=false;try{e=t.sheet||t.styleSheet;n=e.cssRules||e.rules;i=n?n.length>0:n!==s;if(i&&"[object Chrome]"=={}.toString.call(window.chrome)){e.insertRule("#_cssx_load_test{margin-top:-5px;}",0);i=w();e.deleteRule(0)}}catch(t){i=1e3==t.code||t.message.match(/security|denied/i)}return i}function _(t,e){if(q(t.link)){S(t);e()}else o||setTimeout(function(){_(t,e)},t.wait)}function C(t,e){var n;function i(){if(!n){n=true;e()}}v(t,i);h("event-link-onload")||_(t,i)}function S(t){var e=t.link;e[n]=e[i]=null}function D(){var t,e,n,i=0;n=b;b=null;e=document.getElementsByTagName("link");while(t=e[i])if(t.getAttribute("_curl_movable")){n.addImport(t.href);t.parentNode&&t.parentNode.removeChild(t)}else i++}var E;function k(t,e){return t.replace(u,function(t,n){return'url("'+T(n,e)+'")'})}function T(t,e){c.test(t)||(t=e+t);return t}function A(t){clearTimeout(A.debouncer);if(A.accum)A.accum.push(t);else{A.accum=[t];E=d.createStyleSheet?d.createStyleSheet():p.appendChild(d.createElement("style"))}A.debouncer=setTimeout(function(){var t,e;t=E;E=s;e=A.accum.join("\n");A.accum=s;e=e.replace(/.+charset[^;]+;/g,"");"cssText"in t?t.cssText=e:t.appendChild(d.createTextNode(e))},0);return E}function I(t){return{cssRules:function(){return t.cssRules||t.rules},insertRule:t.insertRule||function(e,n){var i=e.split(/\{|\}/g);t.addRule(i[0],i[1],n);return n},deleteRule:t.deleteRule||function(e){t.removeRule(e);return e},sheet:function(){return t}}}function O(t){var e={34:'\\"',13:"\\r",12:"\\f",10:"\\n",9:"\\t",8:"\\b"};return t.replace(/(["\n\f\t\r\b])/g,function(t){return e[t.charCodeAt(0)]})}!(t.exports={normalize:function(t,e){var n,i;if(!t)return t;n=t.split(",");i=[];for(var r=0,o=n.length;r<o;r++)i.push(e(n[r]));return i.join(",")},load:function(t,e,n,i){var r=(t||"").split(","),o=r.length;function s(){0==--o&&setTimeout(function(){n(I(v.sheet||v.styleSheet))},0)}if(t)for(var l=r.length-1,c;l>=0;l--,c=true){t=r[l];var u=m(t),f=u.shift(),h=e["toUrl"](g(f,"css")),v=y(d),b="nowait"in u?"false"!=u["nowait"]:!!i["cssDeferLoad"],x={link:v,url:h,wait:i["cssWatchPeriod"]||50};b?n(I(v.sheet||v.styleSheet)):C(x,s);v.href=h;c?p.insertBefore(v,a[c].previousSibling):p.appendChild(v);a[h]=v}else n({translateUrls:function(t,n){var i;i=e["toUrl"](n);i=i.substr(0,i.lastIndexOf("/")+1);return k(t,i)},injectStyle:function(t){return A(t)},proxySheet:function(t){t.sheet&&(t=t.sheet);return I(t)}})},build:function(t,e,n){return function n(i,r,o){var s,a,l,c,u,d;s=m(r);a=s.shift();c=o["toAbsMid"](a);if(!(c in f)){f[c]=true;l=o["toUrl"](g(c,"css"));u=O(e(l));d='define("'+i+"!"+c+'", ["'+i+'!"], function (api) {\n\tvar cssText = "'+u+'";\n\tcssText = api.translateUrls(cssText, "'+c+'");\n\treturn api.proxySheet(api.injectStyle(cssText));\n});\n';t(d)}}}})})(window)},function(module,exports){var requirejs,require,define;(function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!!("undefined"!==typeof window&&"undefined"!==typeof navigator&&window.document),isWebWorker=!isBrowser&&"undefined"!==typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!==typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=false;function commentReplace(t,e){return e||""}function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){if(t){var n;for(n=0;n<t.length;n+=1)if(t[n]&&e(t[n],n,t))break}}function eachReverse(t,e){if(t){var n;for(n=t.length-1;n>-1;n-=1)if(t[n]&&e(t[n],n,t))break}}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var n;for(n in t)if(hasProp(t,n)&&e(t[n],n))break}function mixin(t,e,n,i){e&&eachProp(e,function(e,r){if(n||!hasProp(t,r))if(!i||"object"!==typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp)t[r]=e;else{t[r]||(t[r]={});mixin(t[r],e,n,i)}});return t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;each(t.split("."),function(t){e=e[t]});return e}function makeError(t,e,n,i){var r=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);r.requireType=t;r.requireModules=i;n&&(r.originalError=n);return r}if("undefined"!==typeof define)return;if("undefined"!==typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs;requirejs=void 0}if("undefined"!==typeof require&&!isFunction(require)){cfg=require;require=void 0}function newContext(t){var e,n,i,r,o,s={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},a={},l={},c={},u=[],d={},p={},f={},h=1,v=1;function g(t){var e,n;for(e=0;e<t.length;e++){n=t[e];if("."===n){t.splice(e,1);e-=1}else if(".."===n){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;if(e>0){t.splice(e-1,2);e-=2}}}}function m(t,e,n){var i,r,o,a,l,c,u,d,p,f,h,v,m=e&&e.split("/"),b=s.map,y=b&&b["*"];if(t){t=t.split("/");u=t.length-1;s.nodeIdCompat&&jsSuffixRegExp.test(t[u])&&(t[u]=t[u].replace(jsSuffixRegExp,""));if("."===t[0].charAt(0)&&m){v=m.slice(0,m.length-1);t=v.concat(t)}g(t);t=t.join("/")}if(n&&b&&(m||y)){o=t.split("/");t:for(a=o.length;a>0;a-=1){c=o.slice(0,a).join("/");if(m)for(l=m.length;l>0;l-=1){r=getOwn(b,m.slice(0,l).join("/"));if(r){r=getOwn(r,c);if(r){d=r;p=a;break t}}}if(!f&&y&&getOwn(y,c)){f=getOwn(y,c);h=a}}if(!d&&f){d=f;p=h}if(d){o.splice(0,p,d);t=o.join("/")}}i=getOwn(s.pkgs,t);return i||t}function b(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===i.contextName){e.parentNode.removeChild(e);return true}})}function y(t){var e=getOwn(s.paths,t);if(e&&isArray(e)&&e.length>1){e.shift();i.require.undef(t);i.makeRequire(null,{skipMap:true})([t]);return true}}function x(t){var e,n=t?t.indexOf("!"):-1;if(n>-1){e=t.substring(0,n);t=t.substring(n+1,t.length)}return[e,t]}function w(t,e,n,r){var o,s,a,l,c=null,u=e?e.name:null,p=t,f=true,g="";if(!t){f=false;t="_@r"+(h+=1)}l=x(t);c=l[0];t=l[1];if(c){c=m(c,u,r);s=getOwn(d,c)}if(t)if(c)g=n?t:s&&s.normalize?s.normalize(t,function(t){return m(t,u,r)}):-1===t.indexOf("!")?m(t,u,r):t;else{g=m(t,u,r);l=x(g);c=l[0];g=l[1];n=true;o=i.nameToUrl(g)}a=!c||s||n?"":"_unnormalized"+(v+=1);return{prefix:c,name:g,parentMap:e,unnormalized:!!a,url:o,originalName:p,isDefine:f,id:(c?c+"!"+g:g)+a}}function q(t){var e=t.id,n=getOwn(a,e);n||(n=a[e]=new i.Module(t));return n}function _(t,e,n){var i=t.id,r=getOwn(a,i);if(!hasProp(d,i)||r&&!r.defineEmitComplete){r=q(t);r.error&&"error"===e?n(r.error):r.on(e,n)}else"defined"===e&&n(d[i])}function C(t,e){var n=t.requireModules,i=false;if(e)e(t);else{each(n,function(e){var n=getOwn(a,e);if(n){n.error=t;if(n.events.error){i=true;n.emit("error",t)}}});i||req.onError(t)}}function S(){if(globalDefQueue.length){each(globalDefQueue,function(t){var e=t[0];"string"===typeof e&&(i.defQueueMap[e]=true);u.push(t)});globalDefQueue=[]}}r={require:function(t){return t.require?t.require:t.require=i.makeRequire(t.map)},exports:function(t){t.usingExports=true;if(t.map.isDefine)return t.exports?d[t.map.id]=t.exports:t.exports=d[t.map.id]={}},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(s.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}};function D(t){delete a[t];delete l[t]}function E(t,e,n){var i=t.map.id;if(t.error)t.emit("error",t.error);else{e[i]=true;each(t.depMaps,function(i,r){var o=i.id,s=getOwn(a,o);if(s&&!t.depMatched[r]&&!n[o])if(getOwn(e,o)){t.defineDep(r,d[o]);t.check()}else E(s,e,n)});n[i]=true}}function k(){var t,n,r=1e3*s.waitSeconds,a=r&&i.startTime+r<(new Date).getTime(),c=[],u=[],d=false,p=true;if(e)return;e=true;eachProp(l,function(t){var e=t.map,i=e.id;if(!t.enabled)return;e.isDefine||u.push(t);if(!t.error)if(!t.inited&&a)if(y(i)){n=true;d=true}else{c.push(i);b(i)}else if(!t.inited&&t.fetched&&e.isDefine){d=true;if(!e.prefix)return p=false}});if(a&&c.length){t=makeError("timeout","Load timeout for modules: "+c,null,c);t.contextName=i.contextName;return C(t)}p&&each(u,function(t){E(t,{},{})});a&&!n||!d||!isBrowser&&!isWebWorker||o||(o=setTimeout(function(){o=0;k()},50));e=false}n=function(t){this.events=getOwn(c,t.id)||{};this.map=t;this.shim=getOwn(s.shim,t.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};n.prototype={init:function(t,e,n,i){i=i||{};if(this.inited)return;this.factory=e;n?this.on("error",n):this.events.error&&(n=bind(this,function(t){this.emit("error",t)}));this.depMaps=t&&t.slice(0);this.errback=n;this.inited=true;this.ignore=i.ignore;i.enabled||this.enabled?this.enable():this.check()},defineDep:function(t,e){if(!this.depMatched[t]){this.depMatched[t]=true;this.depCount-=1;this.depExports[t]=e}},fetch:function(){if(this.fetched)return;this.fetched=true;i.startTime=(new Date).getTime();var t=this.map;if(!this.shim)return t.prefix?this.callPlugin():this.load();i.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()}))},load:function(){var t=this.map.url;if(!p[t]){p[t]=true;i.load(this.map.id,t)}},check:function(){if(!this.enabled||this.enabling)return;var t,e,n=this.map.id,r=this.depExports,o=this.exports,s=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(s)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=i.execCb(n,s,r,o)}catch(e){t=e}else o=i.execCb(n,s,r,o);if(this.map.isDefine&&void 0===o){e=this.module;e?o=e.exports:this.usingExports&&(o=this.exports)}if(t){t.requireMap=this.map;t.requireModules=this.map.isDefine?[this.map.id]:null;t.requireType=this.map.isDefine?"define":"require";return C(this.error=t)}}else o=s;this.exports=o;if(this.map.isDefine&&!this.ignore){d[n]=o;if(req.onResourceLoad){var a=[];each(this.depMaps,function(t){a.push(t.normalizedMap||t)});req.onResourceLoad(i,this.map,a)}}D(n);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}else hasProp(i.defQueueMap,n)||this.fetch()},callPlugin:function(){var t=this.map,e=t.id,n=w(t.prefix);this.depMaps.push(n);_(n,"defined",bind(this,function(n){var r,o,l,c=getOwn(f,this.map.id),u=this.map.name,d=this.map.parentMap?this.map.parentMap.name:null,p=i.makeRequire(t.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){n.normalize&&(u=n.normalize(u,function(t){return m(t,d,true)})||"");o=w(t.prefix+"!"+u,this.map.parentMap,true);_(o,"defined",bind(this,function(t){this.map.normalizedMap=o;this.init([],function(){return t},null,{enabled:true,ignore:true})}));l=getOwn(a,o.id);if(l){this.depMaps.push(o);this.events.error&&l.on("error",bind(this,function(t){this.emit("error",t)}));l.enable()}return}if(c){this.map.url=i.nameToUrl(c);this.load();return}r=bind(this,function(t){this.init([],function(){return t},null,{enabled:true})});r.error=bind(this,function(t){this.inited=true;this.error=t;t.requireModules=[e];eachProp(a,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&D(t.map.id)});C(t)});r.fromText=bind(this,function(n,o){var a=t.name,l=w(a),c=useInteractive;o&&(n=o);c&&(useInteractive=false);q(l);hasProp(s.config,e)&&(s.config[a]=s.config[e]);try{req.exec(n)}catch(t){return C(makeError("fromtexteval","fromText eval for "+e+" failed: "+t,t,[e]))}c&&(useInteractive=true);this.depMaps.push(l);i.completeLoad(a);p([a],r)});n.load(t.name,p,r,s)}));i.enable(n,this);this.pluginMaps[n.id]=n},enable:function(){l[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(t,e){var n,o,s;if("string"===typeof t){t=w(t,this.map.isDefine?this.map:this.map.parentMap,false,!this.skipMap);this.depMaps[e]=t;s=getOwn(r,t.id);if(s){this.depExports[e]=s(this);return}this.depCount+=1;_(t,"defined",bind(this,function(t){if(this.undefed)return;this.defineDep(e,t);this.check()}));this.errback?_(t,"error",bind(this,this.errback)):this.events.error&&_(t,"error",bind(this,function(t){this.emit("error",t)}))}n=t.id;o=a[n];hasProp(r,n)||!o||o.enabled||i.enable(t,this)}));eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(a,t.id);e&&!e.enabled&&i.enable(t,this)}));this.enabling=false;this.check()},on:function(t,e){var n=this.events[t];n||(n=this.events[t]=[]);n.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)});"error"===t&&delete this.events[t]}};function T(t){hasProp(d,t[0])||q(w(t[0],null,true)).init(t[1],t[2])}function A(t,e,n,i){t.detachEvent&&!isOpera?i&&t.detachEvent(i,e):t.removeEventListener(n,e,false)}function I(t){var e=t.currentTarget||t.srcElement;A(e,i.onScriptLoad,"load","onreadystatechange");A(e,i.onScriptError,"error");return{node:e,id:e&&e.getAttribute("data-requiremodule")}}function O(){var t;S();while(u.length){t=u.shift();if(null===t[0])return C(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));T(t)}i.defQueueMap={}}i={config:s,contextName:t,registry:a,defined:d,urlFetched:p,defQueue:u,defQueueMap:{},Module:n,makeModuleMap:w,nextTick:req.nextTick,onError:C,configure:function(t){t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/");if("string"===typeof t.urlArgs){var e=t.urlArgs;t.urlArgs=function(t,n){return(-1===n.indexOf("?")?"?":"&")+e}}var n=s.shim,r={paths:true,bundles:true,config:true,map:true};eachProp(t,function(t,e){if(r[e]){s[e]||(s[e]={});mixin(s[e],t,true,true)}else s[e]=t});t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(f[t]=e)})});if(t.shim){eachProp(t.shim,function(t,e){isArray(t)&&(t={deps:t});!t.exports&&!t.init||t.exportsFn||(t.exportsFn=i.makeShimExports(t));n[e]=t});s.shim=n}t.packages&&each(t.packages,function(t){var e,n;t="string"===typeof t?{name:t}:t;n=t.name;e=t.location;e&&(s.paths[n]=t.location);s.pkgs[n]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")});eachProp(a,function(t,e){t.inited||t.map.unnormalized||(t.map=w(e,null,true))});(t.deps||t.callback)&&i.require(t.deps||[],t.callback)},makeShimExports:function(t){function e(){var e;t.init&&(e=t.init.apply(global,arguments));return e||t.exports&&getGlobal(t.exports)}return e},makeRequire:function(e,n){n=n||{};function o(s,l,c){var u,p,f;n.enableBuildCallback&&l&&isFunction(l)&&(l.__requireJsBuild=true);if("string"===typeof s){if(isFunction(l))return C(makeError("requireargs","Invalid require call"),c);if(e&&hasProp(r,s))return r[s](a[e.id]);if(req.get)return req.get(i,s,e,o);p=w(s,e,false,true);u=p.id;if(!hasProp(d,u))return C(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")));return d[u]}O();i.nextTick(function(){O();f=q(w(null,e));f.skipMap=n.skipMap;f.init(s,l,c,{enabled:true});k()});return o}mixin(o,{isBrowser:isBrowser,toUrl:function(t){var n,r=t.lastIndexOf("."),o=t.split("/")[0],s="."===o||".."===o;if(-1!==r&&(!s||r>1)){n=t.substring(r,t.length);t=t.substring(0,r)}return i.nameToUrl(m(t,e&&e.id,true),n,true)},defined:function(t){return hasProp(d,w(t,e,false,true).id)},specified:function(t){t=w(t,e,false,true).id;return hasProp(d,t)||hasProp(a,t)}});e||(o.undef=function(t){S();var n=w(t,e,true),r=getOwn(a,t);r.undefed=true;b(t);delete d[t];delete p[n.url];delete c[t];eachReverse(u,function(e,n){e[0]===t&&u.splice(n,1)});delete i.defQueueMap[t];if(r){r.events.defined&&(c[t]=r.events);D(t)}});return o},enable:function(t){var e=getOwn(a,t.id);e&&q(t).enable()},completeLoad:function(t){var e,n,r,o=getOwn(s.shim,t)||{},l=o.exports;S();while(u.length){n=u.shift();if(null===n[0]){n[0]=t;if(e)break;e=true}else n[0]===t&&(e=true);T(n)}i.defQueueMap={};r=getOwn(a,t);if(!e&&!hasProp(d,t)&&r&&!r.inited){if(!(!s.enforceDefine||l&&getGlobal(l)))return y(t)?void 0:C(makeError("nodefine","No define call for "+t,null,[t]));T([t,o.deps||[],o.exportsFn])}k()},nameToUrl:function(t,e,n){var r,o,a,l,c,u,d,p=getOwn(s.pkgs,t);p&&(t=p);d=getOwn(f,t);if(d)return i.nameToUrl(d,e,n);if(req.jsExtRegExp.test(t))c=t+(e||"");else{r=s.paths;o=t.split("/");for(a=o.length;a>0;a-=1){l=o.slice(0,a).join("/");u=getOwn(r,l);if(u){isArray(u)&&(u=u[0]);o.splice(0,a,u);break}}c=o.join("/");c+=e||(/^data\:|^blob\:|\?/.test(c)||n?"":".js");c=("/"===c.charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":s.baseUrl)+c}return s.urlArgs&&!/^blob\:/.test(c)?c+s.urlArgs(t,c):c},load:function(t,e){req.load(i,t,e)},execCb:function(t,e,n,i){return e.apply(i,n)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=I(t);i.completeLoad(e.id)}},onScriptError:function(t){var e=I(t);if(!y(e.id)){var n=[];eachProp(a,function(t,i){0!==i.indexOf("_@r")&&each(t.depMaps,function(t){if(t.id===e.id){n.push(i);return true}})});return C(makeError("scripterror",'Script error for "'+e.id+(n.length?'", needed by: '+n.join(", "):'"'),t,[e.id]))}}};i.require=i.makeRequire();return i}req=requirejs=function(t,e,n,i){var r,o,s=defContextName;if(!isArray(t)&&"string"!==typeof t){o=t;if(isArray(e)){t=e;e=n;n=i}else t=[]}o&&o.context&&(s=o.context);r=getOwn(contexts,s);r||(r=contexts[s]=req.s.newContext(s));o&&r.configure(o);return r.require(t,e,n)};req.config=function(t){return req(t)};req.nextTick="undefined"!==typeof setTimeout?function(t){setTimeout(t,4)}:function(t){t()};require||(require=req);req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];baseElement&&(head=s.head=baseElement.parentNode)}req.onError=defaultOnError;req.createNode=function(t,e,n){var i=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");i.type=t.scriptType||"text/javascript";i.charset="utf-8";i.async=true;return i};req.load=function(t,e,n){var i=t&&t.config||{},r;if(isBrowser){r=req.createNode(i,e,n);r.setAttribute("data-requirecontext",t.contextName);r.setAttribute("data-requiremodule",e);if(!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera){r.addEventListener("load",t.onScriptLoad,false);r.addEventListener("error",t.onScriptError,false)}else{useInteractive=true;r.attachEvent("onreadystatechange",t.onScriptLoad)}r.src=n;i.onNodeCreated&&i.onNodeCreated(r,i,e,n);currentlyAddingScript=r;baseElement?head.insertBefore(r,baseElement):head.appendChild(r);currentlyAddingScript=null;return r}if(isWebWorker)try{setTimeout(function(){},0);importScripts(n);t.completeLoad(e)}catch(i){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+n,i,[e]))}};function getInteractiveScript(){if(interactiveScript&&"interactive"===interactiveScript.readyState)return interactiveScript;eachReverse(scripts(),function(t){if("interactive"===t.readyState)return interactiveScript=t});return interactiveScript}isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){head||(head=t.parentNode);dataMain=t.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl&&-1===mainScript.indexOf("!")){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain);cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}});define=function(t,e,n){var i,r;if("string"!==typeof t){n=e;e=t;t=null}if(!isArray(e)){n=e;e=null}if(!e&&isFunction(n)){e=[];if(n.length){n.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(t,n){e.push(n)});e=(1===n.length?["require"]:["require","exports","module"]).concat(e)}}if(useInteractive){i=currentlyAddingScript||getInteractiveScript();if(i){t||(t=i.getAttribute("data-requiremodule"));r=contexts[i.getAttribute("data-requirecontext")]}}if(r){r.defQueue.push([t,e,n]);r.defQueueMap[t]=true}else globalDefQueue.push([t,e,n])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)})(window,"undefined"===typeof setTimeout?void 0:setTimeout);window.require=require;window.requirejs=requirejs;window.define=define},function(t,e,n){"use strict";var i,r;!(i=[n(397),n(45),n(41),n(68),n(204),n(145),n(146),n(50)],r=function(t,e,n,i,r,o,s,a){var l;function c(t){var e=a.getValue(t,"layout.qHyperCube.qDimensionInfo",[]);var n=e.length-1;var i=e[n]||{};var r=i.qIsOneAndOnlyOne||false;n>0&&r&&a.getValue(i,"qCardinalities.qHypercubeCardinal")>1&&(r=false);return r}l=t.extend("DefaultView",{$scope:null,$element:null,containerRect:null,options:null,selections:null,backendApi:null,activeDimensions:[0],selectedShapes:[],init:function t(e,n,i,r){this._super(e,n,i,r);e.selectValues=this.selectValues.bind(this)},on:function t(){this.selections&&this.selections.on();this.tooltips&&this.tooltips.on();this.options&&false===this.options.selections?this.selectionsEnabled=false:this.selectionsEnabled=true;this._on=true},off:function t(){this.selections&&this.selections.off();this.tooltips&&this.tooltips.off();this.selectionsEnabled=false;this._on=false},isOn:function t(){return this._on},suppressOnPaint:function t(e){if(this.$scope.object._forcePaint){this.$scope.object._forcePaint=false;return false}return e.qSelectionInfo&&e.qSelectionInfo.qInSelections},paint:function t(){return e.resolve()},destroy:function t(){this.$scope.selectValues=null;this._super()},initialize:function t(){this.selections&&this.initSelections();if(this.options){isNaN(this.options.interactionState)||null===this.options.interactionState||this.setInteractionState(this.options.interactionState);this.options.direction&&this.setDirection(this.options.direction)}this.tooltips&&this.initTooltips()},setSelections:function t(e){this.selections=e},initSelections:function t(){if(this.selections){this.selections._disableSelections=this.options._disableSelections;this.selections.types.dataArea.setComponent("dataArea",{rect:new i(0,0,this.$element.width(),this.$element.height())});if(!this.options._disableSelections){this.selections.Select.bind(function(t,e){this.onSelect(t,e)}.bind(this));this.selections.ToggleShape.bind(function(t){var e=this.selectedShapes.indexOf(t);-1!==e?this.selectedShapes.splice(e,1):this.selectedShapes.push(t);this.onToggleShape(t)}.bind(this));this.selections.Deactivated.bind(function(){this.selectedShapes=[]}.bind(this));this.selections.Clear.bind(function(){this.selectedShapes=[]}.bind(this))}}},setTooltips:function t(e){this.tooltips=e},initTooltips:function t(){},refreshSelections:function t(){if(!this.selections)return;this.containerRect=this.$element[0].getBoundingClientRect();this.selections.cache.clear()},onToggleShape:function t(e){e.$element[this.isSelected(e.value)?"addClass":"removeClass"]("selected")},onSelect:function t(e,n){if(!e.length)return;var i=this.selectedShapes.map(function(t){return t.value});i.length>0&&this.activeDimensions.length>0?this.backendApi.select(i,this.activeDimensions,n):1!==e.length||e[0].selected||this.backendApi.clearSelections()},onRangeSelect:function t(){},addToSelectionCache:function t(e,n){if(!this.selections)return;var o=this.containerRect,s=e[0].getBoundingClientRect(),a=new r(new i(s.left-o.left,s.top-o.top,s.right-s.left,s.bottom-s.top),false,n);a.$element=e;this.selections.cache.add(a)},isSelected:function t(e){return this.selectedShapes.filter(function(t){return t.value===e}).length},setSnapshotData:function t(){},getSelectionToolbar:function t(){var e=this;var n=[];if(!c(this.$scope)){n.push({name:"Tooltip.ToggleOnLassoSelection",tid:"selection-toolbar.toggleLasso",isIcon:true,buttonClass:"sel-toolbar-icon-toggle",iconClass:"lui-icon lui-icon--lasso",action:function t(){e.toggleLasso=!e.toggleLasso},isActive:function t(){this.name=e.toggleLasso?"Tooltip.ToggleOffLassoSelection":"Tooltip.ToggleOnLassoSelection";return e.toggleLasso},isDisabled:function t(){if(e.isLassoDisabled&&e.isLassoDisabled())return true;return false}});n.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function t(){this.selectionsApi.clear()},isDisabled:function t(){return!this.selectionsApi.selectionsMade}})}return new o(this.$scope.backendApi,this.$scope.selectionsApi,false,false,n,[])},selectValues:function t(e,n,i){if(!this.selectionsEnabled)return;var r=this.$scope;if(!r.selectionsApi.active){var s=this;r.selectionsApi.confirm=function(){r.backendApi.endSelections(true);r.selectionsApi.deactivated()};r.selectionsApi.cancel=function(){r.backendApi.endSelections(false);r.selectionsApi.deactivated()};r.selectionsApi.deactivate=function(){this.deactivated()};r.selectionsApi.clear=function(){s.clearSelectedValues(s.$element);r.backendApi.clearSelections();r.selectionsApi.selectionsMade=false;s.selectedArrays={}};this.getSelectionToolbar=function(){var t=[];c(r)||t.push({name:"Tooltip.clearSelection",tid:"selection-toolbar.clear",isIcon:true,buttonClass:"clear",iconClass:"lui-icon lui-icon--clear-selections",action:function t(){this.selectionsApi.clear()},isDisabled:function t(){return!this.selectionsApi.selectionsMade}});return new o(this.$scope.backendApi,this.$scope.selectionsApi,false,false,t,[])};r.selectionsApi.activated();this.selectedArrays={}}this.$scope.selectionsApi.selectionsMade=true;this.selectedArrays[e]||(this.selectedArrays[e]=[]);if(i)for(var a=0;a<n.length;a++){var l=this.selectedArrays[e].indexOf(n[a]);-1===l?this.selectedArrays[e].push(n[a]):this.selectedArrays[e].splice(l,1)}else this.selectedArrays[e]=this.selectedArrays[e].concat(n);this.backendApi.selectValues(e,this.selectedArrays[e],false)},clearSelectedValues:function t(e){e.find(".selected").removeClass("selected")},setInteractionState:function t(e){this._interactionState=e;this._inEditState=e===s.EDIT;this._inAnalysisState=e===s.ANALYSIS;this._inAnalysisState&&!this._on?this.on():!this._inAnalysisState&&this._on&&this.off()},setDirection:function t(e){this.$scope.options.direction=e;this.options.direction=e;if(this.selections&&this.selections.options&&this.selections.options.range){this.selections.options.range.rtl="rtl"===e;this.selections.types.range.setDirection(e)}},inAnalysisState:function t(){return this._inAnalysisState},inEditState:function t(){return this._inEditState},getPreferredSize:function t(){}});Object.defineProperties(l.prototype,{toggleLasso:{set:function t(e){if(this.selections){this.selections.lassoEnabled=e;n.$apply(n.$rootScope,function(){this.options.lassoEnabled=e}.bind(this))}},get:function t(){return this.selections&&this.selections.lassoEnabled}}});return l}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(398),n(196),n(45)],r=function(t,e,n){var i=t.extend({init:function t(e,n,i,r){this.$scope=e;this.$element=n;this.options=i;this.backendApi=r},prePaint:function t(){},setFreeResize:function t(e){this.options.freeResize=e},setBackendApi:function t(e){this._dataView=void 0;this.backendApi=e},updateDerivedProperties:function t(){return n.resolve(false)},setInteractionState:function t(e){this.options.interactionState=e},setDirection:function t(e){this.options.direction=e},getContextMenu:function t(){},getViewState:function t(){return{}},getPreferredSize:function t(){},getDataViewObject:function t(){if(this._dataView)return this._dataView.getObject()},initDataView:function t(n){var i=this.backendApi.model;this._dataView||(this._dataView=new e(i.app,i,n))},toggleDataView:function t(){return this._dataView.toggle()},destroy:function t(){this._destroyed=true},cancel:function t(){},retry:function t(){}});return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53),n(45)],r=function(t,e){var n=t.extend({mounted:function t(){},paint:function t(){return e.resolve()},resize:function t(e,n){return this.paint(e,n)},updateData:function t(){return e.resolve()},beforeDestroy:function t(){}});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(187),n(45),n(138),n(189),n(50)],r=function(t,e,n,i,r){var o;function s(t,e,n,i){if(!t)return;e.snapshotData.object.origDataPages||(e.snapshotData.object.origDataPages=e.qHyperCube[i]);for(var r=0;r<n.length;r++){n[r].qHeight=Math.min(e.qHyperCube.qSize.qcy,n[r].qHeight);n[r].qTop=e.snapshotData.object.origDataPages[r].qArea.qTop}e.qHyperCube[i]=t.get(n)}function a(t){if("pivot-table"===t.visualization){this.responseProperty="qPivotDataPages";this.slicer=new i}else{if("table"!==t.visualization)return;this.slicer=new n}var e=t.snapshotData.object.origDataPages;e||(e=t.qHyperCube[this.responseProperty]);this.slicer.store(e.filter(function(t){return t}))}o=t.extend("SnapshotAPI",{init:function t(e){this.responseProperty="qDataPages";a.call(this,e.layout);this._super(e,e.layout.qListObject?"/qListObjectDef":"/qHyperCubeDef")},getData:function t(n){var i=e();if("map"===this.model.layout.visualization){var o=this.dataPath.split("/")[1],a=this.dataPath.split("/"),l=a[a.length-1];"polygon"===this.model.layout.layers[o].type&&"3"===this.model.layout.layers[o].version?i.resolve(this.model.layout.layers[o].geodata.qHyperCube[this.responseProperty]):i.resolve(this.model.layout.layers[o][l][this.responseProperty])}else{s(this.slicer,this.model.layout,n,this.responseProperty);var c=r.getValue(this.model.layout,(this.dataPath+"/"+this.responseProperty).replace(new RegExp("/","g"),"."));i.resolve(c)}return i.promise},getHyperCubeBinnedData:function t(){return e.resolve(this.model.layout.dataPages)},getHyperCubeContinousData:function t(){return e.resolve({qDataPages:this.model.layout.qHyperCube.qDataPages,qAxisData:this.model.layout.qHyperCube.qAxisData})},getSize:function t(){return r.getValue(this.model.layout,this.dataPath.replace(new RegExp("/","g"),".")).qSize},beginSelections:function t(){},endSelections:function t(){},clearSelections:function t(){},isSnapshot:true});return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(57),n(401)],r=function(t,e,n){function i(e,n,i,r,o,s,a){if(!e.waitFor)return t.resolve();return e.waitFor.then(function(){return e.field[n].apply(e.field,[i,r,o,s,a].filter(function(t){return"undefined"!==typeof t}))})}function r(n,i,r){var o=this;o.qapp=n;o.fldname=i;o.statename=r;o.rows=[];if(o.qapp.model.session){e.create(o,"OnData");var s=new t;o.waitFor=s.promise;o.qapp.model.waitForOpen.promise.then(function(){var t=n.model.enigmaModel||n.model;t.getField(i,r||"$").then(function(t){o.field=t;s.resolve()}).catch(function(){})})}}r.prototype.clear=function(){return i(this,"clear")};r.prototype.lock=function(){return i(this,"lock")};r.prototype.unlock=function(){return i(this,"unlock")};r.prototype.clearOther=function(t){return i(this,"clearAllButThis",t||false)};r.prototype.selectAll=function(t){return i(this,"selectAll",t||false)};r.prototype.selectExcluded=function(t){return i(this,"selectExcluded",t||false)};r.prototype.selectAlternative=function(t){return i(this,"selectAlternative",t||false)};r.prototype.selectPossible=function(t){return i(this,"selectPossible",t||false)};r.prototype.toggleSelect=function(t,e){return i(this,"toggleSelect",t,e||false)};r.prototype.selectMatch=function(t,e){return i(this,"select",t,e||false)};r.prototype.select=function(t,e,n){return i(this,"lowLevelSelect",t,e||false,n||false)};r.prototype.selectValues=function(t,e,n){var r=[];t.forEach(function(t){"number"===typeof t?r.push({qIsNumeric:true,qNumber:t}):"string"===typeof t?"undefined"===t?r.push({qText:""}):r.push({qText:t}):r.push(t)});return i(this,"selectValues",r,e||false,n||false)};r.prototype.getData=function(t){if(this.requestActive)return this;this.requestActive=true;var e=this;var i=function i(){e.qapp.createGenericObject({qListObjectDef:{qStateName:e.statename?e.statename:"$",qDef:{qFieldDefs:[e.fldname]},qFrequencyMode:t&&t.freq||"V",qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:t&&t.rows||200,qWidth:1}]}},function(t){e.rows.length=0;t.qListObject.qDataPages.forEach(function(t){t.qMatrix.forEach(function(t){e.rows.push(new n(t[0],e))})});e.rowCount=t.qListObject.qDimensionInfo.qCardinal;e.stateCounts=t.qListObject.qDimensionInfo.qStateCounts;e.requestActive=false;e.genericObject&&e.OnData.emit()}).then(function(t){e.genericObject=t;e.OnData.emit()})};this.genericObject?this.genericObject.close().then(function(){delete e.genericObject;i()}):i();return this};r.prototype.getMoreData=function(){if(this.requestActive)return this;if(this.rowCount<=this.rows.length)return this;this.requestActive=true;var t=this,e={qTop:this.rows.length,qLeft:0,qWidth:1,qHeight:50};t.genericObject?t.genericObject.getListObjectData("/qListObjectDef",[e]).then(function(e){e[0].qMatrix.forEach(function(e){t.rows.push(new n(e[0],t))});t.requestActive=false;t.OnData.emit()}):t.requestActive=false;return this};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e){Object.defineProperties(this,{qText:{value:t.qText},qElemNumber:{value:t.qElemNumber},qState:{value:t.qState},field:{value:e}});isNaN(t.qNum)||Object.defineProperties(this,{qNum:{value:t.qNum}});t.qFrequency&&Object.defineProperties(this,{qFrequency:{value:t.qFrequency}})}t.prototype.select=function(t,e){return this.field.select([this.qElemNumber],t||false,e||false)};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(142),n(112)],r=function(t,e){function n(t){this.app=t}n.prototype.create=function(n,i,r){var o=this;return o.app.waitForOpen.promise.then(function(){return e.get(o.app).then(function(e){return e.getLayout().then(function(){var s=e.layout.qSelectionObject?e.layout.qSelectionObject.qSelections:null;var a,l={currentSelectFields:[],currentSelectCount:0};if(s&&s.length>0){l.currentSelectCount=s.length;for(a=0;a<s.length;a++)l.currentSelectFields.push(s[a].qField)}var c="";for(a=0;a<l.currentSelectCount;a++){a>0&&(c+=", ");c+=l.currentSelectFields[a]}var u={qMetaDef:{title:n,description:i},selectionFields:c};r&&(u.sheetId=r);return t.create(u,o.app)})})})};n.prototype.apply=function(e){var n=this;return n.app.waitForOpen.promise.then(function(){return t.apply(e,n.app)})};n.prototype.remove=function(e){var n=this;return n.app.waitForOpen.promise.then(function(){return t.remove(e,n.app)})};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){return t.waitForOpen.promise.then(function(){return t.enigmaModel})}function e(t,e){this.app=t;this.qapp=e}function n(t){var e="string"===typeof t?{qName:t}:t;e.qInfo=e.qInfo||{};e.qInfo.qType=e.qInfo.qType||"variable";return e}e.prototype.create=function(e){var i=n(e);return t(this.app).then(function(t){return t.createVariableEx(i)})};e.prototype.createSessionVariable=function(e){var i=n(e);return t(this.app).then(function(t){return t.createSessionVariable(i)})};e.prototype.get=function(e){return t(this.app).then(function(t){return t.getVariableById(e)})};e.prototype.getByName=function(e){return t(this.app).then(function(t){return t.getVariableByName(e)})};e.prototype.setStringValue=function(e,n){return t(this.app).then(function(t){return t.getVariableByName(e)}).then(function(t){return t.setStringValue(n).then(function(){return t.getLayout()})})};e.prototype.setNumValue=function(e,n){return t(this.app).then(function(t){return t.getVariableByName(e)}).then(function(t){return t.setNumValue(n).then(function(){return t.getLayout()})})};e.prototype.setContent=function(t,e){console.warn("qlik.app.variable.setContent() is deprecated since 2.1, use setNumValue method or setStringValue method instead.");return this.setStringValue(t,e+"")};e.prototype.getContent=function(t,e){var n=this.qapp;var i=e?function(t){e(t,n)}:function(){};return this.getByName(t).then(function(t){if(!t)return t;return t.getLayout().then(function(t){var e={qContent:{qString:t.qText,qIsNum:!isNaN(t.qNum)}};i(e,n);return e})})};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(92),n(405),n(80)],r=function(t,e,n){function i(t){this.qapp=t}i.prototype.get=function(i){var r=this;return t.load().then(function(){return r.qapp.getObject(i).then(function(t){return n.getExtensionSupport(t).then(function(n){return new e(r.qapp,t,n)})})})};i.prototype.create=function(i,r,s){var a=this;return t.load().then(function(){var t=r&&r.layout&&(r.layout.visualization||r.layout.qInfo&&r.layout.qInfo.qType);var l="object"===o(r)&&t?n.convertDefinition(r,i,t,s):n.createDefinition(a.qapp,i,r,s);return l.then(function(t){return a.qapp.createGenericObject(t).then(function(t){return n.getExtensionSupport(t).then(function(n){t._expendable=true;return new e(a.qapp,t,n)})})})})};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(199),n(80),n(45),n(196),n(406),n(48)],r=function(t,e,n,i,r,s){function a(e,i,r){if(i instanceof a)return i;Object.defineProperties(this,{id:{value:i.id},qapp:{value:e},model:{value:i},rendered:{value:new n},support:{value:r,writable:true},_isToggled:{value:false,writable:true}});i.layout.qHyperCube&&Object.defineProperties(this,{table:{value:new t(this.qapp,i),configurable:true}})}a.prototype.setOptions=function(t){var n=[];e.addPatches("/",t,n);return this.model.applyPatches(n,true)};a.prototype.show=function(t,n){n=n||{};var i=this;var r=n.onRendered;n.onRendered=function(t){r&&r(t);i.rendered.resolve(t)};return e.showVisualization(t,this.model.enigmaModel,n).then(function(e){i._scopes=i._scopes||[];i._scopes.push(e);i._elements=i._elements||[];i._elements.push(t);return e})};a.prototype.close=function(){if(this._scopes){this._scopes.forEach(function(t){t.$destroy()});delete this._scopes}if(this._elements){this._elements.forEach(function(t){e.clearElement(t)});delete this._elements}if(this.table){this.table.destroy();delete this.table}this.model&&this.model._expendable&&this.model.close();return e.Promise.resolve()};a.prototype.resize=function(){e.resize(this.id)};a.prototype.toggleDataView=function(){var t=this;return t.rendered.promise.then(function(){return e.getExtensionSupport(t.model).then(function(n){if(n.viewData){t.dataView||(t.dataView=t._elements.map(function(e){return new i(t.qapp.model,t.model,e,t._scopes[0].options)}));return e.Promise.all(t.dataView.map(function(t){return t.toggle()})).then(function(e){return t._isToggled=e.every(function(t){return t})}).catch(function(){return e.Promise.reject("toggleDataView was not successful")})}return e.Promise.reject("toggleDataView is not supported for this visualization type")})})};function l(t){var e,n,i,r,o;if(t&&t.session&&t.session.options){e=t.session.options;n=e.isSecure?"https://":"http://";i=e.host||"localhost";r=e.port?":"+e.port:"";o=e.prefix?e.prefix:"/";"/"!==o[o.length-1]&&(o+="/");return{baseUrl:n+i+r,prefix:o}}return{baseUrl:"",prefix:""}}function c(t,e){return-1!==t.indexOf("/printing/export/")?t:e.baseUrl+e.prefix+t.replace("../","")}a.prototype.exportImg=function(t){if(!t||!t.height||!t.width)throw new Error("Image dimensions missing in settings argument.");var e=this;var n="image";var i=l(e.qapp.model);var o="png";t&&t.format&&("jpeg"===t.format.toLowerCase()||"jpg"===t.format.toLowerCase())&&(o="jpeg");var s={imageType:o,captureSize:{dpi:96,height:t.height,width:t.width}};return r.printObject(e.qapp.model,{model:e.model},i.baseUrl,void 0,s.captureSize,s,n).then(function(t){return c(t.qUrl,i)})};function u(t,e){var n=void 0!==e&&e;var i={a3:{height:420,width:297},a4:{height:297,width:210},a5:{height:210,width:148},a6:{height:148,width:105},a7:{height:105,width:74},letter:{height:279.4,width:215.9}};if("object"===o(t)&&t.width&&t.height)return t;if(!i.hasOwnProperty(t.toLowerCase()))return{};return n?{height:i[t.toLowerCase()].width,width:i[t.toLowerCase()].height}:i[t.toLowerCase()]}a.prototype.exportPdf=function(t){var e=this;var n="pdf";var i=l(e.qapp.model);var o=!(!t||!t.orientation||"landscape"!==t.orientation.toLowerCase());var s=t&&t.documentSize?t.documentSize:"a4";var a=u(s,o);var d=t&&-1!==[0,2].indexOf(t.aspectRatio)?t.aspectRatio:2;var p=0!==d?{height:1,width:1}:t.objectSize;var f={dpi:200,fitCriteria:d,height:a.height,width:a.width,sourceSize:{dpi:96,width:p.width,height:p.height}};return r.printObject(e.qapp.model,{model:e.model},i.baseUrl,void 0,void 0,f,n).then(function(t){return c(t.qUrl,i)})};a.prototype.exportData=function(t){var e=this;var n=l(e.qapp.model);var i=t?s.copy(t):{};i.download=false;i.filename&&delete i.filename;return this.table.exportData(i).then(function(t){return n.baseUrl+t})};return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(41),n(96),n(407),n(408),n(72),n(47),n(95),n(127),n(75)],r=function(t,e,n,i,r,o,s,a,l,c){var u=function e(i,r,o){return t.resolve(i||n.get(r)).then(function(t){var e=t.layout&&t.layout.qTitle||"";var n=t.id||"";var i=null;var r=t.getConfiguration().then(function(r){if(l.SHARING)return{appName:e,appId:n,qUrl:"/non-existing-printing-endpoint/",localeInfo:t.layout.qLocaleInfo};for(var s=0;s<r.qServices.length;s++)if("senseprinting"===r.qServices[s].qName.toLowerCase()){i={appName:e,appId:n,qUrl:o?o+unescape(r.qServices[s].qUrl):unescape(r.qServices[s].qUrl),localeInfo:t.layout.qLocaleInfo};break}return i});return r})};var d=function e(n,i,s,l,c,d){var p=n.model.layout.qInfo.qType;var f="story"===p||"sheet"===p?p:"object";var h="object"===f?n:n.model;var v=r.snapshot(n.model.id,f,{size:s,source:h,sourceSize:i,sheetLayout:"grid"});var g=u(c,n.model.app.id,d);var m=a.getProperties().then(function(t){return{sheetLogoPosition:t.sheetLogoPosition,sheetLogoThumbnail:t.sheetLogoThumbnail,sheetTitleBgColor:t.sheetTitleBgColor,sheetTitleColor:t.sheetTitleColor,sheetTitleGradientColor:t.sheetTitleGradientColor,rtl:t.rtl}});return t.all([v,g,m]).then(function(e){var n=e[0];var i=e[1];var r=e[2];if(!i)return t.reject();var s=o.getCurrentTheme();var a=i.qUrl;var c=l;c.objTree=n;c.appName=i.appName;c.appId=i.appId;c.appStylingInfo=r;c.localeInfo=i.localeInfo;c.themeName=s;return{qUrl:a,payload:c,snapshotType:f}})};var p={poolPromise:null,printTree:function t(e,n,i,r,o){return d(e,n,i,r).then(function(t){return p.enqueueRequest(t.qUrl,t.payload,t.snapshotType,o,r.timeoutMsec,r.checkInterval)})},getPrintDataForQSC:function e(n,r){var o=t();d(n,null,null,r).then(function(t){var e={imageType:"Jpeg",captureSize:{},images:[{name:"280x375",width:280,height:375,dpi:96,requestId:"?requestId="+i.generateId()},{name:"400x400",width:400,height:400,dpi:96,requestId:"?requestId="+i.generateId()},{name:"fallback",width:1024,height:768,dpi:96,requestId:"?requestId="+i.generateId()}],payload:t.payload,url:t.qUrl+"export/object/image",pollingUrl:t.qUrl+"export/request/status",host:location.host,prefix:s.basePath};o.resolve(e)},function(){o.reject({status:-1})});return o.promise},enqueueRequest:function n(r,o,s,a,l,c){var u=t();this.cancel(a);var d=this.getStates();l=l||36e5;c=c||3e3;var f=l/c;var h=0;var v=i.generateId();var g=r+"export/"+("story"===s?"story":"object")+"/"+a;g=g+"?requestId="+v;var m=e.getService("$http");var b=e.getService("$interval");var y=null;m({url:g,method:"POST",data:o}).then(function(t){var e=t.data;var n=e&&e.requestId;var i=r+"export/request/status?requestId="+n;var o=function t(){m({url:i,method:"GET"}).then(function(t){var e=t.data;h++;if(h>f){b.cancel(y);u.reject({status:d.TIMEOUT});return}if(e&&e.status){var n=e.status;if("Failed"===n||"Canceled"===n){b.cancel(y);u.reject({status:"Canceled"===n?d.CANCELED:d.FAILED})}else if("Completed"===n){b.cancel(y);u.resolve({status:d.COMPLETED,qUrl:e.qUrl})}}else{b.cancel(y);u.reject({status:d.FAILED})}}).catch(function(t,e){b.cancel(y);u.reject({status:d.FAILED,data:t,httpStatusCode:e})})};y=b(o,c);switch(a){case"image":p.poolPromiseImage=y;break;case"pdf":p.poolPromisePdf=y;break;default:p.poolPromise=y}}).catch(function(t,e){u.reject({status:d.FAILED,data:t,httpStatusCode:e})});e.$rootScope.$on("$routeChangeStart",function(){this.cancel()});return u.promise},cancel:function t(n){var i=[];switch(n){case"image":i.push(this.poolPromiseImage);break;case"pdf":i.push(this.poolPromisePdf);break;default:i.push(this.poolPromise,this.poolPromiseImage,this.poolPromisePdf);break}if(i.length>0){var r=e.getService("$interval");i.forEach(function(t){if(t){r.cancel(t);t=null}})}},getStates:function t(){return{CANCELED:-3,TIMEOUT:-2,FAILED:-1,IDLE:0,PENDING:1,COMPLETED:2}},printObject:function t(e,n,i,r,o,s,a){return c.setup(e.enigmaModel.session).then(function(t){return d(n,r,o,s,e,t.isPersonalMode?null:i).then(function(t){return p.enqueueRequest(t.qUrl,t.payload,t.snapshotType,a,void 0,void 0)})})}};return p}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i;!(i=function(){var t={};Object.defineProperty(t,"empty",{value:"00000000-0000-0000-0000-000000000000",writable:false});t.generateId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})};return t}.call(e,n,e,t),void 0!==i&&(t.exports=i))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(200),n(410),n(412),n(413)],r=function(t,e,n,i,r){var o={OBJECT:"object",SHEET:"sheet",SLIDE:"slide",STORY:"story"};function s(t,n){var i={left:0,top:0,width:1,height:1};return e.snapshot(t,n.size||{width:600,height:400},n.source,n.sourceSize||{},i)}function a(t,e){return n.snapshot(t,e.size||{width:600,height:400},e.source,e.sheetLayout)}function l(t,e){return i.snapshot(t,e.size||{width:600,height:400},e.source,e.sourceSize)}function c(t,e){return r.snapshot(t,e.size||{width:600,height:400},e.source,e.sourceSize)}return{snapshot:function t(e,n,i){switch(n){case o.SHEET:return a(e,i||{});case o.STORY:return c(e,i||{});case o.SLIDE:return l(e,i||{});case o.OBJECT:return s(e,i||{})}},cancel:function e(){var n=Array.prototype.slice.call(document.querySelectorAll(".qv-snapshotter")),i;while(i=n.pop()){i=t(i).children("div");i.slice().each(function(e,n){n=t(n);n.scope&&n.scope()&&n.scope().$destroy();n.remove()})}},type:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6); visibility:hidden;" ng-style="style">\n <qv-object ng-if="data" object="data.object" model="data.model" options="data.options"></qv-object>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(45),n(202),n(200),n(411)],r=function(t,e,n,i,r){var o={template:r,scope:{sheetId:"@",sheet:"@",size:"@",onDone:"@",sheetLayout:"@"},controller:["$scope","$timeout","$element",function(t,r,o){var s={area:{left:0,top:0,width:1,height:1}};var a=1e5,l=e(),u,d={},p={width:t.size.width,height:t.size.height},f=t.sheetLayout===c.FULL,h=function e(n){if(false===n)t.onDone(false);else{s.size=p;s.children=n?n.filter(function(t){return t}):[];t.onDone(s)}};t.cells=[];t.style={width:p.width+"px",height:p.height+"px"};t.$on("$destroy",function(){l.reject();r.cancel(u)});o.on("$destroy",function(){t.$destroy()});n.get(t.sheetId).then(function(n){n.getLayout().then(function(o){var c=o.columns,v=o.rows,g=[];s.id=o.qInfo.qId;s.type=o.qInfo.qType;s.title=o.labelExpression||o.qMeta.title||"";o.cells.forEach(function(e){var r,o,s,a={left:e.col/c,top:e.row/v,width:e.colspan/c,height:e.rowspan/v};if(d[e.name]&&!d[e.name].ext)return;if(d[e.name]&&d[e.name].ext.libraryInfo.isThirdParty)s=i.snapshot(e.name,{width:p.width*(f?1:a.width),height:p.height*(f?1:a.height)},d[e.name],{},a,n.enigmaModel.app).then(function(t){return t});else{r=i.loadObject(e.name,d[e.name],a,n.enigmaModel.app);o={style:f?{left:0,top:0,width:"100%",height:"100%"}:{left:100*e.col/c+"%",top:100*e.row/v+"%",width:100*e.colspan/c+"%",height:100*e.rowspan/v+"%"},data:r.data};o.data.area=a;s=r.snap.then(function(t){return t});t.cells.push(o)}g.push(s)});if(g.length){e.all(g).then(function(t){l.resolve();r.cancel(u);h(t);return l.promise});u=r(function(){l.reject();h(false)},a)}else h()})},function(){h()})}]};var s=[];function a(e){var n=s.indexOf(e);n>=0&&s.splice(n,1);var i=t(e).children("div");i.scope&&i.scope()&&i.scope().$destroy();t(e).remove()}function l(){var t;while(t=s.pop())a(t)}var c={FULL:"full",GRID:"grid"};return{snapshot:function n(i,r,l,c){var u=e(),d=document.createElement("div");d.className="qv-snapshotter";s.push(d);document.body.appendChild(d);t(d).showComponent(o,{sheetId:i,sheet:l,size:r||{},sheetLayout:c,onDone:function t(e){false===e?u.reject({timedOut:true}):u.resolve(e);a(d)}});return u.promise},cancel:function t(){l()}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div style="position: absolute;top:-99999px;left:-99999px;z-index:500;background: rgba(255, 255, 255, 0.6);visibility:hidden;" ng-style="style">\n  <div ng-repeat="cell in cells" style="position:absolute;" ng-style="cell.style">\n     <qv-object object="cell.data.object" model="cell.data.model" options="cell.data.options"></qv-object>\n  </div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(142),n(112)],r=function(t,e,n){function i(e){return t.getApp().then(function(t){return t.getObject(e)}).then(function(t){return t.getLayout()})}return{snapshot:function t(r,o,s,a){return n.get().then(function(t){return t.getLayout().then(function(t){return e.create({title:"",selectionFields:t.qSelectionObject.qSelections}).then(function(t){return i(r,o||{},s,a).then(function(n){e.apply(t.id).then(function(){e.remove(t.id)});return{id:r,type:"story",snapshot:null,area:null,children:n.slides,title:n.layout.qMeta.title||""}})})})})}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(57)],r=function(t){function e(t,e){Object.defineProperties(this,{fieldName:{value:t.qField},field:{get:function t(){return i(this.parent,this.fieldName)}},qSortIndex:{value:t.qSortIndex},locked:{value:t.qLocked||false},isNumeric:{value:t.qIsNum||false},totalCount:{value:t.qTotal},selectedCount:{value:t.qSelectedCount},qStateCounts:{value:t.qStateCounts},qSelected:{value:t.qSelected},selectedValues:{value:t.qSelectedFieldSelectionInfo},notSelectedValues:{value:t.qNotSelectedFieldSelectionInfo},qSelectionThreshold:{value:t.qSelectionThreshold},qTextSearch:{value:t.qTextSearch},qRangeInfo:{value:t.qRangeInfo},parent:{value:e}})}function n(e,n,i){t.create(this,"OnData");Object.defineProperties(this,{qapp:{value:e},selections:{value:[]},stateName:{value:i||"$"}});var o=this;n.then(function(t){r(o,t);t.Validated.bind(function(){r(o,t)})})}n.prototype.clearAll=function(t){return this.qapp.clearAll(t,this.stateName)};n.prototype.lockAll=function(){return this.qapp.lockAll(this.stateName)};n.prototype.unlockAll=function(){return this.qapp.unlockAll(this.stateName)};function i(t,e){return t.qapp.field(e,t.stateName)}function r(t,n){t.selections.length=0;if(n.layout.qSelectionObject){void 0===t.backCount&&Object.defineProperties(t,{backCount:{get:function t(){return n.layout.qSelectionObject.qBackCount||0}},forwardCount:{get:function t(){return n.layout.qSelectionObject.qForwardCount||0}}});n.layout.qSelectionObject.qSelections.forEach(function(n){t.selections.push(new e(n,t))});t.OnData.emit()}}return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(72),n(203),n(95)],r=function(t,e,n){var i=new e;function r(t){this.app=t}r.prototype.save=function(e){var n=this.app;t.isValidTheme(e).then(function(i){if(!i)throw new Error("Invalid theme id");n.waitForOpen.promise.then(function(){n.getLayout().then(function(n){if(!n.permissions.update)throw new Error("permission denied");t.saveTheme(e)})})})};r.prototype.get=function(t){if(!t)return this.app.waitForOpen.promise.then(function(){return n.getProperties().then(function(t){return i.get(t.theme)})});return i.get(t)};r.prototype.getApplied=function(){return i.get(t.getCurrentTheme())};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(72),n(183)],r=function(t,e){function n(t,e){this.id=t;Object.defineProperties(this,{id:{value:t},properties:{value:e}})}n.prototype.getStyle=function(t,n,i){var r=new e(t,this.id,this.properties);return r.getStyle(n,i,false)};n.prototype.apply=function(){return t.applyTheme(this.id).then(function(t){return t})};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(60),n(68),n(98),n(206),n(207),n(208),n(421),n(422)],r=function(t,e,n,i,r,o,s,a,l){var c,u,d,p=7,f=250;function h(t,e){return t.components&&t.components.dataArea&&t.components.dataArea.length&&t.components.dataArea[0].chartFormatter&&(null===t.components.dataArea[0].chartFormatter.measureFormatters||null===t.components.dataArea[0].chartFormatter.measureFormatters[e])}function v(t){var e=t.getBoundingRect();return isNaN(e.x+e.y+e.width+e.height)}function g(t){return t.getDimensions().join(", ")}function m(t){return t.id+(t.parent?"-"+t.parent.id:"")}function b(){if(u){u=null;d=null}c=null}function y(t,e,n,r){if(n){var o=new i(0,0,n.rect.width,n.rect.height);t=t.intersection(o)}return{positions:[e(t.x+t.width/2,t.y,n,r),e(t.x+t.width,t.y+t.height/2,n,r),e(t.x,t.y+t.height/2,n,r),e(t.x+t.width/2,t.y+t.height,n,r)],directions:["top","right","left","bottom"]}}function x(t,e){var n,i,r,o,s=[],a,l,c;var u={positions:null,directions:null,target:null,component:null};if(this._positionAtMouse||1!==this._cssTransform.scale){n=e||t[0].interactPosition;if(n){i=this.getTransformedPoint(n.x,n.y,this.containerRect);o=t[0].getShapes();s=o.filter(function(t){return t.pointInside(i.x,i.y)});u.target=s.length?s[0]:o[0];u.directions=["top","right","left","bottom"];u.positions=[n]}}else{t.forEach(function(t){var n=null;var l=null;o=t.getShapes();if(t.calculateTooltipPosition&&t.tooltipShape){l=this.components[t.tooltipShapeComponent]?this.components[t.tooltipShapeComponent][0]:void 0;r=t.getShapeBounds(t.tooltipShapeComponent,l&&l.chartScale||1);if(r){u.target=s.length?s[0]:o[0];u.component=l}}else{if(t.tooltipShape&&!v(t.tooltipShape)){s=[t.tooltipShape];u.component=this.components[t.tooltipShapeComponent]?this.components[t.tooltipShapeComponent][0]:void 0}else if(e){i=this.getTransformedPoint(e.x,e.y,this.containerRect);s=o.filter(function(t){return t.pointInside(i.x,i.y)})}u.target=s.length?s[0]:o[0];if(u.target)if(u.target.getRelevantPosition)n=u.target.getRelevantPosition();else{r=u.target.getBoundingRect();if(!u.target.clearModelView&&u.component){c=u.component.chartScale||1;r=r.clone();r.set(r.x*c,r.y*c,r.width*c,r.height*c)}}}if(n){u.positions=[this.getPagePoint(n.pos.x,n.pos.y,u.component,this.containerRect)];u.directions=n.direction}else a=a?r.combineWith(a):r},this);if(a){l=y(a,this.getPagePoint.bind(this),u.component,this.containerRect);u.positions=l.positions;u.directions=l.directions}}return u}function w(t,e){var n=[],i,r=0,o,s,a,l,c,u,d=this.measureFormatters||[];if(t.isCacheItem){c=t.getMeasures();u=t.getMeasuresIndecies(e);o=u.length;for(r;r<o;++r){var p=u[r];a=s=t.getValue(p);l=t.getPreformattedLabel(p);d[u[r]]?s="U"!==d[p].type&&l?l:d[p].format(s):s&&l&&h(this,p)?s=l:"NaN"===s&&(s="-");c[p]&&void 0!==s&&n.push({label:c[p],value:s+"",num:a})}}else{o=t.node.children.length;for(r;r<o;++r){a=s=t.node.children[r].children[0].data.qNum||t.node.children[r].children[0].data.qValue;l=t.node.children[r].children[0].data.qText;d[r]&&(s="U"!==d[r].type&&l?l:d[r].format(s));n.push({label:t.node.children[r].data.qText,value:s+"",num:a})}}if(this.colorMap){i=this.colorMap.getTooltipContent(t,e.rowIndex);i&&n.splice(0,0,i)}var f=[];n.forEach(function(t){f.some(function(e){return e.label===t.label&&(e.value===t.value||e.num===t.num)})||f.push(t)});return f}function q(t,e){var n=[],i=0,r=0;while(i<p&&r<t.length){n.push({header:g(t[r]),rows:w.call(this,t[r],e)});i+=n[r].rows.length+1;r++}t.length>r&&(n.numberInExcess=t.length-r);n.msrCount=n[0]?n.length*n[0].rows.length:0;return n}function _(t,n,i,r){var o=x.call(this,t,n);if(o.positions&&o.directions){var s=this.getPagePoint(0,0,o.component,this.containerRect);var a=q.call(this,t,o.target);var c=r?null:l.getDuration(a.msrCount);e.getService("qvChartTooltipService").open({target:{shape:o.target,targetToPageTranslation:s},position:o.positions,content:a,direction:o.directions,numberInExcess:a.numberInExcess,hideCallback:b.bind(this),dir:this.yMirrorMode?"rtl":"ltr"},c,i);u=t[0];d=t.map(m).join("")}}function C(t){var e=this.getTransformedPoint(t.x,t.y,this.containerRect);return this.shapesFrom.shapesFromPoints([e])}function S(t){var e=C.call(this,t);return e.map(m).join("")}function D(t){var n=this;this.setActiveComponent(this.getComponent(t.x,t.y,this.containerRect));var i=C.call(n,t);if(i&&i.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;c=e.getService("$timeout")(function(){_.call(n,i,t,null,n._noDuration);c=null},f)}}function E(t,e){var n=this;if(t&&t.length&&this.activeComponent){n._positionAtMouse="MapArea"===n.activeComponent.className||1!==n._cssTransform.scale;_.call(n,t,null,e)}}function k(){e.getService("$timeout").cancel(c);c=null;this.prevPoint=null}function T(){if(u){u=null;d=null;e.getService("qvChartTooltipService").close()}c=null}function A(t,e){var n=e?e.length:0,i,r;for(i=0;i<n;i++){r=e[i];if(r&&r.pointInside&&r.pointInside(t.x,t.y))return true}return false}function I(t){var e=t?t.length:0,n=[],i,r,o;for(i=0;i<e;i++){r=t[i]._shapes;if(!o){o=t[i]._interactPosition;o&&(o=this.getTransformedPoint(o.x,o.y,this.containerRect))}o&&A(o,r)&&(n[n.length]=t[i])}n.length||(n=t);return n}var O=o.extend("ChartTooltip",{init:function t(e,n,r){this._super(r,n);this.cache=r;u=null;c=null;this.container=e;this.containerRect=new i(0,0,0,0);this._positionAtMouse=true;this._enabled=true;this._allowNullSelect=true;this.touchTimeout=isNaN(n.touchTimeout)?10:n.touchTimeout},refreshContainerRect:function t(){var e=this.offset=this.container.offset(),n=this.container.width(),i=this.container.height();this.containerRect.set(e.left,e.top,n,i)},on:function t(){if(this._isListening)return;this._isListening=true;var e=this;this._interactionEvents=s.extend({preventDefault:false,mousemove:function t(n){var i=new r(n.pageX,n.pageY);e.refreshContainerRect();e.move(n,i)},mouseleave:function t(n){e.leave(n)},mousewheel:function t(){e.cancel()},swipe:{start:function t(){e.cancel()},cancel:function t(){e.cancel()}},swipetwo:{start:function t(){e.cancel()},cancel:function t(){e.cancel()}},rotate:{start:function t(){e.cancel()},cancel:function t(){e.cancel()}},active:function t(){return e._enabled&&(u||n.treatAsDesktop())}});this._tapEvents=s.extend({preventDefault:false,tap:{end:function t(n,i){var r=i.pagePoints[0];e.refreshContainerRect();e.setActiveComponent(e.getComponent(r.x,r.y,e.containerRect));var o=C.call(e,r);o.forEach(function(t){t.interactPosition=r});e.updateHighlightedShape(o)}},active:function t(){return e._enabled}});n.treatAsDesktop()&&a.MouseLeave.bind(e._interactionEvents.mouseleave);function i(t){if(n.treatAsDesktop())a.addInteraction(e._interactionEvents,t.container,0,["mousemove","mouseleave","swipe","mousewheel"]);else{a.addInteraction(e._interactionEvents,t.container,0,["swipe","swipetwo","rotate"]);a.addInteraction(e._tapEvents,t.container,0,["tap"])}}this.registerAddedComponent=function(t){i(t)};this.deregisterAddedComponent=function(t){a.removeInteraction(e._interactionEvents,t.container);a.removeInteraction(e._tapEvents,t.container)};Object.keys(this.components).map(function(t){return e.components[t]}).forEach(function(t){t.forEach(function(t){e.registerAddedComponent(t)})})},register:function t(e,n){this.registerAddedComponent&&this.registerAddedComponent(n)},deregister:function t(e,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(n)},off:function t(){this._isListening=false;a.MouseLeave.unbind(this._onMouseLeave);a.removeInteraction(this._interactionEvents);a.removeInteraction(this._tapEvents);this.registerAddedComponent=null;this.deregisterAddedComponent=null},initComponent:function t(e){this.setActiveComponent(this.getComponent(e.x,e.y,this.containerRect))},updateHighlightedShape:function t(e,i){if(e.length>=1){var r,o=true,s=false;r=I.call(this,e);if(!r||!r.length)return;if(!n.treatAsDesktop()){r=r.filter(function(t){return!t.selected});if(r.length)if(u||c){if(r.length>1||r[0]!==u){o=false;s=true}}else{o=false;s=true}if(o){k.call(this);T.call(this)}s&&E.call(this,r,this.touchTimeout)}}else if(!n.treatAsDesktop()&&i){k.call(this);T.call(this)}},getRect:function t(e){if(!e)return new i(0,0,0,0);return e.hasOwnProperty("innerRect")?e.innerRect:e.rect},move:function t(e,i){if(!n.treatAsDesktop()||!this._enabled)return;if(null!==c){if(!this.prevPoint||i.distanceTo(this.prevPoint)>5){k.call(this);D.call(this,i)}}else{this.prevPoint=i;if(u){if(S.call(this,i)!==d){T.call(this);D.call(this,i)}}else D.call(this,i)}},setCssTransform:function t(e){this._cssTransform=e||{scale:1}},leave:function e(n){var i=n.toElement||n.relatedTarget;if(!t(i).hasClass("qvt-chart-tooltip")&&!t(i).parents(".qvt-chart-tooltip").length){k.call(this);T.call(this)}},cancel:function t(){k.call(this);T.call(this)},clearSelection:function t(){k.call(this);T.call(this)},release:function t(){this._super();this.off()}});Object.defineProperties(O.prototype,{enabled:{set:function t(e){this._enabled=e},get:function t(){return this._enabled}}});return O}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(53),n(419),n(420)],r=function(t,e,n,i){function r(t){return t?t.selectionIdentifier:null}function o(t,e){if(e){var n=false;e.contains(0)&&(n=t.parent?-2===t.parent.id:-2===t.id);t.parent&&e.contains(1)&&(n=n||-2===t.id);return n}return-2===t.id||t.parent&&-2===t.parent.id}function s(t,e){return t&&t.length?e.filter(function(e){return t.some(function(t){return e.col===t.col&&e.id===t.id})}):[]}var a=e.extend({init:function e(n,i){this.options=t.extend(true,{},{allowNullSelect:false,activeComponent:null},i);this.cache=n;this.allowNullSelect=this.options.allowNullSelect;this.activeComponent=this.options.activeComponent},shapeFromPoint:function t(e){return this.shapesFromPoints([e])[0]},shapesFromPoints:function t(e){var n,i,s,a=this.cache.data,l=this.cache.data.length,c=e.length,u,d,p,f=(this.activeComponent||this.components&&this.components.dataArea)&&(this.activeComponent||this.components.dataArea[0]).chartScale||1,h,v=r(this.activeComponent),g,m,b,y=[];for(g=0;g<l;++g){h=a[g];if(!o(h)||this.allowNullSelect)for(m=0;m<c;++m){n=e[m];i={x:n.x/f,y:n.y/f};d=h.getShapes(r(this.activeComponent));"dataArea"===v&&h.toggleShapes&&(d=d.concat(h.toggleShapes));u=d.length;for(b=0;b<u;++b){p=d[b];s=p.clearModelView?n:i;if(p.pointInside(s.x,s.y)){y.push(h);break}}}}return y},shapesFromLines:function t(e){var n,i=this.cache.data,s=this.cache.data.length,a=e.length,l,c,u,d,p,f,h,v=[];for(p=0;p<s;++p){d=i[p];if(!o(d)||this.allowNullSelect)for(f=0;f<a;++f){n=e[f];c=d.getShapes(r(this.activeComponent));l=c.length;for(h=0;h<l;++h){u=c[h];if(u.intersectsLine(n)){v.push(d);break}}}}return v},shapesFromPolygon:function t(e){var n,i,s=this.cache.data,a=this.cache.data.length,l,c,u,d,p,f,h,v,g=[];for(p=0;p<a;++p){d=s[p];if(!o(d)||this.allowNullSelect){v=false;u=d.getShapes(r(this.activeComponent));c=u.length;for(h=0;h<c;++h){if(v)break;n=u[h].getPoints();l=n.length;for(f=0;f<l;++f){i=n[f];if(e.pointInside(i.x,i.y)){g.push(d);v=true;break}}}}}return g},shapesFromRect:function t(e,n){if(!e)return[];var i=this.cache.data,s=this.cache.data.length,a,l,c,u,d,p,f=[];for(d=0;d<s;++d){u=i[d];if(!o(u)||this.allowNullSelect){l=u.getShapes(n||r(this.activeComponent));a=l.length;for(p=0;p<a;p++){c=l[p];if(c.intersectsRect){if(c.intersectsRect(e)){f.push(u);break}}else if(e.intersectsWith(c)){f.push(u);break}}}}return f},shapesFromRectForDirection:function t(e,n,i){var s=this.cache.data,a=this.cache.data.length,l,c,u,d,p,f,h,v=[],g=0,m=0,b="";switch(n){case"x":g=e.x;m=e.getRight();b="getRight";break;case"y":g=e.y;m=e.getBottom();b="getBottom";break}for(f=0;f<a;++f){l=s[f];if(!o(l)||this.allowNullSelect){u=l.getShapes(i||r(this.activeComponent));c=u.length;for(h=0;h<c;++h){d=u[h];if("cx"in d){if(d["c"+n]>=g&&d["c"+n]<=m){v.push(l);break}}else{p=d.getBoundingRect();if(p[n]>=g&&p[n]<=m){v.push(l);break}if(p[b]()>=g&&p[b]()<=m){v.push(l);break}if(g>=p[n]&&m<=p[b]()){v.push(l);break}}}}}return v},shapesFromRange:function t(e,n,i,r){var s=Math.min(e,n),a=Math.max(e,n),l=this.cache.data,c=this.cache.data.length,u=this.activeComponent&&"function"===typeof this.activeComponent.getType?this.activeComponent.getType().indices:null,d,p,f,h,v,g=[],m;i=false!==i;r=false!==r;m=i&&r?function t(e){return e>=s&&e<=a}:i?function t(e){return e>=s&&e<a}:r?function t(e){return e>s&&e<=a}:function t(e){return e>s&&e<a};for(h=0;h<c;++h){d=l[h];if(!o(d)||this.allowNullSelect){p=d.values instanceof Array?d.values:d.value instanceof Array?d.value:[d.value];u&&u.length&&(p=p.filter(function(t,e){return u.indexOf(e)>=0}));for(v=0;v<p.length;v++){f=p[v];if(m(f)){g.push(d);break}}}}return g},shapesFromDimensionValue:function t(e){var n=this.cache.data,i=this.cache.data.length,r,s,a,l=[];for(s=0;s<i;++s){r=n[s];if(!o(r)||this.allowNullSelect)for(a=0;a<e.length;a++)if(r.id===e[a]){l.push(r);break}}return l},groupedItemsFromShapes:function t(e){var r,o,a,l,c=[];r=void 0!==this.activeComponent.getSelectionIndices?this.activeComponent.getSelectionIndices():[0];o=r[r.length-1];if(e&&e[0]&&e[0].col===o)return s(e,this.cache.data);e.forEach(function(t){l=t.parent;if(void 0!==l){a=i.getLevel.call(l)-(t.isCacheItem?0:1);a===o&&-1===c.indexOf(l)&&e&&c.push(l)}});if(c.length>0){e=[];c.forEach(function(t){e=e.concat(n.getCacheItems.call(t))})}return e},shapesFromIndex:function t(e,n){var i=Math.min(e,n),r=Math.max(e,n),o,s=this.cache.data,a=this.cache.data.length,l,c=[];for(l=0;l<a;++l){o=s[l];void 0!==o.index&&o.index>=i&&o.index<=r&&c.push(o)}return c},_isNull:o,release:function t(){this.cache=null;this.allowNullSelect=null;this.activeComponent=null}});return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(e,n){e.forEach(function(e){if(e.isCacheItem)n.push(e);else if(e.data.cacheItem)n.push(e.data.cacheItem);else if(e.cacheItem){n.push(e.cacheItem);if(e.cacheItem.isCacheItem)throw"Using new cache item before its time"}e.children&&e.children.length>0&&t.apply(this,[e.children,n])});return n}var e={getCacheItems:function e(){if(!this.children||!this.children)return[];return t.apply(this,[this.children,[]])}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={getLevel:function t(){if(!this||this.parent===this)return;var e=this.parent,n=0;while(e){n+=1;e=e.parent}return n},each:function e(n){var i=this&&this.children,r;if(!i)return;for(r=0;r<i.length;r+=1){if(n&&false===n(i[r],r,i.length-1))return false;if(false===t.each.call(i[r],n))return false}},getLeaves:function e(){if(!this||!this.children)return[];var n=[],i;for(i=0;i<this.children.length;i+=1)this.children[i]&&this.children[i].children&&this.children[i].children.length?n=n.concat(t.getLeaves.call(this.children[i])):n.push(this.children[i]);return n}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){return{getDuration:t};function t(t){var e=3e3,n=7e3,i=3e4,r=t*e;return Math.max(n,Math.min(r,i))}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(48),n(41),n(57),n(423),n(48)],r=function(t,e,n,i){e.service("qvChartTooltipService",["$document","$timeout",function(e,r){var o,s,a=e.find("body"),l=t.element('<div id="qs-chart-tooltip">').appendTo(a);var c,u,d=false;function p(){r.cancel(u);u=null;r.cancel(c);c=null}o={open:function t(e,n,a){d&&s&&s.hide();p();if(!s){var f=e.position;e.position=void 0;s=l.showComponent(i,e);e.position=f}l.attr("dir",e.dir);c=r(function(){n&&(u=r(function(){o.close()},n));d=true;s.show(e)},a)},close:function t(){this.Closed.emit();s&&r(function(){s.hide()});p()},destroy:function t(){d&&s&&s.hide();s=null}};n.create(o,"Closed");return o}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(424)],r=function(){var t;t={transclude:true,template:'<div qva-chart-tooltip position="position" content="content" direction="direction" visible="visible" template="template" number-in-excess="numberInExcess" target="target" hide-callback="hideCallback" always-on-top="alwaysOnTop" options="options"></div>',controller:["$scope",function(t){t.visible=false;this.hide=function(){t.visible=false};this.show=function(e){t.content=e.content;t.position=e.position;t.direction=e.direction;t.template=e.template;t.numberInExcess=e.numberInExcess;t.alwaysOnTop=e.alwaysOnTop;t.visible=true;t.hideCallback=e.hideCallback;t.target=e.target;t.options={direction:e.dir}}}]};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(41),n(425),n(170),n(58),n(426)],r=function(t,e,n,i,r,o,s){var a=5;var l=5;var c=25;n.directive("qvaChartTooltip",function(){return{template:s,replace:true,scope:{content:"=",position:"=",visible:"=",direction:"=",template:"=",numberInExcess:"=",target:"=",hideCallback:"=",alwaysOnTop:"=",options:"="},link:function s(u,d){var p,f,h=false;p=function t(e){var n=e?"block":"none";d.css("display",n)};u.synchronAlign=function(){var e=d.find(".qv-tooltip"),n=d.find(".chart-tooltip-arrow"),o;p(u.visible);var s=u.direction instanceof Array?u.direction:[u.direction];o=r.alignToBestCoordinate(e,u.position,s,u.target,false,a,l);var f=e.offset(),v=r.getScrolledRect(t(window));switch(o.position){case"right":f.left+=9;o.y=v.y+Math.min(v.height-c,Math.max(c,o.y-v.y));break;case"left":f.left-=9;o.y=v.y+Math.min(v.height-c,Math.max(c,o.y-v.y));break;case"bottom":f.top+=9;o.x=v.x+Math.min(v.width-c,Math.max(c,o.x-v.x));break;default:f.top-=9;o.x=v.x+Math.min(v.width+v.x-c,Math.max(c,o.x-v.x));break}e.offset(f);if(n.length){n.removeClass().addClass("chart-tooltip-arrow").addClass(o.position);i.alignToCoordinate(e,o.x,o.y,o.position,n)}h=false};u.align=function(){f=n.getService("$timeout")(u.synchronAlign)};u.$watch("position",function(t){if(t&&(t instanceof Array||t.x&&t.y)){h=true;u.align()}});u.$watch("visible",function(t){h||p(t)});u.$watch("content",function(t){t||(u.visible=false)});u.hideTooltip=function(t){u.visible=false;u.hideCallback&&u.hideCallback();if(t&&t.stopPropagation){t.stopPropagation();t.preventDefault();e.preventGestures()}};u.$on("$destroy",function(){n.getService("$timeout").cancel(f);o.off("end",u.hideTooltip)});o.on("end",u.hideTooltip)}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t=Math.floor;function e(t){var e={left:"right",right:"left",top:"bottom",bottom:"top"};return e[t]}function n(t,n,i,r){var o=e(i),s={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}},a=s[o],l=0,c=0,u=0,d=0,p=n[0].getBoundingClientRect(),f=r.outerWidth();if("left"===o||"right"===o){u=parseInt(n.offset().top+p.height*(1-a.height)-t.offset().top-f*(1-a.height),10);"left"===o?c="auto":l="auto";d="auto"}else{l=parseInt(n.offset().left+p.width*(1-a.width)-t.offset().left-f*(1-a.width),10);"bottom"===o?u="auto":d="auto";c="auto"}r.css({left:l,right:c,top:u,bottom:d})}function i(n,i,r,o,s){var a=e(o),l={left:{width:0,height:.5,size:-1},right:{width:1,height:.5,size:1},top:{width:.5,height:0,size:-1},bottom:{width:.5,height:1,size:1}},c=l[a],u,d,p=n[0].getBoundingClientRect(),f=s[0].getBoundingClientRect();if("left"===a||"right"===a){u=c.width*(p.width-f.width)+f.width*c.size-parseInt(n.css("padding-left"));d=r-n.offset().top-f.width*(1-c.height)}else{u=i-n.offset().left-f.width*(1-c.width);d=c.height*(p.height-f.height)+f.height*c.size}s.css({left:t(u),top:t(d)})}function r(t,n,i){var r=e(n),o={left:{width:0,height:.5},right:{width:1,height:.5},top:{width:.5,height:0},bottom:{width:.5,height:1}},s=o[r],a,l,c=t.outerWidth(),u=t.outerHeight(),d=i.outerWidth(),p=i.outerHeight();if("left"===r||"right"===r){a=s.width*(c-d);l=i.offset().top-p*(1-s.height)}else{a=c*(1-s.width)-d*(1-s.width);l=s.height*(u-p)+p}i.css({left:a,top:l})}return{align:n,alignToParent:r,alignToCoordinate:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div>\n\t<div ng-if="template" ng-include src="template"></div>\n\n\t<div ng-if="!template" qva-direction x-dir-setting="{{options.direction}}" class="qv-tooltip qvt-chart-tooltip" qva-press="hideTooltip($event)" tid="qv-chart-tooltip" ng-class="{\'above\':alwaysOnTop}">\n\t\t<div class="chart-tooltip-arrow"></div>\n\t\t<div class="qv-chart-tooltip-inner">\n\t\t\t<div ng-repeat="item in content" class="qv-chart-tooltip-item">\n\t\t\t\t<div class="qv-chart-tooltip-content">\n\t\t\t\t\t<div qva-direction x-dir-text="{{item.header}}" x-dir-setting="{{options.direction}}" class=\'qv-tp-header\' ng-if="item.header !== undefined">\n\t\t\t\t\t\t<strong>{{item.header}}</strong>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<tr ng-repeat="row in item.rows" class="qv-tp-row">\n\t\t\t\t\t\t\t<td class=\'qv-tp-item\' ng-if="row.hasOwnProperty(\'label\')">\n\t\t\t\t\t\t\t\t<span qva-direction x-dir-text="{{row.label}}" class="qv-tp-rowPart" ng-class="{\'qv-tp-single\' : (content.length + item.rows.length) <= 3}">{{row.label}}</span>\n\t\t\t\t\t\t\t\t<span>:&nbsp;</span>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="!row.template" class=\'qv-tp-value\'>\n\t\t\t\t\t\t\t\t<div class="qv-tp-rowPart" dir="ltr">{{row.value}}</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td ng-if="row.template" class=\'qv-tp-template qv-tp-value\' ng-bind-html="row.template" ng-attr-colspan="{{row.hasOwnProperty(\'label\') && 1 || 2 }}">\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-chart-tooltip-excess" ng-if="numberInExcess > 0" q-translation="Object.ChartTooltip.NMore,{{numberInExcess}}">More</div>\n\t</div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(204),n(428)],r=function(t,e){function n(){this.data=[]}Object.defineProperties(n.prototype,{has:{value:function t(e){return-1!==this.data.indexOf(e)}},add:{value:function n(i){if(!(i instanceof t)&&!(i instanceof e))throw"Invalid cache item!";this.has(i)||this.data.push(i)}},remove:{value:function t(e){var n=this.data.indexOf(e);-1!==n&&this.data.splice(n,1)}},clear:{value:function t(){this.data.length=0}}});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(53)],r=function(t){function e(t){var e=t.getBoundingRect();return isNaN(e.x+e.y+e.width+e.height)}var n=t.extend({init:function t(e,n,i,r,o,s,a){if(!(!e||e instanceof Array)||!(!n||n instanceof Array)||!(!i||n instanceof Array)||!(!r||i instanceof Array))throw"The dimensions, measures and values input must be undefined or arrays";this.selected=false;this.highlighted=false;this.values=i||[];this.labels=r||[];this.row=o;this.col=s;this.id=a;this.parent=void 0;this.children=[];this._dimensions=e||[];this._measures=n||[];this._attrDims=[];this._attrDimTypes=[];this._objectShapes={};this._shapes=[];this._tooltipShape=void 0;this._tooltipShapeComponent=void 0},get siblings(){return this._parent?this._parent.children:[]},clearShapes:function t(e){e&&this._objectShapes[e]&&(this._objectShapes[e]=[]);this._shapes=[];for(var n in this._objectShapes)this._shapes=this._shapes.concat(this._objectShapes[n])},getShapes:function t(e){return e?this._objectShapes[e]||(this._objectShapes[e]=[]):this._shapes},getShapeBounds:function t(n,i){if(this._calculateTooltipPosition&&n){var r=this.getShapes(n);var o=r.map(function(t){var e=t.getBoundingRect();if(!t.clearModelView){e=e.clone();e.set(e.x*i,e.y*i,e.width*i,e.height*i)}return e});o=o.filter(function(t){return!e(t)});if(o.length){var s=o.reduce(function(t,e){return t.combineWith(e)},o[0]);return s}return null}return null},addShape:function t(e,n,i){if(n instanceof Array&&(!n[0].pointInside||!n[0].getBoundingRect)||!n.pointInside||!n.getBoundingRect)throw"The shape must implement a `pointInside` function";this._objectShapes[e]instanceof Array||(this._objectShapes[e]=[]);this._objectShapes[e].push(n);this._shapes.push(n);if(i){this._tooltipShape=n;this._tooltipShapeComponent=e}},addMeasure:function t(e,n,i){this.values.push(n);this.labels.push(i);this._measures.push(e)},getMeasures:function t(){return this._measures},getMeasuresIndecies:function t(){return this._measures.map(function(t,e){return e})},addDimension:function t(e){this._dimensions.push(e)},getDimensions:function t(){return this._dimensions},addAttributeDimension:function t(e,n,i){this._attrDims.push({value:e,label:n,name:i})},getAttributeDimensions:function t(e){if(this._attrDims.length)return isNaN(e)?this._attrDims.map(function(t){return t.value}):[this._attrDims[e].value];return null},getValue:function t(e){e=e||0;return this.values[e]},getPreformattedLabel:function t(e){e=e||0;return this.labels[e]},getCombinedElementID:function t(){var e=this,n=[e.id];while(e.parent){e=e.parent;n.push(e.id)}n.reverse();return n.join(",")}});n.prototype.isCacheItem=true;Object.defineProperties(n.prototype,{tooltipShape:{get:function t(){return this._tooltipShape}},calculateTooltipPosition:{set:function t(e){this._calculateTooltipPosition=e},get:function t(){return this._calculateTooltipPosition}},interactPosition:{set:function t(e){this._interactPosition=e},get:function t(){return this._interactPosition}},tooltipShapeComponent:{get:function t(){return this._tooltipShapeComponent}},label:{get:function t(){throw new Error("CacheItem: label: Removed functionality")}},shape:{get:function t(){throw new Error("CacheItem: shape: Removed functionality")}},value:{get:function t(){throw new Error("CacheItem: value: Removed functionality")}}});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){return t&&t.enigmaModel&&t.enigmaModel.app&&t.enigmaModel===t.enigmaModel.app.modalSelectionObject}function e(t){return t&&t.qSelectionInfo&&t.qSelectionInfo.qInSelections}function n(t,e){var n=false;return t.getField(e).then(function(t){return t.getNxProperties().then(function(t){return t.qOneAndOnlyOne||n})})}function i(t){return t.getAppLayout().then(function(t){return["$"].concat(t.qStateNames)})}function r(t,e){var n=!!t.qOneAndOnlyOne;var i=!!e.qOneAndOnlyOne;if(n===i)return t.qSortIndex-e.qSortIndex;return n?-1:1}function o(t){return t.filter(function(t){return!t.qOneAndOnlyOne&&!t.qLocked})}function s(t){return t.filter(function(t){return o(t.qSelectionObject.qSelections).length})}return{isModalSelectionModel:t,isInSelection:e,isSingleSelect:n,getSelectionStates:i,sortSelections:r,getClearableItems:o,getClearableStates:s}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){var e=7500,n,i={pending:0,resetTime:void 0};var r={begin:o,end:s,hasPending:a};return r;function o(){n=n||t.getService("$timeout");i.pending++;i.resetTime&&n.cancel(i.resetTime);i.resetTime=n(l,e)}function s(){if(!i.pending)return;i.pending--}function a(){return i.pending>0}function l(){i.pending=0}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(432)],r=function(t,e){t.service("qvDefaultViewSelectionService",[function(){return{createSelections:function t(n,i,r,o){var s,a;if(!r||!r.dataArea)return;r.range&&(r.range.rtl="rtl"===n.options.direction);r.isPopover=n.options.isPopover;r.selectionsDisabled=n.options.selectionsDisabled||false;s=new e(i,r,o);s.Activated.bind(function(){n.selectionsApi.activated()});s.Deactivated.bind(function(){n.selectionsApi.deactivateSearch&&n.selectionsApi.deactivateSearch()});s.Cancel.bind(function(){n.selectionsApi.cancel()});s.Select.bind(function(){n.selectionsApi.selectionsMade=true});s.SelectRange.bind(function(){n.selectionsApi.selectionsMade=true});s.SelectAttributeDim.bind(function(){n.selectionsApi.selectionsMade=true});s.Confirm.bind(function(){n.backendApi.endSelections(true);n.selectionsApi.deactivated()});s.ResetSelections.bind(function(){n.backendApi.clearSelections()});n.selectionsApi.confirm=function(){s&&s.confirm()};a=n.selectionsApi.deactivated.bind(n.selectionsApi);n.selectionsApi.deactivated=function(){s&&s.deactivate();a()};n.selectionsApi.deactivate=function(){if(s){s.deactivate();this.deactivated()}};n.selectionsApi.clear=function(){s.clearSelection();n.backendApi.clearSelections();n.tooltipApi.cancel();n.selectionsApi.selectionsMade=false};n.selectionsApi.toggleKeyboardAccelerators=function(t){s.toggleKeyboardAccelerators(t)};n.selectionsApi.getKeyAsToggleSelected=function(t){return s.getKeyAsToggleSelected(t)};n.selectionsApi.toggleSearch=function(){n.options.search.toggle()};n.selectionsApi.activate=function(){s.autoActivate()};n.selectionsApi.on=function(){s.on()};n.selectionsApi.off=function(){s.off()};n.$on("$destroy",function(){if(s){s.release();s=null}});return s}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(53),n(57),n(71),n(433),n(436),n(441),n(68),n(207),n(208),n(50)],r=function(t,e,n,i,r,o,s,a,l,c,u){var d,p,f={dataArea:r,range:o,colorLegend:s};function h(e){Object.keys(e).forEach(function(n){n in f&&(this.types[n]=new f[n](this,t.extend(true,{},f[n].defaultOptions,e[n])))},this)}function v(t,e){var n;for(n=0;n<e.length;n++)if(t.contains(e[n]))return true;for(n=0;n<t.length;n++)if(e.contains(t[n]))return true;return false}function g(t){var e=u.getValue(t,"activeComponent.backendApi",{});var n=e.getDimensionInfos&&e.getDimensionInfos()||[];var i=n.length-1;var r=u.getValue(n,i+".qIsOneAndOnlyOne",false);i>0&&r&&u.getValue(n,i+".qCardinalities.qHypercubeCardinal")>1&&(r=false);return r}d=e.extend({init:function e(i,r,o){n.mixin(this);this.notification("Activated");this.notification("Deactivated");this.notification("ToggleShape");this.notification("ToggleShapes");this.notification("SelectWhileLocked");this.notification("SelectWhileSingleSelect");this.notification("Lasso");this.notification("Confirm");this.notification("Cancel");this.notification("Select");this.notification("SelectRange");this.notification("SelectAttributeDim");this.notification("Clear");this.notification("ResetSelections");this.notification("UpdateRanges");this._active=false;this._autoActivated=false;this._isListening=false;this._isScrolling=false;this._isLocked=false;this._shiftPressed=false;this._lassoEnabled=false;this._allowLasso=true;this._enabled=true;this.container=i;this.options=t.extend(true,{},{toggle:true,toggleRect:true,swipe:true,ctrlKeyAsToggleSelected:false},r);this.cache=o;this.containerRect=new a(0,0,0,0);this.types={};this._keyboard=true;h.call(this,this.options)},setContainer:function t(e){this.off();this.container=e;this.on()},refreshContainerRect:function t(){var e=this.offset=this.container.offset(),n=this.container.width(),i=this.container.height();this.containerRect.set(e.left,e.top,n,i)},canTypeBeActivated:function t(e){return!(e&&e.activeComponent&&"function"===typeof e.activeComponent.isSelectionLocked?e.activeComponent.isSelectionLocked():this._isLocked)},on:function t(){if(this._isListening)return;this._isListening=true;var e=this,n=this.options,s;this._reset=function(){s=null};this.getActiveType=function(){return e._activeType};this.getActiveMode=function(){return e._activeType?e._activeType.getActiveMode():null};function a(){if(e._activeType&&e._activeType!==s){var t=e._activeType.getActiveDimensions();if(e._activeType.getActiveMode()!==s.getActiveMode()||!v(t,s.getActiveDimensions())){e._activeType.clearSelection();e.ResetSelections.emit()}e._activeType.cancel()}e._activeType=s}function u(){a();n._disableSelectionActivation||e.activate()}function d(){return e._active&&!i.isInEditMode()}function f(){return s&&n.swipe}this._setTypeOnAutoActivate=function(){s=e.types.dataArea};this._activateType=function(t){s=t;a()};this._mouseUp=function(t){1===t.which&&(!e._shiftPressed&&e._drawingWithShift||e._shiftPressed&&e._drawingWithoutShift)&&e.Lasso.emit(!e.lassoEnabled)};this._shiftToggle=function(t){e._shiftPressed=t;if(!e._allowLasso||!e._keyboard||e._drawingWithShift||e._drawingWithoutShift)return;e._active&&e.Lasso.emit(!e.lassoEnabled)};this._keyPressed=function(t){if(!e._keyboard)return;if(!d())return;27===t?e.cancel():13===t&&(s&&s.getIsEditing&&s.getIsEditing()?s.confirmEdit():e.confirm())};c.ShiftToggle.bind(this._shiftToggle);c.KeyPressed.bind(this._keyPressed);c.MouseUp.bind(this._mouseUp);this.types.range&&this.types.range.on&&this.types.range.on();var h=false,m;function b(t,n){p=n;s=t;e.refreshContainerRect();s&&s.initComponent(n)}this._eventHandlers=l.extend({preventDefault:false,tap:{start:function t(e,n,i){b(i,n.pagePoints[0]);document.activeElement&&document.activeElement.blur()},end:function t(i,r){if(!s||s.internal||!n.toggle)return;if(!e.canTypeBeActivated(s)){e.SelectWhileLocked.emit();return}u();c.preventGestures(this);s.toggle.call(s,i,r.pagePoints[0]);s.getSelectedShapes().length>0&&e.Select.emit(s.getSelectedShapes(),e.getKeyAsToggleSelected(i))}},taptwo:{start:function t(){},end:function t(i,r,o){if(!n.toggleRect)return;b(o,r.pagePoints[0]);if(!s||!n.toggle)return;if(!e.canTypeBeActivated(s)){e.SelectWhileLocked.emit();return}u();s.toggleRect.call(s,i,r.pagePoints[0],r.pagePoints[1])}},exclusive:function t(){return e.lassoEnabled},active:function t(){return e._enabled||e._drawingWithShift||e._drawingWithoutShift}});this._swipeHandlers=l.extend({preventDefault:true,swipe:{start:function t(i){if(!f()&&!n._enablePanning)return;e._shiftPressed&&!e._active&&e.allowLasso&&e.Lasso.emit(!e.lassoEnabled);if(!s||s.internal)return;e._drawingWithShift=e._shiftPressed;e._drawingWithoutShift=!e._shiftPressed;if(!e.lassoEnabled&&s.activeComponent&&s instanceof r){this._isPanning=true;return}if(s.activeComponent){this._isPanning=false;h=true;m=this.options.useMomentum;this.options.useMomentum=false;if(!e.canTypeBeActivated(s)){e.SelectWhileLocked.emit();return}if(g(s)){e.SelectWhileSingleSelect.emit();return}u();s.start.call(s,i,p)}},update:function t(i,r){if(!f()&&!n._enablePanning)return;if(!this._isPanning&&h&&s){if(!e.canTypeBeActivated(s)){e.SelectWhileLocked.emit();return}if(g(s)){e.SelectWhileSingleSelect.emit();return}s.update.call(s,i,r.pagePoints[0])}},end:function t(i,r){if(!f()&&!n._enablePanning)return;e._drawingWithShift=false;e._drawingWithoutShift=false;if(this._isPanning)this._isPanning=false;else if(h&&s){h=false;this.options.useMomentum=m;if(!e.canTypeBeActivated(s)){e.SelectWhileLocked.emit();return}if(g(s)){e.SelectWhileSingleSelect.emit();return}s.end.call(s,i,r)}},cancel:function t(){e._drawingWithShift=false;e._drawingWithoutShift=false;if(!s||!h)return;this.options.useMomentum=m;s.cancel.call(s,true)}},exclusive:function t(){return e.lassoEnabled},active:function t(n){return e._enabled&&(e.lassoEnabled||e._drawingWithShift||e._drawingWithoutShift||n instanceof o)}});function y(t,n){c.addInteraction(e._eventHandlers,t.container,1,["tap","taptwo"],n)}function x(t,n){c.addInteraction(e._swipeHandlers,t.container,1,["swipe"],n)}function w(t){c.removeInteraction(e._swipeHandlers,t.container)}this.registerAddedComponent=function(t,e){if(!t.internal&&!(t instanceof o&&"dataArea"===e.selectionIdentifier)){y(e,t);t instanceof o&&x(e,t)}};this.deregisterAddedComponent=function(t,n){if(!t.internal&&!(t instanceof o&&"dataArea"===n.selectionIdentifier)){c.removeInteraction(e._eventHandlers,n.container);c.removeInteraction(e._swipeHandlers,n.container)}};this.registerLasso=function(){var t=this.types["dataArea"];Object.keys(t.components).map(function(e){return t.components[e]}).forEach(function(e){e.forEach(function(e){x(e,t)})})};this.deregisterLasso=function(){var t=this.types["dataArea"];Object.keys(t.components).map(function(e){return t.components[e]}).forEach(function(t){t.forEach(function(t){w(t)})})};Object.keys(this.types).map(function(t){return this.types[t]},this).forEach(function(t){return Object.keys(t.components).map(function(e){return t.components[e]}).forEach(function(n){n.forEach(function(n){e.registerAddedComponent(t,n)})})})},register:function t(e,n){this.registerAddedComponent&&this.registerAddedComponent(e,n)},deregister:function t(e,n){this.deregisterAddedComponent&&this.deregisterAddedComponent(e,n)},off:function t(){c.ShiftToggle.unbind(this._shiftToggle);c.KeyPressed.unbind(this._keyPressed);c.MouseUp.unbind(this._mouseUp);c.removeInteraction(this._eventHandlers);c.removeInteraction(this._swipeHandlers);this.types.range&&this.types.range.off&&this.types.range.off();this._isListening=false;this.registerAddedComponent=null;this.deregisterAddedComponent=null;this.registerLasso=null;this.deregisterLasso=null},autoActivate:function t(){if(this._autoActivated||!this._isListening)return;this._autoActivated=true;this._setTypeOnAutoActivate();this._activeType=this.types.dataArea;this._activeType.initComponent();this.activate()},activate:function t(e){if(!this._active){this.Activated.emit();this._active=true;this._shiftPressed&&!this.lassoEnabled&&this.Lasso.emit(true)}e&&this._activateType(e)},deactivate:function t(e){if(this._active){this._active=false;this._autoActivated=false;e||this.clearSelection();if(this._activeType){this._activeType.cancel();this._activeType=void 0}this.Deactivated.emit();this._reset()}},confirm:function t(){this._activeType&&this.deactivate(true);this.Confirm.emit()},cancel:function t(){this.deactivate();this.Cancel.emit()},clearSelection:function t(){this._activeType&&this._activeType.clearSelection()},toggleKeyboardAccelerators:function t(e){this._keyboard=e},getKeyAsToggleSelected:function t(e){return!(e.metaKey||e.ctrlKey)},release:function t(){this.off();n.release(this);Object.keys(this.types).forEach(function(t){this.types[t].release()},this)},setLocked:function t(e){this._isLocked=e}});Object.defineProperties(d.prototype,{allowLasso:{set:function t(e){this._allowLasso=e},get:function t(){return this._allowLasso}},lassoEnabled:{set:function t(e){this._lassoEnabled=e&&this.allowLasso;this._lassoEnabled&&this.registerLasso&&this.registerLasso();!this._lassoEnabled&&this.deregisterLasso&&this.deregisterLasso()},get:function t(){return this._lassoEnabled}},enabled:{set:function t(e){this._enabled=e},get:function t(){return this._enabled}}});return d}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(98),n(434),n(68),n(129),n(147),n(435),n(50)],r=function(t,e,n,i,r,o,s,a){var l,c=t("<div />"),u=c[0],d=t("<canvas />"),p=d[0],f=t("<canvas />"),h=f[0],v=t("<canvas />"),g=v[0],m=p.getContext("2d"),b=h.getContext("2d"),y=g.getContext("2d"),x,w=[],q=false,_=false;u.appendChild(p);u.appendChild(h);u.appendChild(g);u.className="selections-data-area-ui";c.hide();function C(){m.beginPath();m.moveTo(x.x,x.y);m.fillStyle="rgba(0, 152, 69, 1)";m.arc(x.x,x.y,10,0,2*Math.PI,true);m.fill()}function S(t,e,n){var i,r;!n||"x"!==n&&"y"!==n||(e[n]=x[n]);i=(t.x+e.x)/2;r=(t.y+e.y)/2;m.beginPath();m.moveTo(t.x,t.y);m.quadraticCurveTo(i,r,e.x,e.y);m.stroke()}function D(t,e,n,i){i=i||[2,4];var r=i.length,o=n.x-e.x,s=n.y-e.y,a=Math.sqrt(o*o+s*s),l=a,c=0,u=true,d,p=e.x,f=e.y;o/=a;s/=a;t.moveTo(p,f);for(c=0;l>=.1&&c<5e3;++c){d=i[c%r];0===d&&(d=.001);d>l&&(d=l);p+=d*o;f+=d*s;t[u?"lineTo":"moveTo"](p,f);l-=d;u=!u}}function E(t,e){b.clearRect(0,0,h.width,h.height);b.beginPath();D(b,t,e);b.stroke()}function k(){c.hide();d.hide();f.hide();c.detach()}function T(t){var e=a.getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);return a.getValue(e,t+".qIsOneAndOnlyOne",false)}function A(t){if(!t.length)return 0;var e=a.getValue(this,"components.dataArea.0._data.qHyperCube.qDimensionInfo",[]);if(1===e.length)return 0;var n;if(1===t.length){var i=t[0].parent&&t[0].parent.children.length;n=1===i||false}else 2===e.length&&(n=e[1].qIsOneAndOnlyOne&&e[1].qCardinalities.qHypercubeCardinal>1||false);var r=n?0:1;return r}l=o.extend("DataAreaSelection",{init:function t(e,n){this._super(e,n);this.setActiveMode("item");this._startIndex=-1;this._endIndex=-1},initComponent:function t(){this.setActiveComponent(this.components.dataArea[0])},refreshCanvas:function t(){this.rect=this.components.dataArea[0].rect;var e={position:"absolute",left:this.rect.x+"px",top:this.rect.y+"px",width:this.rect.width+"px",height:this.rect.height+"px","z-index":20};m.canvas.width=this.rect.width;m.canvas.height=this.rect.height;m.lineWidth=2;m.lineCap="round";m.lineJoin="round";m.strokeStyle="rgba(102,102,102,1)";m.fillStyle="rgba(102,102,102,1)";d.css(e);b.canvas.width=this.rect.width;b.canvas.height=this.rect.height;b.lineWidth=2;b.lineCap="round";b.lineJoin="round";b.strokeStyle="rgba(102,102,102,1)";f.css(e);y.canvas.width=this.rect.width;y.canvas.height=this.rect.height;v.css(e)},toggle:function t(e,n,r){r=void 0!==r?r:this.handler.getKeyAsToggleSelected(e);var o=this.getTransformedPoint(n.x,n.y),s,a=this.options.toggle.callback||this.toggleSelection,l=this.options.indexSelection,c=this.ToggleFlag.auto|this.ToggleFlag.tooltip;s=l?this.shapesFromRectForDirection(new i(o.x,o.y,0,0),"y"):this.shapesFromPoints([o]);s=this.groupedItemsFromShapes(s);var u=T.call(this,A.call(this,s));u?this.cancel(true):r||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);s.forEach(function(t){t.selectionMode="dataArea";t.interactPosition=n});a.call(this,s,c);return s&&s.length>0},toggleRect:function e(n,r,o){if(!r||!o)return;var a,l,c,u,d,p,f,h,v,g=t(this.components.dataArea[0].container),m=g.offset(),b=function t(e){return{x:Math.min(Math.max(e.x,m.left),m.left+g.width()),y:Math.min(Math.max(e.y,m.top),m.top+g.height())}},y,x;r=b(r);o=b(o);y=r;x=o;this.resetSelectedShapes();r=this.getTransformedPoint(r.x,r.y);o=this.getTransformedPoint(o.x,o.y);a=Math.min(r.x,o.x);l=Math.min(r.y,o.y);c=Math.max(1,Math.abs(o.x-r.x));u=Math.max(1,Math.abs(o.y-r.y));d=new i(a,l,c,u);f=this.ToggleFlag.select;h=this.options.indexSelection;v=this.toggleSelection;this.setActiveComponent(this.components.dataArea[0]);p=h?this.shapesFromRectForDirection(d,"y"):this.shapesFromRect(d);p=this.groupedItemsFromShapes(p);p.forEach(function(t){t.selectionMode="dataArea"});v.call(this,p,f);this.getSelectedShapes().length>0&&this.handler.Select.emit(this.getSelectedShapes(),true);s.flash(y,x)},start:function t(n,r){this.handler.getKeyAsToggleSelected(n)||this.clearSelection();this.resetSelectedShapes();this.setActiveComponent(this.components.dataArea[0]);var o=this.getTransformedPoint(r.x,r.y),s=this.options.captureInput,a=this.options.indexSelection;if(s){d.show();f.show();c.appendTo(this.handler.container);c.show();this.refreshCanvas()}w.length=0;w.push(o);x=new e(w[0].x,w[0].y);q=false;_=false;if(a){var l=this.shapesFromRectForDirection(new i(x.x,x.y,1,1),"y"),u=l.length&&l[0].index;void 0!==u&&u>=0&&(this._startIndex=u)}s&&C()},update:function t(e,n){var o=this.getTransformedPoint(n.x,n.y),s=this.options,a=s.captureInput,l=s.lassoAutoCloseDistance,c=s.indexSelection,u=e.shiftKey&&s.shiftLockCapture?s.shiftLockAxis:"",d,p=this.ToggleFlag.select,f,v,g,m=-1,y=this.toggleSelection;d=w[w.length-1];w.push(o);a&&S(d,o,u);if(a){q||(q=w.length>2&&x.distanceTo(o)>=l);b.clearRect(0,0,h.width,h.height);if(q)if(x.distanceTo(o)<=l){E(o,x);_=true}else _=false}if(c){g=this.shapesFromRectForDirection(new i(o.x,o.y,1,1),"y");m=g.length?g[0].index:-1;void 0!==m&&m>=0&&(this._endIndex=m);f=this.shapesFromIndex(this._startIndex,this._endIndex);v=this.getSelectedShapes().filter(function(t){return-1===f.indexOf(t)});y.call(this,v,this.ToggleFlag.deselect);y.call(this,f,p)}else{f=this.shapesFromLines([new r(d.x,d.y,o.x,o.y)]);f=this.groupedItemsFromShapes(f);f.forEach(function(t){t.selectionMode="dataArea"});y.call(this,f,p)}},end:function t(e){var i=this.options.captureInput,r=this.options.indexSelection,o,s,a=this.ToggleFlag.select,l=this.toggleSelection;if(r){this._startIndex=-1;this._endIndex=-1}i&&k();if(i&&_){s=new n(w);o=this.shapesFromPolygon(s);o=this.groupedItemsFromShapes(o);o.forEach(function(t){t.selectionMode="dataArea"});l.call(this,o,a)}w.length=0;var c=this.getSelectedShapes();if(c.length>0){var u=T.call(this,A.call(this,c));u&&c.length>1?this.cancel():this.handler.Select.emit(c,this.handler.getKeyAsToggleSelected(e))}},cancel:function t(e){w.length&&k();e&&this.clearSelection();this.setActiveComponent(null)}});l.defaultOptions={captureInput:true,indexSelection:false,shiftLockCapture:false,shiftLockAxis:"x",lassoAutoCloseDistance:50,autoConfirm:false,toggle:{callback:null},interpolation:{pixelPrecision:2}};return l}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(68),n(129)],r=function(t,e){function n(e){var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=e?e.length:0,a,l;if(!s)return null;for(l=0;l<s;l++){a=e[l];i=a.x>i?a.x:i;n=a.x<n?a.x:n;o=a.y>o?a.y:o;r=a.y<r?a.y:r}return new t(n,r,i-n,o-r)}function i(){this._numPoints=this.points?this.points.length:0;this._closedPolygon=this._numPoints>1&&this.points[0].x===this.points[this._numPoints-1].x&&this.points[0].y===this.points[this._numPoints-1].y;this._closedPolygon?this._numLines=this._numPoints-1:this._numLines=this._numPoints;this._pointsChanged=true}function r(t){0===arguments.length?this.set([]):this.set(t);this._pointsChanged=true}r.prototype={clone:function t(){var e=this.points.map(function(t){return t.clone()});return new r(e)},set:function t(e){this.points=e;i.call(this)},getPoints:function t(){return this.points},getNumPoints:function t(){return this.points?this.points.length:0},addPoint:function t(e){this.points.push(e);i.call(this)},pointInside:function t(e,n){this.calculateBounds();if(!this._bounds)return false;if(e<this._bounds.x||e>this._bounds.x+this._bounds.width||n<this._bounds.y||n>this._bounds.y+this._bounds.height)return false;var i,r,o,s,a;for(i=false,s=-1,r=this.points.length,o=r-1;++s<r;o=s){if(this.points[s].x===e&&this.points[s].y===n)return true;if(this.points[s].y===this.points[o].y&&this.points[s].y===n&&(e-this.points[s].x)*(e-this.points[o].x)<=0)return true;if(this.points[s].y<n&&n<=this.points[o].y||this.points[o].y<n&&n<=this.points[s].y){a=(this.points[o].x-this.points[s].x)*(n-this.points[s].y)/(this.points[o].y-this.points[s].y)+this.points[s].x;if(e===a)return true;e<a&&(i=!i)}}return i},intersectsLine:function t(n){if(!n)return false;if(this.pointInside(n.x1,n.y1)||this.pointInside(n.x2,n.y2))return true;var i,r;if(0===this._numPoints)return false;if(1===this._numPoints){if(n.intersectsLine(new e(this.points[0].x,this.points[0].y,this.points[0].x,this.points[0].y)))return true;return false}r=this._numPoints-1;for(i=0;i<r;i++)if(n.intersectsLine(new e(this.points[i].x,this.points[i].y,this.points[i+1].x,this.points[i+1].y)))return true;if(!this._closedPolygon&&n.intersectsLine(new e(this.points[r].x,this.points[r].y,this.points[0].x,this.points[0].y)))return true;return false},intersectsLines:function t(e){var n,i=e?e.length:0;for(n=0;n<i;n++)if(this.intersectsLine(e[n]))return true;return false},intersectsRect:function t(n){if(!n)return false;this.calculateBounds();if(!this._bounds)return false;if(n.rectInside(this._bounds))return true;if(!this._bounds.intersectsWith(n))return false;var i,r,o,s,a;i=n.x;r=n.getRight();o=n.y;s=n.getBottom();if(this.pointInside(i,o)||this.pointInside(r,o)||this.pointInside(r,s)||this.pointInside(i,s))return true;a=[new e(i,o,r,o),new e(i,s,r,s),new e(i,o,i,s),new e(r,o,r,s)];return this.intersectsLines(a)},calculateBounds:function t(){if(this._pointsChanged){this._bounds=n(this.points);this._pointsChanged=false}return this._bounds},getBoundingRect:function t(){return this.calculateBounds()},translate:function t(e,n){if(!e&&!n)return;for(var i=0;i<this._numPoints;i++){this.points[i].x+=e;this.points[i].y+=n}this._pointsChanged=true},toString:function t(){var e,n="",i=this._numPoints-1;for(e=0;e<i;e++)n+=this.points[e].toString()+",";n+=this.points[i].toString();return n}};return r}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(65)],r=function(t,e){var n={template:'<div class ="qv-framer" ng-style="style"></div>',controller:["$scope",function(t){t.style={};t.style.top=t.top;t.style.left=t.left;t.style.height=t.height;t.style.width=t.width;t.closeComponent()}],scope:{top:"=",left:"=",height:"=",width:"=",closeComponent:"="}},i={flash:function i(r,o){var s=t.getService("$timeout"),a=e.show(n,{top:Math.min(r.y,o.y)+"px",left:Math.min(r.x,o.x)+"px",height:Math.max(r.y,o.y)-Math.min(r.y,o.y)+"px",width:Math.max(r.x,o.x)-Math.min(r.x,o.x)+"px",closeComponent:function t(){s(function(){a.destroy();a=null},300)}})}};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(147),n(98),n(68),n(50),n(437)],r=function(t,e,n,i,r,o){var s,a=false,l=Math.min,c=Math.max,u=t("<div />"),d=u[0],p=t('<div qva-range-selection visible="rangeSelectIsVisible" active-component="activeComponent" v-component="vComponent" h-component="hComponent" v-ranges="vRanges" h-ranges="hRanges" h-options="hOptions" v-options="vOptions"/>'),f={x:[],y:[]},h,v,g=15;function m(t){if(t.isCacheItem){var e=t.getDimensions();return e[e.length-1]}return t.parent&&t.parent.data&&t.parent.data.qText?t.parent.data.qText:t.label}function b(t,e){var n=t.indicators||t.getLevels()[0];var i=t.getPlotMax();var r=t.getPlotMin();var o=Number.MAX_VALUE;var s=-1;for(var a=0;a<n.values.length;a++){var l=n.values[a];var c=Math.abs(e-l);if(l<r||l>i)continue;if(!(c<o))break;o=c;s=a}if(-1!==a){var u=s;return{value:n.values[s],label:(n.qualifiedLabels||n.labels)[u]}}return null}function y(t,e,n){var i=t.getLevels();for(var r=i.length-1;r>=0;--r){var o=i[r];var s=null;var a=null;for(var l=0;l<o.values.length;++l){o.values[l]===e&&(s=(o.qualifiedLabels||o.labels)[l]);o.values[l]===n&&(a=(o.qualifiedLabels||o.labels)[l])}if(s&&a)return{l1:s,l2:a}}return{l1:null,l2:null}}function x(t,e){var n=t.isDiscrete&&t.isDiscrete();var i=t.isDimension&&!n;if(!i)return null;var r=t.getValueOfPosition(e);var o=b(t,r);if(!o)return null;o.newPoint=t.getPositionOfValue(o.value);var s=Math.abs(o.newPoint-e);if(s>g)return null;return o}function w(t,e){var n=this.getComponentKey(this.activeComponent);var i="x"===n?"width":"height";var r=t.rect[n];var o=t.rect[n]+t.rect[i];var s=this.activeComponent.rect;var a=this.getRect(this.activeComponent);var l=a[n]-s[n];var c=l+a[i];r===o&&0===r&&(r=o=e[n]);var u=null;var d=null;if(f[n].length>1)for(var p=0;p<f[n].length;++p){var h=f[n][p];if(t===h)continue;var v=h.rect[n];var g=h.rect[n]+h.rect[i];g<=r&&(null===u||g>u)&&(u=g);v>=o&&(null===d||v<d)&&(d=v)}l<=r&&(null===u||l>u)&&(u=l);c>=o&&(null===d||c<d)&&(d=c);return{min:u,max:d}}function q(t,e,n,i,r){var o=this.activeComponent,s=this.components.dataArea[0].rect,a=function t(e,i,s){if(r){if(r.switch){var a=n.startVal;n.startVal=n.updateVal;n.updateVal=a}var l=Math.max(Math.min(r.value,o.getPlotMax()),o.getPlotMin());0===r.index&&"horizontal"===s||1===r.index&&"vertical"===s?n.startVal=l:n.updateVal=l}else{n.startVal=o.getValueOfPosition(e);n.updateVal=o.getValueOfPosition(i);n.maxIncluded=!o.isDimension||o.getDataMax()<=n.updateVal}},u=0,d=0,p=0,f=0,h,v,g,b,y,q=o.isDiscrete&&o.isDiscrete(),_=w.call(this,n,t);switch(o.dock){case"top":case"bottom":u=l(t.x,e.x);p=c(t.x,e.x);d=0;f=s.height;if(null!==_.min&&_.min>u){i&&(p+=_.min-u);u=_.min}else{h=x(o,u);if(h){n.startLabel=h.label;u=null===_.min?h.newPoint:Math.max(_.min,h.newPoint)}else n.startLabel=O(o.getValueOfPosition(u),o)}if(null!==_.max&&_.max<p){i&&(u+=_.max-p);p=_.max}else{v=x(o,p);if(v){n.updateLabel=v.label;p=null===_.max?v.newPoint:Math.min(_.max,v.newPoint)}else n.updateLabel=O(o.getValueOfPosition(p),o)}n.rect.set(u,d,p-u,f-d);if(q){g=this.shapesFromRectForDirection(n.rect,"x","dataArea");if(g.length){b=this.options&&this.options.rtl?g[g.length-1]:g[0];y=this.options&&this.options.rtl?g[0]:g[g.length-1];n.startVal=m(b);n.updateVal=m(y)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else a.call(this,u,p,"horizontal");break;case"left":case"right":d=l(t.y,e.y);f=c(t.y,e.y);u=0;p=s.width;if(null!==_.min&&_.min>d){i&&(f+=_.min-d);d=_.min}if(null!==_.max&&_.max<f){i&&(d+=_.max-f);f=_.max}h=x(o,d);if(h){n.startLabel=h.label;d=h.newPoint}else n.startLabel=O(o.getValueOfPosition(d),o);v=x(o,f);if(v){n.updateLabel=v.label;f=v.newPoint}else n.updateLabel=O(o.getValueOfPosition(f),o);n.rect.set(u,d,p-u,f-d);if(q){g=this.shapesFromRectForDirection(n.rect,"y","dataArea");if(g.length){b=g[0];y=g[g.length-1];n.startVal=m(b);n.updateVal=m(y)}else{n.startVal="-";n.updateVal="-"}n.maxIncluded=true}else a.call(this,d,f,"vertical");break}}function _(){return this.components.x&&this.components.y&&1===this.components.x.length&&1===this.components.y.length&&!this.components.x[0].isDiscrete()&&!this.components.y[0].isDiscrete()}function C(){h.y=false;h.x=false;if(this._rangeEventWatchers){this._rangeEventWatchers.forEach(function(t){t()});this._rangeEventWatchers=null}u.hide();u.detach();h.rangeSelectIsVisible=false;f={x:[],y:[]}}function S(t,e,n){var i={rect:new r(0,0,0,0),startVal:0,updateVal:0,component:e};n?f[t].push(i):f[t][0]=i;return i}function D(t,e,n){var i=f[t],o="x"===t&&n.yMirrorMode;var s=o?e.end:e.start;var a=o?e.start:e.end;var l=y(n,s,a);var c=l.l1||(o?null:e.label);var u=l.l2||(o?e.label:null);var d=-1;for(var p=0;p<i.length;p++){var h=o?i[p].updateVal<=a&&s<=i[p].startVal:i[p].startVal<=s&&a<=i[p].updateVal;if(h){d=p;break}}if(-1===d)i.push({startVal:s,startLabel:c,updateVal:a,updateLabel:u,component:n,rect:new r(0,0,0,0),maxIncluded:false});else{var v=i[d];i[d]={startVal:v.startVal,startLabel:v.startLabel,updateVal:s,updateLabel:c,component:n,rect:new r(0,0,0,0),maxIncluded:false};i.push({startVal:a,startLabel:u,updateVal:v.updateVal,updateLabel:v.updateLabel,component:n,rect:new r(0,0,0,0),maxIncluded:false})}E(t,n.yMirrorMode)}function E(t,e){var n="x"===t&&e;var i=n?"updateVal":"startVal";var r=n?"startVal":"updateVal";var o=f[t];o.sort(function(t,e){return t[i]<e[i]?-1:t[i]>e[i]?1:0});for(var s=o.length-1;s>=0;--s){if(o[s].startVal===o[s].updateVal){o.splice(s,1);continue}if(s<o.length-1){var a=o[s][r];var l=o[s+1][i];if(a>=l){if(o[s+1][r]>o[s][r]){o[s][r]=o[s+1][r];n?o[s].startLabel=o[s+1].startLabel:o[s].updateLabel=o[s+1].updateLabel}o.splice(s+1,1);s<o.length-1&&++s}}}}function k(t,e,n){t||(t="x");e||(e=0);var i=f[t][e];if(!i){i={rect:new r(0,0,0,0),startVal:0,endVal:0};f[t][e]=i}i.component=n;return i}function T(t,e,n,i){var r=[],o=this._previousShapes?this._previousShapes.slice():[],s,a=this.getActiveMode(),l=f["y"===e?"x":"y"];if("range.discrete"===a){r=this.shapesFromRectForDirection(t.rect,e,"dataArea");r=this.groupedItemsFromShapes(r);r.forEach(function(t){var e=o.indexOf(t);e>=0&&o.splice(e,1);t.selectionMode=a});n.call(this,r,i);this._clearPrev&&n.call(this,o,this.ToggleFlag.deselect);this._shapes=r}else if("range.dimension"===a){if(this.components.dataArea&&this.components.dataArea[0].updateRangeSelection){var c=f[e].map(function(t){return I(t.startVal,t.updateVal,t.maxIncluded)});this.handler.UpdateRanges.emit(c)}}else{if(_.call(this)){s=l.length?t.rect.intersection(l[0].rect):t.rect;this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].getIsReduced()||(r=this.shapesFromRect(s,"dataArea"));this.components.dataArea&&this.components.dataArea[0].updateRangeSelection&&this.components.dataArea[0].updateRangeSelection(s)}else r=this.shapesFromRange(t.startVal,t.updateVal);r.forEach(function(t){t.selectionMode=a});n.call(this,r,i);this._shapes=r}}function A(t,e,n,i){var r=this.getComponentKey(this.activeComponent),o=e,s=this.ToggleFlag.select,a=this.toggleSelection;q.call(this,v,o,t,n,i);var l=this.getActiveMode();"range.measure"===l?this.clearSelection(true):this._shapes&&a.call(this,this._shapes,this.ToggleFlag.deselect);T.call(this,t,r,a,s);this.updateRangeDisplay()}function I(t,e,n){return{min:Math.min(t,e),max:Math.max(t,e),maxIncluded:!!n}}function O(t,e){var n=e.isDiscrete&&e.isDiscrete();return n||!e.isDimension?e.getFormatter().format(t):e.formatValue(t)}function L(t){return o.getValue(t,"qHyperCube.qDimensionInfo.0.qIsOneAndOnlyOne",false)}s=n.extend("RangeSelection",{init:function t(e,n){this._super(e,n);this._shapes=null;this._nrEditing=0;this.setActiveMode("item")},initComponent:function t(e){this.previousComponent=this.activeComponent;this.setActiveComponent(this.getComponent(e.x,e.y));h.activeComponent=this.activeComponent;-1!==this.components.x.indexOf(h.activeComponent)?h.hComponent=h.activeComponent:-1!==this.components.y.indexOf(h.activeComponent)&&(h.vComponent=h.activeComponent)},setDirection:function t(e){this.options.rtl="rtl"===e},refreshContainer:function e(){var n=this.components.dataArea[0].rect,i=t(this.components.dataArea[0].container).position(),o=new r(i.left,i.top,n.width,n.height),s,a=[];["x","y"].forEach(function(t){this.components[t]&&!this.components[t].contains(this.activeComponent)&&(a=a.concat(this.components[t]))}.bind(this));this.activeComponent&&a.push(this.activeComponent);a.forEach(function(e){if(e.isVisible()){s=t(e.container).position();o=o.combineWith(new r(s.left,s.top,e.rect.width,e.rect.height))}},this);this._offset={left:i.left-o.x,top:i.top-o.y};u.css({left:o.x,top:o.y,width:o.width,height:o.height})},resetSelectedShapes:function t(){this._previousSelectedShapes=this._selectedShapes.concat();this._super()},getIsEditing:function t(){return this._editing},confirmEdit:function t(){h.$broadcast("confirmEdit")},getRect:function t(e,n){if(!e)return new r(0,0,0,0);n=n||false;return e.hasOwnProperty("innerRect")&&!n?e.innerRect:e.rect},getExtendedRect:function t(e){if(!e)return new r(0,0,0,0);if(e.hasOwnProperty("extendedRect"))return e.extendedRect;return this.getRect(e)},getTransformedPoint:function t(e,n){var r=this.getRect(this.activeComponent||this.components.dataArea[0],true);return new i(e-r.x-this.handler.containerRect.x,n-r.y-this.handler.containerRect.y)},getComponent:function t(e,n){var r=new i(e-this.handler.containerRect.x,n-this.handler.containerRect.y);return Object.keys(this.components).map(function(t){return this.components[t]},this).reduce(function(t,e){return t.concat(e)}).filter(function(t){return this.getRect(t).pointInside(r.x,r.y)},this)[0]},checkActiveMode:function t(e,n){e.contains(this.handler.getActiveMode())||this.clearSelection(n);this.setActiveMode(e[0])},toggleRect:function t(e,n,i){this.start(e,n);this.update(e,i);this.end(e)},toggle:function t(e,n,i){i=void 0!==i?i:this.handler.getKeyAsToggleSelected(e);var r;i||this.clearSelection();this.resetSelectedShapes();this._editing&&this.confirmEdit();if(this.activeComponent&&"function"===typeof this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()){this.cancel();r=this.getTransformedPoint(n.x,n.y);var o=this.shapesFromPoints([r]),s=this.options.toggle.callback||this.toggleSelection,a=this.ToggleFlag.auto|this.ToggleFlag.tooltip;a=L(this.activeComponent.backendApi.model.layout)?this.ToggleFlag.replace:a;o=this.groupedItemsFromShapes(o);o.forEach(function(t){t.selectionMode="dataArea"});this.checkActiveMode(["item"]);s.call(this,o,a)}else if(this.activeComponent&&this.activeComponent.isDimension){r=this.getTransformedPoint(n.x,n.y);var l=this.activeComponent.getLabelFromPoint(r);if(l){this.checkActiveMode(["range.dimension"]);this.resetSelectedShapes();var c=this.getComponentKey(this.activeComponent);D(c,l,this.activeComponent);T.call(this,null,c,null,null);this.selectRange();this.refreshContainer();this.initWatchers();this.updateRangeProjection();this.updateRangeDisplay()}}},updateRangeDisplay:function t(){h.hRanges=[];h.vRanges=[];h.vRanges=f.y.map(function(t){var e=new i(t.rect.x,t.rect.y);var n=new i(t.rect.x+t.rect.width,t.rect.y+t.rect.height);var r=t.startLabel||(isNaN(t.startVal)?t.startVal:O(t.startVal,t.component));var o=t.updateLabel||(isNaN(t.updateVal)?t.updateVal:O(t.updateVal,t.component));t.maxIncluded||(o="<"+o);return{points:[n,e],values:{start:{text:o,value:t.updateVal},end:{text:r,value:t.startVal}}}});h.hRanges=f.x.map(function(t){var e=new i(t.rect.x,t.rect.y);var n=new i(t.rect.x+t.rect.width,t.rect.y+t.rect.height);var r=t.startLabel||(isNaN(t.startVal)?t.startVal:O(t.startVal,t.component));var o=t.updateLabel||(isNaN(t.updateVal)?t.updateVal:O(t.updateVal,t.component));t.maxIncluded||(t.component.yMirrorMode?r="<"+r:o="<"+o);return{points:[e,n],values:{start:{text:r,value:t.startVal},end:{text:o,value:t.updateVal}}}});f.y.length>0&&(h.vOptions={rect:this.getRect(f.y[0].component,true).clone(),offset:this._offset.top,padding:f.y[0].component.getPadding(),dock:f.y[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});f.x.length>0&&(h.hOptions={rect:this.getRect(f.x[0].component,true).clone(),offset:this._offset.left,padding:f.x[0].component.getPadding(),dock:f.x[0].component.dock,shouldClip:"range.dimension"===this.getActiveMode()});if(!h.rangeSelectIsVisible){this.handler.container.append(u);u.show();h.rangeSelectIsVisible=true}h.$digest()},initWatchers:function t(){if(!this._rangeEventWatchers){var e=this;this._rangeEventWatchers=[];this._rangeEventWatchers.push(h.$on("rangeStart",function(){e.resetSelectedShapes();e._shapes=e._previousShapes;e._clearPrev=true}));this._rangeEventWatchers.push(h.$on("rangeUpdate",function(t,n,i,r,o,s){v=n[0];e.components[i].indexOf(e.activeComponent)<0&&e.setActiveComponent(e.components[i][0]);var a=f[i][r];A.call(e,a,n[1],o,s);e._clearPrev=false}));this._rangeEventWatchers.push(h.$on("rangeEditChanged",function(t,n){e._nrEditing=n?e._nrEditing+1:e._nrEditing-1;if(e._nrEditing>1){e.confirmEdit();e._nrEditing=1;t.targetScope.onEditBubble()}e._editing=e._nrEditing>0}));this._rangeEventWatchers.push(h.$on("rangeEnd",function(){e.end();e._clearPrev=false}));this._rangeEventWatchers.push(h.$on("rangeToggle",function(t,n,i){e.toggle(n,i)}))}},start:function t(e,n){if(this.handler._disableSelections)return true;this.resetSelectedShapes();this.refreshContainer();this.activeComponent.isDiscrete&&this.activeComponent.isDiscrete()?this.checkActiveMode(["range.discrete","item"]):this.activeComponent.isDimension?this.checkActiveMode(["range.dimension"]):this.checkActiveMode(["range.measure"]);var i=this.getComponentKey(this.activeComponent);if("x"!==i&&"y"!==i)return;this.currentRange=S(i,this.activeComponent,"range.dimension"===this.getActiveMode());this.initWatchers();v=this.getTransformedPoint(n.x,n.y)},update:function t(e,n){if(this.handler._disableSelections)return true;A.call(this,this.currentRange,this.getTransformedPoint(n.x,n.y),false)},updateShapesState:function t(){var e=this.getComponentKey(this.activeComponent),n=k(e,0,this.activeComponent),i=this.getActiveMode(),r=this.ToggleFlag.select,o=[],s=this.toggleSelection;this.clearSelection(true);if(this.activeComponent.isDiscrete&&!this.activeComponent.isDiscrete()){o=this.shapesFromRange(n.startVal,n.updateVal);o.forEach(function(t){t.selectionMode=i});s.call(this,o,r)}this._shapes=o},updateRangeProjection:function t(){var e=this.components.dataArea[0].rect;f.x.forEach(function(t){var n=t.component.getPositionOfValue(t.startVal);var i=t.component.getPositionOfValue(t.updateVal);var r=Math.min(n,i);var o=Math.max(n,i);var s=0;var a=e.height;t.rect.set(r,s,o-r,a-s)});f.y.forEach(function(t){var n=t.component.getPositionOfValue(t.startVal);var i=t.component.getPositionOfValue(t.updateVal);var r=0;var o=e.width;var s=Math.max(n,i);var a=Math.min(n,i);t.rect.set(r,a,o-r,s-a)})},end:function t(){if(this.handler._disableSelections)return true;this.currentRange=null;if("range.dimension"===this.getActiveMode()){var e=this.getComponentKey(this.activeComponent);E(e,this.activeComponent.yMirrorMode);this.updateRangeProjection()}this.updateRangeDisplay();this.selectRange();this._previousShapes=this._shapes;this._shapes=null},cancel:function t(){if(this.handler._disableSelections)return true;this._nrEditing=0;this._editing=false;var e=this.getActiveMode();"range.discrete"===e&&this.setActiveMode("item");this._shapes=null;C.call(this)},clearSelection:function t(e){e=e||false;this._shapes=null;if(e)this._super();else{this._super();C.call(this)}},selectRange:function t(){var e=this.handler.SelectRange,n=[],i=false;if(!this.activeComponent)return;if("range.discrete"===this.getActiveMode()){var r=this._previousSelectedShapes,o=this.getSelectedShapes().concat();r.forEach(function(t){var e=o.indexOf(t);-1===e&&o.push(t)});o.length>0&&this.handler.Select.emit(o);return}f.x.concat(f.y).forEach(function(t){t.component.getType().current.forEach(function(e){n.push({idx:e,type:t.component.getType().type,range:I(t.startVal,t.updateVal,t.maxIncluded)})})});i=!_.call(this);this._editing||e.emit(n,i)},on:function t(){if(!a){var n=e.getService("$compile");var i=e.getService("$rootScope");h=i.$new();d.className="selections-range-ui";u.append(p);u.hide();n(d)(h);a=true;h.rangeSelectIsVisible=false}h.$broadcast("on")},off:function t(){if(!this.activeComponent)return;h.$broadcast("off");this.setActiveComponent(null);C.call(this)}});s.defaultOptions={toggle:{callback:null}};return s}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(55),n(41),n(98),n(438),n(439)],r=function(t,e,n,i){var r=".rangeselection";function o(t,e,i,r){var o=[];o[e]="y"===i?new n(t[e].x,t[e].y+r):new n(t[e].x+r,t[e].y);o[1^e]=t[1^e];return o}function s(t){t.$emit("rangeStart")}function a(t,e,n,i,r){t.$emit("rangeUpdate",e,n,i,r)}function l(t,e){t.$emit("rangeEnd",e)}function c(t,e,n){return e?t[0][n]>t[1][n]?0:1:t[0][n]<t[1][n]?0:1}function u(e,n,i,u){var d,p,f=i?"x":"y",h;t(n).tap({id:r,options:{preventDefault:true},start:function e(){t.preventGestures(this.gestureHandler)}}).swipe({id:r,options:{radiusThreshold:0},start:function n(){p=c(e.range.points,u,f);d=e.range.points;t.preventGestures(this.gestureHandler);s(e)},update:function t(n,r){e.range.points=o(d,p,f,i?r.swipe.deltaX:r.swipe.deltaY);e.$digest();e.range.near=e.range.far=false;h=c(e.range.points,u,f)^!i?"far":"near";e.range[h]=true;a(e,e.range.points,f,e.$index,false)},end:function t(){l(e,e.range.points);e.range.near=e.range.far=false}})}function d(e,n){if(e.isOn)return;e.isOn=true;var i="hey";t(e.axisCover).tap({id:r,options:{preventDefault:true},start:function e(){t.preventGestures(this.gestureHandler)},end:function t(e,i){n.$emit("rangeToggle",e,i.pagePoints[0])}}).swipe({id:r,options:{preventDefault:true},start:function e(){i=n.range.points;t.preventGestures(this.gestureHandler);s(n);n.range.cover=true},update:function t(r,o){"y"===e.dir?n.range.points=[{x:i[0].x,y:i[0].y+o.swipe.deltaY},{x:i[1].x,y:i[1].y+o.swipe.deltaY}]:n.range.points=[{x:i[0].x+o.swipe.deltaX,y:i[0].y},{x:i[1].x+o.swipe.deltaX,y:i[1].y}];n.$digest();a(n,n.range.points,e.dir,n.$index,true)},end:function t(){l(n,n.range.points);n.range.cover=false}});if(!t.utils.touch){var o="x"===e.dir;u(n,e.farEdge,o,o);u(n,e.nearEdge,o,!o)}}function p(e){t(e.axisCover).off("*",r);t(e.farEdge).off("*",r);t(e.nearEdge).off("*",r);e.isOn=false}e.directive("qvaRangeSelectionRange",function(){return{scope:false,link:function t(e,n,i){var r={isOn:false,dir:i.qvaRangeSelectionRange,axisCover:n.find(".axis-cover")[0],farEdge:n.find(".far-edge")[0],nearEdge:n.find(".near-edge")[0]};d(r,e);e.$on("on",function(){d(r,e)});e.$on("off",function(){p(r)});e.$on("$destroy",function(){p(r)})}}});e.directive("qvaRangeSelection",function(){return{template:i,replace:true,scope:{vOptions:"=",hOptions:"=",vRanges:"=",hRanges:"=",activeComponent:"=",hComponent:"=",vComponent:"=",visible:"="},link:function t(e){e.vRelevantSize=0;e.hRelevantSize=0;e.activeOptions={y:{far:false,near:false,cover:false},x:{far:false,near:false,cover:false}};e.setRangeStyle=function(t,e,n){if(!e||!n)return;e.forEach(function(e){var n=e.points[0],i=e.points[1];e.style="y"===t?{height:Math.abs(n[t]-i[t]),top:Math.min(n[t],i[t])}:{width:Math.abs(n[t]-i[t]),left:Math.min(n[t],i[t])}})};e.$watchCollection("[vRanges, vOptions]",function(t){e.setRangeStyle("y",t[0],t[1])});e.$watchCollection("[hRanges, hOptions]",function(t){e.setRangeStyle("x",t[0],t[1])});e.$watch("hOptions",function(t){t&&e.setRelevantSize("x",t.rect.height)});e.$watch("vOptions",function(t){t&&e.setRelevantSize("y",t.rect.width)});e.setRelevantSize=function(t,n){if("x"===t){e.hRelevantSize={height:n+"px"};e.hWrappperSize={height:"calc(100% - "+n+"px)"}}else{e.vRelevantSize={width:n+"px"};e.vWrappperSize={width:"calc(100% - "+n+"px)"}}}}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qvt-range-selection">\n\t<div class="range-vertical-clip" ng-style="{ top: vOptions.offset, height: vOptions.rect.height }" ng-class="{ clip: vOptions.shouldClip }">\n\t\t<div class="range-vertical"\n\t\t\t ng-repeat="range in vRanges track by $index"\n\t\t\t qva-range-selection-range="y"\n\t\t\t ng-class="{\'near\': vOptions.dock == \'left\', \'far\' : vOptions.dock == \'right\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="vRelevantSize" tid="range-vertical-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\t\t\t<div class="far-edge" tid="range-vertical-far" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-vertical-near" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="vWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-near-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="false" data="range.values.start" active="range.far"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-vertical-far-bubble" visible="visible" active-component="vComponent" handle-points="range.points" range-index="$index" horizontal="false" far="true" data="range.values.end" active="range.near"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="range-horizontal-clip" ng-style="{ left: hOptions.offset, width: hOptions.rect.width }" ng-class="{ clip: hOptions.shouldClip }">\n\t\t<div class="range-horizontal"\n\t\t\t ng-repeat="range in hRanges track by $index"\n\t\t\t qva-range-selection-range="x"\n\t\t\t ng-class="{\'near\': hOptions.dock == \'bottom\', \'far\' : hOptions.dock == \'top\'}"\n\t\t\t ng-style="range.style">\n\t\t\t<div class="range">\n\t\t\t\t<div class="axis-cover" ng-style="hRelevantSize" tid="range-horizontal-cover" ng-class="{\'active\' : range.cover}"></div>\n\t\t\t</div>\n\n\t\t\t<div class="far-edge" tid="range-horizontal-far" ng-class="{\'active\' : range.far}">\n\t\t\t</div>\n\t\t\t<div class="near-edge" tid="range-horizontal-near" ng-class="{\'active\' : range.near}">\n\t\t\t</div>\n\t\t\t<div class="outer-bubble-wrapper" ng-style="hWrappperSize">\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-near-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="false" data="range.values.start" active="range.near"> </qva-range-selection-bubble>\n\t\t\t\t<qva-range-selection-bubble tid="range-horizontal-far-bubble" visible="visible" active-component="hComponent" handle-points="range.points" range-index="$index" horizontal="true" far="true" data="range.values.end" active="range.far"> </qva-range-selection-bubble>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(55),n(41),n(440)],r=function(t,e,n,i){var r=".rangeselection";function o(t){t.$emit("rangeStart")}function s(t,e){t.editing=e;t.$emit("rangeEditChanged",e)}function a(t,e,n,i,r){t.$emit("rangeUpdate",e,n,i,false,r)}function l(t,e){t.$emit("rangeEnd",e)}function c(){t(this).css("width",6*t(this).val().length+50+"px")}n.directive("qvaRangeSelectionBubble",["$timeout",function(t){return{template:i,replace:true,restrict:"E",scope:{data:"=",active:"=",far:"=",horizontal:"=",activeComponent:"=",handlePoints:"=",visible:"=",rangeIndex:"="},link:function n(i,u){var d=u.find(".range-input"),p=u.find(".range-bubble"),f={},h=false;i.$watch("activeComponent",function(){i.editable=i.activeComponent&&!i.activeComponent.isDimension&&!i.activeComponent.isDiscrete()&&"function"===typeof i.activeComponent.getPositionOfValue;if(i.editable){d.removeClass("non-editable");p.removeClass("non-editable")}else{d.addClass("non-editable");p.addClass("non-editable")}});i.endEditing=function(){i.invalid=false;if(i.editing){s(i,false);d.blur()}};i.$watch("data.value",function(t){if(isNaN(t)){i.invalid=true;return}i.editing&&i.endEditing();d.val(t)});i.$watch("visible",function(){i.visible||i.endEditing()});i.$on("off",function(){i.endEditing();e(d[0]).off("*",r);e(p[0]).off("*",r);u.off("keyup"+r,"*");h=false});i.onEditBubble=function(){i.editing=true;d.css("width",p.width());i.$digest();d.focus();d[0].setSelectionRange(0,9999);i.$digest();t(function(){c.call(d)})};function v(){if(h)return;h=true;e(d[0]).tap({id:r,options:{preventDefault:false},start:function t(){e.preventGestures(this.gestureHandler)}});e(p[0]).tap({id:r,start:function t(){e.preventGestures(this.gestureHandler)},end:function t(){if(!i.editable||i.editing)return;s(i,true);i.onEditBubble()}}).swipe({id:r,start:function t(){f=[{x:i.handlePoints[0].x,y:i.handlePoints[0].y},{x:i.handlePoints[1].x,y:i.handlePoints[1].y}];e.preventGestures(this.gestureHandler);o(i)},update:function t(e,n){var r=i.far?1:0,o,s,l,c;if(i.horizontal){o=n.swipe.deltaX;s="x"}else{o=n.swipe.deltaY;s="y"}l=f[1^r][s];c=f[r][s]+o;if(0===r&&(i.horizontal&&c>l||!i.horizontal&&c<l)){r=1;l=f[1][s]}else if(1===r&&(i.horizontal&&c<l||!i.horizontal&&c>l)){r=0;l=f[0][s]}i.handlePoints[r][s]=c;i.handlePoints[1^r][s]=l;i.$digest();a(i,i.handlePoints,s,i.rangeIndex)},end:function t(){l(i,i.handlePoints)}});d.keyup(c);i.onEditConfirmed=function(){if(!i.editing)return;var t=d.val(),e={value:parseFloat(t),index:i.far?1:0,switch:false},n=i.activeComponent.getPositionOfValue(e.value),r,o,s=i.handlePoints;if(isNaN(e.value))i.invalid=true;else{o=i.horizontal?"x":"y";s[e.index][o]=n;if(i.horizontal&&s[1][o]<s[0][o]||!i.horizontal&&s[1][o]>s[0][o]){r=s[1][o];s[1][o]=s[0][o];s[0][o]=r;e.index=e.index?0:1;e.switch=true}i.endEditing();a(i,i.handlePoints,o,i.rangeIndex,e);l(i,i.handlePoints)}i.$digest()};i.$on("confirmEdit",i.onEditConfirmed)}i.$on("on",v);v()}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="bubble-wrapper" ng-class="{\'far\' : far, \'near\' : !far}">\n\t<div ng-show="!editing" qva-direction x-dir-text="{{data.text}}" class="bubble range-bubble" ng-class="{\'active\' : active}">{{data.text}}</div>\n\t<input ng-show="editing" type="text" ng-class="{\'active\' : active, \'invalid\': invalid}" class="bubble range-input"/>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(442)],r=function(t){var e;e=t.extend({setIsEditing:function t(e,n){this._editing=e;this._scope=n},getIsEditing:function t(){return this._editing},confirmEdit:function t(){this._scope.$broadcast("confirmEdit")},selectWhileLocked:function t(e){this.handler.SelectWhileLocked.emit(e)}});e.defaultOptions={captureInput:true,toggle:{callback:null}};return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(147),n(68)],r=function(t,e){var n;function i(t,e){var n,i,r=e[0],o=false;for(n=0;n<t.length;n++){i=t[n];if(i.startVal===r.startVal&&i.updateVal===r.updateVal){t.splice(n,1);n--;o=true}}o||(t=t.concat(e));return t}n=t.extend({init:function t(e,n){this._super(e,n);this.internal=true},release:function t(){},initComponent:function t(e,n){document.activeElement&&document.activeElement.blur();if(n)this.setActiveComponent(n);else{this.handler.refreshContainerRect();this.setActiveComponent(this.getComponent(e.x,e.y,this.handler.containerRect))}},getRect:function t(n){if(!n)return new e(0,0,0,0);return n.hasOwnProperty("innerRect")?n.innerRect:n.rect},setComponent:function t(e,n){this._super(e,n);var i=Array.isArray(n)?n.concat():[n];i.forEach(function(t){t.selections=this;this.handler._isListening&&n.on()},this)},addComponent:function t(e,n){this._super(e,n);n.selections=this;this.handler._isListening&&n.on()},removeComponent:function t(e,n){this._super(e,n);n.selections=null;n.off()},updateFromItems:function t(e,n,i,r){var o=this.handler,s=this;if(!o.canTypeBeActivated(this)){o.SelectWhileLocked.emit(i?this.activeComponent.getAttributeDimensionInfo():void 0);return}this.resetSelectedShapes();this.setActiveMode(i?"item"+this.activeComponent.getColorMap().getColorDataInfo().legendPath.replace(/\//g,"."):"item");o.activate(this);i&&o.SelectAttributeDim.emit(r,o.getKeyAsToggleSelected(e));n=n.filter(function(t){return s._allowNullSelect||!s.shapesFrom._isNull(t,s.activeComponent.getSelectionIndices())});if(n.length){var a=this.options.toggle.callback||this.toggleSelection;a.call(this,n);i||o.Select.emit(this.getSelectedShapes(),o.getKeyAsToggleSelected(e))}},rangeStart:function t(e){var n=this.handler;if(!n.canTypeBeActivated(this)){n.SelectWhileLocked.emit();return}this.setActiveMode("range.measure");n.activate(this);e&&this.resetSelectedShapes()},rangeUpdate:function t(e,n){var r=this.handler;if(!r.canTypeBeActivated(this)){r.SelectWhileLocked.emit();return}var o=this.options.toggle.callback||this.toggleSelection,s=[],a,l=this.ToggleFlag.select;this.clearSelection(true);this._rangeObjects&&n&&(e=i(this._rangeObjects,e));for(a=0;a<e.length;a++){var c=e[a];s=s.concat(this.shapesFromRange(c.startVal,c.updateVal,true,c.isMax))}s.forEach(function(t){t.selectionMode="range.measure"});o.call(this,s,l);this._rangeObjects=e;this._shapes=s},rangeEnd:function t(){this.selectRange();this._shapes=null},toggle:function t(){},cancel:function t(){this._rangeObjects=null;this.activeComponent.cancelSelection()},clearSelection:function t(e){this._super();if(!e){this._rangeObjects=null;this.activeComponent.clearSelection()}},selectRange:function t(){var e=this.handler.SelectRange,n,i,r=[];if(!this._rangeObjects)return;for(n=0;n<this._rangeObjects.length;n++){i=this._rangeObjects[n];r.push({idx:i.idx||0,range:{min:Math.min(i.startVal,i.updateVal),max:Math.max(i.startVal,i.updateVal),maxInclEq:!!i.isMax}})}e.emit(r,true)}});n.defaultOptions={};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(48),n(46),n(444),n(50),n(445)],r=function(t,e,n,i,r,s){function a(t){if("object"===o(t)){t=t.qStringExpression.qExpr;"="!==t[0]&&(t="="+t)}return t}function l(t){if(t&&0===t.indexOf("="))return{qStringExpression:{qExpr:t}};return t}t.directive("qvInlineTitleInput",[function(){return{priority:1,require:"ngModel",link:function e(n,i,r,o){i.unbind("input keydown change compositionend");i.bind("blur",function(){t.$apply(n,function(){o.$setViewValue(i.val());n.doEdit()})});n.$on("$destroy",function(){i.trigger("blur")});i.bind("keydown",function(t){t.stopPropagation();if(27===t.which){i.val(o.$viewValue);i.trigger("blur")}else 13===t.which&&"textarea"!==i[0].nodeName.toLowerCase()&&i.trigger("blur")})}}}]);t.directive("qvInlineTitleEdit",["$timeout",function(t){return{template:s,restrict:"A",scope:{model:"=",propertyPath:"@",layoutPath:"@",emptyTranslation:"@",dirSetting:"@"},priority:1,link:function o(s,c){var u=c.children().first(),d=c.children().eq(1),p=c.children().eq(2);s.editing=false;s.titleProperty="";s.titleValue="";s.addTranslation=n.get(s.emptyTranslation);i(s,"model",function(t){s.displayValue=r.getValue(t,s.layoutPath);s.editing=false});s.doEdit=function(){var t=l(s.titleValue);s.editing&&(e.equals(f,t)?s.editing=false:s.model.getProperties().then(function(e){r.setValue(e,s.propertyPath,t);s.model.setProperties(e);f=t}))};var f;u.add(d).on("qv-activate",function(){s.editing||s.model.getProperties().then(function(e){var n=p.get(0);var i=r.getValue(e,s.propertyPath);var o=a(i);var l=o.length;if(o.indexOf("\n")>-1)return;s.editing=true;s.titleProperty=i;s.titleValue=o;f=s.titleProperty;n.scrollLeft=n.scrollWidth;n.selectionStart=l;n.selectionEnd=l;t(function(){n.focus();n.setSelectionRange(l,l)})})})}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t=null;function e(t,e,n,i){e=e||"model";var r=function i(){var r=this;var o=this.getLayout();t.__layoutRPCId=o.rpcId;o.then(function(i){var o=t.$eval(e);if(o!==r)return;n&&n(i)}).catch(function(){})},o,s,a;function l(){var n=t.$eval(e);n&&n.Invalidated&&n.Invalidated.unbind(o)}a=t.$on("$destroy",function(){l()});s=t.$watch(e,function(t,e){e&&e!==t&&e.Invalidated&&e.Invalidated.unbind(o);if(t&&(!t.isClosing||!t.isClosed)){i&&i(t);t.getLayout().then(n);o=r.bind(t);t.Invalidated.bind(o)}});return function(){l();s();a();n&&(n=null);i&&(i=null)}}function n(){return(t||e).apply(this,arguments)}n.mock=function(e){t=e};return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div ng-show="!editing && displayValue == \'\'" class="qv-inline-edit-button">\n\t<div qva-direction x-dir-setting="{{dirSetting}}" class="add-content" q-title-translation="{{emptyTranslation}}">\n\t\t<span class="lui-icon lui-icon--plus"></span>\n\t\t<span class="add-text" qva-direction x-dir-text="{{addTranslation}}" title="{{addTranslation}}">{{addTranslation}}</span>\n\t</div>\n</div>\n<div qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="!editing && displayValue != \'\'" class="qv-inline-edit-value">{{displayValue}}</div>\n<input qva-direction x-dir-setting="{{dirSetting}}" x-dir-text="{{displayValue}}" ng-show="editing" class="qv-inline-edit-input" type="text" ng-model="titleValue" qv-inline-title-input maxlength="255"/>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(47),n(447),n(45)],r=function(t,e,n,i){return{createProperties:a,convertProperties:l};function r(t){if("string"===typeof t)t={qDef:{qDef:t}};else if(t.qType){t.qDef=t.qDef||{};t.qDef.cId=e.generateId()}return t}function o(t){if("string"===typeof t)t={qDef:{qFieldDefs:[t]}};else if(t.qType){t.qDef=t.qDef||{};t.qDef.cId=e.generateId()}return t}function s(t){if("string"===typeof t)return 0===t.indexOf("=");if(t.qType)return"measure"===t.qType;return!!(t.qDef&&t.qDef.qDef||t.qSortBy||t.qAttributeExpressions)}function a(a,l,c,u){return i.all([n.getExtensionType(l),n.getInitialProperties(l)]).then(function(n){var l=new i;var d=n[0];var p=n[1];d.mapProperties();var f=d.getCreatePropertyHandler.call(d,a);f.setProperties(p);if(c){var h=c.slice(0);if(p.qListObjectDef){h.forEach(function(t,e){if(0===e){p.qListObjectDef.qDef||(p.qListObjectDef.qDef={});p.qListObjectDef.qDef.qFieldDefs=[t]}else{p.qListObjectDef.qExpressions||(p.qListObjectDef.qExpressions=[]);p.qListObjectDef.qExpressions.push({qDef:{qDef:t}})}});l.resolve(p)}else if(p.qHyperCubeDef||p.boxplotDef){var v=function e(n){var i;var a;var c;var u=true;if(n.length<=0)return l.resolve(p);i=n.shift();if(s(i)){a=r(i);c=t.extend(u,{},a);f.addMeasure(c,void 0,void 0,true).then(function(i){t.extend(u,i,a);e(n)})}else{a=o(i);c=t.extend(u,{},a);f.addDimension(c).then(function(i){t.extend(u,i,a);e(n)})}};v(h)}else l.resolve(p)}else l.resolve(p);return l.promise.then(function(t){u&&e.extend(true,t,u);var n=d.exportProperties&&d.importProperties;if(n){var i=d.importProperties(d.exportProperties({qProperty:t},d.options.hyperCubePath),t,d,d.options.hyperCubePath).qProperty;return i}return t})})}function l(t,r,o,s){var a=t.getEffectiveProperties();var l=n.getExtensionType(r);var c=n.getExtensionType(o);var u=n.getInitialProperties(r);return i.all([a,c,l,u]).then(function(t){var n={qProperty:t[0]};s&&e.extend(true,n.qProperty,s);var i=t[1];var o=t[2];var a=t[3];var l="table"===r&&"function"===typeof i.exportTableProperties?i.exportTableProperties:i.exportProperties;var c=o.importProperties(l(n),a,o).qProperty;c.qInfo&&c.qInfo.qId&&delete c.qInfo.qId;return c})}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(76)],r=function(t){return{getChartType:e,getExtensionType:n,getInitialProperties:i};function e(e){return t.getType(e)}function n(t){return e(t).getExtensionType()}function i(t){return e(t).getInitialProperties()}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(211),n(144)],r=function(t,e,n){t.directive("qvaDirection",function(){return{restrict:"A",link:function t(i,r,o){function s(){var t,i=o["dirSetting"]?o["dirSetting"]:n.direction,s=o["dirText"];t=s?e.detectTextDirection(s):i;r.attr("dir",t);"rtl"===t?r.addClass("qv-rtl-text"):r.removeClass("qv-rtl-text");"rtl"===i?r.addClass("qv-rtl-layout"):r.removeClass("qv-rtl-layout")}s();o.$observe("dirText",s);o.$observe("dirSetting",s)}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(71),n(212),n(451)],r=function(t,e,n){var i;function r(){i||(i=t.getService("$navigationService"));return i}function o(){return r().Sheets.all.mashed}function s(){return r().Stories.all.mashed}function a(t){var n=e.model.id;var i=-1;t.forEach(function(t,e){t.qInfo.qId===n&&(i=e)});return i}function l(t,e){var n;e.forEach(function(e){e.qInfo.qId===t&&(n=e)});return n}function c(t,e){var n;e.forEach(function(e){e.qInfo.qId===t&&(n=e)});return n}function u(t){n.goToSheet(t,Object.keys(e.States)[e.state]);return{success:true,sheetId:t}}function d(t){n.goToStory(t,Object.keys(e.States)[e.States.play]);return{success:true,storyId:t}}function p(t,e,n){this.inClient=t;Object.defineProperties(this,{ANALYSIS:{get:function t(){return"analysis"}},EDIT:{get:function t(){return"edit"}},SNAPSHOT:{get:function t(){return"snapshot"}},sheets:{get:function n(){return t?o(this):e||[]}},stories:{get:function e(){return t?s(this):n||[]}}})}p.prototype.gotoSheet=function(t){var e=l(t,this.sheets);if(e)return u(t);return{success:false,error:"NOSUCHSHEET",errorMsg:"No such sheet"}};p.prototype.nextSheet=function(){if((e.view===e.Views.sheet||e.view===e.Views.object)&&e.model){var t=a(this.sheets)+1;var n=this.sheets[t===this.sheets.length?0:t].qInfo.qId;return u(n)}return{success:false,error:"NOCURRENTSHEET",errorMsg:"No current sheet"}};p.prototype.prevSheet=function(){if((e.view===e.Views.sheet||e.view===e.Views.object)&&e.model){var t=a(this.sheets)-1;var n=this.sheets[t<0?this.sheets.length-1:t].qInfo.qId;return u(n)}return{success:false,error:"NOCURRENTSHEET",errorMsg:"No current sheet"}};p.prototype.getCurrentSheetId=function(){if(e.view===e.Views.sheet&&e.model)return{success:true,sheetId:e.model.id};return{success:false,error:"NOCURRENTSHEET",errorMsg:"No current sheet"}};p.prototype.getMode=function(){return Object.keys(e.States)[e.state]};p.prototype.setMode=function(t){if(!this.isModeAllowed(t))return{success:false,error:"MODENOTALLOWED",errorMsg:"Mode not allowed"};e.setState(e.States[t]);return{success:true,mode:t}};p.prototype.isModeAllowed=function(t){switch(t){case this.ANALYSIS:return true;case this.EDIT:return this.inClient&&e.model.layout&&e.model.layout.permissions&&e.model.layout.permissions.update;case this.SNAPSHOT:return this.inClient}return false};p.prototype.gotoStory=function(t){var e=c(t,this.stories);if(e)return d(t);return{success:false,error:"NOSUCHSTORY",errorMsg:"No such story"}};return p}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t="q3TnObj";function e(){var e=JSON.parse(sessionStorage.getItem(t));null===e&&(e=JSON.parse(localStorage.getItem(t))||{});return e}function n(){return e()}function i(n){var i=e();if(!i[n]){i[n]={data:{view:"",scriptTabIndex:0},tab:"",analysis:{sheetId:"",state:""},story:{storyId:"",slideId:"",state:""}};sessionStorage.setItem(t,JSON.stringify(i));localStorage.setItem(t,JSON.stringify(i));return i[n]}return i[n]}function r(n,r,o,s){var a=i(n);var l=e();void 0===o&&(o=l[n].data.scriptTabIndex);s||(a.tab="data");a.data={view:r,scriptTabIndex:o};l[n]=a;localStorage.setItem(t,JSON.stringify(l));sessionStorage.setItem(t,JSON.stringify(l));return l[n]}function o(t){var n=e();if(n[t])return n[t].data;return"not_found"}function s(n,r,o,s){var a=i(o);var l=e();a.tab="analysis";a.analysis={sheetId:n,state:r,overlay:s};l[o]=a;localStorage.setItem(t,JSON.stringify(l));sessionStorage.setItem(t,JSON.stringify(l));return l[o]}function a(t){var n=e();if(n[t])return n[t].analysis;return"not_found"}function l(n,r,o,s){var a=i(s);var l=e();a.tab="story";a.story={slideId:n,storyId:o,state:r};l[s]=a;localStorage.setItem(t,JSON.stringify(l));sessionStorage.setItem(t,JSON.stringify(l));return l[s]}function c(t){var n=e();if(n[t])return n[t].story;return"not_found"}function u(n,r){var o=i(r);var s=e();o.tab=n;s[r]=o;localStorage.setItem(t,JSON.stringify(s));sessionStorage.setItem(t,JSON.stringify(s));return s[r]}function d(t){var n=e();if(n[t])return n[t].tab;return"not_found"}return{isInSession:n,setData:r,data:o,setSheet:s,analysis:a,setStory:l,story:c,setTab:u,tab:d}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(74),n(64),n(212),n(71),n(202),n(452),n(94)],r=function(t,e,n,i,r,o,s,a,l){var c=false;var u=false;var d={userId:void 0,userDirectory:void 0};function p(t){var n=e.getService("qvAppViewService");n.blockScrollIntoView=true;n.activeId=t.qInfo.qId;n.lastActiveId=t.qInfo.qId;n=null}function f(t){c=t}var h={update:function t(){return a.getList().then(function(t){return t.getLayout().then(function(){h.all.mashed=[];if(h.current)for(var t=0;t<Object.keys(h.all).length;t++){var e=h.all[Object.keys(h.all)[t]];for(var i=0;i<e.length;i++)h.all.mashed.push(e[i])}n.publish("/data/story-list-layout-changed")})})},all:{mashed:[],approvedStories:[],publishedStories:[],privateStories:[],communityStories:[]},privateStories:[],current:{},currentIndex:function t(){for(var e=0;e<h.all.mashed.length;e++)if(h.current.id===h.all.mashed[e].qInfo.qId)return e;return 0},hasPrevious:function t(){return h.currentIndex()>0},hasNext:function t(){return h.currentIndex()<h.all.mashed.length-1},getPrevious:function t(){if(h.hasPrevious())return h.all.mashed[h.currentIndex()-1];return null},getNext:function t(){if(h.hasNext())return h.all.mashed[h.currentIndex()+1];return null},getFirst:function t(){return h.all.mashed[h.currentIndex()]},getLast:function t(){return h.all.mashed[h.all.mashed.length-1]},navigate:function e(){if(c)return;var n=h.all.mashed.length-h.all.communityStories.length-1;var i=h.current===h.getFirst()?h.getNext():h.currentIndex()<n?h.getNext():h.currentIndex()===n?h.getPrevious():null;var s=o.view===o.Views.story;if(i){if(s){p(i);a.get(i.qInfo.qId).then(function(t){r.goToStory(t.id,Object.keys(o.States)[o.state])})}}else{var l=t(".qv-pop-appview").scope();l&&l.closeView();l=null;s&&r.goToOverview()}}};var v={update:function t(){return s.getList().then(function(t){return t.getLayout().then(function(){v.all.mashed=[];if(v.current)for(var t=0;t<Object.keys(v.all).length;t++){var e=v.all[Object.keys(v.all)[t]];for(var i=0;i<e.length;i++)v.all.mashed.push(e[i])}n.publish("/data/sheet-list-layout-changed",v.all.mashed)})})},all:{mashed:[],approvedSheets:[],publishedSheets:[],privateSheets:[],communitySheets:[]},privateSheets:[],current:{},getNumberOfSheets:function t(){return v.all.mashed.length},currentIndex:function t(){for(var e=0;e<v.all.mashed.length;e++)if(v.current.id===v.all.mashed[e].qInfo.qId)return e;return 0},hasPrevious:function t(){return v.currentIndex()>0},hasNext:function t(){return v.currentIndex()<v.all.mashed.length-1},getPrevious:function t(){if(v.hasPrevious())return v.all.mashed[v.currentIndex()-1];return null},getNext:function t(){if(v.hasNext())return v.all.mashed[v.currentIndex()+1];return null},getFirst:function t(){return v.all.mashed[0]},getLast:function t(){return v.all.mashed[v.all.mashed.length-1]},getById:function t(e){for(var n=0;n<v.all.mashed.length;n++)if(v.all.mashed[n].qInfo.qId===e)return v.all.mashed[n];return null},navigate:function e(){if(c)return;var n=v.all.mashed.length-v.all.communitySheets.length-1;var i=v.current===v.getFirst()?v.getNext():v.currentIndex()<n?v.getNext():v.currentIndex()===n?v.getPrevious():null;var a=o.view===o.Views.sheet||o.view===o.Views.object||o.view===o.Views.masterObject;if(i){if(a){p(i);s.get(i.qInfo.qId).then(function(t){r.goToSheet(t.id,Object.keys(o.States)[o.state])})}}else{var l=t(".qv-pop-appview").scope();l&&l.closeView();l=null;a&&r.goToOverview()}},navigateToSheet:function t(e){if(e){p(e);s.get(e.qInfo.qId).then(function(t){r.goToSheet(t.id,Object.keys(o.States)[o.state])})}}};function g(){if(u)return Promise.resolve();o.SheetChanged.bind(function(t){v.current=t});o.StoryChanged.bind(function(t){h.current=t});l.onDataReceived.then(function(t){if("NONE"!==t.userDirectory){d.userId=t.userId;d.userDirectory=t.userDirectory}});return i.getApp().then(function(){return Promise.all([v.update(),h.update()]).then(function(){return Promise.all([s.getList(),a.getList()]).then(function(t){var e=t[0];e.Invalidated.bind(v.update);var n=t[1];n.Invalidated.bind(h.update);u=true})})})}var m={isInitialized:function t(){return u},init:g,Sheets:v,Stories:h,suspendNavigation:f};e.service("$navigationService",function(){return m});return m}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45)],r=function(t,e){function n(n){return n?e.resolve(n.enigmaModel):t.getApp()}var i={};i.create=function(t,e){return n(e).then(function(e){return e.createStory(t).then(function(t){return t.createSlide().then(function(){return t})})})};i.remove=function(t,e){return n(e).then(function(e){return e.destroyObject(t)})};i.get=function(t,e){return n(e).then(function(e){return e.getObject(t)})};i.getList=function(t){return n(t).then(function(t){return t.getStoryListObject()})};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(141)],r=function(t){function e(){this._options=null;this._appid=null;this._type=null;this._cols=null;return window.Reflect?window.Reflect.construct(HTMLElement,[],this.constructor):null}e.prototype=Object.create(HTMLElement.prototype);e.prototype.constructor=e;Object.setPrototypeOf(e,HTMLElement);e.prototype.connectedCallback=function(){i(this)};Object.defineProperty(e.prototype,"options",{get:function t(){return this._options},set:function t(e){this.setAttribute("options",e)}});e.observedAttributes=["options","appid","config"];e.prototype.attributeChangedCallback=function(t,e,o){if("options"===t&&this.vis){var s=JSON.parse(o);this.vis.setOptions(s)}else{r(this);"appid"!==t&&"config"!==t||n(this);i(this)}};e.prototype.disconnectedCallback=function(){r(this)};e.init=function(){window.customElements&&window.customElements.define&&customElements.define("qlik-visual",e)};return e;function n(e){var n=e.getAttribute("appid");if(n){var i=JSON.parse(e.getAttribute("config"));e.app=t.openApp(n,i)}else e.app=t.currApp()}function i(t){var e=t.getAttribute("visid"),i=JSON.parse(t.getAttribute("options"));t.app||n(t);if(t.app&&e)t.app.visualization.get(e).then(function(e){t.vis=e;i&&e.setOptions(i);e.show(t)});else if(t.app){var r=JSON.parse(t.getAttribute("cols")),o=t.getAttribute("type")||"barchart";t.app.visualization.create(o,r,i).then(function(e){t.vis=e;e.show(t)})}}function r(t){if(t.vis){t.vis.close();delete t.vis}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){(function(t){(function(t,e,n){"$:nomunge";t.addOutsideEvent=i;function i(i,r){r=r||i+n;var o=[],s=i+"."+r+"-special-event";t.event.special[r]={setup:function(){-1===o.indexOf(this)&&o.push(this);1===o.length&&t(e).bind(s,a)},teardown:function(){var n=o.indexOf(this);-1!==n&&o.splice(n,1);0===o.length&&t(e).unbind(s)},add:function(t){var e=t.handler;t.handler=function(t,n){t.target=n;e.apply(this,arguments)}}};function a(e){var n=o.slice();n.forEach(function(n){var i=t(n);n===e.target||i.has(e.target).length||i.triggerHandler(r,[e.target])})}}})(t,document,"outside")}).call(this,n(44))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={SPARK:1,XSMALL:3,SMALL:7,MEDIUM:15,FULL:31},e=[[550,450,t.FULL],[400,220,t.MEDIUM],[300,150,t.SMALL],[150,75,t.XSMALL],[0,0,t.SPARK]],n=[[450,t.FULL],[220,t.MEDIUM],[150,t.SMALL],[75,t.XSMALL],[0,t.SPARK]],i=[[550,t.FULL],[400,t.MEDIUM],[300,t.SMALL],[150,t.XSMALL],[0,t.SPARK]],r=e.length;function o(n,i){var o;for(o=0;o<r;++o)if(n>=e[o][0]&&i>=e[o][1])return e[o][2];return t.SPARK}function s(e){var i;for(i=0;i<r;++i)if(e>=n[i][0])return n[i][1];return t.SPARK}function a(e){var n;for(n=0;n<r;++n)if(e>=i[n][0])return i[n][1];return t.SPARK}function l(e){var n=Object.keys(t).filter(function(n){return t[n]===e})[0];return n&&n.toLowerCase()||""}return{LayoutMode:t,getLayoutMode:o,getLayoutModeKey:l,getHorizontalLayoutMode:a,getVerticalLayoutMode:s}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qv-object-wrapper" ng-class="wrapperClassList" x-ms-format-detection="none">\n\n\t<article class="qv-object qvt-visualization" ng-class="classList" tid="{{objectClass}}">\n\t\t<div class="qv-inner-object" ng-style="styles.backgroundColor">\n\t\t\t<qv-rain ng-if="object.throbberApi.isVisible" show="object.throbberApi.isVisible" resize="object.throbberApi.watchResize" model="object.model"></qv-rain>\n\t\t\t<div class="retry-overlay" ng-if="object.throbberApi.isQueryCanceled">\n\t\t\t\t<ul class="cancelled-list">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class="retry-text" q-translation="Object.Cancelled"></div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button class="retry-button lui-button" qva-activate="retry()" q-translation="Dialog.Button.Retry" tid="retry-calculations"></button>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="cancel-overlay" ng-if="object.throbberApi.isLongRunningQuery && !object.throbberApi.isQueryCanceled">\n\t\t\t\t<button class="cancel-button lui-button" ng-if="!object.throbberApi.isQueryCanceled" qva-activate="cancel()"\n\t\t\t\t\t\tq-translation="Common.Cancel" tid="cancel-calculations"></button>\n\t\t\t</div>\n\n\t\t\t<label class="hidden-screen-reader-label" q-translation="{{object.type.libraryInfo.isThirdParty ? object.type.libraryInfo.name : object.type.libraryInfo.translationKey}}"></label>\n\t\t\t<label ng-if="!layout.title" class="hidden-screen-reader-label" q-translation="Accessibility.Object.NoTitle"></label>\n\t\t\t<header qva-direction x-dir-setting="{{options.direction}}" ng-show="object.hasFrame" class="qv-object-header" ng-class="{\'thin\' : !object.showTitles || ( layout.title === \'\' && layout.subtitle === \'\' && !object._inEditState )}">\n\t\t\t\t<h1 ng-show="object.showTitles" qva-direction x-dir-setting="{{options.direction}}" ng-attr-title="{{layout.title}}" class="qv-object-title qvt-visualization-title" qva-activate="titleClicked();" ng-style="styles.title">\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && !object.backendApi.isLocked() && !object._inEditState" q-title-translation="Common.Search" class="qv-object-search lui-icon lui-icon--search"\n\t\t\t\t\t   qva-activate="options.showSearch && options.search.toggle()"></a>\n\t\t\t\t\t<a ng-if="options.showSearch && object.isInteractive && object.backendApi.isLocked()" class="qv-object-locked lui-icon lui-icon--lock"\n\t\t\t\t\t   qva-activate="titleClicked()"></a>\n\t\t\t\t\t<span ng-if="options.showSearch && object.backendApi.isDrillDown()" class="lui-icon lui-icon--select-alternative" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<div ng-if="options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" qve-highlight text="{{layout.title}}" query="options.highlightQuery" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}"></div>\n\t\t\t\t\t<div ng-if="!options.highlightTitle && (!object._inEditState || object._inEditState && object.isReadonly)" class="qv-object-title-text" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.title}}">{{layout.title}}</div>\n\t\t\t\t\t<div ng-if="options.showDisclaimerStar && !!layout.title && !object._inEditState" class="disclaimer qv-object-title-text">*</div>\n\t\t\t\t\t<div ng-if="object._inEditState && !object.isReadonly" qv-inline-title-edit x-dir-setting="{{options.direction}}" x-model="model" x-property-path="title" x-layout-path="title"\n\t\t\t\t\t\t x-empty-translation="Object.AddTitle" class="qv-object-title-edit" qva-direction x-dir-setting="{{options.direction}}"></div>\n\t\t\t\t</h1>\n\n\t\t\t\t<h2 ng-if="!!layout.subtitle && object.showTitles" ng-style="styles.subTitle" qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.subtitle}}" ng-attr-title="{{layout.subtitle}}" ng-show="!!layout.subtitle" class="qv-object-subtitle qvt-visualization-subtitle">{{layout.subtitle}}</h2>\n\t\t\t</header>\n\n\t\t\t<div class="qv-object-content-container">\n\t\t\t\t<div class="qv-object-content" qv-object-content component="object.content" options="options" object="object" backend-api="object.backendApi" layout="layout"\n\t\t\t\t\t ext="object.ext" selections-api="object.selectionsApi" tooltip-api="object.tooltipApi" throbber-api="object.throbberApi" on-init="onInit">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="qv-footer-wrapper" ng-show="object.hasFrame && object.showTitles && !!layout.footnote" ng-style="styles.footer">\n\t\t\t<footer qva-direction x-dir-setting="{{options.direction}}" x-dir-text="{{layout.footnote}}" ng-attr-title="{{layout.footnote}}" ng-if="object.hasFrame && object.showTitles && !!layout.footnote" class="qv-object-footnote qvt-visualization-footnote">{{layout.footnote}}</footer>\n\t\t</div>\n\n\t</article>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(458),n(71),n(45),n(113),n(58),n(148),n(149),n(150),n(466),n(75)],r=function(t,e,n,i,r,o,s,a,l,c,u){var d=null;var p=r.extend({$scope:null,init:function e(i,r){this.$scope=i;this.$scope.hyperCubePath=i.object.ext.options.hyperCubePath;this.titleRetriever=l.create();function p(){n.model?i.showAdd=c.updateShowAdd(u.inClient(),n.isInEditMode(),i.object.isReadonly):i.showAdd=false}n.StateChanged.bind(p);i.$on("$destroy",function(){n.StateChanged.unbind(p)});p();i.removeDimension=function(t){i.object.model.getProperties().then(function(e){var n=i.object.getCreatePropertyHandler();n.setProperties(e);n.removeDimension(t).then(function(){i.object.model.setProperties(e)})})};i.removeMeasure=function(t){i.object.model.getProperties().then(function(e){var n=i.object.getCreatePropertyHandler();n.setProperties(e);n.removeMeasure(t).then(function(){i.object.model.setProperties(e)})})};function f(t){return i.object.ext.addFieldDimension(t,i.object).then(function(){b()})}function h(t){return i.object.ext.addLibraryDimension(t,i.object).then(function(){b()})}function v(t){return i.object.ext.addLibraryMeasure(t,i.object).then(function(){b()})}function g(t){return i.object.ext.addExpressionMeasure(t,i.object).then(function(){b()})}var m;i.showAddDimension=function(e,n){if(d&&d===n){m&&m.close();m=null;d=null;return}var o=i.ext.addDimensionPopoverComponent||s;var a;m=r.show({template:o.template,controller:o.controller,input:{app:i.object.model.app,closeAddPopover:b,addFieldDimension:f,addLibraryDimension:h},alignTo:e.target,closeOnEscape:true,outsideIgnore:".add-button",dock:"right"});m.closing.then(function(e){a=e;e&&!t(e.target).hasClass("add-button")&&(d=null)});m.closed.then(function(){m=null;n.active=false;a||(d=null)});n.active=true;d=n};i.showAddMeasure=function(e,n){if(d&&d===n){m&&m.close();m=null;d=null;return}var o=i.ext.addMeasurePopoverComponent||a;var s;m=r.show({template:o.template,controller:o.controller,input:{app:i.object.model.app,closeAddPopover:b,addLibraryMeasure:v,addExpressionMeasure:g},alignTo:e.target,closeOnEscape:true,dock:"right",outsideIgnore:'[tid="add-measure"]'});m.closing.then(function(e){s=e;e&&!t(e.target).hasClass("add-button")&&(d=null)});m.closed.then(function(){m=null;n.active=false;s||(d=null)});n.active=true;d=n};function b(e){if(m){m.close();m=null}d&&(d.active=false);e&&!t(e.target).hasClass("add-button")&&(d=null)}o.on("start",b);i.$on("$destroy",function(){o.off("start",b);b()})},onPaint:f});p.$inject=["$scope","luiPopover"];return{template:e,controller:p};function f(t){var e=this.$scope;var r=this;return this.$scope.object.model.getEffectiveProperties().then(function(o){var s;var a=r.titleRetriever;e.showAdd=c.updateShowAdd(u.inClient(),n.isInEditMode(),e.object.isReadonly);c.updateMinMax(e,t);e.iconName=e.object.ext.libraryInfo.icon;if(e.type!==e.object.type.type){s=r.propertyHandler=e.object.getCreatePropertyHandler();e.canRemoveDim=!!s.removeDimension;e.type=e.object.type.type;e.addDimensionLabel=s.getAddDimensionLabel()}else s=r.propertyHandler;s.setLayout(t);s.setProperties(o);a.resetTitles();var l=s.getDimensions().map(function(t){var e=t.qDef.cId;var n=s.getDimensionLayout(e);var i=i=n.qError&&n.qError.qErrorCode;return{invalid:!!i,title:a.getDimensionTitle(n,t,true)}});return i.all(s.getMeasures().map(function(t,e){var n=t.qDef.cId;var i=s.getMeasureLayout(n);i||(i=s.getMeasureLayouts()[e]);var r=i.qError&&i.qError.qErrorCode;return a.getMeasureTitle(i,t,true,s.app).then(function(t){return{invalid:!!r,title:t}})})).then(function(t){e.finishedDimensions=l;e.finishedMeasures=t;e.unfinishedDimensions=c.getArray(Math.max(0,e.minDimensions-e.finishedDimensions.length));e.unfinishedMeasures=c.getArray(Math.max(0,e.minMeasures-e.finishedMeasures.length));e.show=true})})}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div qv-requirements class="requirements-wrapper" ng-show="show" ng-class="{\'incomplete\': !showAdd}">\n\t<div class="requirements">\n\t\t<h2 class="header">\n\t\t\t<i class="object-icon  lui-icon  lui-icon--{{iconName}}"></i>\n\t\t</h2>\n\t<p class="incomplete-text" ng-if="!showAdd" q-translation="Visualization.Requirements.IncompleteVisualization"></p>\n\t\t\x3c!-- finished dimensions --\x3e\n\t<ul ng-if="showAdd && finishedDimensions.length">\n\t\t<li ng-repeat="dimension in finishedDimensions" class="item" ng-class="{ finished: !dimension.invalid, invalid: dimension.invalid }"\n\t\t\ttid="{{ dimension.invalid ? \'invalid-dimension\' : \'added-dimension\'}}">\n\t\t\t<span class="text" ng-class="{ \'no-icon\': !canRemoveDim }" title="{{dimension.title}}">{{dimension.title}}</span>\n\t\t\t<i ng-if="canRemoveDim" class="lui-icon lui-icon--remove" qva-activate="removeDimension($index)" q-title-translation="Common.Delete"></i>\n\t\t\t</li>\n\t\t</ul>\n\t\t\x3c!-- unfinished dimensions --\x3e\n\t<ul ng-if="showAdd && unfinishedDimensions.length">\n\t\t<li ng-repeat="d in unfinishedDimensions" class="item missing" tid="missing-dimension">\n\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': d.active }" ng-click="showAddDimension($event,d)"\n\t\t\t\t\t tid="add-dimension">{{addDimensionLabel}}</button>\n\t\t\t</li>\n\t\t</ul>\n\t\t\x3c!-- finished measures --\x3e\n\t<ul ng-if="showAdd && finishedMeasures.length">\n\t\t<li ng-repeat="measure in finishedMeasures" class="item" ng-class="{ finished: !measure.invalid, invalid: measure.invalid }"\n\t\t\ttid="{{ measure.invalid ? \'invalid-measure\' : \'added-measure\'}}">\n\t\t\t<span class="text" title="{{measure.title}}">{{measure.title}}</span>\n\t\t\t<i class="lui-icon lui-icon--remove" qva-activate="removeMeasure($index)" q-title-translation="Common.Delete"></i>\n\t\t\t</li>\n\t\t</ul>\n\t\t\x3c!-- unfinished measures --\x3e\n\t<ul ng-if="showAdd && unfinishedMeasures.length">\n\t\t<li ng-repeat="m in unfinishedMeasures" class="item missing" tid="missing-measure">\n\t\t\t<button class="add-button lui-button"  ng-class="{ \'lui-active\': m.active }" ng-click="showAddMeasure($event,m)"\n\t\t\t\t\tq-translation="Visualization.Requirements.AddMeasure" tid="add-measure"></button>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n'},function(t,e){t.exports='<lui-popover style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<object-add-typeahead>\n\t\t<lui-popover-header>\n\t\t\t<div class="lui-input-group">\n\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-dimension" autocomplete="off" ng-model="search.term" tid="add-dimension-input" qva-focus="autoFocus"\n\t\t\t\t\t   object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)" maxlength="255"/>\n\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addFieldDimension({value:value})" expression-type="dimension"\n\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</lui-popover-header>\n\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in activeDimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addActiveDimension(dimension)">\n\t\t\t\t\t<span qve-highlight text="{{dimension.translatedTitle}}" title="{{dimension.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="dimensions.length" q-translation="Common.Dimensions"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="dimension in dimensions" tid="dimension-item"\n\t\t\t\t\tobject-add-typeahead-item="dimension" on-select="addLibraryDimension(dimension)">\n\t\t\t\t\t<span ng-if="dimension.isDrillDown" class="lui-icon lui-icon--select-alternative lui-list__aside" q-title-translation="Tooltip.dimensions.drilldown"></span>\n\t\t\t\t\t<span qve-highlight text="{{dimension.label}}" title="{{dimension.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Common.Fields"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\tobject-add-typeahead-item="field" on-select="addFieldDimension(field)"\n\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}">\n\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-list__aside  lui-icon--calendar"></span>\n\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-list__aside  lui-icon--map"></span>\n\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="object-add-popover-nohits" ng-if="!dimensions.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t</div>\n\t</object-add-typeahead>\n</lui-popover>\n'},function(t,e){t.exports="<div ng-transclude></div>"},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){this.container=t.container;this.body=t.body;this.alignAgainst=t.alignAgainst}t.prototype.showTranscluded=function(t){t(function(t){this.container.appendTo(this.body).append(t)}.bind(this))};t.prototype.showContent=function(t){this.container.appendTo(this.body).append(t)};t.prototype.update=function(){var t=this.alignAgainst.offset();this.container.css({top:t.top,left:t.left,width:this.alignAgainst.width(),height:this.alignAgainst.height(),zIndex:1021})};t.prototype.hide=function(){this.container.remove()};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-popover class="add-popover-wrapper" style="min-width: 200px;width: 230px;" align-to="alignTo" position="position" collision="\'flipfit\'" on-close-view="closeAddPopover(event)" qva-outside-ignore-for="{{qvaOutsideIgnoreFor}}">\n\t<div ng-show="!step2">\n\t\t<object-add-typeahead>\n\t\t\t<lui-popover-header>\n\t\t\t\t\t<div class="lui-input-group">\n\t\t\t\t\t\t<input class="lui-input  lui-input-group__item  lui-input-group__input" type="text" name="new-measure" autocomplete="off" ng-model="search.term" tid="add-measure-input" qva-focus="autoFocus"\n\t\t\t\t\t\t\t   maxlength="255" object-add-typeahead-input on-escape="onEscape($event)" on-enter="onEnter($event)"/>\n\n\t\t\t\t\t\t<button ng-if="allowExpressionEditor !== false" class="lui-button  lui-input-group__item  lui-input-group__button" qva-activate="close()"\n\t\t\t\t\t\t\t\tpp-expression-editor="search.term" pp-expression-editor-on-apply="addExpressionMeasure({value:value})" expression-type="measure"\n\t\t\t\t\t\t\t\tq-title-translation="Tooltip.OpenExpressionEditor" tid="fx-button">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--expression  edit-expression"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t</lui-popover-header>\n\t\t\t<div class="object-add-popover-content" object-add-typeahead-menu>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in activeMeasures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addActiveMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.translatedTitle}}" title="{{measure.translatedTitle}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="measures.length"  q-translation="Common.Measures"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="measure in measures" tid="measure-item"\n\t\t\t\t\t\tobject-add-typeahead-item="measure" on-select="addLibraryMeasure(measure)">\n\t\t\t\t\t\t<span qve-highlight text="{{measure.value}}" title="{{measure.value}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-list-header" ng-if="fields.length" q-translation="Visualization.Requirements.FromField"></div>\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="field in fields" tid="field-item"\n\t\t\t\t\t\tobject-add-typeahead-item="field" on-select="showFromField(field)"\n\t\t\t\t\t\tng-class="{\'derived-field\': (field.isDerived && search.term === \'\')}"\t>\n\t\t\t\t\t\t<i ng-if="isDirectDiscoveryField( field )" class="lui-icon  lui-icon--direct-discovery  lui-list__aside" q-title-translation="{{ getDirectDiscoveryTypeTranslationKey( field.qTags ) }}"></i>\n\t\t\t\t\t\t<span ng-if="field.isGeoField" class="lui-icon lui-icon--map lui-list__aside"></span>\n\t\t\t\t\t\t<span ng-if="field.isDateField" class="lui-icon lui-icon--calendar lui-list__aside"></span>\n\t\t\t\t\t\t<span qve-highlight text="{{getFieldDisplayName(field)}}" title="{{field.toolTip}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n\t\t\t\t\t\t<i class="object-add-popover-toogle-step2-icon  lui-list__aside lui-icon  lui-icon--triangle-right"></i>\n\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="object-add-popover-nohits" ng-if="!measures.length && !fields.length" q-translation="Toolbox.Search.Nohits"></div>\n\t\t\t</div>\n\t\t</object-add-typeahead>\n\t</div>\n\t<div class="object-add-popover back" ng-show="step2">\n\t\t<div class="object-add-popover-header">\n\t\t\t<div qva-activate="goBack($event);">\n\t\t\t\t<i class="object-add-popover-back-icon  lui-icon  lui-icon--triangle-left"></i>\n\t\t\t\t<span q-translation="Visualization.Requirements.Back"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="object-add-popover-content">\n\t\t\t<div class="object-add-popover-list-header" q-translation="Visualization.Requirements.Aggregation"></div>\n\t\t\t<ul class="lui-list">\n\t\t\t\t<li class="lui-list__item lui-list__action" ng-repeat="suggestion in fieldSuggestions" qva-activate="addFromField(suggestion)" tid="from-field-item">\n\t\t\t\t\t<span class="lui-list__text lui-list__text--ellipsis" title="{{suggestion.aggregation}}({{suggestion.field}})">{{suggestion.aggregation}}({{suggestion.field}})</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</lui-popover>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(115),n(143),n(219)],r=function(t,e,n,i){function r(){this.measureTitles={}}r.prototype.getDimensionTitle=o;r.prototype.getMeasureTitle=s;r.prototype.resetTitles=a;return r;function o(t,i,r){if(!t)return"";if(t.qError&&!e.isCalcCondNotCalculatedErr(t.qError))return n.getDimensionError(t.qError.qErrorCode);var o=i.qLibraryId,s="H"===t.qGrouping;return s||o&&r?t.title||"":!o&&r?i.qDef.qLabelExpression||t.qFallbackTitle||"":t.qFallbackTitle||""}function s(t,e,n,i){var r=l(t,this.measureTitles);if(r)return r.promise;r=c(t,this.measureTitles);r.promise=u(t,e,n,i);return r.promise}function a(){this.measureTitles={}}function l(t,e){var n=d(t);return e[n]}function c(t,e){var n=d(t);var i={id:n,promise:null};e[n]=i;return i}function u(e,r,o,s){if(!e)return t.when("");var a=r.qLibraryId;if(e.qError)return t.when(n.getMeasureError(e.qError.qErrorCode));if(a&&o){if(!s)throw new Error("TitleRetriever: Argument 'app' is required");return i.get(a,s).then(function(t){return t.getProperties()}).then(function(t){return t.qMeasure.qLabel||""})}return!a&&o?t.when(r.qDef.qLabelExpression||e.qFallbackTitle||""):t.when(e.qFallbackTitle||"")}function d(t){return t&&t.cId}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-popover style="width: 200px" on-close-view="onClose(event)">\n\t<div class="object-error-popup">\n\t\t\x3c!--<div class="object-error-title" q-translation="{{error.title}}"></div>--\x3e\n\t\t<div class="object-error-message">{{error.message}}</div>\n\t</div>\n</lui-popover>'},function(t,e){t.exports='<div qv-errorhandler class="object-error" ng-class="error.class" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more icon-info" qva-activate="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(186)],r=function(t){function e(t,e,n){return t?e&&!n:!n}function n(t){var e=new Array(t),n;for(n=0;n<t;++n)e[n]={index:n};return e}function i(e,n){if(e.layers&&e.layers[0]){var i=e.layers[0],r=i.qHyperCube.qDimensionInfo;return"point"===i.type?r[1].qError&&r[1].qError.qErrorCode?[r[1]]:[r[0]]:e.layers[0].qHyperCube.qDimensionInfo||[]}var o=t.getHyperCube(e,n);if(o)return o.qDimensionInfo||[];if(e.qChildList){var s=e.qChildList.qItems||[];return s.map(function(){return{}})}return e.qListObject&&e.qListObject.qDimensionInfo?[e.qListObject.qDimensionInfo]:[]}function r(e,n){var i=t.getHyperCube(e,n);return i&&i.qMeasureInfo||[]}function o(t,e){var n=t.ext.dimensionDefinition?t.ext.dimensionDefinition.min:0,o=t.ext.dimensionDefinition?t.ext.dimensionDefinition.max:0,s=t.ext.measureDefinition?t.ext.measureDefinition.min:0,a=t.ext.measureDefinition?t.ext.measureDefinition.max:0;var l=i(e,t.hyperCubePath),c=r(e,t.hyperCubePath);t.minDimensions="function"===typeof n?n.call(null,c.length):n;t.minMeasures="function"===typeof s?s.call(null,l.length):s;t.maxDimensions="function"===typeof o?o.call(null,c.length):o;t.maxMeasures="function"===typeof a?a.call(null,l.length):a;t.minDimensions!==t.maxDimensions||t.minMeasures!==t.maxMeasures?t.headerStr="Visualization.Requirements.AddAtLeast":t.headerStr="Visualization.Requirements.Add"}return{updateShowAdd:e,getArray:n,getDimensionInfo:i,getMeasureInfo:r,updateMinMax:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(139),n(47)],r=function(t){var e=t.extend({getDimensions:function t(){return[]},getMeasures:function t(){return[]}});return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="object-error hard-error" tid="object.Error">\n\t<div class="object-error-content">\n\t\t<div class="object-error-title">\n\t\t\t<span>{{error.title}}</span>\n\t\t\t<i class="object-error-more icon-info" qva-activate="showMore($event)"></i>\n\t\t</div>\n\t\t<div ng-if="error.message" class="object-error-message">{{error.message}}</div>\n\t\t<button ng-if="showButton" class="lui-button object-error-remove" qva-activate="remove($event)" q-translation="Common.Delete"></button>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(74)],r=function(t){function e(e){e=e||{};t.publish("/ui/object/resize",e)}["/resize/end","/ui/panel/toggle","/ui/grid/cellswap","/ui/grid/cellresize","/ui/grid/cellsplitting","/ui/grid/zoom/activated","/ui/grid/zoom/deactivated"].forEach(function(n){t.subscribe(n,e)})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(471)],r=function(t,e){t.directive("qvThrobber",["$timeout",function(t){return{replace:true,template:e,restrict:"E",scope:{model:"=",progress:"=",delay:"=",disabled:"="},link:function e(n){var i;n.$watch("model.isValidating",function(e){if(true===n.disabled){n.progress=false;return}if(n.model&&void 0===n.model.state)n.progress=true;else if(e){i&&t.cancel(i);i=t(function(){n.model&&n.model.isValidating&&(n.progress=true)},n.delay||1e3)}else n.progress=false})}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div ng-show="progress" class="qv-animate progress ng-hide">\n\t<div class="progress-loader" style="width:20%;height:20%;position:absolute;top:40%;left:40%"></div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(473),n(474),n(46),n(63),n(475)],r=function(t,e,n,i,r,o,s){t.directive("qvRain",[function(){return{replace:true,template:i,restrict:"E",scope:{show:"=",model:"=",resize:"=?",messageObj:"=?"},link:function t(i,a){var l;i.objectSRloading=r.get("Accessibility.object.Loading");i.rainStyle={};i.isLoadingCardImageFlag=o.getFlag("LOADING_CARD_IMAGES");i.animation=null;function c(){var t=a[0].getBoundingClientRect(),e=Math.min(t.width,t.height);e*=.3;i.rainStyle.height=e+"px";i.rainStyle.width=e+"px";i.rainStyle.top=(t.height-e)/2;i.rainStyle.left=(t.width-e)/2}function u(t){var r={container:a.find(".rain-image-container")[0],renderer:"svg",loop:true,autoplay:true};n().then(function(n){e.getJSON(t,function(t){r.animationData=t;i.animation=n.loadAnimation(r);i.animation.play()})})}function d(){if(i.animation){i.animation.stop();i.animation.destroy();i.animation=null}}i.$watch("show",function(t){if(void 0===t)return;t&&c()});i.$watch("model",function(t){if(i.isLoadingCardImageFlag){var e=t?t.genericType:"";t&&t.layout&&t.layout.qUndoExclude&&t.layout.qUndoExclude.generated&&(e=t.layout.qUndoExclude.generated.visualization);u(s.getLoadingImageAnimationUrlFromChartType(e))}});i.resize&&(l=i.resize(c));c();i.$on("$destroy",function(){l&&l();i.isLoadingCardImageFlag&&d()})}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=function t(){return n.e(5).then(n.t.bind(null,697,7)).then(function(t){return t})};e.default=i;t.exports=e.default},function(t,e){t.exports='<div class="rain progress" ng-class="{\'qv-fade-out\': fadeOut}">\n\t<div class="rain-image-container" ng-if="isLoadingCardImageFlag"></div>\n\n\t<div ng-if="!isLoadingCardImageFlag" class="rain-progress" ng-style="rainStyle" aria-label="{{objectSRloading}}">\n\t\t<div class="progress-div rotating" ng-class="ngClasses">\n\t</div>\n\n\t<div class="qv-loader-text" ng-if="messageObj" ng-class="ngClasses">\n\t\t<div ng-show="messageObj.task" q-translation="{{messageObj.task}}"></div>\n\t\t<div ng-show="messageObj.message" q-translation="{{messageObj.message}}"></div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){var t={barchart:{static:"faded_bar.svg",animation:"sweep_bar.json"},boxplot:{static:"faded_box_plot.svg",animation:"sweep_box_plot.json"},combochart:{static:"faded_combo.svg",animation:"sweep_combo.json"},default:{static:"faded_default.svg",animation:"sweep_default.json"},distributionplot:{static:"faded_distribution.svg",animation:"sweep_distribution.json"},filterpane:{static:"faded_filter_pane.svg",animation:"sweep_filter_pane.json"},gauge:{static:"faded_gauge.svg",animation:"sweep_gauge.json"},histogram:{static:"faded_histogram.svg",animation:"sweep_histogram.json"},kpi:{static:"faded_kpi.svg",animation:"sweep_kpi.json"},linechart:{static:"faded_line.svg",animation:"sweep_line.json"},map:{static:"faded_map.svg",animation:"sweep_map.json"},piechart:{static:"faded_pie.svg",animation:"sweep_pie.json"},"pivot-table":{static:"faded_pivot_table.svg",animation:"sweep_pivot_table.json"},scatterplot:{static:"faded_scatter.svg",animation:"sweep_scatter.json"},table:{static:"faded_table.svg",animation:"sweep_table.json"},"text-image":{static:"faded_text_image.svg",animation:"sweep_text_image.json"},treemap:{static:"faded_tree_map.svg",animation:"sweep_tree_map.json"},waterfallchart:{static:"faded_waterfall.svg",animation:"sweep_waterfall.json"}};function e(e){var i=t[e]?t[e].static:t["default"].static;return n.p+"assets/images/charts/"+i}function i(e){var i=t[e]?t[e].animation:t["default"].animation;return n.p+"assets/images/charts/animations/"+i}return{getImageNameFromChartType:e,getLoadingImageAnimationUrlFromChartType:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(477),n(478)],r=function(t,e){t.directive("qvaNavMenu",[function(){return{template:e,replace:true,scope:{menu:"=",options:"="}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div qva-direction x-dir-setting="{{options.direction}}" class="qv-object-nav" aria-hidden="true" ng-style="styles.backgroundColor" ng-class="{\'zero-top\' : options.isZoomed, \'visible\' : menu.visible, \'active\': options.isActive, \'inline\' : options.thinHeader}">\n  <qva-nav-menu-item ng-repeat="menuItem in menu.items | orderBy:\'+\':true" model="menuItem"></qva-nav-menu-item>\t\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(479)],r=function(t,e){t.directive("qvaNavMenuItem",[function(){return{template:e,replace:true,scope:{model:"="},link:function t(e,n){e.model.mounted&&e.model.mounted(n)}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<a\n  ng-show="model.isVisible()"\n  ng-class="[model.cssClasses, model.dynamicCssClasses()]"\n  qva-activate="model.action($event)"\n  q-title-translation="{{model.translation}}"\n  tid="{{model.tid}}">\n</a>'},function(t,e,n){"use strict";"undefined"===typeof Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{enumerable:false,get:function t(){var e=this.toString().match(/^function( (.*?))?\(/);return e&&e.length>=3?e[2]:"anonymous function"}});Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function t(){},r=function r(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};i.prototype=this.prototype;r.prototype=new i;return r});Array.prototype.contains||Object.defineProperty(Array.prototype,"contains",{enumerable:false,value:function t(e){return-1!==this.indexOf(e)}});"scrollX"in window.constructor.prototype||Object.defineProperties(window.constructor.prototype,{scrollX:{get:function t(){return this.pageXOffset}},scrollY:{get:function t(){return this.pageYOffset}}})},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(45),n(92),n(76)],r=function(t,e,n){function i(t,e){var n=t.filter(function(t){return e===t.id});return 1===n.length?n[0]:null}function r(r){var o=new t;e.load().then(function(){var e=[];function a(t){return e.filter(function(e){return t===e.id}).length>0}r.getList("masterobject",function(t){t.qAppObjectList.qItems.forEach(function(t){var i=t;i.type=t.qData.visualization;i.id=t.qInfo.qId;i.title=t.qMeta&&t.qMeta.title?t.qMeta.title:"[no title]";i.tags=t.qData.tags;i.appid=r.id;var o=n.getLibraryInfo(t.qData.visualization);i.icon=o?o.icon:"toolbar-help";a(i.id)||e.unshift(i)})});r.getList("sheet",function(n){var l=n.qAppObjectList.qItems.sort(function(t,e){return t.qData.rank-e.qData.rank});var c={};l.forEach(function(t){if(i(e,t.qInfo.qId))return;c[t.qInfo.qId]=s(r,t,e)});t.all(c).then(function(){var t=arguments;l.forEach(function(n){if(!a(n.qInfo.qId)){e.push({id:n.qInfo.qId,title:n.qData.labelExpression||n.qData.title,type:"sheet"});if(t[0][n.qInfo.qId]){var i=t[0][n.qInfo.qId].filter(function(t){return!a(t.id)});e=e.concat(i)}}});o.resolve(e)})})});return o.promise}function s(e,n,i){var r=new t;var o=n.qData.cells.map(function(t){return a(e,t,i)});t.all(o).then(function(t){r.resolve(t)});return r.promise}function a(e,r,s){var a=r;var l=new t;a.id=r.name;a.appid=e.id;e.getObjectProperties(a.id).then(function(t){var r=t.properties;var c=n.getLibraryInfo(r.qInfo.qType);a.icon=c&&c.icon?c.icon:"help";if(r.title&&r.title.trim&&r.title.trim().length>0){a.title=r.title;l.resolve(a)}else if("object"===o(r.title))e.getObject(a.id).then(function(t){a.title=t.layout.title;l.resolve(a)}).catch(function(t){console.error(t);l.resolve(a)});else if(r.content&&"object"===o(r.content))e.getObject(a.id).then(function(){l.resolve(a)}).catch(function(t){console.error(t);l.resolve(a)});else if(r.qExtendsId){var u=i(s,r.qExtendsId);a.title=u?u.title:"[no title]";l.resolve(a)}else{a.title="[no title]";l.resolve(a)}}).catch(function(t){console.error(t);a.invalid=true;l.resolve(a)});return l.promise}function l(i){var r=new t;e.load().then(function(){var t=[];i.getList("SnapshotList",function(e){e.qBookmarkList.qItems.forEach(function(e){var r={};r.id=e.qInfo.qId;r.title=e.qData.libraryTitle||e.qData.title;r.timestamp=e.qData.timestamp;r.appid=i.id;var o=n.getLibraryInfo(e.qData.visualizationType);o&&(r.icon=o.icon);t.push(r)});r.resolve(t)})});return r.promise}return{listVisualizations:r,listSnapshots:l,_getSheetItems:s}}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e){t.exports='<lui-dialog id="generic-dialog" qv-cancel="cancel($event)" qv-confirm="action($event)">\n\t<lui-dialog-header>\n\t\t<lui-dialog__title q-translation={{input.title}}></lui-dialog__title>\n\t</lui-dialog-header>\n\t<lui-dialog-body q-translation={{input.message}}></lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-if="!input.hideCancelButton" ng-click="cancel($event)" q-translation="Devhub.Cancel" tid="cancel"></lui-button>\n\t\t<lui-button ng-if="input.button" ng-click="action($event)" q-translation="{{input.button.name}}"\n\t\t\t\t\ttid="{{input.button.tid}}" qva-focus="true"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(485)],r=function(t,e){function n(n){t.getService("qvLoader").show({template:e,message:n.message,button:n.button,mode:n.mode})}function i(e){t.getService("qvLoader").close(e)}return{show:n,close:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qv-block-ui fullscreen-message">\n\t<div>\n\t\t<div class="msg-text" ng-bind-html="message"></div>\n\t\t<button\n\t\t\tng-if="button"\n\t\t\tng-click="button.callback()"\n\t\t\tqv-enter="button.callback()"\n\t\t\tclass="lui-button"\n\t\t\tq-translation="{{button.name}}"\n\t\t\t></button>\n\t</div>\n</div>'},function(t,e){t.exports='<div class="tabview-scoller">\n\t<div class="button-wrapper" ng-click="newActivated()" ng-if="showNewButton == \'true\'">\n\t\t<span class="lui-icon  lui-icon--plus buttons-icon" title="{{iconNewTitle}}"></span>\n\t</div>\n\t<div class="button-wrapper tab-button-next" ng-class="{\'qui-disabled\': scrollForwardDisabled}"\n\t\t ng-click="scrollForward()">\n\t\t<span class="lui-icon  lui-icon--arrow-right buttons-icon" title="{{iconNextTitle}}"></span>\n\t</div>\n\t<div class="button-wrapper tab-button-prev" ng-class="{\'qui-disabled\': scrollBackwardDisabled}"\n\t\t ng-click="scrollBackwards()">\n\t\t<span class="lui-icon  lui-icon--arrow-left buttons-icon" title="{{iconPrevTitle}}"></span>\n\t</div>\n\t<div class="shadow"></div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(488),n(55)],r=function(t,e,n){var i,r=500;function o(t){return t.is("input:not([type=radio]):not([type=checkbox]), textarea:not([readonly])")&&!t.closest(".CodeMirror").length||t.closest("[contenteditable=true]").length||t.closest(".CodeMirror").length}function s(t){return t.is(".ignore-context-menu")}function a(e,n,i,r,s){var a;i=t(i);if(n.ctrlKey&&n.shiftKey)return;if(o(i))return;if(i.is(".progress")||i.is("select")){n.preventDefault();return}n.originalType=n.type;delete n.type;a=t.Event(n,{type:e,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey});a.pageX=r;a.pageY=s;i.trigger(a);return false}function l(e){if(e.ctrlKey&&e.shiftKey)return;o(t(e.target))||e.preventDefault()}t(document.body).on("contextmenu",l);n(document.body).tap({options:{preventDefault:false,which:3},start:function t(e){n.utils.isMouse(e)&&(this._openContextMenu=true)},end:function t(e){if(this._openContextMenu){a("qv-contextmenu",e,e.target,e.pageX,e.pageY);this._openContextMenu=false}}});(n.utils.msPointer||n.utils.touch)&&n(document.body).longtap({options:{preventDefault:false,timeThreshold:r,interval:20},start:function e(r){if(n.utils.isMouse(r)||o(t(r.target))||s(t(r.target))){this.cancel();return}i=r.target},update:function t(n,r){if(100===r.percentage){e.show(r.pagePoints[0].x,r.pagePoints[0].y);a("qv-radial-contextmenu",n,i,r.pagePoints[0].x,r.pagePoints[0].y)}},cancel:function t(){e.hide()},end:function t(n,r){e.hide();a("qv-contextmenu",n,i,r.pagePoints[0].x,r.pagePoints[0].y);i=null}});t(document.body).on("MSHoldVisual",function(t){t.preventDefault()});t(document.body).on("MSGestureHold",function(t){t.preventDefault()})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(65),n(489)],r=function(t,e,n){var i=null;var r={scope:{position:"="},template:n,controller:["$scope","$element",function(t,e){var n=e.children();var i=n.outerWidth();n.css("top",t.position.y-i/2);n.css("left",t.position.x-i/2);n.addClass("transition")}]};var o={show:function n(s,a){o.hide();t.$apply(t.$rootScope,function(){i=e.show(r,{position:{x:s,y:a}})})},hide:function e(){t.$apply(t.$rootScope,function(){if(i){i.destroy();i=null}})}};return o}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div id="actionIndicator"></div>'},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.directive("qwBlockingOverlay",function(){return{template:'<div class="blocking-overlay-cnt"><div class="blocking-overlay"><div class="msg">{{msg}}</div></div></div>',replace:true,restrict:"E",scope:{msg:"@"}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(492),n(46),n(45),n(100),n(88),n(131),n(119),n(120),n(102),n(54),n(61),n(86),n(518),n(66),n(86),n(103),n(598)],r=function(t,e,i,r,o,s,a,l){var c=t.getService("qwCommonService");var u=t.getService("qwConfigService");var d=t.getService("qwNavigationService");var p=t.getService("qwMenuService");var f=t.getService("qwStartPageService");var h=t.getService("qwErrorService");var v=t.getService("qvAboutDialog");var g=t.getService("qwWidgetEditorService");var m={restrict:"E",replace:true,template:i,controller:["$scope",function(t){t.dropzoneJsLoaded=false;Promise.resolve().then(function(){var e=[n(239)];(function(){t.ropzoneJsLoaded=true;t.$apply()}).apply(null,e)}).catch(n.oe);t.newExtension=function(e){if(("visualization"===e?!f.permissions.visualization.create:!f.permissions.mashup.create)||!t.hasTemplates(e))return true;a.createExtension(e).then(function(t){if(t&&t.cancel)return true;d.openExtension(t.extensionUniqueName,t.type,false)})};t.openWidgetLibrary=function(t){d.openWidgetLibrary(t,void 0,true)};t.newLibrary=function(){f.permissions.widgetLibrary.create&&a.createLibrary().then(function(t){if(t&&t.cancel)return true;d.openWidgetLibrary(t.name)}).catch(function(t){h.raiseException(null,r.get("Devhub.ErrorOccurredAndRefresh"),t)})};t.hasTemplates=function(e){var n=t.assets.templateList.filter(function(t){return t.type===e});if(n&&n.length>0)return 0!==n[0].items.length;return false};function e(){var e=new o;var n=[{icon:"lui-icon--mashup",title:f.permissions.mashup.create?t.hasTemplates("mashup")?"Devhub.CreateNewMashup":"Tooltip.NoTemplates":"Tooltip.NoExtensionCreatePermission",text:"Devhub.CreateNewMashup",openInNewTab:false,tid:"2209e5",onSelect:function e(){t.newExtension("mashup")},disabled:!t.hasTemplates("mashup")||!f.permissions.mashup.create},{icon:"lui-icon--puzzle",title:f.permissions.visualization.create?t.hasTemplates("visualization")?"Devhub.CreateNewVisualization":"Tooltip.NoTemplates":"Tooltip.NoExtensionCreatePermission",text:"Devhub.CreateNewVisualization",openInNewTab:false,tid:"2209e6",onSelect:function e(){t.newExtension("visualization")},disabled:!t.hasTemplates("visualization")||!f.permissions.visualization.create}];n.push({icon:"lui-icon--widget",title:f.permissions.widget.create?f.assets.widgetLibraries.length>0?"Widget.CreateNew":"Tooltip.NoLibraries":"Tooltip.NoExtensionCreatePermission",text:"Widget.CreateNew",openInNewTab:false,tid:"319cf9",onSelect:function t(){g.openCreateNewWidgetDialog()},disabled:!f.permissions.widget.create||!(f.assets.widgetLibraries.length>0)});n.push({icon:"lui-icon--library",title:f.permissions.widgetLibrary.create?"Devhub.CreateWidgetLibrary":"Tooltip.NoExtensionCreatePermission",text:"Devhub.CreateWidgetLibrary",openInNewTab:false,tid:"3d5bf8",onSelect:function e(){t.newLibrary()},disabled:!f.permissions.widgetLibrary.create});n.push({icon:"lui-icon--import",title:f.permissions.widgetLibrary.create?"DevHub.ImportLibrary":"Tooltip.NoExtensionCreatePermission",text:"DevHub.ImportLibrary",openInNewTab:false,tid:"3ff397",onSelect:function e(){a.showImportLibraryDialog().then(function(){s.getList(true).then(function(e){t.assets.widgetLibraries=e})})},disabled:!f.permissions.widgetLibrary.create});e.resolve(n.sort(function(t,e){return t.order-e.order}));return e.promise}t.openCreatePopover=function(t){return e().then(function(e){return l.show(e,t.target)})};t.assets=f.assets;t.permissions=f.permissions;t.currentTab="all";t.tools=d.getToolsPanelItems();t.openTool=function(t,e,n){e.onSelect(t,n);t.stopPropagation()};t.changeTab=function(e){t.currentTab=e};t.isCollapsed={mashup:false,visualization:false,widgetLibraries:false,conversions:false};t.collapse=function(e){t.isCollapsed[e]=!t.isCollapsed[e]};t.filterByType=function(t){return function(e){return e.qext.type===t}};t.$on("newSearch",function(e,n){t.search=n});t.editExtension=function(t){d.openExtension(t.id,t.qext.type,true)};t.editConversion=t.newConversion=function(t){var e=d.getBasePath()+"/dev-hub/converter";t&&(e=e+"/#qvwapp{"+encodeURIComponent(t.id)+"}");d.openUrlInNewTabIfCtrlKeyPressed(true,{disable:false,link:e})};t.refresh=f.refresh;t.openInfo=function(t){f.openLibraryInfo(t)};t.rightClick=function(t,e){f.openContextMenu(t,e)}}]};var b={toolPath:"dev-hub",toolTitle:"Devhub.StartPage",general:{undoRedo:false},rightPanel:{active:false,open:false},leftPanel:{active:false,open:false},toolbarSearch:true,bottomBar:{active:false},selectionsBar:{enabled:false,toggled:false}};var y={text:"Devhub.QlikDevHub",openInNewTab:"optional",link:d.getBasePath()+"/dev-hub",tid:"4ff996",hide:false,onSelect:function t(e,n){d.openUrlInNewTabIfCtrlKeyPressed(e.ctrlKey||n,this)},disabled:false,order:0};d.addNavigationMenuItemProvider(function(){return y});function x(){return[{icon:"lui-icon--info",title:"Devhub.About",text:"Devhub.About",openInNewTab:false,tid:"6b48e6",order:99,onSelect:function e(){c.getProductInfo().then(function(e){t.getService("$rootScope").isPersonalMode=e.isPersonal;v.show()})},disabled:false},{icon:"lui-icon--repair",title:"Devhub.OpenAPIInsights",text:"Devhub.APIInsights",openInNewTab:true,tid:"3d8239",order:1,onSelect:function t(){window.open("https://api-insights.qlik.com")},disabled:false}]}d.registerRoute("/dev-hub",function(){u.setToolConfig(b);return o.all({sp:f.init()}).then(function(){e(".devhub-toolbar").attr("id","toolbar-start-page");p.addMenuItemProvider(x);c.notifyWatchers("initToolbar");d.getContainer().showComponent(m)})});return m}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<qw-dev-hub-stage>\n\t<qw-work-area class="start-page">\n\t\t\x3c!-- Filter Tabs --\x3e\n\t\t<div class="toolbar-divider"></div>\n\t\t<div class="sub-toolbar">\n\t\t\t<div class="header-toolbar tools not-hide-on-small-screen">\n\t\t\t\t<div class="header" q-translation="Devhub.Tools"></div>\n\t\t\t</div>\n\t\t\t<div class="header-toolbar not-hide-on-small-screen" ng-class="{selected: currentTab === \'all\'}"\n\t\t\t\t ng-click="changeTab(\'all\')" q-title-translation="Devhub.All">\n\t\t\t\t<div class="header" q-translation="Devhub.All"></div>\n\t\t\t</div>\n\t\t\t<div class="header-toolbar" ng-class="{selected: currentTab === \'mashups\'}"\n\t\t\t\t ng-click="changeTab(\'mashups\')" q-title-translation="Devhub.Mashups">\n\t\t\t\t<div class="header" q-translation="Devhub.Mashups"></div>\n\t\t\t\t<span class="lui-icon  lui-icon--mashup small-screen"></span>\n\t\t\t</div>\n\t\t\t<div class="header-toolbar" ng-class="{selected: currentTab === \'visualizations\'}"\n\t\t\t\t ng-click="changeTab(\'visualizations\')" q-title-translation="Devhub.VisualizationExtensions">\n\t\t\t\t<div class="header" q-translation="Devhub.VisualizationExtensions"></div>\n\t\t\t\t<span class="lui-icon  lui-icon--puzzle small-screen"></span>\n\t\t\t</div>\n\t\t\t<div class="header-toolbar" ng-class="{selected: currentTab === \'widgetLibraries\'}"\n\t\t\t\t ng-click="changeTab(\'widgetLibraries\')" q-title-translation="Devhub.WidgetLibraries">\n\t\t\t\t<div class="header" q-translation="Devhub.WidgetLibraries"></div>\n\t\t\t\t<span class="lui-icon  lui-icon--library small-screen"></span>\n\t\t\t</div>\n\t\t\t<div class="header-toolbar" ng-class="{selected: currentTab === \'conversions\'}"\n\t\t\t\t ng-click="changeTab(\'conversions\')" q-title-translation="Devhub.QlikViewDocuments">\n\t\t\t\t<div class="header" q-translation="Devhub.QlikViewDocuments"></div>\n\t\t\t\t<span class="lui-icon  lui-icon--file small-screen"></span>\n\t\t\t</div>\n\t\t\t<lui-button class="create lui-button lui-button--inverse" q-title-translation="Devhub.CreateNew"\n\t\t\t\t\t\tid="create-new" ng-click="openCreatePopover($event)" tid="21e6ea"\n\t\t\t\t\t\tqva-outside-ignore-for="create-new">\n\t\t\t\t<span class="lui-icon  lui-icon--add"></span>\n\t\t\t</lui-button>\n\t\t</div>\n\t\t\x3c!-- Content --\x3e\n\t\t<div class="sp-content">\n\t\t\t<div class="tool-menu" q-scroll>\n\t\t\t\t<ul>\n\t\t\t\t\t<li ng-repeat="tool in tools track by $index" class="tool-list">\n\t\t\t\t\t\t<div class="{{tool.disable ? \'item-wrapper-disabled\' : \'item-wrapper\'}}"\n\t\t\t\t\t\t\t ng-click="openTool($event, tool, false)"\n\t\t\t\t\t\t\t q-title-translation="{{tool.disable ? \'DevHub.NoEditorAccess\' : \'\'}}">\n\t\t\t\t\t\t\t<div class="header">\n\t\t\t\t\t\t\t\t<span q-translation="{{tool.text}}"></span>\n\t\t\t\t\t\t\t\t<span ng-click="openTool($event, tool, true)"\n\t\t\t\t\t\t\t\t\t  class="lui-icon  lui-icon--new-tab  view-icon"\n\t\t\t\t\t\t\t\t\t  q-title-translation="Devhub.OpenInNewTab"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div q-translation="{{tool.text}}Desc"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="sp-items" q-scroll>\n\t\t\t\t\x3c!-- Mashups --\x3e\n\t\t\t\t<div>\n\t\t\t\t\t<div class="mashups"\n\t\t\t\t\t\t ng-show="(currentTab ===\'all\' || currentTab ===\'mashups\') && !(search && filteredMashups.length < 1)">\n\t\t\t\t\t\t<div class="header-content" ng-click="collapse(\'mashup\')">\n\t\t\t\t\t\t\t<span class="lui-icon arrow-icon"\n\t\t\t\t\t\t\t\t  ng-class="isCollapsed.mashup ? \'lui-icon--triangle-right\' : \'lui-icon--triangle-bottom\'"></span>\n\t\t\t\t\t\t\t<div class="header" q-translation="Devhub.Mashups"></div>\n\t\t\t\t\t\t\t&nbsp;<span>({{filteredMashups.length}})</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul ng-hide="isCollapsed.mashup" class="items-wrapper">\n\t\t\t\t\t\t\t<li class="devhub-list-item"\n\t\t\t\t\t\t\t\tdata-id="{{item.id}}"\n\t\t\t\t\t\t\t\tng-repeat="item in filteredMashups = (assets.extensionList | filter: filterByType(\'mashup\') | searchFilter:search | orderBy: \'title\') track by $index"\n\t\t\t\t\t\t\t\tqva-context-menu="rightClick( $event, item )">\n\t\t\t\t\t\t\t\t<div class="list-icon" ng-click="editExtension(item)">\n\t\t\t\t\t\t\t\t\t<div class="thumb-hover"></div>\n\t\t\t\t\t\t\t\t\t<div ng-if="item.src" ng-style="{\'background-image\': \'url(\' + item.src + \')\'}"\n\t\t\t\t\t\t\t\t\t\t class="icon"></div>\n\t\t\t\t\t\t\t\t\t<div ng-if="!item.src" class="icon mashup-image"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="qui-list-text" ng-click="openInfo(item)">\n\t\t\t\t\t\t\t\t\t<div class="text-title-wrap">\n\t\t\t\t\t\t\t\t\t\t<span class="text-title" text="{{item.title}}" title="{{item.title}}"\n\t\t\t\t\t\t\t\t\t\t\t  qve-highlight query="search"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="info-icon-wrap" q-title-translation="Devhub.Details">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--info"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li ng-if="!search"\n\t\t\t\t\t\t\t\tclass="devhub-list-item create-new-list-item"\n\t\t\t\t\t\t\t\tq-title-translation="{{!permissions.mashup.create ? \'Tooltip.NoExtensionCreatePermission\' : (!hasTemplates(\'mashup\') ? \'Tooltip.NoTemplates\' : \'Devhub.CreateNewMashup\')}}"\n\t\t\t\t\t\t\t\tng-class="{\'disabled\': !hasTemplates(\'mashup\') || !permissions.mashup.create }"\n\t\t\t\t\t\t\t\tng-click="newExtension(\'mashup\')">\n\t\t\t\t\t\t\t\t<div class="add-wrapper">\n\t\t\t\t\t\t\t\t\t<div class="add-icon">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="add-text" q-translation="Devhub.CreateNewMashup"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!-- Divider --\x3e\n\t\t\t\t\t<div class="divider"\n\t\t\t\t\t\t ng-show="(currentTab === \'all\') && (!search || (search && filteredMashups.length && filteredVisualizations.length)\n\t\t\t\t\t\t \t\t  || (search && filteredMashups.length && filteredWidgetLibraries.length))">\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!-- Visualizations --\x3e\n\t\t\t\t\t<div class="visualizations"\n\t\t\t\t\t\t ng-show="(currentTab ===\'all\' || currentTab ===\'visualizations\') && !(search && filteredVisualizations.length < 1)">\n\t\t\t\t\t\t<div class="header-content" ng-click="collapse(\'visualization\')">\n\t\t\t\t\t\t\t<span class="lui-icon arrow-icon"\n\t\t\t\t\t\t\t\t  ng-class="isCollapsed.visualization ? \'lui-icon--triangle-right\' : \'lui-icon--triangle-bottom\'"></span>\n\t\t\t\t\t\t\t<div class="header" q-translation="Devhub.VisualizationExtensions"></div>\n\t\t\t\t\t\t\t&nbsp;<span>({{filteredVisualizations.length}})</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ul ng-hide="isCollapsed.visualization" class="items-wrapper">\n\t\t\t\t\t\t\t<li class="devhub-list-item"\n\t\t\t\t\t\t\t\tdata-id="{{item.id}}"\n\t\t\t\t\t\t\t\tng-repeat="item in filteredVisualizations = (assets.extensionList | filter: filterByType(\'visualization\') | searchFilter:search | orderBy: \'title\') track by $index"\n\t\t\t\t\t\t\t\tqva-context-menu="rightClick( $event, item )">\n\t\t\t\t\t\t\t\t<div class="list-icon" ng-click="editExtension(item)">\n\t\t\t\t\t\t\t\t\t<div class="thumb-hover"></div>\n\t\t\t\t\t\t\t\t\t<div ng-if="item.src" ng-style="{\'background-image\': \'url(\' + item.src + \')\'}"\n\t\t\t\t\t\t\t\t\t\t class="icon"></div>\n\t\t\t\t\t\t\t\t\t<div ng-if="!item.src" class="icon extension-image"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="qui-list-text" ng-click="openInfo(item)">\n\t\t\t\t\t\t\t\t\t<div class="text-title-wrap">\n\t\t\t\t\t\t\t\t\t\t<span class="text-title" text="{{item.title}}" title="{{item.title}}"\n\t\t\t\t\t\t\t\t\t\t\t  qve-highlight query="search"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="info-icon-wrap" q-title-translation="Devhub.Details">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--info"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li ng-if="!search"\n\t\t\t\t\t\t\t\tclass="devhub-list-item create-new-list-item"\n\t\t\t\t\t\t\t\tq-title-translation="{{!permissions.visualization.create ? \'Tooltip.NoExtensionCreatePermission\' : (!hasTemplates(\'visualization\') ? \'Tooltip.NoTemplates\' : \'Devhub.CreateNewVisualization\')}}"\n\t\t\t\t\t\t\t\tng-class="{\'disabled\': !hasTemplates(\'visualization\') || !permissions.visualization.create }"\n\t\t\t\t\t\t\t\tng-click="newExtension(\'visualization\')">\n\t\t\t\t\t\t\t\t<div class="add-wrapper">\n\t\t\t\t\t\t\t\t\t<div class="add-icon">\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="add-text" q-translation="Devhub.CreateNewVisualization"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Divider --\x3e\n\t\t\t\t<div class="divider"\n\t\t\t\t\t ng-show="(currentTab === \'all\') && (!search || (search && filteredVisualizations.length && filteredWidgetLibraries.length))"></div>\n\t\t\t\t\x3c!-- Widget Libraries --\x3e\n\t\t\t\t<div class="widget-libraries"\n\t\t\t\t\t ng-show="(currentTab ===\'all\' || currentTab ===\'widgetLibraries\') && !(search && filteredWidgetLibraries.length < 1)">\n\t\t\t\t\t<div class="header-content" ng-click="collapse(\'widgetLibraries\')">\n\t\t\t\t\t\t<span class="lui-icon arrow-icon"\n\t\t\t\t\t\t\t  ng-class="isCollapsed.widgetLibraries ? \'lui-icon--triangle-right\' : \'lui-icon--triangle-bottom\'"></span>\n\t\t\t\t\t\t<div class="header" q-translation="Devhub.WidgetLibraries"></div>\n\t\t\t\t\t\t&nbsp;<span>({{filteredWidgetLibraries.length }})</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul ng-hide="isCollapsed.widgetLibraries" class="items-wrapper">\n\t\t\t\t\t\t<li class="devhub-list-item"\n\t\t\t\t\t\t\tdata-id="{{item.data.name}}"\n\t\t\t\t\t\t\ttitle="{{item.data.name}}"\n\t\t\t\t\t\t\tng-repeat="item in filteredWidgetLibraries = ( assets.widgetLibraries | searchFilter:search ) track by item.id"\n\t\t\t\t\t\t\tqva-context-menu="rightClick( $event, item )">\n\t\t\t\t\t\t\t<div class="list-icon" ng-click="openWidgetLibrary( item.id )">\n\t\t\t\t\t\t\t\t<div class="thumb-hover"></div>\n\t\t\t\t\t\t\t\t<div ng-if="item.src" ng-style="{\'background-image\': \'url(\' + item.src + \')\'}"\n\t\t\t\t\t\t\t\t\t class="icon"></div>\n\t\t\t\t\t\t\t\t<div ng-if="!item.src" class="icon library-image"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="qui-list-text" ng-click="openInfo(item)">\n\t\t\t\t\t\t\t\t<div class="text-title-wrap">\n\t\t\t\t\t\t\t\t\t<span class="text-title" text="{{item.data.name}}" title="{{item.data.name}}"\n\t\t\t\t\t\t\t\t\t\t  qve-highlight query="search"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="info-icon-wrap" q-title-translation="Devhub.Details">\n\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--info"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li ng-if="!search"\n\t\t\t\t\t\t\tclass="devhub-list-item create-new-list-item"\n\t\t\t\t\t\t\tng-click="newLibrary()"\n\t\t\t\t\t\t\tq-title-translation="{{!permissions.widgetLibrary.create ? \'Tooltip.NoExtensionCreatePermission\' : \'Devhub.CreateWidgetLibrary\'}}"\n\t\t\t\t\t\t\tng-class="{\'disabled\': !permissions.widgetLibrary.create }">\n\t\t\t\t\t\t\t<div class="add-wrapper">\n\t\t\t\t\t\t\t\t<div class="add-icon">\n\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="add-text" q-translation="Devhub.CreateWidgetLibrary"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Divider --\x3e\n\t\t\t\t<div class="divider"\n\t\t\t\t\t ng-show="(currentTab === \'all\') && (!search || (search && filteredConversions.length && (filteredMashups.length || filteredVisualizations.length || filteredWidgetLibraries.length )))"></div>\n\t\t\t\t\x3c!-- Conversions --\x3e\n\t\t\t\t<div class="conversions"\n\t\t\t\t\t ng-show="(currentTab ===\'all\' || currentTab ===\'conversions\') && !(search && filteredConversions.length < 1)">\n\t\t\t\t\t<div class="header-content" ng-click="collapse(\'conversions\')">\n\t\t\t\t\t\t<span class="lui-icon arrow-icon"\n\t\t\t\t\t\t\t  ng-class="isCollapsed.conversions? \'lui-icon--triangle-right\' : \'lui-icon--triangle-bottom\'"></span>\n\t\t\t\t\t\t<div class="header" q-translation="Devhub.QlikViewDocuments"></div>\n\t\t\t\t\t\t&nbsp;<span>({{filteredConversions.length}})</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ul ng-hide="isCollapsed.conversions" class="items-wrapper">\n\t\t\t\t\t\t<li class="devhub-list-item" data-id="{{item.id}}"\n\t\t\t\t\t\t\tng-repeat="item in filteredConversions = ( assets.conversionList | searchFilter:search ) track by item.id"\n\t\t\t\t\t\t\tqva-context-menu="rightClick( $event, item )">\n\n\t\t\t\t\t\t\t<div class="list-icon" ng-click="editConversion(item)">\n\t\t\t\t\t\t\t\t<div class="thumb-hover"></div>\n\t\t\t\t\t\t\t\t<div ng-if="item.src" ng-style="{\'background-image\': \'url(\' + item.src + \')\'}"\n\t\t\t\t\t\t\t\t\t class="icon"></div>\n\t\t\t\t\t\t\t\t<div ng-if="!item.src" class="icon conversion-image"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="qui-list-text">\n\t\t\t\t\t\t\t\t<div class="text-title-wrap">\n\t\t\t\t\t\t\t\t\t<span class="text-title" text="{{item.data.name}}" title="{{item.data.name}}"\n\t\t\t\t\t\t\t\t\t\t  qve-highlight query="search"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li ng-if="!search && ropzoneJsLoaded" class="devhub-list-item create-new-list-item dropzone">\n\t\t\t\t\t\t\t<qw-drop-zone-js service="qwConverterService" isstartpage="true"></qw-drop-zone-js>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- No matches --\x3e\n\t\t\t\t<div class="no-matches" ng-if="(search && !filteredMashups.length && !filteredVisualizations.length && !filteredWidgetLibraries.length && !filteredConversions.length )\n\t\t\t\t\t \t\t|| (currentTab ===\'visualizations\' && search && !filteredVisualizations.length)\n\t\t\t\t\t \t\t|| (currentTab ===\'mashups\' && search && !filteredMashups.length)\n\t\t\t\t\t \t\t|| (currentTab ===\'widgetLibraries\' && search && !filteredWidgetLibraries.length)\n\t\t\t\t\t\t\t|| (currentTab ===\'conversions\' && search && !filteredConversions.length)"\n\t\t\t\t\t q-translation="Devhub.NoMatchesForCurrentSearch">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</qw-work-area>\n</qw-dev-hub-stage>'},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(46),n(87),n(52),n(494),n(221)],r=function(t,e,n,i,r){function o(e){var n=new t;var i=e.filter(function(t){return-1!==t.indexOf(".qext")});i.length>1||0===i.length?n.reject():i[0].async("string").then(function(t){try{n.resolve(JSON.parse(t))}catch(t){n.reject(t)}});return n.promise}function s(t,e){var n={json:[],html:[]};for(var r in t)if(-1!==t[r].name.indexOf(e)){var o=i.getFileExtension(r);"json"!==o&&"html"!==o||n[o].push(t[r])}if(1!==Object.keys(n.json).length&&1!==Object.keys(n.html).length)return false;n.json=n.json[0];n.html=n.html[0];return n}function a(t){return t.replace(/^.*[\\\/]/,"")}function l(i,r,o){var l=new t;var c={};var u=s(i,r);if(false!==u){var d=a(u.json.name).replace(".json","");t.all({json:u.json.async("string"),html:u.html.async("string"),translator:e.ready}).then(function(t){var e={css:"",html:""};try{var i=JSON.parse(t.json)}catch(t){c[d]={success:false,msg:"Devhub.InvalidJson"};l.resolve(c[d])}var s=document.createElement("div");s.innerHTML=t.html;var a=s.getElementsByTagName("script");var u=a.length;while(u--)a[u].parentNode.removeChild(a[u]);var p=s.getElementsByTagName("style");if(1===p.length){e.css=p[0].innerHTML;e.html=s.getElementsByTagName("div")[0].innerHTML;var f=new n(o,d,i.name,i.description,i.author,i.meta,i.properties,i.dependencies,false);f.html=e.html;f.css=e.css;f.save().then(function(){c[d]={success:true,id:d,widgetName:i.name};l.resolve(c[d])}).catch(function(){c[d]={success:false,widgetName:r,msg:"Devhub.DefaultImportWidgetError"};l.resolve(c[d])})}else{c[d]={success:false,widgetName:r,msg:"Widget.InvalidTemplate"};l.resolve(c[d])}}).catch(function(){c[d]={success:false,widgetName:r,msg:"Devhub.UnZipError"};l.resolve(c[d])})}else{var p="Error-"+Math.floor(1e5*Math.random()+1);c[p]={success:false,widgetName:r,msg:e.get("Widget.TemplateNotFound",["",""]).replace(":","")};l.resolve(c[p])}return l.promise}function c(e,i){var s=i;var a=new t;var c=new r;c.loadAsync(e).then(function(e){o(e).then(function(r){if("widget-library"!==r.type)a.reject("Devhub.DefaultImportWidgetLibraryError");else{var o=r.name;i.getList(true).then(function(i){var c=i.filter(function(t){return t.id===o}).length>0;c&&a.reject("Devhub.LibraryAlreadyInstalled");var u=new s(o,r);s.create(u).then(function(){r.widgets&&r.widgets.length>0?n.getTemplateList().then(function(n){var i=[];r.widgets.forEach(function(t){var r=n.filter(function(e){return e.id===t}).length>0;r?i.push({success:false,widgetName:t,msg:"Devhub.WidgetAlreadyInstalled"}):i.push(l(e.files,t,o))});t.all(i).then(function(t){var e=[];for(var n in t)true===t[n].success&&e.push(t[n].id);u.data.widgets=e;s.save(u).then(function(){a.resolve(t)}).catch(function(t){a.reject(t)})}).catch(function(t){a.reject(t)})}).catch(function(t){a.reject(t)}):a.resolve([])}).catch(function(t){a.reject(t.errObject)})}).catch(function(t){a.reject(t)})}}).catch(function(){a.reject("Devhub.DefaultImportWidgetLibraryError")})}).catch(function(){a.reject("Devhub.DefaultImportWidgetLibraryError")});return a.promise}return{importLibrary:c}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){(function(n){if("object"===typeof e&&"undefined"!==typeof t)t.exports=n();else if("function"===typeof define&&define.amd)define([],n);else{var i;i="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this;i.JSZip=n()}})(function(){var t,e,n;return function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}var o="function"==typeof require&&require;for(var s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i=t("./utils");var r=t("./support");var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){var e=[];var n,r,s,a,l,c,u;var d=0,p=t.length,f=p;var h="string"!==i.getTypeOf(t);while(d<t.length){f=p-d;if(h){n=t[d++];r=d<p?t[d++]:0;s=d<p?t[d++]:0}else{n=t.charCodeAt(d++);r=d<p?t.charCodeAt(d++):0;s=d<p?t.charCodeAt(d++):0}a=n>>2;l=(3&n)<<4|r>>4;c=f>1?(15&r)<<2|s>>6:64;u=f>2?63&s:64;e.push(o.charAt(a)+o.charAt(l)+o.charAt(c)+o.charAt(u))}return e.join("")};n.decode=function(t){var e,n,i;var s,a,l,c;var u=0,d=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var p=3*t.length/4;t.charAt(t.length-1)===o.charAt(64)&&p--;t.charAt(t.length-2)===o.charAt(64)&&p--;var f;f=r.uint8array?new Uint8Array(p):new Array(p);while(u<t.length){s=o.indexOf(t.charAt(u++));a=o.indexOf(t.charAt(u++));l=o.indexOf(t.charAt(u++));c=o.indexOf(t.charAt(u++));e=s<<2|a>>4;n=(15&a)<<4|l>>2;i=(3&l)<<6|c;f[d++]=e;64!==l&&(f[d++]=n);64!==c&&(f[d++]=i)}return f}},{"./support":27,"./utils":29}],2:[function(t,e,n){"use strict";var i=t("./external");var r=t("./stream/DataWorker");var o=t("./stream/DataLengthProbe");var s=t("./stream/Crc32Probe");var o=t("./stream/DataLengthProbe");function a(t,e,n,i,r){this.compressedSize=t;this.uncompressedSize=e;this.crc32=n;this.compression=i;this.compressedContent=r}a.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length"));var e=this;t.on("end",function(){if(this.streamInfo["data_length"]!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")});return t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};a.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)};e.exports=a},{"./external":6,"./stream/Crc32Probe":22,"./stream/DataLengthProbe":23,"./stream/DataWorker":24}],3:[function(t,e,n){"use strict";var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}};n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":25}],4:[function(t,e,n){"use strict";var i=t("./utils");function r(){var t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}var o=r();function s(t,e,n,i){var r=o,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}function a(t,e,n,i){var r=o,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return-1^t}e.exports=function t(e,n){if("undefined"===typeof e||!e.length)return 0;var r="string"!==i.getTypeOf(e);return r?s(0|n,e,e.length,0):a(0|n,e,e.length,0)}},{"./utils":29}],5:[function(t,e,n){"use strict";n.base64=false;n.binary=false;n.dir=false;n.createFolders=true;n.date=null;n.compression=null;n.compressionOptions=null;n.comment=null;n.unixPermissions=null;n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var i=t("es6-promise").Promise;e.exports={Promise:i}},{"es6-promise":37}],7:[function(t,e,n){"use strict";var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;var r=t("pako");var o=t("./utils");var s=t("./stream/GenericWorker");var a=i?"uint8array":"array";n.magic="\b\0";function l(t,e){s.call(this,"FlateWorker/"+t);this._pako=new r[t]({raw:true,level:e.level||-1});this.meta={};var n=this;this._pako.onData=function(t){n.push({data:t,meta:n.meta})}}o.inherits(l,s);l.prototype.processChunk=function(t){this.meta=t.meta;this._pako.push(o.transformTo(a,t.data),false)};l.prototype.flush=function(){s.prototype.flush.call(this);this._pako.push([],true)};l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this);this._pako=null};n.compressWorker=function(t){return new l("Deflate",t)};n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":25,"./utils":29,pako:38}],8:[function(t,e,n){"use strict";var i=t("../utils");var r=t("../stream/GenericWorker");var o=t("../utf8");var s=t("../crc32");var a=t("../signature");var l=function(t,e){var n="",i;for(i=0;i<e;i++){n+=String.fromCharCode(255&t);t>>>=8}return n};var c=function(t,e){var n=t;t||(n=e?16893:33204);return(65535&n)<<16};var u=function(t,e){return 63&(t||0)};var d=function(t,e,n,r,d,p){var f=t["file"],h=t["compression"],v=p!==o.utf8encode,g=i.transformTo("string",p(f.name)),m=i.transformTo("string",o.utf8encode(f.name)),b=f.comment,y=i.transformTo("string",p(b)),x=i.transformTo("string",o.utf8encode(b)),w=m.length!==f.name.length,q=x.length!==b.length,_,C,S="",D="",E="",k=f.dir,T=f.date;var A={crc32:0,compressedSize:0,uncompressedSize:0};if(!e||n){A.crc32=t["crc32"];A.compressedSize=t["compressedSize"];A.uncompressedSize=t["uncompressedSize"]}var I=0;e&&(I|=8);v||!w&&!q||(I|=2048);var O=0;var L=0;k&&(O|=16);if("UNIX"===d){L=798;O|=c(f.unixPermissions,k)}else{L=20;O|=u(f.dosPermissions,k)}_=T.getUTCHours();_<<=6;_|=T.getUTCMinutes();_<<=5;_|=T.getUTCSeconds()/2;C=T.getUTCFullYear()-1980;C<<=4;C|=T.getUTCMonth()+1;C<<=5;C|=T.getUTCDate();if(w){D=l(1,1)+l(s(g),4)+m;S+="up"+l(D.length,2)+D}if(q){E=l(1,1)+l(s(y),4)+x;S+="uc"+l(E.length,2)+E}var P="";P+="\n\0";P+=l(I,2);P+=h.magic;P+=l(_,2);P+=l(C,2);P+=l(A.crc32,4);P+=l(A.compressedSize,4);P+=l(A.uncompressedSize,4);P+=l(g.length,2);P+=l(S.length,2);var M=a.LOCAL_FILE_HEADER+P+g+S;var N=a.CENTRAL_FILE_HEADER+l(L,2)+P+l(y.length,2)+"\0\0\0\0"+l(O,4)+l(r,4)+g+S+y;return{fileRecord:M,dirRecord:N}};var p=function(t,e,n,r,o){var s="";var c=i.transformTo("string",o(r));s=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(n,4)+l(c.length,2)+c;return s};var f=function(t){var e="";e=a.DATA_DESCRIPTOR+l(t["crc32"],4)+l(t["compressedSize"],4)+l(t["uncompressedSize"],4);return e};function h(t,e,n,i){r.call(this,"ZipFileWorker");this.bytesWritten=0;this.zipComment=e;this.zipPlatform=n;this.encodeFileName=i;this.streamFiles=t;this.accumulate=false;this.contentBuffer=[];this.dirRecords=[];this.currentSourceOffset=0;this.entriesCount=0;this.currentFile=null;this._sources=[]}i.inherits(h,r);h.prototype.push=function(t){var e=t.meta.percent||0;var n=this.entriesCount;var i=this._sources.length;if(this.accumulate)this.contentBuffer.push(t);else{this.bytesWritten+=t.data.length;r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}})}};h.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten;this.currentFile=t["file"].name;if(this.streamFiles&&!t["file"].dir){var e=d(t,this.streamFiles,false,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:e.fileRecord,meta:{percent:0}})}else this.accumulate=true};h.prototype.closedSource=function(t){this.accumulate=false;var e=d(t,this.streamFiles,true,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.dirRecords.push(e.dirRecord);if(this.streamFiles&&!t["file"].dir)this.push({data:f(t),meta:{percent:100}});else{this.push({data:e.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};h.prototype.flush=function(){var t=this.bytesWritten;for(var e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t;var i=p(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})};h.prototype.prepareNextSource=function(){this.previous=this._sources.shift();this.openedSource(this.previous.streamInfo);this.isPaused?this.previous.pause():this.previous.resume()};h.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;t.on("data",function(t){e.processChunk(t)});t.on("end",function(){e.closedSource(e.previous.streamInfo);e._sources.length?e.prepareNextSource():e.end()});t.on("error",function(t){e.error(t)});return this};h.prototype.resume=function(){if(!r.prototype.resume.call(this))return false;if(!this.previous&&this._sources.length){this.prepareNextSource();return true}if(!this.previous&&!this._sources.length&&!this.generatedError){this.end();return true}};h.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return false;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return true};h.prototype.lock=function(){r.prototype.lock.call(this);var t=this._sources;for(var e=0;e<t.length;e++)t[e].lock()};e.exports=h},{"../crc32":4,"../signature":20,"../stream/GenericWorker":25,"../utf8":28,"../utils":29}],9:[function(t,e,n){"use strict";var i=t("../compressions");var r=t("./ZipFileWorker");var o=function(t,e){var n=t||e;var r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};n.generateWorker=function(t,e,n){var i=new r(e.streamFiles,n,e.platform,e.encodeFileName);var s=0;try{t.forEach(function(t,n){s++;var r=o(n.options.compression,e.compression);var a=n.options.compressionOptions||e.compressionOptions||{};var l=n.dir,c=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:t,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)});i.entriesCount=s}catch(t){i.error(t)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={};this.comment=null;this.root="";this.clone=function(){var t=new i;for(var e in this)"function"!==typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=t("./object");i.prototype.loadAsync=t("./load");i.support=t("./support");i.defaults=t("./defaults");i.loadAsync=function(t,e){return(new i).loadAsync(t,e)};i.external=t("./external");e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":13,"./support":27}],11:[function(t,e,n){"use strict";var i=t("./utils");var r=t("./external");var o=t("./utf8");var i=t("./utils");var s=t("./zipEntries");var a=t("./stream/Crc32Probe");var l=t("./nodejsUtils");function c(t){return new r.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new a);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}e.exports=function(t,e){var n=this;e=i.extend(e||{},{base64:false,checkCRC32:false,optimizedBinaryString:false,createFolders:false,decodeFileName:o.utf8decode});if(l.isNode&&l.isStream(t))return r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return i.prepareContent("the loaded zip file",t,true,e.optimizedBinaryString,e.base64).then(function(t){var n=new s(e);n.load(t);return n}).then(function t(n){var i=[r.Promise.resolve(n)];var o=n.files;if(e.checkCRC32)for(var s=0;s<o.length;s++)i.push(c(o[s]));return r.Promise.all(i)}).then(function t(i){var r=i.shift();var o=r.files;for(var s=0;s<o.length;s++){var a=o[s];n.file(a.fileNameStr,a.decompressed,{binary:true,optimizedBinaryString:true,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}r.zipComment.length&&(n.comment=r.zipComment);return n})}},{"./external":6,"./nodejsUtils":12,"./stream/Crc32Probe":22,"./utf8":28,"./utils":29,"./zipEntries":30}],12:[function(t,e,n){(function(t){"use strict";e.exports={isNode:"undefined"!==typeof t,newBuffer:function(e,n){return new t(e,n)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(t){return t&&"function"===typeof t.on&&"function"===typeof t.pause&&"function"===typeof t.resume}}}).call(this,"undefined"!==typeof Buffer?Buffer:void 0)},{}],13:[function(t,e,n){"use strict";var i=t("./utf8");var r=t("./utils");var o=t("./stream/GenericWorker");var s=t("./stream/StreamHelper");var a=t("./defaults");var l=t("./compressedObject");var c=t("./zipObject");var u=t("./generate");var d=t("./nodejsUtils");var p=t("./nodejs/NodejsStreamInputAdapter");var f=function(t,e,n){var i=r.getTypeOf(e),s;n=r.extend(n||{},a);n.date=n.date||new Date;null!==n.compression&&(n.compression=n.compression.toUpperCase());"string"===typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8));n.unixPermissions&&16384&n.unixPermissions&&(n.dir=true);n.dosPermissions&&16&n.dosPermissions&&(n.dir=true);n.dir&&(t=v(t));n.createFolders&&(s=h(t))&&g.call(this,s,true);var u="string"===i&&false===n.binary&&false===n.base64;n.binary=!u;var f=e instanceof l&&0===e.uncompressedSize;if(f||n.dir||!e||0===e.length){n.base64=false;n.binary=true;e="";n.compression="STORE";i="string"}var m=null;m=e instanceof l||e instanceof o?e:d.isNode&&d.isStream(e)?new p(t,e):r.prepareContent(t,e,n.binary,n.optimizedBinaryString,n.base64);var b=new c(t,m,n);this.files[t]=b};var h=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""};var v=function(t){"/"!==t.slice(-1)&&(t+="/");return t};var g=function(t,e){e="undefined"!==typeof e?e:a.createFolders;t=v(t);this.files[t]||f.call(this,t,null,{dir:true,createFolders:e});return this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files){if(!this.files.hasOwnProperty(e))continue;i=this.files[e];n=e.slice(this.root.length,e.length);n&&e.slice(0,this.root.length)===this.root&&t(n,i)}},filter:function(t){var e=[];this.forEach(function(n,i){t(n,i)&&e.push(i)});return e},file:function(t,e,n){if(1===arguments.length){if(m(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var r=this.files[this.root+t];return r&&!r.dir?r:null}t=this.root+t;f.call(this,t,e,n);return this},folder:function(t){if(!t)return this;if(m(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t;var n=g.call(this,e);var i=this.clone();i.root=n.name;return i},remove:function(t){t=this.root+t;var e=this.files[t];if(!e){"/"!==t.slice(-1)&&(t+="/");e=this.files[t]}if(e&&!e.dir)delete this.files[t];else{var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t});for(var i=0;i<n.length;i++)delete this.files[n[i].name]}return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{n=r.extend(t||{},{streamFiles:false,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode});n.type=n.type.toLowerCase();n.compression=n.compression.toUpperCase();"binarystring"===n.type&&(n.type="string");if(!n.type)throw new Error("No output type specified.");r.checkSupport(n.type);"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX");"win32"===t.platform&&(t.platform="DOS");var a=n.comment||this.comment||"";e=u.generateWorker(this,n,a)}catch(t){e=new o("error");e.error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){t=t||{};t.type||(t.type="nodebuffer");return this.generateInternalStream(t).toNodejsStream(e)}};e.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":35,"./nodejsUtils":12,"./stream/GenericWorker":25,"./stream/StreamHelper":26,"./utf8":28,"./utils":29,"./zipObject":32}],14:[function(t,e,n){"use strict";var i=t("./DataReader");var r=t("../utils");function o(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}r.inherits(o,i);o.prototype.byteAt=function(t){return this.data[this.zero+t]};o.prototype.lastIndexOfSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3);for(var o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1};o.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]};o.prototype.readData=function(t){this.checkOffset(t);if(0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);this.index+=t;return e};e.exports=o},{"../utils":29,"./DataReader":15}],15:[function(t,e,n){"use strict";var i=t("../utils");function r(t){this.data=t;this.length=t.length;this.index=0;this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t);this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e=0,n;this.checkOffset(t);for(n=this.index+t-1;n>=this.index;n--)e=(e<<8)+this.byteAt(n);this.index+=t;return e},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}};e.exports=r},{"../utils":29}],16:[function(t,e,n){"use strict";var i=t("./Uint8ArrayReader");var r=t("../utils");function o(t){i.call(this,t)}r.inherits(o,i);o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);this.index+=t;return e};e.exports=o},{"../utils":29,"./Uint8ArrayReader":18}],17:[function(t,e,n){"use strict";var i=t("./DataReader");var r=t("../utils");function o(t){i.call(this,t)}r.inherits(o,i);o.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)};o.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero};o.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e};o.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);this.index+=t;return e};e.exports=o},{"../utils":29,"./DataReader":15}],18:[function(t,e,n){"use strict";var i=t("./ArrayReader");var r=t("../utils");function o(t){i.call(this,t)}r.inherits(o,i);o.prototype.readData=function(t){this.checkOffset(t);if(0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);this.index+=t;return e};e.exports=o},{"../utils":29,"./ArrayReader":14}],19:[function(t,e,n){"use strict";var i=t("../utils");var r=t("../support");var o=t("./ArrayReader");var s=t("./StringReader");var a=t("./NodeBufferReader");var l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);i.checkSupport(e);if("string"===e&&!r.uint8array)return new s(t);if("nodebuffer"===e)return new a(t);if(r.uint8array)return new l(i.transformTo("uint8array",t));return new o(i.transformTo("array",t))}},{"../support":27,"../utils":29,"./ArrayReader":14,"./NodeBufferReader":16,"./StringReader":17,"./Uint8ArrayReader":18}],20:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK";n.CENTRAL_FILE_HEADER="PK";n.CENTRAL_DIRECTORY_END="PK";n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK";n.ZIP64_CENTRAL_DIRECTORY_END="PK";n.DATA_DESCRIPTOR="PK\b"},{}],21:[function(t,e,n){"use strict";var i=t("./GenericWorker");var r=t("../utils");function o(t){i.call(this,"ConvertWorker to "+t);this.destType=t}r.inherits(o,i);o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})};e.exports=o},{"../utils":29,"./GenericWorker":25}],22:[function(t,e,n){"use strict";var i=t("./GenericWorker");var r=t("../crc32");var o=t("../utils");function s(){i.call(this,"Crc32Probe")}o.inherits(s,i);s.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0);this.push(t)};e.exports=s},{"../crc32":4,"../utils":29,"./GenericWorker":25}],23:[function(t,e,n){"use strict";var i=t("../utils");var r=t("./GenericWorker");function o(t){r.call(this,"DataLengthProbe for "+t);this.propName=t;this.withStreamInfo(t,0)}i.inherits(o,r);o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)};e.exports=o},{"../utils":29,"./GenericWorker":25}],24:[function(t,e,n){"use strict";var i=t("../utils");var r=t("./GenericWorker");var o=16384;function s(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=false;this.index=0;this.max=0;this.data=null;this.type="";this._tickScheduled=false;t.then(function(t){e.dataIsReady=true;e.data=t;e.max=t&&t.length||0;e.type=i.getTypeOf(t);e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,r);s.prototype.cleanUp=function(){r.prototype.cleanUp.call(this);this.data=null};s.prototype.resume=function(){if(!r.prototype.resume.call(this))return false;if(!this._tickScheduled&&this.dataIsReady){this._tickScheduled=true;i.delay(this._tickAndRepeat,[],this)}return true};s.prototype._tickAndRepeat=function(){this._tickScheduled=false;if(this.isPaused||this.isFinished)return;this._tick();if(!this.isFinished){i.delay(this._tickAndRepeat,[],this);this._tickScheduled=true}};s.prototype._tick=function(){if(this.isPaused||this.isFinished)return false;var t=o;var e=null,n=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,n);break;case"uint8array":e=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":e=this.data.slice(this.index,n);break}this.index=n;return this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})};e.exports=s},{"../utils":29,"./GenericWorker":25}],25:[function(t,e,n){"use strict";function i(t){this.name=t||"default";this.streamInfo={};this.generatedError=null;this.extraStreamInfo={};this.isPaused=true;this.isFinished=false;this.isLocked=false;this._listeners={data:[],end:[],error:[]};this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return false;this.flush();try{this.emit("end");this.cleanUp();this.isFinished=true}catch(t){this.emit("error",t)}return true},error:function(t){if(this.isFinished)return false;if(this.isPaused)this.generatedError=t;else{this.isFinished=true;this.emit("error",t);this.previous&&this.previous.error(t);this.cleanUp()}return true},on:function(t,e){this._listeners[t].push(e);return this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null;this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo;this.mergeStreamInfo();this.previous=t;var e=this;t.on("data",function(t){e.processChunk(t)});t.on("end",function(){e.end()});t.on("error",function(t){e.error(t)});return this},pause:function(){if(this.isPaused||this.isFinished)return false;this.isPaused=true;this.previous&&this.previous.pause();return true},resume:function(){if(!this.isPaused||this.isFinished)return false;this.isPaused=false;var t=false;if(this.generatedError){this.error(this.generatedError);t=true}this.previous&&this.previous.resume();return!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){this.extraStreamInfo[t]=e;this.mergeStreamInfo();return this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo){if(!this.extraStreamInfo.hasOwnProperty(t))continue;this.streamInfo[t]=this.extraStreamInfo[t]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=true;this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}};e.exports=i},{}],26:[function(t,e,n){(function(n){"use strict";var i=t("../utils");var r=t("./ConvertWorker");var o=t("./GenericWorker");var s=t("../base64");var a=t("../nodejs/NodejsStreamOutputAdapter");var l=t("../external");function c(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}function u(t,e){var i,r=0,o=null,s=0;for(i=0;i<e.length;i++)s+=e[i].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":o=new Uint8Array(s);for(i=0;i<e.length;i++){o.set(e[i],r);r+=e[i].length}return o;case"nodebuffer":return n.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function d(t,e){return new l.Promise(function(n,i){var r=[];var o=t._internalType,s=t._outputType,a=t._mimeType;t.on("data",function(t,n){r.push(t);e&&e(n)}).on("error",function(t){r=[];i(t)}).on("end",function(){try{var t=c(s,u(o,r),a);n(t)}catch(t){i(t)}r=[]}).resume()})}function p(t,e,n){var s=e;switch(e){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string";break}try{this._internalType=s;this._outputType=e;this._mimeType=n;i.checkSupport(s);this._worker=t.pipe(new r(s));t.lock()}catch(t){this._worker=new o("error");this._worker.error(t)}}p.prototype={accumulate:function(t){return d(this,t)},on:function(t,e){var n=this;"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){i.delay(e,arguments,n)});return this},resume:function(){i.delay(this._worker.resume,[],this._worker);return this},pause:function(){this._worker.pause();return this},toNodejsStream:function(t){i.checkSupport("nodestream");if("nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new a(this,{objectMode:"nodebuffer"!==this._outputType},t)}};e.exports=p}).call(this,"undefined"!==typeof Buffer?Buffer:void 0)},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":35,"../utils":29,"./ConvertWorker":21,"./GenericWorker":25}],27:[function(t,e,n){(function(e){"use strict";n.base64=true;n.array=true;n.string=true;n.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array;n.nodebuffer="undefined"!==typeof e;n.uint8array="undefined"!==typeof Uint8Array;if("undefined"===typeof ArrayBuffer)n.blob=false;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var o=new r;o.append(i);n.blob=0===o.getBlob("application/zip").size}catch(t){n.blob=false}}}n.nodestream=!!t("./nodejs/NodejsStreamOutputAdapter").prototype}).call(this,"undefined"!==typeof Buffer?Buffer:void 0)},{"./nodejs/NodejsStreamOutputAdapter":35}],28:[function(t,e,n){"use strict";var i=t("./utils");var r=t("./support");var o=t("./nodejsUtils");var s=t("./stream/GenericWorker");var a=new Array(256);for(var l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;a[254]=a[254]=1;var c=function(t){var e,n,i,o,s,a=t.length,l=0;for(o=0;o<a;o++){n=t.charCodeAt(o);if(55296===(64512&n)&&o+1<a){i=t.charCodeAt(o+1);if(56320===(64512&i)){n=65536+(n-55296<<10)+(i-56320);o++}}l+=n<128?1:n<2048?2:n<65536?3:4}e=r.uint8array?new Uint8Array(l):new Array(l);for(s=0,o=0;s<l;o++){n=t.charCodeAt(o);if(55296===(64512&n)&&o+1<a){i=t.charCodeAt(o+1);if(56320===(64512&i)){n=65536+(n-55296<<10)+(i-56320);o++}}if(n<128)e[s++]=n;else if(n<2048){e[s++]=192|n>>>6;e[s++]=128|63&n}else if(n<65536){e[s++]=224|n>>>12;e[s++]=128|n>>>6&63;e[s++]=128|63&n}else{e[s++]=240|n>>>18;e[s++]=128|n>>>12&63;e[s++]=128|n>>>6&63;e[s++]=128|63&n}}return e};var u=function(t,e){var n;e=e||t.length;e>t.length&&(e=t.length);n=e-1;while(n>=0&&128===(192&t[n]))n--;if(n<0)return e;if(0===n)return e;return n+a[t[n]]>e?n:e};var d=function(t){var e,n,r,o,s;var l=t.length;var c=new Array(2*l);for(r=0,n=0;n<l;){o=t[n++];if(o<128){c[r++]=o;continue}s=a[o];if(s>4){c[r++]=65533;n+=s-1;continue}o&=2===s?31:3===s?15:7;while(s>1&&n<l){o=o<<6|63&t[n++];s--}if(s>1){c[r++]=65533;continue}if(o<65536)c[r++]=o;else{o-=65536;c[r++]=55296|o>>10&1023;c[r++]=56320|1023&o}}c.length!==r&&(c.subarray?c=c.subarray(0,r):c.length=r);return i.applyFromCharCode(c)};n.utf8encode=function t(e){if(r.nodebuffer)return o.newBuffer(e,"utf-8");return c(e)};n.utf8decode=function t(e){if(r.nodebuffer)return i.transformTo("nodebuffer",e).toString("utf-8");e=i.transformTo(r.uint8array?"uint8array":"array",e);return d(e)};function p(){s.call(this,"utf-8 decode");this.leftOver=null}i.inherits(p,s);p.prototype.processChunk=function(t){var e=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=e;e=new Uint8Array(o.length+this.leftOver.length);e.set(this.leftOver,0);e.set(o,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var s=u(e);var a=e;if(s!==e.length)if(r.uint8array){a=e.subarray(0,s);this.leftOver=e.subarray(s,e.length)}else{a=e.slice(0,s);this.leftOver=e.slice(s,e.length)}this.push({data:n.utf8decode(a),meta:t.meta})};p.prototype.flush=function(){if(this.leftOver&&this.leftOver.length){this.push({data:n.utf8decode(this.leftOver),meta:{}});this.leftOver=null}};n.Utf8DecodeWorker=p;function f(){s.call(this,"utf-8 encode")}i.inherits(f,s);f.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})};n.Utf8EncodeWorker=f},{"./nodejsUtils":12,"./stream/GenericWorker":25,"./support":27,"./utils":29}],29:[function(t,e,n){"use strict";var i=t("./support");var r=t("./base64");var o=t("./nodejsUtils");var s=t("asap");var a=t("./external");function l(t){var e=null;e=i.uint8array?new Uint8Array(t.length):new Array(t.length);return u(t,e)}n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var r=new i;r.append(t);return r.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};function c(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}var d={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);while(r<o){"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o))));r+=n}return i.join("")},stringifyByChar:function(t){var e="";for(var n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return false}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.newBuffer(1)).length}catch(t){return false}}()}};function p(t){var e=65536,i=n.getTypeOf(t),r=true;"uint8array"===i?r=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=d.applyCanBeUsed.nodebuffer);if(r)while(e>1)try{return d.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return d.stringifyByChar(t)}n.applyFromCharCode=p;function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var h={};h["string"]={string:c,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return h["string"]["uint8array"](t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,o.newBuffer(t.length))}};h["array"]={string:p,array:c,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBuffer(t)}};h["arraybuffer"]={string:function(t){return p(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:c,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBuffer(new Uint8Array(t))}};h["uint8array"]={string:p,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:c,nodebuffer:function(t){return o.newBuffer(t)}};h["nodebuffer"]={string:p,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return h["nodebuffer"]["uint8array"](t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:c};n.transformTo=function(t,e){e||(e="");if(!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);var r=h[i][t](e);return r};n.getTypeOf=function(t){if("string"===typeof t)return"string";if("[object Array]"===Object.prototype.toString.call(t))return"array";if(i.nodebuffer&&o.isBuffer(t))return"nodebuffer";if(i.uint8array&&t instanceof Uint8Array)return"uint8array";if(i.arraybuffer&&t instanceof ArrayBuffer)return"arraybuffer"};n.checkSupport=function(t){var e=i[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")};n.MAX_VALUE_16BITS=65535;n.MAX_VALUE_32BITS=-1;n.pretty=function(t){var e="",n,i;for(i=0;i<(t||"").length;i++){n=t.charCodeAt(i);e+="\\x"+(n<16?"0":"")+n.toString(16).toUpperCase()}return e};n.delay=function(t,e,n){s(function(){t.apply(n||null,e||[])})};n.inherits=function(t,e){var n=function(){};n.prototype=e.prototype;t.prototype=new n};n.extend=function(){var t={},e,n;for(e=0;e<arguments.length;e++)for(n in arguments[e])arguments[e].hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=arguments[e][n]);return t};n.prepareContent=function(t,e,o,s,c){var u=null;u=i.blob&&e instanceof Blob&&"undefined"!==typeof FileReader?new a.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)};i.onerror=function(t){n(t.target.error)};i.readAsArrayBuffer(e)}):a.Promise.resolve(e);return u.then(function(e){var i=n.getTypeOf(e);if(!i)return a.Promise.reject(new Error("The data of '"+t+"' is in an unsupported format !"));"arraybuffer"===i?e=n.transformTo("uint8array",e):"string"===i&&(c?e=r.decode(e):o&&true!==s&&(e=l(e)));return e})}},{"./base64":1,"./external":6,"./nodejsUtils":12,"./support":27,asap:33}],30:[function(t,e,n){"use strict";var i=t("./reader/readerFor");var r=t("./utils");var o=t("./signature");var s=t("./zipEntry");var a=t("./utf8");var l=t("./support");function c(t){this.files=[];this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4);var r=i===e;this.reader.setIndex(n);return r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength);var e=l.uint8array?"uint8array":"array";var n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.reader.skip(4);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var t=this.zip64EndOfCentralSize-44,e=0,n,i,r;while(e<t){n=this.reader.readInt(2);i=this.reader.readInt(4);r=this.reader.readData(i);this.zip64ExtensibleData[n]={id:n,length:i,value:r}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++){e=this.files[t];this.reader.setIndex(e.localHeaderOffset);this.checkSignature(o.LOCAL_FILE_HEADER);e.readLocalPart(this.reader);e.handleUTF8();e.processAttributes()}},readCentralDir:function(){var t;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER)){t=new s({zip64:this.zip64},this.loadOptions);t.readCentralPart(this.reader);this.files.push(t)}if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0){var e=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(t);var n=t;this.checkSignature(o.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){this.zip64=true;t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(t<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t);this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();if(!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)){this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END);if(this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;if(this.zip64){i+=20;i+=12+this.zip64EndOfCentralSize}var s=n-i;if(s>0)this.isSignature(n,o.CENTRAL_FILE_HEADER)||(this.reader.zero=s);else if(s<0)throw new Error("Corrupted zip: missing "+Math.abs(s)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};e.exports=c},{"./reader/readerFor":19,"./signature":20,"./support":27,"./utf8":28,"./utils":29,"./zipEntry":31}],31:[function(t,e,n){"use strict";var i=t("./reader/readerFor");var r=t("./utils");var o=t("./compressedObject");var s=t("./crc32");var a=t("./utf8");var l=t("./compressions");var c=t("./support");var u=0;var d=3;var p=function(t){for(var e in l){if(!l.hasOwnProperty(e))continue;if(l[e].magic===t)return l[e]}return null};function f(t,e){this.options=t;this.loadOptions=e}f.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,n;t.skip(22);this.fileNameLength=t.readInt(2);n=t.readInt(2);this.fileName=t.readData(this.fileNameLength);t.skip(n);if(-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");e=p(this.compressionMethod);if(null===e)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2);t.skip(2);this.bitFlag=t.readInt(2);this.compressionMethod=t.readString(2);this.date=t.readDate();this.crc32=t.readInt(4);this.compressedSize=t.readInt(4);this.uncompressedSize=t.readInt(4);var e=t.readInt(2);this.extraFieldsLength=t.readInt(2);this.fileCommentLength=t.readInt(2);this.diskNumberStart=t.readInt(2);this.internalFileAttributes=t.readInt(2);this.externalFileAttributes=t.readInt(4);this.localHeaderOffset=t.readInt(4);if(this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e);this.readExtraFields(t);this.parseZIP64ExtraField(t);this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null;this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes);t===u&&(this.dosPermissions=63&this.externalFileAttributes);t===d&&(this.unixPermissions=this.externalFileAttributes>>16&65535);this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=true)},parseZIP64ExtraField:function(t){if(!this.extraFields[1])return;var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8));this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8));this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8));this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(t){var e=t.index+this.extraFieldsLength,n,i,r;this.extraFields||(this.extraFields={});while(t.index<e){n=t.readInt(2);i=t.readInt(2);r=t.readData(i);this.extraFields[n]={id:n,length:i,value:r}}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8()){this.fileNameStr=a.utf8decode(this.fileName);this.fileCommentStr=a.utf8decode(this.fileComment)}else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);if(1!==e.readInt(1))return null;if(s(this.fileName)!==e.readInt(4))return null;return a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);if(1!==e.readInt(1))return null;if(s(this.fileComment)!==e.readInt(4))return null;return a.utf8decode(e.readData(t.length-5))}return null}};e.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":19,"./support":27,"./utf8":28,"./utils":29}],32:[function(t,e,n){"use strict";var i=t("./stream/StreamHelper");var r=t("./stream/DataWorker");var o=t("./utf8");var s=t("./compressedObject");var a=t("./stream/GenericWorker");var l=function(t,e,n){this.name=t;this.dir=n.dir;this.date=n.date;this.comment=n.comment;this.unixPermissions=n.unixPermissions;this.dosPermissions=n.dosPermissions;this._data=e;this._dataBinary=n.binary;this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(t){var e=t.toLowerCase();var n="string"===e||"text"===e;"binarystring"!==e&&"text"!==e||(e="string");var r=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(r=r.pipe(new o.Utf8EncodeWorker));!s&&n&&(r=r.pipe(new o.Utf8DecodeWorker));return new i(r,e,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker));return s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"];var u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(var d=0;d<c.length;d++)l.prototype[c[d]]=u;e.exports=l},{"./compressedObject":2,"./stream/DataWorker":24,"./stream/GenericWorker":25,"./stream/StreamHelper":26,"./utf8":28}],33:[function(t,e,n){"use strict";var i=t("./raw");var r=[];var o=[];var s=i.makeRequestCallFromTimer(a);function a(){if(o.length)throw o.shift()}e.exports=l;function l(t){var e;e=r.length?r.pop():new c;e.task=t;i(e)}function c(){this.task=null}c.prototype.call=function(){try{this.task.call()}catch(t){if(l.onerror)l.onerror(t);else{o.push(t);s()}}finally{this.task=null;r[r.length]=this}}},{"./raw":34}],34:[function(t,e,n){(function(t){"use strict";e.exports=n;function n(t){if(!i.length){o();r=true}i[i.length]=t}var i=[];var r=false;var o;var s=0;var a=1024;function l(){while(s<i.length){var t=s;s+=1;i[t].call();if(s>a){for(var e=0,n=i.length-s;e<n;e++)i[e]=i[e+s];i.length-=s;s=0}}i.length=0;s=0;r=false}var c=t.MutationObserver||t.WebKitMutationObserver;o="function"===typeof c?u(l):d(l);n.requestFlush=o;function u(t){var e=1;var n=new c(t);var i=document.createTextNode("");n.observe(i,{characterData:true});return function t(){e=-e;i.data=e}}function d(t){return function e(){var n=setTimeout(r,0);var i=setInterval(r,50);function r(){clearTimeout(n);clearInterval(i);t()}}}n.makeRequestCallFromTimer=d}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],35:[function(t,e,n){},{}],36:[function(t,e,n){var i=e.exports={};var r=[];var o=false;var s;var a=-1;function l(){o=false;s.length?r=s.concat(r):a=-1;r.length&&c()}function c(){if(o)return;var t=setTimeout(l);o=true;var e=r.length;while(e){s=r;r=[];while(++a<e)s&&s[a].run();a=-1;e=r.length}s=null;o=false;clearTimeout(t)}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];r.push(new u(t,e));1!==r.length||o||setTimeout(c,0)};function u(t,e){this.fun=t;this.array=e}u.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function d(){}i.on=d;i.addListener=d;i.once=d;i.off=d;i.removeListener=d;i.removeAllListeners=d;i.emit=d;i.binding=function(t){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(t){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},{}],37:[function(e,n,i){(function(i,r){(function(){"use strict";function o(t){return"function"===typeof t||"object"===typeof t&&null!==t}function s(t){return"function"===typeof t}function a(t){return"object"===typeof t&&null!==t}var l;l=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var c=l;var u=0;var d={}.toString;var p;var f;var h=function t(e,n){E[u]=e;E[u+1]=n;u+=2;2===u&&(f?f(k):A())};function v(t){f=t}function g(t){h=t}var m="undefined"!==typeof window?window:void 0;var b=m||{};var y=b.MutationObserver||b.WebKitMutationObserver;var x="undefined"!==typeof i&&"[object process]"==={}.toString.call(i);var w="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function q(){return function(){i.nextTick(k)}}function _(){return function(){p(k)}}function C(){var t=0;var e=new y(k);var n=document.createTextNode("");e.observe(n,{characterData:true});return function(){n.data=t=++t%2}}function S(){var t=new MessageChannel;t.port1.onmessage=k;return function(){t.port2.postMessage(0)}}function D(){return function(){setTimeout(k,1)}}var E=new Array(1e3);function k(){for(var t=0;t<u;t+=2){var e=E[t];var n=E[t+1];e(n);E[t]=void 0;E[t+1]=void 0}u=0}function T(){try{var t=e;var n=t("vertx");p=n.runOnLoop||n.runOnContext;return _()}catch(t){return D()}}var A;A=x?q():y?C():w?S():void 0===m&&"function"===typeof e?T():D();function I(){}var O=void 0;var L=1;var P=2;var M=new Y;function N(){return new TypeError("You cannot resolve a promise with itself")}function j(){return new TypeError("A promises callback cannot return that same promise.")}function F(t){try{return t.then}catch(t){M.error=t;return M}}function R(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function V(t,e,n){h(function(t){var i=false;var r=R(n,e,function(n){if(i)return;i=true;e!==n?z(t,n):W(t,n)},function(e){if(i)return;i=true;U(t,e)},"Settle: "+(t._label||" unknown promise"));if(!i&&r){i=true;U(t,r)}},t)}function $(t,e){e._state===L?W(t,e._result):e._state===P?U(t,e._result):G(e,void 0,function(e){z(t,e)},function(e){U(t,e)})}function H(t,e){if(e.constructor===t.constructor)$(t,e);else{var n=F(e);n===M?U(t,M.error):void 0===n?W(t,e):s(n)?V(t,e,n):W(t,e)}}function z(t,e){t===e?U(t,N()):o(e)?H(t,e):W(t,e)}function B(t){t._onerror&&t._onerror(t._result);K(t)}function W(t,e){if(t._state!==O)return;t._result=e;t._state=L;0!==t._subscribers.length&&h(K,t)}function U(t,e){if(t._state!==O)return;t._state=P;t._result=e;h(B,t)}function G(t,e,n,i){var r=t._subscribers;var o=r.length;t._onerror=null;r[o]=e;r[o+L]=n;r[o+P]=i;0===o&&t._state&&h(K,t)}function K(t){var e=t._subscribers;var n=t._state;if(0===e.length)return;var i,r,o=t._result;for(var s=0;s<e.length;s+=3){i=e[s];r=e[s+n];i?J(n,i,r,o):r(o)}t._subscribers.length=0}function Y(){this.error=null}var X=new Y;function Z(t,e){try{return t(e)}catch(t){X.error=t;return X}}function J(t,e,n,i){var r=s(n),o,a,l,c;if(r){o=Z(n,i);if(o===X){c=true;a=o.error;o=null}else l=true;if(e===o){U(e,j());return}}else{o=i;l=true}e._state!==O||(r&&l?z(e,o):c?U(e,a):t===L?W(e,o):t===P&&U(e,o))}function Q(t,e){try{e(function e(n){z(t,n)},function e(n){U(t,n)})}catch(e){U(t,e)}}function tt(t,e){var n=this;n._instanceConstructor=t;n.promise=new t(I);if(n._validateInput(e)){n._input=e;n.length=e.length;n._remaining=e.length;n._init();if(0===n.length)W(n.promise,n._result);else{n.length=n.length||0;n._enumerate();0===n._remaining&&W(n.promise,n._result)}}else U(n.promise,n._validationError())}tt.prototype._validateInput=function(t){return c(t)};tt.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};tt.prototype._init=function(){this._result=new Array(this.length)};var et=tt;tt.prototype._enumerate=function(){var t=this;var e=t.length;var n=t.promise;var i=t._input;for(var r=0;n._state===O&&r<e;r++)t._eachEntry(i[r],r)};tt.prototype._eachEntry=function(t,e){var n=this;var i=n._instanceConstructor;if(a(t))if(t.constructor===i&&t._state!==O){t._onerror=null;n._settledAt(t._state,e,t._result)}else n._willSettleAt(i.resolve(t),e);else{n._remaining--;n._result[e]=t}};tt.prototype._settledAt=function(t,e,n){var i=this;var r=i.promise;if(r._state===O){i._remaining--;t===P?U(r,n):i._result[e]=n}0===i._remaining&&W(r,i._result)};tt.prototype._willSettleAt=function(t,e){var n=this;G(t,void 0,function(t){n._settledAt(L,e,t)},function(t){n._settledAt(P,e,t)})};function nt(t){return new et(this,t).promise}var it=nt;function rt(t){var e=this;var n=new e(I);if(!c(t)){U(n,new TypeError("You must pass an array to race."));return n}var i=t.length;function r(t){z(n,t)}function o(t){U(n,t)}for(var s=0;n._state===O&&s<i;s++)G(e.resolve(t[s]),void 0,r,o);return n}var ot=rt;function st(t){var e=this;if(t&&"object"===typeof t&&t.constructor===e)return t;var n=new e(I);z(n,t);return n}var at=st;function lt(t){var e=this;var n=new e(I);U(n,t);return n}var ct=lt;var ut=0;function dt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function pt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ft=ht;function ht(t){this._id=ut++;this._state=void 0;this._result=void 0;this._subscribers=[];if(I!==t){s(t)||dt();this instanceof ht||pt();Q(this,t)}}ht.all=it;ht.race=ot;ht.resolve=at;ht.reject=ct;ht._setScheduler=v;ht._setAsap=g;ht._asap=h;ht.prototype={constructor:ht,then:function(t,e){var n=this;var i=n._state;if(i===L&&!t||i===P&&!e)return this;var r=new this.constructor(I);var o=n._result;if(i){var s=arguments[i-1];h(function(){J(i,r,s,o)})}else G(n,r,t,e);return r},catch:function(t){return this.then(null,t)}};function vt(){var t;if("undefined"!==typeof r)t=r;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast)return;t.Promise=ft}var gt=vt;var mt={Promise:ft,polyfill:gt};"function"===typeof t&&t["amd"]?t(function(){return mt}):"undefined"!==typeof n&&n["exports"]?n["exports"]=mt:"undefined"!==typeof this&&(this["ES6Promise"]=mt);gt()}).call(this)}).call(this,e("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:36}],38:[function(t,e,n){"use strict";var i=t("./lib/utils/common").assign;var r=t("./lib/deflate");var o=t("./lib/inflate");var s=t("./lib/zlib/constants");var a={};i(a,r,o,s);e.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var i=t("./zlib/deflate");var r=t("./utils/common");var o=t("./utils/strings");var s=t("./zlib/messages");var a=t("./zlib/zstream");var l=Object.prototype.toString;var c=0;var u=4;var d=0;var p=1;var f=2;var h=-1;var v=0;var g=8;function m(t){if(!(this instanceof m))return new m(t);this.options=r.assign({level:h,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16);this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new a;this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(s[n]);e.header&&i.deflateSetHeader(this.strm,e.header);if(e.dictionary){var c;c="string"===typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;n=i.deflateSetDictionary(this.strm,c);if(n!==d)throw new Error(s[n]);this._dict_set=true}}m.prototype.push=function(t,e){var n=this.strm;var s=this.options.chunkSize;var a,h;if(this.ended)return false;h=e===~~e?e:true===e?u:c;"string"===typeof t?n.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?n.input=new Uint8Array(t):n.input=t;n.next_in=0;n.avail_in=n.input.length;do{if(0===n.avail_out){n.output=new r.Buf8(s);n.next_out=0;n.avail_out=s}a=i.deflate(n,h);if(a!==p&&a!==d){this.onEnd(a);this.ended=true;return false}0!==n.avail_out&&(0!==n.avail_in||h!==u&&h!==f)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(n.output,n.next_out))):this.onData(r.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&a!==p);if(h===u){a=i.deflateEnd(this.strm);this.onEnd(a);this.ended=true;return a===d}if(h===f){this.onEnd(d);n.avail_out=0;return true}return true};m.prototype.onData=function(t){this.chunks.push(t)};m.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks));this.chunks=[];this.err=t;this.msg=this.strm.msg};function b(t,e){var n=new m(e);n.push(t,true);if(n.err)throw n.msg;return n.result}function y(t,e){e=e||{};e.raw=true;return b(t,e)}function x(t,e){e=e||{};e.gzip=true;return b(t,e)}n.Deflate=m;n.deflate=b;n.deflateRaw=y;n.gzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var i=t("./zlib/inflate");var r=t("./utils/common");var o=t("./utils/strings");var s=t("./zlib/constants");var a=t("./zlib/messages");var l=t("./zlib/zstream");var c=t("./zlib/gzheader");var u=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;if(e.raw&&e.windowBits>=0&&e.windowBits<16){e.windowBits=-e.windowBits;0===e.windowBits&&(e.windowBits=-15)}e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32);e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15);this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new l;this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c;i.inflateGetHeader(this.strm,this.header)}d.prototype.push=function(t,e){var n=this.strm;var a=this.options.chunkSize;var l=this.options.dictionary;var c,d;var p,f,h;var v;var g=false;if(this.ended)return false;d=e===~~e?e:true===e?s.Z_FINISH:s.Z_NO_FLUSH;"string"===typeof t?n.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?n.input=new Uint8Array(t):n.input=t;n.next_in=0;n.avail_in=n.input.length;do{if(0===n.avail_out){n.output=new r.Buf8(a);n.next_out=0;n.avail_out=a}c=i.inflate(n,s.Z_NO_FLUSH);if(c===s.Z_NEED_DICT&&l){v="string"===typeof l?o.string2buf(l):"[object ArrayBuffer]"===u.call(l)?new Uint8Array(l):l;c=i.inflateSetDictionary(this.strm,v)}if(c===s.Z_BUF_ERROR&&true===g){c=s.Z_OK;g=false}if(c!==s.Z_STREAM_END&&c!==s.Z_OK){this.onEnd(c);this.ended=true;return false}if(n.next_out&&(0===n.avail_out||c===s.Z_STREAM_END||0===n.avail_in&&(d===s.Z_FINISH||d===s.Z_SYNC_FLUSH)))if("string"===this.options.to){p=o.utf8border(n.output,n.next_out);f=n.next_out-p;h=o.buf2string(n.output,p);n.next_out=f;n.avail_out=a-f;f&&r.arraySet(n.output,n.output,p,f,0);this.onData(h)}else this.onData(r.shrinkBuf(n.output,n.next_out));0===n.avail_in&&0===n.avail_out&&(g=true)}while((n.avail_in>0||0===n.avail_out)&&c!==s.Z_STREAM_END);c===s.Z_STREAM_END&&(d=s.Z_FINISH);if(d===s.Z_FINISH){c=i.inflateEnd(this.strm);this.onEnd(c);this.ended=true;return c===s.Z_OK}if(d===s.Z_SYNC_FLUSH){this.onEnd(s.Z_OK);n.avail_out=0;return true}return true};d.prototype.onData=function(t){this.chunks.push(t)};d.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks));this.chunks=[];this.err=t;this.msg=this.strm.msg};function p(t,e){var n=new d(e);n.push(t,true);if(n.err)throw n.msg;return n.result}function f(t,e){e=e||{};e.raw=true;return p(t,e)}n.Inflate=d;n.inflate=p;n.inflateRaw=f;n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var i="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;n.assign=function(t){var e=Array.prototype.slice.call(arguments,1);while(e.length){var n=e.shift();if(!n)continue;if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t};n.shrinkBuf=function(t,e){if(t.length===e)return t;if(t.subarray)return t.subarray(0,e);t.length=e;return t};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray){t.set(e.subarray(n,n+i),r);return}for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;i=0;for(e=0,n=t.length;e<n;e++)i+=t[e].length;s=new Uint8Array(i);r=0;for(e=0,n=t.length;e<n;e++){o=t[e];s.set(o,r);r+=o.length}return s}};var o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){if(t){n.Buf8=Uint8Array;n.Buf16=Uint16Array;n.Buf32=Int32Array;n.assign(n,r)}else{n.Buf8=Array;n.Buf16=Array;n.Buf32=Array;n.assign(n,o)}};n.setTyped(i)},{}],42:[function(t,e,n){"use strict";var i=t("./common");var r=true;var o=true;try{String.fromCharCode.apply(null,[0])}catch(t){r=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=false}var s=new i.Buf8(256);for(var a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;s[254]=s[254]=1;n.string2buf=function(t){var e,n,r,o,s,a=t.length,l=0;for(o=0;o<a;o++){n=t.charCodeAt(o);if(55296===(64512&n)&&o+1<a){r=t.charCodeAt(o+1);if(56320===(64512&r)){n=65536+(n-55296<<10)+(r-56320);o++}}l+=n<128?1:n<2048?2:n<65536?3:4}e=new i.Buf8(l);for(s=0,o=0;s<l;o++){n=t.charCodeAt(o);if(55296===(64512&n)&&o+1<a){r=t.charCodeAt(o+1);if(56320===(64512&r)){n=65536+(n-55296<<10)+(r-56320);o++}}if(n<128)e[s++]=n;else if(n<2048){e[s++]=192|n>>>6;e[s++]=128|63&n}else if(n<65536){e[s++]=224|n>>>12;e[s++]=128|n>>>6&63;e[s++]=128|63&n}else{e[s++]=240|n>>>18;e[s++]=128|n>>>12&63;e[s++]=128|n>>>6&63;e[s++]=128|63&n}}return e};function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));var n="";for(var s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}n.buf2binstring=function(t){return l(t,t.length)};n.binstring2buf=function(t){var e=new i.Buf8(t.length);for(var n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e};n.buf2string=function(t,e){var n,i,r,o;var a=e||t.length;var c=new Array(2*a);for(i=0,n=0;n<a;){r=t[n++];if(r<128){c[i++]=r;continue}o=s[r];if(o>4){c[i++]=65533;n+=o-1;continue}r&=2===o?31:3===o?15:7;while(o>1&&n<a){r=r<<6|63&t[n++];o--}if(o>1){c[i++]=65533;continue}if(r<65536)c[i++]=r;else{r-=65536;c[i++]=55296|r>>10&1023;c[i++]=56320|1023&r}}return l(c,i)};n.utf8border=function(t,e){var n;e=e||t.length;e>t.length&&(e=t.length);n=e-1;while(n>=0&&128===(192&t[n]))n--;if(n<0)return e;if(0===n)return e;return n+s[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";function i(t,e,n,i){var r=65535&t|0,o=t>>>16&65535|0,s=0;while(0!==n){s=n>2e3?2e3:n;n-=s;do{r=r+e[i++]|0;o=o+r|0}while(--s);r%=65521;o%=65521}return r|o<<16|0}e.exports=i},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";function i(){var t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}var r=i();function o(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}e.exports=o},{}],46:[function(t,e,n){"use strict";var i=t("../utils/common");var r=t("./trees");var o=t("./adler32");var s=t("./crc32");var a=t("./messages");var l=0;var c=1;var u=3;var d=4;var p=5;var f=0;var h=1;var v=-2;var g=-3;var m=-5;var b=-1;var y=1;var x=2;var w=3;var q=4;var _=0;var C=2;var S=8;var D=9;var E=15;var k=8;var T=29;var A=256;var I=A+1+T;var O=30;var L=19;var P=2*I+1;var M=15;var N=3;var j=258;var F=j+N+1;var R=32;var V=42;var $=69;var H=73;var z=91;var B=103;var W=113;var U=666;var G=1;var K=2;var Y=3;var X=4;var Z=3;function J(t,e){t.msg=a[e];return e}function Q(t){return(t<<1)-(t>4?9:0)}function tt(t){var e=t.length;while(--e>=0)t[e]=0}function et(t){var e=t.state;var n=e.pending;n>t.avail_out&&(n=t.avail_out);if(0===n)return;i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out);t.next_out+=n;e.pending_out+=n;t.total_out+=n;t.avail_out-=n;e.pending-=n;0===e.pending&&(e.pending_out=0)}function nt(t,e){r._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e);t.block_start=t.strstart;et(t.strm)}function it(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255;t.pending_buf[t.pending++]=255&e}function ot(t,e,n,r){var a=t.avail_in;a>r&&(a=r);if(0===a)return 0;t.avail_in-=a;i.arraySet(e,t.input,t.next_in,a,n);1===t.state.wrap?t.adler=o(t.adler,e,a,n):2===t.state.wrap&&(t.adler=s(t.adler,e,a,n));t.next_in+=a;t.total_in+=a;return a}function st(t,e){var n=t.max_chain_length;var i=t.strstart;var r;var o;var s=t.prev_length;var a=t.nice_match;var l=t.strstart>t.w_size-F?t.strstart-(t.w_size-F):0;var c=t.window;var u=t.w_mask;var d=t.prev;var p=t.strstart+j;var f=c[i+s-1];var h=c[i+s];t.prev_length>=t.good_match&&(n>>=2);a>t.lookahead&&(a=t.lookahead);do{r=e;if(c[r+s]!==h||c[r+s-1]!==f||c[r]!==c[i]||c[++r]!==c[i+1])continue;i+=2;r++;do{}while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<p);o=j-(p-i);i=p-j;if(o>s){t.match_start=e;s=o;if(o>=a)break;f=c[i+s-1];h=c[i+s]}}while((e=d[e&u])>l&&0!==--n);if(s<=t.lookahead)return s;return t.lookahead}function at(t){var e=t.w_size;var n,r,o,s,a;do{s=t.window_size-t.lookahead-t.strstart;if(t.strstart>=e+(e-F)){i.arraySet(t.window,t.window,e,e,0);t.match_start-=e;t.strstart-=e;t.block_start-=e;r=t.hash_size;n=r;do{o=t.head[--n];t.head[n]=o>=e?o-e:0}while(--r);r=e;n=r;do{o=t.prev[--n];t.prev[n]=o>=e?o-e:0}while(--r);s+=e}if(0===t.strm.avail_in)break;r=ot(t.strm,t.window,t.strstart+t.lookahead,s);t.lookahead+=r;if(t.lookahead+t.insert>=N){a=t.strstart-t.insert;t.ins_h=t.window[a];t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;while(t.insert){t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+N-1])&t.hash_mask;t.prev[a&t.w_mask]=t.head[t.ins_h];t.head[t.ins_h]=a;a++;t.insert--;if(t.lookahead+t.insert<N)break}}}while(t.lookahead<F&&0!==t.strm.avail_in)}function lt(t,e){var n=65535;n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);for(;;){if(t.lookahead<=1){at(t);if(0===t.lookahead&&e===l)return G;if(0===t.lookahead)break}t.strstart+=t.lookahead;t.lookahead=0;var i=t.block_start+n;if(0===t.strstart||t.strstart>=i){t.lookahead=t.strstart-i;t.strstart=i;nt(t,false);if(0===t.strm.avail_out)return G}if(t.strstart-t.block_start>=t.w_size-F){nt(t,false);if(0===t.strm.avail_out)return G}}t.insert=0;if(e===d){nt(t,true);if(0===t.strm.avail_out)return Y;return X}if(t.strstart>t.block_start){nt(t,false);if(0===t.strm.avail_out)return G}return G}function ct(t,e){var n;var i;for(;;){if(t.lookahead<F){at(t);if(t.lookahead<F&&e===l)return G;if(0===t.lookahead)break}n=0;if(t.lookahead>=N){t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask;n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h];t.head[t.ins_h]=t.strstart}0!==n&&t.strstart-n<=t.w_size-F&&(t.match_length=st(t,n));if(t.match_length>=N){i=r._tr_tally(t,t.strstart-t.match_start,t.match_length-N);t.lookahead-=t.match_length;if(t.match_length<=t.max_lazy_match&&t.lookahead>=N){t.match_length--;do{t.strstart++;t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask;n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h];t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else{t.strstart+=t.match_length;t.match_length=0;t.ins_h=t.window[t.strstart];t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask}}else{i=r._tr_tally(t,0,t.window[t.strstart]);t.lookahead--;t.strstart++}if(i){nt(t,false);if(0===t.strm.avail_out)return G}}t.insert=t.strstart<N-1?t.strstart:N-1;if(e===d){nt(t,true);if(0===t.strm.avail_out)return Y;return X}if(t.last_lit){nt(t,false);if(0===t.strm.avail_out)return G}return K}function ut(t,e){var n;var i;var o;for(;;){if(t.lookahead<F){at(t);if(t.lookahead<F&&e===l)return G;if(0===t.lookahead)break}n=0;if(t.lookahead>=N){t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask;n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h];t.head[t.ins_h]=t.strstart}t.prev_length=t.match_length;t.prev_match=t.match_start;t.match_length=N-1;if(0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-F){t.match_length=st(t,n);t.match_length<=5&&(t.strategy===y||t.match_length===N&&t.strstart-t.match_start>4096)&&(t.match_length=N-1)}if(t.prev_length>=N&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-N;i=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-N);t.lookahead-=t.prev_length-1;t.prev_length-=2;do{if(++t.strstart<=o){t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask;n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h];t.head[t.ins_h]=t.strstart}}while(0!==--t.prev_length);t.match_available=0;t.match_length=N-1;t.strstart++;if(i){nt(t,false);if(0===t.strm.avail_out)return G}}else if(t.match_available){i=r._tr_tally(t,0,t.window[t.strstart-1]);i&&nt(t,false);t.strstart++;t.lookahead--;if(0===t.strm.avail_out)return G}else{t.match_available=1;t.strstart++;t.lookahead--}}if(t.match_available){i=r._tr_tally(t,0,t.window[t.strstart-1]);t.match_available=0}t.insert=t.strstart<N-1?t.strstart:N-1;if(e===d){nt(t,true);if(0===t.strm.avail_out)return Y;return X}if(t.last_lit){nt(t,false);if(0===t.strm.avail_out)return G}return K}function dt(t,e){var n;var i;var o,s;var a=t.window;for(;;){if(t.lookahead<=j){at(t);if(t.lookahead<=j&&e===l)return G;if(0===t.lookahead)break}t.match_length=0;if(t.lookahead>=N&&t.strstart>0){o=t.strstart-1;i=a[o];if(i===a[++o]&&i===a[++o]&&i===a[++o]){s=t.strstart+j;do{}while(i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<s);t.match_length=j-(s-o);t.match_length>t.lookahead&&(t.match_length=t.lookahead)}}if(t.match_length>=N){n=r._tr_tally(t,1,t.match_length-N);t.lookahead-=t.match_length;t.strstart+=t.match_length;t.match_length=0}else{n=r._tr_tally(t,0,t.window[t.strstart]);t.lookahead--;t.strstart++}if(n){nt(t,false);if(0===t.strm.avail_out)return G}}t.insert=0;if(e===d){nt(t,true);if(0===t.strm.avail_out)return Y;return X}if(t.last_lit){nt(t,false);if(0===t.strm.avail_out)return G}return K}function pt(t,e){var n;for(;;){if(0===t.lookahead){at(t);if(0===t.lookahead){if(e===l)return G;break}}t.match_length=0;n=r._tr_tally(t,0,t.window[t.strstart]);t.lookahead--;t.strstart++;if(n){nt(t,false);if(0===t.strm.avail_out)return G}}t.insert=0;if(e===d){nt(t,true);if(0===t.strm.avail_out)return Y;return X}if(t.last_lit){nt(t,false);if(0===t.strm.avail_out)return G}return K}function ft(t,e,n,i,r){this.good_length=t;this.max_lazy=e;this.nice_length=n;this.max_chain=i;this.func=r}var ht;ht=[new ft(0,0,0,0,lt),new ft(4,4,8,4,ct),new ft(4,5,16,8,ct),new ft(4,6,32,32,ct),new ft(4,4,16,16,ut),new ft(8,16,32,32,ut),new ft(8,16,128,128,ut),new ft(8,32,128,256,ut),new ft(32,128,258,1024,ut),new ft(32,258,258,4096,ut)];function vt(t){t.window_size=2*t.w_size;tt(t.head);t.max_lazy_match=ht[t.level].max_lazy;t.good_match=ht[t.level].good_length;t.nice_match=ht[t.level].nice_length;t.max_chain_length=ht[t.level].max_chain;t.strstart=0;t.block_start=0;t.lookahead=0;t.insert=0;t.match_length=t.prev_length=N-1;t.match_available=0;t.ins_h=0}function gt(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=S;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new i.Buf16(2*P);this.dyn_dtree=new i.Buf16(2*(2*O+1));this.bl_tree=new i.Buf16(2*(2*L+1));tt(this.dyn_ltree);tt(this.dyn_dtree);tt(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new i.Buf16(M+1);this.heap=new i.Buf16(2*I+1);tt(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new i.Buf16(2*I+1);tt(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function mt(t){var e;if(!t||!t.state)return J(t,v);t.total_in=t.total_out=0;t.data_type=C;e=t.state;e.pending=0;e.pending_out=0;e.wrap<0&&(e.wrap=-e.wrap);e.status=e.wrap?V:W;t.adler=2===e.wrap?0:1;e.last_flush=l;r._tr_init(e);return f}function bt(t){var e=mt(t);e===f&&vt(t.state);return e}function yt(t,e){if(!t||!t.state)return v;if(2!==t.state.wrap)return v;t.state.gzhead=e;return f}function xt(t,e,n,r,o,s){if(!t)return v;var a=1;e===b&&(e=6);if(r<0){a=0;r=-r}else if(r>15){a=2;r-=16}if(o<1||o>D||n!==S||r<8||r>15||e<0||e>9||s<0||s>q)return J(t,v);8===r&&(r=9);var l=new gt;t.state=l;l.strm=t;l.wrap=a;l.gzhead=null;l.w_bits=r;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=o+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+N-1)/N);l.window=new i.Buf8(2*l.w_size);l.head=new i.Buf16(l.hash_size);l.prev=new i.Buf16(l.w_size);l.lit_bufsize=1<<o+6;l.pending_buf_size=4*l.lit_bufsize;l.pending_buf=new i.Buf8(l.pending_buf_size);l.d_buf=l.lit_bufsize>>1;l.l_buf=3*l.lit_bufsize;l.level=e;l.strategy=s;l.method=n;return bt(t)}function wt(t,e){return xt(t,e,S,E,k,_)}function qt(t,e){var n,i;var o,a;if(!t||!t.state||e>p||e<0)return t?J(t,v):v;i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===U&&e!==d)return J(t,0===t.avail_out?m:v);i.strm=t;n=i.last_flush;i.last_flush=e;if(i.status===V)if(2===i.wrap){t.adler=0;it(i,31);it(i,139);it(i,8);if(i.gzhead){it(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0));it(i,255&i.gzhead.time);it(i,i.gzhead.time>>8&255);it(i,i.gzhead.time>>16&255);it(i,i.gzhead.time>>24&255);it(i,9===i.level?2:i.strategy>=x||i.level<2?4:0);it(i,255&i.gzhead.os);if(i.gzhead.extra&&i.gzhead.extra.length){it(i,255&i.gzhead.extra.length);it(i,i.gzhead.extra.length>>8&255)}i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0));i.gzindex=0;i.status=$}else{it(i,0);it(i,0);it(i,0);it(i,0);it(i,0);it(i,9===i.level?2:i.strategy>=x||i.level<2?4:0);it(i,Z);i.status=W}}else{var g=S+(i.w_bits-8<<4)<<8;var b=-1;b=i.strategy>=x||i.level<2?0:i.level<6?1:6===i.level?2:3;g|=b<<6;0!==i.strstart&&(g|=R);g+=31-g%31;i.status=W;rt(i,g);if(0!==i.strstart){rt(i,t.adler>>>16);rt(i,65535&t.adler)}t.adler=1}if(i.status===$)if(i.gzhead.extra){o=i.pending;while(i.gzindex<(65535&i.gzhead.extra.length)){if(i.pending===i.pending_buf_size){i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o));et(t);o=i.pending;if(i.pending===i.pending_buf_size)break}it(i,255&i.gzhead.extra[i.gzindex]);i.gzindex++}i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o));if(i.gzindex===i.gzhead.extra.length){i.gzindex=0;i.status=H}}else i.status=H;if(i.status===H)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size){i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o));et(t);o=i.pending;if(i.pending===i.pending_buf_size){a=1;break}}a=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0;it(i,a)}while(0!==a);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o));if(0===a){i.gzindex=0;i.status=z}}else i.status=z;if(i.status===z)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size){i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o));et(t);o=i.pending;if(i.pending===i.pending_buf_size){a=1;break}}a=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0;it(i,a)}while(0!==a);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o));0===a&&(i.status=B)}else i.status=B;if(i.status===B)if(i.gzhead.hcrc){i.pending+2>i.pending_buf_size&&et(t);if(i.pending+2<=i.pending_buf_size){it(i,255&t.adler);it(i,t.adler>>8&255);t.adler=0;i.status=W}}else i.status=W;if(0!==i.pending){et(t);if(0===t.avail_out){i.last_flush=-1;return f}}else if(0===t.avail_in&&Q(e)<=Q(n)&&e!==d)return J(t,m);if(i.status===U&&0!==t.avail_in)return J(t,m);if(0!==t.avail_in||0!==i.lookahead||e!==l&&i.status!==U){var y=i.strategy===x?pt(i,e):i.strategy===w?dt(i,e):ht[i.level].func(i,e);y!==Y&&y!==X||(i.status=U);if(y===G||y===Y){0===t.avail_out&&(i.last_flush=-1);return f}if(y===K){if(e===c)r._tr_align(i);else if(e!==p){r._tr_stored_block(i,0,0,false);if(e===u){tt(i.head);if(0===i.lookahead){i.strstart=0;i.block_start=0;i.insert=0}}}et(t);if(0===t.avail_out){i.last_flush=-1;return f}}}if(e!==d)return f;if(i.wrap<=0)return h;if(2===i.wrap){it(i,255&t.adler);it(i,t.adler>>8&255);it(i,t.adler>>16&255);it(i,t.adler>>24&255);it(i,255&t.total_in);it(i,t.total_in>>8&255);it(i,t.total_in>>16&255);it(i,t.total_in>>24&255)}else{rt(i,t.adler>>>16);rt(i,65535&t.adler)}et(t);i.wrap>0&&(i.wrap=-i.wrap);return 0!==i.pending?f:h}function _t(t){var e;if(!t||!t.state)return v;e=t.state.status;if(e!==V&&e!==$&&e!==H&&e!==z&&e!==B&&e!==W&&e!==U)return J(t,v);t.state=null;return e===W?J(t,g):f}function Ct(t,e){var n=e.length;var r;var s,a;var l;var c;var u;var d;var p;if(!t||!t.state)return v;r=t.state;l=r.wrap;if(2===l||1===l&&r.status!==V||r.lookahead)return v;1===l&&(t.adler=o(t.adler,e,n,0));r.wrap=0;if(n>=r.w_size){if(0===l){tt(r.head);r.strstart=0;r.block_start=0;r.insert=0}p=new i.Buf8(r.w_size);i.arraySet(p,e,n-r.w_size,r.w_size,0);e=p;n=r.w_size}c=t.avail_in;u=t.next_in;d=t.input;t.avail_in=n;t.next_in=0;t.input=e;at(r);while(r.lookahead>=N){s=r.strstart;a=r.lookahead-(N-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[s+N-1])&r.hash_mask;r.prev[s&r.w_mask]=r.head[r.ins_h];r.head[r.ins_h]=s;s++}while(--a);r.strstart=s;r.lookahead=N-1;at(r)}r.strstart+=r.lookahead;r.block_start=r.strstart;r.insert=r.lookahead;r.lookahead=0;r.match_length=r.prev_length=N-1;r.match_available=0;t.next_in=u;t.input=d;t.avail_in=c;r.wrap=l;return f}n.deflateInit=wt;n.deflateInit2=xt;n.deflateReset=bt;n.deflateResetKeep=mt;n.deflateSetHeader=yt;n.deflate=qt;n.deflateEnd=_t;n.deflateSetDictionary=Ct;n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";function i(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}e.exports=i},{}],48:[function(t,e,n){"use strict";var i=30;var r=12;e.exports=function t(e,n){var o;var s;var a;var l;var c;var u;var d;var p;var f;var h;var v;var g;var m;var b;var y;var x;var w;var q;var _;var C;var S;var D;var E;var k,T;o=e.state;s=e.next_in;k=e.input;a=s+(e.avail_in-5);l=e.next_out;T=e.output;c=l-(n-e.avail_out);u=l+(e.avail_out-257);d=o.dmax;p=o.wsize;f=o.whave;h=o.wnext;v=o.window;g=o.hold;m=o.bits;b=o.lencode;y=o.distcode;x=(1<<o.lenbits)-1;w=(1<<o.distbits)-1;t:do{if(m<15){g+=k[s++]<<m;m+=8;g+=k[s++]<<m;m+=8}q=b[g&x];e:for(;;){_=q>>>24;g>>>=_;m-=_;_=q>>>16&255;if(0===_)T[l++]=65535&q;else{if(!(16&_)){if(0===(64&_)){q=b[(65535&q)+(g&(1<<_)-1)];continue e}if(32&_){o.mode=r;break t}e.msg="invalid literal/length code";o.mode=i;break t}C=65535&q;_&=15;if(_){if(m<_){g+=k[s++]<<m;m+=8}C+=g&(1<<_)-1;g>>>=_;m-=_}if(m<15){g+=k[s++]<<m;m+=8;g+=k[s++]<<m;m+=8}q=y[g&w];n:for(;;){_=q>>>24;g>>>=_;m-=_;_=q>>>16&255;if(!(16&_)){if(0===(64&_)){q=y[(65535&q)+(g&(1<<_)-1)];continue n}e.msg="invalid distance code";o.mode=i;break t}S=65535&q;_&=15;if(m<_){g+=k[s++]<<m;m+=8;if(m<_){g+=k[s++]<<m;m+=8}}S+=g&(1<<_)-1;if(S>d){e.msg="invalid distance too far back";o.mode=i;break t}g>>>=_;m-=_;_=l-c;if(S>_){_=S-_;if(_>f&&o.sane){e.msg="invalid distance too far back";o.mode=i;break t}D=0;E=v;if(0===h){D+=p-_;if(_<C){C-=_;do{T[l++]=v[D++]}while(--_);D=l-S;E=T}}else if(h<_){D+=p+h-_;_-=h;if(_<C){C-=_;do{T[l++]=v[D++]}while(--_);D=0;if(h<C){_=h;C-=_;do{T[l++]=v[D++]}while(--_);D=l-S;E=T}}}else{D+=h-_;if(_<C){C-=_;do{T[l++]=v[D++]}while(--_);D=l-S;E=T}}while(C>2){T[l++]=E[D++];T[l++]=E[D++];T[l++]=E[D++];C-=3}if(C){T[l++]=E[D++];C>1&&(T[l++]=E[D++])}}else{D=l-S;do{T[l++]=T[D++];T[l++]=T[D++];T[l++]=T[D++];C-=3}while(C>2);if(C){T[l++]=T[D++];C>1&&(T[l++]=T[D++])}}break}}break}}while(s<a&&l<u);C=m>>3;s-=C;m-=C<<3;g&=(1<<m)-1;e.next_in=s;e.next_out=l;e.avail_in=s<a?a-s+5:5-(s-a);e.avail_out=l<u?u-l+257:257-(l-u);o.hold=g;o.bits=m;return}},{}],49:[function(t,e,n){"use strict";var i=t("../utils/common");var r=t("./adler32");var o=t("./crc32");var s=t("./inffast");var a=t("./inftrees");var l=0;var c=1;var u=2;var d=4;var p=5;var f=6;var h=0;var v=1;var g=2;var m=-2;var b=-3;var y=-4;var x=-5;var w=8;var q=1;var _=2;var C=3;var S=4;var D=5;var E=6;var k=7;var T=8;var A=9;var I=10;var O=11;var L=12;var P=13;var M=14;var N=15;var j=16;var F=17;var R=18;var V=19;var $=20;var H=21;var z=22;var B=23;var W=24;var U=25;var G=26;var K=27;var Y=28;var X=29;var Z=30;var J=31;var Q=32;var tt=852;var et=592;var nt=15;var it=nt;function rt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function ot(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new i.Buf16(320);this.work=new i.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function st(t){var e;if(!t||!t.state)return m;e=t.state;t.total_in=t.total_out=e.total=0;t.msg="";e.wrap&&(t.adler=1&e.wrap);e.mode=q;e.last=0;e.havedict=0;e.dmax=32768;e.head=null;e.hold=0;e.bits=0;e.lencode=e.lendyn=new i.Buf32(tt);e.distcode=e.distdyn=new i.Buf32(et);e.sane=1;e.back=-1;return h}function at(t){var e;if(!t||!t.state)return m;e=t.state;e.wsize=0;e.whave=0;e.wnext=0;return st(t)}function lt(t,e){var n;var i;if(!t||!t.state)return m;i=t.state;if(e<0){n=0;e=-e}else{n=1+(e>>4);e<48&&(e&=15)}if(e&&(e<8||e>15))return m;null!==i.window&&i.wbits!==e&&(i.window=null);i.wrap=n;i.wbits=e;return at(t)}function ct(t,e){var n;var i;if(!t)return m;i=new ot;t.state=i;i.window=null;n=lt(t,e);n!==h&&(t.state=null);return n}function ut(t){return ct(t,it)}var dt=true;var pt,ft;function ht(t){if(dt){var e;pt=new i.Buf32(512);ft=new i.Buf32(32);e=0;while(e<144)t.lens[e++]=8;while(e<256)t.lens[e++]=9;while(e<280)t.lens[e++]=7;while(e<288)t.lens[e++]=8;a(c,t.lens,0,288,pt,0,t.work,{bits:9});e=0;while(e<32)t.lens[e++]=5;a(u,t.lens,0,32,ft,0,t.work,{bits:5});dt=false}t.lencode=pt;t.lenbits=9;t.distcode=ft;t.distbits=5}function vt(t,e,n,r){var o;var s=t.state;if(null===s.window){s.wsize=1<<s.wbits;s.wnext=0;s.whave=0;s.window=new i.Buf8(s.wsize)}if(r>=s.wsize){i.arraySet(s.window,e,n-s.wsize,s.wsize,0);s.wnext=0;s.whave=s.wsize}else{o=s.wsize-s.wnext;o>r&&(o=r);i.arraySet(s.window,e,n-r,o,s.wnext);r-=o;if(r){i.arraySet(s.window,e,n-r,r,0);s.wnext=r;s.whave=s.wsize}else{s.wnext+=o;s.wnext===s.wsize&&(s.wnext=0);s.whave<s.wsize&&(s.whave+=o)}}return 0}function gt(t,e){var n;var tt,et;var nt;var it;var ot,st;var at;var lt;var ct,ut;var dt;var pt;var ft;var gt=0;var mt,bt,yt;var xt,wt,qt;var _t;var Ct;var St=new i.Buf8(4);var Dt;var Et;var kt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return m;n=t.state;n.mode===L&&(n.mode=P);it=t.next_out;et=t.output;st=t.avail_out;nt=t.next_in;tt=t.input;ot=t.avail_in;at=n.hold;lt=n.bits;ct=ot;ut=st;Ct=h;t:for(;;)switch(n.mode){case q:if(0===n.wrap){n.mode=P;break}while(lt<16){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(2&n.wrap&&35615===at){n.check=0;St[0]=255&at;St[1]=at>>>8&255;n.check=o(n.check,St,2,0);at=0;lt=0;n.mode=_;break}n.flags=0;n.head&&(n.head.done=false);if(!(1&n.wrap)||(((255&at)<<8)+(at>>8))%31){t.msg="incorrect header check";n.mode=Z;break}if((15&at)!==w){t.msg="unknown compression method";n.mode=Z;break}at>>>=4;lt-=4;_t=8+(15&at);if(0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size";n.mode=Z;break}n.dmax=1<<_t;t.adler=n.check=1;n.mode=512&at?I:L;at=0;lt=0;break;case _:while(lt<16){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.flags=at;if((255&n.flags)!==w){t.msg="unknown compression method";n.mode=Z;break}if(57344&n.flags){t.msg="unknown header flags set";n.mode=Z;break}n.head&&(n.head.text=at>>8&1);if(512&n.flags){St[0]=255&at;St[1]=at>>>8&255;n.check=o(n.check,St,2,0)}at=0;lt=0;n.mode=C;case C:while(lt<32){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.head&&(n.head.time=at);if(512&n.flags){St[0]=255&at;St[1]=at>>>8&255;St[2]=at>>>16&255;St[3]=at>>>24&255;n.check=o(n.check,St,4,0)}at=0;lt=0;n.mode=S;case S:while(lt<16){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(n.head){n.head.xflags=255&at;n.head.os=at>>8}if(512&n.flags){St[0]=255&at;St[1]=at>>>8&255;n.check=o(n.check,St,2,0)}at=0;lt=0;n.mode=D;case D:if(1024&n.flags){while(lt<16){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.length=at;n.head&&(n.head.extra_len=at);if(512&n.flags){St[0]=255&at;St[1]=at>>>8&255;n.check=o(n.check,St,2,0)}at=0;lt=0}else n.head&&(n.head.extra=null);n.mode=E;case E:if(1024&n.flags){dt=n.length;dt>ot&&(dt=ot);if(dt){if(n.head){_t=n.head.extra_len-n.length;n.head.extra||(n.head.extra=new Array(n.head.extra_len));i.arraySet(n.head.extra,tt,nt,dt,_t)}512&n.flags&&(n.check=o(n.check,tt,dt,nt));ot-=dt;nt+=dt;n.length-=dt}if(n.length)break t}n.length=0;n.mode=k;case k:if(2048&n.flags){if(0===ot)break t;dt=0;do{_t=tt[nt+dt++];n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t))}while(_t&&dt<ot);512&n.flags&&(n.check=o(n.check,tt,dt,nt));ot-=dt;nt+=dt;if(_t)break t}else n.head&&(n.head.name=null);n.length=0;n.mode=T;case T:if(4096&n.flags){if(0===ot)break t;dt=0;do{_t=tt[nt+dt++];n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t))}while(_t&&dt<ot);512&n.flags&&(n.check=o(n.check,tt,dt,nt));ot-=dt;nt+=dt;if(_t)break t}else n.head&&(n.head.comment=null);n.mode=A;case A:if(512&n.flags){while(lt<16){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(at!==(65535&n.check)){t.msg="header crc mismatch";n.mode=Z;break}at=0;lt=0}if(n.head){n.head.hcrc=n.flags>>9&1;n.head.done=true}t.adler=n.check=0;n.mode=L;break;case I:while(lt<32){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}t.adler=n.check=rt(at);at=0;lt=0;n.mode=O;case O:if(0===n.havedict){t.next_out=it;t.avail_out=st;t.next_in=nt;t.avail_in=ot;n.hold=at;n.bits=lt;return g}t.adler=n.check=1;n.mode=L;case L:if(e===p||e===f)break t;case P:if(n.last){at>>>=7&lt;lt-=7&lt;n.mode=K;break}while(lt<3){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.last=1&at;at>>>=1;lt-=1;switch(3&at){case 0:n.mode=M;break;case 1:ht(n);n.mode=$;if(e===f){at>>>=2;lt-=2;break t}break;case 2:n.mode=F;break;case 3:t.msg="invalid block type";n.mode=Z}at>>>=2;lt-=2;break;case M:at>>>=7&lt;lt-=7&lt;while(lt<32){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if((65535&at)!==(at>>>16^65535)){t.msg="invalid stored block lengths";n.mode=Z;break}n.length=65535&at;at=0;lt=0;n.mode=N;if(e===f)break t;case N:n.mode=j;case j:dt=n.length;if(dt){dt>ot&&(dt=ot);dt>st&&(dt=st);if(0===dt)break t;i.arraySet(et,tt,nt,dt,it);ot-=dt;nt+=dt;st-=dt;it+=dt;n.length-=dt;break}n.mode=L;break;case F:while(lt<14){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.nlen=257+(31&at);at>>>=5;lt-=5;n.ndist=1+(31&at);at>>>=5;lt-=5;n.ncode=4+(15&at);at>>>=4;lt-=4;if(n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols";n.mode=Z;break}n.have=0;n.mode=R;case R:while(n.have<n.ncode){while(lt<3){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.lens[kt[n.have++]]=7&at;at>>>=3;lt-=3}while(n.have<19)n.lens[kt[n.have++]]=0;n.lencode=n.lendyn;n.lenbits=7;Dt={bits:n.lenbits};Ct=a(l,n.lens,0,19,n.lencode,0,n.work,Dt);n.lenbits=Dt.bits;if(Ct){t.msg="invalid code lengths set";n.mode=Z;break}n.have=0;n.mode=V;case V:while(n.have<n.nlen+n.ndist){for(;;){gt=n.lencode[at&(1<<n.lenbits)-1];mt=gt>>>24;bt=gt>>>16&255;yt=65535&gt;if(mt<=lt)break;if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(yt<16){at>>>=mt;lt-=mt;n.lens[n.have++]=yt}else{if(16===yt){Et=mt+2;while(lt<Et){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}at>>>=mt;lt-=mt;if(0===n.have){t.msg="invalid bit length repeat";n.mode=Z;break}_t=n.lens[n.have-1];dt=3+(3&at);at>>>=2;lt-=2}else if(17===yt){Et=mt+3;while(lt<Et){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}at>>>=mt;lt-=mt;_t=0;dt=3+(7&at);at>>>=3;lt-=3}else{Et=mt+7;while(lt<Et){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}at>>>=mt;lt-=mt;_t=0;dt=11+(127&at);at>>>=7;lt-=7}if(n.have+dt>n.nlen+n.ndist){t.msg="invalid bit length repeat";n.mode=Z;break}while(dt--)n.lens[n.have++]=_t}}if(n.mode===Z)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block";n.mode=Z;break}n.lenbits=9;Dt={bits:n.lenbits};Ct=a(c,n.lens,0,n.nlen,n.lencode,0,n.work,Dt);n.lenbits=Dt.bits;if(Ct){t.msg="invalid literal/lengths set";n.mode=Z;break}n.distbits=6;n.distcode=n.distdyn;Dt={bits:n.distbits};Ct=a(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Dt);n.distbits=Dt.bits;if(Ct){t.msg="invalid distances set";n.mode=Z;break}n.mode=$;if(e===f)break t;case $:n.mode=H;case H:if(ot>=6&&st>=258){t.next_out=it;t.avail_out=st;t.next_in=nt;t.avail_in=ot;n.hold=at;n.bits=lt;s(t,ut);it=t.next_out;et=t.output;st=t.avail_out;nt=t.next_in;tt=t.input;ot=t.avail_in;at=n.hold;lt=n.bits;n.mode===L&&(n.back=-1);break}n.back=0;for(;;){gt=n.lencode[at&(1<<n.lenbits)-1];mt=gt>>>24;bt=gt>>>16&255;yt=65535&gt;if(mt<=lt)break;if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(bt&&0===(240&bt)){xt=mt;wt=bt;qt=yt;for(;;){gt=n.lencode[qt+((at&(1<<xt+wt)-1)>>xt)];mt=gt>>>24;bt=gt>>>16&255;yt=65535&gt;if(xt+mt<=lt)break;if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}at>>>=xt;lt-=xt;n.back+=xt}at>>>=mt;lt-=mt;n.back+=mt;n.length=yt;if(0===bt){n.mode=G;break}if(32&bt){n.back=-1;n.mode=L;break}if(64&bt){t.msg="invalid literal/length code";n.mode=Z;break}n.extra=15&bt;n.mode=z;case z:if(n.extra){Et=n.extra;while(lt<Et){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.length+=at&(1<<n.extra)-1;at>>>=n.extra;lt-=n.extra;n.back+=n.extra}n.was=n.length;n.mode=B;case B:for(;;){gt=n.distcode[at&(1<<n.distbits)-1];mt=gt>>>24;bt=gt>>>16&255;yt=65535&gt;if(mt<=lt)break;if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(0===(240&bt)){xt=mt;wt=bt;qt=yt;for(;;){gt=n.distcode[qt+((at&(1<<xt+wt)-1)>>xt)];mt=gt>>>24;bt=gt>>>16&255;yt=65535&gt;if(xt+mt<=lt)break;if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}at>>>=xt;lt-=xt;n.back+=xt}at>>>=mt;lt-=mt;n.back+=mt;if(64&bt){t.msg="invalid distance code";n.mode=Z;break}n.offset=yt;n.extra=15&bt;n.mode=W;case W:if(n.extra){Et=n.extra;while(lt<Et){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}n.offset+=at&(1<<n.extra)-1;at>>>=n.extra;lt-=n.extra;n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back";n.mode=Z;break}n.mode=U;case U:if(0===st)break t;dt=ut-st;if(n.offset>dt){dt=n.offset-dt;if(dt>n.whave&&n.sane){t.msg="invalid distance too far back";n.mode=Z;break}if(dt>n.wnext){dt-=n.wnext;pt=n.wsize-dt}else pt=n.wnext-dt;dt>n.length&&(dt=n.length);ft=n.window}else{ft=et;pt=it-n.offset;dt=n.length}dt>st&&(dt=st);st-=dt;n.length-=dt;do{et[it++]=ft[pt++]}while(--dt);0===n.length&&(n.mode=H);break;case G:if(0===st)break t;et[it++]=n.length;st--;n.mode=H;break;case K:if(n.wrap){while(lt<32){if(0===ot)break t;ot--;at|=tt[nt++]<<lt;lt+=8}ut-=st;t.total_out+=ut;n.total+=ut;ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,it-ut):r(n.check,et,ut,it-ut));ut=st;if((n.flags?at:rt(at))!==n.check){t.msg="incorrect data check";n.mode=Z;break}at=0;lt=0}n.mode=Y;case Y:if(n.wrap&&n.flags){while(lt<32){if(0===ot)break t;ot--;at+=tt[nt++]<<lt;lt+=8}if(at!==(4294967295&n.total)){t.msg="incorrect length check";n.mode=Z;break}at=0;lt=0}n.mode=X;case X:Ct=v;break t;case Z:Ct=b;break t;case J:return y;case Q:default:return m}t.next_out=it;t.avail_out=st;t.next_in=nt;t.avail_in=ot;n.hold=at;n.bits=lt;if((n.wsize||ut!==t.avail_out&&n.mode<Z&&(n.mode<K||e!==d))&&vt(t,t.output,t.next_out,ut-t.avail_out)){n.mode=J;return y}ct-=t.avail_in;ut-=t.avail_out;t.total_in+=ct;t.total_out+=ut;n.total+=ut;n.wrap&&ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,t.next_out-ut):r(n.check,et,ut,t.next_out-ut));t.data_type=n.bits+(n.last?64:0)+(n.mode===L?128:0)+(n.mode===$||n.mode===N?256:0);(0===ct&&0===ut||e===d)&&Ct===h&&(Ct=x);return Ct}function mt(t){if(!t||!t.state)return m;var e=t.state;e.window&&(e.window=null);t.state=null;return h}function bt(t,e){var n;if(!t||!t.state)return m;n=t.state;if(0===(2&n.wrap))return m;n.head=e;e.done=false;return h}function yt(t,e){var n=e.length;var i;var o;var s;if(!t||!t.state)return m;i=t.state;if(0!==i.wrap&&i.mode!==O)return m;if(i.mode===O){o=1;o=r(o,e,n,0);if(o!==i.check)return b}s=vt(t,e,n,n);if(s){i.mode=J;return y}i.havedict=1;return h}n.inflateReset=at;n.inflateReset2=lt;n.inflateResetKeep=st;n.inflateInit=ut;n.inflateInit2=ct;n.inflate=gt;n.inflateEnd=mt;n.inflateGetHeader=bt;n.inflateSetDictionary=yt;n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var i=t("../utils/common");var r=15;var o=852;var s=592;var a=0;var l=1;var c=2;var u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function t(e,n,h,v,g,m,b,y){var x=y.bits;var w=0;var q=0;var _=0,C=0;var S=0;var D=0;var E=0;var k=0;var T=0;var A=0;var I;var O;var L;var P;var M;var N=null;var j=0;var F;var R=new i.Buf16(r+1);var V=new i.Buf16(r+1);var $=null;var H=0;var z,B,W;for(w=0;w<=r;w++)R[w]=0;for(q=0;q<v;q++)R[n[h+q]]++;S=x;for(C=r;C>=1;C--)if(0!==R[C])break;S>C&&(S=C);if(0===C){g[m++]=20971520;g[m++]=20971520;y.bits=1;return 0}for(_=1;_<C;_++)if(0!==R[_])break;S<_&&(S=_);k=1;for(w=1;w<=r;w++){k<<=1;k-=R[w];if(k<0)return-1}if(k>0&&(e===a||1!==C))return-1;V[1]=0;for(w=1;w<r;w++)V[w+1]=V[w]+R[w];for(q=0;q<v;q++)0!==n[h+q]&&(b[V[n[h+q]]++]=q);if(e===a){N=$=b;F=19}else if(e===l){N=u;j-=257;$=d;H-=257;F=256}else{N=p;$=f;F=-1}A=0;q=0;w=_;M=m;D=S;E=0;L=-1;T=1<<S;P=T-1;if(e===l&&T>o||e===c&&T>s)return 1;var U=0;for(;;){U++;z=w-E;if(b[q]<F){B=0;W=b[q]}else if(b[q]>F){B=$[H+b[q]];W=N[j+b[q]]}else{B=96;W=0}I=1<<w-E;O=1<<D;_=O;do{O-=I;g[M+(A>>E)+O]=z<<24|B<<16|W|0}while(0!==O);I=1<<w-1;while(A&I)I>>=1;if(0!==I){A&=I-1;A+=I}else A=0;q++;if(0===--R[w]){if(w===C)break;w=n[h+b[q]]}if(w>S&&(A&P)!==L){0===E&&(E=S);M+=_;D=w-E;k=1<<D;while(D+E<C){k-=R[D+E];if(k<=0)break;D++;k<<=1}T+=1<<D;if(e===l&&T>o||e===c&&T>s)return 1;L=A&P;g[L]=S<<24|D<<16|M-m|0}}0!==A&&(g[M+A]=w-E<<24|64<<16|0);y.bits=S;return 0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var i=t("../utils/common");var r=4;var o=0;var s=1;var a=2;function l(t){var e=t.length;while(--e>=0)t[e]=0}var c=0;var u=1;var d=2;var p=3;var f=258;var h=29;var v=256;var g=v+1+h;var m=30;var b=19;var y=2*g+1;var x=15;var w=16;var q=7;var _=256;var C=16;var S=17;var D=18;var E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var I=512;var O=new Array(2*(g+2));l(O);var L=new Array(2*m);l(L);var P=new Array(I);l(P);var M=new Array(f-p+1);l(M);var N=new Array(h);l(N);var j=new Array(m);l(j);function F(t,e,n,i,r){this.static_tree=t;this.extra_bits=e;this.extra_base=n;this.elems=i;this.max_length=r;this.has_stree=t&&t.length}var R;var V;var $;function H(t,e){this.dyn_tree=t;this.max_code=0;this.stat_desc=e}function z(t){return t<256?P[t]:P[256+(t>>>7)]}function B(t,e){t.pending_buf[t.pending++]=255&e;t.pending_buf[t.pending++]=e>>>8&255}function W(t,e,n){if(t.bi_valid>w-n){t.bi_buf|=e<<t.bi_valid&65535;B(t,t.bi_buf);t.bi_buf=e>>w-t.bi_valid;t.bi_valid+=n-w}else{t.bi_buf|=e<<t.bi_valid&65535;t.bi_valid+=n}}function U(t,e,n){W(t,n[2*e],n[2*e+1])}function G(t,e){var n=0;do{n|=1&t;t>>>=1;n<<=1}while(--e>0);return n>>>1}function K(t){if(16===t.bi_valid){B(t,t.bi_buf);t.bi_buf=0;t.bi_valid=0}else if(t.bi_valid>=8){t.pending_buf[t.pending++]=255&t.bi_buf;t.bi_buf>>=8;t.bi_valid-=8}}function Y(t,e){var n=e.dyn_tree;var i=e.max_code;var r=e.stat_desc.static_tree;var o=e.stat_desc.has_stree;var s=e.stat_desc.extra_bits;var a=e.stat_desc.extra_base;var l=e.stat_desc.max_length;var c;var u,d;var p;var f;var h;var v=0;for(p=0;p<=x;p++)t.bl_count[p]=0;n[2*t.heap[t.heap_max]+1]=0;for(c=t.heap_max+1;c<y;c++){u=t.heap[c];p=n[2*n[2*u+1]+1]+1;if(p>l){p=l;v++}n[2*u+1]=p;if(u>i)continue;t.bl_count[p]++;f=0;u>=a&&(f=s[u-a]);h=n[2*u];t.opt_len+=h*(p+f);o&&(t.static_len+=h*(r[2*u+1]+f))}if(0===v)return;do{p=l-1;while(0===t.bl_count[p])p--;t.bl_count[p]--;t.bl_count[p+1]+=2;t.bl_count[l]--;v-=2}while(v>0);for(p=l;0!==p;p--){u=t.bl_count[p];while(0!==u){d=t.heap[--c];if(d>i)continue;if(n[2*d+1]!==p){t.opt_len+=(p-n[2*d+1])*n[2*d];n[2*d+1]=p}u--}}}function X(t,e,n){var i=new Array(x+1);var r=0;var o;var s;for(o=1;o<=x;o++)i[o]=r=r+n[o-1]<<1;for(s=0;s<=e;s++){var a=t[2*s+1];if(0===a)continue;t[2*s]=G(i[a]++,a)}}function Z(){var t;var e;var n;var i;var r;var o=new Array(x+1);n=0;for(i=0;i<h-1;i++){N[i]=n;for(t=0;t<1<<E[i];t++)M[n++]=i}M[n-1]=i;r=0;for(i=0;i<16;i++){j[i]=r;for(t=0;t<1<<k[i];t++)P[r++]=i}r>>=7;for(;i<m;i++){j[i]=r<<7;for(t=0;t<1<<k[i]-7;t++)P[256+r++]=i}for(e=0;e<=x;e++)o[e]=0;t=0;while(t<=143){O[2*t+1]=8;t++;o[8]++}while(t<=255){O[2*t+1]=9;t++;o[9]++}while(t<=279){O[2*t+1]=7;t++;o[7]++}while(t<=287){O[2*t+1]=8;t++;o[8]++}X(O,g+1,o);for(t=0;t<m;t++){L[2*t+1]=5;L[2*t]=G(t,5)}R=new F(O,E,v+1,g,x);V=new F(L,k,0,m,x);$=new F(new Array(0),T,0,b,q)}function J(t){var e;for(e=0;e<g;e++)t.dyn_ltree[2*e]=0;for(e=0;e<m;e++)t.dyn_dtree[2*e]=0;for(e=0;e<b;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*_]=1;t.opt_len=t.static_len=0;t.last_lit=t.matches=0}function Q(t){t.bi_valid>8?B(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf);t.bi_buf=0;t.bi_valid=0}function tt(t,e,n,r){Q(t);if(r){B(t,n);B(t,~n)}i.arraySet(t.pending_buf,t.window,e,n,t.pending);t.pending+=n}function et(t,e,n,i){var r=2*e;var o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function nt(t,e,n){var i=t.heap[n];var r=n<<1;while(r<=t.heap_len){r<t.heap_len&&et(e,t.heap[r+1],t.heap[r],t.depth)&&r++;if(et(e,i,t.heap[r],t.depth))break;t.heap[n]=t.heap[r];n=r;r<<=1}t.heap[n]=i}function it(t,e,n){var i;var r;var o=0;var s;var a;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1];r=t.pending_buf[t.l_buf+o];o++;if(0===i)U(t,r,e);else{s=M[r];U(t,s+v+1,e);a=E[s];if(0!==a){r-=N[s];W(t,r,a)}i--;s=z(i);U(t,s,n);a=k[s];if(0!==a){i-=j[s];W(t,i,a)}}}while(o<t.last_lit);U(t,_,e)}function rt(t,e){var n=e.dyn_tree;var i=e.stat_desc.static_tree;var r=e.stat_desc.has_stree;var o=e.stat_desc.elems;var s,a;var l=-1;var c;t.heap_len=0;t.heap_max=y;for(s=0;s<o;s++)if(0!==n[2*s]){t.heap[++t.heap_len]=l=s;t.depth[s]=0}else n[2*s+1]=0;while(t.heap_len<2){c=t.heap[++t.heap_len]=l<2?++l:0;n[2*c]=1;t.depth[c]=0;t.opt_len--;r&&(t.static_len-=i[2*c+1])}e.max_code=l;for(s=t.heap_len>>1;s>=1;s--)nt(t,n,s);c=o;do{s=t.heap[1];t.heap[1]=t.heap[t.heap_len--];nt(t,n,1);a=t.heap[1];t.heap[--t.heap_max]=s;t.heap[--t.heap_max]=a;n[2*c]=n[2*s]+n[2*a];t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1;n[2*s+1]=n[2*a+1]=c;t.heap[1]=c++;nt(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1];Y(t,e);X(n,l,t.bl_count)}function ot(t,e,n){var i;var r=-1;var o;var s=e[1];var a=0;var l=7;var c=4;if(0===s){l=138;c=3}e[2*(n+1)+1]=65535;for(i=0;i<=n;i++){o=s;s=e[2*(i+1)+1];if(++a<l&&o===s)continue;if(a<c)t.bl_tree[2*o]+=a;else if(0!==o){o!==r&&t.bl_tree[2*o]++;t.bl_tree[2*C]++}else a<=10?t.bl_tree[2*S]++:t.bl_tree[2*D]++;a=0;r=o;if(0===s){l=138;c=3}else if(o===s){l=6;c=3}else{l=7;c=4}}}function st(t,e,n){var i;var r=-1;var o;var s=e[1];var a=0;var l=7;var c=4;if(0===s){l=138;c=3}for(i=0;i<=n;i++){o=s;s=e[2*(i+1)+1];if(++a<l&&o===s)continue;if(a<c)do{U(t,o,t.bl_tree)}while(0!==--a);else if(0!==o){if(o!==r){U(t,o,t.bl_tree);a--}U(t,C,t.bl_tree);W(t,a-3,2)}else if(a<=10){U(t,S,t.bl_tree);W(t,a-3,3)}else{U(t,D,t.bl_tree);W(t,a-11,7)}a=0;r=o;if(0===s){l=138;c=3}else if(o===s){l=6;c=3}else{l=7;c=4}}}function at(t){var e;ot(t,t.dyn_ltree,t.l_desc.max_code);ot(t,t.dyn_dtree,t.d_desc.max_code);rt(t,t.bl_desc);for(e=b-1;e>=3;e--)if(0!==t.bl_tree[2*A[e]+1])break;t.opt_len+=3*(e+1)+5+5+4;return e}function lt(t,e,n,i){var r;W(t,e-257,5);W(t,n-1,5);W(t,i-4,4);for(r=0;r<i;r++)W(t,t.bl_tree[2*A[r]+1],3);st(t,t.dyn_ltree,e-1);st(t,t.dyn_dtree,n-1)}function ct(t){var e=4093624447;var n;for(n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return s;for(n=32;n<v;n++)if(0!==t.dyn_ltree[2*n])return s;return o}var ut=false;function dt(t){if(!ut){Z();ut=true}t.l_desc=new H(t.dyn_ltree,R);t.d_desc=new H(t.dyn_dtree,V);t.bl_desc=new H(t.bl_tree,$);t.bi_buf=0;t.bi_valid=0;J(t)}function pt(t,e,n,i){W(t,(c<<1)+(i?1:0),3);tt(t,e,n,true)}function ft(t){W(t,u<<1,3);U(t,_,O);K(t)}function ht(t,e,n,i){var o,s;var l=0;if(t.level>0){t.strm.data_type===a&&(t.strm.data_type=ct(t));rt(t,t.l_desc);rt(t,t.d_desc);l=at(t);o=t.opt_len+3+7>>>3;s=t.static_len+3+7>>>3;s<=o&&(o=s)}else o=s=n+5;if(n+4<=o&&-1!==e)pt(t,e,n,i);else if(t.strategy===r||s===o){W(t,(u<<1)+(i?1:0),3);it(t,O,L)}else{W(t,(d<<1)+(i?1:0),3);lt(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1);it(t,t.dyn_ltree,t.dyn_dtree)}J(t);i&&Q(t)}function vt(t,e,n){t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255;t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e;t.pending_buf[t.l_buf+t.last_lit]=255&n;t.last_lit++;if(0===e)t.dyn_ltree[2*n]++;else{t.matches++;e--;t.dyn_ltree[2*(M[n]+v+1)]++;t.dyn_dtree[2*z(e)]++}return t.last_lit===t.lit_bufsize-1}n._tr_init=dt;n._tr_stored_block=pt;n._tr_flush_block=ht;n._tr_tally=vt;n._tr_align=ft},{"../utils/common":41}],53:[function(t,e,n){"use strict";function i(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}e.exports=i},{}]},{},[10])(10)})},,function(t,e,n){"use strict";var i,r;!(i=[n(65),n(497),n(102),n(116)],r=function(t,e){var n={template:e,controller:["$scope",function(t){t.error="";t.extensions=[];t.input.extensions.forEach(function(e){t.extensions.push({id:e.id,name:e.data?e.data.name:e.qext.name})});t.onExtensionSelect=function(e,n){n.preventDefault();t.input.callback(e);t.closeView(n)};t.closeView=function(e){e.preventDefault();t.destroyComponent()}}]};function i(e){return t.show(n,e).resultPromise}return{show:i,component:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="open-extension-dialog" qv-cancel="closeView($event)">\n\t\x3c!--header--\x3e\n\t<lui-dialog-header>\n\t\t<lui-dialog__title q-translation="{{input.title}}"></lui-dialog__title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="open-extension-body">\n\t\t\x3c!--search--\x3e\n\t\t<div class="dialog-search">\n\t\t\t<lui-search query="query.name" placeholder="Devhub.Search" on-escape="query = \'\';" auto-focus="true"/>\n\t\t</div>\n\t\t<div class="object-list">\n\t\t\t<div class="qw-list qw-object-list scrollable" q-scroll>\n\t\t\t\t\x3c!--list--\x3e\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li ng-repeat="extension in extensions | searchFilter:query.name | orderBy: \'name\'"\n\t\t\t\t\t\tclass="lui-list__item lui-list__action library-item qv-draggable"\n\t\t\t\t\t\tdata-id="{{extension.id}}"\n\t\t\t\t\t\tdata-type="{{input.type}}"\n\t\t\t\t\t\tng-click="onExtensionSelect(extension, $event)"\n\t\t\t\t\t\ttitle="{{extension.name}}">\n\t\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis"\n\t\t\t\t\t\t\t qve-highlight=""\n\t\t\t\t\t\t\t text="{{extension.name}}"\n\t\t\t\t\t\t\t query="query.name"></div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class="no-hits" ng-if=" extensions.length > 0 && ( extensions | searchFilter:query.name ).length === 0"\n\t\t\t\t q-translation="Devhub.Nohits"></div>\n\t\t\t<div class="no-hits" ng-if="extensions.length == 0"\n\t\t\t\t q-translation="{{input.type === \'widget-library\' ? \'DevHub.NoLibrariesToOpen\' : \'DevHub.NoExtensionsToOpen\'}}">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="error-msg">{{error}}</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="closeView($event)" name="cancel" q-translation="Devhub.Cancel"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(t,e){t.exports="<div class='qw-scroll-resizable'>\n\t<div class='qw-scroll-wrapper'>\n\t\t<div class='qw-scroll-cnt' ng-transclude></div>\n\t</div>\n\t<div class='qw-scroll-scrlb-cnt' ng-show=\"scroll\">\n\t\t<div class='qw-scroll-scrlb'></div>\n\t</div>\n</div>\n"},function(t,e,n){"use strict";var i,r;!(i=[n(65),n(500)],r=function(t,e){var n={template:e,controller:["$scope",function(t){t.closeView=function(e){e.preventDefault();t.destroyComponent()};t.help=function(t){t.preventDefault();this.input.help()}}]};function i(e){return t.show(n,e)}return{show:i,component:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="welcome-dialog" qv-cancel="closeView($event)">\n\t<lui-dialog-header class="header-row">\n\t\t<lui-dialog-title q-translation="DevHub.Welcome"></lui-dialog-title>\n\t\t<span class="lui-icon lui-icon--close" ng-click="closeView($event)" title="Close"></span>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="welcome-dialog-body">\n\t\t<div class="buttons-wrapper">\n\t\t\t<div ng-repeat="button in input.buttons" class="action-button" q-title-translation="{{button.title}}">\n\t\t\t\t<button class="action-button lui-button" ng-click="button.onActivated($event); closeView($event)"\n\t\t\t\t\t\tng-disabled="button.disabled">\n\t\t\t\t\t<span class="lui-icon" ng-class="button.iconClass"></span>\n\t\t\t\t\t<span q-translation="{{button.text}}"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<div class="help" ng-click="help($event)">\n\t\t\t<span class="lui-icon lui-icon--help"></span>\n\t\t\t<span q-translation="Devhub.Help"></span>\n\t\t</div>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(502),n(46),n(70),n(52),n(54)],r=function(t,e,n,i,r){function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}var s={scope:{},template:e,controller:["$scope",function(e){var s=t.getService("qwCommonService");var a=s.constants;e.createInProgress=false;e.firstAttempt=true;e.maxLength=a.MAX_NAME_LENGHT;e.error="";e.closeView=function(t){t.preventDefault();e.destroyComponent();e.input.callback({cancel:true})};e.validateForm=function(t){e.firstAttempt=false;if("extensionName"===t.$name){if(!e.input.name||""===e.input.name)return;t.$setValidity("invalidExtensionName",r.isValidExtensionName(e.input.name));t.$setValidity("extensionAlreadyExists",!r.isExistingExtensionName(e.input.name,e.input.assets.extensionList,e.input.assets.templateList))}};e.create=function(t){e.createInProgress=true;t.preventDefault();e.input.template=e.input.duplicate?e.input.duplicate:e.input.template;i.duplicateExtension(e.input.template,e.input.name).then(function(t){e.input.callback(t)}).catch(function(){e.input.callback({errMessage:n.get("Devhub.ErrorCreateExtension")})}).finally(function(){e.createInProgress=false})};e.getName=function(t){t="visualization"===t?t+" extension":t;return o(t)+" templates"}}]};return{component:s}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="create-extension-dialog" qv-cancel="closeView($event)" class="dev-hub-dialog">\n\t<form name="createExtension" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title\n\t\t\t\tq-translation="{{input.type === \'mashup\' ? \'Devhub.CreateNewMashup\' : input.type === \'visualization\' ? \'Devhub.CreateNewVisualization\' : \'Devhub.CreateNew\' }}"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<div class="metadata-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Name"></label>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input name="extensionName"\n\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t   ng-class="{\'validation-error-input\': createExtension.extensionName.$invalid && !firstAttempt}"\n\t\t\t\t\t\t   ng-model="input.name"\n\t\t\t\t\t\t   ng-model-options="{allowInvalid: true}"\n\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t   ng-change="validateForm(createExtension.extensionName)"\n\t\t\t\t\t\t   qva-focus="true"\n\t\t\t\t\t\t   qv-enter="createExtension.$valid && create($event)"\n\t\t\t\t\t\t   ng-maxlength="maxLength"\n\t\t\t\t\t\t   required/>\n\t\t\t\t\t<div ng-hide="firstAttempt" qw-validation-tooltip="createExtension.extensionName"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="metadata-item" ng-if="input.templates">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Template"></label>\n\t\t\t\t<lui-select x-model="input.template" required>\n\t\t\t\t\t<option disabled value="" class="default-option" q-translation="Devhub.SelectTemplate"></option>\n\t\t\t\t\t<option disabled class="hide-empty-row"></option>\n\t\t\t\t\t<optgroup ng-repeat="template in input.templates" label="{{getName(template.type)}}">\n\t\t\t\t\t\t<option ng-repeat="item in template.items" value="{{item.id}}">{{item.name}}</option>\n\t\t\t\t\t</optgroup>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\n\t\t\t<div class="error-msg" ng-class="{\'warn\': warn}">{{error}}</div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<lui-button ng-click="closeView($event);" name="cancel" q-translation="Devhub.Cancel"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\ttid="cancel"></lui-button>\n\t\t\t<lui-button ng-click="create($event);" name="create" q-translation="Devhub.CreateAndEdit"\n\t\t\t\t\t\ttype="submit"\n\t\t\t\t\t\ttid="create_and_edit" ng-disabled="createExtension.$invalid || createInProgress"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(52),n(153),n(46),n(504),n(54)],r=function(t,e,n,i,r){var o={template:r,controller:["$scope",function(r){var o=t.getService("qwCommonService");r.maxLength=o.constants.MAX_NAME_LENGHT;r.firstAttempt=true;r.createInProgress=false;r.closeView=function(t){t.preventDefault();r.destroyComponent()};r.create=function(t){t.preventDefault();r.createInProgress=true;n.createLibrary(r.input.name,r.input.description).then(function(e){r.input.callback(e);r.closeView(t)}).catch(function(){r.input.callback({errName:"errCreateLibrary",errMessage:i.get("Devhub.ErrorCreateLibrary")})}).finally(function(){r.createInProgress=false})};r.validateForm=function(t){r.firstAttempt=false;if("libraryName"===t.$name){if(!r.input.name||""===r.input.name)return;t.$setValidity("invalidExtensionName",e.isValidExtensionName(r.input.name));t.$setValidity("extensionAlreadyExists",!e.isExistingExtensionName(r.input.name,r.input.assets.extensionList,r.input.assets.templateList))}}}]};return{component:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="create-library-dialog" qv-cancel="closeView($event)">\n\t<form name="createLibrary" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Devhub.CreateWidgetLibrary"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<div class="qw-createlibrarydlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Name"></label>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input name="libraryName"\n\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t   ng-class="{\'validation-error-input\': createLibrary.libraryName.$invalid && !firstAttempt}"\n\t\t\t\t\t\t   ng-model="input.name"\n\t\t\t\t\t\t   ng-model-options="{allowInvalid: true}"\n\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t   ng-change="validateForm(createLibrary.libraryName)"\n\t\t\t\t\t\t   qv-enter="createLibrary.$valid && create($event)"\n\t\t\t\t\t\t   maxlength="maxLength"\n\t\t\t\t\t\t   qva-focus="true"\n\t\t\t\t\t\t   required/>\n\t\t\t\t\t<div ng-hide="firstAttempt" qw-validation-tooltip="createLibrary.libraryName"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="qw-createlibrarydlg-item">\n\t\t\t\t<label q-translation="Devhub.Description"></label>\n\t\t\t\t<textarea class="lui-textarea ng-pristine ng-valid" ng-model="input.description"\n\t\t\t\t\t\t  maxlength="500"></textarea>\n\t\t\t</div>\n\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t\t<lui-button ng-click="closeView($event)" name="cancel" q-translation="Devhub.Cancel"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\ttid="cancel"></lui-button>\n\t\t\t<lui-button ng-click="create($event)" name="create" q-translation="Devhub.Create" tid="create"\n\t\t\t\t\t\ttype="submit"\n\t\t\t\t\t\tng-disabled="createLibrary.$invalid || createInProgress"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(87),n(506),n(222)],r=function(t,e){var n={template:e,controller:["$scope",function(e){e.libraries=e.input.libraryList;e.types=t.types;e.firstAttempt=true;e.showAdvancedSettings=false;e.template={name:"",description:"",author:"",meta:{type:"other"},library:e.input.library,dependencies:{}};e.closeView=function(t){t&&t.preventDefault();e.destroyComponent()};e.create=function(t){t.preventDefault();e.input.callback(e.template);e.closeView()};e.validateForm=function(){e.firstAttempt=false}}]};return{component:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="create-dialog" qv-cancel="closeView($event)">\n\t<form name="createWidget" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Widget.CreateNew"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<div class="qw-createdlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Name"></label>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input name="widgetName"\n\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t   ng-class="{\'validation-error-input\': createWidget.widgetName.$invalid && !firstAttempt}"\n\t\t\t\t\t\t   ng-model="template.name"\n\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t   ng-change="validateForm()"\n\t\t\t\t\t\t   qv-enter="createWidget.$valid && create($event)"\n\t\t\t\t\t\t   maxlength="{{isPersonalMode ? 200 : 255}}"\n\t\t\t\t\t\t   qva-focus="true"\n\t\t\t\t\t\t   required/>\n\t\t\t\t\t<div ng-hide="firstAttempt" qw-validation-tooltip="createWidget.widgetName"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="qw-createdlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Widget.AddToLibrary"></label>\n\t\t\t\t<lui-select x-model="template.library" x-change="validateForm()"\n\t\t\t\t\t\t\tx-options="lib.id as lib.data.name for lib in input.libraryList" required>\n\t\t\t\t\t<option disabled value="" class="default-option" q-translation="Devhub.SelectLibrary"></option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\n\t\t\t<div class="qw-createdlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Widget.Type"></label>\n\t\t\t\t<lui-select x-model="template.meta.type">\n\t\t\t\t\t<option ng-repeat="type in types" value="{{type.id}}" q-translation="{{type.name}}"></option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\n\t\t\t<div class="advanced-settings-button" ng-show="!showAdvancedSettings">\n\t\t\t\t<lui-button ng-click="showAdvancedSettings = true"\n\t\t\t\t\t\t\tq-translation="Devhub.ShowAdvancedSettings"></lui-button>\n\t\t\t</div>\n\n\t\t\t<div class="advanced-settings" ng-show="showAdvancedSettings">\n\t\t\t\t<div class="qw-createdlg-item">\n\t\t\t\t\t<label q-translation="Devhub.Description"></label>\n\t\t\t\t\t<textarea class="lui-textarea ng-pristine ng-valid" ng-model="template.description"\n\t\t\t\t\t\t\t  maxlength="500"></textarea>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="qw-createdlg-item">\n\t\t\t\t\t<label q-translation="Devhub.Author"></label>\n\t\t\t\t\t<input class="lui-input" ng-model="template.author" value="" type="text" maxlength="255"/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="qw-createdlg-item">\n\t\t\t\t\t<label q-translation="Devhub.Dependencies"></label>\n\t\t\t\t\t<qw-dependencies-selector dependencies="template.dependencies"></qw-dependencies-selector>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t\t<lui-button ng-click="closeView($event)" name="cancel" q-translation="Devhub.Cancel"\n\t\t\t\t\t\ttid="cancel"></lui-button>\n\t\t\t<lui-button ng-click="create($event)" name="create" q-translation="Devhub.Create" tid="create"\n\t\t\t\t\t\tng-disabled="createWidget.$invalid"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e){t.exports='<div id="dependencies-selector">\n\t<div class="ds-header-wrapper">\n\t\t<ul class="lui-list ds-list">\n\t\t\t<li class="lui-list__header">\n\t\t\t\t<span class="lui-list__text ds-name" q-translation="Devhub.Name"></span>\n\t\t\t\t<span class="lui-list__text ds-version" q-translation="Devhub.Version"></span>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class="ds-content-wrapper" q-scroll>\n\t\t<ul class="lui-list ds-list">\n\t\t\t<li ng-repeat="notFoundComponent in notFoundCustomComponents track by $index"\n\t\t\t\tng-show="notFoundCustomComponents.length !== 0" class="lui-list__item not-found"\n\t\t\t\ttitle="Component not found">\n\t\t\t\t<lui-checkbox class="dependency-checkbox" x-model="notFoundComponent.selected"\n\t\t\t\t\t\t\t  x-change="toggleDependency(notFoundComponent, $index)"></lui-checkbox>\n\t\t\t\t<span class="lui-list__text ds-name">{{notFoundComponent.name}}</span>\n\t\t\t\t<lui-select class="version-dropdown" disabled>\n\t\t\t\t\t<option value="{{notFoundComponent.version}}">{{notFoundComponent.version}}</option>\n\t\t\t\t</lui-select>\n\t\t\t</li>\n\t\t\t<li ng-repeat="ccGroup in customComponentsGroupedList track by $index"\n\t\t\t\tng-show="customComponentsGroupedList.length !== 0" class="lui-list__item">\n\t\t\t\t<lui-checkbox class="dependency-checkbox" x-model="ccGroup.selected"\n\t\t\t\t\t\t\t  x-change="toggleDependency(ccGroup, $index)"></lui-checkbox>\n\t\t\t\t<span class="lui-list__text ds-name" title="{{ccGroup.name}}">{{ccGroup.name}}</span>\n\t\t\t\t<lui-select class="version-dropdown" ng-disabled="ccGroup.versionsList.length <= 1"\n\t\t\t\t\t\t\tx-model="ccGroup.version" x-change="switchVersion(ccGroup)">\n\t\t\t\t\t<option ng-repeat="version in ccGroup.versionsList" value="{{version}}">{{version}}</option>\n\t\t\t\t</lui-select>\n\t\t\t</li>\n\t\t\t<div ng-show="customComponentsGroupedList.length === 0 && notFoundCustomComponents.length === 0"\n\t\t\t\t class="no-dependencies" q-translation="Devhub.NoCustomComponents"></div>\n\t\t</ul>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(52),n(509),n(154),n(195)],r=function(t,e,n,i,r,o){var s={};function a(t){var n=new e;var i=this;var r=[];t.forEach(function(t){r.push(i._requireComponent(t))});e.all(r,function(){n.resolve(s)}).catch(function(){n.resolve()}).finally(function(){n.resolve(s)});return n.promise}function l(n,o){var a=new e;var l=t.getService("$injector");if(o){Array.isArray(o)||(o=[o]);o.forEach(function(e){var r=e;var o=e.componentName;l.has(o+"Directive")||t.directive(o,function(){return i.getComponentWrapper(e.componentName,n)});var a=e.componentName+"."+n.data.version;if(!l.has(a+"Directive")){t.directive(a,function(){return r});s[e.path]=e}});a.resolve(o)}else{var c="Plugin is invalid or missing, '"+JSON.stringify(o)+"'";r.warning(c,"custom component loader");a.resolve({success:false,error:"plugin is invalid or missing"})}return a.promise}function c(t){var n=new e;s[t.path]?n.resolve(s[t.path]):o.loadExtension({path:t.path,libraryInfo:{isThirdParty:true}}).then(function(e){u(e).then(function(i){if(i.success){e.path=t.path;n.resolve(l(t,e))}else{var o=i.error+": '"+t.data.name+"' - "+i.reason;r.error(o,"Custom component loader");n.resolve(i)}})}).catch(function(){n.resolve({success:false,error:"Require failed while loading the custom component: '"+t.data.name+"'."})});return n.promise}function u(t){var i=new e;var r={success:false,error:"Validation for the custom component failed"};t&&t.componentName?n.hasInvalidCharacters(t.componentName)?r.reason="The name must not contain white-spaces or special characters: "+t.componentName:n.isValidCamelCase(t.componentName)?r={success:true,error:void 0}:r.reason="Invalid component name:"+t.componentName+". Only lower camel case is allowed.":r.reason="The property componentName is undefined.";i.resolve(r);return i.promise}return{load:a,validateComponent:u,loadedCustomComponents:s,_requireComponent:c,_registerComponent:l}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(154)],r=function(t,e){function n(t,n){for(var i in n)if(i===t.data.name)return n[i];var r="Component "+t.data.name+" not found in the dependency.";e.warn(r,"custom component wrapper");return}function i(t){var e=t;while(t.length>1&&/[A-Z]/.test(e))e=e.replace(/([a-z\d])([A-Z])/g,function(t,e,n){return e+"-"+n.toLowerCase()});return e}function r(e,r){return{restrict:"E",scope:{},priority:1001,compile:function o(s){var a=s[0].outerHTML;return{pre:function o(s,l){var c,u=s;while(u.$parent){if(u.layout){c=u.layout.dependencies;break}u=u.$parent}var d=c?n(r,c):r.data.version;var p=i(e);var f=a.replace(p,p+"."+d);var h=t.getService("$compile")(f)(s.$parent);l.replaceWith(h)}}}}}return{getComponentWrapper:r,__onlytest__:{_getAppropriateVersion:n,_camelCaseToDash:i}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(511)],r=function(t){var e=t.getService("qwSysInfoService");var n={restrict:"E",replace:true,componentName:"qwSysInfo",controller:["$scope",function(t){this.sysinfo=function(n){e.loadSysInfos(t,n.content)}}],link:function t(e,n,i,r){r.sysinfo(i)}};t.directive("qwSysInfo",function(){return n})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(48),n(41),n(79),n(80)],r=function(t,e,n,i){e.service("qwSysInfoService",function(){var e={apps:{scopeName:"apps",api:"qlik",func:"getAppList",resultKeys:[]},sheets:{scopeName:"sheets",api:"app",func:"getList",types:"sheet",resultKeys:["qAppObjectList","qItems"]},fields:{scopeName:"fields",api:"app",func:"getList",types:"FieldList",resultKeys:["qFieldList","qItems"]},masterobjects:{scopeName:"masterobjects",api:"app",func:"getList",types:"masterobject",resultKeys:["qAppObjectList","qItems"]},measures:{scopeName:"measures",api:"app",func:"getList",types:"MeasureList",resultKeys:["qMeasureList","qItems"]},dimensions:{scopeName:"dimensions",api:"app",func:"getList",types:"DimensionList",resultKeys:["qDimensionList","qItems"]},extensions:{scopeName:"extensions:",api:"qUtil",func:"getExtensionList",resultKeys:[]},bookmarks:{scopeName:"bookmarks",api:"app",func:"getList",types:"BookmarkList",resultKeys:["qBookmarkList","qItems"]},currentselections:{scopeName:"currentselections",api:"app",func:"getList",types:"CurrentSelections",resultKeys:["qSelectionObject","qSelections"]},visualizations:{scopeName:"visualizations",api:"app",func:"getList",types:"sheet[sheets]>o_qData>a_cells>f_app.getObject_name[viz]",resultKeys:["qAppObjectList","qItems"],properties:{sheets:{as:"usedOnSheet",values:["qData.title","qData.labelExpression","qInfo","qMeta"]},viz:{values:["footnote","metadata","showTitles","qInfo","subtitle","title","version","visualization","visualizationType","qExtendsId","visualizationTypeIcon[icons:qInfo.qType]"]}}},variables:{scopeName:"variables",api:"app",func:"getList",types:"VariableList",resultKeys:["qVariableList","qItems"]}};e.sheet=e.sheets;e.field=e.fields;e.masterobject=e.masterobjects;e.measure=e.measures;e.dimension=e.dimensions;e.extension=e.extensions;e.bookmark=e.bookmarks;e.currentselection=e.currentselections;e.visualization=e.visualizations;e.variable=e.variables;var r={icons:{chart:"icon-line-chart",table:"icon-table",kpi:"icon-kpi",navigation:"icon-navigation",other:"icon-widget",barchart:"icon-bar-chart","bar-chart-vertical":"icon-bar-chart",linechart:"icon-line-chart",pivottable:"icon-table",components:"icon-components","pie-chart":"icon-pie-chart",filterpane:"icon-filterpane",list:"icon-list","gauge-chart":"icon-gauge-chart","scatter-chart":"icon-scatter-chart","text-image":"icon-text",text:"icon-titletext",map:"icon-map","combo-chart":"icon-combo-chart",extension:"icon-puzzle"}};function o(t){var e="";switch(t){case"app":e=n.currApp();break;case"qUtil":e=i;break;case"qlik":e=n;break}return e}function s(t,e){if(e){e=Array.isArray(e)?e:e.split(",");e.forEach(function(e){a(t,e.trim())})}}function a(t,e,n){if(!e)return;e=e.toLowerCase();var i=l(e);if(!i)return;i.api=o(i.api);t[e]=t[e]||[];if(i.types){var r=i.types.split(">");r.length>0&&(t[e]=[]);var s=r[0];var a="";if(-1!==r[0].indexOf("[")){var u=r[0].indexOf("[")+1;var d=r[0].indexOf("]");s=r[0].substr(0,u-1);a=r[0].substr(u,d-u)}i.api&&i.api[i.func]&&i.api[i.func](s,function(r){c(t,r,e,n||i.resultKeys,i.types.split(">"),i.properties,a)})}else i.api[i.func](function(n){c(t,n,e,i.resultKeys)})}function l(n){var i=void 0;e[n]&&(i=t.copy(e[n]));return i}function c(t,e,n,i,r,o){i.forEach(function(t){e=e[t]});if(r&&r.length>1){u(t,e,n,r,o);return}Object.keys(e).length>0&&(t[n]=e)}function u(e,n,i,r,s,a,l){var c=!l;var f=r[0].substr(0,2);var h="";var v="";var g={};var m="";switch(f){case"o_":h=r[0].substr(2);r=t.copy(r).splice(1);v=n;g=d(h,s,v,n);m=g.props;v=g.newData;l=p(m,v,l);r.length>0?u(e,v,i,r,s,a,l):e[i].push(v);break;case"f_":h=r[0].substr(2);var b=h.indexOf("_");var y=h.substr(0,b).split(".");var x=h.substr(b+1);m="";if(-1!==x.indexOf("[")){var w=x.indexOf("[")+1;var q=x.indexOf("]");m=s[x.substr(w,q-w)];x=x.substr(0,x.indexOf("["))}var _=t.copy(l||{});o(y[0])[y[1]](n[x]).then(function(n){if(m&&m.values){m.as&&(_[m.as]=_[m.as]||{});_=p(m,n,_)}var o=t.copy(r).splice(1);0===o.length?Object.keys(_).length>0&&e[i].push(_):u(e,n,i,o,s,a,_)});break;default:v=n;h="a_"===f?r[0].substr(2):r[0];g=d(h,s,v,n);m=g.props;v=g.newData;v.forEach(function(n){l=l||{};if(m&&m.values){m.as&&(l[m.as]=l[m.as]||{});l=p(m,n,l)}var o=t.copy(r).splice(1);0===o.length?Object.keys(l).length>0&&e[i].push(l):u(e,n,i,o,s,a,c?t.copy(l):l)})}}function d(t,e,n,i){if(-1!==t.indexOf("[")){var r=t.indexOf("[")+1;var o=t.indexOf("]");var s=e[t.substr(r,o-r)];var a=t.substr(0,t.indexOf("["));n=i[a]||i}else n=i[t]||i;return{props:s,newData:n}}function p(e,n,i){if(!e)return i;e.values.forEach(function(o){if(-1===o.indexOf(".")&&-1===o.indexOf("["))(n[o]||n.layout&&n.layout[o])&&(e.as?i[e.as][o]=t.copy(n[o]||n.layout[o]):i[o]=t.copy(n[o]||n.layout[o]));else if(-1!==o.indexOf("[")){var s=void 0;var a=o.indexOf("[")+1;var l=o.indexOf("]");var c=o.substr(a,l-a).split(":");var u=o.substr(0,o.indexOf("["));if(c.length>1){var d=c[1].split(".");var p=t.copy(n);d.forEach(function(t){p&&(p=p[t]||p.layout[t])});p&&(s=r[c[0]][p]||r[c[0]]["other"]);e.as?i[e.as][u]=s:i[u]=s}else"self"===c[0]&&(e.as?i[e.as][u]=n:i[u]=n)}else{var f=o.split(".");var h=t.copy(n);var v=1;var g=i[e.as||i];g&&f.forEach(function(t){h=h&&(h[t]||h.layout&&h.layout[t])?h[t]||h.layout[t]:void 0;if(f.length>v){g[t]=g[t]||{};g=g[t];v+=1}else g[t]=h})}});return i}return{loadSysInfos:s}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(513),n(52),n(70),n(101),n(54)],r=function(t,e,n,i,r){var o={scope:{},template:e,controller:["$scope",function(e){e.firstAttempt=true;e.maxLength=t.getService("qwCommonService").constants.MAX_NAME_LENGHT;e.createInProgress=false;e.closeView=function(t){t.preventDefault();e.destroyComponent();e.deferredResult.resolve()};e.validateForm=function(t){e.firstAttempt=false;if("fileName"===t.$name){if(!e.input.newFileName||""===e.input.newFileName)return;t.$setValidity("invalidFileName",n.isValidName(e.input.newFileName));t.$setValidity("invalidFileType",n.hasValidFileExtension(e.input.newFileName));t.$setValidity("fileAlreadyExists",!i.isFileInAssets(e.input.newFileName,e.input.assets))}};e.create=function(t){e.createInProgress=true;t.preventDefault();return i.addNewFile(e.input.newFileName,e.input.assets).then(function(t){t.activeTab=e.input.newFileName;e.destroyComponent();e.deferredResult.resolve()}).catch(function(t){r.handleSaveError(t);e.destroyComponent();e.deferredResult.reject(t);e.error=t.errorMsg}).finally(function(){e.createInProgress=false})}}]};return{component:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="new-file-dialog" qv-cancel="closeView($event);" class="dev-hub-dialog">\n\t<form name="newFile" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Devhub.NewFile"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<div>\n\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t<label q-translation="Devhub.Name"></label>\n\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t<input name="fileName"\n\t\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': newFile.fileName.$invalid && !firstAttempt}"\n\t\t\t\t\t\t\t   ng-model="input.newFileName"\n\t\t\t\t\t\t\t   ng-model-options="{allowInvalid: true}"\n\t\t\t\t\t\t\t   qva-focus="true"\n\t\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t\t   ng-maxlength="maxLength"\n\t\t\t\t\t\t\t   maxlength="255"\n\t\t\t\t\t\t\t   ng-change="validateForm(newFile.fileName)"\n\t\t\t\t\t\t\t   required>\n\t\t\t\t\t\t<div ng-hide="firstAttempt" qw-validation-tooltip="newFile.fileName"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="error-msg" ng-class="{\'warn\': warn}">{{error}}</div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<lui-button ng-click="closeView($event);" name="cancel" q-translation="Devhub.Cancel"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\ttid="cancel"></lui-button>\n\t\t\t<lui-button name="create_file" q-translation="Devhub.Create" tid="create_file"\n\t\t\t\t\t\ttype="submit"\n\t\t\t\t\t\tng-click="create($event);"\n\t\t\t\t\t\tng-disabled="newFile.$invalid || createInProgress"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>'},function(t,e,n){"use strict";var i,r;!(i=[n(65),n(515),n(100)],r=function(t,e,n){var i={template:e,controller:["$scope",function(t){t.details=false;n.import(t.input.selectedFile).then(function(e){t.input.callback(e);t.input={widgets:e,totals:{success:e.filter(function(t){return true===t.success}).length,fail:e.filter(function(t){return false===t.success}).length}}}).catch(function(e){t.input.callback({error:e})});t.closeView=function(){t.destroyComponent()};t.toggleDetails=function(e){e.preventDefault();t.details=!t.details}}]};function r(e){return t.show(i,e).resultPromise}return{show:r,component:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="import-library-dialog">\n\t<lui-dialog__header>\n\t\t<lui-dialog__title q-translation="DevHub.ImportLibrary"></lui-dialog__title>\n\t</lui-dialog__header>\n\t<lui-dialog__body>\n\t\t<div ng-if="!input.widgets">\n\t\t\t<span class="progress-title" q-translation="Devhub.ImportingLibrary"></span>\n\t\t\t<qv-spinner show="!input.widgets"></qv-spinner>\n\t\t</div>\n\t\t<div ng-if="input.widgets">\n\t\t\t<div class="msg-wrapper">\n\t\t\t\t<label class="qv-taglabel" q-translation="DevHub.LibrarySuccessfullyImported"></label><br>\n\t\t\t\t<label class="qv-taglabel"\n\t\t\t\t\t   q-translation="Devhub.NumberOfWidgetsImported,{{input.totals.success}},{{input.totals.success+input.totals.fail}}"></label>\n\t\t\t\t<button class="lui-button" ng-if="input.totals.success+input.totals.fail !== 0"\n\t\t\t\t\t\tng-click="toggleDetails($event)"\n\t\t\t\t\t\tq-translation="{{details ? \'DevHub.HideDetails\' : \'DevHub.ShowDetails\'}}"></button>\n\t\t\t</div>\n\n\t\t\t<div class="details-wrapper" ng-show="details">\n\t\t\t\t<table class="details-table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th class="name" q-translation="Devhub.Name"></th>\n\t\t\t\t\t<th class="msg" q-translation="Devhub.Message"></th>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t<tr ng-repeat="widget in input.widgets">\n\t\t\t\t\t\t<td class="success-icon">\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--close" ng-if="!widget.success"></span>\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--tick" ng-if="widget.success"></span>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td q-title-translation="{{widget.id}}"\n\t\t\t\t\t\t\tq-translation="{{widget.widgetName ? widget.widgetName : \'Devhub.NotAvailable\'}}"></td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div q-translation="{{widget.msg}}" ng-if="widget.msg" class="error message"></div>\n\t\t\t\t\t\t\t<div q-translation="DevHub.ImportedSuccessfully" ng-if="!widget.msg"\n\t\t\t\t\t\t\t\t class="success message"></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog__body>\n\t<lui-dialog__footer>\n\t\t<lui-button ng-if="input.widgets" ng-click="closeView($event)" q-translation="Devhub.Close"></lui-button>\n\t</lui-dialog__footer>\n</lui-dialog>\n'},function(t,e){t.exports='<div class="qv-panel qv-panel-stage borderbox" ng-class="{\'no-scroll\': isInSmallDeviceMenu}">\n\t<div class="qv-panel-content flex-row" ng-transclude>\n\t</div>\n\t<qw-bottom-toolbar></qw-bottom-toolbar>\n</div>\n'},function(t,e){t.exports='<div class="work-area" ng-transclude>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(46),n(70),n(224),n(100),n(88),n(519),n(121),n(66),n(61),n(66),n(85),n(155),n(156),n(157)],r=function(t,e,n,i,r,o,s,a,l){var c=t.getService("qwNavigationService");var u=t.getService("qwErrorService");var d=t.getService("qvContextMenu");var p=t.getService("qwPermissionService");var f=t.getService("qwConverterService");var h=t.getService("luiDialog");var v=t.getService("qwConverterComService");var g=t.getService("toastService");t.service("qwStartPageService",[function(){var m={extensionList:[],templateList:[],widgetLibraries:[],conversionList:[]};var b={};var y;var x=function t(){m.extensionList.length=0;m.templateList.length=0;m.conversionList.length=0;var n=new e;e.all({groupedExtensions:i.getExtensionsFromRepo(true),widgetLibraries:o.getList(true),converterAssets:f.getAssetsInfo(),permissions:p.getAllPermissions()}).then(function(t){m.extensionList=t.groupedExtensions.extensionList;m.templateList=t.groupedExtensions.templateList;m.conversionList=t.converterAssets;m.widgetLibraries=t.widgetLibraries;for(var e in t.permissions)t.permissions.hasOwnProperty(e)&&(b[e]=t.permissions[e]);n.resolve()});return n.promise};function w(e){y=t.getService("luiDialog").show({controller:a.component.controller,template:a.component.template,input:{assets:m,item:e,updateSettings:function t(n){q(e,n)},refresh:x,permissions:b}})}function q(t,e){var n=t.qext?t.qext.type:t.data.type,r;if("mashup"===n||"visualization"===n){t.qext=e;r=i.getExtensionFileObjectsFromRepo(t.id,n).then(function(e){var n=e.filter(function(t){return"qext"===t.extension})[0];n.content=JSON.stringify(t.qext,null,"\t");return i.saveFileInRepo(t.id,n)})}else if("widget-library"===n){t.data=e;r=t.save()}return r.then(function(){y.close();x()}).catch(function(){var t={name:"Devhub.Refresh",tid:"387eb",callback:function t(){window.location.reload(true)}};u.raiseError(null,"Devhub.ErrorUpdatingSettings",t)})}function _(t,e){d.close();return s.duplicateExtension(t,e).then(function(t){if(t&&t.cancel)return true;c.openExtension(t.extensionUniqueName,t.type,false)})}function C(t){var e=[];e.push({translation:"Devhub.Settings",tid:"31c395",select:function e(){w(t)},disabled:false});if(t.qext){var i=t.qext.type;if("mashup"===i){var o=t.qext.page||t.id+".html";o.trim().length>0&&e.push({translation:"Devhub.View",tid:"319c34",select:function e(){c.viewMashup(t.id);d.close()},disabled:false})}}if("mashup"===i||"visualization"===i){e.push({translation:"Devhub.Edit",tid:"319c2d",select:function e(){c.openExtension(t.id,t.qext.type,true);d.close()},disabled:!b[t.qext.type].show});e.push({translation:"Devhub.Duplicate",tid:"319c38",select:function e(){_(t.id,i)},disabled:!b[t.qext.type].create});e.push({translation:"DevHub.Export",tid:"3fce24",select:function e(){r.exportItem(t.id,t.title)},disabled:!b[t.qext.type].show});e.push({translation:"Devhub.Delete",tid:"319c33",select:function e(){d.close();s.showDeleteExtensionDialog(t).then(function(){x()})},disabled:!b[t.qext.type].delete})}else if(t.data&&"widget-library"===t.data.type){e.push({translation:"Devhub.Open",tid:"31c396",select:function e(){c.openWidgetLibrary(t.id,void 0,true)},disabled:!b.widgetLibrary.show});e.push({translation:"DevHub.Export",tid:"31c397",select:function e(){r.exportItem(t.id,t.data.name)},disabled:!b.widgetLibrary.show});e.push({translation:"Devhub.Delete",tid:"31c398",select:function e(){s.showDeleteLibraryDialog(t).then(function(){x()})},disabled:!b.widgetLibrary.delete})}else if(t.data&&"qv-app"===t.data.type){e[0]&&"Devhub.Settings"===e[0].translation&&delete e[0];e.push({translation:"Devhub.Open",tid:"7c87db",select:function e(){var n=c.getBasePath()+"/dev-hub/converter";t&&(n=n+"/#qvwapp{"+encodeURIComponent(t.id)+"}");c.openUrlInNewTabIfCtrlKeyPressed(true,{disable:false,link:n})},disabled:false});e.push({translation:"Devhub.Delete",tid:"7c624a",select:function e(){d.close();h.show({controller:l.component.controller,template:l.component.template,closeOnEscape:false,input:{title:"Devhub.Delete",message:n.get("Devhub.DeleteExtensionDialogMessage",t.id),buttons:[{title:"Devhub.Cancel",tid:"2c460"},{title:"Devhub.OK",tid:"2c461"}],actions:{"Devhub.OK":function e(){v.deleteQvwApp(t.id).then(function(){g.showToast({message:n.get("Devhub.ConverterAppDeletedToastMsg")});x()})}}}})},disabled:false})}return e}function S(t,e){var n=d.menu();C(e).forEach(function(t){n.addItem(t)});d.show(n,{position:{x:t.pageX,y:t.pageY}})}return{init:x,refresh:x,openContextMenu:S,openLibraryInfo:w,updateSettings:q,duplicate:_,assets:m,permissions:b}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(65),n(41),n(48),n(520),n(224),n(88),n(131),n(61)],r=function(t,e,n,i,r,o,s){var a=e.getService("qwNavigationService");var l={template:i,controller:["$scope",function(e){e.item={id:e.input.item.id,data:e.input.item.qext?e.input.item.qext:e.input.item.data};e.input.item.src&&(e.item.data.src=e.input.item.src);e.item=n.merge({},e.item);e.hasChanged=false;var i={};function l(t){var n=[];"mashup"===e.item.data.type&&n.push({text:"Devhub.View",title:"Devhub.View",tid:"3da95a",onSelect:function e(){a.viewMashup(t.id)},disabled:false});if("mashup"===e.item.data.type||"visualization"===e.item.data.type){n.push({text:"Devhub.Edit",title:"Devhub.Edit",tid:"3daa7b",onSelect:function e(){a.openExtension(t.id,t.data.type,true)},disabled:!e.havePermission(t.data.type,"show")});n.push({text:"Devhub.Duplicate",title:"Devhub.Duplicate",tid:"3daac6",onSelect:function n(){i.close();e.closeView();o.duplicateExtension(t.id,t.data.type).then(function(t){if(t&&t.cancel)return true;a.openExtension(t.extensionUniqueName,t.type,false)})},disabled:!e.havePermission(t.data.type,"create")});n.push({text:"DevHub.Export",title:"DevHub.Export",tid:"3fce2b",onSelect:function e(){r.exportItem(t.id,t.data.name)},disabled:!e.havePermission(t.data.type,"show")})}else if("widget-library"===t.data.type){n.push({text:"Devhub.Open",title:"Devhub.Open",tid:"3daac7",onSelect:function e(){a.openWidgetLibrary(t.id,void 0,true)},disabled:!e.havePermission(t.data.type,"show")});n.push({text:"DevHub.Export",title:"DevHub.Export",tid:"3daac9",onSelect:function e(){r.exportItem(t.id,t.data.name)},disabled:!e.havePermission(t.data.type,"show")})}else"qv-app"===t.data.type&&n.push({text:"Devhub.Open",title:"Devhub.Open",tid:"7c87eb",onSelect:function t(){},disabled:false});return n}e.formChanged=function(){e.hasChanged=true};e.havePermission=function(t,n){"widget-library"===t&&(t="widgetLibrary");return e.input.permissions[t][n]};e.openMenuPopover=function(t){i=s.show(l(e.item),t.target)};e.saveSettings=function(){e.input.updateSettings(e.item.data)};e.closeView=function(){t.closeAll()};e.delete=function(){e.closeView();"widget-library"===e.item.data.type?o.showDeleteLibraryDialog(e.item).then(function(){e.input.refresh()}):o.showDeleteExtensionDialog(e.item).then(function(){e.input.refresh()})}}]};function c(e){return t.show(l,e).resultPromise}return{show:c,component:l}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="modal-container qui-modalbackground-centered" qv-tabbable-container>\n\t<div id="info-dialog">\n\t\t<div class="devhub-card-container">\n\t\t\t<form name="extensionSettings" class="devhub-card" autocomplete="off" novalidate="novalidate">\n\t\t\t\t<div class="card-header-container">\n\t\t\t\t\t<div class="devhub-card-header">\n\t\t\t\t\t\t<span class="title-span" q-title-translation="{{item.data.name}}">{{item.data.name}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="close-btn">\n\t\t\t\t\t\t<button class="lui-fade-button" q-title-translation="Devhub.Close" ng-click="closeView()">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--close"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="card-ribbon">\n\t\t\t\t\t<div class="wrapper-ribbon-icons">\n\t\t\t\t\t\t<div class="ribbon-icon" q-title-translation="Tooltip.MoreOptions"\n\t\t\t\t\t\t\t ng-click="openMenuPopover($event)" id="info-more" qva-outside-ignore-for="info-more">\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--more"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="ribbon-icon" q-title-translation="Devhub.Delete" ng-click="delete()"\n\t\t\t\t\t\t\t ng-if="havePermission( item.data.type, \'delete\' )">\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--bin"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="info-container">\n\t\t\t\t\t<div class="image-thumb">\n\t\t\t\t\t\t<div ng-if="item.data.src" ng-style="{\'background-image\': \'url(\' + item.data.src + \')\'}"\n\t\t\t\t\t\t\t class="icon"></div>\n\t\t\t\t\t\t<div ng-if="!item.data.src" class="icon"\n\t\t\t\t\t\t\t ng-class="{\'extension-image\': item.data.type === \'visualization\', \'mashup-image\': item.data.type === \'mashup\', \'library-image\': item.data.type === \'widget-library\'}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="metadata-wrapper">\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.ID"></span></label>\n\t\t\t\t\t\t\t<span class="info_no_edit" q-title-translation="{{item.id}}">{{item.id}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.Type"></span></label>\n\t\t\t\t\t\t\t<span class="info_no_edit"\n\t\t\t\t\t\t\t\t  q-title-translation="{{item.data.type}}">{{item.data.type}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Name"></label>\n\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t<input name="extName"\n\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': extensionSettings.extName.$invalid}"\n\t\t\t\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t\t\t\t   ng-model="item.data.name"\n\t\t\t\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"\n\t\t\t\t\t\t\t\t\t   ng-maxlength="255"\n\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t<div qw-validation-tooltip="extensionSettings.extName"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<label q-translation="Devhub.Description"></label>\n\t\t\t\t\t\t\t<textarea class="lui-textarea ng-pristine ng-valid" maxlength="500"\n\t\t\t\t\t\t\t\t\t  ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t  ng-change="formChanged()" ng-model="item.data.description"></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="item.data.type === \'mashup\' || item.data.type === \'visualization\'">\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.Version"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.version" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.Author"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.author" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.Homepage"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.homepage" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.Keywords"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.keywords" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.License"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.license" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.Repository"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.repository" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.ProductVersion"></span></label>\n\t\t\t\t\t\t\t\t<input class="lui-input" ng-model="item.data.dependencies[\'qlik-sense\']" type="text"\n\t\t\t\t\t\t\t\t\t   ng-disabled="!havePermission( item.data.type, \'create\' )"\n\t\t\t\t\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="footer-container">\n\t\t\t\t\t<lui-button q-translation="Devhub.Cancel" ng-click="closeView()"></lui-button>\n\t\t\t\t\t<lui-button q-translation="Devhub.Save"\n\t\t\t\t\t\t\t\tng-disabled="extensionSettings.$invalid || !havePermission( item.data.type, \'create\' ) || !hasChanged"\n\t\t\t\t\t\t\t\tng-click="saveSettings()"></lui-button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e){t.exports='<lui-dialog class="generic-dialog">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="{{title}}"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="generic-body" q-translation="{{message}}">\n\t</lui-dialog-body>\n\t<lui-dialog-footer class="generic-footer">\n\t\t<lui-button ng-repeat="button in buttons" ng-click="actions[button.title](); closeView();" ng-attr-tid="{{button.tid ? button.tid : \'\'}}"\n\t\t\t\t\tq-translation="{{button.title}}"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(52),n(156)],r=function(t,e,n){var i=t.getService("qwConverterComService");t.service("qwConverterDataService",[function(){function t(t){return"undefined"===typeof t||t}function r(t,e){var n=[];e.forEach(function(e,i){e.children.indexOf(t)>-1&&n.push(i)});return n}function o(t,e){e.forEach(function(e){s(t,e)})}function s(t,e){var i={};var o={};var s=t.appData[e]||[];switch(e){case"visualizations":s.forEach(function(e,n){i[e.id]={key:n,id:e.id,sheets:r(e.id,t.appData.sheets),type:e.type};o[e.type]||(o[e.type]={key:n,id:e.type,dataTable:["visualizations",["dimensions","measures"]],dataKeys:["appData"],index:[]});o[e.type].index.push(n)});break;case"sheets":s.forEach(function(e,n){i[e.id]={key:n,id:e.id,index:[],dataTable:["visualizations",["dimensions","measures"]],dataKeys:["appData"],dynTypes:["arrow","header"],dynValues:["",e.id]};e.children.forEach(function(n){t.indexTableVisualizations[n]&&i[e.id].index.push(t.indexTableVisualizations[n].key)})});break;default:s.forEach(function(t,e){i[t.id]=e});break}t["indexTable"+n.conversions.capitalizeString(e,false)]=i;Object.keys(o).length>0&&(t["indexTable"+n.conversions.capitalizeString(e,false)+"Type"]=o);return t}function a(t,e){var n=JSON.parse(JSON.stringify(t));t.forEach(function(i,r){if(t.slice(r+1).indexOf(i)>-1)while(n.lastIndexOf(i)>r)n.splice(n.lastIndexOf(i),1);e&&i[e[0]].forEach(function(t,o){if(i[e].slice(o+1).indexOf(t)>-1)while(n[r][e[0]].lastIndexOf(t)>r)n[r][e[0]].splice(n[r][e[0]].lastIndexOf(t),1)})});return n}function l(n){var r=new e;e.all({asset:i.getAsset(n),project:i.getProject(n)}).then(function(e){var i=e.asset.data;var s=e.project.data;var l=i.visualizations.filter(function(e){return!t(e.qssupported)}).map(function(t){return t});var c={appId:n,project:s,appData:{sheets:a(i.sheets,["children"]),dimensions:a(i.dimensions),measures:a(i.measures),variables:a(i.variables),disabled:a(l),visualizations:a(i.visualizations).filter(function(e){return t(e.qssupported)}).map(function(t){return t}),objectTypes:[]}};o(c,["visualizations","dimensions","measures","variables","disabled","sheets"]);r.resolve(c)});return r.promise}return{loadAppData:l}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){var e=false;var n=false;var i=0;var r=[];var o;var s=t.getService("$timeout");var a=t.getService("$interval");function l(){i===Number.MAX_VALUE&&(i=1);return i++}function c(t,e,i){t&&r[0]&&r[0].remove(c,e||2e3,i);r.length>0&&(n||r[0].show(c))}function u(t){if(r[0]&&r[0].id===t.id){r[0].onClose.close();r.splice(0,1);n=false}}function d(t){var e=document.getElementById(t.id);if(e){e.classList.add("fade-away-toast");e.classList.remove("show-toast-animation")}}function p(){s(function(){var t=document.getElementById(r[0].id);if(t){t.classList.add("prepare-toast-animation");s(function(){t.classList.add("show-toast-animation");t.classList.remove("prepare-toast-animation")},250)}n=true})}function f(t,e){d(t);s(function(){u(t);e()},500)}function h(t,n){t.id=l();var i={id:t.id,message:t.message,action:t.action,actionMessage:t.actionMessage,show:function t(e){i.onClose=n(r[0]);s(function(){p()}).then(this.remove(e))},remove:function n(i,s,l){o=a(function(){if(e)return;if(r.length>1){a.cancel(o);o=null}},s||1e3,l||6);o.then(function(){o=null;if(e)return;f(t,i)}).catch(function(){f(t,i)})},pause:v,resume:g,close:m};r.push(i);c();return function t(){if(r[0]===i){i.pause();i.close()}else{var e=1,n=r.length;for(;e<n;e++)if(r[e]===i){r.splice(e,1);break}}}}function v(){e=true}function g(t){if(e){e=false;c(true,t,1)}}function m(){g(10)}return{notify:h}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="hub-toast" id="{{::input.id}}">\n\t<div class="hub-toast-content">\n\t\t<span class="hub-toast-content__message" title="{{::input.message}}">{{::input.message}}</span>\n\t</div>\n\t<div class="hub-toast-action-content" ng-if="::input.action" ng-click="toastAction()">\n\t\t<span class="hub-toast-action-content__action"\n\t\t\t  title="{{::input.actionMessage}}">{{::input.actionMessage}}</span>\n\t</div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(87),n(526)],r=function(t,e){var n={template:e,controller:["$scope",function(e){var n=function t(){e.destroyComponent()};e.firstAttempt=true;e.types=t.types;e.cancel=function(){n()};e.saveAs=function(){this.input.save(this.input.name,this.input.description,{type:this.input.type}).then(function(){n()})};e.validateForm=function(){e.firstAttempt=false}}]};return{component:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="save-dialog" qv-cancel="$event.preventDefault();cancel()"\n\t\t\tqv-confirm="$event.preventDefault();confirm()">\n\t<form name="widgetSaveAs" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Devhub.SaveAs"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body class="dm-main">\n\t\t\t<div class="qw-savedlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Name"></label>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input class="lui-input"\n\t\t\t\t\t\t   name="widgetName"\n\t\t\t\t\t\t   ng-model="input.name"\n\t\t\t\t\t\t   ng-class="{\'validation-error-input\': createWidget.widgetName.$invalid && !firstAttempt}"\n\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t   qv-enter="widgetSaveAs.$valid && saveAs()"\n\t\t\t\t\t\t   ng-change="validateForm()"\n\t\t\t\t\t\t   maxlength="{{isPersonalMode ? 200 : 255}}"\n\t\t\t\t\t\t   required\n\t\t\t\t\t/>\n\t\t\t\t\t<div ng-hide="firstAttempt" qw-validation-tooltip="widgetSaveAs.widgetName"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="qw-savedlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Widget.Type"></label>\n\t\t\t\t<lui-select x-model="input.type">\n\t\t\t\t\t<option ng-repeat="type in types" value="{{type.id}}"\n\t\t\t\t\t\t\tq-translation="Widget.Type.{{type.id}}"></option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t\t<div class="qw-savedlg-item">\n\t\t\t\t<label q-translation="Devhub.Description"></label>\n\t\t\t\t<textarea class="lui-textarea ng-pristine ng-valid" ng-model="input.description"></textarea>\n\t\t\t</div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer class="dm-footer">\n\t\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t\t<lui-button class="btn_cancel" ng-click="$event.preventDefault();cancel()"\n\t\t\t\t\t\tq-translation="Devhub.Cancel"></lui-button>\n\t\t\t<lui-button class="btn_save" ng-click="$event.preventDefault();saveAs()" q-translation="Devhub.Save"\n\t\t\t\t\t\tng-disabled="widgetSaveAs.$invalid"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(528)],r=function(t){var e={template:t,controller:["$scope",function(t){t.libraries=t.input.libraryList.filter(function(e){return e.id!==t.input.libraryId});t.closeView=function(){t.destroyComponent()};t.move=function(e){this.input.move(t.input.library.id,e);t.closeView()};t.emptyLibrary=function(){return!t.input.library||""===t.input.library}}]};return{component:e}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="move-dialog" qv-cancel="$event.preventDefault(); closeView()" qv-confirm="confirm()">\n\t<form name="moveWidget" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Widget.Move"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<label q-translation="{{\'Widget.MoveMessage\'}}"></label>\n\t\t\t<div class="qw-movedlg-item">\n\t\t\t\t<lui-select x-model="input.library" x-options="lib as lib.data.name for lib in libraries">\n\t\t\t\t\t<option class="default-option" value="" q-translation="Widget.MoveToLibrary"></option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t\t<lui-button ng-click="$event.preventDefault(); closeView()" name="cancel"\n\t\t\t\t\t\tq-translation="Devhub.Cancel"></lui-button>\n\t\t\t<lui-button ng-click="$event.preventDefault(); move( false )" name="move" q-translation="Devhub.Move"\n\t\t\t\t\t\ttid="1fc27b" ng-disabled="emptyLibrary()"></lui-button>\n\t\t\t<lui-button ng-click="$event.preventDefault(); move( true )" name="moveAndEdit"\n\t\t\t\t\t\tq-translation="Widget.MoveAndEdit" tid="1fc27c" ng-disabled="emptyLibrary()"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(530)],r=function(t){var e={template:t,controller:["$scope",function(t){t.hasChanged=false;t.closeView=function(){t.destroyComponent()};t.rename=function(){this.input.rename(this.input.name);t.closeView()};t.formChanged=function(){t.hasChanged=true}}]};return{component:e}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="rename-dialog" qv-cancel="$event.preventDefault(); closeView()">\n\t<form name="renameWidget" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Widget.RenameWidget"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<div class="qw-renamedlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="{{\'Widget.RenameMessage\'}}"></label>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input class="lui-input"\n\t\t\t\t\t\t   name="widgetName"\n\t\t\t\t\t\t   ng-model="input.name"\n\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t   qv-enter="renameWidget.$valid && rename()"\n\t\t\t\t\t\t   maxlength="{{isPersonalMode ? 200 : 255}}"\n\t\t\t\t\t\t   qva-focus="true"\n\t\t\t\t\t\t   ng-change="formChanged()"\n\t\t\t\t\t\t   required\n\t\t\t\t\t/>\n\t\t\t\t\t<div qw-validation-tooltip="renameWidget.widgetName"></div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer class="dm-footer">\n\t\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t\t<lui-button ng-click="$event.preventDefault(); closeView()" name="cancel"\n\t\t\t\t\t\tq-translation="Devhub.Cancel"></lui-button>\n\t\t\t<lui-button ng-click="$event.preventDefault(); rename()" name="create" q-translation="DevHub.Rename"\n\t\t\t\t\t\ttid="rename" ng-disabled="renameWidget.$invalid || !hasChanged"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(532),n(216),n(54)],r=function(t,e){var n=t.getService("qwCommonService");var i={template:e,controller:["$scope","$element",function(t,e){var i=e.find(".qv-object-content-container");var r=e.find(".qv-measure");t.updateSizeLabel=function(){r.html(i.width()+"px &times "+i.height()+"px")};t.updateSizeLabel();e.find(".qw-preview-container").resizable({containment:".qw-preview",handles:{se:".qw-handle"},minHeight:102,minWidth:102,resize:function e(){t.updateSizeLabel()}});n.registerWatcher("refreshPreview",function(){t.$broadcast("resizeCell")})}]};return{show:function t(e,n){e.showComponent(i,{model:n,options:{selections:false}})}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports="<div class='qw-preview-container' ng-mouseenter=\"updateSizeLabel()\">\n\t<qv-object id='qw_widget_preview' model='model' options='options'></qv-object>\n\t<div class=\"ui-resizable-handle qw-handle\">\n\t\t<span class=\"lui-icon  lui-icon--up-down\"></span>\n\t</div>\n\t<div class=\"qv-measure\"></div>\n</div>\n\n"},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(9),n(65),n(534),n(104),n(72),n(103),n(102),n(535),n(536)],r=function(t,e,i,r,o,s,a){var l={template:o,controller:["$scope",function(r){var o=t.getService("qwWidgetEditorService");r.data=r.input.data||{snippets:[],icons:[],properties:[],sectionProperties:[]};r.selectedTab=r.input.selectedTab||"snippets";r.theme=a;r.iconSizes=r.input.iconSizes||[{name:"Normal",value:""},{name:"Large",value:"30px"},{name:"Extra large",value:"60px"},{name:"Huge",value:"90px"}];r.selected=r.input.selected||{item:void 0,style:{color:"none",size:void 0},propertySectionIndex:void 0};var l=function t(){n.e(10).then(function(){var t=[n(698),n(699)];(function(t,e){r.data.snippets=JSON.parse(t).snippets;r.data.icons=JSON.parse(e).icons;r.data.properties=JSON.parse(JSON.stringify(o.getPropertiesFromCache()));r.initPropsTab();r.$apply()}).apply(null,t)}).catch(n.oe)};void 0===r.input.data&&l();var c=function t(){var e=o.assets.layout;return void 0===e?[]:[{ref:"title",label:"Title",defaultValue:e.title},{ref:"subtitle",label:"Subtitle",defaultValue:e.subtitle},{ref:"footnote",label:"Footnote",defaultValue:e.footnote}]};var u=function t(e,n){var i='<span class="'+e.code;if("none"!==n.color||n.size){i+='" style="';n.color&&"none"!==n.color&&(i+="color:"+n.color+";");n.size&&""!==n.size&&(i+="font-size:"+n.size+";")}i+='"></span>';return i};var d=function t(){r.destroyComponent()};var p=function t(){r.selected.item=void 0;r.markup=void 0};r.initPropsTab=function(){void 0===r.data.properties.sections&&(r.data.properties.sections=[]);r.data.properties.sections.splice(0,0,{ref:"all",type:"auto-header",label:e.get("Devhub.All")},{ref:"general",type:"auto-header",label:e.get("Devhub.general")});r.getSectionProperties()};r.getSectionProperties=function(){var t=parseInt(r.selected.propertySectionIndex);r.data.sectionProperties=void 0!==t&&t>1?s.getSectionItemsArr(r.data.properties,r.data.properties.sections[t].ref):1===t?c():c().concat(s.getSectionsItemsArr(r.data.properties))};r.isAppSelected=function(){return void 0!==o.assets.currentApp};r.openTab=function(t,e){e.stopPropagation();if(t===r.selectedTab)return;if("icons"===t){r.selectedTab="icons";p()}else if("properties"===t){r.selectedTab="properties";p()}else{r.selectedTab="snippets";p()}};r.getItemCount=function(){if("icons"===r.selectedTab)return r.data.icons.length;if("snippets"===r.selectedTab)return r.data.snippets.length;if("properties"===r.selectedTab)return r.data.sectionProperties.length};r.cancel=function(t){t&&t.stopPropagation();d()};r.onSelect=function(t,e,n){n.stopPropagation();if("icon"===e){r.selected.item=t;r.updateIconMarkup()}else if("snippet"===e){r.selected.item=t;r.updateSnippetMarkup()}else if("property"===e){r.selected.item=t;r.updatePropertyMarkup()}};r.loadSnippetMarkup=function(){var t=n.p+"assets/dev-hub/widget-editor/dialogs/insert-dialog/data/snippets/html/"+r.selected.item.key+".html";i.get(t,{responseType:"text"}).then(function(t){r.markup=t.data.trim();r.$apply()})};r.updateSnippetMarkup=function(){r.markup=r.loadSnippetMarkup()};r.updatePropertyMarkup=function(){r.markup="settings."+r.selected.item.ref};r.updateIconMarkup=function(){r.selected.item&&(r.markup=u(r.selected.item,r.selected.style))};r.insert=function(t){t.stopPropagation();this.input.insert(r.markup);d()};r.insertWithCurlyBrackets=function(t){t.stopPropagation();this.input.insert("{{"+r.markup+"}}");d()};r.$on("$destroy",function(){});r.openColorPickerFoldout=function(){r.colorPickerWatch=r.$watch("selected.style.color",function(){r.updateIconMarkup()})};r.closeColorpickerFoldout=function(){r.colorPickerWatch()}}]};function c(t){return r.show(l,t)}return{show:c,component:l}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="insert-dialog" qv-cancel="cancel($event)" qv-confirm="confirm()">\n\n\t<lui-dialog-header>\n\t\t<lui-dialog__title>\n\t\t\t<div class="left">\n\t\t\t\t<span\n\t\t\t\t\tq-translation=\'{{ (selectedTab === "snippets") ? "Devhub.Snippets" : (selectedTab === "icons") ? "Devhub.Icons" : "Widget.PropertyRefs" }}\'></span>\n\t\t\t\t({{ getItemCount() }})\n\t\t\t</div>\n\n\t\t\t<div class="middle">\n\t\t\t\t<div class="frame lui-bg-default">\n\t\t\t\t\t<lui-buttongroup>\n\t\t\t\t\t\t<lui-button tid="40df33" class="lui-button tab-button"\n\t\t\t\t\t\t\t\t\tng-class="selectedTab===\'snippets\'?\'lui-active\':\'\'"\n\t\t\t\t\t\t\t\t\tq-title-translation="Devhub.Snippets" ng-click="openTab(\'snippets\', $event)">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--code"></span>\n\t\t\t\t\t\t</lui-button>\n\t\t\t\t\t\t<lui-button tid="40df34" class="lui-button tab-button"\n\t\t\t\t\t\t\t\t\tng-class="selectedTab===\'icons\'?\'lui-active\':\'\'"\n\t\t\t\t\t\t\t\t\tq-title-translation="Devhub.Icons" ng-click="openTab(\'icons\', $event)">\n\t\t\t\t\t\t\t<span class="lui-button__icon  lui-icon lui-icon--shapes"></span>\n\t\t\t\t\t\t</lui-button>\n\t\t\t\t\t\t<lui-button tid="40df35" class="lui-button tab-button"\n\t\t\t\t\t\t\t\t\tng-class="selectedTab===\'properties\'?\'lui-active\':\'\'"\n\t\t\t\t\t\t\t\t\tq-title-translation="Widget.PropertyRefs" ng-click="openTab(\'properties\', $event)">\n\t\t\t\t\t\t\t<span ng-non-bindable>{{ ... }}</span>\n\t\t\t\t\t\t</lui-button>\n\t\t\t\t\t</lui-buttongroup>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="right">\n\t\t\t\t<button class="lui-fade-button" ng-click="cancel($event)" q-title-translation="Devhub.Close"\n\t\t\t\t\t\ttid="40df15">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--close"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</lui-dialog__title>\n\t</lui-dialog-header>\n\n\t<lui-dialog-body ng-if="selectedTab !== \'properties\'">\n\t\t\x3c!--left panel for snippets--\x3e\n\t\t<div id="snippet-panel" class="left-panel" ng-show="selectedTab===\'snippets\'">\n\t\t\t\x3c!--search--\x3e\n\t\t\t<div class="dialog-search">\n\t\t\t\t<lui-search query="query.snippet.name" placeholder="Devhub.Search" on-escape="query = \'\';"\n\t\t\t\t\t\t\tauto-focus="true"/>\n\t\t\t</div>\n\t\t\t<div class="qw-list qw-object-list scrollable" q-scroll>\n\t\t\t\t\x3c!--list--\x3e\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li ng-repeat="snippet in data.snippets | searchFilter:query.snippet.name | orderBy: \'title\'"\n\t\t\t\t\t\tclass="lui-list__item lui-list__action library-item qv-draggable"\n\t\t\t\t\t\tng-class="{ \'lui-active\': selected.item.key === snippet.key }"\n\t\t\t\t\t\tdata-id="{{snippet.key}}"\n\t\t\t\t\t\tng-click="onSelect(snippet, \'snippet\', $event)"\n\t\t\t\t\t\ttitle="{{snippet.name}}">\n\t\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis"\n\t\t\t\t\t\t\t qve-highlight=""\n\t\t\t\t\t\t\t text="{{snippet.name}}"\n\t\t\t\t\t\t\t query="query.snippet.name"></div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class="no-hits" ng-show="(data.snippets | searchFilter:query.snippet.name).length === 0"\n\t\t\t\t\t q-translation="Devhub.NoMatchesForCurrentSearch"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!--left panel for icons--\x3e\n\t\t<div id="icon-panel" class="left-panel" ng-show="selectedTab===\'icons\'">\n\t\t\t\x3c!--search--\x3e\n\t\t\t<div class="dialog-search">\n\t\t\t\t<lui-search query="query.icon.name" placeholder="Devhub.Search" on-escape="query = \'\';"\n\t\t\t\t\t\t\tauto-focus="true"/>\n\t\t\t</div>\n\t\t\t<div class="select-panel">\n\t\t\t\t\x3c!--Size selector--\x3e\n\t\t\t\t<div id="icon-size-selector" class="lui-bg-default size-selector"\n\t\t\t\t\t ng-init="selected.style.size = iconSizes[0].value">\n\t\t\t\t\t<lui-select x-model="selected.style.size"\n\t\t\t\t\t\t\t\tx-options="size.value as size.name for size in iconSizes"\n\t\t\t\t\t\t\t\tx-change="updateIconMarkup()">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--Color selector--\x3e\n\t\t\t\t<div qv-color-picker-button id="icon-color-selector"\n\t\t\t\t\t on-close="closeColorpickerFoldout"\n\t\t\t\t\t on-open="openColorPickerFoldout"\n\t\t\t\t\t extended="true" actual-color="true"\n\t\t\t\t\t palette="{{theme.currentPalette}}"\n\t\t\t\t\t tid="icon-insert-dialog-colorpicker"\n\t\t\t\t\t ng-model="selected.style.color"\n\t\t\t\t\t toggle-open="true">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="icon-wrapper scrollable" q-scroll>\n\t\t\t\t<div class="icon" ng-repeat="icon in data.icons | searchFilter:query.icon.name"\n\t\t\t\t\t ng-click="onSelect(icon, \'icon\', $event)">\n\t\t\t\t\t<span class="lui-button__icon  lui-icon {{icon.code}}"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class="no-hits" ng-show="(data.icons | searchFilter:query.icon.name).length === 0"\n\t\t\t\t\t q-translation="Devhub.NoMatchesForCurrentSearch"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div id="information" class="right-panel" ng-show="selected.item === undefined">\n\t\t\t<label class="heading" q-translation="Devhub.Preview"></label>\n\t\t\t<div class="preview-panel">\n\t\t\t\t<label q-translation="Widget.NoPreview"></label>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!--right panel containing the preview section--\x3e\n\t\t<div id="preview" class="right-panel" ng-show="selected.item">\n\t\t\t<label class="heading" q-translation="Devhub.Preview"></label>\n\t\t\t<div class="preview-panel">\n\t\t\t\t<qw-snippet-preview class="preview" content="{{markup}}"/>\n\t\t\t</div>\n\t\t\t<label ng-show="selected.item.description" class="description"\n\t\t\t\t   q-title-translation="{{selected.item.description}}">{{selected.item.description}}</label>\n\t\t\t<label ng-show="selected.item.author" class="author" q-title-translation="{{selected.item.author}}">\n\t\t\t\t<span q-translation="{{\'Devhub.By\'}}"></span>\n\t\t\t\t<span>{{selected.item.author}}</span>\n\t\t\t</label>\n\t\t\t<div class="code-container">\n\t\t\t\t<div class="code-container-content">\n\t\t\t\t\t<pre>{{markup}}</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\n\t<lui-dialog-body id="property-overview-panel" class="property-overview-panel" ng-if="selectedTab === \'properties\'">\n\t\t\x3c!--panel for properties--\x3e\n\t\t<div id="properties-panel" class="property-panel" ng-show="isAppSelected()">\n\t\t\t<div class="select-panel">\n\t\t\t\t\x3c!--Size selector--\x3e\n\t\t\t\t<div id="propertytype-selector" class="lui-bg-default type-selector"\n\t\t\t\t\t ng-init="selected.propertySectionIndex = \'0\'">\n\t\t\t\t\t<lui-select x-model="selected.propertySectionIndex"\n\t\t\t\t\t\t\t\tx-options="index as section.label for (index, section) in data.properties.sections"\n\t\t\t\t\t\t\t\tx-change="getSectionProperties()">\n\t\t\t\t\t</lui-select>\n\t\t\t\t</div>\n\t\t\t\t<lui-search query="query.property.ref" placeholder="Devhub.Search" on-escape="query = \'\';"></lui-search>\n\t\t\t</div>\n\t\t\t<div class="property-wrapper scrollable" q-scroll>\n\t\t\t\t<div class="row header-row">\n\t\t\t\t\t<div class="key-col" q-translation="Devhub.Reference"></div>\n\t\t\t\t\t<div class="val-col" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="row" ng-repeat="property in data.sectionProperties | filter:query.property:strict"\n\t\t\t\t\t ng-class="{ \'active\': selected.item.ref === property.ref }"\n\t\t\t\t\t ng-click="onSelect(property, \'property\', $event)">\n\t\t\t\t\t<div class="key-col" qve-highlight text="{{property.ref}}" query="query.property.ref"></div>\n\t\t\t\t\t<div class="val-col">{{property.defaultValue}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="info-panel" ng-show="!isAppSelected()">\n\t\t\t<label q-translation="Widget.NoAppSelectedForPropertyInsert"></label>\n\t\t</div>\n\t\t<div class="no-hits"\n\t\t\t ng-if="isAppSelected() && (data.sectionProperties | filter:query.property:strict).length === 0"\n\t\t\t q-translation="Devhub.NoItems"></div>\n\t</lui-dialog-body>\n\n\t<lui-dialog-footer>\n\t\t\x3c!--<qv-spinner show="adding"></qv-spinner>--\x3e\n\t\t<lui-button id="cancelButton" class="btn_cancel" ng-click="cancel($event)"\n\t\t\t\t\tq-translation="Devhub.Cancel"></lui-button>\n\t\t<lui-button id="insertButton" class="btn_save" ng-click="insert($event)"\n\t\t\t\t\tng-disabled="markup === undefined" q-translation="Devhub.ToggleInsert"></lui-button>\n\t\t<lui-button id="insertWithCurlyBracketButton" class="btn_save" ng-click="insertWithCurlyBrackets($event)"\n\t\t\t\t\tng-show="selectedTab===\'properties\'" ng-disabled="markup === undefined"\n\t\t\t\t\tq-translation="Widget.InsertCurly"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){var e=function e(n,i,r){r.$observe("content",function(e){var r=t.getService("$compile");i.html(e).show();r(i.contents())(n)})};var n={restrict:"E",replace:true,transclude:true,link:e,scope:{content:"@"}};t.directive("qwSnippetPreview",function(){return n});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(58),n(537),n(225),n(543)],r=function(t,e,n,i,r){var o,s,a=r.popupComponent,l={name:"default",colors:["#b0afae","#7b7a78","#545352","#4477aa","#7db8da","#b6d7ea","#46c646","#f93f17","#ffcf02","#276e27","#ffffff","#000000"]};function c(t,e){if(void 0!==t){if(void 0!==t.index&&-1!==t.index&&e[t.index])return e[t.index];if(void 0!==t.color)return t.color?t.color:"none";return t||"none"}}function u(t,e){if("none"===e){t.addClass("transparent");t.css("background-color","transparent")}else{t.css("background-color",e);t.removeClass("transparent")}}function d(){return"inverse"}function p(n,i,r,d,p,f){if(s&&s.element===i){o&&o.close();o=null;s=null;return}s={model:p,element:i,previewBox:d,scope:n};var h=n.palettes;var v=n.palette||l;var g=false!==n.$eval(r.extended);var m=e.getService("luiPopover");var b=n.$eval(r.recentColorsFlag)||false;var y=n.$eval(r.dock)||"top";var x;function w(t,e){e.$setViewValue(t);n.onChange&&n.onChange();if(d){var i="undefined"!==typeof v.colors?c(e.$viewValue,v.colors):c(e.$viewValue,v);u(d,i)}}var q;var _;var C=e.getService("$timeout");var S=e.getService("qvGlyphService"),D=S.getDefaultGlyphs();D.forEach(function(t){t.cssClass=S.getIconClass(t.icon)});o=m.show({template:a.template,controller:a.controller,input:{$palettes:h,$palette:v,$glyphPalette:D,$useGlyph:n.$eval(r.useGlyph)||false,$disableNone:n.$eval(r.disableNone)||false,$defaultColor:"undefined"!==typeof v.colors?c(p.$viewValue,v.colors):c(p.$viewValue,v),$inputViewValue:p.$viewValue,$extended:g,$recentColorsFlag:b,onColorChange:function t(e,n,i,r,o){_=e?{color:i,index:n,icon:o,cssClass:S.getIconClass(o)}:{color:i,index:n,palette:r,icon:o,cssClass:S.getIconClass(o)};w(_,p)}},alignTo:i[0],variant:f,closeOnEscape:true,closeOnOutside:true,outsideIgnore:"colorpicker-tooltip",dock:y,autoFocus:false});o.closing.then(function(e){n.onClose&&n.onClose(e);var r;if(e){x=e;r=t(e.target).closest(i[0]).length>0}if(q){C.cancel(q);w(_,p);q=null}r||(s=null)});o.closed.then(function(){x&&x.target.classList.contains("color-scale-container")&&(s=null)});n.onOpen&&n.onOpen(o)}e.directive("qvColorPickerCustomNew",function(){return{require:"?ngModel",scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},link:function t(e,i,r,a){e.callback&&(e.callback.close=function(){o&&o.close()});e.$parent&&(e.$parent.onClick=function(){var t=d();p(e,i,r,null,a,t)});function l(){o&&o.close()}n.on("start",l);e.$on("$destroy",function(){o&&s&&s.element===i&&o.close();n.off("start",l)})}}});e.directive("qvColorPickerButtonNew",function(){return{require:"?ngModel",replace:true,scope:{onClose:"=",onOpen:"=",onChange:"=",callback:"=",palette:"=",palettes:"="},template:i,link:function t(e,i,r,a){var f=e.palette||l,h="undefined"!==typeof f.colors?c(a.$viewValue,f.colors):c(a.$viewValue,f),v=i.find(".qv-color-picker-preview");e.onClick=function(){var t=d();p(e,i,r,v,a,t)};e.callback&&(e.callback.close=function(){o&&o.close()});function g(){o&&o.close()}e.variantClass=r.variant?"lui-button--"+r.variant:"";n.on("start",g);e.$watch("palette",function(){f=e.palette||l;a.$render()});a.$render=function(){if(void 0===a.$viewValue)return;h="undefined"!==typeof f.colors?c(a.$viewValue,f.colors):c(a.$viewValue,f);u(v,h)};e.$on("$destroy",function(){o&&s&&s.element===i&&o.close();n.off("start",g)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<button ng-click="onClick($event, \'inverse\')" qv-enter="onClick($event)" class="colorpicker-button lui-button {{variantClass}}" ng-class="{\'lui-active\': opened === true}" q-title-translation="ColorPicker.Choose">\n\t<span class="lui-button__icon  qv-color-picker-preview" tid="color-picker-preview"></span><span class="lui-button__caret lui-caret"></span>\n</button>'},function(t,e){t.exports='<lui-popover class="qv-cp-popup qv-color-picker-new"\n\t\t\t style="z-index: 1200;"\n\t\t\t ng-style="{\'width\': \'auto\'}"\n\t\t\t collision="\'flipfit\'"\n\t\t\t align-to="$alignToElement"\n\t\t\t on-close-view="closeView(event)"\n\t\t\t tid="color-picker-popup"\n\t\t\t qva-outside-ignore-for="media-toolbar">\n\n\t<div class="qv-cp-flex-new">\n\t\t<div class="qv-cp-main-stage-new" >\n\t\t\t<div ng-show="!customColor" class="color-palette">\n\t\t\t\t<ul class="qv-colorpicker-new palette"\n\t\t\t\t\ttid="color-picker-palette">\n\t\t\t\t\t<li ng-repeat="color in currentPalette | filter: ( $disableNone || \'\' ) && \'!none\' "\n\t\t\t\t\t\tng-click="colorClicked($event, $index, color)"\n\t\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}">\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div class="custom-color" ng-show="customColor">\n\t\t\t\t<div hue-sat-wheel-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t\t<div value-slider-new callback="hueSatValueChanged" visible="customColor" hsv="hsv"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="$useGlyph" style="height: 156px">\n\t\t\t<div class="qv-cp-glyphs-title-new" q-translation="properties.glyph"></div>\n\t\t\t<div class="qv-cp-glyphs-new">\n\t\t\t\t<button ng-repeat="glyph in $glyphPalette"\n\t\t\t\t\t\tclass="lui-fade-button  lui-fade-button--inverse"\n\t\t\t\t\t\tng-click="setGlyph($event, $index, glyph)"\n\t\t\t\t\t\tng-class="{\'lui-active\': glyphIcon === glyph.icon, \'border\': glyph.cssClass === \'\'}" >\n\t\t\t\t\t<span class="lui-fade-button__icon lui-icon" ng-class="glyph.cssClass"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n\n\t<div class="qv-cp-divider-new"></div>\n\n\t<div class="qv-cp-hex-result-new" ng-if="extended || customColor">\n\t\t<div class="qv-cp-preview"\n\t\t\t tid="color-picker-preview"\n\t\t\t ng-class="{\'transparent\' : foreColor === \'none\'}"\n\t\t\t ng-style="getBackgroundStyle(foreColor)"></div>\n\t\t<div class="qv-cp-hex-text">#</div>\n\t\t<input class="qv-cp-hex-input"\n\t\t\t   ng-model="hex.value"\n\t\t\t   ng-change="onHexChange(hex.value)"\n\t\t\t   maxlength="6"\n\t\t\t   tid="{{hex.value}}"\n\t\t\t   ng-keypress="onKeyPress($event)"/>\n\n\t\t<button class="qv-cp-switch lui-button lui-button--inverse"\n\t\t\t\ttid="color-picker-result"\n\t\t\t\tng-class="{\'lui-active\' : customColor }"\n\t\t\t\tng-click="onFoldoutClick($event)"\n\t\t\t\tq-title-translation="{{customColor ? \'ColorPicker.HideOptions\' : \'ColorPicker.ShowOptions\'}}">\n\t\t\t<span class="lui-button__icon  lui-icon  lui-icon--palette"></span>\n\t\t</button>\n\t</div>\n\n\t<div class="qv-colorpicker-recent-wrapper" ng-show="showRecent">\n\t\t<span class="recently-used-text" q-translation="colorpicker.RecentlyUsed"></span>\n\t\t<div>\n\t\t\t<ul class="qv-colorpicker-new recent">\n\t\t\t\t<li ng-repeat="color in recentColors | filter: \'!none\'"\n\t\t\t\t\tng-click="recentColorClicked($event, color)"\n\t\t\t\t\tng-style="{\'background-color\': color}"\n\t\t\t\t\tq-title-translation="{{color === \'none\' ? \'ColorPicker.None\' : color}}"\n\t\t\t\t\tng-class="{\'selected\': foreColor === color, \'selected-w\' : !isDark, \'transparent\': color === \'none\', \'disabled\' : color === \'none\' && $disableNone}"\n\t\t\t\t\tclass="no-margin">\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n</lui-popover>'},function(t,e,n){"use strict";var i,r;!(i=[n(540)],r=function(t){function e(e){var n=t.FixedQueue(5,[]);var r;if(i){a(i,n);for(r=e.length-1;r>=1;r--)a(e[r],n)}else for(r=e.length-1;r>=0;r--)n.push(e[r]);return n}var n=r();var i;function r(){return t.FixedQueue(5,[])}function o(){return e(n)}function s(t){a(t,n)}function a(t,e){if("none"!==t){var n=e.indexOf(t);n>-1&&e.splice(n,1);e.push(t)}}function l(t){i=t}function c(){s(i);i=null}return{getPersistentRecentColors:o,initRecentColors:r,persistColor:s,stage:l,commit:c}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(e,n){n=n||[];var i=Array.apply(null,n);i.fixedSize=e;i.push=t.push;i.splice=t.splice;i.unshift=t.unshift;t.trimTail.call(i);return i}t.trimHead=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,0,this.length-this.fixedSize)};t.trimTail=function(){if(this.length<=this.fixedSize)return;Array.prototype.splice.call(this,this.fixedSize,this.length-this.fixedSize)};t.wrapMethod=function(t,e){var n=function n(){var i=Array.prototype[t];var r=i.apply(this,arguments);e.call(this);return r};return n};t.push=t.wrapMethod("push",t.trimHead);t.splice=t.wrapMethod("splice",t.trimTail);t.unshift=t.wrapMethod("unshift",t.trimTail);return{FixedQueue:t}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(55)],r=function(t,e){t.directive("hueSatWheelNew",function(){return{require:"?hsv",replace:true,template:'<div class="cp-hue-sat-new"><div class="cp-hue-sat-wheel" tid="color-picker-wheel"><div class="cp-hsw-overlay"></div><div class="cp-hsw-pointer"><div class="cp-hsw-inside"/></div></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function t(n,i){var r=i.find(".cp-hsw-pointer");var o=i.find(".cp-hsw-overlay");var s=i.find(".cp-hue-sat-wheel");var a=s.width()/2;var l=s.height()/2;var c=0;var u=0;function d(t,e){c=(180*Math.atan2(e,t)/Math.PI+360)%360;u=Math.min(Math.max(0,Math.sqrt(e*e+t*t)/a*100),100);n.hsv.h=c;n.hsv.s=u;n.callback&&n.callback({hue:c,sat:u})}function p(t,e){r.css({left:t,top:e})}function f(){var t=Math.cos(c/180*Math.PI)*(u/100*a);var e=Math.sin(c/180*Math.PI)*(u/100*a);p(t+a,l-e)}function h(t,e){var n=Math.sqrt(t*t+e*e);if(n>a){t=t/n*a;e=e/n*a}return{x:t,y:e}}function v(t){var e=s.offset();var n=h(t.x-a-e.left,2*l-t.y-a+e.top);p(n.x+a,l-n.y);d(n.x,n.y)}var g="cp-hsw";e(s[0]).tap({id:g,end:function t(e,n){v(n.pagePoints[0])}}).swipe({id:g,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function t(e,n){v(n.pagePoints[0])}});n.$watch("hsv.v",function(){o.css("background","rgba(0,0,0, "+(100-n.hsv.v)/100+")")});n.$watch("hsv.h",function(){if(c!==n.hsv.h){c=n.hsv.h%360;f()}});n.$watch("hsv.s",function(){if(u!==n.hsv.s){u=n.hsv.s>100?100:n.hsv.s<0?0:n.hsv.s;f()}});n.$watch("visible",function(){f()});n.$on("$destroy",function(){e(s[0]).off("*",g)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(97),n(55)],r=function(t,e,n){function i(t,n,i){return new e("hsv("+t+","+n+","+i+")").toRGB()}t.directive("valueSliderNew",function(){return{require:"?hsv",replace:true,template:'<div class="cp-value" tid="color-picker-slider"><div class="cp-val-slider"><span class="cp-val-pointer"/></div></div>',scope:{callback:"=",hsv:"=hsv",visible:"="},link:function t(e,r){var o=r.find(".cp-val-pointer");var s=r.find(".cp-val-slider");var a=100;function l(t){return(t-o.outerWidth()/2)/(s.outerWidth()-o.outerWidth())*100}function c(t){return t/100*(s.outerWidth()-o.outerWidth())+o.outerWidth()/2}function u(t){e.hsv.v=a=Math.max(Math.min(100,l(t)),0);e.callback&&e.callback({value:l(t)})}function d(t){o.css({left:t})}function p(t){var e=c(t);d(e)}function f(t){return Math.min(Math.max(t,o.outerWidth()/2),s.outerWidth()-o.outerWidth()/2)}function h(t){var e=s.offset();var n=f(t.x-e.left);d(n);u(n)}var v="cp-hsw";n(r[0]).tap({id:v,end:function t(e,n){h(n.pagePoints[0])}}).swipe({id:v,options:{useMomentum:true,inertia:.5,radiusThreshold:6},update:function t(e,n){h(n.pagePoints[0])}});e.$watchCollection("[hsv.s, hsv.h]",function(){s.css("background-color",i(e.hsv.h,e.hsv.s,100))});e.$watch("hsv.v",function(){if(a!==e.hsv.v){a=e.hsv.v;p(e.hsv.v)}});e.$watch("visible",function(){p(a)});e.$on("$destroy",function(){n(r[0]).off("*",v)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.service("qvGlyphService",[function(){var t=["","m","ï","R","S","T","U","P","Q","è","¢","©"],e=[{key:"m",value:"lui-icon--tick"},{key:"ï",value:"lui-icon--star"},{key:"R",value:"lui-icon--triangle-top"},{key:"S",value:"lui-icon--triangle-bottom"},{key:"T",value:"lui-icon--triangle-left"},{key:"U",value:"lui-icon--triangle-right"},{key:"P",value:"lui-icon--plus"},{key:"Q",value:"lui-icon--minus"},{key:"è",value:"lui-icon--warning-triangle"},{key:"¢",value:"lui-icon--hand"},{key:"©",value:"lui-icon--flag"}],n=e.length;var i={getIconClass:function t(i){var r,o=null;if(void 0!==i&&null!==i)if(0===i.length)o="";else for(r=0;r<n;r++)if(e[r].key===i){o=e[r].value;break}return o},getDefaultGlyphs:function e(){return t.map(function(t){return{icon:t}})}};return i}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(52),n(87),n(545),n(222)],r=function(t,e,n){var i={template:n,controller:["$scope",function(n){n.hasChanged=false;n.types=e.types;n.settings={};t.deepCopy(n.input.settings,n.settings);n.closeView=function(){n.destroyComponent()};n.save=function(){n.saveWidget(n.settings);n.closeView()};n.formChanged=function(){n.hasChanged=true}}]};return{component:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="settings-dialog" qv-cancel="$event.preventDefault(); closeView()">\n\t<form name="widgetSettings" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title q-translation="Widget.Settings"></lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t<div class="qw-settingsdlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Name"></label>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input class="lui-input"\n\t\t\t\t\t\t   name="widgetName"\n\t\t\t\t\t\t   ng-model="settings.name" value=""\n\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t   qv-enter="widgetSettings.$valid && save()"\n\t\t\t\t\t\t   maxlength="{{isPersonalMode ? 200 : 255}}"\n\t\t\t\t\t\t   ng-change="formChanged()"\n\t\t\t\t\t\t   qva-focus="true"\n\t\t\t\t\t\t   required/>\n\t\t\t\t\t<div qw-validation-tooltip="widgetSettings.widgetName"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="qw-settingsdlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Widget.Type"></label>\n\t\t\t\t<lui-select x-model="settings.type" ng-change="formChanged()">\n\t\t\t\t\t<option ng-repeat="type in types" value="{{type.id}}"\n\t\t\t\t\t\t\tq-translation="Widget.Type.{{type.id}}"></option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\n\t\t\t<div class="qw-settingsdlg-item">\n\t\t\t\t<label q-translation="Devhub.Description"></label>\n\t\t\t\t<textarea class="lui-textarea ng-pristine ng-valid" ng-model="settings.description" maxlength="500"\n\t\t\t\t\t\t  ng-change="formChanged()"></textarea>\n\t\t\t</div>\n\t\t\t<div class="qw-settingsdlg-item">\n\t\t\t\t<label class="qv-taglabel" q-translation="Devhub.Author"></label>\n\t\t\t\t<input class="lui-input" ng-model="settings.author" value="" type="text" maxlength="255"\n\t\t\t\t\t   ng-change="formChanged()"/>\n\t\t\t</div>\n\t\t\t<div class="qw-settingsdlg-item">\n\t\t\t\t<label q-translation="Devhub.Dependencies"></label>\n\t\t\t\t<qw-dependencies-selector dependencies="settings.dependencies"\n\t\t\t\t\t\t\t\t\t\t  on-change="formChanged()"></qw-dependencies-selector>\n\t\t\t</div>\n\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer class="dm-footer">\n\t\t\t<qv-spinner show="adding"></qv-spinner>\n\t\t\t<lui-button ng-click="$event.preventDefault(); closeView()" name="cancel" q-translation="Devhub.Cancel"\n\t\t\t\t\t\ttid="cancel"></lui-button>\n\t\t\t<lui-button ng-click="$event.preventDefault(); save()" name="save" q-translation="Devhub.Save" tid="save"\n\t\t\t\t\t\tng-disabled="widgetSettings.$invalid || !hasChanged"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(52),n(65),n(104),n(77),n(547),n(548),n(56)],r=function(t,e,n,i,r,o,s){var a=t.getService("qwConfigService");var l=t.getService("luiDialog");var c={template:s,controller:["$scope","$timeout",function(t,i){t.onDialogTimeout=true;var s=document.getElementById("edit-component-dialog");t.component={ref:r.stripScope(t.input.ref),componentType:t.input.componentType,element:t.input.element,definition:t.input.definition,active:t.input.isActive};t.codeSnippet={curlyBrackets:false,toggleCurlyBrackets:function e(){t.codeSnippet.curlyBrackets=!t.codeSnippet.curlyBrackets},code:function e(){if(t.codeSnippet.curlyBrackets)return"{{"+r.addScope(t.component.ref)+"}}";return r.addScope(t.component.ref)}};t.panelEditor=a.getToolConfig().panelEditor;i(function(){if(t.component.componentType.indexOf("section")>-1&&!t.component.active)e("[pp-accordion]").on("accordionactivate",function(){c();t.onDialogTimeout=false;t.$apply()});else{c();t.onDialogTimeout=false;t.$apply()}},10,false);function c(){if(t.component.element){var n={position:e(".work-area").offset(),size:{height:e(".work-area").height()}};var i={position:e(t.component.element).offset(),size:{height:e(t.component.element).height()}};var r={position:{},size:{height:e(s).height(),width:e(s).width()}};n.size.height-(i.position.top-n.position.top)>r.size.height?r.position.top=i.position.top:i.position.top+i.size.height-n.position.top>r.size.height?r.position.top=i.position.top-r.size.height+i.size.height:r.position.top=n.position.top;r.position.left=i.position.left-r.size.width;e(s).offset(r.position)}else t.destroyComponent()}e(window).on("resize",function(){t.closeView()});t.validateForm=function(e){if("section-data"===t.component.componentType){if("dimensions"===e.$name){var i=t.component.definition.dimensions.min;var o=t.component.definition.dimensions.max;e.$setValidity("bothRequired",null!==i===(null!==o));null!==i&&null!==o&&e.$setValidity("invalidInterval",n.isValidInterval(i,o,true))}if("measures"===e.$name){var s=t.component.definition.measures.min;var a=t.component.definition.measures.max;e.$setValidity("bothRequired",null!==s===(null!==a));null!==s&&null!==a&&e.$setValidity("invalidInterval",n.isValidInterval(s,a,true))}}else if("editable-item"===t.component.componentType&&"reference"===e.$name){e.$setValidity("invalidCharacters",!t.component.ref||n.isValidSyntax(t.component.ref));e.$setValidity("invalidReference",t.component.ref&&!n.isJsReservedWord(t.component.ref)&&r.isValidRef(t.input.properties,t.component.ref)||r.stripScope(t.component.definition.ref)===t.component.ref)}};t.getDropdownOptionCtrl=function(t,e,n){return t[e.concat(n)]};"dropdown"===t.component.definition.component&&(t.component.definition.defaultValue=""===t.component.definition.defaultValue?"option$undefined":t.component.definition.defaultValue);t.addNewOption=function(){t.component.definition.options.push({label:"",value:""});t.clearDefaultValue()};t.deleteOption=function(e){t.component.definition.options.splice(e,1);t.clearDefaultValue()};t.clearDefaultValue=function(){var e=false;t.component.definition.options.forEach(function(n){t.component.definition.defaultValue&&n.value===t.component.definition.defaultValue&&(e=true)});t.component.definition.defaultValue=e?t.component.definition.defaultValue:"option$undefined"};t.saveChanges=function(){t.component.definition.ref=t.component.ref;"dropdown"===t.component.definition.component&&"option$undefined"===t.component.definition.defaultValue&&(t.component.definition.defaultValue="");t.input.save(t.component.definition);t.closeView()};t.delete=function(){if("section-header"===t.component.componentType&&0!==r.getSectionItemsArr(t.input.properties,t.component.definition.ref).length)l.show({controller:o.component.controller,template:o.component.template,input:{title:"Devhub.DeleteHeader",message:"Devhub.DeleteHeaderContent",button:{name:"Devhub.Delete",tid:"9d0c04",callback:function e(){t.input.delete();t.closeView()}}}});else{t.input.delete();t.closeView()}};t.getValueString=function(t){return true===t?"Devhub.True":"Devhub.False"};t.closeView=function(){t.input.close();t.destroyComponent()};t.$watch("panelEditor.isOpen",function(){t.panelEditor.isOpen||t.closeView()})}]};function u(t){i.isViewShowing&&i.closeAll();return i.show(c,t)}function d(){i.closeAll()}return{show:u,close:d}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div id="edit-component-dialog" class="qw-edit-component-dialog dialog-content"\n\t ng-class="{\'on-timeout\': onDialogTimeout}" qv-escape="$event.preventDefault();closeView();">\n\t<form name="dialogForm" class="lui-dialog  lui-dialog--inverse" autocomplete="off" novalidate="novalidate">\n\t\t<div class="lui-dialog__header">\n\t\t\t<div class="lui-dialog__title">{{component.definition.label}}\n\t\t\t\t<span class="lui-icon  lui-icon--close" ng-click="$event.preventDefault(); closeView()"\n\t\t\t\t\t  q-title-translation="Devhub.Close"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t\x3c!-- Data --\x3e\n\t\t<div ng-if="component.componentType === \'section-data\'" class="lui-dialog__body">\n\t\t\t<div class="item-wrapper" ng-form="dimensions">\n\t\t\t\t<div class="first-label" q-translation="Devhub.NumberOfDimensions"></div>\n\t\t\t\t<div class="flex">\n\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t<div class="label" q-translation="Devhub.Min"></div>\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<input name="dimensionsMin"\n\t\t\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': dimensions.$invalid}"\n\t\t\t\t\t\t\t\t   ng-model="component.definition.dimensions.min"\n\t\t\t\t\t\t\t\t   ng-change="validateForm(dimensions)"\n\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t   min="0"/>\n\t\t\t\t\t\t\t<div qw-validation-tooltip="dimensions"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t<div class="label" q-translation="Devhub.Max"></div>\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<input name="dimensionsMax"\n\t\t\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': dimensions.$invalid}"\n\t\t\t\t\t\t\t\t   ng-model="component.definition.dimensions.max"\n\t\t\t\t\t\t\t\t   ng-change="validateForm(dimensions)"\n\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t   min="0"/>\n\t\t\t\t\t\t\t<div qw-validation-tooltip="dimensions"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="component.componentType === \'section-data\'" class="lui-dialog__body last">\n\t\t\t<div class="item-wrapper" ng-form="measures">\n\t\t\t\t<div class="first-label" q-translation="Devhub.NumberOfMeasures"></div>\n\t\t\t\t<div class="flex">\n\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t<div class="label" q-translation="Devhub.Min"></div>\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<input name="measuresMin"\n\t\t\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': measures.$invalid}"\n\t\t\t\t\t\t\t\t   ng-model="component.definition.measures.min"\n\t\t\t\t\t\t\t\t   ng-change="validateForm(measures)"\n\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t   min="0"/>\n\t\t\t\t\t\t\t<div qw-validation-tooltip="measures"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t<div class="label" q-translation="Devhub.Max"></div>\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<input name="measuresMax"\n\t\t\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': measures.$invalid}"\n\t\t\t\t\t\t\t\t   ng-model="component.definition.measures.max"\n\t\t\t\t\t\t\t\t   ng-change="validateForm(measures)"\n\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t   min="0"/>\n\t\t\t\t\t\t\t<div qw-validation-tooltip="measures"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\x3c!-- Sorting --\x3e\n\t\t<div ng-if="component.componentType === \'section-sorting\'" class="lui-dialog__body sorting-body">\n\t\t\t<div class="item-wrapper" q-translation="Devhub.SortingEmptyDialogLabel">\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- Items & Headers --\x3e\n\t\t<div ng-if="component.componentType === \'editable-item\' || component.componentType === \'section-header\'"\n\t\t\t class="lui-dialog__body" ng-class="{\'dropdown-body\':component.definition.component === \'dropdown\'}">\n\t\t\t\x3c!-- Label --\x3e\n\t\t\t<div class="item-wrapper">\n\t\t\t\t<div class="label" q-translation="Devhub.Label"></div>\n\t\t\t\t<div class="validation-form">\n\t\t\t\t\t<input name="label"\n\t\t\t\t\t\t   ng-model="component.definition.label"\n\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t   ng-class="{\'validation-error-input\': dialogForm.label.$invalid}"\n\t\t\t\t\t\t   ng-change="validateForm(dialogForm.label)"\n\t\t\t\t\t\t   value="{{component.definition.label}}"\n\t\t\t\t\t\t   ng-maxlength="255"\n\t\t\t\t\t\t   required/>\n\t\t\t\t\t<div qw-validation-tooltip="dialogForm.label"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\x3c!-- Items --\x3e\n\t\t\t<div ng-if="component.componentType === \'editable-item\'">\n\t\t\t\t\x3c!-- Options (for dropdown and radio button) --\x3e\n\t\t\t\t<div\n\t\t\t\t\tng-if="component.definition.component === \'dropdown\' || component.definition.component === \'radiobuttons\'"\n\t\t\t\t\tclass="item-wrapper dropdown-item">\n\t\t\t\t\t<div class="label" q-translation="Devhub.Options"></div>\n\t\t\t\t\t<div class="dropdown-options-container scrollable" q-scroll>\n\t\t\t\t\t\t<div ng-repeat="option in component.definition.options track by $index"\n\t\t\t\t\t\t\t class="flex dropdown-option">\n\t\t\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t\t<input name="optionValue_{{$index}}"\n\t\t\t\t\t\t\t\t\t\t   class="lui-input  lui-input--inverse"\n\t\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': getDropdownOptionCtrl( dialogForm, \'optionValue_\', $index ).$invalid}"\n\t\t\t\t\t\t\t\t\t\t   ng-model="option.value"\n\t\t\t\t\t\t\t\t\t\t   ng-change="clearDefaultValue()"\n\t\t\t\t\t\t\t\t\t\t   q-placeholder="Devhub.Value"\n\t\t\t\t\t\t\t\t\t\t   ng-maxlength="255"\n\t\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tqw-validation-tooltip="getDropdownOptionCtrl( dialogForm, \'optionValue_\', $index )"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t\t<input name="optionLabel_{{$index}}"\n\t\t\t\t\t\t\t\t\t\t   class="lui-input  lui-input--inverse"\n\t\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': getDropdownOptionCtrl( dialogForm, \'optionLabel_\', $index ).$invalid}"\n\t\t\t\t\t\t\t\t\t\t   ng-model="option.label"\n\t\t\t\t\t\t\t\t\t\t   q-placeholder="Devhub.Label"\n\t\t\t\t\t\t\t\t\t\t   ng-maxlength="255"\n\t\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tqw-validation-tooltip="getDropdownOptionCtrl( dialogForm, \'optionLabel_\', $index )"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span class="dropdown-delete-icon lui-icon  lui-icon--bin"\n\t\t\t\t\t\t\t\t  q-title-translation="Devhub.DeleteOption" ng-click="deleteOption($index)"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="no-options" ng-if="component.definition.options.length === 0">\n\t\t\t\t\t\t\t<span q-translation="Widget.NoOptionsAdded"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="item-wrapper">\n\t\t\t\t\t\t<button class="dropdown-add-option-btn lui-button  lui-button--inverse"\n\t\t\t\t\t\t\t\tng-click="addNewOption()" q-translation="Devhub.Add"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Options (for switch) --\x3e\n\t\t\t\t<div ng-if="component.definition.component === \'switch\'" class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.Options"></div>\n\t\t\t\t\t<div class="switch-options-container scrollable">\n\t\t\t\t\t\t<div class="option-container"\n\t\t\t\t\t\t\t ng-repeat="option in component.definition.options track by $index">\n\t\t\t\t\t\t\t<span class="switch-label" q-title-translation="Devhub.Value"\n\t\t\t\t\t\t\t\t  q-translation="{{getValueString( option.value )}}"></span>\n\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t<input name="optionValue_{{$index}}"\n\t\t\t\t\t\t\t\t\t   ng-model="option.label"\n\t\t\t\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': getDropdownOptionCtrl( dialogForm, \'optionValue_\', $index ).$invalid}"\n\t\t\t\t\t\t\t\t\t   value="{{component.definition.label}}"\n\t\t\t\t\t\t\t\t\t   q-placeholder="Devhub.Label"\n\t\t\t\t\t\t\t\t\t   q-title-translation="Devhub.Label"\n\t\t\t\t\t\t\t\t\t   ng-maxlength="255"\n\t\t\t\t\t\t\t\t\t   required\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tqw-validation-tooltip="getDropdownOptionCtrl( dialogForm, \'optionValue_\', $index )"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- Default value: --\x3e\n\t\t\t\t\x3c!-- for strings --\x3e\n\t\t\t\t<div ng-if="component.definition.type === \'string\' && !component.definition.component"\n\t\t\t\t\t class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t\t<input class="lui-input lui-input--inverse" ng-model="component.definition.defaultValue"\n\t\t\t\t\t\t   value="{{component.definition.defaultValue}}"/>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- for booleans --\x3e\n\t\t\t\t<div ng-if="component.definition.type === \'boolean\' && component.definition.component !==\'switch\'"\n\t\t\t\t\t class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t\t<label class="lui-checkbox  lui-checkbox--inverse">\n\t\t\t\t\t\t<input class="lui-checkbox__input" type="checkbox"\n\t\t\t\t\t\t\t   ng-checked="component.definition.defaultValue"\n\t\t\t\t\t\t\t   ng-model="component.definition.defaultValue"/>\n\t\t\t\t\t\t<div class="lui-checkbox__check-wrap">\n\t\t\t\t\t\t\t<span class="lui-checkbox__check"></span>\n\t\t\t\t\t\t\t<span class="lui-checkbox__check-text">{{component.definition.defaultValue}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- for text area --\x3e\n\t\t\t\t<div ng-if="component.definition.component === \'textarea\'" class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t\t<div class="frame  lui-bg-inverse">\n\t\t\t\t\t\t<textarea class="lui-textarea  lui-textarea--inverse"\n\t\t\t\t\t\t\t\t  ng-model="component.definition.defaultValue"></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div ng-if="component.definition.component === \'textarea\'" class="item-wrapper">\n\t\t\t\t\t<div class="flex">\n\t\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t\t<div class="label" q-translation="Devhub.Rows"></div>\n\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t<input name="rows"\n\t\t\t\t\t\t\t\t\t   class="lui-input  lui-input--inverse"\n\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': dialogForm.rows.$invalid}"\n\t\t\t\t\t\t\t\t\t   ng-model="component.definition.rows"\n\t\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t\t   min="0"\n\t\t\t\t\t\t\t\t\t   step="1"\n\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t<div qw-validation-tooltip="dialogForm.rows"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="half-size-wrapper">\n\t\t\t\t\t\t\t<div class="label" q-translation="Devhub.MaxLength"></div>\n\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t<input name="maxlength"\n\t\t\t\t\t\t\t\t\t   class="lui-input  lui-input--inverse"\n\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': dialogForm.maxlength.$invalid}"\n\t\t\t\t\t\t\t\t\t   ng-model="component.definition.maxlength"\n\t\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t\t   min="0"\n\t\t\t\t\t\t\t\t\t   step="1"\n\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t<div qw-validation-tooltip="dialogForm.maxlength"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- for dropdown --\x3e\n\t\t\t\t<div ng-if="component.definition.component === \'dropdown\'" class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t\t<select class="lui-select  lui-select--inverse" ng-model="component.definition.defaultValue">\n\t\t\t\t\t\t<option value="option$undefined" q-translation="DebHub.NoDefaultValue"></option>\n\t\t\t\t\t\t<option ng-repeat="item in component.definition.options track by $index" value="{{item.value}}">{{item.label}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- for radiobuttons --\x3e\n\t\t\t\t<div ng-if="component.definition.component === \'radiobuttons\'" class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t\t<div class="radiobutton-container scrollable" q-scroll>\n\t\t\t\t\t\t<label ng-repeat="option in component.definition.options track by $index"\n\t\t\t\t\t\t\t   class="lui-radiobutton lui-radiobutton--inverse">\n\t\t\t\t\t\t\t<input class="lui-radiobutton__input" type="radio"\n\t\t\t\t\t\t\t\t   ng-model="$parent.component.definition.defaultValue" ng-value="option.value">\n\t\t\t\t\t\t\t<div class="lui-radiobutton__radio-wrap">\n\t\t\t\t\t\t\t\t<span class="lui-radiobutton__radio"></span>\n\t\t\t\t\t\t\t\t<span class="lui-radiobutton__radio-text">{{option.label}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div class="no-options" ng-if="component.definition.options.length === 0">\n\t\t\t\t\t\t\t<span q-translation="Widget.NoOptionsAdded"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- for switch --\x3e\n\t\t\t\t<div ng-if="component.definition.component === \'switch\'" class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.DefaultValue"></div>\n\t\t\t\t\t<div class="lui-switch  lui-switch--inverse">\n\t\t\t\t\t\t<label class="lui-switch__label">\n\t\t\t\t\t\t\t<input type="checkbox" class="lui-switch__checkbox"\n\t\t\t\t\t\t\t\t   ng-model="component.definition.defaultValue">\n\t\t\t\t\t\t\t<span class="lui-switch__wrap">\n\t\t\t\t\t\t\t\t\t<span class="lui-switch__inner"></span>\n\t\t\t\t\t\t\t\t\t<span class="lui-switch__switch"></span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- Reference --\x3e\n\t\t\t\t<div class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.Reference"></div>\n\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<input name="reference"\n\t\t\t\t\t\t\t\t   ng-model="component.ref"\n\t\t\t\t\t\t\t\t   class="lui-input lui-input--inverse"\n\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': dialogForm.reference.$invalid}"\n\t\t\t\t\t\t\t\t   ng-change="validateForm(dialogForm.reference)"\n\t\t\t\t\t\t\t\t   value="{{component.ref}}"\n\t\t\t\t\t\t\t\t   ng-maxlength="255"\n\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t<div qw-validation-tooltip="dialogForm.reference"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Code --\x3e\n\t\t\t\t<div class="item-wrapper">\n\t\t\t\t\t<div class="label" q-translation="Devhub.Code"></div>\n\t\t\t\t\t<div class="flex">\n\t\t\t\t\t\t<input class="lui-input lui-input--inverse code-input" type="test" readonly\n\t\t\t\t\t\t\t   value="{{codeSnippet.code()}}" onclick="this.select()"/>\n\t\t\t\t\t\t<button class="brackets-button" ng-class="{\'active\':codeSnippet.curlyBrackets}"\n\t\t\t\t\t\t\t\tq-title-translation="Add brackets" ng-click="codeSnippet.toggleCurlyBrackets()"\n\t\t\t\t\t\t\t\tng-bind-html="\'{{ }}\'"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="lui-dialog__footer">\n\t\t\t<span class="lui-icon  lui-icon--bin" ng-click="$event.preventDefault(); delete()"\n\t\t\t\t  q-title-translation="Devhub.DeleteItem"></span>\n\t\t\t<button class="lui-button  lui-button--inverse  close-button"\n\t\t\t\t\tng-click="$event.preventDefault(); saveChanges()" ng-disabled="dialogForm.$invalid"\n\t\t\t\t\tq-translation="Devhub.Done"></button>\n\t\t</div>\n\t</form>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(549)],r=function(t,e,n,i){e.directive("qwValidationTooltip",s);var r={required:"ErrorTooltip.Required",min:"ErrorTooltip.MinNumber",max:"ErrorTooltip.MaxNumber",number:"ErrorTooltip.OnlyNumbers",minlength:"ErrorTooltip.Minlength",maxlength:"ErrorTooltip.Maxlength",invalidReference:"ErrorTooltip.InvalidReference",invalidCharacters:"Devhub.InvalidCharacters",invalidInterval:"ErrorTooltip.InvalidInterval",bothRequired:"ErrorTooltip.BothRequired",invalidExtensionName:"Devhub.InvalidExtensionName",extensionAlreadyExists:"ErrorTooltip.ExtensionAlreadyExists",invalidFileName:"Devhub.InvalidFileName",invalidFileType:"Devhub.InvalidFileType",fileAlreadyExists:"Devhub.FileAlreadyExists"};var o=function e(i){var o="<lui-tooltip x-dock='dock' x-arrow='arrow'><ul style='list-style-type:none'>";t.each(i,function(t){r[t]&&(o+="<li>"+n.get(r[t])+"</li>")});o+="</ul></lui-tooltip>";return o};function s(){return{restrict:"A",scope:{field:"=qwValidationTooltip"},template:i,controller:["$scope","luiTooltip",function(t,e){var n=null;t.openTooltip=function(t,i){n=e.show({template:o(i),alignTo:t.target,dock:"top"})};t.closeTooltip=function(){n&&n.close()};t.$watch("field.$valid",function(){t.field&&t.field.$valid&&t.closeTooltip()})}]}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<span ng-if="field.$invalid" class="lui-icon lui-icon--warning validation-error-icon"\n\t  ng-mouseover="openTooltip($event, field.$error)" ng-mouseleave="closeTooltip()"></span>'},function(t,e){t.exports='<div class="qv-property-panel">\n\t<div ng-if="!isInvalid && isLinked" class="overlay">\n\t\t<div class="overlay-content">\n\t\t\t<section>\n\t\t\t\t<div class="icon lui-icon lui-icon--link"></div>\n\t\t\t\t<p class="title" q-translation="Object.Linked.NoEdit.PropPanel.Title"></p>\n\t\t\t\t<p class="message" q-translation="Object.Linked.NoEdit.PropPanel.Text" ng-if="!showEditMasterPropsBtn"></p>\n\t\t\t\t<p class="message" q-translation="Object.Linked.Edit.PropPanel.Text" ng-if="showEditMasterPropsBtn"></p>\n\t\t\t\t<button class="lui-button" qva-activate="editMasterProps()" ng-if="showEditMasterPropsBtn" tid="edit-master-item">\n\t\t\t\t\t<span q-translation="Common.Edit"></span>\n\t\t\t\t</button>\n\t\t\t</section>\n\t\t</div>\n\t</div>\n\t<div ng-if="isInvalid" class="overlay">\n\t\t<div class="overlay-content">\n\t\t\t<section>\n\t\t\t\t<p class="title" q-translation="Object.Invalid.NoEdit.PropPanel.Title"></p>\n\t\t\t\t<p q-translation="Object.Invalid.NoEdit.PropPanel.Text"></p>\n\t\t\t</section>\n\t\t</div>\n\t</div>\n\t<div ng-if="!isLinked && isPatched && !ignorePatches" class="overlay">\n\t\t<div class="overlay-content">\n\t\t\t<section>\n\t\t\t\t<div class="lui-icon lui-icon--control"></div>\n\t\t\t\t<p class="title" q-translation="Object.VisualExploration.NoEdit.PropPanel.Title"></p>\n\t\t\t\t<p q-translation="Object.VisualExploration.NoEdit.PropPanel.Text"></p>\n\t\t\t</section>\n\n\t\t\t<div class="space"></div>\n\t\t\t<section>\n\t\t\t\t<button class="lui-button" qva-activate="savePatches()">\n\t\t\t\t\t<span q-translation="Common.Apply"></span>\n\t\t\t\t</button>\n\t\t\t</section>\n\n\t\t\t<div class="space"></div>\n\t\t\t<section>\n\t\t\t\t<button class="lui-button" qva-activate="clearPatches()">\n\t\t\t\t\t<span q-translation="Common.Discard"></span>\n\t\t\t\t</button>\n\t\t\t</section>\n\t\t</div>\n\t</div>\n\n\t<div include-pp-component x-component="headerComponent" x-definition="headerComponentDefinition" x-data="data" x-args="args"></div>\n\n\t<div class="property-content" ng-if="(!isLinked && !isPatched && isReady) || ignorePatches" include-pp-component x-component="rootComponent" x-args="args" x-definition="definition" x-data="data"></div>\n\n  \t<qv-property-sub-panel ng-repeat="subPanel in subPanels"></qv-property-sub-panel>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(45),n(59)],r=function(t,e,i){var r=null;function o(){function o(){n.e(8).then(function(){var e=[n(226),n(700),n(702),n(704),n(706),n(710),n(711),n(712),n(714),n(716),n(718),n(720),n(722),n(751),n(754),n(756),n(758),n(760),n(762),n(764),n(766),n(768),n(770),n(772),n(774),n(776),n(778),n(791),n(793),n(796),n(798),n(800),n(802),n(803),n(805),n(807),n(811),n(813),n(817),n(819),n(821),n(823),n(824),n(825),n(826)];(function(e,n,o,s,a,l,c,u,d,p,f,h,v,g,m,b,y,x,w,q,_,C,S,D,E,k,T,A,I,O,L,P,M,N,j,F,R,V,$,H,z,B,W,U,G){i.addComponent("button",n);i.addComponent("accordion",o);i.addComponent("checkbox",s);i.addComponent("dimensions",a);i.addComponent("dropdown",l);i.addComponent("custom-formatter-dropdown",c);i.addComponent("expression",u);i.addComponent("buttongroup",d);i.addComponent("radiobuttons",p);i.addComponent("expandable-items",f);i.addComponent("header",h);i.addComponent("hypercube-data",v);i.addComponent("hypercube-sorting",g);i.addComponent("sorting",g);i.addComponent("inline-dimension",m);i.addComponent("inline-measure",b);i.addComponent("integer",y);i.addComponent("items",x);i.addComponent("link",w);i.addComponent("list",q);i.addComponent("measures",_);i.addComponent("measures-tab",C);i.addComponent("editable",S);i.addComponent("number",D);i.addComponent("slider",E);i.addComponent("string",k);i.addComponent("library-item",T);i.addComponent("switch",A);i.addComponent("sorting-dimension",I);i.addComponent("sorting-measure",O);i.addComponent("text",L);i.addComponent("textarea",P);i.addComponent("dimension-dropdown",M);i.addComponent("number-formatter-dropdown",N);i.addComponent("number-formatter",j);i.addComponent("tags",F);i.addComponent("attribute-expression-reference",R);i.addComponent("sort-by-element",V);i.addComponent("no-data",$);i.addComponent("calc-cond",H);i.addComponent("header-with-switch",z);var K=t.getService("$templateCache");K.put("pp-data-item.ng.html",B);K.put("pp-pseudo-item.ng.html",W);K.put("pp-empty-data-item.ng.html",U);K.put("pp-sorting-item.ng.html",G);r.resolve(i)}).apply(null,e)}).catch(n.oe)}if(!r){r=new e;o()}return r.promise}return{loadComponents:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(44)],r=function(t,e){var n={};var i=false;var r=false;n.reset=function(){n.selectedObject=null;n.assetsOpen=true;n.propertiesOpen=false;i=false};n.hasPropertiesBeenClosedByUser=function(){return r};n.togglePropertyPanelByUser=function(){n.propertiesOpen=!n.propertiesOpen;i=n.propertiesOpen;i||(r=true);return n.propertiesOpen};n.resetPropertyPanelToggle=function(){n.propertiesOpen!==i&&(n.propertiesOpen=i)};n.setSelectedObject=function(i){var r={id:"",type:"",customObject:null,canCopy:function t(){return true},copy:null,canCut:function t(){return true},cut:null,paste:null,canRemove:function t(){return true},remove:null,getAllPropertyPanelContent:function e(){var n={objectType:"",iconClass:"",titleRef:"",definition:{},properties:{},layout:{},localeInfo:null,app:null,cache:null,ext:null,globalChangeListeners:null,handler:null,model:null};return t.resolve(n)}};if(i){e.extend(r,i);n.selectedObject=r}else n.selectedObject=null};n.reset();return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(44),n(48),n(41),n(58),n(51),n(158),n(159),n(47),n(106),n(60),n(122)],r=function(t,e,n,i,r,s,a,l,c,u){n.directive("ppSortable",[function(){return{scope:"=",link:function e(n,i,r){n.$watch(r.ppSortable,function(e){if(!e)return;var r;e=l.extend({},{handle:"[pp-sortable-handle]",start:function t(e,n){n.item.data("startPos",n.item.index())},scrollSpeed:u.treatAsDesktop()?25:60,distance:u.treatAsDesktop()?10:0,items:"> :not(.locked)",cancel:".locked",update:function t(i,r){var o=r.item.index(),s=r.item.data("startPos");n.$apply(function(){e.onMove(s,o)})},stop:function t(){u.treatAsDesktop()||i.sortable("option","disabled",true)}},e);r=i.closest(".pp-section");r.length&&(e.containment=r);i.sortable(e);u.treatAsDesktop()||i.sortable("option","disabled",true);n.enableTouchDrag=function(){var e;i.sortable("option","disabled",false);e=t.Event(window.event,{type:"mousedown"});e.which=1;e.pageX=window.event.pageX;e.pageY=window.event.pageY;e.target=window.event.target;t.ui.mouse.prototype._touchStart.call(i.data("ui-sortable"),e)}})}}}]);n.directive("ppSlider",[function(){return{require:"?ngModel",link:function t(i,r,o,s){var a=false;i.$watch(o.ppSlider,function(t){if(!t)return;if(t.range){t=l.extend({},{min:0,max:10,step:1,values:s.$modelValue,stop:function t(e,r){n.$apply(i,function(){s.$setViewValue(r.values)})}},t);a||i.$watchCollection(function(){return s.$modelValue},function(t,n){e.equals(t,n)||r.slider("values",t)})}else{t=t.values?l.extend({},{min:0,max:10,step:1,values:s.$modelValue,stop:function t(e,r){n.$apply(i,function(){s.$setViewValue(r.values)})}},t):l.extend({},{min:0,max:10,step:1,value:s.$modelValue,stop:function t(e,r){n.$apply(i,function(){s.$setViewValue(r.value)})}},t);a||i.$watch(function(){return s.$modelValue},function(t,e){t!==e&&(Array.isArray(t)?r.slider("values",t):r.slider("value",t))})}a&&r.slider("destroy");r.slider(t);a=true})}}}]);n.directive("ppPlaceholder",function(){return{link:function t(e,n,i){function r(){var t=e.$eval(i.ppPlaceholder);var r=e.$eval(i.ppPlaceholderSuppressEqual);r&&"="===t[0]&&(t=t.substr(1));n.attr("placeholder",t)}n.on("focus",function(){n.attr("placeholder","")});n.on("blur",function(){r()});e.$watch(i.ppPlaceholder,function(){r()})}}});n.directive("ppHeaderWithSwitch",function(){return{scope:{definition:"=",data:"=",args:"="}}});n.directive("ppAccordion",function(){return{template:"<div ng-transclude></div>",transclude:true,scope:{ppAccordion:"=",definition:"=",args:"="},controller:["$scope","$element","$timeout",function(e,n,r){var o=e.args.cache;var s=null;var a="accordion_path";e.definition.cacheKey&&(a=a+"_"+e.definition.cacheKey);function l(){s=r(function(){n.accordion("refresh");s=null})}function c(t){var n=-1;t=t.split(".")[0];Object.keys(e.definition.items||{}).filter(function(t){var n=e.definition.items[t];return false!==n.show}).forEach(function(e,i){if(e===t){n=i;return false}});return n}this.loadit=function(r){var s=o.get(a),d=void 0!==e.definition.defaultActiveTabIndex?e.definition.defaultActiveTabIndex:-1;s&&(d=c(s));if(r===e.ppAccordion.length-1){n.accordion({header:".pp-section-header",active:d,heightStyle:"fill",animate:!!u.treatAsDesktop()&&"swing",activate:function n(i,r){var s=t(r.newPanel).attr("x-path");o.put(a,s);e.$broadcast("ppAccordionNewPath",s)}});i.on("end",l)}};e.$on("pp-open-path",function(t,e){var i=c(e);i>=0&&n.accordion("option","active",i)});e.$on("$destroy",function(){if(s){r.cancel(s);s=null}i.off("end",l)})}]}});n.directive("ppAccordionItem",function(){return{require:"^ppAccordion",link:function t(e,n,i,r){r.loadit(e.$index)}}});function d(t){if("ValueExpr"===t||"ValueExpression"===t)return s.Modes.NumberOrExpression;return s.Modes.Expression}n.directive("ppInputValidator",["$parse",function(t){return{require:"ngModel",link:function e(n,i,o,a){var c=null,u=n.definition,p=o.expressionType;function f(t,e){if(u&&"function"===typeof u.isExpression)return u.isExpression(t);if(void 0===t)return false;if("always"===u.expression)return true;switch(e){case"StringExpression":return 0===t.indexOf("=");case"ValueExpression":return"string"===typeof t&&0===t.indexOf("=");case"StringExpr":return 0===t.indexOf("=");case"ValueExpr":return true;case"dimension":return true;case"measure":return true;default:return false}}function h(e){o.ppValidationOnResult?t(o.ppValidationOnResult)(n,{isValid:e}):n.invalid=!e}function v(t){h(t.valid)}if(p){var g=n.args?n.args.app:n.app;c=new s.ExpressionValidator(g,d(p));c.Update.bind(v)}function m(t){if("measure"===p)if(""===t)h(true);else{var e=n.args?n.args.handler.getLabels():[];c.validate(t,e)}else if("dimension"===p)if(""===t)h(false);else{t&&"="!==t[0]&&(t="="+l.escapeField(t));c.validate(t)}else c.validate(t)}function b(t){f(t,p)?m(t):h(r.validateType(t,u,n.data,n.args))}n.$on("datachanged",function(){b(a.$modelValue)});n.$on("pp-revalidate",function(){b(a.$modelValue)});n.$watch(function(){return a.$modelValue},function(t){b(t)});n.$on("$destroy",function(){c&&c.Update.unbind(v)})}}}]);function p(t){t=t||"";return"="===t[0]?t:"="+t}n.directive("ppExpressionEditor",["$parse","$timeout",function(n,i){return{link:function r(s,u,f){function h(t,e){if(void 0===t)return false;switch(e){case"StringExpression":return"object"===o(t);case"ValueExpression":return"object"===o(t);case"StringExpr":return"object"===o(t)&&0===t.qv.indexOf("=");case"ValueExpr":return"object"===o(t);case"dimension":return true;case"measure":return true;default:return false}}function v(t){return"'"!==t[0]&&"'"!==t[t.length-1]&&-1===t.indexOf("(")&&-1===t.indexOf(")")&&!l.isNumeric(t)}function g(){var t=n(f.ppExpressionEditor)(s),i=f.expressionType,r=d(i),c=t,u=[];var g=h(t,i);"object"===o(t)&&("StringExpression"===i?t=p(t.qStringExpression.qExpr):"ValueExpression"===i?t=p(t.qValueExpression.qExpr):"StringExpr"===i?t=t.qv:"ValueExpr"===i&&(t=t.qv));if("dimension"===i&&t.length)"="!==t[0]&&(t="="+l.escapeField(t));else if("measure"===i)u=s.args?s.args.handler.getLabels():[];else if(!g&&("StringExpr"===i||"StringExpression"===i)){"StringExpr"===i&&t.qv&&(t=t.qv);t&&v(t)&&(t="='"+t.replace(/'/g,"''")+"'")}a.show({expr:t,title:t?"Dimension.Expression.Dialog.Edit.Title":"Dimension.Expression.Dialog.Add.Title",allowEmpty:true,mode:r,labels:u,app:s.args?s.args.app:s.app,stateName:s.args&&s.args.layout?s.args.layout.qStateName:void 0}).then(function(t){if("ValueExpression"===i&&t.length)t={qValueExpression:{qExpr:t}};else if("StringExpression"===i&&t.length)t={qStringExpression:{qExpr:t}};else if("ValueExpr"===i)t={qv:t};else if("StringExpr"===i){"="!==t[0]&&(t="="+t);t={qv:t}}else"dimension"===i&&t.length&&"="!==t[0]&&(t="="+t);if(f.ppExpressionEditorOnApply)n(f.ppExpressionEditorOnApply)(s,{value:t});else if(!e.equals(c,t)){s.value=t;s.change()}},function(){})}u.on("keypress.pp-expression",function(e){13!==e.which&&32!==e.which||t(e.target).trigger("qv-activate")});u.on("qv-activate.pp-expression",function(){var e=null,r;if(f.editorDisabled){e=n(f.editorDisabled)(s);if(e)return}if(c.isInput(document.activeElement)){r=t(document.activeElement);r.on("blur.pp-expression",function(){i(function(){g()});r.off("blur.pp-expression")});r.blur()}else g()});s.$on("$destroy",function(){u.off(".pp-expression")})}}}]);n.directive("ppScrollableAutoContent",function(){var e=".property-content";return{link:function n(i){i.$watch(function(){return i.isAutoChart},function(t){r(t)});function r(n){var i=t(e);i.length&&i.css({"overflow-y":n?"auto":"hidden"})}i.$on("$destroy",function(){r(false)})}}});n.directive("ppDiDraggableHover",function(){var t=".pp-nm-di__header",e="hovered";return{link:function n(i,r){var o=r.closest(t);if(!o.length)return;r.hover(function(){o.addClass(e)},function(){o.removeClass(e)})}}});n.componentDirective("includePpComponent",{definition:"=",data:"=",args:"="});return{}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog id="expression-editor-wrapper">\t\n\t<lui-dialog-header class="expression-editor-toolbar">\n\t\t<span class="expression-editor-toolbar-title" q-translation="{{input.title}}"></span>\n\t\t<div class="expression-editor-toolbar-buttons">\t\t\n\t\t\t<button ng-if="isAdvancedPart3" class="lui-fade-button expression-editor-undo-button" \n\t\t\t\t\tdata-name="undo" ng-disabled="undoDisabled || !codearea.contextApi.canUndo" \n\t\t\t\t\tng-click="onUndo()" q-title-translation="Common.Undo" disabled="disabled" title="Undo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--back"></span>\n\t\t\t</button>\n\t\t\t<button ng-if="isAdvancedPart3" class="lui-fade-button expression-editor-redo-button" \n\t\t\t\t\tdata-name="redo" ng-disabled="redoDisabled || !codearea.contextApi.canRedo" \n\t\t\t\t\tng-click="onRedo()" q-title-translation="Common.Redo" disabled="disabled" title="Redo">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--forward"></span>\n\t\t\t</button>\t\t\t\t\t\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button expression-editor-help-button"\n\t\t\t\tdata-name="help-mode"\n\t\t\t\tng-class="{\'lui-active\': controller.helpmodeActive}"\n\t\t\t\tng-click="onHelpmode()"\n\t\t\t\tq-title-translation="Tooltip.HelpMode.Enter">\n\t\t\t\t<span class="lui-fade-button__icon  lui-icon lui-icon--help"></span>\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclass="lui-fade-button"\n\t\t\t\tqva-activate="$event.preventDefault(); close()"\n\t\t\t\tdata-name="close">\n\t\t\t\t<span class="lui-fade-button__icon lui-icon lui-icon--close" q-title-translation="Common.Close"></span>\n\t\t\t</button>\t\t\t\t\n\t\t</div>\t\n\t</lui-dialog-header>\t\n\t<lui-dialog-body class="expression-editor-body" qv-cancel="cancel()" qv-confirm="confirm()">\n\t\t<section id="expression-editor-panel" class="qribby-accordion-pp">\n\t\t\t<div class="qv-expandable-list-wrapper" qv-expandable-list></div>\t\t\t\n\t\t</section>\n\t\t<section id="expression-editor-content">\n\t\t\t<main class="dm-main">\n\t\t\t\t<div id="expression-editor-container">\n\t\t\t\t\t<div id="expression-editor-stage" data-help="Panel.Stage" ng-class="{ invalid: !validity.expression }">\n\t\t\t\t\t\t<qv-codearea\n\t\t\t\t\t\t\t\tdata-show-breakpoint-gutter="true"\n\t\t\t\t\t\t\t\tdata-disabled="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tdata-resize-trigger="resizeCounter"\n\t\t\t\t\t\t\t\tdata-mode="qlikviewReloadScriptMode"\n\t\t\t\t\t\t\t\tclass="expression-dialog-code-mirror"\n\t\t\t\t\t\t\t\tqva-outside-ignore-for="allOutside"\n\t\t\t\t\t\t\t\tqv-codearea-code-container="codearea"\n\t\t\t\t\t\t\t\tqv-codearea-exposed-context-api="codearea.contextApi"\n\t\t\t\t\t\t\t\tqv-codearea-function-tip="functionTipOptions"\n\t\t\t\t\t\t\t\tqv-codearea-limit="stringLimits.expression"\n\t\t\t\t\t\t\t\tqv-codearea-autocomplete="autocompleteOptions"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode="controller.helpmodeActive"\n\t\t\t\t\t\t\t\tqv-codearea-help-mode-options="helpModeOptions"\n\t\t\t\t\t\t\t\tqva-activate="closePopoverIfOpen($event)"\n\t\t\t\t\t\t></qv-codearea>\n\t\t\t\t\t\t<div class="ee-information-wrapper">\n\t\t\t\t\t\t\t<div class="row-number-fill"></div>\n\t\t\t\t\t\t\t<div class="ee-information">\n\t\t\t\t\t\t\t\t<qv-information-area x-info="info" x-app="input.app" x-mode="input.mode" x-labels="input.labels"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\t\t\t\n\t\t\t</main>\n\t\t</section>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<button class="lui-button close button" ng-click="cancel()" name="cancelButton" q-translation="Common.Cancel">Cancel</button>\n\t\t<button class="lui-button confirm button" ng-click="confirm()"  qv-confirm="confirm()" name="confirmButton" q-translation="Common.Apply">Confirm</button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(t,e){t.exports='<div class="expression-editor-section">\n    \x3c!-- TABLE DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-table">\n        <label q-translation="Assets.FieldsTab.Table"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="tables"\n            tid="table-dropdown"\n            title="{{controller.selectedTable.label}}">\n            <div class="label">\n                {{controller.selectedTable.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- FIELD DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-field">\n        <label q-translation="Common.Field"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="fields"\n            tid="field-dropdown"\n            title="{{controller.selectedField.label}}">\n            <div class="label">\n                {{controller.selectedField.label}}\n            </div>\n        </button>\n    </div>\n    \x3c!-- AGGREGATION DROPDOWN --\x3e\n    <div id="expression-editor-toolbar-functions" >\n        <label q-translation="ExpressionEditor.AggregationFunctions"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="commonFunctions"\n            tid="aggregation-dropdown"\n            title="{{controller.selectedCommonFunction.label}}">\n            <div class="label">\n                {{controller.selectedCommonFunction.label}}\n            </div>\n        </button>\n    </div>\n   \x3c!-- SET EXPRESSION CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-current" ng-if="exposeSetExpression">        \n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                ng-model="controller.currentOption" \n            />            \n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-set"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly() || controller.noSelectionsInObjectState"\n                    q-translation="ExpressionEditor.SetExpression"\n                    q-title-translation="ExpressionEditor.SetExpression">\n                </span>              \n            </div>           \n        </label>  \n        <span ng-if="( !controller.readOnly() && controller.noSelectionsInObjectState )" \n            q-translation="ExpressionEditor.EmptySelections" text="inline style" style="color:grey">\n        </span>      \n    </div>\n    \x3c!-- DISTINCT CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-distinct">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input" \n                type="checkbox" \n                ng-disabled="controller.readOnly()" \n                ng-model="controller.distinctOption"\n                ng-true-value="\'distinct\'"\n                ng-false-value="\'\'"\n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-distinct"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Distinct"\n                    q-title-translation="ExpressionEditor.Distinct">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- TOTAL CHECKBOX --\x3e\n    <div id="expression-editor-toolbar-total">\n        <label class="lui-checkbox">\n            <input \n                class="lui-checkbox__input"\n                type="checkbox"\n                ng-disabled="controller.readOnly()"\n                ng-model="controller.totalOption"\n                ng-true-value="\'total\'"\n                ng-false-value="\'\'" \n            />\n            <div class="lui-checkbox__check-wrap">\n                <span class="lui-checkbox__check" tid="checkbox-total"></span>\n                <span \n                    class="lui-checkbox__check-text label" \n                    ng-disabled="controller.readOnly()"\n                    q-translation="ExpressionEditor.Total"\n                    q-title-translation="ExpressionEditor.Total">\n                </span>\n            </div>\n        </label>\n    </div>\n    \x3c!-- INSERT BUTTON --\x3e\n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n                ng-disabled="!controller.previewText()"\n                type="button"\n                tid="insert-field"\n                ng-click="insertTextHandler($event)"\n                q-title-translation="Tooltip.ExpressionEditor.InsertExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>'},function(t,e){t.exports='<div class="expression-editor-section">\n    \n    <label q-translation="ExpressionEditor.FunctionCategory"></label>\n    <button\n        class="lui-button expression-editor-dropdown" \n        ng-click="openPopover($event)"\n        data-context="functionCategories"\n        title="{{controller.selectedFunctionCategory.label}}">\n        <div class="label">\n            {{controller.selectedFunctionCategory.label}}\n        </div>\n    </button>\n    \n    <div class="expression-editor-function-name">\n        <label q-translation="ExpressionEditor.FunctionName"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="functions"\n            tid="functions-dropdown"\n            title="{{controller.selectedFunction.label}}">\n            <div class="label">\n                {{controller.selectedFunction.label}}\n            </div>\n        </button>\n        <textarea disabled class="expression-editor-function-definition lui-textarea lui-disabled">{{controller.selectedFunctionTip}}</textarea>\n    </div>\n    \n    <div id="expression-editor-toolbar-insert">\n        <lui-button\n            type="button"\n            tid="insert-function"\n            ng-disabled="!controller.previewText()"  \n            ng-click="insertFunctionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertFunction">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div> \n</div>'},function(t,e){t.exports='<div class="expression-editor-section">\n    <div id="expression-editor-toolbar-variables">\n        <label q-translation="ExpressionEditor.VariableList"></label>\n        <button\n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)"\n            data-context="variables"\n            tid="variables-dropdown"\n            title="{{controller.selectedVariable.label}}">\n            <div class="label">\n                {{controller.selectedVariable.label}}\n            </div>\n        </button>\n\n        <div class="expression-editor-system-variables">\n            <label class="lui-checkbox">\n                <input class="lui-checkbox__input" type="checkbox" ng-model="controller.showSystemVars"></input>\n                <div class="lui-checkbox__check-wrap">\n                    <span class="lui-checkbox__check"></span>\n                    <span class="lui-checkbox__check-text label" ng-disabled="readOnly" q-translation="ExpressionEditor.SystemVariables" q-title-translation="ExpressionEditor.SystemVariables"></span>\n                </div>\n            </label>\n        </div>\n        \n        <div class="expression-editor-variable-definition">\n            <label q-translation="ExpressionEditor.Definition"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableDef}}</textarea>\n        </div>\n        \n        <div class="expression-editor-variable-value">\n            <label q-translation="ExpressionEditor.Value"></label>\n            <textarea disabled class="lui-textarea lui-disabled">{{controller.variableVal}}</textarea>\n        </div>\n        \n        <div id="expression-editor-toolbar-insert">\n            <lui-button \n                type="button" \n                ng-click="insertVariableHandler($event)" \n                q-title-translation="Tooltip.ExpressionEditor.InsertVariable" \n                tid="insert-variable">\n                <span q-translation="ExpressionEditor.Insert"></span>\n            </lui-button>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='<div class="expression-editor-section">\n\n    <div class="expression-editor-toolbar-set-expressions">        \n        <div class="form-element">\n            <lui-radiobutton \n                x-disabled="controller.noSelections" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'0\')" \n                x-value="0"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfCurrentSelection\' | translate }}\n            </lui-radiobutton>\n            <lui-radiobutton \n                x-disabled="!controller.bookmarks.length > 0" \n                x-model="controller.setExpressionOption" \n                x-change="changeCurrentSetExpressionOption(\'1\')" \n                x-value="1"\n                >\n                {{ \'ExpressionEditor.SetExpressions.ContentOfBookmark\' | translate }}\n            </lui-radiobutton>\n        </div>\n    </div>\n    <div id="expression-editor-toolbar-set-expression-bookmark" \n        ng-if="controller.setExpressionOption==1">\n        <label q-translation="ExpressionEditor.SetExpresions.Bookmark"></label>\n        <button \n            class="lui-button expression-editor-dropdown" \n            ng-click="openPopover($event)" \n            data-context="bookmarks" \n            tid="bookmark-dropdown" \n            title="{{controller.selectedBookmark.label}}">\n            <div class="label">\n                {{controller.selectedBookmark.label}}\n            </div>\n        </button>\n\n    </div>\n    <div id="expression-editor-toolbar-set-expression-states" x-disabled="controller.noSelections && !controller.bookmarks.length > 0" ng-if="controller.showAlternateStates">\n        <label q-translation="ExpressionEditor.SetExpresions.AlternateState"></label>\n        <lui-select x-model="controller.selectedAlternateState">\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==0" ng-repeat="state in controller.currentSelectionsAlternateStates ">{{state.label}}</option>\n            <option value="{{state.value}}" ng-if="controller.setExpressionOption==1" ng-repeat="state in controller.selectedBookmark.alternateStates ">{{state.label}}</option>\n        </lui-select>\n    </div>\n    <div id="expression-editor-toolbar-insert">\n        <lui-button \n            type="button" \n            tid="insert-set-expression" \n            ng-disabled="controller.disableSetExpressionInsertButton()" \n            ng-click="insertSetExpressionHandler($event)" \n            q-title-translation="Tooltip.ExpressionEditor.InsertSetExpression">\n            <span q-translation="ExpressionEditor.Insert"></span>\n        </lui-button>\n    </div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(112)],r=function(t,e){var n=false;var i=false;var r=false;function o(t){var e=[{label:t,value:""},{label:"Sum",value:"Sum"},{label:"Count",value:"Count"},{label:"Avg",value:"Avg"},{label:"Min",value:"Min"},{label:"Max",value:"Max"},{label:"Median",value:"Median"},{label:"Fractile",value:"Fractile"},{label:"Only",value:"Only"},{label:"Concat",value:"Concat"},{label:"Mode",value:"Mode"},{label:"MinString",value:"MinString"},{label:"MaxString",value:"MaxString"},{label:"FirstSortedValue",value:"FirstSortedValue"}];return e}function s(){var e;e=this.selectedField?this.selectedField.value:"";e=t.escapeField(e);if(this.selectedCommonFunction){if(this.selectedCommonFunction&&""===this.selectedCommonFunction.value)return e;var n=this.distinctOption.length?this.distinctOption+" ":"",i=this.totalOption.length?this.totalOption+" ":"",r=this.currentOption&&""!==this.selections?"{"+this.selections+"} ":"",o=this.selectedCommonFunction.value;return o+"("+r+n+i+e+")"}return e}function a(t){var e=[];t.forEach(function(t){e.push({label:t.qName,value:t.qName})});return e}function l(t,e){var n=e;return t.filter(function(t){e&&(n=e.value);return-1!==t.qSrcTables.indexOf(n)})}function c(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function u(t,e){return t.qName.toLowerCase().localeCompare(e.qName.toLowerCase())}function d(t,e){return t.label.toLowerCase().localeCompare(e.label.toLowerCase())}function p(t){var e=[];t.forEach(function(t){e.push({label:t,value:t})});return e}function f(t){var e,n;var i=[];for(e=0;e<t.length;++e)for(n=0;n<t[e].qSrcTables.length;++n)-1===i.indexOf(t[e].qSrcTables[n])&&i.push(t[e].qSrcTables[n]);i.sort(c);i=p(i);return i}function h(t,e,n){var i=n.value;var r=t.allTablesText.value;i!=r&&(e=l(e,n));t.fieldNames=a(e);w(t)}function v(t,e,n){e=e.value;t.functions=[];if(n.hasOwnProperty(e))e&&(t.functions=n[e]);else for(var i in n)n[i].forEach(function(e){-1===t.functions.indexOf(e)&&(t.functions=t.functions.concat(e))});if(t.functions&&t.functions.length>0){t.functions.sort(c);t.functions=p(t.functions);q(t)}}function g(t,e){var n=t.filter(function(t){return e||!t.qIsReserved&&!t.qIsConfig}).sort(u);n.forEach(function(t){t.label=t.qName;t.value=t.qName});return n}function m(t,e){var n=[];t.forEach(function(t){if(t.qFieldItems.length>0){var i=t.qStateName;n.push({label:"$"===i?e.get("AlternateState.DefaultState"):i,value:i})}});return n}function b(t,e){var n=[],i=true;t=t||[];t.forEach(function(t){if(t.qSelectionObject.qSelections.length>0){var r=t.stateName;i=false;n.push({label:"$"===r?e.get("AlternateState.DefaultState"):r,value:r})}});return{states:n,noSelections:i}}function y(t,e){var n=[];t.forEach(function(t){n.push({label:t.qData.title,value:t.qInfo.qId,alternateStates:r?m(t.qData.qBookmark.qStateData,e):[]})});return n.sort(d)}function x(t,e,n){var i=[];e.forEach(function(t){"EXT"!==t&&i.push({value:t,label:n.get("ExpressionEditor.Functions."+t)})});i.sort(function(t,e){return t.label.toLowerCase().localeCompare(e.label.toLowerCase())});i.unshift({value:t,label:n.get("ExpressionEditor.Functions."+t)});return i}function w(t){var e=false;t.fieldNames.forEach(function(n){var i=t.selectedField.label;var r=n.label;if(i==r){var o=t.selectedField;e=true;t.selectedField=o}});e||(t.selectedField=t.fieldNames[0])}function q(t){var e=false;t.functions.forEach(function(n){var i=t.selectedFunction.label;var r=n.label;if(i==r){var o=t.selectedFunction;e=true;t.selectedFunction=o}});e||(t.selectedFunction=t.functions[0])}function _(t){var e=["$Field","$FieldNo","$Fields","$Info","$Rows","$Table"],n=[],i=t.get("ExpressionEditor.FieldsTab.SystemFields");e.forEach(function(t){var e={qName:t,qSrcTables:[i]};n.push(e)});return n}function C(t,e){0!=e.length||t.showSystemVars||(t.selectedVariable="");t.variables.length>0&&-1===t.variables.indexOf(t.selectedVariable)&&(t.selectedVariable=t.variables[0])}function S(t,e){var n=[];switch(t){case"tables":n=e.tableNames;break;case"fields":n=e.fieldNames;break;case"commonFunctions":n=e.commonFunctions;break;case"functionCategories":n=e.functionCategories;break;case"functions":n=e.functions;break;case"variables":n=e.variables;break;case"bookmarks":n=e.bookmarks;break}return n}function D(t,e,n,i){switch(e){case"tables":n.setTableFilter(t);n.selectedTable=t;break;case"fields":n.selectedField=t;break;case"commonFunctions":n.selectedCommonFunction=t;break;case"functionCategories":n.selectedFunctionCategory=t;break;case"functions":n.selectedFunction=t;break;case"variables":n.selectedVariable=t;break;case"bookmarks":n.selectedBookmark=t;break;default:break}i(e)}function E(t){return e.get(t).then(function(t){return t.getLayout().then(function(){return{selectionsInStates:t.layout.selectionsInStates||[]}})})}function k(t){i=t.isAdvancedPart3;n=t.exposeSetExpression;r=t.isAlternateState;var e=t.translator,l=[];var c=t.fields.slice();c.sort(u);t.published||(c=c.concat(_(e)));var d=e.get("Common.All.Tables"),p=e.get("ExpressionEditor.Functions.ALL"),m=e.get("ExpressionEditor.FieldsTab.SelectAggregationHint");var q=t.sections.fields.state,k=t.sections.functions.state,T=t.sections.variables.state;d={label:d,value:d};""==q.table.label&&(q.table=d);if(""==q.aggregfunc.label){q.aggregfunc.label=m;q.aggregfunc.value=""}""==k.functionCategory.label&&(k.functionCategory.label=p);for(var A in t.functions)l.push(A);var I={getData:function t(e){return S(e,I)},setSelectedItem:D,allTablesText:d,commonFunctions:o(m),selectedCommonFunction:q.aggregfunc,readOnly:function t(){return""===I.selectedCommonFunction.value},setTableFilter:function t(e){h(I,c,e)},selectedTable:q.table,tableNames:[d].concat(f(c)),fieldNames:a(c),previewText:s,selectedField:q.field,distinctOption:q.distinctCheckBox,totalOption:q.totalCheckBox,currentOption:!!n&&q.setExpressionCheckBox,selections:"",noSelections:false,noSelectionsInObjectState:false,functions:[],functionCategories:x("ALL",l,e),selectedFunction:k.funct,selectedFunctionTip:"",selectedFunctionCategory:k.functionCategory,setFunctionCategoryFilter:function e(n){v(I,n,t.functions)},variables:g(t.variables,false),selectedVariable:T.variable,variableDef:"",variableVal:"",showSystemVars:T.sysVarsCheckBox,showVariablesFirstTime:T.showVariablesFirstTime,showVariableInfo:function t(e,n){I.variableDef=e;I.variableVal=n},setSysVarsFilter:function e(){var n=t.variables.filter(function(t){return!t.qIsReserved});if(0==n.length&&I.showVariablesFirstTime){T.sysVarsCheckBox=true;I.showSystemVars=true;T.showVariablesFirstTime=false;I.showVariablesFirstTime=false}I.variables=g(t.variables,I.showSystemVars);C(I,n)},setCurrentSelections:function t(e){I.selections=e},isStateInArray:function t(e,n){var i=false;e.forEach(function(t){t.value===n&&(i=true)});return i},setInitialOptionsForSetExpressionSection:function e(n){I.noSelections=n;if(n&&"0"===I.setExpressionOption)if(I.bookmarks.length>0){I.setExpressionOption="1";if(""===I.selectedBookmark){I.selectedBookmark=I.bookmarks[0];r&&(I.selectedAlternateState=I.bookmarks[0].alternateStates[0].value)}}else{I.setExpressionOption="";I.setExpressionInsertDisabled=true}else r&&"0"===I.setExpressionOption&&I.currentSelectionsAlternateStates.length>0&&(I.selectedAlternateState=I.isStateInArray(I.currentSelectionsAlternateStates,t.sections.setExpressions.state.selectedAlternateState)?t.sections.setExpressions.state.selectedAlternateState:I.currentSelectionsAlternateStates[0].value)},disableSetExpressionInsertButton:function t(){return r?!I.selectedAlternateState:I.setExpressionInsertDisabled},isAlternateState:r,showAlternateStates:t.showAlternateStates,setExpressionOption:i?t.sections.setExpressions.state.setExpressionOption:"",bookmarks:y(t.bookmarks,e),currentSelectionsAlternateStates:[],selectedBookmark:i?t.sections.setExpressions.state.selectedBookmark:"",selectedAlternateState:r?t.sections.setExpressions.state.selectedAlternateState:"",setExpressionInsertDisabled:false,stateName:t.stateName};E(t.app).then(function(n){var i=t.stateName||"$";I.noSelectionsInObjectState=true;n.selectionsInStates.forEach(function(t){t.stateName===i&&t.qSelectionObject.qSelections.length>0&&(I.noSelectionsInObjectState=false)});if(r){var o=b(n.selectionsInStates,e);I.currentSelectionsAlternateStates=o.states;I.setInitialOptionsForSetExpressionSection(o.noSelections)}else I.setInitialOptionsForSetExpressionSection(I.noSelectionsInObjectState)});w(I);return I}return{create:k}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t){return t.replace(/^=+/,"")}function e(t,e){n(t,e);t.description?t.validity.description=t.description.length<=e.description:t.validity.description=true;return t.validity.name&&t.validity.description}function n(t,e){t.validity.name=!!t.name&&!!t.name.trim()&&t.name.length<=e.name;return t.validity.name}function i(e,n){var i=e.expression;var r="string"===typeof i&&i.trim().length>0&&i.length<=n.expression;i&&(e.expression=t(i));e.validity.expression=r;return r}function r(t){var e=t.selectedFields,n=false;if(!e)return false;"single"===t.type?n=1===e.length:"drilldown"===t.type&&(n=e.length>1);t.validity.selectedFields=n;return n}return{validateMetadata:e,validateMetadataName:n,validateExpr:i,validateFieldsInDimension:r}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(562)],r=function(t){return{scope:{offset:"=",content:"="},template:t,controller:[function(){}]}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<qui-float qui-offset="offset" qui-resize-on-change="content" class="qv-function-tip-container">\n\t<div class=\'qv-function-tip-view\' ng-show=\'content\'>{{content}}</div>\n</qui-float>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(45),n(140),n(564),n(47)],r=function(t,e,n,i){var r=["like","not","and","or","xor","follows","precedes","bitnot","bitand","bitor","bitxor","$","$1","$2","$3","$4","$5","$_1","$_2","$_3","$_4","$_5","total","distinct","nodistinct","all","include","must_include"];function o(t,e){if("field"===t)return{text:e,type:t,value:i.escapeField(e)};return{text:e,type:t}}function s(t){var e=t.bnf;var n=a();var i=t.fields;var s=t.variables;var l=r.map(o.bind(null,"keyword"));var c=Object.keys(s).map(o.bind(null,"variable"));var u=Object.keys(i).map(o.bind(null,"field"));var d=e.getAllFunctions().map(o.bind(null,"function"));var p=l.concat(c,u,d);function f(t){return e.isFunction(t)}function h(t){return e.getFunctionTip(t)}function v(t){return!!n[t.toLowerCase()]||f(t)}function g(t){return!!i[t]}function m(t){return!!s[t]}function b(){return p}var y={getAutocompleteList:b,getFunctionTip:h,getFunctionsAndCategories:e.getAllFunctionsAndCategories,isFunction:f,isField:g,isKeyword:v,isVariable:m};return y}function a(){var t={};for(var e=0;e<r.length;++e){var n=r[e];t[n]=true}return t}function l(t){return t.enigmaModel.getFieldList().then(function(t){t=e.expand(t);var n={};for(var i=0;i<t.length;++i){var r=t[i].qName;n[r]=true}return n})}function c(t){return t.enigmaModel.getVariableList().then(function(t){var e={};for(var n=0;n<t.length;++n){var i=t[n].qName;e[i]=true}return e})}function u(e){return t.all({bnf:n.getExpressionBnfModel(e),fields:l(e),variables:c(e)}).then(s)}return{get:u}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(180),n(565),n(45)],r=function(t,e,n){var i={};function r(t){var e={};var n={keywords:[],keywordsAsLowerCase:[],functions:[],functionsAndCategories:[],notFunctions:[],bnfEntries:[],mapping:{}};function i(t){return t.replace(/\s+/g," ").replace(/\s+(\)|\]|,)/g,"$1").replace(/(\(|\[|,)\s+/g,"$1")}function r(){t.forEach(s);var e=[{qStr:"must_include",qBnfLiteral:true}];e.forEach(s)}function o(){n.functions.length<1&&r();function t(t,e){return{text:e,type:t}}var e=n.notFunctions.map(t.bind(null,"keyword"));var i=n.functions.map(t.bind(null,"function"));n.autocompleteList=e.concat(i)}function s(t){if(true===t.qBnfLiteral){-1===n.keywords.indexOf(t.qStr)&&n.keywords.push(t.qStr);if(t.qStr){n.keywordsAsLowerCase.push(t.qStr.toLowerCase());n.mapping[t.qStr.toLowerCase()]=t.qNbr;if(!t.qAggrFunc&&!t.qQvFunc){if(!t.qFieldFlag){-1===n.notFunctions.indexOf(t.qStr)&&n.notFunctions.push(t.qStr);e[t.qStr.toLowerCase()]="keyword"}}else{-1===n.functions.indexOf(t.qStr)&&n.functions.push(t.qStr);e[t.qStr.toLowerCase()]="function";n.functionsAndCategories.push({fglist:t.qFGList,func:t.qStr})}}}}function a(e){e=parseInt(e,10);if(n.bnfEntries[e])return n.bnfEntries[e];var i=t.filter(function(t){return parseInt(t.qNbr,10)===e});n.bnfEntries[e]=i[0];return i[0]||false}function l(t){n.keywords.length<1&&r();t=t.toLowerCase();var e=n.mapping[t];return a(e)}function c(t){var e="",n=a(t);t>=0&&t<=56?e=n.qStr||"":n&&(e=n.qStr||n.qName);return e}function u(t){if(t&&!t.signature){t.qBnf&&t.qBnf.length>0?t.signature=t.qBnf.map(c).join(" ").trim():t.qPNbr&&(t.signature=u(a(t.qPNbr)));t.signature=i(t.signature)}return t.signature||""}function d(){n.keywords.length<1&&r();return n.keywords}function p(){n.keywordsAsLowerCase.length<1&&r();return n.keywordsAsLowerCase}function f(){n.autocompleteList||o();return n.autocompleteList}function h(t){var e=l(t);return false!==e?u(e):""}function v(){return t.filter(function(t){return t.qHelpId&&t.qHelpId>0}).map(function(t){return t.qStr})}function g(t){return"function"===e[t.toLowerCase()]}function m(){return false}function b(){return false}function y(t){return!!e[t.toLowerCase()]}function x(){n.functions.length<1&&r();return n.functions}function w(){return n.functionsAndCategories}r();return{getBnfEntry:a,getLiteralString:c,getAllKeywords:d,getAllKeywordsAsLowerCase:p,getAutocompleteList:f,getKeywordsWithHelp:v,getSignatureFromKeyword:h,getFunctionTip:h,isFunction:g,isField:m,isKeyword:y,isVariable:b,getAllFunctions:x,getAllFunctionsAndCategories:w}}function o(i,o){var s="BNF_CACHE_DATA_"+i;var a="BNF_HASH_"+i;o=o||t;return o.global.getBaseBNFHash(i).then(function(t){var l=t.qBnfHash;var c=new n;var u=localStorage.getItem(a);var d=u===l;var p=d?localStorage.getItem(s):void 0;if(p)try{var f=JSON.parse(e.decompressFromUTF16(p));c.resolve(r(f));return c.promise}catch(t){}o.global.getBaseBNF(i).then(function(t){var n=t.qBnfDefs;localStorage.setItem(s,e.compressToUTF16(JSON.stringify(n)));localStorage.setItem(a,t.qBnfHash);c.resolve(r(n))});return c.promise})}function s(i){var r="BNF_STRING_CACHE_DATA_"+i;var o="BNF_STRING_HASH_"+i;return t.global.getBaseBNFHash(i).then(function(s){var a=s.qBnfHash;var l=new n;var c=localStorage.getItem(o);var u=c===a;var d=u?localStorage.getItem(r):void 0;if(d)try{var p=JSON.parse(e.decompressFromUTF16(d));l.resolve(p);return l.promise}catch(t){}t.global.getBaseBNFString(i).then(function(t){var n=t.qBnfStr;localStorage.setItem(r,e.compressToUTF16(JSON.stringify(n)));localStorage.setItem(o,t.qBnfHash);l.resolve(n)});return l.promise})}function a(t,e){i[t]||(i[t]=o(t,e));return i[t]}function l(t){return s(t)}function c(){return a("S")}function u(t){return a("E",t)}function d(){return l("S")}return{createBnfModel:r,getReloadScriptBnfModel:c,getExpressionBnfModel:u,getScriptBnf:d}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){var i,r;!(i=[],r=function(){var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(null==e)return"";var n="";var i,r,o,s,a,l,c;var u=0;e=t.compress(e);while(u<2*e.length){if(u%2==0){i=e.charCodeAt(u/2)>>8;r=255&e.charCodeAt(u/2);o=u/2+1<e.length?e.charCodeAt(u/2+1)>>8:NaN}else{i=255&e.charCodeAt((u-1)/2);if((u+1)/2<e.length){r=e.charCodeAt((u+1)/2)>>8;o=255&e.charCodeAt((u+1)/2)}else r=o=NaN}u+=3;s=i>>2;a=(3&i)<<4|r>>4;l=(15&r)<<2|o>>6;c=63&o;isNaN(r)?l=c=64:isNaN(o)&&(c=64);n=n+t._keyStr.charAt(s)+t._keyStr.charAt(a)+t._keyStr.charAt(l)+t._keyStr.charAt(c)}return n},decompressFromBase64:function(e){if(null==e)return"";var n="",i=0,r,o,s,a,l,c,u,d,p=0,f=t._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(p<e.length){l=t._keyStr.indexOf(e.charAt(p++));c=t._keyStr.indexOf(e.charAt(p++));u=t._keyStr.indexOf(e.charAt(p++));d=t._keyStr.indexOf(e.charAt(p++));o=l<<2|c>>4;s=(15&c)<<4|u>>2;a=(3&u)<<6|d;if(i%2==0){r=o<<8;64!=u&&(n+=f(r|s));64!=d&&(r=a<<8)}else{n+=f(r|o);64!=u&&(r=s<<8);64!=d&&(n+=f(r|a))}i+=3}return t.decompress(n)},compressToUTF16:function(e){if(null==e)return"";var n="",i,r,o,s=0,a=t._f;e=t.compress(e);for(i=0;i<e.length;i++){r=e.charCodeAt(i);switch(s++){case 0:n+=a(32+(r>>1));o=(1&r)<<14;break;case 1:n+=a(o+(r>>2)+32);o=(3&r)<<13;break;case 2:n+=a(o+(r>>3)+32);o=(7&r)<<12;break;case 3:n+=a(o+(r>>4)+32);o=(15&r)<<11;break;case 4:n+=a(o+(r>>5)+32);o=(31&r)<<10;break;case 5:n+=a(o+(r>>6)+32);o=(63&r)<<9;break;case 6:n+=a(o+(r>>7)+32);o=(127&r)<<8;break;case 7:n+=a(o+(r>>8)+32);o=(255&r)<<7;break;case 8:n+=a(o+(r>>9)+32);o=(511&r)<<6;break;case 9:n+=a(o+(r>>10)+32);o=(1023&r)<<5;break;case 10:n+=a(o+(r>>11)+32);o=(2047&r)<<4;break;case 11:n+=a(o+(r>>12)+32);o=(4095&r)<<3;break;case 12:n+=a(o+(r>>13)+32);o=(8191&r)<<2;break;case 13:n+=a(o+(r>>14)+32);o=(16383&r)<<1;break;case 14:n+=a(o+(r>>15)+32,32+(32767&r));s=0;break}}return n+a(o+32)},decompressFromUTF16:function(e){if(null==e)return"";var n="",i,r,o=0,s=0,a=t._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(o++){case 0:i=r<<1;break;case 1:n+=a(i|r>>14);i=(16383&r)<<2;break;case 2:n+=a(i|r>>13);i=(8191&r)<<3;break;case 3:n+=a(i|r>>12);i=(4095&r)<<4;break;case 4:n+=a(i|r>>11);i=(2047&r)<<5;break;case 5:n+=a(i|r>>10);i=(1023&r)<<6;break;case 6:n+=a(i|r>>9);i=(511&r)<<7;break;case 7:n+=a(i|r>>8);i=(255&r)<<8;break;case 8:n+=a(i|r>>7);i=(127&r)<<9;break;case 9:n+=a(i|r>>6);i=(63&r)<<10;break;case 10:n+=a(i|r>>5);i=(31&r)<<11;break;case 11:n+=a(i|r>>4);i=(15&r)<<12;break;case 12:n+=a(i|r>>3);i=(7&r)<<13;break;case 13:n+=a(i|r>>2);i=(3&r)<<14;break;case 14:n+=a(i|r>>1);i=(1&r)<<15;break;case 15:n+=a(i|r);o=0;break}s++}return t.decompress(n)},compress:function(e){if(null==e)return"";var n,i,r={},o={},s="",a="",l="",c=2,u=3,d=2,p="",f=0,h=0,v,g=t._f;for(v=0;v<e.length;v+=1){s=e.charAt(v);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=u++;o[s]=true}a=l+s;if(Object.prototype.hasOwnProperty.call(r,a))l=a;else{if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++){f<<=1;if(15==h){h=0;p+=g(f);f=0}else h++}i=l.charCodeAt(0);for(n=0;n<8;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}}else{i=1;for(n=0;n<d;n++){f=f<<1|i;if(15==h){h=0;p+=g(f);f=0}else h++;i=0}i=l.charCodeAt(0);for(n=0;n<16;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}delete o[l]}else{i=r[l];for(n=0;n<d;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}r[a]=u++;l=String(s)}}if(""!==l){if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<d;n++){f<<=1;if(15==h){h=0;p+=g(f);f=0}else h++}i=l.charCodeAt(0);for(n=0;n<8;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}}else{i=1;for(n=0;n<d;n++){f=f<<1|i;if(15==h){h=0;p+=g(f);f=0}else h++;i=0}i=l.charCodeAt(0);for(n=0;n<16;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}delete o[l]}else{i=r[l];for(n=0;n<d;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}}c--;if(0==c){c=Math.pow(2,d);d++}}i=2;for(n=0;n<d;n++){f=f<<1|1&i;if(15==h){h=0;p+=g(f);f=0}else h++;i>>=1}while(true){f<<=1;if(15==h){p+=g(f);break}h++}return p},decompress:function(e){if(null==e)return"";if(""==e)return null;var n=[],i,r=4,o=4,s=3,a="",l="",c,u,d,p,f,h,v,g=t._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(c=0;c<3;c+=1)n[c]=c;d=0;f=Math.pow(2,2);h=1;while(h!=f){p=m.val&m.position;m.position>>=1;if(0==m.position){m.position=32768;m.val=m.string.charCodeAt(m.index++)}d|=(p>0?1:0)*h;h<<=1}switch(i=d){case 0:d=0;f=Math.pow(2,8);h=1;while(h!=f){p=m.val&m.position;m.position>>=1;if(0==m.position){m.position=32768;m.val=m.string.charCodeAt(m.index++)}d|=(p>0?1:0)*h;h<<=1}v=g(d);break;case 1:d=0;f=Math.pow(2,16);h=1;while(h!=f){p=m.val&m.position;m.position>>=1;if(0==m.position){m.position=32768;m.val=m.string.charCodeAt(m.index++)}d|=(p>0?1:0)*h;h<<=1}v=g(d);break;case 2:return""}n[3]=v;u=l=v;while(true){if(m.index>m.string.length)return"";d=0;f=Math.pow(2,s);h=1;while(h!=f){p=m.val&m.position;m.position>>=1;if(0==m.position){m.position=32768;m.val=m.string.charCodeAt(m.index++)}d|=(p>0?1:0)*h;h<<=1}switch(v=d){case 0:d=0;f=Math.pow(2,8);h=1;while(h!=f){p=m.val&m.position;m.position>>=1;if(0==m.position){m.position=32768;m.val=m.string.charCodeAt(m.index++)}d|=(p>0?1:0)*h;h<<=1}n[o++]=g(d);v=o-1;r--;break;case 1:d=0;f=Math.pow(2,16);h=1;while(h!=f){p=m.val&m.position;m.position>>=1;if(0==m.position){m.position=32768;m.val=m.string.charCodeAt(m.index++)}d|=(p>0?1:0)*h;h<<=1}n[o++]=g(d);v=o-1;r--;break;case 2:return l}if(0==r){r=Math.pow(2,s);s++}if(n[v])a=n[v];else{if(v!==o)return null;a=u+u.charAt(0)}l+=a;n[o++]=u+a.charAt(0);r--;u=a;if(0==r){r=Math.pow(2,s);s++}}}};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47),n(567),n(58),n(60),n(78),n(114)],r=function(t,e,n,i,r){function o(t,e){if(""===e)return t;return t.filter(function(t){if("undefined"===typeof t)return false;return r.string(t.label.toLowerCase()).indexOf(r.string(e.toLowerCase()))>-1})}var s={template:e,scope:{alignTo:"=",close:"=",qvaOutsideIgnoreFor:"=",position:"="},controller:["$scope",function(e){var r=t.extend([],e.items);e.autoFocus=i.treatAsDesktop();e.search={term:""};e.onEscape=function(){e.search.term="";e.closePopover(e.context)};e.clearSearchTerm=function(){e.search.term=""};e.$watch("search.term",function(t){e.items=o(r,t);e.showClearIcon=""!==t});n.on("start",e.closePopover);e.$on("$destroy",function(){n.off("start",e.closePopover)})}]};return s}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-popover \n    class="popover-wrapper" \n    style="min-width: 200px;width: 230px;" \n    align-to="alignTo" \n    position="position" \n    collision="\'flipfit\'" \n    on-close-view="closePopover(event)">\n    <object-add-typeahead>\n        <lui-popover-header>\n            <div class="lui-search">\n                <span class="lui-icon  lui-icon--search  lui-search__search-icon"></span>\n                <input class="lui-search__input" maxlength="255" spellcheck="false" type="text" name="new-test" placeholder="{{ \'ExpressionEditor.SearchPopupPlaceholder\' | translate}}" autocomplete="off"\n                    ng-model="search.term" on-escape="onEscape($event)" qva-focus="autoFocus" object-add-typeahead-input/>\n                <button class="lui-search__clear-button" ng-click="clearSearchTerm()">\n                    <span ng-if="showClearIcon" class="lui-icon  lui-icon--small  lui-icon--close"></span>\n                </button>\n            </div>        \n        </lui-popover-header>\n        <div class="content" object-add-typeahead-menu>\n            <ul class="lui-list">\n                <li class="lui-list__item lui-list__action"                    \n                    ng-repeat="item in items" tid="item"\n                    object-add-typeahead-item="item"\n                    on-select="setSelectedItem(item, context, ctrl, closePopover)">\n                    <span qve-highlight text="{{item.label}}" title="{{item.label}}" query="search.term" class="lui-list__text lui-list__text--ellipsis"></span>\n                </li>\n            </ul>\n        </div>\n    </object-add-typeahead>\n</lui-popover>'},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45)],r=function(t,e){function n(n){return n?e.resolve(n.enigmaModel):t.getApp()}var i={};i.getCurrentSelections=function(t,e){return n(t).then(function(t){return t.engineApp.getSetAnalysis(e).catch(function(t){t.isHandled=true})})};i.getSelectionsFromBookmarkId=function(t,e,i){return n(t).then(function(t){return t.engineApp.getSetAnalysis(i,e).catch(function(t){t.isHandled=true})})};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(49),n(227),n(570),n(571),n(572),n(229),n(578),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(588),n(589),n(590),n(591),n(592)],r=function(){}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(228),n(49)],r=function(t,e){var n=t.REGEXP_WORD;e.defineMode("qlikviewscript",function(t,e){var i=/[+\-*&=<>]/,r=/[\u0022\u0027\u0060\u00b4[]/;function o(t,e,n){e.tokenize=n;return n(t,e)}function s(t,e){var n;while(null!=(n=t.next()))if(n==e)return false;return false}var a,l;function c(t,e,n){a=t;l=n;return e}function u(t,s){if(t.eatSpace()){a="whitespace";return null}a="any";var l=t.next();if(r.test(l))return o(t,s,p("["===l?"]":l));if(/[\[\]{}\(\),;\:]/.test(l))return c(l);if("0"==l&&t.eat(/x/i)){t.eatWhile(/[\da-f]/i);return c("number","number")}if(/[\.\d]/.test(l)){t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);if(!t.eol()){l=t.peek();if(/[A-z]/.test(l))return"normaltext"}return"number"}if("/"===l){if(t.eat("*"))return o(t,s,f);if(t.eat("/")){t.skipToEnd();return"comment"}t.eatWhile(i);return"operator"}if(i.test(l)){t.eatWhile(i);return c(l,"operator")}if("$"===l&&t.match(/^\(=/,false,true))return c("$");if("$"===l&&t.match(/^\((MUST_INCLUDE|INCLUDE)=/i,false,true))return c("$");if("$"===l&&t.match(/^\(/,false,true)){s.tokenize=v;return c("$(")}t.eatWhile(n);var u=t.current();var d=u.toLowerCase();if("rem"===d)return o(t,s,h);if(e.service.isFunction(d)&&t.match(/(^\s*\()/,false,true))return c("function","keyword",d);if(e.service.isField(u))return c("field","field");if(e.service.isVariable(u))return c("variable","variable");if(e.service.isKeyword(d))return c("keyword","keyword");return"normaltext"}function d(t){return t.substr(1,t.length-2)}function p(t){return function(n,i){if(!s(n,t)){i.tokenize=u;if("'"!==t){var r=d(n.current(),t);if(e.service.isField(r))return c("field","field");if(e.service.isVariable(r))return c("variable","variable")}}return c("string","string")}}function f(t,e){var n=false,i;while(i=t.next()){if("/"==i&&n){e.tokenize=u;break}n="*"==i}return c("comment","comment")}function h(t,e){var n;while(n=t.next())if(";"==n){e.tokenize=u;break}return c("comment","comment")}function v(t,n){a="any";var i=t.next();")"==i&&(n.tokenize=u);if(/[\(\),]/.test(i))return c(i);t.eatWhile(/[^(),]/);var r=t.current();if(!/^\d/.test(r)&&e.service.isVariable(r))return c("variable","variable");return"normaltext"}function g(t,e,n,i){this.type=t;this.prev=e;this.info=n;this.pos=i}function m(t,e,n,i,r){var o=t.cc;b.state=t;b.stream=r;b.marked=null;b.cc=o;while(true){var s=o.length?o.pop():S;if(s(n,i)){while(o.length&&o[o.length-1].lex)o.pop()();if(b.marked)return b.marked;return e}}}var b={state:null,column:null,marked:null,cc:null};function y(){for(var t=arguments.length-1;t>=0;t--)b.cc.push(arguments[t])}function x(){y.apply(null,arguments);return true}function w(t,e){var n=function n(){var i=b.state;i.lexical=new g(t,i.lexical,e,b.stream.pos)};n.lex=true;return n}function q(){var t=b.state;t.lexical.prev&&(t.lexical=t.lexical.prev)}q.lex=true;function _(t){return function e(n){return n==t?x():";"==t?y():x(e)}}function C(t,e){return function n(i){return i==e?x():y(t,n)}}function S(t){if("function"==t)return x(w("qvfunction",l),_("("),C(S,")"),q);if("("===t)return x(C(S,")"));if("$("===t)return x(_("("),C(S,")"));return x()}return{startState:function t(){return{tokenize:u,lastType:null,cc:[],lexical:new g("block")}},token:function t(e,n){var i=n.tokenize(e,n);if("comment"==a)return i;n.lastType=a;return m(n,i,a,l,e)},lineComment:"//"}});return{REGEXP_WORD:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(65)],r=function(t,e){t.directive("qvCodeareaFunctionTip",function(){return{restrict:"A",require:"qvCodearea",link:function n(i,r,o,s){var a;var l;var c=22;var u=i.$watch(o.qvCodeareaFunctionTip,function(n){function r(){var t=s.codemirror.getCursor();var e=s.codemirror.getTokenAt(t,true);if("comment"!==e.type){var n=0,i=e.state.lexical;while(i&&"qvfunction"!==i.type||0===n&&i.info&&e.string.toLowerCase()===i.info.toLowerCase()){i=i.prev;n++}return i}return}function o(t,e){var n=s.codemirror.getCursor();var i={line:n.line,ch:n.ch};var r,o;while(i.line>=0){r=s.codemirror.getLine(i.line).toLowerCase();o=r.substring(t.pos-e.length,t.pos);if(o===e){i.ch=t.pos-e.length;break}i.line-=1}var a=s.codemirror.charCoords(i);a.top-=s.codemirror.defaultTextHeight()+c;return a}function d(){var i=r();var s=i?i.info:void 0;var l=s?n.service.getFunctionTip(s):void 0;t.$apply(t.$rootScope,function(){p();if(l){var t=o(i,s);g();a=e.show(n.view,{content:l,offset:t})}})}function p(){m();if(a){a.destroy();a=void 0}}function f(){clearTimeout(l);l=setTimeout(d,250)}function h(){p()}var v={Esc:function t(){i.$apply(function(){p()})}};function g(){s.codemirror.addKeyMap(v)}function m(){s.codemirror.removeKeyMap(v)}if(n){s.codemirror.on("blur",h);s.codemirror.on("cursorActivity",f);i.$on("$destroy",function(){s.codemirror.off("blur",h);s.codemirror.off("cursorActivity",f);p()});u()}},true)}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(65),n(573),n(58),n(228)],r=function(t,e,n,i,r,o){var s=100;var a=o.REGEXP_WORD_SEPARATOR;function l(t){var e=t.getTokenAt(t.getCursor()).type;return"keyword"===e||"field"===e||"variable"===e}function c(t,e,n){if(t.somethingSelected()||l(t)&&!n||e.disabled)return null;var i=e.getHints(t);var r=i.list;if(0===r.length)return null;r.length>s&&(r=r.slice(0,s));var o=t.cursorCoords(false!==e.alignWithWord?i.from:null);return{from:i.from,to:i.to,hints:r,selectedHint:n?n.selectedHint:0,cursorPos:o}}function u(t,n){this.dialogHandle=null;this.dialogOptions={};this.state=null;this.options=n;this.cm=t;this.currentOptions=null;this.once=null;this.closingOnBlur=null;this.bound={cursorActivity:this.cursorActivity.bind(this),pick:this.pick.bind(this),close:this.close.bind(this),onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),choose:this.choose.bind(this),showHint:this.showHint.bind(this)};function i(){return 8}var r=this;this.ourMap={Up:function t(){r.changeActive(r.state.selectedHint-1);e.$rootScope.$apply()},Down:function t(){r.changeActive(r.state.selectedHint+1);e.$rootScope.$apply()},PageUp:function t(){r.changeActive(r.state.selectedHint-i());e.$rootScope.$apply()},PageDown:function t(){r.changeActive(r.state.selectedHint+i());e.$rootScope.$apply()},Home:function t(){r.changeActive(0);e.$rootScope.$apply()},End:function t(){r.changeActive(r.state.hints.length-1);e.$rootScope.$apply()},Enter:this.bound.pick,Tab:this.bound.pick,Esc:this.bound.close}}u.prototype.cursorActivity=function(){var t=e.getService("$timeout");t.cancel(this.once);this.once=null;var n=this.cm.getCursor();n.line!==this.startLine||this.cm.somethingSelected()?this.close():this.once=t(this.bound.showHint,70)};u.prototype.choose=function(t){this.changeActive(t);this.pick()};u.prototype.pick=function(){this.cm.replaceRange(this.state.hints[this.state.selectedHint].value,this.state.from,this.state.to);this.cm.focus();this.close();e.$apply(e.$rootScope)};u.prototype.onBlur=function(){var t=e.getService("$timeout");this.closingOnBlur=t(this.bound.close,300)};u.prototype.onFocus=function(){var t=e.getService("$timeout");t.cancel(this.closingOnBlur);this.closingOnBlur=null};u.prototype.changeActive=function(t){if(!this.state)return;t=Math.max(0,Math.min(t,this.state.hints.length-1));if(this.state.selectedHint===t)return;this.state.selectedHint=t};u.prototype.close=function(){var t=e.getService("$timeout");t.cancel(this.once);t.cancel(this.startTimeout);if(!this.dialogHandle)return;this.dialogHandle.destroy();this.dialogHandle=null;this.cm.removeKeyMap(this.ourMap);this.cm.off("cursorActivity",this.bound.cursorActivity);this.cm.off("blur",this.bound.onBlur);this.cm.off("focus",this.bound.onFocus);this.cm.off("scroll",this.bound.close);this.state=null;e.$apply(e.$rootScope)};u.prototype.open=function(){this.dialogHandle=n.show(this.options.view,this.dialogOptions);this.startLine=this.cm.getCursor().line;this.cm.addKeyMap(this.ourMap);this.cm.on("cursorActivity",this.bound.cursorActivity);this.cm.on("blur",this.bound.onBlur);this.cm.on("focus",this.bound.onFocus);this.cm.on("scroll",this.bound.close)};u.prototype.showHint=function(){var t=this.state;this.state=c(this.cm,this.options,t);if(!this.state){t&&this.close();return}this.state.choose=this.bound.choose;this.dialogOptions.state=this.state;t||this.open()};u.prototype.start=function(){var t=e.getService("$timeout");if(this.state)return;this.startTimeout&&t.cancel(this.startTimeout);this.startTimeout=t(this.bound.showHint,500)};var d={keyword:{translation:"Common.Keyword",allowQuote:false},variable:{translation:"Common.Variable",allowQuote:true},field:{translation:"Common.Field",allowQuote:true},function:{translation:"Common.Function",allowQuote:false}};function p(t){return"["+t.replace(/\]/g,"]]")+"]"}function f(t,e){var n={};var i=[];var r=t.toLowerCase();var o="["===t[0];function s(t){"string"===typeof t&&(t={text:t});var e=t.text;if(o){if(!d[t.type]||!d[t.type].allowQuote)return;e=p(e)}if(!e||0!==e.toLowerCase().indexOf(r))return;if(!n[e]){n[e]={text:t.text,types:[],value:t.value||e};i.push(n[e])}d[t.type]&&n[e].types.push({id:t.type,key:d[t.type].translation})}function l(t,e){var n=t.text.toLowerCase();var i=e.text.toLowerCase();return n===i?0:n>i?1:-1}if(!o&&a.test(t)||/^\d+$/.test(t))return[];if(""!==t){e.forEach(s);i.sort(l)}1===i.length&&t===i[0].value&&(i=[]);return i}function h(t,e){var n=t.getCursor();var i=t.getTokenAt(n);var r=f(i.string,e);return{list:r,from:{line:n.line,ch:i.start},to:{line:n.line,ch:i.end}}}e.directive("qvCodeareaAutocomplete",function(){return{restrict:"A",require:"qvCodearea",link:function e(n,o,s,a){var l=[37,38,39,40,33,34,27];var c=n.$watch(s.qvCodeareaAutocomplete,function(e){function o(t){return h(t,e.service.getAutocompleteList())}function s(){p.start()}function d(e,n){-1===t.inArray(n.which,l)&&s()}if(e){e.view||(e.view=i);e.getHints||(e.getHints=o);var p=new u(a.codemirror,e);var f=p.close.bind(p);a.codemirror.on("focus",s);a.codemirror.on("keyup",d);r.on("end",f);n.$on("$destroy",function(){a.codemirror.off("focus",s);a.codemirror.off("keyup",d);r.off("end",f);p.close()});c()}},true)}}});return{getCompletions:f}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(574),n(44)],r=function(t,e){function n(t,e,n){var i=n.bottom+t.height<=e.height;var r=i?n.bottom:n.top-t.height;var o=Math.max(0,n.left+t.width-e.width);var s=n.left-o;return{top:r,left:s}}function i(t,e){t.$$postDigest(function(){t.$$postDigest(e)})}return{scope:{state:"="},template:t,controller:["$scope","$element",function(t,r){var o=r.find(".qv-autocomplete-container");var s=e(window);function a(){var e={width:s.width(),height:s.height()};var i=o[0].getBoundingClientRect();var r=t.state.cursorPos;var a=n(i,e,r);o.css({left:a.left,top:a.top})}t.$watch("state.hints.length",function(){i(t,a)})}]}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qv-autocomplete-container">\n\t<ul class="codearea-autocomplete-hints">\n\t\t<li ng-repeat="item in state.hints track by item.text"\n\t\t\tqva-scroll-into-view="{ scroll: state.selectedHint == $index, scrollSelector: \'.codearea-autocomplete-hints\' }"\n\t\t\tclass="codearea-autocomplete-hint"\n\t\t\tng-class="{ \'codearea-autocomplete-hint-active\': state.selectedHint == $index }"\n\t\t\tng-mouseover="state.selectedHint = $index;"\n\t\t\tqva-activate="state.choose( $index )">\n\n\t\t\t<div class="codearea-autocomplete-hint-text">{{item.text}}</div>\n\t\t\t<div ng-repeat="type in item.types track by $index"\n\t\t\t\t class="codearea-autocomplete-hint-type {{type.id}}"\n\t\t\t\t q-translation="{{type.key}}"></div>\n\t\t</li>\n\t</ul>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(49)],r=function(t){var e=t.Pos;function n(t,n,i,r){this.atOccurrence=false;this.cm=t;r||"string"!=typeof n||(r=false);i=i?t.clipPos(i):e(0,0);this.pos={from:i,to:i};n||(n="");if("string"!=typeof n){n.global||(n=new RegExp(n.source,n.ignoreCase?"ig":"g"));this.matches=function(i,r){var o,s,a;if(i){n.lastIndex=0;o=t.getLine(r.line).slice(0,r.ch);s=n.exec(o);a=0;while(s){a+=s.index+1;o=o.slice(a);n.lastIndex=0;var l=n.exec(o);if(!l)break;s=l}a--}else{n.lastIndex=r.ch;o=t.getLine(r.line);s=n.exec(o);a=s&&s.index}if(s&&s[0])return{from:e(r.line,a),to:e(r.line,a+s[0].length),match:s}}}else{r||(n=n.toLowerCase());var o=r?function(t){return t}:function(t){return t.toLowerCase()};var s=n.split("\n");1==s.length?n.length?this.matches=function(i,r){var s=o(t.getLine(r.line)),a=n.length,l;if(i?r.ch>=a&&-1!=(l=s.lastIndexOf(n,r.ch-a)):-1!=(l=s.indexOf(n,r.ch)))return{from:e(r.line,l),to:e(r.line,l+a)}}:this.matches=function(){}:this.matches=function(n,i){var r=i.line,a=n?s.length-1:0,l=s[a],c=o(t.getLine(r));var u=n?c.indexOf(l)+l.length:c.lastIndexOf(l);if(n?u>=i.ch||u!=l.length:u<=i.ch||u!=c.length-l.length)return;for(;;){if(n?!r:r==t.lineCount()-1)return;c=o(t.getLine(r+=n?-1:1));l=s[n?--a:++a];if(a>0&&a<s.length-1){if(c!=l)return;continue}var d=n?c.lastIndexOf(l):c.indexOf(l)+l.length;if(n?d!=c.length-l.length:d!=l.length)return;var p=e(i.line,u),f=e(r,d);return{from:n?f:p,to:n?p:f}}}}}n.prototype={findNext:function t(){return this.find(false)},findPrevious:function t(){return this.find(true)},find:function t(n){var i=this,r=this.cm.clipPos(n?this.pos.from:this.pos.to);function o(t){var n=e(t,0);i.pos={from:n,to:n};i.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(n,r)){this.pos.from&&this.pos.to||window.console.log(this.matches,this.pos);this.atOccurrence=true;return this.pos.match||true}if(n){if(!r.line)return o(0);r=e(r.line-1,this.cm.getLine(r.line-1).length)}else{var s=this.cm.lineCount();if(r.line==s-1)return o(s);r=e(r.line+1,0)}}},from:function t(){if(this.atOccurrence)return this.pos.from},to:function t(){if(this.atOccurrence)return this.pos.to},replace:function n(i){if(!this.atOccurrence)return;var r=t.splitLines(i);this.cm.replaceRange(r,this.pos.from,this.pos.to);this.pos.to=e(this.pos.from.line+r.length-1,r[r.length-1].length+(1==r.length?this.pos.from.ch:0))}};function i(t,e,i,r){return new n(t,e,i,r)}return{getSearchCursor:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(577)],r=function(t){var e=2e3;function n(n,i,r){var o=t.occurrencesRE(n,i,r);var s=o>=e?e:o;return s}return{MAX_NBR_OF_HITS:e,getMaxNumberOfHits:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44)],r=function(){var t=1;var e=256;var n=166/26;var i=12;var r=11;var o=12;var s=o/r;function a(n){var i=/^[^\\/:*?\"<>|\x00-\x1f]+$/;return"undefined"!==typeof n&&!d(n,"_")&&!d(n,"$$")&&i.test(n)&&n.length>=t&&n.length<=e}function l(t){return!/[\\\*\?"\(\)<>\|' &\$£¤\^\/+\-]+/.test(t)}function c(t){return/^(ftp|http|https):\/\/[^ "]+$/.test(t.toLowerCase())}function u(t){if(/^.*:\/\//.test(t))return t;return"http://"+t}function d(t,e){return 0===t.indexOf(e)}function p(t,e){return-1!==t.indexOf(e,t.length-e.length)}function f(t,e){e||(e="");return t.length>0?t.reduce(function(t,n){return t+e+n}):""}function h(t){var e=t.replace(/.*\[|\]/gi,""),n=e.match(/"[^=]*"|[^;]+/g);return n}function v(t,e){var n=h(t),i;if(n)for(i=0;i<n.length;i++)if(-1!==n[i].toLowerCase().indexOf(e.toLowerCase()))return n[i].split("=")[1];return""}function g(t,e){function n(){return(t+"\\"+e).replace("\\\\","\\")}function i(){if("\\\\"===t.substring(0,2))return"\\"+n()}return i()||n()}function m(t){var e=h(t),n=[],i;e&&e.forEach(function(t){i=t.split("=");i&&n.push({key:i[0],value:i.length>1?i[1]:""})});return n}function b(t){"\\"===t.charAt(0)&&(t=t.substring(1));"\\"===t.charAt(t.length-1)&&(t=t.slice(0,-1));return t}function y(t){"\\"!==t.charAt(t.length-1)&&(t+="\\");return t}function x(t){var e;if("\\\\"===t.substring(0,2)){e=b(t.substring(2)).split("\\");e.pop();return"\\\\"+f(e,"\\")}e=b(t).split("\\");e.pop();return 1===e.length?e[0]+"\\":f(e,"\\")}function w(t){return t.replace(/[0-9]+/g,function(t){var e=t.length,n=""+e,i="000",r=i.substring(0,i.length-n.length)+n;return r+""+t})}function q(t,e,n){t.sort(function(t,i){return _(t[e],i[e],n)})}function _(t,e,n){var i=w(t).toLowerCase(),r=w(e).toLowerCase();return i.localeCompare(r,n)}function C(t,e){if(!t)throw new Error("Haystack is undefined.");if(!e)throw new Error("Needle is undefined.");return-1!==t.indexOf(e)}function S(t,e,n){t+="";e+="";if(!e)return 0;var i=e.match(/^\/(.*)\/([a-z]*)$/);if(!i){if(!n){t=t.toLowerCase();e=e.toLowerCase()}var r=0,o=0;var s=e.length;var a=false;while(!a){o=t.indexOf(e,o);if(o>=0){r++;o+=s}else a=true}return r}try{var l=new RegExp(i[1],-1===i[2].indexOf("i")?"":"i");return t.split(l).length-1}catch(t){return 0}}function D(t){return t.substring(t.lastIndexOf("\\")+1,t.length)}function E(t){return t.substring(0,t.lastIndexOf("\\")+1)}function k(t){var e=t.match(/.*\\(.*)\\.*$/);e||(e=t.match(/^(.*)\\.*$/));return e?e[1]:null}function T(t){return!(!t||"false"===t)}function A(t){var e=3;return(Math.min(t,e)*i+Math.max(t-e,0)*n)/r}function I(t){if(!t)return{latin:0,cjk:0};var e=t.match(/[\u4E00-\u9FFF]/g);var n=t.match(/[\u3040-\u309F]/g);var i=t.match(/[\u30A0-\u30FF]/g);e=e?e.length:0;n=n?n.length:0;i=i?i.length:0;var r=e+n+i;return{latin:t.length-r,cjk:r}}function O(t,e){var n={latin:0,cjk:0};void 0===e?t.forEach(function(t){var e=I(t.qText);n.latin+=e.latin;n.cjk+=e.cjk}):t.forEach(function(t){var i=I(t[e].qText);n.latin+=i.latin;n.cjk+=i.cjk});var i=Math.max(1,n.latin+n.cjk);n.latinRatio=n.latin/i;n.cjkRatio=n.cjk/i;return n}function L(t,e,n){var i=O(e,n);var r=i.latinRatio*t;var o=i.cjkRatio*t;var a=Math.ceil(A(r)+o*s);return a}function P(t,e,n){var i=t<=24?e:n;return t*i}function M(t,e,n,i,r){return t*n+P(e,i,r)}return{MIN_CONNECTION_NAME_LENGTH:t,MAX_CONNECTION_NAME_LENGTH:e,isValidConnectionName:a,isValidFieldName:l,isValidUrl:c,prefixHttpToUrl:u,endsWith:p,startsWith:d,goUpOneFolderLevel:x,removeSurroundingSlashes:b,arrayToString:f,formatDirectoryPathForEngine:y,sortSlightlyMoreNaturallyArray:q,sortSlightlyMoreNaturallySingle:_,_expandNumbersForNaturalSorting:w,getValueFromConnectionString:v,tokenizeConnectionString:m,contains:C,occurrencesRE:S,combinePath:g,fileNameFromPath:D,fileDirectoryFromPath:E,lastFolderFromPath:k,bool:T,stringWidthOverMWidth:A,getCharacterRatios:I,getTotalCharacterRatios:O,getAdjustedMaxGlyphCount:L,estimateLatinLabelWidth:P,estimateLabelWidth:M}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(49),n(579)],r=function(t,e){var n="\r\n";t.directive("qvCodeareaExposedContextApi",["$parse","$timeout",function(t,i){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function e(n,i,r,o){var s=o[0];var a=o[1];a._connectCodeArea(s);var l=t(r.qvCodeareaExposedContextApi);l.assign(n,a);n.$on("$destroy",function(){l.assign(n,void 0);a._connectCodeArea(void 0)})},controller:function t(){var r;function o(t){r=t}function s(){var t=r.codemirror.getTokenAt(r.codemirror.getCursor());var e=0,n=t.state.lexical;while(n&&"qvfunction"!==n.type||0===e&&n.info&&t.string.toLowerCase()===n.info.toLowerCase()){n=n.prev;e++}return!!n&&n.info}function a(){r.focus()}function l(){r.codemirror.undo()}function c(){r.codemirror.redo()}function u(){e.commands.toggleComment(r.codemirror);a()}function d(){r.codemirror.indentSelection("add");a()}function p(){r.codemirror.indentSelection("subtract");a()}function f(){return r.codemirror.options.readOnly}function h(t){var e=r.codemirror.getDoc().getSelection();var n=t(e);r.codemirror.replaceSelection(n)}function v(t){r.codemirror.setCursor(r.codemirror.getCursor("end"));var e=r.codemirror.getCursor().line,i=r.codemirror.getCursor().ch,o=r.codemirror.getLine(e).length;if(o>0)if(i===o){r.codemirror.setCursor(e,o);r.codemirror.replaceSelection(n)}else{r.codemirror.setCursor(r.codemirror.lineCount(),0);t=n+n+t}r.codemirror.setCursor(r.codemirror.getCursor("end"));r.codemirror.replaceSelection(t);r.focus()}function g(t){r.codemirror.replaceSelection(t,"end");r.focus()}function m(t){i(function(){var e=r.codemirror.lineCount();t<e?r.codemirror.setCursor(t-1,0):r.codemirror.setCursor(e-2,0);r.focus()})}function b(t){return r.codemirror.getCursor(t)}function y(t,e,n){r.codemirror.setCursor(t,e,n)}function x(){return r.codemirror.lineCount()}var w={applyToSelection:h,focus:a,undo:l,redo:c,comment:u,indent:d,outdent:p,insertCode:v,replaceSelection:g,getFunctionNameUnderCursor:s,gotoLine:m,isReadOnly:f,getCursor:b,setCursor:y,lineCount:x,_connectCodeArea:o,codemirror:void 0};Object.defineProperty(w,"canUndo",{get:function t(){return r&&r.codemirror&&r.codemirror.historySize().undo>0},enumerable:true});Object.defineProperty(w,"canRedo",{get:function t(){return r&&r.codemirror&&r.codemirror.historySize().redo>0},enumerable:true});return w}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},,function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41)],r=function(t,e){function n(t,e){var n=t.length;var i=e.length;var r;var o=Math.min(t.length,e.length);for(r=0;r<o;r++)if(t.charAt(r)!==e.charAt(r))break;if(r===t.length&&r===e.length)return;var s=r;var a;var l;for(r=0;r<o;r++){a=n-r-1;l=i-r-1;if(a<s||l<s)break;if(t.charAt(n-r-1)!==e.charAt(i-r-1))break}var c=n-r-1;var u=i-r-1;return{start:s,targetRange:{from:s,to:c+1},sourceRange:{from:s,to:u+1}}}e.directive("qvCodeareaExposedTouchApi",["$parse","$timeout",function(e,i){return{require:["qvCodearea","qvCodeareaExposedTouchApi"],link:function t(n,r,o,s){var a=s[0];var l=s[1];l._connectCodeArea(a);var c=e(o.qvCodeareaExposedTouchApi);c.assign(n,l);n.$on("$destroy",function(){c.assign(n,void 0);i(function(){l._connectCodeArea(void 0)})})},controller:["$scope",function(e){var r,o;function s(t){r=t}function a(t,e){r.codemirror.scrollTo(e,t)}function l(t){r.setCustomFocusFn(t)}function c(n){function i(){var e=t(r.codemirror.getScrollerElement());n(e.scrollTop(),e.scrollLeft())}r.codemirror.on("scroll",i);e.$on("$destroy",function(){r.codemirror.off("scroll",i);n=void 0})}function u(t){function n(){var e={anchor:r.codemirror.indexFromPos(r.codemirror.getCursor("anchor")),head:r.codemirror.indexFromPos(r.codemirror.getCursor("head"))};t(r.codemirror.getValue(),e)}function i(){o||n()}n();r.codemirror.on("change",i);e.$on("$destroy",function(){r.codemirror.off("change",i);t=void 0})}function d(n){e.$watch(function(){return String(r.codemirror.lineCount()).length},function(){i(function(){var e=t(r.codemirror.getGutterElement()).outerWidth();var i={top:0,left:e,bottom:0,right:0};n(i)})});e.$on("$destroy",function(){n=void 0})}function p(t,e,n){r&&r.codemirror.setSelection(t,e,n)}function f(t,e){var i=r.codemirror.getValue("\n");var s=n(i,e);if(s){var a=e.substring(s.sourceRange.from,s.sourceRange.to);var l=r.codemirror.posFromIndex(s.targetRange.from);var c=r.codemirror.posFromIndex(s.targetRange.to);o=true;r.codemirror.replaceRange(a,l,c);o=false}}function h(){r.cssClasses["qv-codearea-disable-selection"]=true}function v(){r.cssClasses["qv-codearea-disable-selection"]=false}var g={_connectCodeArea:s,scrollTo:a,onScroll:c,setOverlayFocuser:l,replicateSelection:p,replicateContent:f,onNewContent:u,onResize:d,disableSelections:h,restoreSelections:v};return g}]}}]);return{diff:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(229)],r=function(t,e){t.directive("qvCodeareaExposedSearchApi",["$parse",function(t){return{require:"qvCodearea",link:function n(i,r,o,s){var a=t(o.qvCodeareaExposedSearchApi);a.assign(i,e.createSingleCodeareaSearcher(s.codemirror));i.$on("$destroy",function(){a.assign(i,void 0)})},controller:function t(){}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.directive("qvCodeareaAccelerators",function(){return{require:["qvCodearea","qvCodeareaExposedContextApi"],link:function e(n,i,r,o){var s=o[0];var a=o[1];var l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};function c(t,e){return t.keyCode===e.keyCode&&t.ctrlKey===(e.ctrlKey||false)&&t.shiftKey===(e.shiftKey||false)}function u(e,i){var o=n.$eval(r.qvCodeareaAccelerators);for(var s in o){var u=o[s];if(c(i,u)&&(!u.previous||c(l,u.previous))){t.$apply(t.$rootScope,function(){u.fn(a)});l={keyCode:void 0,ctrlKey:void 0,shiftKey:void 0};i.preventDefault();return}}l={keyCode:i.keyCode,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey}}s.codemirror.on("keydown",u);n.$on("$destroy",function(){s.codemirror.off("keydown",u)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41)],r=function(t,e){function n(e){var n=t("<div class='qv-codearea-breakpoint-marker'><span class='lui-icon lui-icon--minus'></span></div>");n.data("breakpoint",e);return n[0]}function i(e,n){if(n.enabled){t(e).addClass("qv-codearea-breakpoint-marker-enabled");t(e).removeClass("qv-codearea-breakpoint-marker-disabled")}else{t(e).addClass("qv-codearea-breakpoint-marker-disabled");t(e).removeClass("qv-codearea-breakpoint-marker-enabled")}}e.directive("qvCodeareaBreakpoints",function(){return{require:"qvCodearea",link:function r(o,s,a,l){var c;function u(t){if(t){c=t;var e=l.codemirror.getDoc().lineCount();for(var r=0;r<e;r++){var o=r+1;var s=t[o];var a=l.codemirror.lineInfo(r).gutterMarkers;var u=a&&a["qv-codearea-breakpoint"];if(s){if(!u){u=n(s);l.codemirror.setGutterMarker(r,"qv-codearea-breakpoint",u)}i(u,s)}else u&&l.codemirror.setGutterMarker(r,"qv-codearea-breakpoint",null)}}}o.$watch(a.qvCodeareaBreakpoints,u);o.$watch(a.qvCodeareaBreakpoints,u,true);function d(t){var e=l.codemirror.getDoc().lineCount();for(var n=t.from.line;n<e;n++){var i=l.codemirror.lineInfo(n).gutterMarkers;if(i&&i["qv-codearea-breakpoint"])return true}return false}function p(t){return t.text.length!==t.removed.length}function f(n,i){!l.supressChangeEvent&&p(i)&&d(i)&&e.$apply(e.$rootScope,function(){var e=c;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=l.codemirror.getDoc().lineCount();for(var r=0;r<i;r++){var o=r+1;var s=l.codemirror.lineInfo(r).gutterMarkers;var a=s&&s["qv-codearea-breakpoint"];if(a){var u=t(a);var d=u.data("breakpoint");d.lineNbr=o;e[o]=d}}})}function h(t,e){l.disabled||o.$apply(function(){var t=e+1;var n=c[t];n?delete c[t]:c[t]={enabled:true,lineNbr:t}})}l.codemirror.on("change",f);l.codemirror.on("gutterClick",h);var v={F9:function t(){h(l.codemirror,l.codemirror.getCursor().line)}};l.codemirror.addKeyMap(v);o.$on("$destroy",function(){l.codemirror.off("change",f);l.codemirror.off("gutterClick",h);l.codemirror.removeKeyMap(v)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.directive("qvCodeareaDebugLocation",function(){return{require:"qvCodearea",link:function t(e,n,i,r){var o;e.$watch(i.qvCodeareaDebugLocation,function(t){if(t){var e=r.codemirror.lastLine()+1;var n=t.lineNbr;n>e&&(n=e);if(o){r.codemirror.removeLineClass(o,"background","qv-codearea-current-debug-line");r.codemirror.removeLineClass(o,"background","qv-codearea-current-debug-line-error")}if(n>0&&n<=e){r.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line");t.errorMessage&&r.codemirror.addLineClass(n-1,"background","qv-codearea-current-debug-line-error");r.codemirror.scrollIntoView({line:n-1,ch:0},200);o=r.codemirror.getLineHandle(n-1)}}},true)}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.directive("qvCodeareaErrors",function(){return{require:"qvCodearea",link:function t(e,n,i,r){var o=[];e.$watch(i.qvCodeareaErrors+".content",function(t){if(t){var e;for(e=0;e<o.length;e++)o[e].clear();for(e=0;e<t.length;e++){var n=t[e];var i={line:n.qLineInTab,ch:n.qColInLine},s={line:n.qLineInTab,ch:n.qColInLine+n.qErrLen},a=r.codemirror.markText(i,s,{className:"cm-servererror"});o.push(a)}}},true);e.$on("$destroy",function(){o=[]})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(587)],r=function(t,e){t.directive("qvCodeareaLimit",function(){return{require:"qvCodearea",link:function t(n,i,r,o){function s(t,i){var o=n.$eval(r.qvCodeareaLimit);o&&o>0&&e(t,i,o)}o.codemirror.on("beforeChange",s);n.$on("$destroy",function(){o.codemirror.off("beforeChange",s)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e,n){var i=e.text.join("\n");var r=t.getRange(e.from,e.to).length;var o=i.length;var s=o-r;var a=t.getValue().length;if(a>=n&&0===r)e.cancel();else if(a+s>n){o=Math.max(0,n-a+r);i=i.substr(0,o);e.update(null,null,i.split("\n"))}}return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(91),n(62)],r=function(t,e,n,i){var r,o,s;function a(t,e){var n=[],i,s,a;for(s=0;s<t.length;s++){i=t[s].split(" ");for(a=0;a<i.length;a++)if(i[a].toLowerCase()===e.toLowerCase()){if(!r){r=i.length>1;o=a>0}n.push(t[s])}}return n}function l(t,e,n){if(" "===n.string){var i=t.getTokenAt({ch:n.end+1,line:e.line});if(i.string.length>1)return i}return n}function c(t,e,n,i){var r=i?e.end-(e.string.length+1):e.end+2,o=t.getTokenAt({ch:r,line:n.line});return o}function u(t,e,n,i){var r={left:e.pageX,top:e.pageY};var o=t.coordsChar(r,"window");var s=t.getTokenAt(o);return p(t,s,n,i)}function d(t,e,n,i){var r=t.getTokenAt(t.getCursor());return p(t,r,n,i)}function p(t,e,u,d){r=false;o=false;u=u||"scriptsyntax";var p=n.path+u+".",f=[],h,v,g;if("keyword"!==e.type&&"function"!==e.type)return false;e=l(t,t.getCursor(),e);f=a(i.pluck(d.getAutocompleteList(),"text"),e.string);if(r){v=c(t,e,t.getCursor(),o);g=a(f,v.string);h=g.length>0&&v.string!==e.string?o?v.string+"_"+e.string:e.string+"_"+v.string:e.string}else h=e.string;p+=h;/firefox/.test(window.navigator.userAgent.toLocaleLowerCase())&&s&&s.close();s=window.open(p,"__qlikviewhelp");return true}t.directive("qvCodeareaHelpMode",["$parse",function(t){return{require:"qvCodearea",link:function n(i,r,o,s){var a;var l=i.$watch(o.qvCodeareaHelpModeOptions,function(n){l();function c(e){if(a){e.preventDefault();var r=u(s.codemirror,e,n.syntax,n.service);r&&i.$apply(function(){t(o.qvCodeareaHelpMode).assign(i,false)})}}function p(t,e){if((72===e.keyCode||104===e.keyCode)&&e.ctrlKey){e.preventDefault();d(s.codemirror,e,n.syntax,n.service)}}i.$watch(o.qvCodeareaHelpMode,function(t){a=t;s.cssClasses["qv-codearea-help-mode"]=t});e(r).on("click",c);s.codemirror.on("keydown",p);i.$on("$destroy",function(){e(r).off("click",c);s.codemirror.off("keydown",p)})})}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.directive("qvCodeareaTouchOverlay",function(){return{restrict:"E",replace:true,scope:{codeareaTouchApi:"=",enabled:"=",helpMode:"="},template:'<div class="qv-codearea-touch-overlay-container" ng-style="containerStyle"><textarea class="qv-codearea-touch-overlay" autocorrect="off" autocapitalize="off" autocomplete="off" spellcheck="false" wrap="off"></textarea></div>',link:function t(e,n){var i=n.find("textarea");var r=false;e.containerStyle={};function o(t){var n=/iPad|iPhone|iPod/.test(navigator.userAgent);n&&i.css("padding-left","1px");t.disableSelections();e.$on("$destroy",function(){t.restoreSelections()});t.onNewContent(function(t,e){i.val(t);if(i[0]!==document.activeElement)return;if(i[0].selectionStart!==e.anchor||i[0].selectionEnd!==e.head){i[0].selectionStart=e.anchor;i[0].selectionEnd=e.head}});t.setOverlayFocuser(function(){});t.onResize(function(t){e.containerStyle.left=t.left});t.onScroll(function(t,e){i.scrollTop(t);i.scrollLeft(e);document.activeElement===i[0]&&(""===i[0].style.textShadow?i[0].style.textShadow="rgba(0,0,0,0) 0 0 0":i[0].style.textShadow="")});i.on("scroll",function(){t.scrollTo(i.scrollTop(),i.scrollLeft())});i.on("input",function(e){var n=i.val();t.replicateContent(e,n)});function o(t,e){var n=t.substring(0,e).split("\n");var i=n.length-1;var r=n[n.length-1].length;return{line:i,ch:r}}function s(){var e=i.val();var n=i[0].selectionStart;var r=i[0].selectionEnd;var s=o(e,n);var a=o(e,r);t.replicateSelection(s,a,{scroll:false})}var a;var l;function c(){if(!r){if(i[0].selectionStart!==a||i[0].selectionEnd!==l){a=i[0].selectionStart;l=i[0].selectionEnd;s()}setTimeout(c,200)}}setTimeout(c,200)}e.$watch("helpMode",function(t){t?n.hide():n.show()});var s=e.$watch("codeareaTouchApi",function(t){if(t){o(t);s()}});e.$on("$destroy",function(){r=true;i=void 0})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){t.directive("qvCodeareaBlockLargePastes",function(){var t=function t(e){if(""===e||isNaN(e))return 1e6;return e};var e=function t(e){return e.originalEvent.clipboardData?e.originalEvent.clipboardData.getData("text/plain").length:window.clipboardData.getData("Text").length};return{restrict:"A",controller:["$scope","$element","$attrs",function(n,i,r){i.find("textarea").on("paste",function(n){e(n)>t(r.qvCodeareaBlockLargePastes)&&n.preventDefault()});n.$on("$destroy",function(){i.find("textarea").off("paste")})}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41)],r=function(t,e){e.directive("qvCodeareaExposedGutterWidth",["$parse","$timeout",function(e,n){return{require:"qvCodearea",link:function i(r,o,s,a){var l=e(s.qvCodeareaExposedGutterWidth);r.$watch(function(){return String(a.codemirror.lineCount()).length},function(){var e=t(a.codemirror.getGutterElement()).outerWidth();l.assign(r,e);n(function(){var e=t(a.codemirror.getGutterElement()).outerWidth();l.assign(r,e)})});r.$on("$destroy",function(){l.assign(r,void 0)})},controller:function t(){}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(49)],r=function(t,e,n){var i="CodeMirror-text-in-composition";var r={inclusiveLeft:true,inclusiveRight:true,className:i};function o(t){var e,n,r,o;n=t.getAllMarks();for(r=0,o=n.length;r<o;r++){e=n[r];null!=e&&e.className===i&&e.clear()}return true}var s,a,l,c,u,d,p,f,h,v,g;function m(t,i){var m=i;t.options.enableCompositionMod=true;u=function e(){d&&d();t.display.input.blur();t.display.input.focus()};c=function e(n){p=n.char;d&&d();if(t.display.inCompositionMode){var i=t.getCursor();var r=t.display.compositionHead;var o=t.charCoords(i).left-t.charCoords(r).left;o+=void 0!==p?30:1;t.display.input.style.width=o+"px"}};s=function e(){if(t.options.enableCompositionMod){g.disabled=true;t.display.inCompositionMode=true;h=m.offset();t.display.inputDiv.classList.add("CodeMirror-input-wrapper");t.display.inputDiv.classList.add("in-composition");t.setOption("readOnly",true);t.somethingSelected()&&t.replaceSelection("");t.display.compositionHead=t.getCursor();void 0===p?t.display.input.value="":" "===p&&a({data:" "})}};a=function e(n){var i,o;if(!t.options.enableCompositionMod||!t.display.inCompositionMode)return;var s=t.display.compositionHead;if(t.display.textMarkerInComposition){i=t.display.textMarkerInComposition.find();if(i){t.replaceRange(n.data,s,i.to);t.display.textMarkerInComposition.clear();t.display.textMarkerInComposition=void 0}}else t.replaceRange(n.data,s,s);var a=t.getCursor();o=t.charCoords(a).left-t.charCoords(s).left;void 0===p&&(o+=1);t.display.input.style.width=o+"px";t.display.textMarkerInComposition=t.markText(s,a,r);f()};function b(){var t=window.navigator.userAgent;var e=t.indexOf("MSIE ");return e>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)}l=function e(i){var r;if(!t.options.enableCompositionMod||!t.display.inCompositionMode)return;b()?"\b"===p&&a(i):a(i);t.display.inCompositionMode=false;t.display.compositionHead=void 0;null!=(r=t.display.textMarkerInComposition)&&r.clear();t.display.textMarkerInComposition=void 0;t.setOption("readOnly",false);t.display.inputDiv.classList.remove("in-composition");t.display.inputDiv.classList.remove("CodeMirror-input-wrapper");o(t);d=function e(){g.disabled=false;n.off(t.display.input,"input",d);if(!t.display.inCompositionMode){t.display.input.value="";t.display.input.style.width="0px";d=void 0}};n.on(t.display.input,"input",d)};f=function e(){if(t.display.inCompositionMode){var n=t.charCoords(t.display.compositionHead).top-h.top;void 0!==p&&(n-=1);t.display.inputDiv.style.top=n+"px";var i=t.charCoords(t.display.compositionHead).left-h.left;t.display.inputDiv.style.left=i+"px"}};v=function n(i){var r=e(t.display.scroller);r.scrollTop(r.scrollTop()-i.wheelDelta)}}t.directive("qvCodeareaCompositionEvent",function(){return{restrict:"A",require:"qvCodearea",link:function t(i,r,o,p){m(p.codemirror,r);var h=p.codemirror.display.input;var b=i.$watch(o.qvCodeareaAutocomplete,function(t){g=t;b()});b=i.$watch("codeareaTouchApi",function(t){if(t){t.onResize(function(){f()});t.onScroll(function(){f()});b()}});e(window).on("resize",f);n.on(p.codemirror,"mousedown",u);n.on(h,"keydown",c);n.on(h,"compositionstart",s);n.on(h,"compositionupdate",a);n.on(h,"compositionend",l);n.on(h,"mousedown",u);n.on(h,"mousewheel",v);i.$on("$destroy",function(){e(window).off("resize",f);n.off(p.codemirror,"mousedown",u);n.off(h,"compositionstart",s);n.off(h,"keydown",c);n.off(h,"compositionupdate",a);n.off(h,"compositionend",l);n.off(h,"input",d);n.off(h,"mousedown",u);n.off(h,"mousewheel",v)})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(594)],r=function(t,e){t.directive("qvExpandableList",function(){return{restrict:"A",template:e,controller:["$scope",function(t){t.expandClicked=function(t){t.expanded=!t.expanded;"undefined"!=typeof t.state&&(t.expanded?t.state["sectionExpanded"]=true:t.state["sectionExpanded"]=false)}}]}});t.directive("includeSection",function(){return{restrict:"A",controller:["$scope","$element","$compile",function(t,e,n){e.append(n(t.item.template)(t))}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qv-expandable-list-component" tcl="expandable-list">\n\t<ul class="qv-expandable-list">\n\t\t<li ng-repeat="item in items track by item.key" tid="section {{item.key}}">\n\t\t\t<div class="qv-expandable-list-header" qva-activate="expandClicked(item)" ng-class="{ \'expanded\': item.state.stateExpanded }" tid="{{item.key}}">\n                <i class="toggle-expand  lui-icon  {{ item.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\' }}"></i>\n\t\t\t\t<span class="text" q-translation="{{item.translation}}"></span>\n\t\t\t</div>\n\t\t\t<div class="qv-expandable-list-content" ng-if="item.expanded">\n\t\t\t\t<div include-section></div>\n\t\t\t</div>\n\t\t</li>\n\t</ul>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(596),n(58),n(597),n(158)],r=function(t,e,n,i,r,o,s){e.directive("qvInformationArea",function(){return{scope:{info:"=",app:"=",mode:"="},restrict:"E",replace:true,template:i,link:function e(i,a){i.nbrOfStatements=0;i.exprValidator=null;i.state={expanded:false,autoExpanded:false};var l="validating";var c="valid";var u="invalid";var d=a.find(".text-column"),p=t("#expression-editor-content");function f(){setTimeout(function(){d.css({"max-height":p.height()/2})})}function h(){var t=0;""!==i.info.translatedErrorMgs&&t++;""!==i.info.extraErrorMsg&&t++;""!==i.info.expandedExpr&&t++;t>1&&(i.state.autoExpanded=true);i.nbrOfStatements=t}function v(t){i.info.status=t.valid?c:u;i.info.errorMsg=t.valid?"Common.OK":"Expression.Validation.InvalidExpression";i.info.translatedErrorMgs=n.get(i.info.errorMsg);i.info.extraErrorMsg="";if(t.data)if(t.data.bad.length>0){var e=t.data.bad.map(function(t){return t.name});i.info.errorMsg={id:"Expression.Validation.BadFieldName",value:[e.join(", ")]}}else t.data.error&&(i.info.extraErrorMsg=t.data.error);h()}i.$watch("info.codeArea.content",function(t){i.info.status=l;o.getExpandedExpression(i.app,t).then(function(e){if(null==i.exprValidator){i.exprValidator=new s.ExpressionValidator(i.app,i.mode);i.exprValidator.Update.bind(function(t){v(t)})}i.info.expr=t;i.info.expandedExpr=e.qExpandedExpression;i.info.translatedErrorMgs=n.get(i.info.errorMsg);i.exprValidator.validate(i.info.expandedExpr,i.labels)})});i.expandCollapse=function(){i.state.expanded=!i.state.expanded};f();r.on("end.ee-update-size",f);i.$on("$destroy",function(){r.off("end.ee-update-size",f);i.exprValidator=null})}}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="ia-wrapper" ng-class="{ \'collapsed\' : state.expanded, \'ia-light\' : nbrOfStatements <= 1 }">\r\n    <div class="icon-column">\r\n        <span class="lui-icon  lui-icon--info" aria-hidden="true"></span>\r\n    </div>\r\n    <div class="text-column">\r\n        <div class="ia-text">\r\n           \r\n            <div class="hint" ng-if="info.translatedErrorMgs !== \'\'">\r\n                <span>{{info.translatedErrorMgs}}</span>\r\n            </div>\r\n            <div class="hint" ng-if="info.extraErrorMsg !== \'\'">\r\n                <span>{{info.extraErrorMsg}}</span>\r\n            </div>\r\n            <div class="evaluated" ng-if="info.expandedExpr !== \'\'">\r\n                {{info.expandedExpr}}\r\n            </div>\r\n               \r\n        </div>\r\n    </div>\r\n    <div class="action-column">\r\n        <span class="lui-icon  lui-icon--arrow-down" \r\n              ng-class="{ \'lui-icon--arrow-down\' : !state.expanded, \'lui-icon--arrow-up\' : state.expanded }" \r\n              aria-hidden="true"\r\n              ng-if="nbrOfStatements > 1"\r\n              ng-click="expandCollapse($event)">\r\n        </span>\r\n    </div>    \r\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(64),n(45)],r=function(t,e){function n(n){return n?e.resolve(n.enigmaModel):t.getApp()}var i={};i.getExpandedExpression=function(t,e){return n(t).then(function(t){return t.engineApp.expandExpression(e)}).catch(function(t){console.log("error"+t)})};return i}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46)],r=function(t,e){t.service("qvAboutDialog",["qvAboutFactory","qvAboutRestConnect",function(t,i){return{show:function r(){i.thirdParty();var o=n.p+"img/core/about-logo.svg";var s={logo:o,text:{close:e.get("Common.Close"),about:e.get("Common.About"),copyright:e.get("About.Copyright",[(new Date).getFullYear()]),thirdPartyIntro:e.get("About.3rdPartySoftwareIntro"),thirdParty:e.get("About.3rdPartySoftware"),features:e.get("About.Features"),licenceAgreement:e.get("About.LicenceAgreement"),downloadPdf:e.get("About.Download.PDF")}};return t.show(s)}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(600),n(45),n(63),n(91),n(119),n(120),n(230),n(231),n(606),n(233),n(61),n(123),n(54),n(56)],r=function(t,e,n,i,r){var o=t.getService("qwNavigationService");var s=t.getService("qwSingleConfiguratorService");var a=t.getService("qwCommonService");var l=t.getService("qwConfigService");var c={restrict:"E",replace:true,template:e,controller:["$scope",function(t){t.helpUrlEmbedDialog=r.path.replace("dev-hub","client")+"Embed";t.showAlert=i.getFlag("SINGLE_CONFIG");t.closeAlert=function(){t.showAlert=false};t.$on("switchApp",function(){s.openApp()})}]};var u={toolPath:"single-configurator",toolTitle:"Devhub.SingleConfigurator",helpPage:"SingleConfigurator",general:{undoRedo:false},rightPanel:{active:true,open:true},leftPanel:{active:true,open:true},toolbarSearch:false,bottomBar:{active:true},selectionsBar:{enabled:false,toggled:false}};var d={text:"Devhub.SingleConfigurator",openInNewTab:"optional",link:o.getBasePath()+"/dev-hub/single-configurator",tid:"4e259d",hide:false,onSelect:function t(e,n){o.openUrlInNewTabIfCtrlKeyPressed(e.ctrlKey||n,this)},disabled:false,order:1};o.addToolsPanelItem(d);o.addNavigationMenuItemProvider(function(){return d});o.registerRoute("/dev-hub/single-configurator",function(){l.setToolConfig(u);return n.all({sc:s.init()}).then(function(){a.notifyWatchers("initToolbar");o.getContainer().showComponent(c)})});return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<qw-dev-hub-stage id="single-configurator-stage">\n\t<qw-objects-panel service="qwSingleConfiguratorService" ng-show="toolConfig.leftPanel.open"></qw-objects-panel>\n\t<qw-work-area class="work-area-single">\n\t\t<qw-alert closable="true" ng-if="showAlert" close="closeAlert($index)">\n\t\t\t<div class="msg-note"><span q-translation="Devhub.Note"></span>:</div>\n\t\t\t\x3c!--Hard coded string since this will only be in for a short time, Dev Hub is not translated and link needs to be added to parts of the string--\x3e\n\t\t\t<div class="msg"><span>This feature is now available in Qlik Sense; read more about it \n\t\t\t\t<a href="{{helpUrlEmbedDialog}}">here</a>. Single configurator will be removed from Dev Hub in a future release.</span></div>\n\t\t</qw-alert>\n\t\t<qw-preview-box service="qwSingleConfiguratorService"></qw-preview-box>\n\t</qw-work-area>\n\t<qw-options-panel></qw-options-panel>\n</qw-dev-hub-stage>\n'},function(t,e){t.exports='<div class="preview-box-cnt">\n\t<div ng-if="service === \'qwSingleConfiguratorService\'">\n\t\t<div class="object-id-title">\n\t\t\t<div class="title"><span ng-if="assets.currentObj" q-translation="Devhub.ObjectIDLabel"></span><span\n\t\t\t\tng-if="assets.currentSheet" q-translation="Devhub.SheetIDLabel"></span>:\n\t\t\t\t<b class="object-id">{{assets.currentObj || assets.currentSheet}}</b></div>\n\t\t</div>\n\t\t<div class="urls-panel">\n\t\t\t<div class="urls-title">\n\t\t\t\t<div class="title" q-translation="Devhub.UrlLabel"></div>\n\t\t\t\t<input class="lui-input  lui-input--inverse" ng-model="assets.url" type="text" readonly/>\n\t\t\t\t<span class="error-msg" ng-if="assets.errorURL" q-translation="ErrorMessage.maxURLLength"></span>\n\t\t\t</div>\n\t\t\t<div class="urls-title">\n\t\t\t\t<div class="title" q-translation="Devhub.IFrameLabel"></div>\n\t\t\t\t<input class="lui-input  lui-input--inverse" ng-model="assets.iframe" type="text" readonly/>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="divider"></div>\n\t\t<div class="clear"></div>\n\t</div>\n\t<div class="preview-title">\n\t\t<div class="title" q-translation="Devhub.Preview"></div>\n\t\t<div class="view" ng-click="openInNewWindow()" q-title-translation="Devhub.OpenInNewTab">\n\t\t\t<span class="lui-icon  lui-icon--new-tab view-icon"></span>\n\t\t\t<span class="view-label" q-translation="Devhub.View"></span>\n\t\t</div>\n\t</div>\n\t<div class="preview-panel">\n\t\t<div class="preview-box">\n\t\t\t<iframe src="{{assets.url}}"></iframe>\n\t\t\t<div class="cursor-no-interaction" ng-if="options.disableInteraction"></div>\n\t\t</div>\n\t</div>\n\t\x3c!--qw-disabled mode--\x3e\n\t<div\n\t\tng-if="service === \'qwSingleConfiguratorService\' && (assets.currentApp === null || (assets.currentObj === null && assets.currentSheet === null))"\n\t\tclass="qw-disabled-preview">\n\t\t<div class="hint-wrapper">\n\t\t\t<div class="hint-header" q-translation="Devhub.NoItem"></div>\n\t\t\t<div class="hint-text" q-translation="Devhub.NoItemAction"></div>\n\t\t\t<div class="hint-text" q-translation="Devhub.NoItemHowTo"></div>\n\t\t</div>\n\t</div>\n</div>\n\n'},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(44),__webpack_require__(41),__webpack_require__(45),__webpack_require__(46),__webpack_require__(62),__webpack_require__(77)],__WEBPACK_AMD_DEFINE_RESULT__=function($,qvangular,Deferred,translator,_,genericDialog){var luiDialogService=qvangular.getService("luiDialog");var removeComentedCode=function t(e){return e.replace(/(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s])+\/\/(?:.*)$)/gm,"")};var qextList2listObj=function t(e){var n={};e.measures||(e.measures=[]);if(e.dimid){n.qLibraryId=e.dimid;n.qFrequencyMode=e.freq||"N"}else n.qFrequencyMode=e.freq||"N";n.qDef={qFieldDefs:[e.field]};if(e.measures.length>0){n.qExpressions=[];e.measures.forEach(function(t){t.id?n.qExpressions.push({qLibraryId:t.id,qLabel:t.def}):n.qExpressions.push({qExpr:t.def,qLabel:t.def})})}n.qInitialDataFetch=[{qHeight:e.rows,qWidth:1+e.measures.length}];return n};var listObj2qextList=function t(e){var n={freq:e.qFrequencyMode,field:e.qDef.qFieldDefs[0]||"",measures:[],rows:e.qInitialDataFetch[0].qHeight};e.qExpressions&&e.qExpressions.forEach(function(t){n.measures.push({def:t.qLabel,id:t.qLibraryId})});if(e.qLibraryId){n.dimid=e.qLibraryId;n.freq=e.qFrequencyMode}return n};var qextCube2cubeObj=function t(e){var n={qDimensions:[]};e.dimensions.forEach(function(t){var e={};if(t.dimid){e.qLibraryId=t.dimid;e.qLabel=t.field}else e.qDef={qFieldDefs:[t.field]};if("OTHER_OFF"!==t.limit){e.qOtherTotalSpec={qOtherMode:t.limit};if("OTHER_COUNTED"===t.limit)e.qOtherTotalSpec.qOtherCounted=t.otherCounted;else{e.qOtherTotalSpec.qOtherLimit={qv:t.otherLimit};e.qOtherTotalSpec.qOtherLimitMode=t.otherLimitMode}e.qOtherTotalSpec.qOtherSortMode=t.otherSortMode}n.qDimensions.push(e)});if(e.measures.length>0){n.qMeasures=[];e.measures.forEach(function(t){t.id?n.qMeasures.push({qLibraryId:t.id,qLabel:t.def}):n.qMeasures.push({qDef:{qDef:t.def,qLabel:t.def}})})}n.qInitialDataFetch=[{qHeight:e.rows,qWidth:e.dimensions.length+e.measures.length}];return n};var cubeObj2qextCube=function t(e){var n={dimensions:[],measures:[],rows:e.qInitialDataFetch[0].qHeight};e.qDimensions.forEach(function(t){var e={};if(t.qLibraryId){e.dimid=t.qLibraryId;e.field=t.qLabel}else e.field=t.qDef.qFieldDefs[0];if(t.qOtherTotalSpec){e.limit=t.qOtherTotalSpec.qOtherMode;if("OTHER_COUNTED"===t.qOtherTotalSpec.qOtherMode)e.otherCounted=t.qOtherTotalSpec.qOtherCounted;else{e.otherLimit=t.qOtherTotalSpec.qOtherLimit.qv;e.otherLimitMode=t.qOtherTotalSpec.qOtherLimitMode}e.otherSortMode=t.qOtherTotalSpec.qOtherSortMode}else{e.limit="OTHER_OFF";e.otherCounted=5;e.otherLimitMode="OTHER_GE_LIMIT";e.otherSortMode="OTHER_SORT_DESCENDING";e.showNull=false}n.dimensions.push(e)});e.qMeasures.forEach(function(t){var e={};if(t.qLibraryId){e.id=t.qLibraryId;e.def=t.qLabel}else{e.label=t.qDef.qLabel;e.def=t.qDef.qDef}n.measures.push(e)});return n};var convertOldMashup=function t(e,n){var i=new Deferred;var r=[],o=[];for(var s=0;s<e.length;s++){"html"===e[s].extension&&r.push(s);"js"===e[s].extension&&o.push(s)}if(r.length>1||o.length>1||0===o.length){if(true===n)return e;i.resolve(e);return i.promise}var a=function t(e){var n=e;var i=[];function r(){var t=/\$\(\s*("|')\.(qvobject|qsnapshot)("|')\s*\)\.each\([\S\s]*\)/g;var e=n.match(t);if(e){e=e[0];var o=0;var s=e.indexOf("(",e.indexOf("each"));for(var a=s;a<e.length;a++){"("===e[a]&&o++;")"===e[a]&&o--;if(0===o){i.push(e.slice(0,a+2));n=n.replace(e.slice(0,a),"");return!!r()}}return false}return true}r();return i};var l=/(\/\*AUTOGEN (START|END)\*\/)/g;if(!l.test(e[o].content)){if(true===n)return e;i.resolve(e);return i.promise}function c(){e[o].isDirty=true;e[o].content=e[o].content.replace(l,"");l=/(\/\/open app and get objects(?! -- inserted here --))/g;e[o].content=e[o].content.replace(l,"//open apps -- inserted here --");l=/(\/\/open apps(?! -- inserted here --))/g;e[o].content=e[o].content.replace(l,"//open apps -- inserted here --");l=/(\/\/callbacks(?! -- inserted here --))/g;e[o].content=e[o].content.replace(l,"//callbacks -- inserted here --");l=/(\/\/get objects(?! -- inserted here --))/g;e[o].content=e[o].content.replace(l,"//get objects -- inserted here --");l=/(\/\/create cubes and lists(?! -- inserted here --))/g;e[o].content=e[o].content.replace(l,"//create cubes and lists -- inserted here --");l=/(\s+var\s+([a-zA-z0-9]+)\s*\=\s*qlik\.openApp\(\s*("|')\${docid}('|").*\);)/;e[o].content=e[o].content.replace(l,"");var t=getOpenAppStrings(e[o].content);var n=e[o].content.indexOf("//open apps -- inserted here --")+"//open apps -- inserted here --".length;t.length>0&&(n=e[o].content.indexOf(t[t.length-1])+t[t.length-1].length);e[o].content=e[o].content.slice(0,n)+(/\/\/callbacks -- inserted here --/.test(e[o].content)?"":"\n\t//callbacks -- inserted here --")+(/\/\/get objects -- inserted here --/.test(e[o].content)?"":"\n\t//get objects -- inserted here --")+(/\/\/create cubes and lists -- inserted here --/.test(e[o].content)?"":"\n\t//create cubes and lists -- inserted here --")+e[o].content.slice(n,e[o].content.length);var i=a(e[o].content);i.length>0&&!/\/\/get objects -- inserted here/.test(e[o].content)&&(e[o].content=e[o].content.slice(0,e[o].content.indexOf(i[0]))+"//get objects -- inserted here --\n"+e[o].content.slice(e[o].content.indexOf(i[0]),e[o].content.length));i.forEach(function(t){e[o].content=e[o].content.replace(t,"")});var s=document.createElement("html");s.innerHTML=e[r].content;$("div[data-qvid]",s).each(function(t,n){$(n).hasClass("qvobject")?e[o].content=addObject(e[o].content,"app",[n.id,$(n).data("qvid")]):$(n).hasClass("qsnapshot")&&(e[o].content=addSnapshot(e[o].content,"app",[n.id,$(n).data("qvid")]));$(n).removeAttr("data-qvid")});e[r].isDirty=true;e[r].content="<!doctype html>\n"+s.outerHTML}if(true===n){c();return e}translator.ready.then(function(){luiDialogService.show({controller:genericDialog.component.controller,template:genericDialog.component.template,input:{title:"Devhub.MashupConversionTitle",message:"Devhub.MashupConversionWarning",onCancel:function t(){i.resolve(e)},button:{name:"Devhub.Convert",tid:"a8037a",callback:function t(){c();i.resolve(e)}}}})});return i.promise};var getOpenAppStrings=function t(e){var n=removeComentedCode(e);var i=[];function r(){var t=/var\s*([a-zA-z0-9]+)\s*\=\s*qlik\.openApp\([\S\s]*\);/g;var e=n.match(t);if(e){e=e[0];var o=0;var s=e.indexOf("(");for(var a=s;a<e.length;a++){"("===e[a]&&o++;")"===e[a]&&o--;if(0===o){i.push(e.slice(0,a+2));n=n.replace(e.slice(0,a),"");return!!r()}}return false}return true}r();return i};var getParamsInStringFn=function t(e){var n=/\((.*)\)/g;return n.exec(e)[1].split(",")};var getAppMethodsStrings=function t(e,n){n=removeComentedCode(n);var i=n;var r=[];function o(t){if(t){var e=new RegExp("(\\s+"+t+"\\.(?!openApp)[\\S\\s]*(\\);|\\)))","g");var n=i.match(e);if(n){var s=0;var a=n[0].indexOf("(");for(var l=a;l<n[0].length;l++){"("===n[0][l]&&s++;")"===n[0][l]&&s--;if(0===s){if(";"===n[0][l+1]){r.push(n[0].slice(0,l+2));i=i.replace(n[0].slice(0,l+2),"")}else if("."===n[0][l+1]){r.push(n[0].slice(0,l+1));i=i.replace(n[0].slice(0,l+1),"")}else{r.push(n[0].slice(0,l+1));i=i.replace(n[0].slice(0,l+1),"")}return!!o(t,i)}}return false}return true}return false}o(e,i);return r};var _extractFn=function t(e){var n=e;var i=/function\s*[0-9A-Za-z_$]*\(.*\)\s*{[\S\s]*}/g;var r=e.match(i);if(!r)return false;var o=0;var s=r[0].indexOf("{");for(var a=s;a<r[0].length;a++){"}"===r[0][a]&&o++;"{"===r[0][a]&&o--;if(0===o){n=r[0].slice(0,a+1);break}}return n};var addHtmlAttr=function t(e,n){var i=/(<html)(.*?)(>)/.exec(n)[2];var r=/(<html)(.*?)(>)/.exec(n)["index"];var o="<!doctype html>\n"+e.outerHTML;return o.substr(0,r+5)+i+o.substr(r+5)};var getMethod=function getMethod(methodString){var method={};var paramsString=false;var regExp=/\.([^\(]*)/i;var name=methodString.match(regExp);if(name[0]){method.name=name;regExp=/\(([\S\s]*)\)/g;paramsString=methodString.match(regExp)[0];var params=[]}if(paramsString){paramsString=paramsString.substring(1,paramsString.length-1);var regExpParam=/(document.getElementById\(('|").*('|")\))/g;var domEl=paramsString.match(regExpParam);domEl&&domEl.forEach(function(t){params.push(t);paramsString=paramsString.replace(t,"")});var fnString=_extractFn(paramsString);if(fnString){var success=false;var fn=null;try{fn=eval("("+fnString+")");success=true}catch(t){success=false}if(success){params.push(fn);paramsString=paramsString.replace(fnString,"")}}regExpParam=/(({|\[)[\S\s]*(}|\[))/g;var obj=paramsString.match(regExpParam);obj&&obj.forEach(function(o){var success=false;var obj=null;try{obj=eval("("+o+")");success=true}catch(t){success=false}if(success){params.push(obj);paramsString=paramsString.replace(o,"")}});regExpParam=/(("|')[^("|')]*("|'))/g;var string=paramsString.match(regExpParam);string&&string.forEach(function(str){try{params.push(eval("("+str+")"))}catch(t){}paramsString=paramsString.replace(str,"")});regExpParam=/([^\s,][A-Za-z0-9$_]*)/g;var variable=paramsString.match(regExpParam);variable&&variable.forEach(function(t){params.push(t);paramsString=paramsString.replace(t,"")});method.params=params}return method};var findVarValue=function findVarValue(strVar,string){function extractObj(t){if(t){t=t[0];var e=0;var n=t.indexOf("{");for(var i=n;i<t.length;i++){"{"===t[i]&&e++;"}"===t[i]&&e--;if(0===e)return t.slice(0,i+1)}return false}return true}string=removeComentedCode(string);var res=false;var pattern=strVar+"\\s*=\\s*('|\")(.*)('|\")";var regExp=new RegExp(pattern,"g");res=string.match(regExp);if(res){res=res[0].match(/('|")(.*)('|")/g);return res[0].replace(/("|')/g,"").trim()}pattern=strVar+"\\s*=\\s*{([^}]+)}";regExp=new RegExp(pattern,"g");res=string.match(regExp);if(res){res=extractObj(res);return eval("("+res+")")}pattern=strVar+"\\s*=\\s*\\[([^\\]]+)\\]";regExp=new RegExp(pattern,"g");res=string.match(regExp);if(res){res=res[0].match(/\[([^\]]+)\]/g);res[0]=res[0].replace(/(\r\n|\n|\r)/gm,"");return eval("("+res[0]+")")}pattern=strVar+"\\s*=\\s*(function(.*){[\\S\\s]*})";regExp=new RegExp(pattern,"g");res=string.match(regExp);if(res){res=res[0].match(/(function\(.*\)\{[\S\s]*\})/g);return eval("("+res[0]+")")}return res};var findAppId=function t(e,n){var i=getParamsInStringFn(e)[0];var r=/('|")([^('|")]*)('|")/;var o=i.match(r);if(o)return o[2];if(n)return findVarValue(i,n);return false};var findAppVar=function t(e){var n=/var\s+([0-9a-zA-Z_$]+)/;return e.match(n)[1]};var addApp=function t(e,n,i,r){var o=e.indexOf("//open apps -- inserted here --");var s=getOpenAppStrings(e);if(-1===o){if(s){var a=e.indexOf(s[0]);e=e.slice(0,a)+"\n\t//open apps -- inserted here --\n"+e.slice(a,e.length)}else e="\t//open apps -- inserted here --"+e;o=e.indexOf("//open apps -- inserted here --")}if(s.length>0)var l=e.indexOf(s[s.length-1])+s[s.length-1].length+1;else l=o+"//open apps -- inserted here --".length;return n.length>0?e.slice(0,l)+"\n\tvar "+n+" = qlik.openApp('"+i+"', "+r+");\n"+e.slice(l,e.length):e};var findAppById=function t(e,n){var i=findApps(n);var r=false;i.forEach(function(t){t.appId===e&&(r=t)});return r};var findAppByVar=function t(e,n){var i=findApps(n);var r=false;i.forEach(function(t){t.appVar===e&&(r=t)});return r};var getMashupData=function t(e){var n=e.filter(function(t){return"js"===t.extension});var i=[];for(var r=0;r<n.length;r++){var o=this.findApps(n[r].content);o&&o.length>0&&(i=_.uniq(_.union(i,o),false,function(t){return t.appId}))}return i};var findApps=function t(e){var n=[];var i=getOpenAppStrings(e);i.forEach(function(t){var i=findAppId(t,e);var r=findAppVar(t);var o=[];var s=[];var a=[];if(r){o=findAppMethods(r,e);o.forEach(function(t){".createCube"===t.name[0]&&s.push(t.params);".createList"===t.name[0]&&a.push(t.params)})}n.push({appId:i,appVar:r,methods:o,cubes:s,lists:a})});return n};var findAppMethods=function t(e,n){var i=[];var r=getAppMethodsStrings(e,n);r.forEach(function(t){var e=getMethod(t);i.push(e)});return i};var toggleSelectionsBar=function t(e,n){var i=e.JS.indexOf("//get objects -- inserted here --");var r=new RegExp("([A-Za-z0-9_$]*\\.(getObject|getSnapshot)[\\S\\s]+?((\\)\\;)|(\\)\\.)))","g");var o=e.JS.match(r);if(-1===i){if(o){var s=e.JS.indexOf(o[0]);e.JS=e.JS.slice(0,s)+"\t//get objects -- inserted here --\n"+e.JS.slice(s,e.JS.length)}else e.JS=e.JS+"\n\t//get objects -- inserted here --\n";i=e.JS.indexOf("//get objects -- inserted here --")}var a=findApps(e.JS);function l(){a.forEach(function(t){e.JS=delVisualization(e.JS,t.appVar,"CurrentSelections")});var t=document.createElement("html");t.innerHTML=e.HTML;$(t).find("#CurrentSelections").length>0&&$(t).find("#CurrentSelections").each(function(t,e){$(e).remove()});e.HTML=addHtmlAttr(t,e.HTML)}if(hasSelectionsBar(e.JS))l();else{a.length>0&&(n=a[0].appVar);e.JS=addObject(e.JS,n,["CurrentSelections","CurrentSelections"]);var c=document.createElement("html");c.innerHTML=e.HTML;$(c).find("body").prepend($('<div id="CurrentSelections" class="qvobjects" style="position:relative; top:0; left:0; width:100%; height:38px;"> </div>'));e.HTML=addHtmlAttr(c,e.HTML)}return e};var hasSelectionsBar=function t(e){var n="[A-Za-z0-9$_]*";var i="\\s+"+n+".getObject\\(\\s*('|\")CurrentSelections('|\")\\s*,\\s*('|\")CurrentSelections('|\")\\s*\\);";i=new RegExp(i,"g");return i.test(e)};var addObject=function t(e,n,i){var r=checkDomElement(e,i[0]);r&&r.length>0&&r.forEach(function(t){t.match(i[0])&&(e=e.replace(t,""))});var o=e.indexOf("//get objects -- inserted here --");var s=new RegExp("([A-Za-z0-9_$]*\\.(getObject|getSnapshot)[\\S\\s]+?((\\)\\;)|(\\)\\.)))","g");var a=e.match(s);if(-1===o){if(a){var l=e.indexOf(a[0]);e=e.slice(0,l)+"\t//get objects -- inserted here --\n"+e.slice(l,e.length)}else e+="\n\t//get objects -- inserted here --\n";o=e.indexOf("//get objects -- inserted here --")}if(n.length>0){o+="//get objects -- inserted here --".length;i=i.map(function(t){return"'"+t+"'"});return e.slice(0,o)+"\n\t"+n+".getObject("+i+");"+e.slice(o,e.length)}return e};var addSnapshot=function t(e,n,i){var r=checkDomElement(e,i[0]);r&&r.length>0&&r.forEach(function(t){t.match(i[0])&&(e=e.replace(t,""))});var o=e.indexOf("//get objects -- inserted here --");var s=new RegExp("([A-Za-z0-9_$]*\\.(getObject|getSnapshot)[\\S\\s]+?((\\)\\;)|(\\)\\.)))","g");var a=e.match(s);if(-1===o){if(a){var l=e.indexOf(a[0]);e=e.slice(0,l)+"\t//get objects -- inserted here --\n"+e.slice(l,e.length)}else e+="\n\t//get objects -- inserted here --";o=e.indexOf("//get objects -- inserted here --")}if(n.length>0){o+="//get objects -- inserted here --".length;i=i.map(function(t){return"'"+t+"'"});return e.slice(0,o)+"\n\t"+n+".getSnapshot("+i+");"+e.slice(o,e.length)}return e};var delVisualization=function t(e,n,i){n||(n="[A-Za-z0-9$_]*");var r="("+n+"\\.(getObject|getSnapshot)\\(\\s*(\"|')"+i+"('|\")[\\S\\s]+?\\);)";r=new RegExp(r,"g");e.replace(/^\s*[\r\n]/gm,"");return e.replace(r,"")};var getVisualization=function t(e,n){var i={};e=removeComentedCode(e);var r="([A-Za-z0-9$_]*.(getObject|getSnapshot)(.*(\"|')"+n+"('|\"))(.|;))";r=new RegExp(r,"g");var o=e.match(r);if(o){r=/\.([^\(]*)/i;i.methodName=o[0].match(r)[0];r=/\(([^)].*)\)/g;var s=o[0].match(r)[0];s=s.substring(1,s.length-1)}if(s&&s.length>0){o=s.split(",");for(var a=0;a<o.length;a++)o[a]=o[a].replace(/("|')/g,"").trim();i.id=o[1];i.elementId=o[0]}return i};var checkDomElement=function t(e,n){var i="([A-Za-z0-9$_]*\\.(getObject|getSnapshot)\\(\\s*('|\")"+n+"('|\")[\\S\\s]+?(\\);|\\)))";i=new RegExp(i,"g");return e.match(i)};var addCube=function t(e,n,i){i[1]&&(e=addCallBack(e,i[1]));var r=e.indexOf("//create cubes and lists -- inserted here --");var o=/([A-Za-z0-9$_]*\.(createCube|createList)\([\S\s]+?((\);)))/g;var s=e.match(o);var a=0;if(-1===r)if(s){var l=e.indexOf(s[0]);e=e.slice(0,l)+"\n\t//create cubes and list\n"+e.slice(l,e.length);r=e.indexOf("//create cubes and lists -- inserted here --");a=e.indexOf(s[s.length-1])+s[s.length-1].length}else{e+="\n\t//create cubes and lists -- inserted here --\n";r=e.indexOf("//create cubes and lists -- inserted here --");a=r+"//create cubes and lists -- inserted here --".length}else a=s?e.indexOf(s[s.length-1])+s[s.length-1].length:r+"//create cubes and lists -- inserted here --".length;if(n.length>0){var c=n+".createCube\\([\\s\\S]*,*?"+i[1]+"+?\\);";c=new RegExp(c,"g");c=e.match(c);if(c)return e;var u=JSON.stringify(i[0],null,"\t");u=u.slice(0,u.length-1)+"\t}";return e.slice(0,a)+"\n\t"+n+".createCube("+u+","+i[1]+");\n"+e.slice(a,e.length).trim()}return e};var delCube=function t(e,n,i){var r="";var o=e;n||(n="[A-Za-z0-9$_]*");function s(){var t="("+n+"\\.createCube\\([\\S\\s]*"+i+"\\);$)";t=new RegExp(t,"gm");var e=o.match(t);if(e){e=" "+e[0];var r=0;var s=")"===e[e.length-2]?e.length-2:e.length-1;for(var a=s;a>=0;a--){"("===e[a]&&r++;")"===e[a]&&r--;if(0===r){for(var l=a;l>=0;l--)if(!/[A-Za-z0-9$_\.\(]/.test(e[l]))return e.slice(l,e.length);return false}}return false}return true}r=s();return r?o.replace(r.trim(),""):o};var addList=function t(e,n,i){i[1]&&(e=addCallBack(e,i[1]));var r=e.indexOf("//create cubes and lists -- inserted here --");var o=/([A-Za-z0-9$_]*\.(createCube|createList)\([\S\s]+?((\);)))/g;var s=e.match(o);var a=0;if(-1===r)if(s){var l=e.indexOf(s[0]);e=e.slice(0,l)+"\n\t//create cubes and list\n"+e.slice(l,e.length);r=e.indexOf("//create cubes and lists -- inserted here --");a=e.indexOf(s[s.length-1])+s[s.length-1].length}else{e+="\n\t//create cubes and lists -- inserted here --\n";r=e.indexOf("//create cubes and lists -- inserted here --");a=r+"//create cubes and lists -- inserted here --".length}else a=s?e.indexOf(s[s.length-1])+s[s.length-1].length:r+"//create cubes and lists -- inserted here --".length;if(n.length>0){var c=n+".createList\\([\\s\\S]*,*?"+i[1]+"+?\\);";c=new RegExp(c,"g");c=e.match(c);if(c)return e;var u=JSON.stringify(i[0],null,"\t\t");u=u.slice(0,u.length-1)+"\t}";return e.slice(0,a)+"\n\t"+n+".createList("+u+","+i[1]+");\n"+e.slice(a,e.length).trim()}return e};var delList=function t(e,n,i){var r="";var o=e;n||(n="[A-Za-z0-9$_]*");function s(){var t="("+n+"\\.createList\\([\\S\\s]*"+i+"\\);$)";t=new RegExp(t,"gm");var e=o.match(t);if(e){e=" "+e[0];var r=0;var s=")"===e[e.length-2]?e.length-2:e.length-1;for(var a=s;a>=0;a--){"("===e[a]&&r++;")"===e[a]&&r--;if(0===r){for(var l=a;l>=0;l--)if(!/[A-Za-z0-9$_\.\(]/.test(e[l]))return e.slice(l,e.length);return false}}return false}return true}r=s();return r?o.replace(r.trim(),""):o};var addCallBack=function t(e,n){if(e.match(new RegExp("(function\\s*"+n+"\\(.*\\){[\\S\\s]+?})","g")))return e;var i=e.indexOf("//callbacks -- inserted here --");if(-1===i){e+="\n\t//callbacks -- inserted here --\n";i=e.indexOf("//callbacks -- inserted here --")}var r=i+"//callbacks -- inserted here --".length;return e.slice(0,r)+"\n\tfunction "+n+"(reply, app){}\n"+e.slice(r,e.length)};var generateJs=function t(e,n,i){var r=e;i&&i.callback&&(r=addCallBack(r,i.callback));return r};return{findVarValue:findVarValue,checkDomElement:checkDomElement,convertOldMashup:convertOldMashup,addApp:addApp,findApps:findApps,findAppById:findAppById,findAppByVar:findAppByVar,findAppMethods:findAppMethods,addObject:addObject,addSnapshot:addSnapshot,delVisualization:delVisualization,getVisualization:getVisualization,toggleSelectionsBar:toggleSelectionsBar,hasSelectionsBar:hasSelectionsBar,addCube:addCube,delCube:delCube,addList:addList,delList:delList,qextList2listObj:qextList2listObj,listObj2qextList:listObj2qextList,qextCube2cubeObj:qextCube2cubeObj,cubeObj2qextCube:cubeObj2qextCube,generateJs:generateJs,getMashupData:getMashupData,addHtmlAttr:addHtmlAttr,_extractFn:_extractFn}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(t,e,n){"use strict";var i,r;!(i=[n(89)],r=function(t){t.directive("qvTransparentOverlay",function(){return{template:'<div class="transparent-overlay"><div class="transparent-overlay-scroll"></div></div>',replace:true,restrict:"E"}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="objects-panel qw-panel qv-panel-assets">\n\t\x3c!--Select app dropdown--\x3e\n\t<div class="dropdown-panel">\n\t\t<lui-select x-model="assets.currentAppId" x-variant="inverse" qui-value="app.id"\n\t\t\t\t\tx-options="app.type for app in assets.apps" x-change="selectApp($event)">\n\t\t\t<option disabled class="default-option" value="" q-translation="Devhub.NoAppSelected"></option>\n\t\t</lui-select>\n\t</div>\n\t<div class="title-context">\n\t\t<div class="title" q-translation="Devhub.ObjectsTitle"></div>\n\t</div>\n\t\x3c!--search--\x3e\n\t<div class="search-box">\n\t\t<lui-search x-variant="inverse" query="query.title" placeholder="Devhub.Search"\n\t\t\t\t\ton-escape="query = \'\';"></lui-search>\n\t</div>\n\t\x3c!--Left panel--\x3e\n\t<div class="qv-panel-left borderbox">\n\t\t\x3c!--Object List--\x3e\n\t\t<div class="qw-list qw-object-list scrollable" q-scroll="{{assets.objects.length>0}}">\n\t\t\t<qv-spinner show="loading"></qv-spinner>\n\t\t\t<div class="no_objects" ng-if="!assets.objects.length">\n\t\t\t\t<span q-translation="Devhub.NoData"></span><br/><span q-translation="Devhub.NoAppSelected"></span>\n\t\t\t</div>\n\t\t\t<div class="no_objects"\n\t\t\t\t ng-if="assets.objects.length && (assets.objects | searchFilter:query.title).length == 0">\n\t\t\t\t<span q-translation="Devhub.Nohits"></span>\n\t\t\t</div>\n\t\t\t<ul class="lui-list lui-list--inverse" ng-class="{\'devhub-draggable\' : assets.onDrag}">\n\t\t\t\t\x3c!-- ng-if="assets.objects.length" --\x3e\n\t\t\t\t<li ng-repeat="object in assets.objects | searchFilter:query.title track by object.id" ng-if="object.invalid !== true" ng-init="$last"\n\t\t\t\t\tclass="lui-list__item lui-list__action library-item"\n\t\t\t\t\tng-class="{header: object.type === \'sheet\',\n\t\t\t\t\tactive: object.id === assets.currentObj || object.id === assets.currentSheet,\n\t\t\t\t\t\'header-mashup\': (currentLocation=== \'mashup-editor\' &&  object.type === \'sheet\'),\n\t\t\t\t\t\'qv-draggable\' : assets.onDrag && object.type !== \'sheet\'}"\n\t\t\t\t\tdata-id="{{object.id}}"\n\t\t\t\t\tdata-type="{{object.type}}"\n\t\t\t\t\tng-click="click(object, $event)"\n\t\t\t\t\tqva-context-menu="rightClick(object, $event)"\n\t\t\t\t\ttitle="{{objectType(object)}}: \'{{object.title}}\'">\n\t\t\t\t\t<div ng-if="object.type === \'sheet\'" class="lui-icon  lui-icon--sheet lui-list__aside"></div>\n\t\t\t\t\t<div ng-if="object.icon" class="lui-icon  lui-icon--{{object.icon}} lui-list__aside"></div>\n\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight=""\n\t\t\t\t\t\t text="{{(object.qMeta.title)?object.qMeta.title:object.title}}" query="query.title"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t\x3c!--qw-disabled mode--\x3e\n\t\x3c!-- ToDo: refactor this, better way of disabling the objects-panel--\x3e\n\t\x3c!--<div ng-class="{\'qw-disabled\' : assets.currentApp === null}"></div>--\x3e\n</div>\n'},function(t,e){t.exports='<div ng-show="internalShow" class="qv-animate spinner ng-hide" ng-class="{\'center-in-parent\': centerInParent}" ng-style="{\'width\': spinnerWidth, \'height\': spinnerHeight }">\n\t<div class="qv-loader"></div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(607),n(608),n(58),n(56),n(123),n(122)],r=function(t,e,n,i,r,o){var s=e.getService("luiDialog");e.directive("qwOptionsPanel",function(){return{replace:true,restrict:"E",scope:{},template:i,controller:["$scope","$element","$timeout",function(i,a,l){var c=e.getService("qwSingleConfiguratorService");i.options=c.options;i.assets=c.assets;i.toolConfig=e.getService("qwConfigService").getToolConfig();var u=a.find("div.options-content > div:first-child");var d=function t(){l(function(){u.accordion("refresh")})};var p=a.find("div.options-content div.content-header");p.each(function(t,e){e.firstElementChild.innerHTML=n.get(e.firstElementChild.getAttribute("q-translation"))});u.accordion({fillSpace:true,heightStyle:"fill",animate:!("ontouchstart"in window)&&"swing",active:1,beforeActivate:function e(n){p.removeClass("selected");t(n.currentTarget).find(".content-header").addClass("selected")}});d();i.$watch("toolConfig",function(t,e){t!==e&&d()},true);o.on("end",d);i.openSelections=function(){s.show({controller:r.component.controller,template:r.component.template,input:{app:i.assets.currentApp,sels:i.options.selections}})};i.removeSelection=function(t){-1!==i.options.selections.indexOf(t)&&(i.options.selections=i.options.selections.filter(function(e){return e!==t}))};i.getSelString=function(t){var e="";t.forEach(function(t,n){n>0&&(e+=",");e+=t.qText});return e};i.$watch("options",function(t,e){t!==e&&c.constructURL()},true)}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="options-panel" ng-show="toolConfig.rightPanel.open">\n\t<div class="options-container">\n\t\t<div class="options-header">\n\t\t\t<div class="title" q-translation="Devhub.Options"></div>\n\t\t</div>\n\t\t<div class="options-content">\n\t\t\t<div>\n\t\t\t\t<div class="opt-border border-general">\n\t\t\t\t\t<div class="content-header">\n\t\t\t\t\t\t<div class="title" q-translation="Devhub.general"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="opt-component">\n\t\t\t\t\t\t<lui-checkbox x-variant="inverse" x-model="options.disableSelections" x-disabled="options.disableInteraction">{{ \'Devhub.DisableSelections\' | translate }}</lui-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-component">\n\t\t\t\t\t\t<lui-checkbox x-variant="inverse" x-model="options.disableInteraction">{{ \'Devhub.DisableInteraction\' | translate }}</lui-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-component">\n\t\t\t\t\t\t<lui-checkbox x-variant="inverse" x-model="options.disableAnimation">{{ \'Devhub.DisableAnimation\' | translate }}</lui-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-component">\n\t\t\t\t\t\t<lui-checkbox x-variant="inverse" x-model="options.contextmenu" x-disabled="options.disableInteraction">{{ \'Devhub.EnableContextMenu\' | translate }}</lui-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-button-text">\n\t\t\t\t\t\t<label q-translation="Devhub.Language"></label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-button">\n\t\t\t\t\t\t<lui-select x-variant="inverse" ng-model="options.lang">\n\t\t\t\t\t\t\t<option ng-value="false" selected="" q-translation="Devhub.DefaultLanguage"></option>\n\t\t\t\t\t\t\t<option ng-value="lang" ng-repeat="lang in assets.languages">{{lang.label}}</option>\n\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-button-text">\n\t\t\t\t\t\t<label q-translation="AppDetails.AppTheme"></label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-button">\n\t\t\t\t\t\t<lui-select x-variant="inverse" ng-model="options.theme">\n\t\t\t\t\t\t\t<option ng-value="false" selected="" q-translation="Devhub.DefaultTheme"></option>\n\t\t\t\t\t\t\t<option ng-value="theme" ng-repeat="theme in assets.themes">{{theme.name}}</option>\n\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div class="opt-border border-selections">\n\t\t\t\t\t<div class="content-header selected">\n\t\t\t\t\t\t<div class="title" q-translation="Devhub.CurrentSelections"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="opt-component">\n\t\t\t\t\t\t<lui-checkbox x-variant="inverse" x-model="options.selectionsBar">{{ \'Devhub.ShowSelectionBar\' | translate }}</lui-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="opt-component">\n\t\t\t\t\t\t<lui-checkbox x-variant="inverse" x-model="options.clearSelections">{{ \'Devhub.ClearSelections\' | translate }}</lui-checkbox>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="select-container">\n\t\t\t\t\t\t<div class="opt-button-text">\n\t\t\t\t\t\t\t<label q-translation="Devhub.Bookmarks"></label><br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="opt-button">\n\t\t\t\t\t\t\t<lui-select x-variant="inverse"\n\t\t\t\t\t\t\t\t\t\tx-model="options.bookmark"\n\t\t\t\t\t\t\t\t\t\tng-class="{\'disable-bookmark\' : assets.bookmarks.length === 0 }"\n\t\t\t\t\t\t\t\t\t\tng-disabled="assets.bookmarks.length === 0">\n\t\t\t\t\t\t\t\t<option disabled class="default-option" ng-value="false" ng-selected="true"\n\t\t\t\t\t\t\t\t\t\tq-translation="Devhub.SelectBookmark"></option>\n\t\t\t\t\t\t\t\t<option ng-value="bookmark" label="{{bookmark.qData.title}}" ng-repeat="bookmark in assets.bookmarks">{{bookmark.qData.title}}</option>\n\t\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t\t\t<button class="lui-button  lui-button--inverse  lui-button--block clear-bookmark"\n\t\t\t\t\t\t\t\t\tng-class="{\'lui-disabled\' : !options.bookmark }"\n\t\t\t\t\t\t\t\t\tng-click="options.bookmark = false"\n\t\t\t\t\t\t\t\t\tq-translation="Devhub.ClearBookmark">\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="select-container">\n\t\t\t\t\t\t<div class="opt-button-text">\n\t\t\t\t\t\t\t<label q-translation="Devhub.ApplySelections"></label><br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="opt-button">\n\t\t\t\t\t\t\t<button class="lui-button  lui-button--inverse  lui-button--block  select add-data"\n\t\t\t\t\t\t\t\t\tng-click="openSelections()" q-translation="Devhub.AddData"></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!--List of selections--\x3e\n\t\t\t\t\t\t<div class="selection-list">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li class="tag-list" ng-repeat="selection in options.selections">\n\t\t\t\t\t\t\t\t\t<div class="edit-tag" tabindex="0" ng-repeat="(key, values) in selection"\n\t\t\t\t\t\t\t\t\t\t title="{{key}} : {{getSelString(values)}}"\n\t\t\t\t\t\t\t\t\t\t alt="{{key}} : {{getSelString(values)}}">\n\t\t\t\t\t\t\t\t\t\t<div class="tag-text">{{key}} : {{getSelString(values)}}</div>\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--remove" ng-click="removeSelection(selection)"\n\t\t\t\t\t\t\t\t\t\t\t  q-title-translation="Devhub.ClearSelection"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\x3c!--qw-disabled mode--\x3e\n\t<div\n\t\tng-class="{\'qw-disabled\' : assets.currentApp === null || (assets.currentObj === null && assets.currentSheet === null)}"></div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(65),n(41),n(609),n(54)],r=function(t,e,n,i){var r=n.getService("qwCommonService");var o={template:i,controller:["$scope",function(e){e.sel=[];e.closeView=function(){e.destroyComponent();e.deferredResult.resolve()};e.currentField=null;e.selection=false;e.selections=[];e.input.app&&r.getFieldList(e.input.app,true).then(function(t){e.fields=t.map(function(t){return{title:t.qName,qField:t.qName,qTags:t.qTags}})});e.totalDisplayed=0;e.chooseField=function(n){if(false===n||"false"===n)return;if(e.currentField!==n){var i="V";e.displayFrom=-100;e.totalDisplayed=50;e.selections=[];e.input.app.createList({qDef:{qFieldDefs:[n]},qShowAlternatives:true,qFrequencyMode:i,qInitialDataFetch:[{qTop:0,qLeft:0,qHeight:1e4,qWidth:1}]},function(t){e.fieldVals=t.qListObject.qDataPages[0].qMatrix.map(function(t){return t[0]});e.currentField=n;e.maxValuesInList=t.qListObject.qSize.qcy;if(t.qListObject&&t.qListObject.qSize&&t.qListObject.qSize.qcy>1e4){var r=function t(n){var i=n.qListObject.qDataPages[0].qMatrix.map(function(t){return t[0]});e.fieldVals=e.fieldVals.concat(i)};for(var o=1;o<t.qListObject.qSize.qcy/1e4;o++)e.input.app.createList({qDef:{qFieldDefs:[n]},qFrequencyMode:i,qInitialDataFetch:[{qTop:1e4*o,qLeft:0,qHeight:1e4,qWidth:1}]},r(t))}})}var r=t(".dialog-list.field-list .qw-scroll-wrapper");r.on("scroll",function(n){n.preventDefault();n=window.navigator.userAgent.toLowerCase().indexOf("firefox")>=0&&void 0!==n.originalEvent?n.originalEvent:n;var i=t(n.currentTarget);if(Math.round(i[0].scrollHeight-i.scrollTop())===i.outerHeight()){e.loadMore();e.$apply()}})};e.loadMore=function(){e.totalDisplayed+50>e.maxValuesInList?e.totalDisplayed=e.maxValuesInList:e.totalDisplayed+=50};e.select=function(t){e.isSelected(t)||e.selections.push(t)};e.unselect=function(t){-1!==e.selections.indexOf(t)&&(e.selections=e.selections.filter(function(e){return e!==t}))};e.isSelected=function(t){return 1===e.selections.filter(function(e){return t.qElemNumber===e.qElemNumber}).length};e.addSelection=function(){var t={};t[e.currentField]=e.selections;var n=true;e.input.sels.forEach(function(e){e[Object.keys(e)[0]]===t[Object.keys(t)[0]]&&(n=false)});n&&e.input.sels.push(t);e.destroyComponent();e.deferredResult.resolve(t)};e.fieldAlreadyAdded=function(t){var n=false;e.input.sels.forEach(function(e){e[t]&&(n=true)});return n}}]};function s(t){return e.show(o,t).resultPromise}return{show:s,component:o}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='\ufeff\n<lui-dialog id="selections-dialog" qv-cancel="closeView($event)">\n\t<lui-dialog-header>\n\t\t<lui-dialog__title q-translation="Devhub.AddData"></lui-dialog__title>\n\t</lui-dialog-header>\n\t<lui-dialog-body>\n\t\t<div class="field-box">\n\t\t\t\x3c!--Select a field dropdown--\x3e\n\t\t\t<div class="select-wrapper">\n\t\t\t\t<lui-select class="select-field" ng-model="selection" x-change="chooseField(selection)" qva-focus="true">\n\t\t\t\t\t<option ng-disabled="true" class="default-option" value="" q-translation="Devhub.SelectField" ng-selected="true"></option>\n\t\t\t\t\t<option ng-repeat="field in fields" ng-value="field.title" ng-disabled="fieldAlreadyAdded(field.qField)">{{field.title}}</option>\n\t\t\t\t</lui-select>\n\t\t\t</div>\n\t\t\t\x3c!--Search field--\x3e\n\t\t\t<div class="dialog-search" ng-show="selection != false">\n\t\t\t\t<lui-search query="valQuery.qText" placeholder="Devhub.Search"></lui-search>\n\t\t\t</div>\n\t\t\t\x3c!--No field selected text--\x3e\n\t\t\t<div class="no_field" ng-if="!fieldVals.length">\n\t\t\t\t<span q-translation="Devhub.SelectField"></span>\n\t\t\t</div>\n\t\t\t\x3c!--No hits on the search--\x3e\n\t\t\t<div class="list-nohits" query="valQuery.qText"\n\t\t\t\t ng-if="valQuery.qText && !(fieldVals|filter:valQuery.qText).length && fieldVals.length">\n\t\t\t\t<span class="query">“<span class="ng-binding">{{valQuery.qText}}</span>”</span>\n\t\t\t\t<span class="message" q-translation="Devhub.Nohits"></span>\n\t\t\t</div>\n\t\t\t\x3c!--The fields list--\x3e\n\t\t\t<div class="dialog-list field-list scrollable" q-scroll\n\t\t\t\t ng-show="fieldVals.length && (fieldVals|filter:valQuery.qText).length">\n\t\t\t\t<ul class="lui-list">\n\t\t\t\t\t<li ng-repeat="vals in fieldVals | filter:valQuery:strict | limitTo:totalDisplayed"\n\t\t\t\t\t\tclass="lui-list__item lui-list__action library-item"\n\t\t\t\t\t\tng-click="select(vals)"\n\t\t\t\t\t\tng-class="{\'selected\': isSelected(vals) || (!vals.qFrequency && vals.qFrequency === null)}">\n\t\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight text="{{vals.qText}}"\n\t\t\t\t\t\t\t query="valQuery.qText" title="{{vals.qText}}"></div>\n\t\t\t\t\t\t<i ng-if="vals.qFreq" class="list-value">{{vals.qFrequency}}</i>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t\x3c!--The selections list--\x3e\n\t\t<div class="selections-box">\n\t\t\t<div class="dialog-list sel scrollable" q-scroll>\n\t\t\t\t<ul>\n\t\t\t\t\t<li ng-repeat="vals in selections" class="tag-list" selection="selection">\n\t\t\t\t\t\t<div class="edit-tag" tabindex="0" title="{{selection}} : {{vals.qText}}"\n\t\t\t\t\t\t\t alt="{{selection}}: {{vals.qText}}">\n\t\t\t\t\t\t\t<div class="tag-text">{{selection}}: "{{vals.qText}}"</div>\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--remove" ng-click="unselect(vals)"\n\t\t\t\t\t\t\t\t  q-title-translation="Tooltip.Deselect"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer>\n\t\t<lui-button ng-click="closeView($event);" name="cancel" q-translation="Devhub.Cancel" tid="cancel"></lui-button>\n\t\t<lui-button ng-click="addSelection($event);" name="add_selection" q-translation="Devhub.Add" tid="add_selection"\n\t\t\t\t\tng-disabled="!selections.length"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>\n'},function(t,e){t.exports='<div class="qw-alert" ng-if="isVisible">\n\t<div class="msg" ng-transclude></div>\n\t<span ng-if="closable" class="lui-icon  lui-icon--close close-icon" q-title-translation="Devhub.Close"\n\t\t  ng-click="close();"></span>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(612),n(45),n(46),n(613),n(119),n(626),n(120),n(232),n(61),n(155),n(54),n(56)],r=function(t,e,n,i){var r=t.getService("qwConverterService");var o=t.getService("qwNavigationService");var s=t.getService("qwCommonService");var a=t.getService("qwConfigService");var l={restrict:"E",replace:true,template:e,controller:["$scope",function(t){t.assets=r.assets();r.setScope(t)}]};var c={toolPath:"converter",toolTitle:"Devhub.QlikViewConverter",helpPage:"Transition",general:{undoRedo:false},rightPanel:{active:true,open:true},leftPanel:{active:true,open:true},toolbarSearch:false,bottomBar:{active:true},selectionsBar:{enabled:false,toggled:false},enableAssetsDropZone:true};var u={text:"Devhub.QlikViewConverter",openInNewTab:"optional",link:o.getBasePath()+"/dev-hub/converter",tid:"89cf60",hide:false,onSelect:function t(e,n){o.openUrlInNewTabIfCtrlKeyPressed(e.ctrlKey||n,this)},disable:false,order:6};o.addToolsPanelItem(u);o.addNavigationMenuItemProvider(function(){return u});o.registerRoute("/dev-hub/converter",function(){a.setToolConfig(c);return n.all({sc:r.init()}).then(function(){s.notifyWatchers("initToolbar");o.getContainer().showComponent(l)},function(){s.notifyWatchers("initToolbar");o.getContainer().showComponent({restrict:"E",replace:true,template:"<div class='qv-dhtr-init-error'>"+i.get("Devhub.ConverterInitError")+"</div>",controller:[function(){}]})})});return l}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<qw-dev-hub-stage>\n\t<qw-assets-panel service="qwConverterService" ng-show="toolConfig.leftPanel.open"></qw-assets-panel>\n\t<qw-work-area class="work-area-converter-tool">\n\t\t<qv-spinner show="spinner" tid="24ed4"></qv-spinner>\n\t\t<qw-dyn-component></qw-dyn-component>\n\t</qw-work-area>\n\t<qw-result-panel service="qwConverterService" ng-show="toolConfig.rightPanel.open"></qw-result-panel>\n</qw-dev-hub-stage>\n'},function(t,e,n){"use strict";var i,r;function o(t){o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return o(t)}!(i=[n(41),n(614),n(52),n(615),n(625)],r=function(t,e,n){t.directive("qwDynComponent",r);var i=t.getService("qwDynComponentService");function r(){return{replace:true,restrict:"E",transclude:true,scope:{service:"@service"},template:e,controller:["$scope",function(t){var e={};var r={};var s="root";var a=[];var l={default:"a"};var c={};var u=t;while(u.$parent&&!u.qwrequires)u=u.$parent;u.key&&(s=u.key);if("root"===s){if(u.qwrequires&&u.qwrequires.root){r=u.qwrequires.root;e[s]=u.qwrequires.root;t.qwrequires=e[s]}}else{r=u.qwrequires[s];Object.keys(r).forEach(function(t){e[t]=r[t]});t.qwrequires=e.qwrequires}e.includes&&Object.keys(e.includes).forEach(function(t){a.push(t)});e.dataAssets=e.dataAssets||{};e.eventAssets=e.eventAssets||u.eventAssets||{};e.dataAssets.stateObject=e.dataAssets.stateObject||{};e.dataAssets.stateObject.default="default";if(e.dataAssets.repeatState&&"default"!==e.dataAssets.repeatState&&"object"!==o(u.$parent.repeat)){e.dataAssets.data.appData&&e.dataAssets.data.appData.repeats&&delete e.dataAssets.data.appData.repeats;l=e.dataAssets.data;c={};e.dataAssets.repeatDataKeys.forEach(function(t){l=l[t]});i.createRepeaterSettings(a,e,l,c);l.repeats&&l[e.dataAssets.stateObject[e.dataAssets.repeatState]].forEach(function(t){-1===l.repeats.indexOf(t)&&l.repeats.push(t)})}else if(u.$parent&&u.$parent.$parent&&u.$parent.$parent.dataAssets&&u.$parent.$parent.dataAssets.data&&u.$parent.$parent.dataAssets.data.appData&&"object"===o(u.$parent.repeat)){l={repeats:[],showDetails:false};c={};e.dataAssets=u.$parent.$parent.dataAssets;e.eventAssets=u.$parent.$parent.eventAssets;Object.keys(e.includes).forEach(function(t){e.dataAssets[t]=e.dataAssets[t]||{};e.dataAssets[t].dataAssets=e.includes[t].dataAssets});if(u.$parent.repeat.index){u.$parent.repeat.showDetails=u.$parent.repeat.showDetails||false;i.createRepeaterSettings(a,e,l,c);u.$parent.repeat.index.forEach(function(t){var e=l.repeats.push(u.$parent.$parent.dataAssets.data.appData[u.$parent.$parent.dataAssets.stateObject.currentView][t])-1;l.repeats[e].showDetails=false;var n=u.$parent.repeat.dataTable;n&&n[1]&&n[1].forEach(function(t){l.repeats[e][t]&&l.repeats[e][t].length>0&&(l.repeats[e].showDetails=true)});l.repeats[e].key=u.$parent.$parent.repeat.key+"::"+l.repeats[e].id});l.dataTable=u.$parent.$parent.repeat.dataTable;l.repeats.length>0&&(u.$parent.repeat.showDetails=l.showDetails=true)}if(!u.$parent.repeat.index&&"leadingRow"!==u.$parent.repeat.id){var d=Array.isArray(u.repeater.dataTable)?u.repeater.dataTable[1]:[];d&&d.forEach(function(t){u.repeat[t]&&u.repeat[t].length>0&&i.createRepeaterSettings(a,e,l,c,t,u.repeat.key);u.repeat[t]&&u.repeat[t].forEach(function(e){var i=l.repeats.push(e)-1;var r=u.$parent.$parent.dataAssets.data.appData[t];var o=e[t.slice(0,-1)].value;var s=u.$parent.$parent.dataAssets.data["indexTable"+n.conversions.capitalizeString(t,false)];l.repeats[i].title=r[s[o]].title;l.repeats[i].key=u.repeat.key+"::"+o})})}l.dataKeys=u.$parent.$parent.repeat.dataKeys;l.key=u.$parent.$parent.repeat.key;t.key=u.$parent.$parent.repeat.key}else{e.dataAssets.repeatState="default";e.dataAssets.default=e.dataAssets.default||"default"}t.qwincludes=a;t.dataAssets=e.dataAssets||{};t.eventAssets=e.eventAssets||{};t.repeater=l;t.repeaterSettings=c;t.dynClasses=e.dynClasses||[]}]}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div\n\tng-hide="repeater.key.toString().length > 0 && !dataAssets.stateObject.toggles[dataAssets.stateObject.currentView][dataAssets.stateObject[dataAssets.repeatState]][repeater.key]"\n\tng-class="[\'qw-dynamic-component\', key, dynClasses]" tid="89cf6e">\n\t<div ng-if="!repeater.repeats || !repeater.repeats.length"\n\t\t ng-repeat="repeat in repeater[dataAssets.stateObject[dataAssets.repeatState]]" ng-class="{\'last\':$last}">\n\t\t<div ng-repeat="include in qwincludes track by $index">\n\t\t\t<div qw-require="include"></div>\n\t\t</div>\n\t\t<div ng-repeat="(key, value) in qwrequires track by $index">\n\t\t\t<qw-dyn-component repeat=repeat></qw-dyn-component>\n\t\t</div>\n\t</div>\n\t<div ng-show="repeater.repeats.length" ng-repeat="repeat in repeater.repeats track by repeat.key+\'-\'+$index"\n\t\t ng-class="{\'last\':$last}">\n\t\t<div ng-repeat="include in qwincludes track by $index">\n\t\t\t<div qw-require="include"></div>\n\t\t</div>\n\t\t<div ng-repeat="(key, value) in qwrequires track by $index">\n\t\t\t<qw-dyn-component repeat=repeat></qw-dyn-component>\n\t\t</div>\n\t</div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(52),n(616),n(617),n(619),n(621),n(623)],r=function(t,e){t.directive("qwRequire",r);var n={};function i(e){n[e]||(n[e]=t.getService("$compile")(e));return n[e]}function r(){return function(n,r,o){var s=t.getService("$parse")(o.qwRequire);var a=s(n);var l=e.conversions.directiveToFile(a);var c="<div qw-"+l;c+=" ></div>";i(c)(n,function(t){r.append(t)})}}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){var e={template:"<div class='lui-button' ng-click='eventAssets.click()'  q-translation='{{dataAssets.label}}'>{{dataAssets.label}}</div>",restrict:"AE",replace:true,controller:["$scope",function(t){t.dataAssets=t.$parent.dataAssets;t.eventAssets=t.$parent.eventAssets}]};t.directive("qwButton",function(){return e})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(618)],r=function(t,e){var n={template:e,restrict:"AE",replace:true,scope:{},controller:["$scope",function(t){t.dataAssets=t.$parent.dataAssets;t.dataAssets.data=t.dataAssets.data||{};t.repeat=t.$parent.repeat||"";t.repeater=t.$parent.repeater||"";t.repeatItem=t.dataAssets.stateObject[t.dataAssets.repeatState];t.eventAssets=t.$parent.eventAssets||{};t.isToggledOpen=false;t.ObjectKeys=Object.keys;if("leadingRow2"===t.repeat.id)t.repeaterSettings=t.repeat;else if(t.$parent.repeaterSettings){t.repeaterSettings="leadingRow"===t.repeat.id?t.$parent.repeaterSettings.leading:t.$parent.repeaterSettings.rowItems;t.repeat.dynValues=t.repeaterSettings.dynValues;t.repeat.dynTypes=t.repeaterSettings.dynTypes}var e=t.dataAssets.stateObject;t.toggleOpen=function(n,i){if(t.repeat.showDetails&&t.repeat.index&&t.repeat.index.length>0&&"INPUT"!==i.target.tagName&&-1===i.target.className.indexOf("lui-checkbox")){var r=e.toggles;r[e.currentView]=r[e.currentView]||{};r[e.currentView][e[t.dataAssets.repeatState]]=r[e.currentView][e[t.dataAssets.repeatState]]||{};r[e.currentView][e[t.dataAssets.repeatState]][n]=!r[e.currentView][e[t.dataAssets.repeatState]][n];t.isToggledOpen=r[e.currentView][e[t.dataAssets.repeatState]][n]}};t.allSelected=t.$parent.eventAssets.getAllSelectedStatus;t.toggleSelect=function(){};t.$parent.eventAssets&&t.$parent.eventAssets.toggleSelect&&(t.toggleSelect=t.$parent.eventAssets.toggleSelect);t.changed=function(){};t.$parent.eventAssets&&t.$parent.eventAssets.change&&(t.changed=t.$parent.eventAssets.change);t.changeValue=function(){};t.$parent.eventAssets&&t.$parent.eventAssets.changeValue&&(t.changeValue=t.$parent.eventAssets.changeValue)}]};t.directive("qwCollapsibleRow",function(){return n})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qw-collapsible-row"\n\t ng-class="{ \'leading-row\': repeaterSettings.id === \'leadingRow\', \'disable-arrow\': !repeat.showDetails, \'item-opened\': isToggledOpen, \'no-visualizations\': repeat.index.length <= 0, \'no-border\':(repeater.repeats && (repeater.repeats.length === 1 && repeater.repeats[0].id === \'leadingRow\') || repeater.repeats.length === 0) }"\n\t ng-click="toggleOpen(repeat.key, $event);">\n\t<div\n\t\tng-show="!repeater.repeats || (repeater.repeats.length === 1 && repeater.repeats[0].id !== \'leadingRow\') || repeater.repeats.length > 1"\n\t\tng-repeat="rep in repeaterSettings.dynTypes track by repeaterSettings.dynValues[$index]"\n\t\tclass="qwCollapsibleRowItem">\n\t\t<span ng-if="rep === \'arrow\'" class="arrow-item lui-icon"\n\t\t\t  ng-class="{\'lui-icon--triangle-right\': !isToggledOpen, \'lui-icon--triangle-bottom\': isToggledOpen }"></span>\n\t\t<div ng-if="rep === \'header\' && !(repeaterSettings.id.lastIndexOf(\'leadingRow\', 0) === 0)" class="header-item">\n\t\t\t{{repeat[repeaterSettings.dynValues[$index]]}} ({{repeat.index.length}})\n\t\t</div>\n\t\t<div ng-if="rep === \'header\' && repeaterSettings.id === \'leadingRow\'" class="title-item"\n\t\t\t q-translation="{{repeat.dynValues[$index]}}"></div>\n\t\t<div ng-if="rep === \'header\' && repeat.id === \'leadingRow2\'" class="title-item second-label"\n\t\t\t q-translation="{{repeat.dynValues[$index]}}"></div>\n\t\t<input ng-if="rep === \'input\'" class="lui-input  lui-input--inverse input-item"\n\t\t\t   value="{{repeat[repeaterSettings.dynValues[$index]]}}"\n\t\t\t   ng-model="repeat[repeaterSettings.dynValues[$index]]" ng-model-options=\'{ debounce: 500 }\'\n\t\t\t   ng-change="changeValue(repeat.id)" q-placeholder="Devhub.UnnamedItem"/>\n\t\t<div ng-if="rep === \'label\'" class="label-item"\n\t\t\t title="{{repeat[repeaterSettings.dynValues[$index]]}} {{repeat[repeaterSettings.params.infos[$index]] ? \'(\' + repeat[repeaterSettings.params.infos[$index]] + \')\' : \'\'}}">\n\t\t\t{{repeat[repeaterSettings.dynValues[$index]]}} {{repeat[repeaterSettings.params.infos[$index]] ? "(" +\n\t\t\trepeat[repeaterSettings.params.infos[$index]] + ")" : ""}}\n\t\t</div>\n\n\t\t<div ng-if="rep === \'fields\'">\n\t\t\t<ul ng-show="repeat[repeaterSettings.dynValues[$index]]" class="fields-item">\n\t\t\t\t<li ng-repeat="field in repeat[repeaterSettings.dynValues[$index]]">{{field}}</li>\n\t\t\t</ul>\n\t\t\t<div class="label-item no-expression" ng-if="!repeat[repeaterSettings.dynValues[$index]]">No fields</div>\n\t\t</div>\n\n\t\t<div ng-if="rep === \'expression\'"\n\t\t\t class="expression-item"\n\t\t\t ng-class="{\'no-expression\': !repeat.definition}">{{repeat[repeaterSettings.dynValues[$index]]\n\t\t\t? repeat[repeaterSettings.dynValues[$index]] : \'Devhub.NoExpression\'}}</div>\n\n\t\t<div ng-if="rep === \'visualization-data\'">\n\t\t\t<ul ng-if="repeat.dimension" class="fields-item">\n\t\t\t\t<li ng-repeat="field in dataAssets.data.appData.dimensions[dataAssets.data.indexTableDimensions[repeat.dimension.value]].fields">\n\t\t\t\t\t{{field}}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="label-item no-expression"\n\t\t\t\t ng-if="repeat.dimension && !dataAssets.data.appData.dimensions[dataAssets.data.indexTableDimensions[repeat.dimension.value]].fields">\n\t\t\t\tNo fields\n\t\t\t</div>\n\n\t\t\t<div ng-if="repeat.measure" class="expression-item">\n\t\t\t\t{{dataAssets.data.appData.measures[dataAssets.data.indexTableMeasures[repeat.measure.value]].definition\n\t\t\t\t? dataAssets.data.appData.measures[dataAssets.data.indexTableMeasures[repeat.measure.value]].definition\n\t\t\t\t: \'Devhub.NoExpression\'}}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<lui-checkbox ng-if="rep === \'checkbox\'"\n\t\t\t\t\t  x-model="dataAssets.stateObject.selected[dataAssets.stateObject.currentView][repeat.id]"\n\t\t\t\t\t  x-variant="inverse" change="changed(repeat.id, undefined, true)"></lui-checkbox>\n\n\t\t<lui-button ng-if="rep === \'selectButtons\'" class="lui-button--inverse select-button" ng-click="toggleSelect();"\n\t\t\t\t\tq-translation="{{allSelected() ? \'Devhub.DeselectAll\' : \'Devhub.SelectAll\' }}"></lui-button>\n\n\t</div>\n\n\t<div\n\t\tng-if="repeater.repeats && (repeater.repeats.length === 1 && repeater.repeats[0].id === \'leadingRow\') || repeater.repeats.length === 0"\n\t\tclass="no-items-text">\n\t\t<span q-translation="Devhub.NoItems"></span>\n\t</div>\n\n</div>\n\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(620)],r=function(t,e){var n={template:e,restrict:"AE",replace:true,scope:{title:"@?",buttons:"=?"},controller:["$scope",function(t){t.dataAssets=t.$parent.dataAssets;t.allSelected=t.$parent.eventAssets.getAllSelectedStatus;t.$parent.eventAssets.createOverlay&&(t.overlay=t.$parent.eventAssets.createOverlay);t.toggleSelect=function(){};t.$parent.eventAssets&&t.$parent.eventAssets.toggleSelect&&(t.toggleSelect=t.$parent.eventAssets.toggleSelect);t.changed=function(){};t.$parent.eventAssets&&t.$parent.eventAssets.change&&(t.changed=t.$parent.eventAssets.change)}]};t.directive("qwGroupingRow",function(){return n})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qw-grouping-row">\n\t<div class="button-wrapper">\n\t\t<span class="grouping-row-title" q-translation="Devhub.Sheets"></span>\n\t\t<lui-radiobutton ng-repeat="button in dataAssets.buttons" x-model="dataAssets.stateObject[dataAssets.state]"\n\t\t\t\t\t\t x-variant="inverse" value="{{button.value}}" ng-click="overlay()">{{ button.label | translate\n\t\t\t}}\n\t\t</lui-radiobutton>\n\t</div>\n\t<lui-button ng-if="dataAssets.selectButtons" class="lui-button--inverse select-button" ng-click="toggleSelect();"\n\t\t\t\tq-translation="{{allSelected() ? \'Devhub.DeselectAll\' : \'Devhub.SelectAll\'}}"></lui-button>\n</div>\n\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(622),n(155)],r=function(t,e,n){var i=t.getService("qwConverterService");var r=t.getService("$timeout");var o={replace:false,restrict:"AE",transclude:true,scope:{dynamic:"@dynamic"},template:n,controller:["$scope","luiTooltip",function(t,n){t.dataAssets=t.$parent.dataAssets;var o=null;t.tabStates={selected:""};t.activateTab=function(t){r(function(){i.changeView(t.ref)})};t.showTooltip=function(t,i){o=n.show({template:"<lui-tooltip x-dock='dock' x-arrow='arrow' class='converter-tool-tooltip'>"+e.get(i)+"</lui-tooltip>",alignTo:t.target,dock:"bottom"})};t.hideTooltip=function(){if(o){o.close();o=null}};t.changeState=function(e){r(function(){t.tabStates.selected=e})};i.setComponent("qwTransTabset",t)}]};t.directive("qwTransTabset",function(){return o})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qw-trans-tabset">\n\t<lui-tab-view class="dhtr-tabs">\n\t\t<lui-tabset class="lui-bg-inverse" fill="true" active-tab="tabStates.selected">\n\t\t\t<lui-tab variant="inverse" ng-repeat="tab in dataAssets.tabs" ref="{{tab.ref}}" on-tab-selected="activateTab( tab )">\n\t\t\t\t<span class="lui-tab__text" q-title-translation="{{tab.label}}" q-translation="{{tab.label}}"></span>\n\t\t\t\t<span ng-if="tab.tooltip" class="lui-icon  lui-icon--info" ng-mouseover="showTooltip( $event, tab.tooltip )"\n\t\t\t\t ng-mouseleave="hideTooltip()"></span>\n\t\t\t</lui-tab>\n\t\t</lui-tabset>\n\t</lui-tab-view>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(624)],r=function(t,e){var n={template:e,restrict:"AE",replace:true,controller:[function(){}]};t.directive("qwWelcomeScreen",function(){return n})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="welcome-screen">\n\t<div class="content-wrapper">\n\t\t<span class="welcome-screen-title" q-translation="Devhub.WelcomeToQVConverter"></span>\n\t\t<span class="welcome-screen-text" q-translation="Devhub.WelcomeScreenDescription"></span>\n\t\t<div class="dropzone-wrapper">\n\t\t\t<qw-drop-zone-js service="qwConverterService"></qw-drop-zone-js>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41)],r=function(t){var e=0;t.service("qwDynComponentService",[function(){function t(t,n,i,r,o,s){t.forEach(function(t){if(n.includes[t]&&n.includes[t].dataAssets){if(n.includes[t].dataAssets.leading){var a=true;if(n.includes[t].dataAssets.leading.condition&&!Array.isArray(n.includes[t].dataAssets.leading.condition)){var l=n.includes[t].dataAssets.leading.condition;var c=l.substr(0,l.indexOf("=")).replace(/'/g,"").trim();var u=l.substr(l.lastIndexOf("=")+1).replace(/'/g,"").trim();n.dataAssets.stateObject[c]!==u&&(a=false)}if(a){var d=1;var p=true;i.repeats=i.repeats||[];n.includes[t].dataAssets.leading.key=s+"-"+e;e=e<1e5?e+1:0;if(n.includes[t].dataAssets.leading2){n.includes[t].dataAssets.leading2.key=s+"-"+e;e=e<1e5?e+1:0}if(o&&!s)if(i.repeats[0]&&"leadingRow"===i.repeats[0].id){i.repeats[0]=JSON.parse(JSON.stringify(n.includes[t].dataAssets.leading));n.includes[t].dataAssets.leading2&&(i.repeats[1]=JSON.parse(JSON.stringify(n.includes[t].dataAssets.leading2)))}else{d=i.repeats.push(JSON.parse(JSON.stringify(n.includes[t].dataAssets.leading)));n.includes[t].dataAssets.leading2&&i.repeats.push(JSON.parse(JSON.stringify(n.includes[t].dataAssets.leading)))}else{d=i.repeats.push(JSON.parse(JSON.stringify(n.includes[t].dataAssets.leading)));n.includes[t].dataAssets.leading2&&i.repeats.push(JSON.parse(JSON.stringify(n.includes[t].dataAssets.leading2)))}o&&i.repeats[d-1].dynValues.forEach(function(t,e){"qwview"===t&&(i.repeats[d-1].dynValues[e]="Devhub."+o)});i.repeats[d-1].dynValues&&i.repeats[d-1].dynValues.length>0&&i.repeats[d-1].dynValues.forEach(function(t,e){if(i.repeats[d-1].condition&&Array.isArray(i.repeats[d-1].condition)&&i.repeats[d-1].condition[e]){var r=i.repeats[d-1].condition[e];var o=r.substr(0,r.indexOf("=")).replace(/'/g,"").trim();var s=r.substr(r.lastIndexOf("=")+1).replace(/'/g,"").trim();n.dataAssets.stateObject[o]!==s&&(p=false)}p&&t.indexOf("[")>-1&&t.indexOf("]")>-1?i.repeats[d-1].dynValues[e]="Devhub."+n.dataAssets.stateObject[t.substr(t.indexOf("[")+1,t.indexOf("]")-t.indexOf("[")-1)]:p||(i.repeats[d-1].dynValues[e]="")});r.leading={};r.leading.dynTypes=n.includes[t].dataAssets.leading.dynTypes;r.leading.dynValues=n.includes[t].dataAssets.leading.dynValues;r.leading.translator=n.includes[t].dataAssets.leading.translator;r.leading.id=n.includes[t].dataAssets.leading.id;r.leading.condition=n.includes[t].dataAssets.leading.condition;r.leading.params=n.includes[t].dataAssets.params||{}}}if(n.includes[t].dataAssets.rowItems){r.rowItems={};r.rowItems.dynTypes=n.includes[t].dataAssets.rowItems.dynTypes;r.rowItems.dynValues=n.includes[t].dataAssets.rowItems.dynValues;r.rowItems.params=n.includes[t].dataAssets.params||{};r.rowItems.eventAssets=n.includes[t].dataAssets.eventAssets||{}}n.includes[t].eventAssets&&(r.eventAssets=n.includes[t].eventAssets)}})}return{createRepeaterSettings:t}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(627),n(58),n(121),n(157),n(122)],r=function(t,e,n,i,r,o){var s=e.getService("luiDialog");e.directive("qwResultPanel",function(){return{replace:true,restrict:"E",scope:{service:"@service"},template:i,controller:["$scope","$element","$timeout",function(i,a,l){var c=e.getService(i.service);var u=e.getService("toastService");i.data=c.data;i.selected=c.states.selected;i.states=c.states;i.senseApps=c.assets().senseApps;i.existingSenseApp=false;i.status={CREATING_APP:false};i.dataAssets={title:"Devhub.SelectedItems",sections:[{header:"Devhub.Visualizations",selected:true,type:"Visualizations"},{header:"Devhub.Dimensions",selected:false,type:"Dimensions"},{header:"Devhub.Measures",selected:false,type:"Measures"},{header:"Devhub.Variables",selected:false,type:"Variables"}],button:{title:"Devhub.CreateApp",onActivated:function t(){if(i.existingSenseApp)s.show({controller:o.component.controller,template:o.component.template,closeOnEscape:false,input:{title:"Devhub.UpdateApp",message:"Devhub.UpdateAppMsg",buttons:[{title:"Devhub.Cancel",tid:"24f7f"},{title:"Devhub.OK",tid:"24f7e"}],actions:{"Devhub.OK":function t(){i.status.CREATING_APP=true;c.createSenseApp(i.states.currentApp).then(function(){u.showToast({message:n.get("Devhub.ConverterAppUpdatedToastMsg")})}).finally(function(){i.status.CREATING_APP=false})},"Devhub.Cancel":function t(){i.status.CREATING_APP=false}}}});else{i.status.CREATING_APP=true;c.createSenseApp(i.states.currentApp).then(function(){c.getUnpublishedApps().then(function(t){i.senseApps=t;i.existingSenseApp=d(i.states.currentApp,i.senseApps);u.showToast({message:n.get("Devhub.ConverterAppCreatedToastMsg")})})}).finally(function(){i.status.CREATING_APP=false})}}}};function d(t,e){var n=false;for(var i=0;i<e.length;i++)if(e[i].type===t||e[i].type===t+".qvf"){n=true;break}return n}i.$watch("states.currentApp",function(t,e){t!==e&&(i.existingSenseApp=d(t,i.senseApps))});i.getSectionList=function(t){var e=[];i.getSelected(t).forEach(function(n){e.push(i.data.appData[t.toLowerCase()][n])});return e};i.getVisList=function(t){var e=[];i.getSelectedVisByType(t).forEach(function(t){e.push(i.data.appData["visualizations"][t.key])});return e};i.getSelectedVisByType=function(t){var e=[];i.getSelected("Visualizations").forEach(function(n){n&&n.type===t&&e.push(n)});return e};i.getSelected=function(t){var e=[];if("Variables"===t)e=i.data["indexTable"+t]?Object.keys(i.data["indexTable"+t]):[];else for(var n in i.states.selected[t.toLowerCase()])i.states.selected[t.toLowerCase()][n]&&e.push(i.data["indexTable"+t][n]);return e};i.getRatioString=function(t){var e=i.getSelected(t).length;var n=i.data["indexTable"+t]?Object.keys(i.data["indexTable"+t]).length:"0";return"("+e+"/"+n+")"};var p=function t(){l(function(){f.accordion("refresh")})};var f;l(function(){f=a.find("div.result-content > div:first-child");f.accordion({fillSpace:true,heightStyle:"fill",animate:!("ontouchstart"in window)&&"swing",active:0,beforeActivate:function e(n){l(function(){var e=t(n.currentTarget).scope();i.dataAssets.sections.forEach(function(t){t.selected=false});e.section.selected=true;"Variables"===e.section.type?t(".result-button").addClass("dark-border"):t(".result-button").removeClass("dark-border")})}});p()});r.on("end",p)}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="result-panel">\n\t<div class="result-header">\n\t\t<div class="title" q-translation="{{dataAssets.title}}"></div>\n\t</div>\n\t<div class="result-content">\n\t\t<div>\n\t\t\t\x3c!-- Headers  --\x3e\n\t\t\t<div ng-repeat-start="section in dataAssets.sections" class="opt-border border-general">\n\t\t\t\t<div class="content-header" ng-class="{\'selected\' : section.selected}">\n\t\t\t\t\t<div class="content-header-title" q-translation="{{section.header}}"></div>\n\t\t\t\t\t<span>&nbsp; {{getRatioString(section.type)}}</span>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div ng-repeat-end class="content">\n\t\t\t\t\x3c!-- Visualizations --\x3e\n\t\t\t\t<div class="select-container" ng-if="section.type === \'Visualizations\' && visType !== \'tbd\'"\n\t\t\t\t\t ng-repeat="(visType, item) in data.indexTableVisualizationsType" ng-init="open = false">\n\t\t\t\t\t<div class="expandable-header" ng-click="open = !open">\n\t\t\t\t\t\t<span class="lui-icon"\n\t\t\t\t\t\t\t  ng-class="{ \'lui-icon--triangle-bottom\' : open, \'lui-icon--triangle-right\' : !open }"></span>\n\t\t\t\t\t\t<span>{{visType}} ({{getSelectedVisByType(visType).length}}/{{item.index.length}})</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="list-content indented" ng-if="open"\n\t\t\t\t\t\t ng-repeat="vis in getVisList(visType) | orderBy : \'title\'">\n\t\t\t\t\t\t<span>{{vis.title}}</span>\n\t\t\t\t\t\t<span class="unnamed-title" ng-if="!vis.title" q-translation="Devhub.UnnamedItem"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="list-content no-items" ng-if="open && getSelectedVisByType(visType).length === 0">\n\t\t\t\t\t\t<span class="unnamed-title" ng-if="!vis.title" q-translation="Devhub.NoItem"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Dimensions and Measures --\x3e\n\t\t\t\t<div class="list-content" ng-if="section.type !== \'Visualizations\' && section.type !== \'Variables\'"\n\t\t\t\t\t ng-repeat="item in getSectionList(section.type) | orderBy: \'title\' track by $index">\n\t\t\t\t\t<span>{{item.title}}</span>\n\t\t\t\t\t<span class="unnamed-title" ng-if="section.type !== \'Variables\' ?  !item.title : !item.id"\n\t\t\t\t\t\t  q-translation="Devhub.UnnamedItem"></span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Variables --\x3e\n\t\t\t\t<div class="list-content" ng-if="section.type === \'Variables\'"\n\t\t\t\t\t ng-repeat="item in getSelected(section.type) track by $index">\n\t\t\t\t\t<span>{{item}}</span>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- No item text --\x3e\n\t\t\t\t<div class="list-content no-items"\n\t\t\t\t\t ng-if="section.type !== \'Visualizations\' && getSelected(section.type).length === 0">\n\t\t\t\t\t<span class="unnamed-title" ng-if="!vis.title" q-translation="Devhub.NoItem"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="result-button">\n\t\t<lui-button ng-if="!existingSenseApp" class="lui-button--block" variant="inverse"\n\t\t\t\t\tq-translation="{{status.CREATING_APP ? \'Devhub.Creating\' : dataAssets.button.title }}"\n\t\t\t\t\tng-disabled="status.CREATING_APP" ng-click="dataAssets.button.onActivated();"\n\t\t\t\t\tng-attr-tid="{{status.CREATING_APP ? \'24f1c\' : \'24f1e\'}}"></lui-button>\n\t\t<lui-button ng-if="existingSenseApp" class="lui-button--block" variant="inverse"\n\t\t\t\t\tq-translation="{{status.CREATING_APP ? \'Devhub.Updating\' : \'Devhub.UpdateApp\' }}"\n\t\t\t\t\tng-disabled="status.CREATING_APP" ng-click="dataAssets.button.onActivated();"\n\t\t\t\t\tng-attr-tid="{{status.CREATING_APP ? \'24f20\' : \'24f1f\'}}"></lui-button>\n\t</div>\n\t<div ng-class="{\'qw-disabled\' : !data.appData}"></div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(629),n(52),n(46),n(62),n(45),n(107),n(630),n(61),n(86),n(54),n(56),n(66),n(161),n(151),n(653),n(655),n(152)],r=function(t,e,n,i,r,o,s,a){var l=e.getService("qwNavigationService");var c=e.getService("qwMenuService");var u=e.getService("qwExtensionEditorService");var d=e.getService("qwCommonService");var p=e.getService("qwConfigService");var f={};var h={restrict:"E",replace:true,template:n,controller:["$scope",function(t){t.editors=f;t.assets=u.assets;t.dialogs=u.dialogs;t.translator=r;t._=o;t.supportedFileTypes=d.constants.EDITOR_SUPPORTED_FILE_TYPES;t.parsedFileTypesString=i.fileExtensionArrayToString(t.supportedFileTypes.source.concat(t.supportedFileTypes.media));t.gotoDevHub=function(){window.location.href=l.getBasePath()+"/dev-hub/"};t.editorConfigProvider=function(e){var n=parseInt(e.split("_")[1]);return{mode:t.assets.files[n].mode,showHint:true,styleActiveLine:true,value:t.assets.files[n].content,data:t.assets.files[n],readOnly:t.assets.permissions.readOnly}};t.refreshEditor=function(){e.$rootScope.$broadcast("refresh")}}]};var v={toolPath:"extension-editor",toolTitle:"Devhub.ExtensionEditor",helpPage:"WorkbenchIntro",general:{undoRedo:false},rightPanel:{active:false,open:false},leftPanel:{active:false,open:false},toolbarSearch:false,bottomBar:{active:false},entity:"visualization",selectionsBar:{enabled:false,toggled:false}};var g={text:"Devhub.ExtensionEditor",openInNewTab:"optional",link:l.getBasePath()+"/dev-hub/extension-editor",tid:"5c7c5b",entity:"visualization",hide:false,onSelect:function t(e,n){l.openUrlInNewTabIfCtrlKeyPressed(e.ctrlKey||n,this)},disabled:false,order:2};l.addNavigationMenuItemProvider(function(){return g});l.addToolsPanelItem(g);function m(t){var e=Object.keys(f);for(var n=0;n<e.length;n++){var i=f[e[n]];if(i.data.fileName===t)return i.codeMirror}}function b(){u.save().then(function(){d.notifyWatchers("projectFilesSaved")})}l.registerRoute("/dev-hub/extension-editor",function(){p.setToolConfig(v);return s.all({ees:u.init(m)}).then(function(){function e(){return[{icon:"lui-icon--plus",title:0===u.assets.templateList.length?"Tooltip.NoTemplates":"Devhub.CreateNewProject",text:"Devhub.CreateNewProject",openInNewTab:false,tid:"8c8e15",onSelect:function t(){u.assets.extensionUniqueName&&u.assets.isDirty()?u.dialogs.alertSaveFileDialog(u.dialogs.createExtensionDialog):u.dialogs.createExtensionDialog()},disabled:!u.assets.permissions.create||0===u.assets.templateList.length},{icon:"lui-icon--folder",title:0===u.assets.extensionList.length||1===u.assets.extensionList.length&&u.assets.extensionUniqueName?"DevHub.NoProjectsToOpen":"Devhub.OpenProject",text:"Devhub.OpenProject",openInNewTab:false,tid:"8c8e0b",onSelect:function t(){u.assets.extensionUniqueName&&u.assets.isDirty()?u.dialogs.alertSaveFileDialog(u.dialogs.openExtensionDialog):u.dialogs.openExtensionDialog()},disabled:0===u.assets.extensionList.length||1===u.assets.extensionList.length&&u.assets.extensionUniqueName},{icon:"lui-icon--import",title:"Devhub.ImportFile",text:"Devhub.ImportFile",openInNewTab:false,tid:"602441",onSelect:function e(){u.dialogs.importFileDlg(t("#selectFileControl"))},disabled:!u.assets.extensionUniqueName||u.assets.permissions.readOnly},{icon:"lui-icon--plus",title:"Devhub.NewFile",text:"Devhub.NewFile",openInNewTab:false,tid:"5c7c5d",onSelect:function t(){u.dialogs.showNewFileDlg()},disabled:!u.assets.extensionUniqueName||u.assets.permissions.readOnly},{icon:"lui-icon--close",title:"Devhub.CloseProject",text:"Devhub.CloseProject",openInNewTab:false,tid:"8c8e16",onSelect:function t(){u.assets.isDirty()?u.dialogs.alertSaveFileDialog(function(){u.assets.isDirty=function(){return false};i.reload(true)}):i.reload(true)},disabled:!u.assets.extensionUniqueName}]}var n=[{textInactive:"Devhub.Save",tooltipInactive:"Devhub.Save",showText:function t(){return true},tid:"211fe3",position:{left:true},isDisabled:function t(){return!u.assets.isDirty()},onButtonClicked:b}];c.addMenuItemProvider(e);n.forEach(function(t){c.addButton(t)});d.notifyWatchers("initToolbar");l.getContainer().showComponent(h);var r=a.createGroup("extensionEditor",10);r.registerKeys("ctrl+s",b,{allowInInput:true});r.on()})});return h}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<qw-dev-hub-stage>\n\t<qw-work-area class="work-area-extension-editor">\n\t\t<lui-tab-view class="tab-view" ng-if="assets.permissions.show && assets.extensionUniqueName">\n\t\t\t<div class="tabset-wrapper">\n\t\t\t\t<lui-tabset class="tabset" active-tab="assets.activeTab" class="lui-bg-inverse">\n\t\t\t\t\t<lui-tab class="tab file" variant="inverse" on-tab-selected="refreshEditor()" ng-repeat="file in assets.files" ref="{{file.fileName}}" title="{{file.fileName}}">\n\t\t\t\t\t\t<div class="tab-label-wrapper">\n\t\t\t\t\t\t\t<span class="lui-tab__text">{{file.fileName}}<span class="dirty" ng-if="file.isDirty">*</span></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<lui-tab-aside ng-if="(file.extension !== \'qext\' && !assets.permissions.readOnly)" class="lui-icon" x-icon="bin" q-title-translation="Devhub.Delete" on-activated="dialogs.showFileDeleteDlg( file )"></lui-tab-aside>\n\t\t\t\t\t</lui-tab>\n\t\t\t\t</lui-tabset>\n\t\t\t\t<tabview-scroller show-new-button="{{!assets.permissions.readOnly}}" on-new-activated="dialogs.showNewFileDlg()"\n\t\t\t\t\t\t\t\t  icon-new-title="{{translator.get(\'Devhub.NewFile\')}}" icon-prev-title="{{translator.get(\'Devhub.ScrollLeft\')}}" icon-next-title="{{translator.get(\'Devhub.ScrollRight\')}}">\n\t\t\t\t</tabview-scroller>\n\t\t\t</div>\n\t\t\t<div class="tab-content-wrapper">\n\t\t\t\t<lui-tab-content class="tab-content" ng-repeat="file in assets.files" ref="{{file.fileName}}">\n\t\t\t\t\t<qw-editor class="editor"\n\t\t\t\t\t\t\t   qw-autocomplete\n\t\t\t\t\t\t\t   ng-if="(_.contains(supportedFileTypes.source, file.extension.toLowerCase()))"\n\t\t\t\t\t\t\t   editor-config-provider="editorConfigProvider"\n\t\t\t\t\t\t\t   editor-id="{{\'extensionEditor_\'+$index}}"\n\t\t\t\t\t\t\t   editors="editors">\n\t\t\t\t\t</qw-editor>\n\t\t\t\t\t<qw-renderer-image ng-if="_.contains(supportedFileTypes.media, file.extension)"\n\t\t\t\t\t\t\t\t\t   base-url="{{assets.baseUrl}}" file="file"></qw-renderer-image>\n\t\t\t\t\t<div\n\t\t\t\t\t\tng-if="!(_.contains(supportedFileTypes.source.concat(supportedFileTypes.media), file.extension.toLowerCase()))"\n\t\t\t\t\t\tclass="unsupported-file" q-translation="DevHub.UnsupportedFileType"></div>\n\t\t\t\t</lui-tab-content>\n\t\t\t</div>\n\t\t</lui-tab-view>\n\t\t<div ng-if="assets.permissions.show && !assets.extensionUniqueName" class="ee-default-view">\n\t\t\t<div class="hint-wrapper">\n\t\t\t\t<div class="hint-header" q-translation="Devhub.NoExtensionItem"></div>\n\t\t\t\t<div class="hint-text" q-translation="Devhub.NoProjectAction"\n\t\t\t\t\t q-html-translation-indexes=\'["<i class=\\"lui-icon  lui-icon--unordered-list\\"></i>"]\'></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-if="!assets.permissions.show" class="ee-default-view">\n\t\t\t<div class="hint-wrapper">\n\t\t\t\t<div class="hint-header" q-translation="DevHub.NoEditorAccess"></div>\n\t\t\t</div>\n\t\t</div>\n\t</qw-work-area>\n\t<input id="selectFileControl" type="file" style="position:absolute;left:-999px;" accept={{parsedFileTypesString}}>\n</qw-dev-hub-stage>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(70),n(45),n(52),n(46),n(77),n(101),n(88),n(66),n(61),n(85),n(56)],r=function(t,e,n,i,r,o,s,a){var l=t.getService("qwNavigationService");var c=t.getService("qwPermissionService");var u=t.getService("qwConfigService");var d=t.getService("luiDialog");var p;t.service("qwExtensionEditorService",[function(){var t={extensionUniqueName:null,type:c.entities.visualization,files:[],extensionList:[],templateList:[],isDirty:function e(){var n=t.files.filter(function(t){return true===t.isDirty});return n.length>0}};var h;function v(){t.files.length=0;t.extensionUniqueName=null;window.location.hash=""}var g=function o(s){p=s;h=u.getToolConfig();t.extensionList.length=0;t.templateList.length=0;return n.all({groupedExtensions:e.getExtensionsFromRepo(true),permissions:c.getPermissions(c.entities.visualization)}).then(function(e){t.translator=r;t.permissions=e.permissions;t.templateList=y(e.groupedExtensions.templateList);t.extensionList=e.groupedExtensions.extensionList.filter(function(t){return"visualization"===t.qext.type});window.onbeforeunload=function(){if(t.isDirty())return r.get("Devhub.AlertUnsavedFilesMessage")};var n=i.getHashParameter("qext");t.baseUrl=l.getBasePath()+"/extensions/"+n;if(n)return b(n);x.welcomeDialog()})};var m=function n(){return e.saveFilesToRepo(t,p).catch(s.handleSaveError)};var b=function n(i){t.extensionUniqueName=i;return e.getExtensionFileObjectsFromRepo(i,"visualization").then(function(e){t.files=e}).catch(function(t){switch(t.errName){case"loadFilesFromRepo":f.raiseException(null,t.errMessage,t);break;case"wbFolderEmpty":f.raiseError(null,t.errMessage);break;case"ErrorIncompleteWbFolder":v();f.raiseError(null,t.errMessage);break;default:f.raiseException(null,r.get("Devhub.ErrorRetrievingExtFiles"),t);break}})};function y(t){var e=t.filter(function(t){return"visualization"===t.type});return 0===e.length?[]:e[0].items}var x={welcomeDialog:function e(){a.showWelcomeDialog({toolConfig:h,buttons:[{text:"Devhub.CreateNewProject",title:t.permissions.create?0===t.templateList.length?"Tooltip.NoTemplates":"":"Tooltip.NoExtensionCreatePermission",iconClass:"lui-icon--plus",onActivated:function t(){x.createExtensionDialog()},disabled:!t.permissions.create||0===t.templateList.length},{text:"Devhub.OpenProject",title:0===t.extensionList.length?"DevHub.NoProjectsToOpen":"",iconClass:"lui-icon--folder",onActivated:function t(){x.openExtensionDialog()},disabled:0===t.extensionList.length}]})},createExtensionDialog:function e(){a.createExtension("visualization").then(function(e){if(e&&e.cancel)return true;t.isDirty=function(){return false};l.openExtension(e.extensionUniqueName,e.type)})},openExtensionDialog:function e(){a.openExtension({type:"visualization",currentExtension:t.extensionUniqueName}).then(function(e){t.isDirty=function(){return false};l.openExtension(e.id,"visualization",false)})},showNewFileDlg:function e(){return a.showNewFileDialog(t)},showFileDeleteDlg:function n(i){d.show({controller:o.component.controller,template:o.component.template,input:{title:"Devhub.DeleteFileDlgTitle",message:"Devhub.DeleteFileDlgMessage",button:{name:"Devhub.Delete",tid:"9d0c08",callback:function n(){e.deleteFile(i,t).catch(function(t){s.handleDeleteError(t,r.get("Devhub.ErrorFileDelete",i.fileName))})}}}})},importFileDlg:function n(i){var r=i.clone(false);r.change(function(n){n.preventDefault();e.importFromLocal(r[0].files[0],t).then(function(e){t.files=e.files;t.activeTab=t.activeTab=t.files.length>0?t.files[t.files.length-1].fileName:t.activeTab}).catch(function(t){f.raiseException(null,t.errMessage,t)})});return r.click()},alertSaveFileDialog:function t(e){a.openAlertSaveFileDialog(e)}};return{init:g,assets:t,save:m,dialogs:{showFileDeleteDlg:x.showFileDeleteDlg,importFileDlg:x.importFileDlg,showNewFileDlg:x.showNewFileDlg,openExtensionDialog:x.openExtensionDialog,createExtensionDialog:x.createExtensionDialog,alertSaveFileDialog:x.alertSaveFileDialog},__onlytest__:{_openExtensionFiles:b}}}]);var f=t.getService("qwErrorService")}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qw-editor">\n\t<div class="wrapper" ng-if="editorConfiguration.toolbarConfig">\n\n\t\t<span class="header"\n\t\t\t  ng-if="editorConfiguration.toolbarConfig.title">{{editorConfiguration.toolbarConfig.title}}</span>\n\n\t\t<div ng-if="editorConfiguration.toolbarConfig.onEditorToggleMaximize" class="btn right distraction_free"\n\t\t\t ng-click="toggleMaximize($event)">\n\t\t\t<span class="lui-icon expand-icon"\n\t\t\t\t  ng-class="editorConfiguration.toolbarConfig.maximized ? \'lui-icon--collapse\' : \'lui-icon--expand\'"\n\t\t\t\t  q-title-translation="Devhub.ZoomIn"></span>\n\t\t</div>\n\n\t\t<div ng-if="editorConfiguration.toolbarConfig.fontResizePanel">\n\t\t\t<div class="btn text-size no-border" ng-class="{\'disabled\': fontSize === fontMax }"\n\t\t\t\t ng-click="changeFontSize(\'increase\')" q-title-translation="Tooltip.IncreaseFontSize">\n\t\t\t\t<span>A</span>\n\t\t\t\t<span class="plus-minus">+</span>\n\t\t\t</div>\n\t\t\t<div class="btn text-size small-size" ng-class="{\'disabled\': fontSize === fontMin }"\n\t\t\t\t ng-click="changeFontSize(\'decrease\')" q-title-translation="Tooltip.DecreaseFontSize">\n\t\t\t\t<span>A</span>\n\t\t\t\t<span class="plus-minus">-</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div ng-if="editorConfiguration.toolbarConfig.undoRedoPanel">\n\t\t\t<span class="lui-icon  lui-icon--forward btn no-border undo_redo" q-title-translation="Devhub.Redo"\n\t\t\t\t  ng-click="editorConfiguration.codeMirror.getDoc().redo()"\n\t\t\t\t  ng-class="{ \'disabled\' : redoDisabled }"></span>\n\t\t\t<span class="lui-icon  lui-icon--back btn undo_redo" q-title-translation="Devhub.Undo"\n\t\t\t\t  ng-click="editorConfiguration.codeMirror.getDoc().undo()"\n\t\t\t\t  ng-class="{ \'disabled\' : undoDisabled }"></span>\n\t\t</div>\n\n\t\t<div ng-if="editorConfiguration.toolbarConfig.showInsertButton">\n\t\t\t<div class="btn insert_dialog" q-title-translation="Devhub.ToggleInsert" q-translation="Devhub.ToggleInsert"\n\t\t\t\t ng-click="editorConfiguration.handlers.openInsertDialog($event)"></div>\n\t\t</div>\n\n\t</div>\n\t<div class="qw-editor-container"\n\t\t ng-class="editorConfiguration.toolbarConfig ? \'qw-editor-container-with-toolbar\': \'qw-editor-container-without-toolbar\'"></div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(49),n(47),n(52)],r=function(t,e,n,i){function r(){return n.isMSIE()||n.isEdge()}var o=i.debounce(function(t,n){var i=[36,35,38,40,33,32,34,37,39,13,9,27,8,46,45,78,17,18,229];var o=["{","}","[","]","(",")","<",">",";",","];var s=["ja","ja-jp","zh","zh-Hans","zh-cn","zh-hans-cn","zh-sg","zh-hans-sg","zh-Hant","zh-hk","zh-mo","zh-tw","zh-hant-hk","zh-hant-mo","zh-hant-tw","bn","bn-bd","bn-in,hi","hi-in","he","he-il","ar","ar-sa","ar-ae","ar-bh","ar-dz","ar-eg","ar-iq","ar-jo","ar-kw","ar-lb","ar-ly","ar-ma","ar-om","ar-qa","ar-sy","ar-tn","ar-ye"];if(r()&&-1!==n.locale.indexOf(s))return true;if(-1===i.indexOf(n.keyCode)){var a=t.getCursor(),l=t.getTokenAt(a);if(l.string.trim().length>=1&&-1===o.indexOf(l.string)){var c,u={completeSingle:false};switch(t.getMode().name){case"htmlmixed":case"xml":c=e.helpers.hint.html;break;default:case"javascript":c=e.helpers.hint.javascript;break;case"css":c=e.helpers.hint.css;break}t.options.hintOptions=u;t.showHint(t,c,u)}}},400,window);t.directive("qwAutocomplete",function(){var t=["html","css","htm","js"];return{restrict:"A",require:"qwEditor",link:function e(n,i,r,s){s.editorConfiguration.data&&-1!==t.indexOf(s.editorConfiguration.data.extension)&&s.editorConfiguration.codeMirror.on("keyup",o)}}})}.apply(e,i),void 0!==r&&(t.exports=r))},,,,,,,,,,,,,,function(t,e,n){"use strict";var i,r;!(i=[n(46),n(49)],r=function(t,e){(function(){function n(t,e){"string"===typeof t?t=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e?"gi":"g"):t.global||(t=new RegExp(t.source,t.ignoreCase?"gi":"g"));return{token:function e(n){t.lastIndex=n.pos;var i=t.exec(n.string);if(i&&i.index===n.pos){n.pos+=i[0].length;return"searching"}i?n.pos=i.index:n.skipToEnd()}}}function i(){this.posFrom=this.posTo=this.lastQuery=this.query=null;this.overlay=null}function r(t){return t.state.search||(t.state.search=new i)}function o(t){return"string"===typeof t&&t===t.toLowerCase()}function s(t,e,n){return t.getSearchCursor(e,n,o(e))}function a(t,e,n,i){t.openDialog(e,i,{value:n,selectValueOnOpen:true,closeOnEnter:false,onClose:function e(){v(t)}})}function l(t,e,n,i,r){var o={value:i,selectValueOnOpen:true,onKeyUp:function t(){}};t.openDialog?t.openDialog(e,r,o):r(prompt(n,i))}function c(t,e,n,i){t.openConfirm?t.openConfirm(e,i):confirm(n)&&i[0]()}function u(t){return t.replace(/\\(.)/g,function(t,e){if("n"===e)return"\n";if("r"===e)return"\r";return e})}function d(t){var e=t.match(/^\/(.*)\/([a-z]*)$/);if(e)try{t=new RegExp(e[1],-1===e[2].indexOf("i")?"":"i")}catch(t){return t}else t=u(t);("string"===typeof t?""===t:t.test(""))&&(t=/x^/);return t}function p(t,e,i){e.queryText=i;e.query=d(i);t.removeOverlay(e.overlay,o(e.query));e.overlay=n(e.query,o(e.query));t.addOverlay(e.overlay);if(t.showMatchesOnScrollbar){if(e.annotate){e.annotate.clear();e.annotate=null}e.annotate=t.showMatchesOnScrollbar(e.query,o(e.query))}}function f(n,i,o){var s=t.get("Devhub.Search")+': <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span class="CodeMirror-search-hint">'+t.get("Devhub.SearchHint")+"</span>";var c=r(n);if(c.query)return h(n,i);var u=n.getSelection()||c.lastQuery;if(o&&n.openDialog){var d=null;a(n,s,u,function(t,i){e.e_stop(i);if(!t)return;t!==c.queryText&&p(n,c,t);d&&(d.style.opacity=1);h(n,i.shiftKey,function(t,e){var i;e.line<3&&document.querySelector&&(i=n.display.wrapper.querySelector(".CodeMirror-dialog"))&&i.getBoundingClientRect().bottom-4>n.cursorCoords(e,"window").top&&((d=i).style.opacity=.4)})})}else l(n,s,"<span>"+t.get("Devhub.Search")+"</span>:",u,function(t){t&&!c.query&&n.operation(function(){p(n,c,t);c.posFrom=c.posTo=n.getCursor();h(n,i)})})}function h(t,n,i){t.operation(function(){var o=r(t);var a=s(t,o.query,n?o.posFrom:o.posTo);if(!a.find(n)){a=s(t,o.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0));if(!a.find(n))return}t.setSelection(a.from(),a.to());t.scrollIntoView({from:a.from(),to:a.to()},20);o.posFrom=a.from();o.posTo=a.to();i&&i(a.from(),a.to())})}function v(t){t.operation(function(){var e=r(t);e.lastQuery=e.query;if(!e.query)return;e.query=e.queryText=null;t.removeOverlay(e.overlay);if(e.annotate){e.annotate.clear();e.annotate=null}})}var g="<span>"+t.get("Common.Replace")+'</span>: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #f2f2f2" class="CodeMirror-search-hint">'+t.get("Devhub.SearchHint")+"</span>";var m="<span>"+t.get("Common.Replace")+'</span>: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>';var b="<span>"+t.get("Common.Replace")+"</span>? <button>"+t.get("Devhub.Yes")+"</button> <button>"+t.get("Devhub.No")+"</button> <button>"+t.get("Devhub.Cancel")+"</button>";function y(t,e,n){t.operation(function(){for(var i=s(t,e);i.findNext();)if("string"!==typeof e){var r=t.getRange(i.from(),i.to()).match(e);i.replace(n.replace(/\$(\d)/g,function(t,e){return r[e]}))}else i.replace(n)})}function x(e,n){if(e.getOption("readOnly"))return;var i=e.getSelection()||r(e).lastQuery;var o=n?t.get("Common.Replace")+" "+t.get("Common.All")+":":t.get("Common.Replace")+":";l(e,o+g,o,i,function(i){if(!i)return;i=d(i);l(e,m,t.get("Common.Replace")+" "+t.get("Devhub.With")+":","",function(r){r=u(r);if(n)y(e,i,r);else{v(e);var o=s(e,i,e.getCursor());var a=function n(){var a=o.from(),u;if(!(u=o.findNext())){o=s(e,i);if(!(u=o.findNext())||a&&o.from().line===a.line&&o.from().ch===a.ch)return}e.setSelection(o.from(),o.to());e.scrollIntoView({from:o.from(),to:o.to()});c(e,b,t.get("Common.Replace")+"?",[function(){l(u)},n,function(){y(e,i,r)}])};var l=function t(e){o.replace("string"===typeof i?r:r.replace(/\$(\d)/g,function(t,n){return e[n]}));a()};a()}})})}e.commands.find=function(t){v(t);f(t)};e.commands.findPersistent=function(t){v(t);f(t,false,true)};e.commands.findNext=f;e.commands.findPrev=function(t){f(t,true)};e.commands.clearSearch=v;e.commands.replace=x;e.commands.replaceAll=function(t){x(t,true)}})()}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(648),n(649),n(49)],r=function(t,e,n){var i=n.Pos;function r(t,e){for(var n=0,i=t.length;n<i;++n)e(t[n])}function o(t,e){if(!Array.prototype.indexOf){var n=t.length;while(n--)if(t[n]===e)return true;return false}return-1!==t.indexOf(e)}var s={solution:false,find:function t(e,n){this.solution=false;this.recursive(e,n);return this.solution},recursive:function t(e,n){if("undefined"!==typeof e[n]){this.solution=e[n];return true}if("[object Object]"===Object.prototype.toString.call(e))for(var i in e)return this.find(e[i],n);if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++)return this.find(e[r],n);return false}};function a(t,e,r,o){var s=t.getCursor(),a=r(t,s);if(/\b(?:string|comment)\b/.test(a.type))return;a.state=n.innerMode(t.getMode(),a.state).state;if(/^[\w$_]*$/.test(a.string)){if(a.end>s.ch){a.end=s.ch;a.string=a.string.slice(0,s.ch-a.start)}}else a={start:s.ch,end:s.ch,string:"",state:a.state,type:"."===a.string?"property":null};var l=a;while("property"===l.type){l=r(t,i(s.line,l.start));if("."!==l.string)return;l=r(t,i(s.line,l.start));if(!c)var c=[];c.push(l)}return{list:m(a,c,e,o),from:i(s.line,a.start),to:i(s.line,a.end)}}function l(t,e){return a(t,p,function(t,e){return t.getTokenAt(e)},e)}n.registerHelper("hint","javascript",l);var c="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" ");var u="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" ");var d="prototype apply call bind".split(" ");var p="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" ");var f=JSON.parse(t);var h=JSON.parse(e);var v={$scope:f,qListObject:s.find(f,"qListObject"),qHyperCube:s.find(f,"qHyperCube"),layout:s.find(f,"layout"),backendApi:h.backendAPI,reply:{qListObj:s.find(f,"qListObject"),qHyperCube:s.find(f,"qHyperCube")},app:h.mashupAPI,qlik:h.mashupAPI};for(var g in v)p.push(g);function m(t,e,n,i){var s=[],a=t.string,l=i&&i.globalScope||window;function p(t){0!==t.lastIndexOf(a,0)||o(s,t)||s.push(t)}function f(t){"string"===typeof t?r(c,p):t instanceof Array?r(u,p):t instanceof Function&&r(d,p);for(var e in t)p(e)}if(e&&e.length){var h=e.pop(),v;if(h.type&&0===h.type.indexOf("variable")){i&&i.additionalContext&&(v=i.additionalContext[h.string]);i&&false===i.useGlobalScope||(v=v||l[h.string])}else"string"===h.type?v="":"atom"===h.type?v=1:"function"===h.type&&(null===l.jQuery||"$"!==h.string&&"jQuery"!==h.string||"function"!==typeof l.jQuery?null!==l._&&"_"===h.string&&"function"===typeof l._&&(v=l._()):v=l.jQuery());while(null!==v&&e.length)v===v[e.pop().string];null!==v&&f(v)}else{for(var g=t.state.localVars;g;g=g.next)p(g.name);for(var m=t.state.globalVars;m;m=m.next)p(m.name);i&&false===i.useGlobalScope||f(l);r(n,p)}return s}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t){t.exports='{\n\t"$parent": {\n\t\t"layout": {\n\t\t\t"metadata": {\n\t\t\t\t"description": "",\n\t\t\t\t"name": "",\n\t\t\t\t"tags": []\n\t\t\t},\n\t\t\t"qInfo": {\n\t\t\t\t"qId": "",\n\t\t\t\t"qType": ""\n\t\t\t},\n\t\t\t"qHyperCube": {\n\t\t\t\t"qDataPages": [],\n\t\t\t\t"qDimensionInfo": [],\n\t\t\t\t"qEffectiveInterColumnSortOrder": [],\n\t\t\t\t"qGrandTotalRow": [],\n\t\t\t\t"qMeasureInfo": [],\n\t\t\t\t"qMode": "",\n\t\t\t\t"qPivotDataPages": [],\n\t\t\t\t"qSize": {},\n\t\t\t\t"qStackedDataPages": []\n\t\t\t},\n\t\t\t"qListObject": {\n\t\t\t\t"qDataPages": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qArea": {\n\t\t\t\t\t\t\t"qHeight": "",\n\t\t\t\t\t\t\t"qLeft": "",\n\t\t\t\t\t\t\t"qTop": "",\n\t\t\t\t\t\t\t"qWidth": ""\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qMatrix": {},\n\t\t\t\t\t\t"qTails": {}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t"qDimensionInfo": {\n\t\t\t\t\t"autoSort": "",\n\t\t\t\t\t"trueqApprMaxGlyphCount": "",\n\t\t\t\t\t"Cardinal": "",\n\t\t\t\t\t"DimensionType": "",\n\t\t\t\t\t"qFallbackTitle": "",\n\t\t\t\t\t"qGroupFallbackTitles": "",\n\t\t\t\t\t"qGroupFieldDefs": "",\n\t\t\t\t\t"qGroupPos": "",\n\t\t\t\t\t"qGrouping": "",\n\t\t\t\t\t"qIsAutoFormat": "",\n\t\t\t\t\t"qNumFormat": "",\n\t\t\t\t\t"qSortIndicator": "",\n\t\t\t\t\t"qStateCounts": "",\n\t\t\t\t\t"Tags": ""\n\t\t\t\t},\n\t\t\t\t"qExpressions": {},\n\t\t\t\t"qListObjectDef": {\n\t\t\t\t\t"qDef": {\n\t\t\t\t\t\t"qActiveField": "",\n\t\t\t\t\t\t"qFieldDefs": "",\n\t\t\t\t\t\t"qFieldLabels": "",\n\t\t\t\t\t\t"qGrouping": "",\n\t\t\t\t\t\t"qNumberPresentations": "",\n\t\t\t\t\t\t"qSortCriterias": ""\n\t\t\t\t\t},\n\t\t\t\t\t"qExpressions": [],\n\t\t\t\t\t"qFrequencyMode": "",\n\t\t\t\t\t"qInitialDataFetch": ""\n\t\t\t\t},\n\t\t\t\t"qOtherTotalSpec": {},\n\t\t\t\t"qSize": {\n\t\t\t\t\t"qcx": "",\n\t\t\t\t\t"qcy": ""\n\t\t\t\t}\n\t\t\t},\n\t\t\t"qSelectionInfo": {},\n\t\t\t"selectionMode": "",\n\t\t\t"showTitles": "",\n\t\t\t"truesubtitle": "",\n\t\t\t"title": "",\n\t\t\t"version": "",\n\t\t\t"visualization": "",\n\t\t\t"width": ""\n\t\t}\n\t}\n}\n'},function(t){t.exports='{\n\t"backendAPI": {\n\t\t\n\t},\n\t"mashupAPI": {\n\t\t"qlik.openApp()": null,\n\t\t"qlik.currApp()": null,\n\t\t"qlik.getGlobal()": null,\n\t\t"qlik.setOnError()": null,\n\t\t"qlik.setLanguage()": null,\n\t\t"qlik.setDeviceType()": null,\n\t\t"qlik.table()": null,\n\t\t"qlik.getAppList()": null,\n\t\t"qlik.resize()": null,\n\t\t"qlik.getExtensionList()": null,\n\t\t"qlik.callRepository()": null,\n\t\t"qlik.registerExtension()": null,\n\t\t"qlik.sessionApp()": null,\n\t\t"qlik.sessionAppFromApp()": null,\n\t\t"qlik.Promise()": null,\n\t\t"qlik.app#clearAll()": null,\n\t\t"qlik.app#back()": null,\n\t\t"qlik.app#forward()": null,\n\t\t"qlik.app#lockAll()": null,\n\t\t"qlik.app#unlockAll()": null,\n\t\t"qlik.app#getObject()": null,\n\t\t"qlik.app#getSnapshot()": null,\n\t\t"qlik.app#getObjectProperties()": null,\n\t\t"qlik.app#getFullPropertyTree()": null,\n\t\t"qlik.app#createGenericObject()": null,\n\t\t"qlik.app#destroySessionObject()": null,\n\t\t"qlik.app#close()": null,\n\t\t"qlik.app#createCube()": null,\n\t\t"qlik.app#createList()": null,\n\t\t"qlik.app#getList()": null,\n\t\t"qlik.app#getAppObjectList()": null,\n\t\t"qlik.app#searchSuggest()": null,\n\t\t"qlik.app#searchAssociations()": null,\n\t\t"qlik.app#searchResults()": null,\n\t\t"qlik.app#selectAssociations()": null,\n\t\t"qlik.app#getAppLayout()": null,\n\t\t"qlik.app#addAlternateState()": null,\n\t\t"qlik.app#removeAlternateState()": null,\n\t\t"qlik.app#doReload()": null,\n\t\t"qlik.app#doSave()": null,\n\t\t"qlik.app#field()": null,\n\t\t"qlik.app#createTable()": null,\n\t\t"qlik.app#getScript()": null,\n\t\t"qlik.app#setScript()": null,\n\t\t"qlik.app#on()": null,\n\t\t"qlik.app#off()": null,\n\t\t"qlik.app.field.clear()": null,\n\t\t"qlik.app.field.lock()": null,\n\t\t"qlik.app.field.unlock()": null,\n\t\t"qlik.app.field.clearOther()": null,\n\t\t"qlik.app.field.selectAll()": null,\n\t\t"qlik.app.field.selectExcluded()": null,\n\t\t"qlik.app.field.selectAlternative()": null,\n\t\t"qlik.app.field.selectPossible()": null,\n\t\t"qlik.app.field.toggleSelect()": null,\n\t\t"qlik.app.field.selectMatch()": null,\n\t\t"qlik.app.field.getData()": null,\n\t\t"qlik.app.field.getMoreData()": null,\n\t\t"qlik.global#getAppList()": null,\n\t\t"qlik.global#getAuthenticatedUser()": null,\n\t\t"qlik.global#isPersonalMode()": null,\n\t\t"qlik.global#getQTProduct()": null,\n\t\t"qlik.global#getProductVersion()": null,\n\t\t"qlik.global#cancelReload()": null,\n\t\t"qlik.global#getProgress()": null,\n\t\t"qlik.global#on()": null,\n\t\t"qlik.global#off()": null,\n\t\t"QFieldValue#select()": null,\n\t\t"qlik.app.bookmark.create()": null,\n\t\t"qlik.app.bookmark.apply()": null,\n\t\t"qlik.app.bookmark.remove()": null,\n\t\t"QHeader#selectRange()": null,\n\t\t"QDimensionCell#select()": null,\n\t\t"QMeasureCell#getPercentOfMax()": null,\n\t\t"QMeasureCell#getPercent()": null,\n\t\t"QTable#getColByName()": null,\n\t\t"QTable#exportData()": null,\n\t\t"qlik.app.variable.create()": null,\n\t\t"qlik.app.variable.createSessionVariable()": null,\n\t\t"qlik.app.variable.get()": null,\n\t\t"qlik.app.variable.getByName()": null,\n\t\t"qlik.app.variable.setStringValue()": null,\n\t\t"qlik.app.variable.setNumValue()": null,\n\t\t"qlik.app.variable.setContent()": null,\n\t\t"qlik.app.variable.getContent()": null,\n\t\t"qlik.navigation.gotoSheet()": null,\n\t\t"qlik.navigation.nextSheet()": null,\n\t\t"qlik.navigation.prevSheet()": null,\n\t\t"qlik.navigation.getCurrentSheetId()": null,\n\t\t"qlik.navigation.getMode()": null,\n\t\t"qlik.navigation.setMode()": null,\n\t\t"qlik.navigation.isModeAllowed()": null,\n\t\t"qlik.navigation.gotoStory()": null,\n\t\t"QVisualization#setOptions()": null,\n\t\t"QVisualization#show()": null\n\t}\n}\n'},function(t,e,n){"use strict";var i,r;!(i=[n(651),n(49),n(44),n(652)],r=function(t,e,n){var i=e.Pos;var r="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" ");var o=["_blank","_self","_top","_parent"];var s=["ascii","utf-8","utf-16","latin1","latin1"];var a=["get","post","put","delete"];var l=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];var c=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"];var u={attrs:{}};var d={a:{attrs:{href:null,ping:null,type:null,media:c,target:o,hreflang:r}},abbr:u,acronym:u,address:u,applet:u,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:c,hreflang:r,type:null,shape:["default","rect","circle","poly"]}},article:u,aside:u,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:u,base:{attrs:{href:null,target:o}},basefont:u,bdi:u,bdo:u,big:u,blockquote:{attrs:{cite:null}},body:u,br:u,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:l,formmethod:a,formnovalidate:["","novalidate"],formtarget:o,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:u,center:u,cite:u,code:u,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:u,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:u,dir:u,div:u,dl:u,dt:u,em:u,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:u,figure:u,font:u,footer:u,form:{attrs:{action:null,name:null,"accept-charset":s,autocomplete:["on","off"],enctype:l,method:a,novalidate:["","novalidate"],target:o}},frame:u,frameset:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:u,hgroup:u,hr:u,html:{attrs:{manifest:null},children:["head","body"]},i:u,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:l,formmethod:a,formnovalidate:["","novalidate"],formtarget:o,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:u,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:u,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:r,media:c,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:u,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:s,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:u,noframes:u,noscript:u,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:u,param:{attrs:{name:null,value:null}},pre:u,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:u,rt:u,ruby:u,s:u,samp:u,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:s}},section:u,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:u,source:{attrs:{src:null,type:null,media:null}},span:u,strike:u,strong:u,style:{attrs:{type:["text/css"],media:c,scoped:null}},sub:u,summary:u,sup:u,table:u,tbody:u,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:u,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:u,time:{attrs:{datetime:null}},title:u,tr:u,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:r}},tt:u,u:u,ul:u,var:u,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:u};var p={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],class:null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]};try{t=JSON.parse(t);n.extend(true,p,t["*"]);delete t["*"];n.extend(true,d,t)}catch(t){window.console.error(t)}function f(t){for(var e in p)p.hasOwnProperty(e)&&(t.attrs[e]=p[e])}f(u);for(var h in d)d.hasOwnProperty(h)&&d[h]!==u&&f(d[h]);e.htmlSchema=d;function v(t,n){var r={schemaInfo:d};function o(t,e){return t.getTokenAt(e)}var s=t.getCursor(),a=o(t,s);if(!a.type)return{list:[],from:i(s.line,a.start),to:i(s.line,a.end)};if(n)for(var l in n)r[l]=n[l];return e.hint.xml(t,r)}e.registerHelper("hint","html",v)}.apply(e,i),void 0!==r&&(t.exports=r))},function(t){t.exports='{\n\t"*": {\n\t\t"ng-app": null,\n\t\t"ng-bind": null,\n\t\t"ng-html-unsafe": null,\n\t\t"ng-bind-template": null,\n\t\t"ng-change": null,\n\t\t"ng-class": null,\n\t\t"ng-class-even": null,\n\t\t"ng-class-odd": null,\n\t\t"ng-click": null,\n\t\t"ng-dblclick": null,\n\t\t"ng-cloak": null,\n\t\t"ng-controller": null,\n\t\t"ng-form": null,\n\t\t"ng-hide": null,\n\t\t"ng-include": null,\n\t\t"ng-init": null,\n\t\t"ng-mousedown": null,\n\t\t"ng-mouseenter": null,\n\t\t"ng-mouseleave": null,\n\t\t"ng-mousemove": null,\n\t\t"ng-mouseover": null,\n\t\t"ng-mouseup": null,\n\t\t"ng-non-bindable": null,\n\t\t"ng-pluralize": null,\n\t\t"ng-repeat": null,\n\t\t"ng-style": null,\n\t\t"ng-switch": null,\n\t\t"ng-switch-when": null,\n\t\t"ng-switch-default": null,\n\t\t"ng-bind-html": null\n\t},\n\t"a": {\n\t\t"attrs": {\n\t\t\t"ng-href": null\n\t\t}\n\t},\n\t"form": {\n\t\t"attrs": {\n\t\t\t"ng-submit": null\n\t\t}\n\t},\n\t"input": {\n\t\t"attrs": {\n\t\t\t"ng-checked": [\n\t\t\t\t"true",\n\t\t\t\t"false"\n\t\t\t],\n\t\t\t"ng-disabled": null,\n\t\t\t"ng-pattern": null,\n\t\t\t"ng-minlength": null,\n\t\t\t"ng-maxlength": null,\n\t\t\t"ng-required": null,\n\t\t\t"ng-list": null,\n\t\t\t"ng-true-value": null,\n\t\t\t"ng-false-value": null,\n\t\t\t"ng-model": null,\n\t\t\t"ng-readonly": null\n\t\t}\n\t},\n\t"img": {\n\t\t"ng-src": null\n\t},\n\t"option": {\n\t\t"attrs": {\n\t\t\t"ng-selected": null\n\t\t}\n\t},\n\t"select": {\n\t\t"attrs": {\n\t\t\t"ng-multiple": null,\n\t\t\t"ng-options": null\n\t\t}\n\t},\n\t"html": {\n\t\t"attrs": {\n\t\t\t"ng-csp": null\n\t\t}\n\t}\n}\n'},,function(t,e,n){"use strict";var i,r;!(i=[n(41),n(654),n(54),n(56)],r=function(t,e){var n={restrict:"E",replace:true,template:e,transclude:true,controller:["$scope",function(e){e.toolConfig=t.getService("qwConfigService").getToolConfig();e.toggleRightPanel=function(){e.toolConfig.rightPanel.open=!e.toolConfig.rightPanel.open};e.toggleLeftPanel=function(){e.toolConfig.leftPanel.open=!e.toolConfig.leftPanel.open};e.$on("dev-hub.isUndo",function(t,n){e.isUndo=n});e.$on("dev-hub.isRedo",function(t,n){e.isRedo=n});e.undo=function(){e.$emit("dev-hub.doUndo")};e.redo=function(){e.$emit("dev-hub.doRedo")};e.openInNewWindow=function(){var t=window.open(e.assets.url,"_blank");t.focus()}}]};t.directive("qwBottomToolbar",function(){return n});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="bottom-toolbar" ng-if="toolConfig.bottomBar.active">\n\t<qw-blocking-overlay class="prop-builder-blocking-overlay"\n\t\t\t\t\t\t ng-if="toolConfig.panelEditor.isOpen"></qw-blocking-overlay>\n\t<div class="qui-editbarflat qw-left" ng-if="toolConfig.leftPanel.active"\n\t\t ng-class="{\'closed-left\': !toolConfig.leftPanel.open}">\n\t\t<button class="button-wrapper"\n\t\t\t\tng-class="{\'opened-button\': toolConfig.leftPanel.open, \'active\': toolConfig.leftPanel.open}"\n\t\t\t\tq-title-translation="Tooltip.LeftPanel"\n\t\t\t\tng-click="toggleLeftPanel()">\n\t\t\t<span class="lui-icon  lui-icon--toggle-left"></span>\n\t\t</button>\n\t</div>\n\t<div class="qui-editbarflat qw-center">\n\t\t<div class="toggle-selections-bar" ng-if="toolConfig.selectionsBar.enabled">\n\t\t\t<lui-checkbox x-variant="inverse" x-model="toolConfig.selectionsBar.toggled" ng-click="toolConfig.selectionsBar.toggleSelectionsBar($event)">{{ \'Devhub.ShowSelectionsBar\' | translate}}</lui-checkbox>\n\t\t</div>\n\n\t\t<button ng-if="toolConfig.toggleEditors.htmlButton"\n\t\t\t\tng-class="{\'opened-button\': toolConfig.toggleEditors.service.options.editorHTML,\n                           \'active\': toolConfig.toggleEditors.service.options.editorHTML}"\n\t\t\t\tclass="button-wrapper toggle-editor-button"\n\t\t\t\tq-title-translation="Tooltip.ToggleHTMLEditor"\n\t\t\t\tng-click="toolConfig.toggleEditors.service.options.toggleEditor(\'HTML\')"> HTML\n\t\t</button>\n\t\t<button ng-if="toolConfig.toggleEditors.cssButton"\n\t\t\t\tng-class="{\'opened-button\': toolConfig.toggleEditors.service.options.editorCSS,\n                           \'active\': toolConfig.toggleEditors.service.options.editorCSS}"\n\t\t\t\tclass="button-wrapper toggle-editor-button"\n\t\t\t\tq-title-translation="Tooltip.ToggleCSSEditor"\n\t\t\t\tng-click="toolConfig.toggleEditors.service.options.toggleEditor(\'CSS\')"> CSS\n\t\t</button>\n\t\t<button ng-if="toolConfig.toggleEditors.previewButton"\n\t\t\t\tng-class="{\'opened-button\': toolConfig.toggleEditors.service.options.preview,\n                           \'active\': toolConfig.toggleEditors.service.options.preview}"\n\t\t\t\tclass="button-wrapper toggle-editor-button"\n\t\t\t\tq-title-translation="Tooltip.TogglePreview"\n\t\t\t\tng-click="toolConfig.toggleEditors.service.options.toggleEditor(\'Preview\')"\n\t\t\t\tq-translation="Devhub.Preview">\n\t\t</button>\n\t\t\x3c!--TODO: Button for switching to tabbed view - Add the correct icon (ADD)--\x3e\n\t\t<button ng-if="toolConfig.bottomBar.tabbedView"\n\t\t\t\tng-class="{\'opened-button\': true,\n\t\t\t\'active\': true}"\n\t\t\t\tclass="button-wrapper button-right toggle-editor-button"\n\t\t\t\tq-title-translation="Tooltip.ToggleCSSEditor"\n\t\t\t\tng-click=""> icon\n\t\t</button>\n\n\t\t<div class="view" ng-if="toolConfig.bottomBar.openView" ng-click="openInNewWindow()"\n\t\t\t q-title-translation="Devhub.OpenInNewTab">\n\t\t\t<span class="lui-icon  lui-icon--new-tab view-icon"></span>\n\t\t\t<span class="view-label" q-translation="Devhub.View"></span>\n\t\t</div>\n\t\t<div class="undo-redo-wrapper" ng-if="toolConfig.general.undoRedo">\n\t\t\t<button class="undo-redo-icon"\n\t\t\t\t\tng-disabled="!isUndo"\n\t\t\t\t\tq-title-translation="Devhub.Undo"\n\t\t\t\t\tng-click="undo($event)">\n\t\t\t\t<span class="lui-icon  lui-icon--back"></span>\t\n\t\t\t</button>\n\t\t\t<button class="undo-redo-icon"\n\t\t\t\t\tng-disabled="!isRedo"\n\t\t\t\t\tq-title-translation="Devhub.Redo"\n\t\t\t\t\tng-click="redo($event)">\n\t\t\t\t<span class="lui-icon  lui-icon--forward"></span>\t\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\t<div class="qui-editbarflat qw-right" ng-if="toolConfig.rightPanel.active"\n\t\t ng-class="{\'closed-right\': !toolConfig.rightPanel.open}">\n\t\t<button class="button-wrapper right-btn"\n\t\t\t\tng-class="{\'opened-button\': toolConfig.rightPanel.open, \'active\': toolConfig.rightPanel.open}"\n\t\t\t\tq-title-translation="Tooltip.RightPanel"\n\t\t\t\tng-click="toggleRightPanel()">\n\t\t\t<span class="lui-icon  lui-icon--toggle-right"></span>\n\t\t</button>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(656)],r=function(t,e){var n={restrict:"E",replace:true,template:e,scope:{baseUrl:"@",file:"="},controller:["$scope",function(t){t.imageUrl=t.baseUrl+"/"+t.file.fileName}]};t.directive("qwRendererImage",function(){return n});return n}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="renderer-image-wrapper">\n\t<div class="renderer-image-container">\n\t\t<img ng-src="{{imageUrl}}"/>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(658),n(41),n(62),n(46),n(45),n(52),n(107),n(231),n(659),n(151),n(230),n(161),n(61),n(124),n(54),n(86),n(119),n(120)],r=function(t,e,n,i,r,o,s){var a=e.getService("qwNavigationService");var l=e.getService("qwMashupEditorService");var c=e.getService("qwMenuService");var u=e.getService("qwCommonService");var d=e.getService("qwConfigService");var p={};var f={restrict:"E",replace:true,template:t,controller:["$scope",function(t){t.editors=p;t._=n;t.toolConfig=d.getToolConfig();t.supportedFileTypes=u.constants.EDITOR_SUPPORTED_FILE_TYPES;t.parsedFileTypesString=o.fileExtensionArrayToString(t.supportedFileTypes.source.concat(t.supportedFileTypes.media));t.translator=i;t.dialogs=l.dialogs;t.assets=l.assets;t.toolConfig.selectionsBar.enabled=null!==t.assets.currentAppId;t.$on("switchApp",function(){l.openApp()});t.editorConfigProvider=function(e){var n=parseInt(e.split("_")[1]);return{mode:t.assets.files[n].mode,showHint:true,styleActiveLine:true,value:t.assets.files[n].content,data:t.assets.files[n],readOnly:t.assets.permissions.readOnly}};t.refreshEditor=function(){e.$rootScope.$broadcast("refresh");l.refreshPreview()}}]};var h={text:"Devhub.MashupEditor",openInNewTab:"optional",link:a.getBasePath()+"/dev-hub/mashup-editor",tid:"4ff8d9",entity:"mashup",hide:false,onSelect:function t(e,n){a.openUrlInNewTabIfCtrlKeyPressed(e.ctrlKey||n,this)},disabled:false,order:3};var v={toolPath:"mashup-editor",toolTitle:"Devhub.MashupEditor",helpPage:"MashupEditorHelp",general:{undoRedo:false},rightPanel:{active:true,open:true},leftPanel:{active:true,open:true},toolbarSearch:false,entity:"mashup",bottomBar:{active:true,openView:true},selectionsBar:{enabled:true,toggled:false,toggleSelectionsBar:l.toggleSelectionsBar}};a.addToolsPanelItem(h);a.addNavigationMenuItemProvider(function(){return h});function g(t){var e=Object.keys(p);for(var n=0;n<e.length;n++){var i=p[e[n]];if(i.data.fileName===t)return i.codeMirror}}function m(){l.save().then(function(){u.notifyWatchers("projectFilesSaved")})}a.registerRoute("/dev-hub/mashup-editor",function(){d.setToolConfig(v);return r.all({mes:l.init(g)}).then(function(){var t=[{textInactive:"Devhub.Save",tooltipInactive:"Devhub.Save",showText:function t(){return true},tid:"5ca540",position:{left:true},isDisabled:function t(){return!l.assets.isDirty()},onButtonClicked:m}];function e(){return[{icon:"lui-icon--plus",title:0===l.assets.templateList.length?"Tooltip.NoTemplates":"Devhub.CreateNewProject",text:"Devhub.CreateNewProject",openInNewTab:false,tid:"602442",onSelect:function t(){l.assets.extensionUniqueName&&l.assets.isDirty()?l.dialogs.alertSaveFileDialog(l.dialogs.createMashupDialog):l.dialogs.createMashupDialog()},disabled:!l.assets.permissions.create||0===l.assets.templateList.length},{icon:"lui-icon--folder",title:0===l.assets.mashupList.length||1===l.assets.mashupList.length&&l.assets.extensionUniqueName?"DevHub.NoProjectsToOpen":"Devhub.OpenProject",text:"Devhub.OpenProject",openInNewTab:false,tid:"8c8dbe",onSelect:function t(){l.assets.extensionUniqueName&&l.assets.isDirty()?l.dialogs.alertSaveFileDialog(l.dialogs.openMashupDialog):l.dialogs.openMashupDialog()},disabled:0===l.assets.mashupList.length||1===l.assets.mashupList.length&&l.assets.extensionUniqueName},{icon:"lui-icon--import",title:"Devhub.ImportFile",text:"Devhub.ImportFile",openInNewTab:false,tid:"602830",onSelect:function t(){l.dialogs.importFileDlg()},disabled:!l.assets.extensionUniqueName||l.assets.permissions.readOnly},{icon:"lui-icon--plus",title:"Devhub.NewFile",text:"Devhub.NewFile",openInNewTab:false,tid:"7b7783",onSelect:function t(){l.dialogs.showNewFileDlg()},disabled:!l.assets.extensionUniqueName||l.assets.permissions.readOnly},{icon:"lui-icon--close",title:"Devhub.CloseProject",text:"Devhub.CloseProject",openInNewTab:false,tid:"60512f",onSelect:function t(){l.assets.isDirty()?l.dialogs.alertSaveFileDialog(function(){l.assets.isDirty=function(){return false};o.reload(true)}):o.reload(true)},disabled:!l.assets.extensionUniqueName}]}c.addMenuItemProvider(e);t.forEach(function(t){c.addButton(t)});u.notifyWatchers("initToolbar");a.getContainer().showComponent(f);var n=s.createGroup("mashupEditor",10);n.registerKeys("ctrl+s",m,{allowInInput:true});n.on()})});return f}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div>\n\t<qw-dev-hub-stage ng-if="assets.permissions.show && assets.extensionUniqueName" id="mashup-editor-stage">\n\t\t<qw-objects-panel service="qwMashupEditorService" ng-show="toolConfig.leftPanel.open"></qw-objects-panel>\n\t\t<qw-work-area class="work-area-mashup-editor">\n\t\t\t<lui-tab-view class="tab-view">\n\t\t\t\t<div class="tabset-wrapper">\n\t\t\t\t\t<lui-tabset class="tabset" active-tab="assets.activeTab" class="lui-bg-inverse">\n\t\t\t\t\t\t<lui-tab class="tab" q-title-translation="Devhub.Preview" variant="inverse" ref="Preview">\n\t\t\t\t\t\t\t<span class="lui-tab__text">{{ "Devhub.Preview" | translate }}</span></lui-tab>\n\t\t\t\t\t\t<lui-tab class="tab file" variant="inverse" on-tab-selected="refreshEditor()"\n\t\t\t\t\t\t\t\t ng-repeat="file in assets.files" ref="{{file.fileName}}" title="{{file.fileName}}">\n\t\t\t\t\t\t\t<div class="tab-label-wrapper">\n\t\t\t\t\t\t\t\t<span class="lui-tab__text">{{file.fileName}}<span class="dirty" ng-show="file.isDirty">*</span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<lui-tab-aside ng-if="(file.extension !== \'qext\' && !assets.permissions.readOnly)"\n\t\t\t\t\t\t\t\t\t\t   class="lui-icon" x-icon="bin" q-title-translation="Devhub.Delete"\n\t\t\t\t\t\t\t\t\t\t   on-activated="dialogs.showFileDeleteDlg( file )"></lui-tab-aside>\n\t\t\t\t\t\t</lui-tab>\n\t\t\t\t\t</lui-tabset>\n\t\t\t\t\t<tabview-scroller show-new-button="{{!assets.permissions.readOnly}}"\n\t\t\t\t\t\t\t\t\t  on-new-activated="dialogs.showNewFileDlg()"\n\t\t\t\t\t\t\t\t\t  icon-new-title="{{translator.get(\'Devhub.NewFile\')}}"\n\t\t\t\t\t\t\t\t\t  icon-prev-title="{{translator.get(\'Devhub.ScrollLeft\')}}"\n\t\t\t\t\t\t\t\t\t  icon-next-title="{{translator.get(\'Devhub.ScrollRight\')}}">\n\n\t\t\t\t\t</tabview-scroller>\n\t\t\t\t</div>\n\t\t\t\t<div class="tab-content-wrapper">\n\t\t\t\t\t<lui-tab-content class="tab-content" ref="Preview">\n\t\t\t\t\t\t<qw-preview-box service="qwMashupEditorService"></qw-preview-box>\n\t\t\t\t\t\t<qw-blocking-overlay ng-if="assets.permissions.readOnly"\n\t\t\t\t\t\t\t\t\t\t\t msg=\'{{ "DevHub.ReadOnlyMode" | translate }}\'></qw-blocking-overlay>\n\t\t\t\t\t</lui-tab-content>\n\t\t\t\t\t<lui-tab-content class="tab-content" ng-repeat="file in assets.files" ref="{{file.fileName}}">\n\t\t\t\t\t\t<qw-editor class="editor"\n\t\t\t\t\t\t\t\t   qw-autocomplete\n\t\t\t\t\t\t\t\t   ng-if="(_.contains(supportedFileTypes.source, file.extension.toLowerCase()))"\n\t\t\t\t\t\t\t\t   editor-config-provider="editorConfigProvider"\n\t\t\t\t\t\t\t\t   editor-id="{{\'mashupEditor_\'+$index}}"\n\t\t\t\t\t\t\t\t   editors="editors">\n\t\t\t\t\t\t</qw-editor>\n\t\t\t\t\t\t<qw-renderer-image ng-if="_.contains(supportedFileTypes.media, file.extension)"\n\t\t\t\t\t\t\t\t\t\t   base-url="{{assets.baseUrl}}" file="file"></qw-renderer-image>\n\t\t\t\t\t\t<div ng-if="!(_.contains(supportedFileTypes.source.concat(supportedFileTypes.media), file.extension.toLowerCase()))"\n\t\t\t\t\t\t\tclass="unsupported-file" q-translation="DevHub.UnsupportedFileType"></div>\n\t\t\t\t\t</lui-tab-content>\n\t\t\t\t</div>\n\t\t\t</lui-tab-view>\n\n\t\t</qw-work-area>\n\t\t<qw-hypercube-panel></qw-hypercube-panel>\n\t\t<input id="selectFileControl" type="file" style="position:absolute;left:-999px;"\n\t\t\t   accept={{parsedFileTypesString}}>\n\t</qw-dev-hub-stage>\n\t<div ng-if="assets.permissions.show && !assets.extensionUniqueName" class="mm-default-view">\n\t\t<div class="hint-wrapper">\n\t\t\t<div class="hint-header" q-translation="Devhub.NoMashupItem"></div>\n\t\t\t<div class="hint-text" q-translation="Devhub.NoProjectAction"\n\t\t\t\t q-html-translation-indexes=\'["<i class=\\"lui-icon  lui-icon--unordered-list\\"></i>"]\'></div>\n\t\t</div>\n\t</div>\n\t<div ng-if="!assets.permissions.show" class="mm-default-view">\n\t\t<div class="hint-wrapper">\n\t\t\t<div class="hint-header" q-translation="DevHub.NoEditorAccess"></div>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(660),n(661),n(58),n(54),n(56),n(124)],r=function(t,e,n,i,r,o){var s=e.getService("luiDialog");e.directive("qwHypercubePanel",function(){return{replace:true,restrict:"E",scope:{},template:i,controller:["$scope","$element","$timeout",function(i,a,l){var c=e.getService("qwMashupEditorService");i.assets=c.assets;i.toolConfig=e.getService("qwConfigService").getToolConfig();var u=a.find("div.options-content > div:first-child");var d=function t(){l(function(){u.accordion("refresh")})};var p=a.find("div.options-content div.content-header");p.each(function(t,e){e.firstElementChild.innerHTML=n.get(e.firstElementChild.getAttribute("q-translation"))});u.accordion({fillSpace:true,heightStyle:"fill",animate:!("ontouchstart"in window)&&"swing",active:1,beforeActivate:function e(n){p.removeClass("selected");t(n.currentTarget).find(".content-header").addClass("selected")}});d();i.$watch("toolConfig",function(t,e){t!==e&&d()},true);o.on("end",d);i.createList=function(){s.show({controller:r.component.controller,template:r.component.template,input:{type:"LIST",header:n.get("Devhub.AddLists"),index:-1,save:function t(e){c.fixAppId(c.assets.currentAppId.id).then(function(t){e.appId=t;c.addListCube("list",e)})},fields:i.assets.currentApp.fields,dimensions:i.assets.currentApp.dimensions,measures:i.assets.currentApp.measures}})};i.createCube=function(){s.show({controller:r.component.controller,template:r.component.template,input:{type:"CUBE",header:n.get("Devhub.AddHypercubes"),index:-1,save:function t(e){c.fixAppId(c.assets.currentAppId.id).then(function(t){e.appId=t;c.addListCube("cube",e)})},fields:i.assets.currentApp.fields,dimensions:i.assets.currentApp.dimensions,measures:i.assets.currentApp.measures}})}}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="options-panel" ng-show="toolConfig.rightPanel.open">\n\t<div class="options-container">\n\t\t<div class="options-header">\n\t\t\t<div class="title" q-translation="Devhub.Options"></div>\n\t\t</div>\n\t\t<div class="options-content">\n\t\t\t<div>\n\t\t\t\t<div class="opt-border border-general">\n\t\t\t\t\t<div class="content-header">\n\t\t\t\t\t\t<div class="title" q-translation="Devhub.Lists"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="opt-button hyp-button">\n\t\t\t\t\t\t<button class="lui-button  lui-button--inverse  lui-button--block  select add-data"\n\t\t\t\t\t\t\t\tng-click="createList()" q-translation="Devhub.AddLists"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="opt-border border-selections">\n\t\t\t\t\t<div class="content-header selected">\n\t\t\t\t\t\t<div class="title" q-translation="Devhub.Hypercubes"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="content">\n\t\t\t\t\t<div class="opt-button hyp-button">\n\t\t\t\t\t\t<button class="lui-button  lui-button--inverse  lui-button--block  select add-data"\n\t\t\t\t\t\t\t\tng-click="createCube()" q-translation="Devhub.AddHypercubes"></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\x3c!--qw-disabled mode--\x3e\n\t<div ng-class="{\'qw-disabled\' : assets.currentApp === null}"></div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(46),n(52),n(662),n(159),n(77),n(124),n(116)],r=function(t,e,n,i,r,o){var s=t.getService("luiDialog");var a=t.getService("qwMashupEditorService");function l(t){var e=t.qMeasures?t.qMeasures.length:0;t.qDimensions&&(e+=t.qDimensions.length);t.qDef&&e++;t.qExpressions&&(e+=t.qExpressions.length);t.qInitialDataFetch[0].qWidth=e}function c(t,e,n){if(t.qDef){t.qDef.qFieldDefs[0]=e;t.qLibraryId=null;return}for(var i=0;i<t.qDimensions.length;i++)if(t.qDimensions[i].qDef&&t.qDimensions[i].qDef.qFieldDefs[0]===e)return;if(n>-1){t.qDimensions[n].qDef.qFieldDefs[0]=e;t.qDimensions[n].qLibraryId=null}else t.qDimensions.push({qDef:{qFieldDefs:[e]},qNullSuppression:true,qOtherTotalSpec:{qOtherMode:"OTHER_OFF",qSuppressOther:true,qOtherSortMode:"OTHER_SORT_DESCENDING",qOtherCounted:{qv:"5"},qOtherLimitMode:"OTHER_GE_LIMIT"}})}function u(t,e,n,i){if(t.qDef){t.qDef.qFieldDefs[0]=n;t.qLibraryId=e;return}for(var r=0;r<t.qDimensions.length;r++)if(t.qDimensions[r].qLibraryId&&t.qDimensions[r].qLibraryId===e)return;if(i>-1){t.qDimensions[i].qLabel=n;t.qDimensions[i].qLibraryId=e;t.qDimensions[i].qDef=null}else t.qDimensions.push({qLabel:n,qLibraryId:e,qNullSuppression:true,qOtherTotalSpec:{qOtherMode:"OTHER_OFF",qSuppressOther:true,qOtherSortMode:"OTHER_SORT_DESCENDING",qOtherCounted:{qv:"5"},qOtherLimitMode:"OTHER_GE_LIMIT"}})}function d(t,e,n){t.qMeasures?t.qMeasures.push({qDef:e?void 0:{qDef:n},qLabel:n,qLibraryId:e,qSortBy:{qSortByState:0,qSortByFrequency:0,qSortByNumeric:0,qSortByAscii:1,qSortByLoadOrder:0,qSortByExpression:0,qExpression:{qv:" "}}}):t.qExpressions&&t.qExpressions.push({qDef:e?void 0:{qDef:n},qLabel:n,qLibraryId:e})}var p={template:i,controller:["$scope","luiTooltip",function(t,i){t.notValidated=true;var p=null;t.validateForm=function(e){t.callbackAlreadyExists=false;t.notValidated=false;if("callbackFunction"===e.$name){e.$setValidity("invalidCharacters",!this.record.callback||n.isValidFunctionName(this.record.callback));t.callbackAlreadyExists=a.callbackExists(this.record)}};var f=function e(i,r){t.errorMsg={fieldEmpty:false,fieldAndMeasureEmpty:false};isNaN(r.qInitialDataFetch[0].qHeight)||(r.qInitialDataFetch[0].qHeight=parseInt(r.qInitialDataFetch[0].qHeight,10));if("LIST"===i)" "===r.qDef.qFieldDefs[0]&&(t.errorMsg.fieldEmpty=true);else if("CUBE"===i){0===r.qMeasures.length&&0===r.qDimensions.length&&(t.errorMsg.fieldAndMeasureEmpty=true);return r.callback&&n.isValidFunctionName(r.callback)&&(r.qMeasures.length>0||r.qDimensions.length>0)&&!a.callbackExists(r)}return r.callback&&n.isValidFunctionName(r.callback)&&r.qDef.qFieldDefs[0]&&r.qDef.qFieldDefs[0].trim().length>0&&!a.callbackExists(r)};t.assets=a.assets;t.query="";t.showlist="dimensions";t.record||("CUBE"===t.type?t.record={callback:"",qInitialDataFetch:[{qHeight:20}],qDimensions:[],qMeasures:[],qSuppressZero:false,qSuppressMissing:false,qMode:"S",qInterColumnSortOrder:[],qStateName:"$"}:t.record={callback:"",qFrequencyMode:"V",qDef:{qFieldDefs:[" "]},qExpressions:[],qInitialDataFetch:[{qHeight:20}]});t.selectField=function(e){c(t.record,e,-1);f(t.type,this.record)};t.selectDimension=function(e,n){u(t.record,e,n,-1);f(t.type,this.record)};t.removeField=function(e){if(t.record.qDef){t.record.qDef.qFieldDefs[0]=" ";t.record.qLibraryId=null}else t.record.qDimensions.splice(e,1)};t.editExpression=function(e){var n=t,i="";if(e>-1){t.record.qDimensions[e].qDef||(t.record.qDimensions[e].qDef={qFieldDefs:[""]});i=t.record.qDimensions[e].qDef.qFieldDefs[0]}else t.record.qDef&&(i=t.record.qDef.qFieldDefs[0]);/(^=|\s*\[.*\])/.test(i)||/\S+\s+\S+/.test(i)&&(i="["+i+"]");r.show({expr:i,title:"Devhub.AddExpressionTitle",app:t.assets.currentApp.model}).then(function(t){c(n.record,t,e)}).catch(function(){})};t.selectMeasure=function(e,n){d(t.record,e,n);"CUBE"===t.type&&f(t.type,this.record)};t.editMeasure=function(e){var n="",i=t.record.qMeasures||t.record.qExpressions;if(e>-1){i[e].qDef||(i[e].qDef={qDef:""});n=i[e].qDef.qDef}r.show({expr:n,title:"Devhub.AddExpressionTitle",app:t.assets.currentApp.model}).then(function(n){e>-1?i[e].qDef.qDef=n:d(t.record,null,n)}).catch(function(){})};t.removeMeasure=function(e){var n=t.record.qMeasures||t.record.qExpressions;n.splice(e,1)};t.showTooltip=function(t,n){p=i.show({template:"<lui-tooltip x-dock='dock' x-arrow='arrow' class='converter-tool-tooltip'>"+e.get(n)+"</lui-tooltip>",alignTo:t.target,dock:"top"})};t.hideTooltip=function(){if(p){p.close();p=null}};t.closeView=function(e){e&&e.preventDefault();t.destroyComponent()};t.update=function(e,n){n&&n.preventDefault();t.notValidated=false;if(f(t.type,this.record)&&!e.$invalid){l(this.record);t.save(this.record,this.index);t.closeView();var i="";"LIST"===t.type?i="Devhub.ListAdded":"CUBE"===t.type&&(i="Devhub.HypercubeAdded");s.show({controller:o.component.controller,template:o.component.template,input:{title:"Devhub.Done",message:i,hideCancelButton:true,button:{name:"Devhub.OK",tid:"9d0c11"}}})}}}]};return{component:p}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='\ufeff\n<lui-dialog id="hypercube-builder">\n\t<form name="createHypercube" autocomplete="off" novalidate="novalidate">\n\t\t<lui-dialog-header>\n\t\t\t<lui-dialog__title>{{header}}</lui-dialog__title>\n\t\t</lui-dialog-header>\n\t\t<lui-dialog-body>\n\t\t\t\x3c!-- Radiobuttons to select fields/dimensions --\x3e\n\t\t\t<div class="dialog-radio">\n\t\t\t\t<lui-radiobutton x-model="showlist"\n\t\t\t\t\t\t\t\t x-value="dimensions">{{ \'Devhub.Dimensions\' | translate }}\n\t\t\t\t</lui-radiobutton>\n\t\t\t\t<lui-radiobutton x-model="showlist"\n\t\t\t\t\t\t\t\t x-value="fields">{{ \'Devhub.Fields\' | translate }}\n\t\t\t\t</lui-radiobutton>\n\t\t\t\t<lui-radiobutton x-model="showlist"\n\t\t\t\t\t\t\t\t x-value="measures">{{ \'Devhub.Measures\' | translate }}\n\t\t\t\t</lui-radiobutton>\n\t\t\t</div>\n\t\t\t<div class="dialog-content">\n\t\t\t\t<div class="left-wrapper">\n\t\t\t\t\t\x3c!-- Search field --\x3e\n\t\t\t\t\t<div class="dialog-search">\n\t\t\t\t\t\t<lui-search query="query" placeholder="Devhub.Search" on-escape="query = \'\';"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t\x3c!-- Available fields/dimensions --\x3e\n\t\t\t\t\t<div class="field-box dialog-fields">\n\t\t\t\t\t\t<div class="scrollable fields_list_cnt" q-scroll ng-show="showlist===\'fields\'">\n\t\t\t\t\t\t\t<ul class="lui-list fields_list">\n\t\t\t\t\t\t\t\t<li ng-repeat="item in fields | filter:{ qName:query}"\n\t\t\t\t\t\t\t\t\tng-click="selectField(item.qName)"\n\t\t\t\t\t\t\t\t\tclass="lui-list__item lui-list__action">\n\t\t\t\t\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight="" query="query"\n\t\t\t\t\t\t\t\t\t\t text="{{item.qName}}"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="scrollable dimensions_list_cnt" q-scroll ng-show="showlist===\'dimensions\'">\n\t\t\t\t\t\t\t<ul class="lui-list dimension_list">\n\t\t\t\t\t\t\t\t<li ng-repeat="item in dimensions | filter: {qData: {title: query } }"\n\t\t\t\t\t\t\t\t\tng-click="selectDimension(item.qInfo.qId, item.qData.title)"\n\t\t\t\t\t\t\t\t\tclass="lui-list__item lui-list__action">\n\t\t\t\t\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight="" query="query"\n\t\t\t\t\t\t\t\t\t\t text="{{item.qData.title}}"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="scrollable measures_list_cnt" q-scroll ng-show="showlist===\'measures\'">\n\t\t\t\t\t\t\t<ul class="lui-list measures_list">\n\t\t\t\t\t\t\t\t<li ng-repeat="item in measures | filter: {qData: {title: query } }"\n\t\t\t\t\t\t\t\t\tng-click="selectMeasure(item.qInfo.qId, item.qData.title)"\n\t\t\t\t\t\t\t\t\tclass="lui-list__item lui-list__action">\n\t\t\t\t\t\t\t\t\t<div class="lui-list__text lui-list__text--ellipsis" qve-highlight="" query="query"\n\t\t\t\t\t\t\t\t\t\t text="{{item.qData.title}}"></div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="right-wrapper">\n\t\t\t\t\t\x3c!-- Selected fields --\x3e\n\t\t\t\t\t<div class="field-box dialog-field-reference">\n\t\t\t\t\t\t<div class="header-wrapper">\n\t\t\t\t\t\t\t<h1 q-translation="Devhub.Fields"></h1>\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--expression expression-icon"\n\t\t\t\t\t\t\t\t  ng-click="editExpression()"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<div class="scrollable" q-scroll\n\t\t\t\t\t\t\t\t ng-class="{\'fields-list\': type === \'LIST\', \'validation-error-input\': errorMsg.fieldEmpty || errorMsg.fieldAndMeasureEmpty}">\n\t\t\t\t\t\t\t\t<ul class="dialog-field-tokens">\n\t\t\t\t\t\t\t\t\t<li ng-if="record.qDef.qFieldDefs[0]">\n\t\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t\t<div class="icon-handle"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{record.qDef.qFieldDefs[0]}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<span ng-if="record.qDef.qFieldDefs[0].trim().length > 0" class="lui-icon lui-icon--small lui-icon--close" ng-click="removeField()"></span>\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li ng-if="record.qDimensions"\n\t\t\t\t\t\t\t\t\t\tng-repeat="item in record.qDimensions track by $index">\n\t\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t\t<div class="icon-handle"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{item.qDef.qFieldDefs[0] || item.qLabel}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--small lui-icon--close" ng-click="removeField($index)"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<span ng-if="errorMsg.fieldEmpty"\n\t\t\t\t\t\t\t\t\t  class="lui-icon  lui-icon--warning validation-error-icon"\n\t\t\t\t\t\t\t\t\t  ng-mouseover="showTooltip( $event, \'ErrorTooltip.Required\' )"\n\t\t\t\t\t\t\t\t\t  ng-mouseleave="hideTooltip()"></span>\n\t\t\t\t\t\t\t\t<span ng-if="errorMsg.fieldAndMeasureEmpty"\n\t\t\t\t\t\t\t\t\t  class="lui-icon  lui-icon--warning validation-error-icon"\n\t\t\t\t\t\t\t\t\t  ng-mouseover="showTooltip( $event, \'Devhub.FieldOrMeasureEmpty\' )"\n\t\t\t\t\t\t\t\t\t  ng-mouseleave="hideTooltip()"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="hypercube-divider"></div>\n\t\t\t\t\t\t<div ng-if="record.qMeasures.length > -1" class="header-wrapper">\n\t\t\t\t\t\t\t<h1 q-translation="Devhub.Measures"></h1>\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--expression expression-icon"\n\t\t\t\t\t\t\t\t  ng-click="editMeasure(-1)"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t<div class="scrollable expression-list" q-scroll ng-if="record.qMeasures.length > -1"\n\t\t\t\t\t\t\t\t ng-class="{\'validation-error-input\': errorMsg.fieldAndMeasureEmpty}">\n\t\t\t\t\t\t\t\t<ul class="dialog-measure-tokens">\n\t\t\t\t\t\t\t\t\t<li ng-if="record.qMeasures" ng-repeat="item in record.qMeasures track by $index">\n\t\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t\t<div class="icon-handle"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{item.qDef.qDef || item.qLabel}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--small lui-icon--close" ng-click="removeMeasure($index)"></span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<span ng-if="errorMsg.fieldAndMeasureEmpty"\n\t\t\t\t\t\t\t\t\t  class="lui-icon  lui-icon--warning validation-error-icon"\n\t\t\t\t\t\t\t\t\t  ng-mouseover="showTooltip( $event, \'Devhub.FieldOrMeasureEmpty\' )"\n\t\t\t\t\t\t\t\t\t  ng-mouseleave="hideTooltip()"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="record.qExpressions.length > -1" class="header-wrapper">\n\t\t\t\t\t\t\t<h1 q-translation="Devhub.Expressions"></h1>\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--expression expression-icon"\n\t\t\t\t\t\t\t\t  ng-click="editMeasure(-1)"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="scrollable expression-list" q-scroll ng-if="record.qExpressions.length > -1">\n\t\t\t\t\t\t\t<ul class="dialog-measure-tokens">\n\t\t\t\t\t\t\t\t<li ng-if="record.qExpressions" ng-repeat="item in record.qExpressions track by $index">\n\t\t\t\t\t\t\t\t\t<div class="field-wrapper field-token">\n\t\t\t\t\t\t\t\t\t\t<div class="icon-handle"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="field-text">{{item.qDef.qDef || item.qLabel}}</div>\n\t\t\t\t\t\t\t\t\t\t<span class="lui-icon lui-icon--small lui-icon--close" ng-click="removeMeasure($index)"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="metadata-form">\n\t\t\t\t\t\t<div class="metadata-item" ng-if="record.qMode">\n\t\t\t\t\t\t\t<label><span q-translation="Devhub.Mode"></span>:</label>\n\t\t\t\t\t\t\t<lui-select x-model="record.qMode">\n\t\t\t\t\t\t\t\t<option value="S" q-translation="Devhub.Straight"></option>\n\t\t\t\t\t\t\t\t<option value="P" q-translation="Devhub.Pivot"></option>\n\t\t\t\t\t\t\t\t<option value="K" q-translation="Devhub.Stacked"></option>\n\t\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item metadata-checkbox" ng-if="record.qMode">\n\t\t\t\t\t\t\t<div class="checkbox-wrapper">\n\t\t\t\t\t\t\t\t<lui-checkbox x-model="record.qSuppressZero">{{ \'Devhub.SuppressZero\' | translate }}\n\t\t\t\t\t\t\t\t</lui-checkbox>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="checkbox-wrapper">\n\t\t\t\t\t\t\t\t<lui-checkbox x-model="record.qSuppressMissing">{{ \'Devhub.SuppressMissing\' | translate\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t</lui-checkbox>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item" ng-hide="!record.qFrequencyMode">\n\t\t\t\t\t\t\t<label><span q-translation="Devhub.FrequencyMode"></span>:</label>\n\t\t\t\t\t\t\t<lui-select x-model="record.qFrequencyMode">\n\t\t\t\t\t\t\t\t<option value="N" q-translation="Devhub.NoFrequency"></option>\n\t\t\t\t\t\t\t\t<option value="V" q-translation="Devhub.AbsoluteValue"></option>\n\t\t\t\t\t\t\t\t<option value="P" q-translation="Devhub.Percent"></option>\n\t\t\t\t\t\t\t\t<option value="R" q-translation="Devhub.Relative"></option>\n\t\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<label><span q-translation="Devhub.Rows"></span>:</label>\n\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t<input name="rows"\n\t\t\t\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': createHypercube.rows.$invalid}"\n\t\t\t\t\t\t\t\t\t   ng-model="record.qInitialDataFetch[0].qHeight"\n\t\t\t\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t\t\t\t   type="number"\n\t\t\t\t\t\t\t\t\t   min="0"\n\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t<div qw-validation-tooltip="createHypercube.rows"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="metadata-item">\n\t\t\t\t\t\t\t<label class="qv-taglabel"><span q-translation="Devhub.CallbackFunction"></span>:</label>\n\t\t\t\t\t\t\t<div class="validation-form">\n\t\t\t\t\t\t\t\t<input name="callbackFunction"\n\t\t\t\t\t\t\t\t\t   class="lui-input"\n\t\t\t\t\t\t\t\t\t   ng-model="record.callback"\n\t\t\t\t\t\t\t\t\t   ng-class="{\'validation-error-input\': (createHypercube.callbackFunction.$invalid || callbackAlreadyExists) && !notValidated}"\n\t\t\t\t\t\t\t\t\t   ng-change="validateForm(createHypercube.callbackFunction)"\n\t\t\t\t\t\t\t\t\t   value=""\n\t\t\t\t\t\t\t\t\t   type="text"\n\t\t\t\t\t\t\t\t\t   required/>\n\t\t\t\t\t\t\t\t<div ng-hide="notValidated"\n\t\t\t\t\t\t\t\t\t qw-validation-tooltip="createHypercube.callbackFunction"></div>\n\t\t\t\t\t\t\t\t<span ng-if="callbackAlreadyExists"\n\t\t\t\t\t\t\t\t\t  class="lui-icon  lui-icon--warning validation-error-icon"\n\t\t\t\t\t\t\t\t\t  ng-mouseover="showTooltip( $event, \'Devhub.CallbackAlreadyExists\' )"\n\t\t\t\t\t\t\t\t\t  ng-mouseleave="hideTooltip()"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</lui-dialog-body>\n\t\t<lui-dialog-footer>\n\t\t\t<lui-button ng-click="closeView($event)" q-translation="Devhub.Cancel" tid="cancel"></lui-button>\n\t\t\t<lui-button ng-click="update(createHypercube, $event)" q-translation="Devhub.Add"></lui-button>\n\t\t</lui-dialog-footer>\n\t</form>\n</lui-dialog>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(664),n(41),n(45),n(107),n(665),n(240),n(673),n(678),n(61),n(103),n(54),n(86),n(66)],r=function(t,e,n,i){var r=e.getService("qwNavigationService");var o=e.getService("qwWidgetEditorService");var s=e.getService("qwMenuService");var a=e.getService("qwCommonService");var l=e.getService("qwConfigService");var c={restrict:"E",replace:true,template:t,controller:["$scope",function(t){t.assets=o.assets;t.$watch("assets.currentLibrary",function(t){s.setAppSelectorActive(t.length>0)})}]};var u={text:"Devhub.WidgetEditor",openInNewTab:"optional",entity:"widget",link:r.getBasePath()+"/dev-hub/widget-editor/",tid:"6f904a",hide:false,onSelect:function t(e,n){r.openUrlInNewTabIfCtrlKeyPressed(e.ctrlKey||n,this)},disabled:false,order:4};var d={grid:{left:{w:"60%"},right:{w:"40%"},top:{h:"60%"},bottom:{h:"calc( 40% - 14px )"},preview:{open:true}},panels:{propertyPanel:{open:true},assetsPanel:{open:true}},editors:{HTML:{open:true,fontSize:"initial",maximized:false},CSS:{open:true,fontSize:"initial",maximized:false}}};var p={toolPath:"widget-editor",toolTitle:"Devhub.WidgetEditor",helpPage:"WidgetEditorHelp",rightPanel:{active:true,open:true},leftPanel:{active:true,open:true},toolbarSearch:false,appSelectorHidden:true,bottomBar:{active:true,openView:false,tabbedView:false},toggleEditors:{htmlButton:true,cssButton:true,previewButton:true,service:o},propertyPanel:{sortable:true},panelEditor:{enabled:true,isOpen:false}};r.addToolsPanelItem(u);r.addNavigationMenuItemProvider(function(){return u});r.registerRoute("/dev-hub/widget-editor",function(){l.setConfig(d);l.setToolConfig(p);o.options={editorHTML:l.getConfig("editors").HTML.open,editorCSS:l.getConfig("editors").CSS.open,toggleEditor:false,preview:l.getConfig("preview").open};return n.all({res:o.init()}).then(function(t){var e=[{textInactive:"Devhub.Save",tooltipInactive:"Devhub.Save",showText:function t(){return true},textOnly:true,tid:"5ca540",position:{left:true},isDisabled:function t(){return!o.isDirty()},onButtonClicked:o.save}];e.forEach(function(t){s.addButton(t)});function n(){return[{icon:"lui-icon--save",title:"Devhub.SaveAs",text:"Devhub.SaveAs",openInNewTab:false,tid:"8c8e13",onSelect:function t(){o.saveAs()},disabled:!o.permission.create||!o.assets.currentLibrary||o.assets.currentLibrary.length<1},{icon:"lui-icon--plus",title:"Widget.CreateNew",text:"Widget.CreateNew",openInNewTab:false,tid:"12063c",onSelect:function t(){o.openCreateNewWidgetDialog()},disabled:!o.permission.create||!(o.assets.libraries.length>0)},{icon:"lui-icon--plus",title:"Devhub.CreateLibrary",text:"Devhub.CreateLibrary",openInNewTab:false,tid:"312706",onSelect:function t(){o.createLibraryDialog()},disabled:!o.permission.create},{icon:"lui-icon--folder",title:"Widget.OpenLibrary",text:"Widget.OpenLibrary",openInNewTab:false,tid:"2eb4d2",onSelect:function t(){o.openLibraryDialog()},disabled:0===o.assets.libraries.length||1===o.assets.libraries.length&&""!==o.assets.currentLibrary}]}s.addMenuItemProvider(n);s.bindAppSelector(t.res.apps,function(){var t=this;o.openApp(t)});a.notifyWatchers("initToolbar");r.getContainer().showComponent(c);var l=i.createGroup("widgetEditor",10);l.registerKeys("ctrl+s",o.save,{allowInInput:true});l.on()})});return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<qw-dev-hub-stage ng-if="assets.currentLibrary.length > 0" id="widget-editor-stage">\n\t<qw-assets-panel service="qwWidgetEditorService" ng-show="toolConfig.leftPanel.open">\n\t\t<qw-blocking-overlay class="prop-builder-blocking-overlay"\n\t\t\t\t\t\t\t ng-if="toolConfig.panelEditor.isOpen"></qw-blocking-overlay>\n\t</qw-assets-panel>\n\t<qw-work-area class="work-area-widget-editor">\n\t\t<qw-blocking-overlay class="prop-builder-blocking-overlay"\n\t\t\t\t\t\t\t ng-if="toolConfig.panelEditor.isOpen"></qw-blocking-overlay>\n\t\t<qw-stage-grid editor-css="editorCSS" editor-html="editorHTML" preview="preview"></qw-stage-grid>\n\t</qw-work-area>\n\t<qw-property-panel service="qwWidgetEditorService" preview-object="previewObject"\n\t\t\t\t\t   ng-show="toolConfig.rightPanel.open"></qw-property-panel>\n</qw-dev-hub-stage>\n\n<div ng-if="assets.currentLibrary.length < 1" class="we-hint-text-container">\n\t<div class="hint-wrapper">\n\t\t<div class="hint-header" q-translation="Widget.NoLibrary"></div>\n\t\t<div class="hint-text" q-translation="Widget.NoLibraryAction"\n\t\t\t q-html-translation-indexes=\'["<i class=\\"lui-icon  lui-icon--unordered-list\\"></i>"]\'></div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(666),n(239),n(102),n(116),n(54),n(56)],r=function(t,e){var n=t.getService("qwConfigService");var i=n.getToolConfig();i.enableAssetsDropZone=false;n.setToolConfig(i);t.directive("qwAssetsPanel",function(){return{replace:true,restrict:"E",transclude:true,scope:{service:"@service"},template:e,controller:["$scope",function(e){var n=t.getService(e.service);var i=t.getService("qwCommonService");var r=t.getService("qwConfigService").getToolConfig();e.enableAssetsDropZone=r.enableAssetsDropZone;e.assets="function"===typeof n.assets?n.assets():n.assets;e.click=function(t,e){n.actions.onClick?n.actions.onClick(t,e):null};e.rightClick=function(t,e){n.actions.onRightClick?n.actions.onRightClick(t,e):null};function o(){n.reload()}i.registerWatcher("libraryUpdate",o)}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="assets-panel qw-panel qv-panel-assets">\n\t<ng-transclude></ng-transclude>\n\t<div class="title-context">\n\t\t<div class="title" q-title-translation="{{assets.assetsPanelTitle}}"\n\t\t\t q-translation="{{assets.assetsPanelTitle}}"></div>\n\t</div>\n\t\x3c!--search--\x3e\n\t<div class="search-box">\n\t\t<lui-search x-variant="inverse" query="query.title" placeholder="Devhub.Search"\n\t\t\t\t\ton-escape="query = \'\';"></lui-search>\n\t</div>\n\t\x3c!-- DropZone--\x3e\n\t<div class="dropzone-wrapper" ng-if="enableAssetsDropZone"\n\t\t ng-class="{ \'dropzone-border\': assets.apItems.length && !(assets.apItems | searchFilter:query.title).length == 0 }">\n\t\t<qw-drop-zone-js></qw-drop-zone-js>\n\t</div>\n\t\x3c!--Left panel--\x3e\n\t<div class="qv-panel-left borderbox">\n\t\t\x3c!--Object List--\x3e\n\t\t<div class="qw-list qw-object-list scrollable" q-scroll="{{assets.apItems.length>0}}">\n\t\t\t<div class="no_objects" ng-if="!assets.apItems.length">\n\t\t\t\t<span q-translation="Devhub.NoItems"></span>\n\t\t\t</div>\n\t\t\t<div class="no_objects"\n\t\t\t\t ng-if="assets.apItems.length && (assets.apItems | searchFilter:query.title).length == 0">\n\t\t\t\t<span q-translation="Devhub.Nohits"></span>\n\t\t\t</div>\n\t\t\t<ul class="lui-list  lui-list--inverse">\n\t\t\t\t<li ng-repeat="apItem in assets.apItems | orderBy: \'title\'| searchFilter:query.title"\n\t\t\t\t\tclass="library-item lui-list__item lui-list__action  qv-draggable"\n\t\t\t\t\tng-class="{ \'active\': assets.currentApItemObject.id === apItem.id }"\n\t\t\t\t\tdata-id="{{apItem.id}}"\n\t\t\t\t\tdata-type="{{apItem.type}}"\n\t\t\t\t\tng-click="click(apItem, $event)"\n\t\t\t\t\tqva-context-menu="rightClick(apItem, $event)"\n\t\t\t\t\ttitle="{{apItem.title}}">\n\t\t\t\t\t<div ng-if="apItem.icon" class="lui-icon lui-icon--{{apItem.icon}} lui-list__aside"></div>\n\t\t\t\t\t<div ng-if="!assets.isDirty(apItem)" class="lui-list__text lui-list__text--ellipsis"\n\t\t\t\t\t\t qve-highlight="" text="{{apItem.title}}" query="query.title"></div>\n\t\t\t\t\t<div ng-if="assets.isDirty(apItem)" class="lui-list__text lui-list__text--ellipsis" qve-highlight=""\n\t\t\t\t\t\t text="{{apItem.title}} *" query="query.title"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n'},,function(t,e){t.exports='<div class=\'qw-converter-qvw-dropzone dropzone qv-dhtr-dropzone-item create-new-list-item\' tid="24ec9">\n\t<div class="dz-message">\n\t\t<div class="add-icon">\n\t\t\t<span class="lui-icon  lui-icon--plus"></span>\n\t\t</div>\n\t\t<div class="add-text" ng-if="isstartpage === \'true\'" q-translation="Devhub.AddDocument"></div>\n\t\t<div class="add-text" ng-if="!isstartpage || isstartpage !== \'true\'" q-translation="Devhub.AddQvwFile"></div>\n\t</div>\n</div>'},function(t,e,n){"use strict";var i,r;!(i=[n(670)],r=function(t){var e;var n={template:t,controller:["$scope","$timeout",function(t,n){t.cancel=function(){this.input&&this.input.cancel();t.closeView()};t.closeView=function(){t.destroyComponent()};t.assetsConvertedDone=1;t.progressDone=false;var i=setInterval(function(){e=document.getElementsByClassName("file-load-dialog")[0].getElementsByClassName("progress-bar")[0];e&&(e.style.width=t.progress.progress+"%");if(100===t.progress.progress){clearInterval(i);n(function(){t.progressDone=true},700);i=setInterval(function(){if(1!==t.assetsConverted.status){clearInterval(i);n(function(){t.assetsConvertedDone=t.assetsConverted.status})}},100)}},10)}]};return{component:n}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<lui-dialog class="file-load-dialog">\n\t<lui-dialog-header>\n\t\t<lui-dialog-title q-translation="Devhub.ConverterProcessFileTitle"></lui-dialog-title>\n\t</lui-dialog-header>\n\t<lui-dialog-body class="file-load-body">\n\t\t<span ng-if="!progressDone" q-translation="Devhub.ConverterProcessFile" tid="24eca"></span>\n\t\t<span ng-if="progressDone && assetsConvertedDone === 2" q-translation="Devhub.ConverterProcessSuccess"></span>\n\t\t<span ng-if="progressDone && assetsConvertedDone === 0" q-translation="Devhub.ConverterProcessFailed"></span>\n\t\t<span ng-if="progressDone && assetsConvertedDone === 1" q-translation="Devhub.ConverterConvertingAssets" tid="24ecb"></span>\n\t\t<qv-spinner show="progressDone && assetsConvertedDone === 1"></qv-spinner>\n\t\t<div ng-show="!progressDone" class="progress-wrapper">\n\t\t\t<div class="progress-bar" ng-style="{\'width\': 0 }"></div>\n\t\t</div>\n\t</lui-dialog-body>\n\t<lui-dialog-footer class="file-load-footer">\n\t\t<lui-button ng-if="!progressDone && assetsConvertedDone === 1" ng-click="cancel()"\n\t\t\t\t\tq-translation="Devhub.Cancel"></lui-button>\n\t\t<lui-button ng-if="progress.progress >= 100 && (assetsConvertedDone == 0 || assetsConvertedDone === 2)"\n\t\t\t\t\tng-click="closeView()" q-translation="Devhub.Close" tid="24ed2"></lui-button>\n\t</lui-dialog-footer>\n</lui-dialog>'},function(t,e){t.exports='<div class=\'qv-panel-properties\'>\n\t<qv-property-panel></qv-property-panel>\n\t<qw-panel-editor service=\'{{service}}\'></qw-panel-editor>\n\t\x3c!--blocking overlay when no app selected --\x3e\n\t<qw-blocking-overlay ng-if="!assets.currentApp"\n\t\t\t\t\t\t msg=\'{{ "Devhub.PropertyPanelNotAvailable" | translate }}\'></qw-blocking-overlay>\n\t\x3c!--blocking overlay when editing a component --\x3e\n\t<qw-blocking-overlay id="blocking-overlay-editing-component"\n\t\t\t\t\t\t ng-if="toolConfig.panelEditor.editingComponent"></qw-blocking-overlay>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(46)],r=function(t,e){function n(e,n,i){var r=t(e);if(e&&r.attr("tid")&&r.attr("tid").indexOf(i.prefix+"dropzone")>-1&&!r.children().first().hasClass(i.prefix+"dropspot")||n){r.css({height:0});r.html("");r.addClass(i.prefix+"dropzone");r.removeAttr("ng-repeat")}return true}function i(n,i){var r=t(n);if(n&&r.attr("tid")&&r.attr("tid").indexOf(i.prefix+"emptymessage")>-1){r.html("");r.attr({text:e.get("Devhub.EmptyHeaderMsg")});r.addClass("empty-header-msg")}return true}return{cleanupDropZone:n,cleanupMessage:i}}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(674),n(676)],r=function(t){t.directive("qwPanelEditor",function(){return{template:"<div class='widget-editor-panel'><qw-panel-editor-panel service='{{service}}'></qw-panel-editor-panel><qw-panel-editor-toolbar></qw-panel-editor-toolbar></div>",restrict:"E",replace:true,scope:{service:"@service"},controller:[function(){}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(46),n(104),n(675),n(240),n(56),n(160),n(243)],r=function(t,e,n,i,r){var o=t.getService("qwPanelEditorService");var s=t.getService("qwConfigService");var a=t.getService("qwPropertyPanelService");t.directive("qwPanelEditorPanel",function(){return{template:r,restrict:"E",replace:true,scope:{service:"@service"},controller:["$scope","$element","$compile",function(r,l,c){var u=t.getService(r.service);o.setToolService(r.service);var d={panelEditor:{enabled:true,isOpen:false,editingComponent:false}};r.toolConfig=e.extend(s.getToolConfig(),d);r.panelDefinition={settings:{title:"Devhub.Appearance",description:"Devhub.AppearanceDescription",type:"settings",active:false,items:{header:{title:"Devhub.Header",definition:{type:"header"}},inputField:{title:"Devhub.InputField",definition:{type:"string",expression:"optional",defaultValue:""}},checkbox:{title:"Devhub.Checkbox",definition:{type:"boolean",expression:"optional",defaultValue:false}},textarea:{title:"Devhub.Texarea",definition:{component:"textarea",defaultValue:"",rows:3,maxlength:512}},dropdown:{title:"Devhub.Dropdown",definition:{component:"dropdown",type:"string",defaultValue:"",options:[]}},"radio-button":{title:"Devhub.RadioButtons",definition:{component:"radiobuttons",type:"string",defaultValue:"",options:[{value:n.get("Devhub.Value"),label:n.get("Devhub.Label")}]}},switch:{title:"Devhub.Switch",definition:{component:"switch",type:"boolean",defaultValue:true,options:[{value:true,label:n.get("Devhub.LabelTrue")},{value:false,label:n.get("Devhub.LabelFalse")}]}}}},data:{title:"Devhub.Data",description:"Devhub.DataDescription",type:"data",active:false,items:{},definition:{type:"data"}},sorting:{title:"Devhub.Sorting",description:"Devhub.SortingDescription",type:"sorting",active:false,items:{},definition:{type:"sorting"}}};r.keys=Object.keys;o.dragAndDropInitialized=false;o.initDragAndDrop(l);function p(){r.toolConfig.panelEditor.isOpen=!r.toolConfig.panelEditor.isOpen;if(r.toolConfig.panelEditor.isOpen&&!o.dragAndDropInitialized){f();o.initDragAndDrop(l)}else u.createPreview();h();a.switchDragDrop(r.toolConfig.panelEditor.isOpen)}function f(t){var n=u.assets.currentWidgetTemplate.properties;e.each(r.panelDefinition,function(t){r.panelDefinition[t].canAdd=n&&i.canAddSection(n,t)});if("undefined"!==typeof t){e.each(r.panelDefinition,function(e){r.panelDefinition[e].active=e===t});r.$apply()}}function h(){var t={header:document.querySelectorAll("[tid=data] > .pp-section-header")[0],content:document.querySelectorAll("[tid=data] > .pp-section-content")[0]};if(r.toolConfig.panelEditor.isOpen){if(t.header&&0===t.header.querySelectorAll("[edit-icon-flag]").length){var n="<div edit-icon-flag class='pp-panel-editor-temp-icon' ng-show='toolConfig.panelEditor.isOpen' ng-click='editDataSection()'><span class='lui-icon lui-icon--cogwheel'></span></div>";var i=c(n)(r);e(t.header).append(i)}t.content&&e(t.content).addClass("pp-block")}else t.content&&e(t.content).removeClass("pp-block");var o={header:document.querySelectorAll("[tid=sorting] > .pp-section-header")[0],content:document.querySelectorAll("[tid=sorting] > .pp-section-content")[0]};if(r.toolConfig.panelEditor.isOpen){if(o.header&&0===o.header.querySelectorAll("[edit-icon-flag]").length){var s="<div edit-icon-flag class='pp-panel-editor-temp-icon' ng-show='toolConfig.panelEditor.isOpen' ng-click='editSortingSection()'><span class='lui-icon lui-icon--cogwheel'></span></div>";var a=c(s)(r);e(o.header).append(a)}o.content&&e(o.content).addClass("pp-block")}else o.content&&e(o.content).removeClass("pp-block");var l=u.getPropertiesFromCache();if(r.toolConfig.panelEditor.isOpen&&l.sections){var d="<div edit-icon-flag class='pp-panel-editor-temp-icon header-icon' ng-show='toolConfig.panelEditor.isOpen' ng-click='editHeader($event)'><span class='lui-icon lui-icon--cogwheel'></span></div>";var p;l.sections.forEach(function(t){p=document.querySelectorAll("[tid='"+t.ref+"'] > .pp-expandable-list-header");var n=c(d)(r);0===e(p).find("[edit-icon-flag]").length&&e(p).append(n)})}var f={content:document.querySelectorAll("[tid=general]")[0]};r.toolConfig.panelEditor.isOpen?f.content&&e(f.content).addClass("pp-block-content"):f.content&&e(f.content).removeClass("pp-block-content")}r.editDataSection=function(){o.editSection("section-data",{ref:"data"},r.panelDefinition.data.active)};r.editSortingSection=function(){o.editSection("section-sorting",{ref:"sorting"},r.panelDefinition.sorting.active)};r.editHeader=function(t){t.stopPropagation();o.editSection("section-header",e(t.currentTarget.parentElement.parentElement).scope().item.definition,r.panelDefinition.settings.active)};r.$on("PanelEditor.toggleEditMode",function(){p()});r.$on("PanelEditor.updatePanelEditor",function(t,e){f(e);r.toolConfig.panelEditor.isOpen&&h()})}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="pe-panel" ng-show="toolConfig.panelEditor.isOpen && !toolConfig.panelEditor.editingComponent">\n\t<div class="pe-header" q-translation="Devhub.AvailableComponents"></div>\n\t<div class="pe-panel-content">\n\t\t<div class="pe-section-header">\n\t\t\t<h1 q-translation="Devhub.Sections"></h1>\n\t\t</div>\n\t\t<div class="pe-group qw-list qw-object-list scollable" q-scroll>\n\t\t\t<ul class="pe-section-list devhub-draggable" type="section">\n\t\t\t\t<li ng-repeat="section in panelDefinition"\n\t\t\t\t\ttype="{{section.type ===\'data\' ? \'dataSection\' : section.type === \'sorting\' ? \'sortingSection\' : \'section\'}}"\n\t\t\t\t\tclass="pe-item pe-sections-item" ng-class="{\'qv-draggable\': section.canAdd}">\n\t\t\t\t\t<div class="title" q-translation="{{section.title}}"></div>\n\t\t\t\t\t<div class="description" q-translation="{{section.description}}"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<div class="pe-panel-content items">\n\t\t<div class="pe-section-header">\n\t\t\t<h1 q-translation="Devhub.Items"></h1>\n\t\t</div>\n\n\t\t<div ng-repeat="section in panelDefinition" ng-show="keys(section.items).length > 0 &&  section.active"\n\t\t\t class="pe-group qw-list qw-object-list" q-scroll>\n\t\t\t<ul class="pe-section-list devhub-draggable" type="{{section.type === \'data\' ? \'data\' : \'item\'}}"\n\t\t\t\tcheck="{{section}}">\n\t\t\t\t<li ng-repeat="prop in section.items" class="pe-item pe-property-item" type="{{prop.definition.type}}"\n\t\t\t\t\tng-class="{\'qv-draggable\': !prop.added, \'basic-item\': prop.definition.type !== \'header\'}">\n\t\t\t\t\t<div class="title" q-translation="{{prop.title}}"></div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="text-wrapper" ng-repeat="section in panelDefinition"\n\t\t\t ng-show="keys(section.items).length === 0 && section.active">\n\t\t\t<div class="section-has-no-items">No components available</div>\n\t\t</div>\n\t</div>\n</div>\n\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(677),n(56)],r=function(t,e){var n=t.getService("qwConfigService");t.directive("qwPanelEditorToolbar",function(){return{template:e,restrict:"E",replace:true,controller:["$scope","$rootScope",function(t,e){t.enablePE=n.getToolConfig().panelEditor.enabled;t.editing=false;t.handleEscape=function(){t.editing&&t.toggleEditMode()};t.toggleEditMode=function(){t.editing=!t.editing;e.$broadcast("PanelEditor.toggleEditMode")}}]}})}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="property-toolbar" ng-if="enablePE" qv-escape="handleEscape()">\n\t<div class="header-wrapper">\n\t\t<div class="edit-panel-icon" q-title-translation="{{editing ? \'Devhub.Done\' : \'Devhub.Edit\'}}"\n\t\t\t ng-click="toggleEditMode()">\n\t\t\t<span class="lui-icon" ng-class="{\'lui-icon--edit\': !editing, \'lui-icon--tick\': editing}"></span>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(41),n(46),n(679),n(54),n(56),n(103),n(122)],r=function(t,e,n,i){var r=e.getService("qwWidgetEditorService");var o=e.getService("qwConfigService");var s=e.getService("qwCommonService");var a={template:i,restrict:"E",replace:true,controller:["$scope","$element",function(e,i){e.options=r.options;e.actions=r.actions;e.maximizedStatus={editorHTML:false,editorCSS:false,preview:false};s.registerWatcher("reloadContent",function(){e.widgetHtmlEditor.data=e.service.assets.currentWidgetTemplate.htmlObj;e.widgetCssEditor.data=e.service.assets.currentWidgetTemplate.cssObj});e.editorConfigProvider=function(t){var i={styleActiveLine:true,showHint:true,onChange:e.actions.onChange,toolbarConfig:{undoRedoPanel:true,fontResizePanel:true,maximized:false,onEditorToggleMaximize:function t(n){var i;switch(n.editorId){case"widgetHtmlEditor":i=e.maximizedStatus.editorHTML;y("CSS",i);y("Preview",i);break;case"widgetCssEditor":i=e.maximizedStatus.editorCSS;y("HTML",i);y("Preview",i);break}}}};switch(t){case"widgetHtmlEditor":i.mode="htmlmixed";i.placeholder=n.get("Widget.placeHolderHTML");i.value=e.service.assets.currentWidgetTemplate.htmlObj.content;i.data=e.service.assets.currentWidgetTemplate.htmlObj;i.toolbarConfig.title="HTML";i.toolbarConfig.showInsertButton=true;i.handlers={openInsertDialog:a};break;case"widgetCssEditor":i.mode="text/x-less";i.placeholder=n.get("Widget.placeHolderCSS");i.value=e.service.assets.currentWidgetTemplate.cssObj.content;i.data=e.service.assets.currentWidgetTemplate.cssObj;i.toolbarConfig.title="CSS";break}e[t]=i;return i};e.previewToggleMaximize=function(){var t=e.maximizedStatus.preview;y("HTML",t);y("CSS",t)};function a(t){t.stopPropagation();r.insertIconsAndSnippets(e.widgetHtmlEditor.insertMarkup)}function l(t,e,n){c(t,e,n);u(t,e,n)}function c(t,n,i){e.maximizedStatus.editorHTML=t&&!n&&!i;e.maximizedStatus.editorCSS=n&&!t&&!i;e.maximizedStatus.preview=i&&!n&&!t;e.widgetHtmlEditor.toolbarConfig.maximized=e.maximizedStatus.editorHTML;e.widgetCssEditor.toolbarConfig.maximized=e.maximizedStatus.editorCSS}function u(t,n,i){e.options.editorHTML=t;e.options.editorCSS=n;e.options.preview=i}e.service=r;e.editors=[];var d=o.getConfig("grid");var p=i.find("div.qw-box-left");var f=i.find("div.qw-box-right");var h=i.find("div.qw-box-top");var v=i.find("div.qw-box-bottom");var g=i.find("div.qw-resize_v");var m=i.find("div.qw-resize_h");var b=function t(){p.width(d.left.w);f.width(d.right.w);h.height(d.top.h);v.height(d.bottom.h)};b();var y=function t(n,i){var a;switch(n){case"HTML":a=void 0!==i?i:!r.options.editorHTML;if(e.maximizedStatus.editorHTML&&!a)return;r.options.editorHTML=a;o.setConfig(n,{open:r.options.editorHTML});break;case"CSS":a=void 0!==i?i:!r.options.editorCSS;if(e.maximizedStatus.editorCSS&&!a)return;r.options.editorCSS=a;o.setConfig(n,{open:r.options.editorCSS});break;case"Preview":a=void 0!==i?i:!r.options.preview;if(e.maximizedStatus.preview&&!a)return;r.options.preview=a;o.setConfig(n,{open:r.options.preview});break}if(r.options.editorHTML&&!r.options.editorCSS){0===p.width()&&p.width(d.left.w);h.height("100%")}else if(!r.options.editorHTML&&r.options.editorCSS){0===p.width()&&p.width(d.left.w);v.height("100%")}else r.options.editorHTML||r.options.editorCSS?b():p.width("0%");if(r.options.preview)if(r.options.editorHTML||r.options.editorCSS){p.show();p.width(d.left.w);f.width(d.right.w)}else{f.width("100%");p.hide()}else p.width("100%");l(r.options.editorHTML,r.options.editorCSS,r.options.preview);s.notifyWatchers("gridResize")};r.options.toggleEditor=y;g.draggable({axis:"x",containment:"parent",handle:"span",grid:[1,1e3],drag:function t(e,n){var i=n.offset.left-p.offset().left;p.width(100*i/p.parent().width()+"%");f.width(100-100*i/p.parent().width()+"%")},stop:function t(){o.setConfig("left",{w:p.get(0).style.width});o.setConfig("right",{w:f.get(0).style.width});s.notifyWatchers("gridResize")}});m.draggable({axis:"y",containment:"parent",handle:"span",drag:function e(n,i){var r=i.offset.top-h.offset().top;var o=h.parent().height()-t(this).height();h.height(100*r/o+"%");v.height("calc( "+(100-100*r/o)+"% - 14px )")},stop:function t(){o.setConfig("top",{h:h.get(0).style.height});o.setConfig("bottom",{h:v.get(0).style.height});s.notifyWatchers("gridResize")}})}]};e.directive("qwStageGrid",function(){return a});return a}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div id="qw-cnt-widget">\n\t<div class="wrapper">\n\t\t<div class="qw-grid">\n\t\t\t<div class="qw-box-left" ng-class="{\'block\': !options.preview, \'hidden\': maximizedStatus.preview }">\n\t\t\t\t<div class="qw-box-top" ng-show="options.editorHTML"\n\t\t\t\t\t ng-class="{\'full-height\': maximizedStatus.editorHTML || !options.editorCSS }">\n\t\t\t\t\t<qw-editor qw-autocomplete class="editor" editor-config-provider="editorConfigProvider"\n\t\t\t\t\t\t\t   editor-id="widgetHtmlEditor"></qw-editor>\n\t\t\t\t</div>\n\t\t\t\t<div class="qw-resize_h" ng-show="options.editorHTML && options.editorCSS"><span></span></div>\n\t\t\t\t<div class="qw-box-bottom" ng-show="options.editorCSS"\n\t\t\t\t\t ng-class="{\'full-height\': maximizedStatus.editorCSS || !options.editorHTML }">\n\t\t\t\t\t<qw-editor qw-autocomplete class="editor" editor-config-provider="editorConfigProvider"\n\t\t\t\t\t\t\t   editor-id="widgetCssEditor"></qw-editor>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="qw-resize_v" ng-show="( options.editorHTML || options.editorCSS ) && options.preview">\n\t\t\t\t<span></span></div>\n\t\t\t<div class="qw-box-right" ng-show="options.preview">\n\t\t\t\t<qw-blocking-overlay ng-if="!service.assets.currentApp"\n\t\t\t\t\t\t\t\t\t msg="{{ \'Devhub.PreviewNotAvailable\' | translate }}"></qw-blocking-overlay>\n\t\t\t\t<div class="toolbar-preview">\n\t\t\t\t\t<span class="header" q-translation="Devhub.Preview"></span>\n\n\t\t\t\t\t<div class="btn right distraction_free" ng-click="previewToggleMaximize()">\n\t\t\t\t\t\t<span class="lui-icon expand-icon"\n\t\t\t\t\t\t\t  ng-class="maximizedStatus.preview ? \'lui-icon--collapse\' : \'lui-icon--expand\'"\n\t\t\t\t\t\t\t  q-title-translation="Devhub.ZoomIn"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="qw-preview"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(44),n(45),n(46),n(47),n(52),n(681),n(685),n(245),n(244),n(246),n(54),n(56),n(61),n(66),n(161),n(233)],r=function(t,e,n,i,r,o,s,a,l,c,u){var d=t.getService("qwCommonService");function p(){var e=t.getService("qwNavigationService");var i=t.getService("qwConfigService");var r={text:"Devhub.EngineAPIExplorer",openInNewTab:"optional",link:e.getBasePath()+"/dev-hub/engine-api-explorer",tid:"4fac99",hide:false,onSelect:function t(n,i){e.openUrlInNewTabIfCtrlKeyPressed(n.ctrlKey||i,this)},disabled:false,order:5};e.addToolsPanelItem(r);e.addNavigationMenuItemProvider(function(){return r});var o={toolPath:"engine-api-explorer",toolTitle:"Devhub.EngineAPIExplorer",helpPage:"EngineApiExplorer",general:{undoRedo:false},rightPanel:{active:false,open:false},leftPanel:{active:false,open:false},toolbarSearch:false,bottomBar:{active:false},selectionsBar:{enabled:false,toggled:false}};e.registerRoute("/dev-hub/engine-api-explorer",function(){i.setToolConfig(o);return n.all({}).then(function(){d.notifyWatchers("initToolbar");e.getContainer().showComponent(h)})})}p();function f(t){t.handles=l.handles;t.allObjects=o.objectToArray(l.all)}var h={template:a,controller:["$scope","$timeout",function(n,a){var p=t.getService("qwErrorService");n.state={session:void 0};n.editors={};n.data={content:""};n.state.macros=o.objectToArray(s.getAllMacros());n.state.transactions=c.getTransactions();n.showAlert=true;n.closeAlert=function(){n.showAlert=false};n.connectToEngine=function(t){if(n.state.session){n.state.session.closeSession();n.state.session=void 0}n.state.session=s.connectToEngine();n.state.macros=o.objectToArray(s.getEngineMacros());n.onValueChange("MacrosChanged");f(n);t&&s.getApplicationList(n.state.session).then(function(t){n.state.applicationList=t;n.applicationList=o.objectToArray(t)},function(t){window.console.log("Error: "+t)})};n.onValueChange=function(t){n.onInterationEffect=t;a(function(){n.onInterationEffect=""},1500);"DiscoveredObjectsChanged"===t&&(n.allObjects=o.objectToArray(l.all))};d.registerWatcher("DiscoveredObjectsChanged",n.onValueChange);n.connectToApplication=function(t){var e=n.state.applicationList[t];if(e){if(n.state.session){n.state.session.closeSession();n.state.session=void 0}n.state.session=s.connectToApplication(e);n.state.macros=o.objectToArray(s.getAllMacros());n.onValueChange("MacrosChanged");f(n)}};n.onMacroSelected=function(t){t?n.editors.commandEditor.codeMirror.setValue(JSON.stringify(u.get(t).chain,null,"\t")):n.editors.commandEditor.codeMirror.setValue("")};n.onDiscoveredObjectSelected=function(t){if(t){var e=t.split("/");var i={handle:1,method:l.getGetMethod(e[0])};var r="Field"===e[0]?{qFieldName:e[1]}:{qId:e[1]};i.params=r||{};n.editors.commandEditor.codeMirror.setValue(JSON.stringify(i,null,"\t"))}};n.onActionSelected=function(t){if(t){var e=t.split("/"),i="-1"===e[0]?"0":e[0];var r={handle:+e[0],method:e[1]};var o=l.handles[i].methods[e[1]];r.params=o||{};n.editors.commandEditor.codeMirror.setValue(JSON.stringify(r,null,"\t"))}};n.hasExecutableCommand=function(){function t(t){try{JSON.parse(t)}catch(t){return false}return true}var e=n.editors.commandEditor.codeMirror.getValue();return e.length>0&&t(e)};n.executeCommand=function(t){try{var e=JSON.parse(t);s.executeCommand(n.state.session,e)}catch(t){t.errMessage?p.raiseError(null,t.errMessage):p.raiseError(null,i.get("Devhub.ErrorExecuteCommand"),t.message);return true}};n.getJSONFormattedValue=function(t){return JSON.stringify(t,null,"\t")};n.clearLog=function(){n.state.transactions.length=0};n.hasExpanded=function(t){for(var e=0;e<t.length;e++)if(t[e].expanded)return true;return false};n.collapseAll=function(t){for(var e=0;e<t.length;e++)t[e].expanded=false};n.disconnectApp=function(t){if(t&&!t.isEngineOnlySession()){l.clearAll();l.addGlobal();t.closeSession();n.state.session=void 0;n.state.selectedMacro=void 0;n.connectToEngine(false)}};n.hasDiscoveredObjects=function(){return l.hasDiscoveredObjects()};n.getEngineMessage=function(t){return t&&t.isConnected()?i.get("Devhub.ConnectedToEngine"):i.get("Devhub.NotConnectedToEngine")};n.getApplicationMessage=function(t){return t&&t.isConnected()&&!t.isEngineOnlySession()?i.get("Devhub.AppOpened"):i.get("Devhub.NotOpenedApp")};n.editorConfigProvider=function(t){var e;var r="Devhub.Request";if(t.indexOf("_")>=0){var o=t.split("_");var s=c.findTransactionById(o[0]);s&&(e=s[o[1]]);"response"===o[1]&&(r="Devhub.Response")}var a={mode:{name:"javascript",json:true},foldGutter:true,styleActiveLine:true,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],value:e?JSON.stringify(e,null,"\t"):"",readOnly:!("commandEditor"===t),toolbarConfig:{title:i.get(r),undoRedoPanel:false,fontResizePanel:false,onEditorToggleMaximize:function t(e){n.editors[e.editorId].toolbarConfig.maximized=!n.editors[e.editorId].toolbarConfig.maximized}},data:{content:"",isDirty:false,extension:""}};"commandEditor"===t&&delete a.toolbarConfig.onEditorToggleMaximize;return a};n.logTitle=function(t){return t.name+" -- "+(t.startTime.getHours().toString().length<2?"0"+t.startTime.getHours().toString():t.startTime.getHours())+":"+(t.startTime.getMinutes().toString().length<2?"0"+t.startTime.getMinutes().toString():t.startTime.getMinutes())+":"+(t.startTime.getSeconds().toString().length<2?"0"+t.startTime.getSeconds().toString():t.startTime.getSeconds())};n.toggleExpand=function(t){var e=c.findTransactionById(t);e.expanded=!e.expanded;a(function(){n.editors[e.id+"_request"].codeMirror.refresh();n.editors[e.id+"_response"].codeMirror.refresh()})};n.$watch("state.session.application",function(t,n){n!==t&&e(".calls-panel select").each(function(){e(this).prop("selectedIndex",null)})});n.keys=function(t){return t?Object.keys(t):[]};if(r.isMSIE()){window.addEventListener("resize",function(){if(window.outerHeight>=screen.availHeight&&window.outerWidth>=screen.availWidth)for(var t in n.editors)"commandEditor"!==t&&n.editors[t].codeMirror&&n.editors[t].codeMirror.refresh()});n.editors["commandEditor"]&&n.editors["commandEditor"].codeMirror.refresh()}}]};return h}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(135),n(682),n(683),n(244),n(245),n(246),n(45),n(67),n(47)],r=function(t,e,n,i,r,o,s,a,l){var c={};function u(e){return t.get(e||"?transient=",{host:l.hostname,port:l.port,isSecure:l.isSecure,reloadURI:l.reloadURI,prefix:l.basePath,onError:function t(e){a.LocalizedErrorCode.LOCERR_GENERIC_CONNECTION_LOST||window.console.log("Error: ",e)}})}function d(t,e){if(!t)throw"Invalid session";if(!e)throw"Invalid request";var o,s=new n(e,new Date,e.method,t.application,t.rpcSession?t.rpcSession.cacheName:"");function a(t){s.endTime=new Date;s.response=t;i.addToBeginning(s);r.handleReply(e,t)}function l(t){t.isHandled=true;a(t)}o=t.rpcSession.rpc(e);o.then(a,l);return o}function p(t,e){if(!t)throw"Invalid session";if(!e)throw"Invalid application id";var n={method:"OpenDoc",handle:-1,params:[e]};return d(t,n)}c.connectToEngine=function(){var t=u();t.open(true);r.addGlobal();return new e(t)};c.connectToApplication=function(t){r.clearAll();if(!t)throw"Invalid application";var n=u(t.qDocId);r.addGlobal();n.open(true);var i=new e(n,t);p(i,t.qDocId);return i};c.getEngineMacros=function(){var t=o.macros;var e={};Object.keys(t).forEach(function(n){var i=t[n];var r=i.chain;r.forEach(function(t){isNaN(t.handle)||n in e||(e[n]=i)})});return e};c.getAllMacros=function(){return o.macros};c.getApplicationList=function(t){if(!t)throw"Invalid session";var e=new s;var n=o.macros["GetAppList"].chain;function i(n){var i=new s;d(t,n).then(function(t){var n=t.result.qDocList;var r={};n.forEach(function(t){r[t.qDocId]=t});e.resolve(r);i.resolve(t)},function(t){e.reject(t);i.reject(t)});return i.promise}if(n){o.executeRaw(i,t.Data,n);return e.promise}};c.executeCommand=function(t,e){e&&(Array.isArray(e)?o.executeRaw(function(e){return d(t,e)},t.Data,e):d(t,e))};return c}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[],r=function(){function t(t,e){Object.defineProperties(this,{rpcSession:{value:t,writable:true},application:{value:e,writable:true}})}t.prototype.isEngineOnlySession=function(){return void 0===this.application};t.prototype.isConnected=function(){return void 0!==this.rpcSession};t.prototype.closeSession=function(){this.isConnected()&&this.rpcSession.close();this.rpcSession=void 0;this.application=void 0};t.prototype.getUrl=function(){if(this.isConnected())return this.rpcSession.socket.url};return t}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e,n){"use strict";var i,r;!(i=[n(47)],r=function(t){function e(e,n,i,r,o){Object.defineProperties(this,{id:{value:t.generateId()},name:{value:i,writable:true},request:{value:e},startTime:{value:n},response:{value:{},writable:true},endTime:{value:void 0,writable:true},elapsed:{get:function t(){return this.endTime-this.startTime}},application:{value:r},url:{value:o}})}return e}.apply(e,i),void 0!==r&&(t.exports=r))},function(t){t.exports='{\n\t"GetAppList": {\n\t\t"description": "Get applist",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "GETAPPLIST",\n\t\t\t\t"handle": "-1",\n\t\t\t\t"method": "GetDocList",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t},\n\t"ListSheets": {\n\t\t"description": "List sheets",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "SHEETLIST",\n\t\t\t\t"method": "CreateSessionObject",\n\t\t\t\t"handle": "${dochandle}",\n\t\t\t\t"params": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qInfo": {\n\t\t\t\t\t\t\t"qType": "SheetList"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qAppObjectListDef": {\n\t\t\t\t\t\t\t"qType": "sheet",\n\t\t\t\t\t\t\t"qData": {\n\t\t\t\t\t\t\t\t"title": "/qMetaDef/title",\n\t\t\t\t\t\t\t\t"description": "/qMetaDef/description",\n\t\t\t\t\t\t\t\t"thumbnail": "/thumbnail",\n\t\t\t\t\t\t\t\t"cells": "/cells",\n\t\t\t\t\t\t\t\t"rank": "/rank",\n\t\t\t\t\t\t\t\t"columns": "/columns",\n\t\t\t\t\t\t\t\t"rows": "/rows"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t"method": "GetLayout",\n\t\t\t\t"handle": "${SHEETLIST.result.qReturn.qHandle}",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t},\n\t"ListDimensions": {\n\t\t"description": "List dimensions",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "DIMENSIONLIST",\n\t\t\t\t"method": "CreateSessionObject",\n\t\t\t\t"handle": "${dochandle}",\n\t\t\t\t"params": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qInfo": {\n\t\t\t\t\t\t\t"qType": "DimensionList"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qDimensionListDef": {\n\t\t\t\t\t\t\t"qType": "dimension",\n\t\t\t\t\t\t\t"qData": {\n\t\t\t\t\t\t\t\t"title": "/title",\n\t\t\t\t\t\t\t\t"tags": "/tags",\n\t\t\t\t\t\t\t\t"grouping": "/qDim/qGrouping",\n\t\t\t\t\t\t\t\t"info": "/qDimInfos"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t"method": "GetLayout",\n\t\t\t\t"handle": "${DIMENSIONLIST.result.qReturn.qHandle}",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t},\n\t"ListMeasures": {\n\t\t"description": "List measures",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "MEASURELIST",\n\t\t\t\t"method": "CreateSessionObject",\n\t\t\t\t"handle": "${dochandle}",\n\t\t\t\t"params": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qInfo": {\n\t\t\t\t\t\t\t"qType": "MeasureList"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qMeasureListDef": {\n\t\t\t\t\t\t\t"qType": "measure",\n\t\t\t\t\t\t\t"qData": {\n\t\t\t\t\t\t\t\t"title": "/title",\n\t\t\t\t\t\t\t\t"tags": "/tags"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t"method": "GetLayout",\n\t\t\t\t"handle": "${MEASURELIST.result.qReturn.qHandle}",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t},\n\t"ListFields": {\n\t\t"description": "List fields",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "FIELDLIST",\n\t\t\t\t"method": "CreateSessionObject",\n\t\t\t\t"handle": "${dochandle}",\n\t\t\t\t"params": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qInfo": {\n\t\t\t\t\t\t\t"qType": "FieldList"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qFieldListDef": {\n\t\t\t\t\t\t\t"qShowSystem": true,\n\t\t\t\t\t\t\t"qShowHidden": true,\n\t\t\t\t\t\t\t"qShowDerivedFields": true,\n\t\t\t\t\t\t\t"qShowSemantic": true,\n\t\t\t\t\t\t\t"qShowSrcTables": true,\n\t\t\t\t\t\t\t"qShowImplicit": true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t"method": "GetLayout",\n\t\t\t\t"handle": "${FIELDLIST.result.qReturn.qHandle}",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t},\n\t"ListVariables": {\n\t\t"description": "List variables",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "VARIABLELIST",\n\t\t\t\t"method": "CreateSessionObject",\n\t\t\t\t"handle": "${dochandle}",\n\t\t\t\t"params": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qInfo": {\n\t\t\t\t\t\t\t"qType": "VariableList"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qVariableListDef": {\n\t\t\t\t\t\t\t"qType": "variable",\n\t\t\t\t\t\t\t"qShowReserved": true,\n\t\t\t\t\t\t\t"qShowConfig": true,\n\t\t\t\t\t\t\t"qData": {\n\t\t\t\t\t\t\t\t"tags": "/tags"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t"method": "GetLayout",\n\t\t\t\t"handle": "${VARIABLELIST.result.qReturn.qHandle}",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t},\n\t"ListSelections": {\n\t\t"description": "List selections",\n\t\t"chain": [\n\t\t\t{\n\t\t\t\t"name": "CS",\n\t\t\t\t"method": "CreateSessionObject",\n\t\t\t\t"handle": "${dochandle}",\n\t\t\t\t"params": [\n\t\t\t\t\t{\n\t\t\t\t\t\t"qInfo": {\n\t\t\t\t\t\t\t"qType": "CurrentSelection"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"qSelectionObjectDef": {\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t"method": "GetLayout",\n\t\t\t\t"handle": "${CS.result.qReturn.qHandle}",\n\t\t\t\t"params": []\n\t\t\t}\n\t\t]\n\t}\n}\n'},function(t,e){t.exports='<qw-dev-hub-stage class="engine-explorer">\n\n\t<qw-alert closable="true" ng-if="showAlert" close="closeAlert($index)">\n\t\t<div class="msg-note"><span q-translation="Devhub.Note"></span>:</div>\n\t\t<div class="msg"><span q-translation="Devhub.AlertEngineAPIExplorer"></span></div>\n\t</qw-alert>\n\n\t<div class="engine-explorer-wrapper flex-column">\n\t\t<div class="panel-wrapper">\n\t\t\t<div class="connect-panel">\n\t\t\t\t<span class="connect-header" q-translation="Devhub.Connect"></span>\n\n\t\t\t\t<div class="button-wrapper">\n\t\t\t\t\t<lui-button x-variant="inverse"\n\t\t\t\t\t\t\t\tclass="button connect-engine"\n\t\t\t\t\t\t\t\tng-disabled="state.session.isConnected()"\n\t\t\t\t\t\t\t\tng-click="connectToEngine(true)"\n\t\t\t\t\t\t\t\tq-translation="Devhub.ConnectToEngine">\n\t\t\t\t\t</lui-button>\n\t\t\t\t</div>\n\t\t\t\t<lui-select x-variant="inverse" class="select-app" x-model="model.selectedApplication"\n\t\t\t\t\t\t\tx-disabled="!state.session.isConnected()"\n\t\t\t\t\t\t\tx-change="connectToApplication(model.selectedApplication)">\n\t\t\t\t\t<option disabled class="default-option" q-translation="Devhub.NoAppSelected"></option>\n\t\t\t\t\t<option ng-repeat="obj in applicationList | orderBy:\'qTitle\'" value="{{obj.qDocId}}">{{obj.qTitle}}</option>\n\t\t\t\t</lui-select>\n\t\t\t\t<span class="line"></span>\n\n\t\t\t\t<div class="button-wrapper">\n\t\t\t\t\t<lui-button x-variant="inverse"\n\t\t\t\t\t\t\t\tclass="button connect-engine"\n\t\t\t\t\t\t\t\tng-click="model.selectedApplication=undefined; disconnectApp(state.session)"\n\t\t\t\t\t\t\t\tng-disabled="state.session==undefined || state.session.isEngineOnlySession()"\n\t\t\t\t\t\t\t\tq-translation="Devhub.DisconnectApp">\n\t\t\t\t\t</lui-button>\n\t\t\t\t</div>\n\t\t\t\t<div class="msg-wrapper">\n\t\t\t\t\t<span class="message">{{getEngineMessage(state.session)}}</span><br>\n\t\t\t\t\t<span class="message">{{getApplicationMessage(state.session)}}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="panel-wrapper">\n\t\t\t<div class="flex-row">\n\t\t\t\t<div class="calls-panel">\n\t\t\t\t\t<div class="table-wrapper">\n\t\t\t\t\t\t<span class="header" q-translation="Devhub.SelectAPICalls"></span><br>\n\t\t\t\t\t\t<table class="impact-table">\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th q-translation="Devhub.Object"></th>\n\t\t\t\t\t\t\t\t\t<th q-translation="Devhub.Handle"></th>\n\t\t\t\t\t\t\t\t\t<th q-translation="Devhub.State"></th>\n\t\t\t\t\t\t\t\t\t<th q-translation="Devhub.Methods"></th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t<tbody class="tbody-impact">\n\t\t\t\t\t\t\t\t<tr ng-repeat="obj in handles track by $index">\n\t\t\t\t\t\t\t\t\t<td><span>{{obj.name}}</span></td>\n\t\t\t\t\t\t\t\t\t<td><span>{{obj.handle}}</span></td>\n\t\t\t\t\t\t\t\t\t<td><span>{{obj.state}}</span></td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<lui-select class="action-select" x-variant="inverse" x-model="mode.selectedAction"\n\t\t\t\t\t\t\t\t\t\t\t\t\tx-change="onActionSelected(mode.selectedAction)">\n\t\t\t\t\t\t\t\t\t\t\t<option disabled class="default-option" q-translation="Devhub.SelectMethod"></option>\n\t\t\t\t\t\t\t\t\t\t\t<option ng-repeat="key in keys(obj.methods) | orderBy:key" value="{{obj.handle+\'/\'+key}}/">{{key}}</option>\n\t\t\t\t\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr ng-show="!state.session.isConnected()">\n\t\t\t\t\t\t\t\t\t<td class="no-objects" colspan="4">\n\t\t\t\t\t\t\t\t\t\t<span q-translation="Devhub.NoObjects"></span>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="flex-column">\n\t\t\t\t\t\t<div class="macros">\n\t\t\t\t\t\t\t<span class="header" q-translation="Devhub.Macros"></span><br>\n\t\t\t\t\t\t\t<lui-select class="object-select" x-variant="inverse" x-model="state.selectedMacro"\n\t\t\t\t\t\t\t\t\t\tx-change="onMacroSelected(state.selectedMacro)"\n\t\t\t\t\t\t\t\t\t\tx-disabled="!state.session.isConnected()"\n\t\t\t\t\t\t\t\t\t\tng-class="{\'animation\': onInterationEffect === \'MacrosChanged\'}">\n\t\t\t\t\t\t\t\t<option disabled class="default-option" q-translation="Devhub.SelectMacro"></option>\n\t\t\t\t\t\t\t\t<option ng-repeat="obj in state.macros | orderBy: \'description\' " value="{{obj.key}}">{{obj.description}}</option>\n\t\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="discovered-objects">\n\t\t\t\t\t\t\t<span class="header" q-translation="Devhub.DiscoveredObjects"></span><br>\n\t\t\t\t\t\t\t<lui-select class="object-select" x-variant="inverse" x-model="model.discoveredObject"\n\t\t\t\t\t\t\t\t\t\tx-change="onDiscoveredObjectSelected(model.discoveredObject)"\n\t\t\t\t\t\t\t\t\t\tx-disabled="!hasDiscoveredObjects()"\n\t\t\t\t\t\t\t\t\t\tng-class="{\'animation\': onInterationEffect === \'DiscoveredObjectsChanged\'}">\n\t\t\t\t\t\t\t\t<option disabled class="default-option" q-translation="Devhub.SelectObject"></option>\n\t\t\t\t\t\t\t\t<option ng-repeat="obj in allObjects | orderBy: [\'type\', \'id\']" ng-if="obj.handle === 0" value="{{obj.type}}/{{obj.id}}">{{obj.name}}</option>\n\t\t\t\t\t\t\t</lui-select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t\t<div class="request-panel">\n\t\t\t\t\t<div class="editor-container">\n\t\t\t\t\t\t<qw-editor class="editor" editor-config-provider="editorConfigProvider" editor-id="commandEditor" editors="editors"></qw-editor>\n\t\t\t\t\t\t<qw-blocking-overlay ng-if="!state.session.isConnected()" msg="{{ \'Devhub.CommandExecuteNotPossible\' | translate }}"></qw-blocking-overlay>\n\t\t\t\t\t</div>\n\t\t\t\t\t<lui-button x-variant="inverse" class="button execute" ng-click="model.discoveredObject=undefined; executeCommand(editors.commandEditor.codeMirror.getValue());"\n\t\t\t\t\t\t\t\tng-disabled="!state.session.isConnected() || !hasExecutableCommand()" q-translation="Devhub.Execute"></lui-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="log-background">\n\t\t\t\x3c!-- log view title bar --\x3e\n\t\t\t<div class="log-header-wrapper">\n\t\t\t\t<span class="log-header" q-translation="Devhub.ExecutionLog"></span>\n\n\t\t\t\t<div class="search-box">\n\t\t\t\t\t<lui-search x-query="query" x-placeholder="Devhub.Search" x-on-escape="query = \'\';"></lui-search>\n\t\t\t\t</div>\n\t\t\t\t<lui-button x-variant="inverse" ng-disabled="state.transactions.length===0" class="button clear" ng-click="clearLog()" q-translation="Devhub.ClearLog"></lui-button>\n\t\t\t\t<lui-button class="button clear collapse" ng-click="collapseAll(state.transactions)" q-translation="Devhub.CollapseAll" ng-disabled="!hasExpanded(state.transactions)"></lui-button>\n\t\t\t</div>\n\t\t\t<div class="list-wrapper">\n\t\t\t\t<div class="expandable-header" ng-repeat="transaction in state.transactions  | filter:{name : query}">\n\t\t\t\t\t<div class="title-wrapper" ng-click="toggleExpand(transaction.id)">\n\t\t\t\t\t\t<div class="wrapper-icon">\n\t\t\t\t\t\t\t<span class="lui-icon  lui-icon--triangle-right arrow-icon" ng-class="transaction.expanded ? \'lui-icon--triangle-bottom\' : \'lui-icon--triangle-right\'"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="request-title" qve-highlight text="{{logTitle(transaction)}}" query="query"></span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="wrapper" ng-show="transaction.expanded">\n\t\t\t\t\t\t<div class="info-wrapper">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="bold-text" q-translation="Devhub.UrlLabel"></span>:\n\t\t\t\t\t\t\t\t\t<input onClick="this.select();" class="url-input" value="{{transaction.url}}">\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li ng-if="transaction.application">\n\t\t\t\t\t\t\t\t\t<span class="bold-text" q-translation="Devhub.App"></span>: {{transaction.application.qDocName}}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<span class="bold-text" q-translation="Devhub.Elapsed"></span>: {{transaction.elapsed}}\n\t\t\t\t\t\t\t\t\t<span q-translation="Devhub.MS"></span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<table class="request-table">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr class="table-content">\n\t\t\t\t\t\t\t\t<td class="cl-request" ng-class="{\'maximized\': editors[transaction.id+\'_request\'].toolbarConfig.maximized}">\n\t\t\t\t\t\t\t\t\t<qw-editor class="editor" editor-config-provider="editorConfigProvider" editor-id="{{(transaction.id+\'_request\')}}" editors="editors"></qw-editor>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class="cl-response" ng-class="{\'maximized\': editors[transaction.id+\'_response\'].toolbarConfig.maximized}">\n\t\t\t\t\t\t\t\t\t<qw-editor class="editor" editor-config-provider="editorConfigProvider" editor-id="{{(transaction.id+\'_response\')}}" editors="editors"></qw-editor>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="no-logs" ng-show="!state.session.isConnected()">\n\t\t\t\t\t<span q-translation="Devhub.NotConnected"></span><br>\n\t\t\t\t\t<span class="lui-icon  lui-icon--disconnect disconnected-icon"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</qw-dev-hub-stage>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(41),n(687)],r=function(t,e){var n,i,r=false;function o(o){if(r)return;r=true;i=o.scope.$new();i.mode=o.mode;i.message=o.message;i.button=o.button||false;n=t.getService("$compile")(e)(i).appendTo("body");t.$apply(i);i.$on("$destroy",s)}function s(){if(!r)return;n&&n.length&&n.remove();r=false;i.$destroy();i=null;n=null}t.service("qvSizeNotSupported",[function(){return{show:o,close:s,isOpen:function t(){return r}}}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="qv-block-ui qv-size-warning">\n\t<div class="w-msg">\n\t\t{{message | translate}}\n\t</div>\n\n\t<button class="lui-overlay-button"\n\t\tng-if="button"\n\t\tng-click="button.callback()">\n\t\t{{button.name | translate}}\n\t</button>\n</div>\n'},function(t,e,n){"use strict";var i,r;!(i=[n(44),n(45),n(41),n(689),n(48)],r=function(t,e,n,i){var r=window.angular,o={"max-height":"90%","max-width":"90%","min-height":"180px",width:"400px"},s,a=false,l=false;n.directive("qvDelayedDialogButton",function(){return{replace:true,restrict:"A",link:function t(e){e.button&&e.button.defaultEscButton&&(s=e);e.closeModal=function(t,n){if(t){t.preventDefault();t.stopPropagation()}e.button&&e.button.callback&&("undefined"===typeof e.button.expression||e.button.expression)&&e.button.callback();(n||e.autoClose||e.button&&!e.button.callback)&&e.destroyModal();return}}}});n.service("$delayedModal",["$compile","$rootScope","$document",function(n,c,u){var d={},p,f,h,v,g=i,m;var b={open:function t(i){var b=new e,y;if(p){f=p;v=h}p=c.$new();h=r.element('<div class="qv-modal-container qui-modalbackground-centered" qva-outside-ignore-for="allOutside" ng-style="containerStyle" ng-class="classes"></div>');p.containerStyle={content:" "};p.classes={};p.modalStyle={};for(var x in o)p.modalStyle[x]=o[x];p.wasDisabled=[];p.showDefaultButton=true;a=true;l=false;d=i;p.failed=false;p.autoClose=true;for(x in d)p[x]=d[x];h.html(g).appendTo(u.find("body"));p.html&&h.find("main").append(p.html);y=p.$watch("element",function(){b.resolve();y()});m=n(h)(p);p.destroyModal=this.close.bind(this);p.handleEscButton=function(t){if(t){t.preventDefault();t.stopPropagation()}p.buttons&&s?s&&s.closeModal():p.destroyModal()};p.$broadcast("delayed-modal-opened");p.$watchCollection("[width, height]",function(){p.width&&(p.modalStyle.width=p.width);p.height&&(p.modalStyle.height=p.height)});return b.promise},update:function t(e){if(!a)return;for(var i in e){p[i]=e[i];d[i]=e[i]}if(e.html||e.buttons){h.html(g);h.find("main").html(e.html);u.find("body").find(".qui-delayedModal").replaceWith(h.html());m=n(h)(p)}},close:function t(){if(p&&h){p.$broadcast("delayed-modal-closed");h.remove();p.$destroy();p=f||null;h=v||null;f=v=null}a=false;l=false},lock:function e(){l=true;p.wasDisabled.length=0;m.find("button, input, textarea, select").each(function(){var e=t(this);e.prop("disabled")?p.wasDisabled.push(this):e.prop("disabled",true)})},unlock:function e(){l=false;m.find("button, input, textarea, select").each(function(){-1===p.wasDisabled.indexOf(this)&&t(this).prop("disabled",false)});p.wasDisabled.length=0}};Object.defineProperty(b,"isOpened",{get:function t(){return a}});Object.defineProperty(b,"isLocked",{get:function t(){return l}});Object.defineProperty(b,"scope",{get:function t(){return p}});return b}])}.apply(e,i),void 0!==r&&(t.exports=r))},function(t,e){t.exports='<div class="lui-dialog error-dialog" on-close-view="closeView( $event )" qv-escape="handleEscButton( $event )" ng-style="modalStyle" tid="errorDialog">\n\t<div class="lui-dialog__header">\n\t\t<div class="lui-dialog__title" ng-if="title" q-translation="{{title}}"></div>\n\t</div>\n\t<div class="lui-dialog__body dm-main">\n\n\t\t<main ng-if="!html">{{content | translate}}</main>\n\t\t<main ng-if="html" class="qv-appname"></main>\n\n\t</div>\n\n\t<div class="lui-dialog__footer">\n\t\t<lui-button qv-delayed-dialog-button ng-if="!buttons.length && showDefaultButton" ng-click="closeModal( $event, true );" qva-focus="true"\n\t\t\t\t\tq-translation="Common.OK" tid="confirm"></lui-button>\n\t\t<lui-button qv-delayed-dialog-button ng-repeat="button in buttons" qva-focus="button.defaultButton" ng-click="closeModal( $event );" ng-disabled="button.expression === false"\n\t\t\t\t\tq-translation="{{button.name}}" tid="{{button.tid}}"></lui-button>\n\t</div>\n</div>'}])]);